!function (t, e) {
"object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.Pathbuilder2eDarkMode = e() : t.Pathbuilder2eDarkMode = e() }(this, (function () { return function (t) { var e = {}; function i(a) { if (e[a]) return e[a].exports; var r = e[a] = { i: a, l: !1, exports: {} }; return t[a].call(r.exports, r, r.exports, i), r.l = !0, r.exports } return i.m = t, i.c = e, i.d = function (t, e, a) { i.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: a }) }, i.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, i.t = function (t, e) { if (1 & e && (t = i(t)), 8 & e) return t; if (4 & e && "object" == typeof t && t && t.__esModule) return t; var a = Object.create(null); if (i.r(a), Object.defineProperty(a, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t) for (var r in t) i.d(a, r, function (e) { return t[e] }.bind(null, r)); return a }, i.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return i.d(e, "a", e), e }, i.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, i.p = "", i(i.s = 2) }([function (t, e, i) { (function (i) { var a, r, n; r = [e], void 0 === (n = "function" == typeof (a = function (t) { var e, a, r, n, o, s, l, c = t; function p(t) { if (!("kotlinHashCodeValue$" in t)) { var e = 4294967296 * Math.random() | 0; Object.defineProperty(t, "kotlinHashCodeValue$", { value: e, enumerable: !1 }) } return t.kotlinHashCodeValue$ } function h() { throw new Error("This marker function should never been called. Looks like compiler did not eliminate it properly. Please, report an issue if you caught this exception.") } function d(t, e) { return (4294901760 & t) * (65535 & e) + (65535 & t) * (0 | e) | 0 } t.isBooleanArray = function (t) { return (Array.isArray(t) || t instanceof Int8Array) && "BooleanArray" === t.$type$ }, t.isByteArray = function (t) { return t instanceof Int8Array && "BooleanArray" !== t.$type$ }, t.isShortArray = function (t) { return t instanceof Int16Array }, t.isCharArray = function (t) { return t instanceof Uint16Array && "CharArray" === t.$type$ }, t.isIntArray = function (t) { return t instanceof Int32Array }, t.isFloatArray = function (t) { return t instanceof Float32Array }, t.isDoubleArray = function (t) { return t instanceof Float64Array }, t.isLongArray = function (t) { return Array.isArray(t) && "LongArray" === t.$type$ }, t.isArray = function (t) { return Array.isArray(t) && !t.$type$ }, t.isArrayish = function (t) { return Array.isArray(t) || ArrayBuffer.isView(t) }, t.arrayToString = function (e) { if (null === e) return "null"; var i = t.isCharArray(e) ? String.fromCharCode : t.toString; return "[" + Array.prototype.map.call(e, (function (t) { return i(t) })).join(", ") + "]" }, t.arrayEquals = function (e, i) { if (e === i) return !0; if (null === e || null === i || !t.isArrayish(i) || e.length !== i.length) return !1; for (var a = 0, r = e.length; a < r; a++)if (!t.equals(e[a], i[a])) return !1; return !0 }, t.arrayHashCode = function (e) { if (null === e) return 0; for (var i = 1, a = 0, r = e.length; a < r; a++)i = (31 * i | 0) + t.hashCode(e[a]) | 0; return i }, t.getCallableRef = function (t, e) { return e.callableName = t, e }, t.toShort = function (t) { return (65535 & t) << 16 >> 16 }, t.toByte = function (t) { return (255 & t) << 24 >> 24 }, t.toChar = function (t) { return 65535 & t }, t.numberToInt = function (e) { return e instanceof t.Long ? e.toInt() : t.doubleToInt(e) }, t.doubleToInt = function (t) { return t > 2147483647 ? 2147483647 : t < -2147483648 ? -2147483648 : 0 | t }, t.toBoxedChar = function (e) { return null == e || e instanceof t.BoxedChar ? e : new t.BoxedChar(e) }, t.unboxChar = function (e) { return null == e ? e : t.toChar(e) }, t.equals = function (t, e) { return null == t ? null == e : null != e && (t != t ? e != e : "object" == typeof t && "function" == typeof t.equals ? t.equals(e) : "number" == typeof t && "number" == typeof e ? t === e && (0 !== t || 1 / t == 1 / e) : t === e) }, t.hashCode = function (e) { if (null == e) return 0; var i = typeof e; return "object" === i ? "function" == typeof e.hashCode ? e.hashCode() : p(e) : "function" === i ? p(e) : "number" === i ? t.numberHashCode(e) : "boolean" === i ? Number(e) : function (t) { for (var e = 0, i = 0; i < t.length; i++) { var a = t.charCodeAt(i); e = 31 * e + a | 0 } return e }(String(e)) }, t.toString = function (e) { return null == e ? "null" : t.isArrayish(e) ? "[...]" : e.toString() }, t.identityHashCode = p, t.Long = function (t, e) { this.low_ = 0 | t, this.high_ = 0 | e }, t.Long.$metadata$ = { kind: "class", simpleName: "Long", interfaces: [] }, t.Long.IntCache_ = {}, t.Long.fromInt = function (e) { if (-128 <= e && e < 128) { var i = t.Long.IntCache_[e]; if (i) return i } var a = new t.Long(0 | e, e < 0 ? -1 : 0); return -128 <= e && e < 128 && (t.Long.IntCache_[e] = a), a }, t.Long.fromNumber = function (e) { return isNaN(e) ? t.Long.ZERO : e <= -t.Long.TWO_PWR_63_DBL_ ? t.Long.MIN_VALUE : e + 1 >= t.Long.TWO_PWR_63_DBL_ ? t.Long.MAX_VALUE : e < 0 ? t.Long.fromNumber(-e).negate() : new t.Long(e % t.Long.TWO_PWR_32_DBL_ | 0, e / t.Long.TWO_PWR_32_DBL_ | 0) }, t.Long.fromBits = function (e, i) { return new t.Long(e, i) }, t.Long.fromString = function (e, i) { if (0 == e.length) throw Error("number format error: empty string"); var a = i || 10; if (a < 2 || 36 < a) throw Error("radix out of range: " + a); if ("-" == e.charAt(0)) return t.Long.fromString(e.substring(1), a).negate(); if (e.indexOf("-") >= 0) throw Error('number format error: interior "-" character: ' + e); for (var r = t.Long.fromNumber(Math.pow(a, 8)), n = t.Long.ZERO, o = 0; o < e.length; o += 8) { var s = Math.min(8, e.length - o), l = parseInt(e.substring(o, o + s), a); if (s < 8) { var c = t.Long.fromNumber(Math.pow(a, s)); n = n.multiply(c).add(t.Long.fromNumber(l)) } else n = (n = n.multiply(r)).add(t.Long.fromNumber(l)) } return n }, t.Long.TWO_PWR_16_DBL_ = 65536, t.Long.TWO_PWR_24_DBL_ = 1 << 24, t.Long.TWO_PWR_32_DBL_ = t.Long.TWO_PWR_16_DBL_ * t.Long.TWO_PWR_16_DBL_, t.Long.TWO_PWR_31_DBL_ = t.Long.TWO_PWR_32_DBL_ / 2, t.Long.TWO_PWR_48_DBL_ = t.Long.TWO_PWR_32_DBL_ * t.Long.TWO_PWR_16_DBL_, t.Long.TWO_PWR_64_DBL_ = t.Long.TWO_PWR_32_DBL_ * t.Long.TWO_PWR_32_DBL_, t.Long.TWO_PWR_63_DBL_ = t.Long.TWO_PWR_64_DBL_ / 2, t.Long.ZERO = t.Long.fromInt(0), t.Long.ONE = t.Long.fromInt(1), t.Long.NEG_ONE = t.Long.fromInt(-1), t.Long.MAX_VALUE = t.Long.fromBits(-1, 2147483647), t.Long.MIN_VALUE = t.Long.fromBits(0, -2147483648), t.Long.TWO_PWR_24_ = t.Long.fromInt(1 << 24), t.Long.prototype.toInt = function () { return this.low_ }, t.Long.prototype.toNumber = function () { return this.high_ * t.Long.TWO_PWR_32_DBL_ + this.getLowBitsUnsigned() }, t.Long.prototype.hashCode = function () { return this.high_ ^ this.low_ }, t.Long.prototype.toString = function (e) { var i = e || 10; if (i < 2 || 36 < i) throw Error("radix out of range: " + i); if (this.isZero()) return "0"; if (this.isNegative()) { if (this.equalsLong(t.Long.MIN_VALUE)) { var a = t.Long.fromNumber(i), r = this.div(a), n = r.multiply(a).subtract(this); return r.toString(i) + n.toInt().toString(i) } return "-" + this.negate().toString(i) } for (var o = t.Long.fromNumber(Math.pow(i, 6)), s = (n = this, ""); ;) { var l = n.div(o), c = n.subtract(l.multiply(o)).toInt().toString(i); if ((n = l).isZero()) return c + s; for (; c.length < 6;)c = "0" + c; s = "" + c + s } }, t.Long.prototype.getHighBits = function () { return this.high_ }, t.Long.prototype.getLowBits = function () { return this.low_ }, t.Long.prototype.getLowBitsUnsigned = function () { return this.low_ >= 0 ? this.low_ : t.Long.TWO_PWR_32_DBL_ + this.low_ }, t.Long.prototype.getNumBitsAbs = function () { if (this.isNegative()) return this.equalsLong(t.Long.MIN_VALUE) ? 64 : this.negate().getNumBitsAbs(); for (var e = 0 != this.high_ ? this.high_ : this.low_, i = 31; i > 0 && 0 == (e & 1 << i); i--); return 0 != this.high_ ? i + 33 : i + 1 }, t.Long.prototype.isZero = function () { return 0 == this.high_ && 0 == this.low_ }, t.Long.prototype.isNegative = function () { return this.high_ < 0 }, t.Long.prototype.isOdd = function () { return 1 == (1 & this.low_) }, t.Long.prototype.equalsLong = function (t) { return this.high_ == t.high_ && this.low_ == t.low_ }, t.Long.prototype.notEqualsLong = function (t) { return this.high_ != t.high_ || this.low_ != t.low_ }, t.Long.prototype.lessThan = function (t) { return this.compare(t) < 0 }, t.Long.prototype.lessThanOrEqual = function (t) { return this.compare(t) <= 0 }, t.Long.prototype.greaterThan = function (t) { return this.compare(t) > 0 }, t.Long.prototype.greaterThanOrEqual = function (t) { return this.compare(t) >= 0 }, t.Long.prototype.compare = function (t) { if (this.equalsLong(t)) return 0; var e = this.isNegative(), i = t.isNegative(); return e && !i ? -1 : !e && i ? 1 : this.subtract(t).isNegative() ? -1 : 1 }, t.Long.prototype.negate = function () { return this.equalsLong(t.Long.MIN_VALUE) ? t.Long.MIN_VALUE : this.not().add(t.Long.ONE) }, t.Long.prototype.add = function (e) { var i = this.high_ >>> 16, a = 65535 & this.high_, r = this.low_ >>> 16, n = 65535 & this.low_, o = e.high_ >>> 16, s = 65535 & e.high_, l = e.low_ >>> 16, c = 0, p = 0, h = 0, d = 0; return h += (d += n + (65535 & e.low_)) >>> 16, d &= 65535, p += (h += r + l) >>> 16, h &= 65535, c += (p += a + s) >>> 16, p &= 65535, c += i + o, c &= 65535, t.Long.fromBits(h << 16 | d, c << 16 | p) }, t.Long.prototype.subtract = function (t) { return this.add(t.negate()) }, t.Long.prototype.multiply = function (e) { if (this.isZero()) return t.Long.ZERO; if (e.isZero()) return t.Long.ZERO; if (this.equalsLong(t.Long.MIN_VALUE)) return e.isOdd() ? t.Long.MIN_VALUE : t.Long.ZERO; if (e.equalsLong(t.Long.MIN_VALUE)) return this.isOdd() ? t.Long.MIN_VALUE : t.Long.ZERO; if (this.isNegative()) return e.isNegative() ? this.negate().multiply(e.negate()) : this.negate().multiply(e).negate(); if (e.isNegative()) return this.multiply(e.negate()).negate(); if (this.lessThan(t.Long.TWO_PWR_24_) && e.lessThan(t.Long.TWO_PWR_24_)) return t.Long.fromNumber(this.toNumber() * e.toNumber()); var i = this.high_ >>> 16, a = 65535 & this.high_, r = this.low_ >>> 16, n = 65535 & this.low_, o = e.high_ >>> 16, s = 65535 & e.high_, l = e.low_ >>> 16, c = 65535 & e.low_, p = 0, h = 0, d = 0, u = 0; return d += (u += n * c) >>> 16, u &= 65535, h += (d += r * c) >>> 16, d &= 65535, h += (d += n * l) >>> 16, d &= 65535, p += (h += a * c) >>> 16, h &= 65535, p += (h += r * l) >>> 16, h &= 65535, p += (h += n * s) >>> 16, h &= 65535, p += i * c + a * l + r * s + n * o, p &= 65535, t.Long.fromBits(d << 16 | u, p << 16 | h) }, t.Long.prototype.div = function (e) { if (e.isZero()) throw Error("division by zero"); if (this.isZero()) return t.Long.ZERO; if (this.equalsLong(t.Long.MIN_VALUE)) { if (e.equalsLong(t.Long.ONE) || e.equalsLong(t.Long.NEG_ONE)) return t.Long.MIN_VALUE; if (e.equalsLong(t.Long.MIN_VALUE)) return t.Long.ONE; if ((r = this.shiftRight(1).div(e).shiftLeft(1)).equalsLong(t.Long.ZERO)) return e.isNegative() ? t.Long.ONE : t.Long.NEG_ONE; var i = this.subtract(e.multiply(r)); return r.add(i.div(e)) } if (e.equalsLong(t.Long.MIN_VALUE)) return t.Long.ZERO; if (this.isNegative()) return e.isNegative() ? this.negate().div(e.negate()) : this.negate().div(e).negate(); if (e.isNegative()) return this.div(e.negate()).negate(); var a = t.Long.ZERO; for (i = this; i.greaterThanOrEqual(e);) { for (var r = Math.max(1, Math.floor(i.toNumber() / e.toNumber())), n = Math.ceil(Math.log(r) / Math.LN2), o = n <= 48 ? 1 : Math.pow(2, n - 48), s = t.Long.fromNumber(r), l = s.multiply(e); l.isNegative() || l.greaterThan(i);)r -= o, l = (s = t.Long.fromNumber(r)).multiply(e); s.isZero() && (s = t.Long.ONE), a = a.add(s), i = i.subtract(l) } return a }, t.Long.prototype.modulo = function (t) { return this.subtract(this.div(t).multiply(t)) }, t.Long.prototype.not = function () { return t.Long.fromBits(~this.low_, ~this.high_) }, t.Long.prototype.and = function (e) { return t.Long.fromBits(this.low_ & e.low_, this.high_ & e.high_) }, t.Long.prototype.or = function (e) { return t.Long.fromBits(this.low_ | e.low_, this.high_ | e.high_) }, t.Long.prototype.xor = function (e) { return t.Long.fromBits(this.low_ ^ e.low_, this.high_ ^ e.high_) }, t.Long.prototype.shiftLeft = function (e) { if (0 == (e &= 63)) return this; var i = this.low_; if (e < 32) { var a = this.high_; return t.Long.fromBits(i << e, a << e | i >>> 32 - e) } return t.Long.fromBits(0, i << e - 32) }, t.Long.prototype.shiftRight = function (e) { if (0 == (e &= 63)) return this; var i = this.high_; if (e < 32) { var a = this.low_; return t.Long.fromBits(a >>> e | i << 32 - e, i >> e) } return t.Long.fromBits(i >> e - 32, i >= 0 ? 0 : -1) }, t.Long.prototype.shiftRightUnsigned = function (e) { if (0 == (e &= 63)) return this; var i = this.high_; if (e < 32) { var a = this.low_; return t.Long.fromBits(a >>> e | i << 32 - e, i >>> e) } return 32 == e ? t.Long.fromBits(i, 0) : t.Long.fromBits(i >>> e - 32, 0) }, t.Long.prototype.equals = function (e) { return e instanceof t.Long && this.equalsLong(e) }, t.Long.prototype.compareTo_11rb$ = t.Long.prototype.compare, t.Long.prototype.inc = function () { return this.add(t.Long.ONE) }, t.Long.prototype.dec = function () { return this.add(t.Long.NEG_ONE) }, t.Long.prototype.valueOf = function () { return this.toNumber() }, t.Long.prototype.unaryPlus = function () { return this }, t.Long.prototype.unaryMinus = t.Long.prototype.negate, t.Long.prototype.inv = t.Long.prototype.not, t.Long.prototype.rangeTo = function (e) { return new t.kotlin.ranges.LongRange(this, e) }, t.defineInlineFunction = function (t, e) { return e }, t.wrapFunction = function (t) { var e = function () { return (e = t()).apply(this, arguments) }; return function () { return e.apply(this, arguments) } }, t.suspendCall = function (t) { return t }, t.coroutineResult = function (t) { h() }, t.coroutineReceiver = function (t) { h() }, t.compareTo = function (e, i) { var a = typeof e; return "number" === a ? "number" == typeof i ? t.doubleCompareTo(e, i) : t.primitiveCompareTo(e, i) : "string" === a || "boolean" === a ? t.primitiveCompareTo(e, i) : e.compareTo_11rb$(i) }, t.primitiveCompareTo = function (t, e) { return t < e ? -1 : t > e ? 1 : 0 }, t.doubleCompareTo = function (t, e) { if (t < e) return -1; if (t > e) return 1; if (t === e) { if (0 !== t) return 0; var i = 1 / t; return i === 1 / e ? 0 : i < 0 ? -1 : 1 } return t != t ? e != e ? 0 : 1 : -1 }, t.imul = Math.imul || d, t.imulEmulated = d, e = new ArrayBuffer(8), a = new Float64Array(e), new Float32Array(e), r = new Int32Array(e), n = 0, o = 1, a[0] = -1, 0 !== r[n] && (n = 1, o = 0), t.doubleToRawBits = function (e) { return a[0] = e, t.Long.fromBits(r[n], r[o]) }, t.doubleFromBits = function (t) { return r[n] = t.low_, r[o] = t.high_, a[0] }, t.numberHashCode = function (t) { return (0 | t) === t ? 0 | t : (a[0] = t, (31 * r[o] | 0) + r[n] | 0) }, t.ensureNotNull = function (e) { return null != e ? e : t.throwNPE() }, void 0 === String.prototype.startsWith && Object.defineProperty(String.prototype, "startsWith", { value: function (t, e) { return e = e || 0, this.lastIndexOf(t, e) === e } }), void 0 === String.prototype.endsWith && Object.defineProperty(String.prototype, "endsWith", { value: function (t, e) { var i = this.toString(); (void 0 === e || e > i.length) && (e = i.length), e -= t.length; var a = i.indexOf(t, e); return -1 !== a && a === e } }), void 0 === Math.sign && (Math.sign = function (t) { return 0 == (t = +t) || isNaN(t) ? Number(t) : t > 0 ? 1 : -1 }), void 0 === Math.trunc && (Math.trunc = function (t) { return isNaN(t) ? NaN : t > 0 ? Math.floor(t) : Math.ceil(t) }), function () { var t = Math.sqrt(2220446049250313e-31), e = Math.sqrt(t), i = 1 / t, a = 1 / e; if (void 0 === Math.sinh && (Math.sinh = function (i) { if (Math.abs(i) < e) { var a = i; return Math.abs(i) > t && (a += i * i * i / 6), a } var r = Math.exp(i), n = 1 / r; return isFinite(r) ? isFinite(n) ? (r - n) / 2 : -Math.exp(-i - Math.LN2) : Math.exp(i - Math.LN2) }), void 0 === Math.cosh && (Math.cosh = function (t) { var e = Math.exp(t), i = 1 / e; return isFinite(e) && isFinite(i) ? (e + i) / 2 : Math.exp(Math.abs(t) - Math.LN2) }), void 0 === Math.tanh && (Math.tanh = function (i) { if (Math.abs(i) < e) { var a = i; return Math.abs(i) > t && (a -= i * i * i / 3), a } var r = Math.exp(+i), n = Math.exp(-i); return r === 1 / 0 ? 1 : n === 1 / 0 ? -1 : (r - n) / (r + n) }), void 0 === Math.asinh) { var r = function (n) { if (n >= +e) return n > a ? n > i ? Math.log(n) + Math.LN2 : Math.log(2 * n + 1 / (2 * n)) : Math.log(n + Math.sqrt(n * n + 1)); if (n <= -e) return -r(-n); var o = n; return Math.abs(n) >= t && (o -= n * n * n / 6), o }; Math.asinh = r } void 0 === Math.acosh && (Math.acosh = function (a) { if (a < 1) return NaN; if (a - 1 >= e) return a > i ? Math.log(a) + Math.LN2 : Math.log(a + Math.sqrt(a * a - 1)); var r = Math.sqrt(a - 1), n = r; return r >= t && (n -= r * r * r / 12), Math.sqrt(2) * n }), void 0 === Math.atanh && (Math.atanh = function (i) { if (Math.abs(i) < e) { var a = i; return Math.abs(i) > t && (a += i * i * i / 3), a } return Math.log((1 + i) / (1 - i)) / 2 }), void 0 === Math.log1p && (Math.log1p = function (t) { if (Math.abs(t) < e) { var i = t * t, a = i * t; return -a * t / 4 + a / 3 - i / 2 + t } return Math.log(t + 1) }), void 0 === Math.expm1 && (Math.expm1 = function (t) { if (Math.abs(t) < e) { var i = t * t, a = i * t; return a * t / 24 + a / 6 + i / 2 + t } return Math.exp(t) - 1 }) }(), void 0 === Math.hypot && (Math.hypot = function () { for (var t = 0, e = arguments.length, i = 0; i < e; i++) { if (arguments[i] === 1 / 0 || arguments[i] === -1 / 0) return 1 / 0; t += arguments[i] * arguments[i] } return Math.sqrt(t) }), void 0 === Math.log10 && (Math.log10 = function (t) { return Math.log(t) * Math.LOG10E }), void 0 === Math.log2 && (Math.log2 = function (t) { return Math.log(t) * Math.LOG2E }), void 0 === Math.clz32 && (Math.clz32 = (s = Math.log, l = Math.LN2, function (t) { var e = t >>> 0; return 0 === e ? 32 : 31 - (s(e) / l | 0) | 0 })), void 0 === ArrayBuffer.isView && (ArrayBuffer.isView = function (t) { return null != t && null != t.__proto__ && t.__proto__.__proto__ === Int8Array.prototype.__proto__ }), void 0 === Array.prototype.fill && Object.defineProperty(Array.prototype, "fill", { value: function (t) { if (null == this) throw new TypeError("this is null or not defined"); for (var e = Object(this), i = e.length >>> 0, a = arguments[1], r = a >> 0, n = r < 0 ? Math.max(i + r, 0) : Math.min(r, i), o = arguments[2], s = void 0 === o ? i : o >> 0, l = s < 0 ? Math.max(i + s, 0) : Math.min(s, i); n < l;)e[n] = t, n++; return e } }), function () { function t(t, e) { return t < 0 ? Math.max(0, t + e) : Math.min(t, e) } function e(e, i) { return void 0 === i && (i = this.length), e = t(e || 0, this.length), i = Math.max(e, t(i, this.length)), new this.constructor(this.subarray(e, i)) } for (var i = [Int8Array, Int16Array, Uint16Array, Int32Array, Float32Array, Float64Array], a = 0; a < i.length; ++a)void 0 === (o = i[a]).prototype.fill && Object.defineProperty(o.prototype, "fill", { value: Array.prototype.fill }), void 0 === o.prototype.slice && Object.defineProperty(o.prototype, "slice", { value: e }); try { (function () { }).apply(null, new Int32Array(0)) } catch (t) { var r = Function.prototype.apply; Object.defineProperty(Function.prototype, "apply", { value: function (t, e) { return r.call(this, t, [].slice.call(e)) } }) } for (a = 0; a < i.length; ++a)void 0 === (o = i[a]).prototype.map && Object.defineProperty(o.prototype, "map", { value: function (t, e) { return [].slice.call(this).map(t, e) } }); var n = function (t, e) { if (t < e) return -1; if (t > e) return 1; if (t === e) { if (0 !== t) return 0; var i = 1 / t; return i === 1 / e ? 0 : i < 0 ? -1 : 1 } return t != t ? e != e ? 0 : 1 : -1 }; for (a = 0; a < i.length; ++a) { var o; void 0 === (o = i[a]).prototype.sort && Object.defineProperty(o.prototype, "sort", { value: function (t) { return Array.prototype.sort.call(this, t || n) } }) } }(), t.Kind = { CLASS: "class", INTERFACE: "interface", OBJECT: "object" }, t.isType = function (e, i) { if (i === Object) switch (typeof e) { case "string": case "number": case "boolean": case "function": return !0; default: return e instanceof Object }if (null == e || null == i || "object" != typeof e && "function" != typeof e) return !1; if ("function" == typeof i && e instanceof i) return !0; var a = Object.getPrototypeOf(i), r = null != a ? a.constructor : null; if (null != r && "$metadata$" in r && r.$metadata$.kind === t.Kind.OBJECT) return e === i; var n = i.$metadata$; return null == n ? e instanceof i : n.kind === t.Kind.INTERFACE && null != e.constructor && function t(e, i) { if (e === i) return !0; var a = e.$metadata$; if (null != a) for (var r = a.interfaces, n = 0; n < r.length; n++)if (t(r[n], i)) return !0; var o = null != e.prototype ? Object.getPrototypeOf(e.prototype) : null, s = null != o ? o.constructor : null; return null != s && t(s, i) }(e.constructor, i) }, t.isNumber = function (e) { return "number" == typeof e || e instanceof t.Long }, t.isChar = function (e) { return e instanceof t.BoxedChar }, t.isComparable = function (e) { var i = typeof e; return "string" === i || "boolean" === i || t.isNumber(e) || t.isType(e, t.kotlin.Comparable) }, t.isCharSequence = function (e) { return "string" == typeof e || t.isType(e, t.kotlin.CharSequence) }, function () { "use strict"; var e = t.Kind.INTERFACE, i = t.Kind.OBJECT, a = t.Kind.CLASS, r = (t.defineInlineFunction, t.wrapFunction, t.equals), n = t.Long.ZERO; function o() { } function s() { h(), this.name$ = "", this.ordinal$ = 0 } function l() { p = this } o.$metadata$ = { kind: e, simpleName: "Comparable", interfaces: [] }, Object.defineProperty(s.prototype, "name", { configurable: !0, get: function () { return this.name$ } }), Object.defineProperty(s.prototype, "ordinal", { configurable: !0, get: function () { return this.ordinal$ } }), s.prototype.compareTo_11rb$ = function (e) { return t.primitiveCompareTo(this.ordinal, e.ordinal) }, s.prototype.equals = function (t) { return this === t }, s.prototype.hashCode = function () { return t.identityHashCode(this) }, s.prototype.toString = function () { return this.name }, l.$metadata$ = { kind: i, simpleName: "Companion", interfaces: [] }; var p = null; function h() { return null === p && new l, p } function d(t, e) { var i; i = t.length - 1 | 0; for (var a = 0; a <= i; a++)t[a] = e; return t } function u() { _ = this, this.MIN_VALUE = 5e-324, this.MAX_VALUE = 17976931348623157e292, this.POSITIVE_INFINITY = 1 / 0, this.NEGATIVE_INFINITY = -1 / 0, this.NaN = NaN, this.SIZE_BYTES = 8, this.SIZE_BITS = 64 } s.$metadata$ = { kind: a, simpleName: "Enum", interfaces: [o] }, u.$metadata$ = { kind: i, simpleName: "DoubleCompanionObject", interfaces: [] }; var _ = null; function f() { y = this, this.MIN_VALUE = 14e-46, this.MAX_VALUE = 34028235e31, this.POSITIVE_INFINITY = 1 / 0, this.NEGATIVE_INFINITY = -1 / 0, this.NaN = NaN, this.SIZE_BYTES = 4, this.SIZE_BITS = 32 } f.$metadata$ = { kind: i, simpleName: "FloatCompanionObject", interfaces: [] }; var y = null; function m() { $ = this, this.MIN_VALUE = -2147483648, this.MAX_VALUE = 2147483647, this.SIZE_BYTES = 4, this.SIZE_BITS = 32 } m.$metadata$ = { kind: i, simpleName: "IntCompanionObject", interfaces: [] }; var $ = null; function g() { v = this, this.MIN_VALUE = t.Long.MIN_VALUE, this.MAX_VALUE = t.Long.MAX_VALUE, this.SIZE_BYTES = 8, this.SIZE_BITS = 64 } g.$metadata$ = { kind: i, simpleName: "LongCompanionObject", interfaces: [] }; var v = null; function S() { C = this, this.MIN_VALUE = -32768, this.MAX_VALUE = 32767, this.SIZE_BYTES = 2, this.SIZE_BITS = 16 } S.$metadata$ = { kind: i, simpleName: "ShortCompanionObject", interfaces: [] }; var C = null; function E() { A = this, this.MIN_VALUE = -128, this.MAX_VALUE = 127, this.SIZE_BYTES = 1, this.SIZE_BITS = 8 } E.$metadata$ = { kind: i, simpleName: "ByteCompanionObject", interfaces: [] }; var A = null; function b() { I = this, this.MIN_VALUE = 0, this.MAX_VALUE = 65535, this.MIN_HIGH_SURROGATE = 55296, this.MAX_HIGH_SURROGATE = 56319, this.MIN_LOW_SURROGATE = 56320, this.MAX_LOW_SURROGATE = 57343, this.MIN_SURROGATE = this.MIN_HIGH_SURROGATE, this.MAX_SURROGATE = this.MAX_LOW_SURROGATE, this.SIZE_BYTES = 2, this.SIZE_BITS = 16 } b.$metadata$ = { kind: i, simpleName: "CharCompanionObject", interfaces: [] }; var I = null; function w() { L = this } w.$metadata$ = { kind: i, simpleName: "StringCompanionObject", interfaces: [] }; var L = null; function T() { k = this } T.$metadata$ = { kind: i, simpleName: "BooleanCompanionObject", interfaces: [] }; var k = null, R = c.kotlin || (c.kotlin = {}); R.Comparable = o, Object.defineProperty(s, "Companion", { get: h }), R.Enum = s, c.newArray = function (t, e) { return d(Array(t), e) }, c.booleanArray = function (t, e) { var i, a = Array(t); if (a.$type$ = "BooleanArray", null == e || r(e, !0)) i = d(a, !1); else if (r(e, !1)) i = a; else { var n; n = a.length - 1 | 0; for (var o = 0; o <= n; o++)a[o] = e(o); i = a } return i }, c.charArray = function (t, e) { var i, a = new Uint16Array(t); if (a.$type$ = "CharArray", null == e || r(e, !0) || r(e, !1)) i = a; else { var n; n = a.length - 1 | 0; for (var o = 0; o <= n; o++)a[o] = e(o); i = a } return i }, c.longArray = function (t, e) { var i, a = Array(t); if (a.$type$ = "LongArray", null == e || r(e, !0)) i = d(a, n); else if (r(e, !1)) i = a; else { var o; o = a.length - 1 | 0; for (var s = 0; s <= o; s++)a[s] = e(s); i = a } return i }; var P = R.js || (R.js = {}), M = P.internal || (P.internal = {}); Object.defineProperty(M, "DoubleCompanionObject", { get: function () { return null === _ && new u, _ } }), Object.defineProperty(M, "FloatCompanionObject", { get: function () { return null === y && new f, y } }), Object.defineProperty(M, "IntCompanionObject", { get: function () { return null === $ && new m, $ } }), Object.defineProperty(M, "LongCompanionObject", { get: function () { return null === v && new g, v } }), Object.defineProperty(M, "ShortCompanionObject", { get: function () { return null === C && new S, C } }), Object.defineProperty(M, "ByteCompanionObject", { get: function () { return null === A && new E, A } }), Object.defineProperty(M, "CharCompanionObject", { get: function () { return null === I && new b, I } }), Object.defineProperty(M, "StringCompanionObject", { get: function () { return null === L && new w, L } }), Object.defineProperty(M, "BooleanCompanionObject", { get: function () { return null === k && new T, k } }) }(), function () { "use strict"; var e = t.defineInlineFunction, a = t.wrapFunction, r = t.equals, n = t.toBoxedChar, o = t.unboxChar, s = t.kotlin.js.internal.DoubleCompanionObject, l = t.Long.ZERO, p = Math, h = t.Kind.CLASS, d = t.toChar, u = t.Long.NEG_ONE, _ = t.toByte, f = (t.Long.fromInt(-128), t.Long.fromInt(127), t.kotlin.js.internal.ByteCompanionObject, t.numberToInt), y = (t.Long.fromInt(-2147483648), t.Long.fromInt(2147483647), t.Long.MIN_VALUE), m = (t.Long.MAX_VALUE, t.toShort), $ = (t.Long.fromInt(-32768), t.Long.fromInt(32767), t.kotlin.js.internal.ShortCompanionObject, t.toString), g = (t.getCallableRef, t.arrayEquals, t.arrayHashCode, t.Long.fromInt(255), new t.Long(-1, 0)), v = (t.Long.fromInt(65535), t.Kind.INTERFACE), S = t.Kind.OBJECT, C = t.Long.ONE, E = t.kotlin.Enum, A = t.kotlin.Comparable, b = t.ensureNotNull, I = Object, w = t.throwCCE, L = Error, T = t.arrayToString, k = t.hashCode, R = t.doubleToRawBits, P = t.kotlin.js.internal.FloatCompanionObject, M = t.kotlin.js.internal.CharCompanionObject, N = new t.Long(-1478467534, -1720727600), D = new t.Long(-888910638, 1920087921), x = new t.Long(1993859828, 793161749), z = new t.Long(1, -2147483648), O = new t.Long(1908874354, -59652324), F = (new t.Long(1, -1073741824), new t.Long(1108857478, -1074), t.Long.fromInt(-2147483647), new t.Long(2077252342, 2147), new t.Long(-2077252342, -2148), new t.Long(387905, -1073741824), new t.Long(-387905, 1073741823), new t.Long(-1, 1073741823), new t.Long(-1108857478, 1073), t.Long.fromInt(2047)); function B(t, e) { return H(t, e) >= 0 } function j(t, e) { return U(t, e) >= 0 } function H(t, e) { if (null == e) { for (var i = 0; i !== t.length; ++i)if (null == t[i]) return i } else for (var a = 0; a !== t.length; ++a)if (r(e, t[a])) return a; return -1 } function q(t, e) { for (var i = 0; i !== t.length; ++i)if (e === t[i]) return i; return -1 } function U(t, e) { for (var i = 0; i !== t.length; ++i)if (e === t[i]) return i; return -1 } function G(t, e) { var i, a; if (null == e) for (i = ft(Y(t)).iterator(); i.hasNext();) { var n = i.next(); if (null == t[n]) return n } else for (a = ft(Y(t)).iterator(); a.hasNext();) { var o = a.next(); if (r(e, t[o])) return o } return -1 } function W(t) { var e; switch (t.length) { case 0: throw new Ai("Array is empty."); case 1: e = t[0]; break; default: throw ui("Array has more than one element.") }return e } function Y(t) { return new Ce(0, V(t)) } function V(t) { return t.length - 1 | 0 } function K(t) { return t.length - 1 | 0 } function X(t, e) { var i; for (i = 0; i !== t.length; ++i) { var a = t[i]; e.add_11rb$(a) } return e } function J(t) { return La(bo(t)) } function Z(t) { var e; switch (t.length) { case 0: e = Es(); break; case 1: e = oa(t[0]); break; default: e = X(t, lr(t.length)) }return e } function Q(t) { this.closure$iterator = t } function tt(e, i) { return t.isType(e, Nt) ? e.contains_11rb$(i) : et(e, i) >= 0 } function et(e, i) { var a; if (t.isType(e, xt)) return e.indexOf_11rb$(i); var n = 0; for (a = e.iterator(); a.hasNext();) { var o = a.next(); if (pa(n), r(i, o)) return n; n = n + 1 | 0 } return -1 } function it(e) { if (t.isType(e, xt)) return at(e); var i = e.iterator(); if (!i.hasNext()) throw new Ai("Collection is empty."); var a = i.next(); if (i.hasNext()) throw ui("Collection has more than one element."); return a } function at(t) { var e; switch (t.size) { case 0: throw new Ai("List is empty."); case 1: e = t.get_za3lpa$(0); break; default: throw ui("List has more than one element.") }return e } function rt(t, e) { var i; for (i = t.iterator(); i.hasNext();) { var a = i.next(); e.add_11rb$(a) } return e } function nt(e) { var i; if (t.isType(e, Nt)) { switch (e.size) { case 0: i = wo(); break; case 1: i = na(t.isType(e, xt) ? e.get_za3lpa$(0) : e.iterator().next()); break; default: i = st(e) }return i } return Ro(ot(e)) } function ot(e) { return t.isType(e, Nt) ? st(e) : rt(e, Ia()) } function st(t) { return La(t) } function lt(e) { var i; if (t.isType(e, Nt)) { switch (e.size) { case 0: i = Es(); break; case 1: i = oa(t.isType(e, xt) ? e.get_za3lpa$(0) : e.iterator().next()); break; default: i = rt(e, lr(e.size)) }return i } return bs(rt(e, or())) } function ct(e) { var i = e.iterator(); if (!i.hasNext()) return null; for (var a = i.next(); i.hasNext();) { var r = i.next(); t.compareTo(a, r) > 0 && (a = r) } return a } function pt(t, e, i, a, r, n, o, s) { var l; void 0 === i && (i = ", "), void 0 === a && (a = ""), void 0 === r && (r = ""), void 0 === n && (n = -1), void 0 === o && (o = "..."), void 0 === s && (s = null), e.append_gw00v9$(a); var c = 0; for (l = t.iterator(); l.hasNext();) { var p = l.next(); if ((c = c + 1 | 0) > 1 && e.append_gw00v9$(i), !(n < 0 || c <= n)) break; Il(e, p, s) } return n >= 0 && c > n && e.append_gw00v9$(o), e.append_gw00v9$(r), e } function ht(t, e, i, a, r, n, o) { return void 0 === e && (e = ", "), void 0 === i && (i = ""), void 0 === a && (a = ""), void 0 === r && (r = -1), void 0 === n && (n = "..."), void 0 === o && (o = null), pt(t, Cn(), e, i, a, r, n, o).toString() } function dt(t) { return new Q((e = t, function () { return e.iterator() })); var e } function ut(t) { var e = String.fromCharCode(t).toUpperCase(); if (e.length > 1) { var i; if (329 === t) i = e; else { var a = e.charCodeAt(0), r = e.substring(1).toLowerCase(); i = String.fromCharCode(a) + r } return i } return String.fromCharCode(An(t)) } function _t(t, e) { return de().fromClosedRange_qt1dr2$(t, e, -1) } function ft(t) { return de().fromClosedRange_qt1dr2$(t.last, t.first, 0 | -t.step) } function yt(t, e) { return e <= -2147483648 ? be().EMPTY : new Ce(t, e - 1 | 0) } function mt(t, e) { return t < e ? e : t } function $t(t, e) { return t > e ? e : t } function gt(t, e, i) { if (e > i) throw ui("Cannot coerce value to an empty range: maximum " + i + " is less than minimum " + e + "."); return t < e ? e : t > i ? i : t } function vt(t) { this.closure$iterator = t } function St(e, i) { if (!(i >= 0)) throw ui(("Requested element count " + i + " is less than zero.").toString()); return 0 === i ? rs() : t.isType(e, ds) ? e.take_za3lpa$(i) : new fs(e, i) } function Ct(t, e) { var i; for (i = t.iterator(); i.hasNext();) { var a = i.next(); e.add_11rb$(a) } return e } function Et(t) { return Ro(At(t)) } function At(t) { return Ct(t, Ia()) } function bt(t, e) { return new ls(t, e) } function It(t) { return new vt((e = t, function () { return e.iterator() })); var e } function wt(t, e) { if (!(e >= 0)) throw ui(("Requested character count " + e + " is less than zero.").toString()); return t.substring($t(e, t.length)) } function Lt(t, e) { if (!(e >= 0)) throw ui(("Requested character count " + e + " is less than zero.").toString()); return Tt(t, mt(t.length - e | 0, 0)) } function Tt(t, e) { if (!(e >= 0)) throw ui(("Requested character count " + e + " is less than zero.").toString()); return t.substring(0, $t(e, t.length)) } function kt() { } function Rt() { } function Pt() { } function Mt() { } function Nt() { } function Dt() { } function xt() { } function zt() { } function Ot() { } function Ft() { } function Bt() { } function jt() { } function Ht() { } function qt() { } function Ut() { } function Gt() { } function Wt() { } function Yt() { } function Vt() { } function Kt() { } function Xt() { } function Jt() { } function Zt() { } function Qt() { } function te() { } function ee() { } function ie(t, e, i) { Kt.call(this), this.step = i, this.finalElement_0 = 0 | e, this.hasNext_0 = this.step > 0 ? t <= e : t >= e, this.next_0 = this.hasNext_0 ? 0 | t : this.finalElement_0 } function ae(t, e, i) { Jt.call(this), this.step = i, this.finalElement_0 = e, this.hasNext_0 = this.step > 0 ? t <= e : t >= e, this.next_0 = this.hasNext_0 ? t : this.finalElement_0 } function re(t, e, i) { Zt.call(this), this.step = i, this.finalElement_0 = e, this.hasNext_0 = this.step.toNumber() > 0 ? t.compareTo_11rb$(e) <= 0 : t.compareTo_11rb$(e) >= 0, this.next_0 = this.hasNext_0 ? t : this.finalElement_0 } function ne(t, e, i) { if (le(), 0 === i) throw ui("Step must be non-zero."); if (-2147483648 === i) throw ui("Step must be greater than Int.MIN_VALUE to avoid overflow on negation."); this.first = t, this.last = d(ze(0 | t, 0 | e, i)), this.step = i } function oe() { se = this } ci.prototype = Object.create(L.prototype), ci.prototype.constructor = ci, pi.prototype = Object.create(ci.prototype), pi.prototype.constructor = pi, ie.prototype = Object.create(Kt.prototype), ie.prototype.constructor = ie, ae.prototype = Object.create(Jt.prototype), ae.prototype.constructor = ae, re.prototype = Object.create(Zt.prototype), re.prototype.constructor = re, $e.prototype = Object.create(ne.prototype), $e.prototype.constructor = $e, Ce.prototype = Object.create(ce.prototype), Ce.prototype.constructor = Ce, Ie.prototype = Object.create(ue.prototype), Ie.prototype.constructor = Ie, Be.prototype = Object.create(ee.prototype), Be.prototype.constructor = Be, He.prototype = Object.create(Vt.prototype), He.prototype.constructor = He, Ue.prototype = Object.create(Xt.prototype), Ue.prototype.constructor = Ue, We.prototype = Object.create(Kt.prototype), We.prototype.constructor = We, Ve.prototype = Object.create(Jt.prototype), Ve.prototype.constructor = Ve, Xe.prototype = Object.create(Qt.prototype), Xe.prototype.constructor = Xe, Ze.prototype = Object.create(te.prototype), Ze.prototype.constructor = Ze, ti.prototype = Object.create(Zt.prototype), ti.prototype.constructor = ti, si.prototype = Object.create(L.prototype), si.prototype.constructor = si, di.prototype = Object.create(pi.prototype), di.prototype.constructor = di, _i.prototype = Object.create(pi.prototype), _i.prototype.constructor = _i, yi.prototype = Object.create(pi.prototype), yi.prototype.constructor = yi, mi.prototype = Object.create(pi.prototype), mi.prototype.constructor = mi, $i.prototype = Object.create(pi.prototype), $i.prototype.constructor = $i, Si.prototype = Object.create(di.prototype), Si.prototype.constructor = Si, Ci.prototype = Object.create(pi.prototype), Ci.prototype.constructor = Ci, Ei.prototype = Object.create(pi.prototype), Ei.prototype.constructor = Ei, Ai.prototype = Object.create(pi.prototype), Ai.prototype.constructor = Ai, Ii.prototype = Object.create(pi.prototype), Ii.prototype.constructor = Ii, wi.prototype = Object.create(pi.prototype), wi.prototype.constructor = wi, Ti.prototype = Object.create(pi.prototype), Ti.prototype.constructor = Ti, Qn.prototype = Object.create(Zn.prototype), Qn.prototype.constructor = Qn, da.prototype = Object.create(Zn.prototype), da.prototype.constructor = da, fa.prototype = Object.create(_a.prototype), fa.prototype.constructor = fa, ua.prototype = Object.create(da.prototype), ua.prototype.constructor = ua, ya.prototype = Object.create(ua.prototype), ya.prototype.constructor = ya, Aa.prototype = Object.create(da.prototype), Aa.prototype.constructor = Aa, ga.prototype = Object.create(Aa.prototype), ga.prototype.constructor = ga, va.prototype = Object.create(Aa.prototype), va.prototype.constructor = va, Ca.prototype = Object.create(da.prototype), Ca.prototype.constructor = Ca, ma.prototype = Object.create(oo.prototype), ma.prototype.constructor = ma, ba.prototype = Object.create(ua.prototype), ba.prototype.constructor = ba, Fa.prototype = Object.create(ga.prototype), Fa.prototype.constructor = Fa, Oa.prototype = Object.create(ma.prototype), Oa.prototype.constructor = Oa, Ua.prototype = Object.create(Aa.prototype), Ua.prototype.constructor = Ua, Qa.prototype = Object.create($a.prototype), Qa.prototype.constructor = Qa, tr.prototype = Object.create(ga.prototype), tr.prototype.constructor = tr, Za.prototype = Object.create(Oa.prototype), Za.prototype.constructor = Za, nr.prototype = Object.create(Ua.prototype), nr.prototype.constructor = nr, hr.prototype = Object.create(pr.prototype), hr.prototype.constructor = hr, dr.prototype = Object.create(pr.prototype), dr.prototype.constructor = dr, ur.prototype = Object.create(dr.prototype), ur.prototype.constructor = ur, kr.prototype = Object.create(Tr.prototype), kr.prototype.constructor = kr, Rr.prototype = Object.create(Tr.prototype), Rr.prototype.constructor = Rr, Pr.prototype = Object.create(Tr.prototype), Pr.prototype.constructor = Pr, Bn.prototype = Object.create(Qn.prototype), Bn.prototype.constructor = Bn, jn.prototype = Object.create(Zn.prototype), jn.prototype.constructor = jn, to.prototype = Object.create(Qn.prototype), to.prototype.constructor = to, io.prototype = Object.create(eo.prototype), io.prototype.constructor = io, fo.prototype = Object.create(Zn.prototype), fo.prototype.constructor = fo, so.prototype = Object.create(fo.prototype), so.prototype.constructor = so, co.prototype = Object.create(Zn.prototype), co.prototype.constructor = co, il.prototype = Object.create(E.prototype), il.prototype.constructor = il, ll.prototype = Object.create(sl.prototype), ll.prototype.constructor = ll, vl.prototype = Object.create(sl.prototype), vl.prototype.constructor = vl, Ol.prototype = Object.create(Kt.prototype), Ol.prototype.constructor = Ol, gc.prototype = Object.create(si.prototype), gc.prototype.constructor = gc, Rc.prototype = Object.create(Dc.prototype), Rc.prototype.constructor = Rc, Fc.prototype = Object.create(Bc.prototype), Fc.prototype.constructor = Fc, Wc.prototype = Object.create(Xc.prototype), Wc.prototype.constructor = Wc, tp.prototype = Object.create(jc.prototype), tp.prototype.constructor = tp, Q.prototype.iterator = function () { return this.closure$iterator() }, Q.$metadata$ = { kind: h, interfaces: [as] }, vt.prototype.iterator = function () { return this.closure$iterator() }, vt.$metadata$ = { kind: h, interfaces: [Pt] }, kt.$metadata$ = { kind: v, simpleName: "Annotation", interfaces: [] }, Rt.$metadata$ = { kind: v, simpleName: "CharSequence", interfaces: [] }, Pt.$metadata$ = { kind: v, simpleName: "Iterable", interfaces: [] }, Mt.$metadata$ = { kind: v, simpleName: "MutableIterable", interfaces: [Pt] }, Nt.$metadata$ = { kind: v, simpleName: "Collection", interfaces: [Pt] }, Dt.$metadata$ = { kind: v, simpleName: "MutableCollection", interfaces: [Mt, Nt] }, xt.$metadata$ = { kind: v, simpleName: "List", interfaces: [Nt] }, zt.$metadata$ = { kind: v, simpleName: "MutableList", interfaces: [Dt, xt] }, Ot.$metadata$ = { kind: v, simpleName: "Set", interfaces: [Nt] }, Ft.$metadata$ = { kind: v, simpleName: "MutableSet", interfaces: [Dt, Ot] }, Bt.prototype.getOrDefault_xwzc9p$ = function (t, e) { throw new gc }, jt.$metadata$ = { kind: v, simpleName: "Entry", interfaces: [] }, Bt.$metadata$ = { kind: v, simpleName: "Map", interfaces: [] }, Ht.prototype.remove_xwzc9p$ = function (t, e) { return !0 }, qt.$metadata$ = { kind: v, simpleName: "MutableEntry", interfaces: [jt] }, Ht.$metadata$ = { kind: v, simpleName: "MutableMap", interfaces: [Bt] }, Ut.$metadata$ = { kind: v, simpleName: "Iterator", interfaces: [] }, Gt.$metadata$ = { kind: v, simpleName: "MutableIterator", interfaces: [Ut] }, Wt.$metadata$ = { kind: v, simpleName: "ListIterator", interfaces: [Ut] }, Yt.$metadata$ = { kind: v, simpleName: "MutableListIterator", interfaces: [Gt, Wt] }, Vt.prototype.next = function () { return this.nextByte() }, Vt.$metadata$ = { kind: h, simpleName: "ByteIterator", interfaces: [Ut] }, Kt.prototype.next = function () { return n(this.nextChar()) }, Kt.$metadata$ = { kind: h, simpleName: "CharIterator", interfaces: [Ut] }, Xt.prototype.next = function () { return this.nextShort() }, Xt.$metadata$ = { kind: h, simpleName: "ShortIterator", interfaces: [Ut] }, Jt.prototype.next = function () { return this.nextInt() }, Jt.$metadata$ = { kind: h, simpleName: "IntIterator", interfaces: [Ut] }, Zt.prototype.next = function () { return this.nextLong() }, Zt.$metadata$ = { kind: h, simpleName: "LongIterator", interfaces: [Ut] }, Qt.prototype.next = function () { return this.nextFloat() }, Qt.$metadata$ = { kind: h, simpleName: "FloatIterator", interfaces: [Ut] }, te.prototype.next = function () { return this.nextDouble() }, te.$metadata$ = { kind: h, simpleName: "DoubleIterator", interfaces: [Ut] }, ee.prototype.next = function () { return this.nextBoolean() }, ee.$metadata$ = { kind: h, simpleName: "BooleanIterator", interfaces: [Ut] }, ie.prototype.hasNext = function () { return this.hasNext_0 }, ie.prototype.nextChar = function () { var t = this.next_0; if (t === this.finalElement_0) { if (!this.hasNext_0) throw bi(); this.hasNext_0 = !1 } else this.next_0 = this.next_0 + this.step | 0; return d(t) }, ie.$metadata$ = { kind: h, simpleName: "CharProgressionIterator", interfaces: [Kt] }, ae.prototype.hasNext = function () { return this.hasNext_0 }, ae.prototype.nextInt = function () { var t = this.next_0; if (t === this.finalElement_0) { if (!this.hasNext_0) throw bi(); this.hasNext_0 = !1 } else this.next_0 = this.next_0 + this.step | 0; return t }, ae.$metadata$ = { kind: h, simpleName: "IntProgressionIterator", interfaces: [Jt] }, re.prototype.hasNext = function () { return this.hasNext_0 }, re.prototype.nextLong = function () { var t = this.next_0; if (r(t, this.finalElement_0)) { if (!this.hasNext_0) throw bi(); this.hasNext_0 = !1 } else this.next_0 = this.next_0.add(this.step); return t }, re.$metadata$ = { kind: h, simpleName: "LongProgressionIterator", interfaces: [Zt] }, ne.prototype.iterator = function () { return new ie(this.first, this.last, this.step) }, ne.prototype.isEmpty = function () { return this.step > 0 ? this.first > this.last : this.first < this.last }, ne.prototype.equals = function (e) { return t.isType(e, ne) && (this.isEmpty() && e.isEmpty() || this.first === e.first && this.last === e.last && this.step === e.step) }, ne.prototype.hashCode = function () { return this.isEmpty() ? -1 : (31 * ((31 * (0 | this.first) | 0) + (0 | this.last) | 0) | 0) + this.step | 0 }, ne.prototype.toString = function () { return this.step > 0 ? String.fromCharCode(this.first) + ".." + String.fromCharCode(this.last) + " step " + this.step : String.fromCharCode(this.first) + " downTo " + String.fromCharCode(this.last) + " step " + (0 | -this.step) }, oe.prototype.fromClosedRange_ayra44$ = function (t, e, i) { return new ne(t, e, i) }, oe.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var se = null; function le() { return null === se && new oe, se } function ce(t, e, i) { if (de(), 0 === i) throw ui("Step must be non-zero."); if (-2147483648 === i) throw ui("Step must be greater than Int.MIN_VALUE to avoid overflow on negation."); this.first = t, this.last = ze(t, e, i), this.step = i } function pe() { he = this } ne.$metadata$ = { kind: h, simpleName: "CharProgression", interfaces: [Pt] }, ce.prototype.iterator = function () { return new ae(this.first, this.last, this.step) }, ce.prototype.isEmpty = function () { return this.step > 0 ? this.first > this.last : this.first < this.last }, ce.prototype.equals = function (e) { return t.isType(e, ce) && (this.isEmpty() && e.isEmpty() || this.first === e.first && this.last === e.last && this.step === e.step) }, ce.prototype.hashCode = function () { return this.isEmpty() ? -1 : (31 * ((31 * this.first | 0) + this.last | 0) | 0) + this.step | 0 }, ce.prototype.toString = function () { return this.step > 0 ? this.first.toString() + ".." + this.last + " step " + this.step : this.first.toString() + " downTo " + this.last + " step " + (0 | -this.step) }, pe.prototype.fromClosedRange_qt1dr2$ = function (t, e, i) { return new ce(t, e, i) }, pe.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var he = null; function de() { return null === he && new pe, he } function ue(t, e, i) { if (ye(), r(i, l)) throw ui("Step must be non-zero."); if (r(i, y)) throw ui("Step must be greater than Long.MIN_VALUE to avoid overflow on negation."); this.first = t, this.last = Oe(t, e, i), this.step = i } function _e() { fe = this } ce.$metadata$ = { kind: h, simpleName: "IntProgression", interfaces: [Pt] }, ue.prototype.iterator = function () { return new re(this.first, this.last, this.step) }, ue.prototype.isEmpty = function () { return this.step.toNumber() > 0 ? this.first.compareTo_11rb$(this.last) > 0 : this.first.compareTo_11rb$(this.last) < 0 }, ue.prototype.equals = function (e) { return t.isType(e, ue) && (this.isEmpty() && e.isEmpty() || r(this.first, e.first) && r(this.last, e.last) && r(this.step, e.step)) }, ue.prototype.hashCode = function () { return this.isEmpty() ? -1 : t.Long.fromInt(31).multiply(t.Long.fromInt(31).multiply(this.first.xor(this.first.shiftRightUnsigned(32))).add(this.last.xor(this.last.shiftRightUnsigned(32)))).add(this.step.xor(this.step.shiftRightUnsigned(32))).toInt() }, ue.prototype.toString = function () { return this.step.toNumber() > 0 ? this.first.toString() + ".." + this.last.toString() + " step " + this.step.toString() : this.first.toString() + " downTo " + this.last.toString() + " step " + this.step.unaryMinus().toString() }, _e.prototype.fromClosedRange_b9bd0d$ = function (t, e, i) { return new ue(t, e, i) }, _e.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var fe = null; function ye() { return null === fe && new _e, fe } function me() { } function $e(t, e) { Se(), ne.call(this, t, e, 1) } function ge() { ve = this, this.EMPTY = new $e(d(1), d(0)) } ue.$metadata$ = { kind: h, simpleName: "LongProgression", interfaces: [Pt] }, me.prototype.contains_mef7kx$ = function (e) { return t.compareTo(e, this.start) >= 0 && t.compareTo(e, this.endInclusive) <= 0 }, me.prototype.isEmpty = function () { return t.compareTo(this.start, this.endInclusive) > 0 }, me.$metadata$ = { kind: v, simpleName: "ClosedRange", interfaces: [] }, Object.defineProperty($e.prototype, "start", { configurable: !0, get: function () { return n(this.first) } }), Object.defineProperty($e.prototype, "endInclusive", { configurable: !0, get: function () { return n(this.last) } }), $e.prototype.contains_mef7kx$ = function (t) { return this.first <= t && t <= this.last }, $e.prototype.isEmpty = function () { return this.first > this.last }, $e.prototype.equals = function (e) { return t.isType(e, $e) && (this.isEmpty() && e.isEmpty() || this.first === e.first && this.last === e.last) }, $e.prototype.hashCode = function () { return this.isEmpty() ? -1 : (31 * (0 | this.first) | 0) + (0 | this.last) | 0 }, $e.prototype.toString = function () { return String.fromCharCode(this.first) + ".." + String.fromCharCode(this.last) }, ge.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var ve = null; function Se() { return null === ve && new ge, ve } function Ce(t, e) { be(), ce.call(this, t, e, 1) } function Ee() { Ae = this, this.EMPTY = new Ce(1, 0) } $e.$metadata$ = { kind: h, simpleName: "CharRange", interfaces: [me, ne] }, Object.defineProperty(Ce.prototype, "start", { configurable: !0, get: function () { return this.first } }), Object.defineProperty(Ce.prototype, "endInclusive", { configurable: !0, get: function () { return this.last } }), Ce.prototype.contains_mef7kx$ = function (t) { return this.first <= t && t <= this.last }, Ce.prototype.isEmpty = function () { return this.first > this.last }, Ce.prototype.equals = function (e) { return t.isType(e, Ce) && (this.isEmpty() && e.isEmpty() || this.first === e.first && this.last === e.last) }, Ce.prototype.hashCode = function () { return this.isEmpty() ? -1 : (31 * this.first | 0) + this.last | 0 }, Ce.prototype.toString = function () { return this.first.toString() + ".." + this.last }, Ee.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var Ae = null; function be() { return null === Ae && new Ee, Ae } function Ie(t, e) { Te(), ue.call(this, t, e, C) } function we() { Le = this, this.EMPTY = new Ie(C, l) } Ce.$metadata$ = { kind: h, simpleName: "IntRange", interfaces: [me, ce] }, Object.defineProperty(Ie.prototype, "start", { configurable: !0, get: function () { return this.first } }), Object.defineProperty(Ie.prototype, "endInclusive", { configurable: !0, get: function () { return this.last } }), Ie.prototype.contains_mef7kx$ = function (t) { return this.first.compareTo_11rb$(t) <= 0 && t.compareTo_11rb$(this.last) <= 0 }, Ie.prototype.isEmpty = function () { return this.first.compareTo_11rb$(this.last) > 0 }, Ie.prototype.equals = function (e) { return t.isType(e, Ie) && (this.isEmpty() && e.isEmpty() || r(this.first, e.first) && r(this.last, e.last)) }, Ie.prototype.hashCode = function () { return this.isEmpty() ? -1 : t.Long.fromInt(31).multiply(this.first.xor(this.first.shiftRightUnsigned(32))).add(this.last.xor(this.last.shiftRightUnsigned(32))).toInt() }, Ie.prototype.toString = function () { return this.first.toString() + ".." + this.last.toString() }, we.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var Le = null; function Te() { return null === Le && new we, Le } function ke() { Re = this } Ie.$metadata$ = { kind: h, simpleName: "LongRange", interfaces: [me, ue] }, ke.prototype.toString = function () { return "kotlin.Unit" }, ke.$metadata$ = { kind: S, simpleName: "Unit", interfaces: [] }; var Re = null; function Pe() { return null === Re && new ke, Re } function Me(t, e) { var i = t % e; return i >= 0 ? i : i + e | 0 } function Ne(t, e) { var i = t.modulo(e); return i.toNumber() >= 0 ? i : i.add(e) } function De(t, e, i) { return Me(Me(t, i) - Me(e, i) | 0, i) } function xe(t, e, i) { return Ne(Ne(t, i).subtract(Ne(e, i)), i) } function ze(t, e, i) { if (i > 0) return t >= e ? e : e - De(e, t, i) | 0; if (i < 0) return t <= e ? e : e + De(t, e, 0 | -i) | 0; throw ui("Step is zero.") } function Oe(t, e, i) { if (i.toNumber() > 0) return t.compareTo_11rb$(e) >= 0 ? e : e.subtract(xe(e, t, i)); if (i.toNumber() < 0) return t.compareTo_11rb$(e) <= 0 ? e : e.add(xe(t, e, i.unaryMinus())); throw ui("Step is zero.") } function Fe(t) { this.closure$arr = t, this.index = 0 } function Be(t) { this.closure$array = t, ee.call(this), this.index = 0 } function je(t) { return new Be(t) } function He(t) { this.closure$array = t, Vt.call(this), this.index = 0 } function qe(t) { return new He(t) } function Ue(t) { this.closure$array = t, Xt.call(this), this.index = 0 } function Ge(t) { return new Ue(t) } function We(t) { this.closure$array = t, Kt.call(this), this.index = 0 } function Ye(t) { return new We(t) } function Ve(t) { this.closure$array = t, Jt.call(this), this.index = 0 } function Ke(t) { return new Ve(t) } function Xe(t) { this.closure$array = t, Qt.call(this), this.index = 0 } function Je(t) { return new Xe(t) } function Ze(t) { this.closure$array = t, te.call(this), this.index = 0 } function Qe(t) { return new Ze(t) } function ti(t) { this.closure$array = t, Zt.call(this), this.index = 0 } function ei(t) { return new ti(t) } function ii(t) { this.c = t } function ai(t) { this.resultContinuation_0 = t, this.state_0 = 0, this.exceptionState_0 = 0, this.result_0 = null, this.exception_0 = null, this.finallyPath_0 = null, this.context_hxcuhl$_0 = this.resultContinuation_0.context, this.intercepted__0 = null } function ri() { ni = this } Fe.prototype.hasNext = function () { return this.index < this.closure$arr.length }, Fe.prototype.next = function () { var t; if (this.index < this.closure$arr.length) return this.closure$arr[(t = this.index, this.index = t + 1 | 0, t)]; throw new Ai(this.index.toString()) }, Fe.$metadata$ = { kind: h, interfaces: [Ut] }, Be.prototype.hasNext = function () { return this.index < this.closure$array.length }, Be.prototype.nextBoolean = function () { var t; if (this.index < this.closure$array.length) return this.closure$array[(t = this.index, this.index = t + 1 | 0, t)]; throw new Ai(this.index.toString()) }, Be.$metadata$ = { kind: h, interfaces: [ee] }, He.prototype.hasNext = function () { return this.index < this.closure$array.length }, He.prototype.nextByte = function () { var t; if (this.index < this.closure$array.length) return this.closure$array[(t = this.index, this.index = t + 1 | 0, t)]; throw new Ai(this.index.toString()) }, He.$metadata$ = { kind: h, interfaces: [Vt] }, Ue.prototype.hasNext = function () { return this.index < this.closure$array.length }, Ue.prototype.nextShort = function () { var t; if (this.index < this.closure$array.length) return this.closure$array[(t = this.index, this.index = t + 1 | 0, t)]; throw new Ai(this.index.toString()) }, Ue.$metadata$ = { kind: h, interfaces: [Xt] }, We.prototype.hasNext = function () { return this.index < this.closure$array.length }, We.prototype.nextChar = function () { var t; if (this.index < this.closure$array.length) return this.closure$array[(t = this.index, this.index = t + 1 | 0, t)]; throw new Ai(this.index.toString()) }, We.$metadata$ = { kind: h, interfaces: [Kt] }, Ve.prototype.hasNext = function () { return this.index < this.closure$array.length }, Ve.prototype.nextInt = function () { var t; if (this.index < this.closure$array.length) return this.closure$array[(t = this.index, this.index = t + 1 | 0, t)]; throw new Ai(this.index.toString()) }, Ve.$metadata$ = { kind: h, interfaces: [Jt] }, Xe.prototype.hasNext = function () { return this.index < this.closure$array.length }, Xe.prototype.nextFloat = function () { var t; if (this.index < this.closure$array.length) return this.closure$array[(t = this.index, this.index = t + 1 | 0, t)]; throw new Ai(this.index.toString()) }, Xe.$metadata$ = { kind: h, interfaces: [Qt] }, Ze.prototype.hasNext = function () { return this.index < this.closure$array.length }, Ze.prototype.nextDouble = function () { var t; if (this.index < this.closure$array.length) return this.closure$array[(t = this.index, this.index = t + 1 | 0, t)]; throw new Ai(this.index.toString()) }, Ze.$metadata$ = { kind: h, interfaces: [te] }, ti.prototype.hasNext = function () { return this.index < this.closure$array.length }, ti.prototype.nextLong = function () { var t; if (this.index < this.closure$array.length) return this.closure$array[(t = this.index, this.index = t + 1 | 0, t)]; throw new Ai(this.index.toString()) }, ti.$metadata$ = { kind: h, interfaces: [Zt] }, ii.prototype.equals = function (e) { return t.isType(e, ii) && this.c === e.c }, ii.prototype.hashCode = function () { return this.c }, ii.prototype.toString = function () { return String.fromCharCode(o(this.c)) }, ii.prototype.compareTo_11rb$ = function (t) { return this.c - t }, ii.prototype.valueOf = function () { return this.c }, ii.$metadata$ = { kind: h, simpleName: "BoxedChar", interfaces: [A] }, Object.defineProperty(ai.prototype, "context", { configurable: !0, get: function () { return this.context_hxcuhl$_0 } }), ai.prototype.intercepted = function () { var t, e, i, a; if (null != (i = this.intercepted__0)) a = i; else { var r = null != (e = null != (t = this.context.get_j3r2sn$(Os())) ? t.interceptContinuation_wj8d80$(this) : null) ? e : this; this.intercepted__0 = r, a = r } return a }, ai.prototype.resumeWith_tl1gpc$ = function (e) { for (var i, a = { v: this }, r = { v: e.isFailure ? null : null == (i = e.value) || t.isType(i, I) ? i : w() }, n = { v: e.exceptionOrNull() }; ;) { var o, s, l = a.v, c = l.resultContinuation_0; null == n.v ? l.result_0 = r.v : (l.state_0 = l.exceptionState_0, l.exception_0 = n.v); try { var p = l.doResume(); if (p === el()) return; r.v = p, n.v = null } catch (t) { r.v = null, n.v = t } if (l.releaseIntercepted_0(), !t.isType(c, ai)) return null != (o = n.v) ? (c.resumeWith_tl1gpc$(new dc(mc(o))), s = ke) : s = null, void (null == s && c.resumeWith_tl1gpc$(new dc(r.v))); a.v = c } }, ai.prototype.releaseIntercepted_0 = function () { var t = this.intercepted__0; null != t && t !== this && b(this.context.get_j3r2sn$(Os())).releaseInterceptedContinuation_k98bjh$(t), this.intercepted__0 = oi() }, ai.$metadata$ = { kind: h, simpleName: "CoroutineImpl", interfaces: [Ns] }, Object.defineProperty(ri.prototype, "context", { configurable: !0, get: function () { throw fi("This continuation is already complete".toString()) } }), ri.prototype.resumeWith_tl1gpc$ = function (t) { throw fi("This continuation is already complete".toString()) }, ri.prototype.toString = function () { return "This continuation is already complete" }, ri.$metadata$ = { kind: S, simpleName: "CompletedContinuation", interfaces: [Ns] }; var ni = null; function oi() { return null === ni && new ri, ni } function si(e, i) { var a; L.call(this), a = null != i ? i : null, this.message_q7r8iu$_0 = void 0 === e && null != a ? t.toString(a) : e, this.cause_us9j0c$_0 = a, t.captureStack(L, this), this.name = "Error" } function li(t, e) { return e = e || Object.create(si.prototype), si.call(e, t, null), e } function ci(e, i) { var a; L.call(this), a = null != i ? i : null, this.message_8yp7un$_0 = void 0 === e && null != a ? t.toString(a) : e, this.cause_th0jdv$_0 = a, t.captureStack(L, this), this.name = "Exception" } function pi(t, e) { ci.call(this, t, e), this.name = "RuntimeException" } function hi(t, e) { return e = e || Object.create(pi.prototype), pi.call(e, t, null), e } function di(t, e) { pi.call(this, t, e), this.name = "IllegalArgumentException" } function ui(t, e) { return e = e || Object.create(di.prototype), di.call(e, t, null), e } function _i(t, e) { pi.call(this, t, e), this.name = "IllegalStateException" } function fi(t, e) { return e = e || Object.create(_i.prototype), _i.call(e, t, null), e } function yi(t) { hi(t, this), this.name = "IndexOutOfBoundsException" } function mi(t, e) { pi.call(this, t, e), this.name = "ConcurrentModificationException" } function $i(t, e) { pi.call(this, t, e), this.name = "UnsupportedOperationException" } function gi(t) { return t = t || Object.create($i.prototype), $i.call(t, null, null), t } function vi(t, e) { return e = e || Object.create($i.prototype), $i.call(e, t, null), e } function Si(t) { ui(t, this), this.name = "NumberFormatException" } function Ci(t) { hi(t, this), this.name = "NullPointerException" } function Ei(t) { hi(t, this), this.name = "ClassCastException" } function Ai(t) { hi(t, this), this.name = "NoSuchElementException" } function bi(t) { return t = t || Object.create(Ai.prototype), Ai.call(t, null), t } function Ii(t) { hi(t, this), this.name = "ArithmeticException" } function wi(t, e) { pi.call(this, t, e), this.name = "NoWhenBranchMatchedException" } function Li(t) { return t = t || Object.create(wi.prototype), wi.call(t, null, null), t } function Ti(t, e) { pi.call(this, t, e), this.name = "UninitializedPropertyAccessException" } function ki(t, e) { return e = e || Object.create(Ti.prototype), Ti.call(e, t, null), e } function Ri(t, e) { for (var i, a = t.length, r = e.length, n = 0; n < a && n < r;)e[n] = t[(i = n, n = i + 1 | 0, i)]; return e } function Pi(t, e, i) { var a, r = t.slice(0, e); void 0 !== t.$type$ && (r.$type$ = t.$type$); var n = t.length; if (e > n) for (r.length = e; n < e;)r[(a = n, n = a + 1 | 0, a)] = i; return r } function Mi(t, e) { return t.toString(Tn(e)) } function Ni(t) { return new ba(t) } function Di(t, e, i) { return no().checkRangeIndexes_cub51b$(e, i, t.length), t.slice(e, i) } function xi(t, e, i) { var a, r, n = new Int32Array(i), s = 0, l = 0, c = 0; for (a = Fl(t); a.hasNext();) { var p = e[0 | o(a.next())]; l |= (31 & p) << c, p < 32 ? (n[(r = s, s = r + 1 | 0, r)] = l, l = 0, c = 0) : c = c + 5 | 0 } return n } function zi(t) { var e = (t.size / 2 | 0) - 1 | 0; if (!(e < 0)) for (var i = ko(t), a = 0; a <= e; a++) { var r = t.get_za3lpa$(a); t.set_wxm5ur$(a, t.get_za3lpa$(i)), t.set_wxm5ur$(i, r), i = i - 1 | 0 } } function Oi() { Fi = this, this.rangeStart_8be2vx$ = new Int32Array([48, 1632, 1776, 1984, 2406, 2534, 2662, 2790, 2918, 3046, 3174, 3302, 3430, 3558, 3664, 3792, 3872, 4160, 4240, 6112, 6160, 6470, 6608, 6784, 6800, 6992, 7088, 7232, 7248, 42528, 43216, 43264, 43472, 43504, 43600, 44016, 65296]) } Object.defineProperty(si.prototype, "message", { get: function () { return this.message_q7r8iu$_0 } }), Object.defineProperty(si.prototype, "cause", { get: function () { return this.cause_us9j0c$_0 } }), si.$metadata$ = { kind: h, simpleName: "Error", interfaces: [L] }, Object.defineProperty(ci.prototype, "message", { get: function () { return this.message_8yp7un$_0 } }), Object.defineProperty(ci.prototype, "cause", { get: function () { return this.cause_th0jdv$_0 } }), ci.$metadata$ = { kind: h, simpleName: "Exception", interfaces: [L] }, pi.$metadata$ = { kind: h, simpleName: "RuntimeException", interfaces: [ci] }, di.$metadata$ = { kind: h, simpleName: "IllegalArgumentException", interfaces: [pi] }, _i.$metadata$ = { kind: h, simpleName: "IllegalStateException", interfaces: [pi] }, yi.$metadata$ = { kind: h, simpleName: "IndexOutOfBoundsException", interfaces: [pi] }, mi.$metadata$ = { kind: h, simpleName: "ConcurrentModificationException", interfaces: [pi] }, $i.$metadata$ = { kind: h, simpleName: "UnsupportedOperationException", interfaces: [pi] }, Si.$metadata$ = { kind: h, simpleName: "NumberFormatException", interfaces: [di] }, Ci.$metadata$ = { kind: h, simpleName: "NullPointerException", interfaces: [pi] }, Ei.$metadata$ = { kind: h, simpleName: "ClassCastException", interfaces: [pi] }, Ai.$metadata$ = { kind: h, simpleName: "NoSuchElementException", interfaces: [pi] }, Ii.$metadata$ = { kind: h, simpleName: "ArithmeticException", interfaces: [pi] }, wi.$metadata$ = { kind: h, simpleName: "NoWhenBranchMatchedException", interfaces: [pi] }, Ti.$metadata$ = { kind: h, simpleName: "UninitializedPropertyAccessException", interfaces: [pi] }, Oi.$metadata$ = { kind: S, simpleName: "Digit", interfaces: [] }; var Fi = null; function Bi() { return null === Fi && new Oi, Fi } function ji(t, e) { for (var i = 0, a = t.length - 1 | 0, r = -1, n = 0; i <= a;)if (e > (n = t[r = (i + a | 0) / 2 | 0])) i = r + 1 | 0; else { if (e === n) return r; a = r - 1 | 0 } return r - (e < n ? 1 : 0) | 0 } function Hi(t) { var e = 0 | t, i = ji(Bi().rangeStart_8be2vx$, e), a = e - Bi().rangeStart_8be2vx$[i] | 0; return a < 10 ? a : -1 } function qi(t) { return Hi(t) >= 0 } function Ui() { var t, e, i, a; Gi = this, this.decodedRangeStart = null, this.decodedRangeLength = null, this.decodedRangeCategory = null; var r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", n = new Int32Array(128); e = (t = Bl(r)).first, i = t.last, a = t.step; for (var o = e; o <= i; o += a)n[0 | r.charCodeAt(o)] = o; for (var s = xi("hCgBpCQGYHZH5BRpBPPPPPPRMP5BPPlCPP6BkEPPPPcPXPzBvBrB3BOiDoBHwD+E3DauCnFmBmB2D6E1BlBTiBmBlBP5BhBiBrBvBjBqBnBPRtBiCmCtBlB0BmB5BiB7BmBgEmChBZgCoEoGVpBSfRhBPqKQ2BwBYoFgB4CJuTiEvBuCuDrF5DgEgFlJ1DgFmBQtBsBRGsB+BPiBlD1EIjDPRPPPQPPPPPGQSQS/DxENVNU+B9zCwBwBPPCkDPNnBPqDYY1R8B7FkFgTgwGgwUwmBgKwBuBScmEP/BPPPPPPrBP8B7F1B/ErBqC6B7BiBmBfQsBUwCw/KwqIwLwETPcPjQgJxFgBlBsD", n, 222), l = new Int32Array(s.length), c = 0; c !== s.length; ++c)l[c] = 0 === c ? s[c] : l[c - 1 | 0] + s[c] | 0; this.decodedRangeStart = l, this.decodedRangeLength = xi("aaMBXHYH5BRpBPPPPPPRMP5BPPlCPPzBDOOPPcPXPzBvBjB3BOhDmBBpB7DoDYxB+EiBP1DoExBkBQhBekBPmBgBhBctBiBMWOOXhCsBpBkBUV3Ba4BkB0DlCgBXgBtD4FSdBfPhBPpKP0BvBXjEQ2CGsT8DhBtCqDpFvD1D3E0IrD2EkBJrBDOBsB+BPiBlB1EIjDPPPPPPPPPPPGPPMNLsBNPNPKCvBvBPPCkDPBmBPhDXXgD4B6FzEgDguG9vUtkB9JcuBSckEP/BPPPPPPBPf4FrBjEhBpC3B5BKaWPrBOwCk/KsCuLqDHPbPxPsFtEaaqDL", n, 222), this.decodedRangeCategory = xi("GFjgggUHGGFFZZZmzpz5qB6s6020B60ptltB6smt2sB60mz22B1+vv+8BZZ5s2850BW5q1ymtB506smzBF3q1q1qB1q1q1+Bgii4wDTm74g3KiggxqM60q1q1Bq1o1q1BF1qlrqrBZ2q5wprBGFZWWZGHFsjiooLowgmOowjkwCkgoiIk7ligGogiioBkwkiYkzj2oNoi+sbkwj04DghhkQ8wgiYkgoioDsgnkwC4gikQ//v+85BkwvoIsgoyI4yguI0whiwEowri4CoghsJowgqYowgm4DkwgsY/nwnzPowhmYkg6wI8yggZswikwHgxgmIoxgqYkwgk4DkxgmIkgoioBsgssoBgzgyI8g9gL8g9kI0wgwJoxgkoC0wgioFkw/wI0w53iF4gioYowjmgBHGq1qkgwBF1q1q8qBHwghuIwghyKk0goQkwgoQk3goQHGFHkyg0pBgxj6IoinkxDswno7Ikwhz9Bo0gioB8z48Rwli0xN0mpjoX8w78pDwltoqKHFGGwwgsIHFH3q1q16BFHWFZ1q10q1B2qlwq1B1q10q1B2q1yq1B6q1gq1Biq1qhxBir1qp1Bqt1q1qB1g1q1+B//3q16B///q1qBH/qlqq9Bholqq9B1i00a1q10qD1op1HkwmigEigiy6Cptogq1Bixo1kDq7/j00B2qgoBWGFm1lz50B6s5q1+BGWhggzhwBFFhgk4//Bo2jigE8wguI8wguI8wgugUog1qoB4qjmIwwi2KgkYHHH4lBgiFWkgIWoghssMmz5smrBZ3q1y50B5sm7gzBtz1smzB5smz50BqzqtmzB5sgzqzBF2/9//5BowgoIwmnkzPkwgk4C8ys65BkgoqI0wgy6FghquZo2giY0ghiIsgh24B4ghsQ8QF/v1q1OFs0O8iCHHF1qggz/B8wg6Iznv+//B08QgohsjK0QGFk7hsQ4gB", n, 222) } Ui.$metadata$ = { kind: S, simpleName: "Letter", interfaces: [] }; var Gi = null; function Wi() { return null === Gi && new Ui, Gi } function Yi(t) { var e = 1 === function (t) { var e = 0 | t, i = ji(Wi().decodedRangeStart, e), a = Wi().decodedRangeStart[i], r = a + Wi().decodedRangeLength[i] - 1 | 0, n = Wi().decodedRangeCategory[i]; if (e > r) return 0; var o = 3 & n; if (0 === o) { for (var s = 2, l = a, c = 0; c <= 1; c++) { if ((l = l + (n >> s & 127) | 0) > e) return 3; if ((l = l + (n >> (s = s + 7 | 0) & 127) | 0) > e) return 0; s = s + 7 | 0 } return 3 } if (n <= 7) return o; var p = e - a | 0; return n >> (2 * (n <= 31 ? p % 2 : p) | 0) & 3 }(t); return e || (e = Zi(0 | t)), e } function Vi() { Xi = this, this.otherLowerStart_8be2vx$ = new Int32Array([170, 186, 688, 704, 736, 837, 890, 7468, 7544, 7579, 8305, 8319, 8336, 8560, 9424, 11388, 42652, 42864, 43e3, 43868]), this.otherLowerLength_8be2vx$ = new Int32Array([1, 1, 9, 2, 5, 1, 1, 63, 1, 37, 1, 1, 13, 16, 26, 2, 2, 1, 2, 4]) } Vi.$metadata$ = { kind: S, simpleName: "OtherLowercase", interfaces: [] }; var Ki, Xi = null; function Ji() { return null === Xi && new Vi, Xi } function Zi(t) { var e = ji(Ji().otherLowerStart_8be2vx$, t); return e >= 0 && t < (Ji().otherLowerStart_8be2vx$[e] + Ji().otherLowerLength_8be2vx$[e] | 0) } function Qi(t) { var e = 0 | t; return 452 <= e && e <= 460 || 497 <= e && e <= 499 ? d(3 * ((e + 1 | 0) / 3 | 0) | 0) : 4304 <= e && e <= 4346 || 4349 <= e && e <= 4351 ? t : En(t) } function ta(t) { var e = 0 | t; return 9 <= e && e <= 13 || 28 <= e && e <= 32 || 160 === e || e > 4096 && (5760 === e || 8192 <= e && e <= 8202 || 8232 === e || 8233 === e || 8239 === e || 8287 === e || 12288 === e) } function ea(t) { this.function$ = t } function ia(t) { return void 0 !== t.toArray ? t.toArray() : aa(t) } function aa(t) { for (var e = [], i = t.iterator(); i.hasNext();)e.push(i.next()); return e } function ra(t, e) { var i; if (e.length < t.size) return aa(t); for (var a = t.iterator(), r = 0; a.hasNext();)e[(i = r, r = i + 1 | 0, i)] = a.next(); return r < e.length && (e[r] = null), e } function na(t) { return Lo([t]) } function oa(t) { return As([t]) } function sa(t) { return Yo([t]) } function la(t, e) { if (!(t.size <= 1)) { var i = ia(t); Ta(i, e); for (var a = 0; a < i.length; a++)t.set_wxm5ur$(a, i[a]) } } function ca(t, e, i, a, r) { no().checkRangeIndexes_cub51b$(a, r, t.length); var n = r - a | 0; if (no().checkRangeIndexes_cub51b$(i, i + n | 0, e.length), ArrayBuffer.isView(e) && ArrayBuffer.isView(t)) { var o = t.subarray(a, r); e.set(o, i) } else if (t !== e || i <= a) for (var s = 0; s < n; s++)e[i + s | 0] = t[a + s | 0]; else for (var l = n - 1 | 0; l >= 0; l--)e[i + l | 0] = t[a + l | 0] } function pa(t) { return t < 0 && Po(), t } function ha(t) { return t } function da() { Zn.call(this) } function ua() { da.call(this), this.modCount = 0 } function _a(t) { this.$outer = t, this.index_0 = 0, this.last_0 = -1 } function fa(t, e) { this.$outer = t, _a.call(this, this.$outer), no().checkPositionIndex_6xvm5r$(e, this.$outer.size), this.index_0 = e } function ya(t, e, i) { ua.call(this), this.list_0 = t, this.fromIndex_0 = e, this._size_0 = 0, no().checkRangeIndexes_cub51b$(this.fromIndex_0, i, this.list_0.size), this._size_0 = i - this.fromIndex_0 | 0 } function ma() { oo.call(this), this._keys_qe2m0n$_0 = null, this._values_kxdlqh$_0 = null } function $a(t, e) { this.key_5xhq3d$_0 = t, this._value_0 = e } function ga() { Aa.call(this) } function va(t) { this.this$AbstractMutableMap = t, Aa.call(this) } function Sa(t) { this.closure$entryIterator = t } function Ca(t) { this.this$AbstractMutableMap = t, da.call(this) } function Ea(t) { this.closure$entryIterator = t } function Aa() { da.call(this) } function ba(t) { ua.call(this), this.array_hd7ov6$_0 = t, this.isReadOnly_dbt2oh$_0 = !1 } function Ia(t) { return t = t || Object.create(ba.prototype), ba.call(t, []), t } function wa(t, e) { return void 0 === t && (t = 0), e = e || Object.create(ba.prototype), ba.call(e, []), e } function La(t, e) { return e = e || Object.create(ba.prototype), ba.call(e, ia(t)), e } function Ta(e, i) { if (function () { if (null != Ki) return Ki; Ki = !1; for (var t = [], e = 0; e < 600; e++)t.push(e); var i = ka; t.sort(i); for (var a = 1; a < t.length; a++) { var r = t[a - 1 | 0], n = t[a]; if ((3 & r) == (3 & n) && r >= n) return !1 } return Ki = !0, !0 }()) { var a = (r = i, function (t, e) { return r.compare(t, e) }); e.sort(a) } else !function (e, i, a, r) { var n = t.newArray(e.length, null), o = function t(e, i, a, r, n) { if (a === r) return e; for (var o = (a + r | 0) / 2 | 0, s = t(e, i, a, o, n), l = t(e, i, o + 1 | 0, r, n), c = s === i ? e : i, p = a, h = o + 1 | 0, d = a; d <= r; d++)if (p <= o && h <= r) { var u = s[p], _ = l[h]; n.compare(u, _) <= 0 ? (c[d] = u, p = p + 1 | 0) : (c[d] = _, h = h + 1 | 0) } else p <= o ? (c[d] = s[p], p = p + 1 | 0) : (c[d] = l[h], h = h + 1 | 0); return c }(e, n, i, a, r); if (o !== e) for (var s = i; s <= a; s++)e[s] = o[s] }(e, 0, V(e), i); var r } function ka(t, e) { return (3 & t) - (3 & e) | 0 } function Ra() { } function Pa() { xa = this } ea.prototype.compare = function (t, e) { return this.function$(t, e) }, ea.$metadata$ = { kind: v, simpleName: "Comparator", interfaces: [] }, da.prototype.remove_11rb$ = function (t) { this.checkIsMutable(); for (var e = this.iterator(); e.hasNext();)if (r(e.next(), t)) return e.remove(), !0; return !1 }, da.prototype.addAll_brywnq$ = function (t) { var e; this.checkIsMutable(); var i = !1; for (e = t.iterator(); e.hasNext();) { var a = e.next(); this.add_11rb$(a) && (i = !0) } return i }, da.prototype.removeAll_brywnq$ = function (e) { var i; return this.checkIsMutable(), ts(t.isType(this, Mt) ? this : yr(), (i = e, function (t) { return i.contains_11rb$(t) })) }, da.prototype.retainAll_brywnq$ = function (e) { var i; return this.checkIsMutable(), ts(t.isType(this, Mt) ? this : yr(), (i = e, function (t) { return !i.contains_11rb$(t) })) }, da.prototype.clear = function () { this.checkIsMutable(); for (var t = this.iterator(); t.hasNext();)t.next(), t.remove() }, da.prototype.toJSON = function () { return this.toArray() }, da.prototype.checkIsMutable = function () { }, da.$metadata$ = { kind: h, simpleName: "AbstractMutableCollection", interfaces: [Dt, Zn] }, ua.prototype.add_11rb$ = function (t) { return this.checkIsMutable(), this.add_wxm5ur$(this.size, t), !0 }, ua.prototype.addAll_u57x28$ = function (t, e) { var i, a; this.checkIsMutable(); var r = t, n = !1; for (i = e.iterator(); i.hasNext();) { var o = i.next(); this.add_wxm5ur$((r = (a = r) + 1 | 0, a), o), n = !0 } return n }, ua.prototype.clear = function () { this.checkIsMutable(), this.removeRange_vux9f0$(0, this.size) }, ua.prototype.removeAll_brywnq$ = function (t) { return this.checkIsMutable(), is(this, (e = t, function (t) { return e.contains_11rb$(t) })); var e }, ua.prototype.retainAll_brywnq$ = function (t) { return this.checkIsMutable(), is(this, (e = t, function (t) { return !e.contains_11rb$(t) })); var e }, ua.prototype.iterator = function () { return new _a(this) }, ua.prototype.contains_11rb$ = function (t) { return this.indexOf_11rb$(t) >= 0 }, ua.prototype.indexOf_11rb$ = function (t) { var e; e = ko(this); for (var i = 0; i <= e; i++)if (r(this.get_za3lpa$(i), t)) return i; return -1 }, ua.prototype.lastIndexOf_11rb$ = function (t) { for (var e = ko(this); e >= 0; e--)if (r(this.get_za3lpa$(e), t)) return e; return -1 }, ua.prototype.listIterator = function () { return this.listIterator_za3lpa$(0) }, ua.prototype.listIterator_za3lpa$ = function (t) { return new fa(this, t) }, ua.prototype.subList_vux9f0$ = function (t, e) { return new ya(this, t, e) }, ua.prototype.removeRange_vux9f0$ = function (t, e) { for (var i = this.listIterator_za3lpa$(t), a = e - t | 0, r = 0; r < a; r++)i.next(), i.remove() }, ua.prototype.equals = function (e) { return e === this || !!t.isType(e, xt) && no().orderedEquals_e92ka7$(this, e) }, ua.prototype.hashCode = function () { return no().orderedHashCode_nykoif$(this) }, _a.prototype.hasNext = function () { return this.index_0 < this.$outer.size }, _a.prototype.next = function () { var t; if (!this.hasNext()) throw bi(); return this.last_0 = (t = this.index_0, this.index_0 = t + 1 | 0, t), this.$outer.get_za3lpa$(this.last_0) }, _a.prototype.remove = function () { if (-1 === this.last_0) throw fi("Call next() or previous() before removing element from the iterator.".toString()); this.$outer.removeAt_za3lpa$(this.last_0), this.index_0 = this.last_0, this.last_0 = -1 }, _a.$metadata$ = { kind: h, simpleName: "IteratorImpl", interfaces: [Gt] }, fa.prototype.hasPrevious = function () { return this.index_0 > 0 }, fa.prototype.nextIndex = function () { return this.index_0 }, fa.prototype.previous = function () { if (!this.hasPrevious()) throw bi(); return this.last_0 = (this.index_0 = this.index_0 - 1 | 0, this.index_0), this.$outer.get_za3lpa$(this.last_0) }, fa.prototype.previousIndex = function () { return this.index_0 - 1 | 0 }, fa.prototype.add_11rb$ = function (t) { this.$outer.add_wxm5ur$(this.index_0, t), this.index_0 = this.index_0 + 1 | 0, this.last_0 = -1 }, fa.prototype.set_11rb$ = function (t) { if (-1 === this.last_0) throw fi("Call next() or previous() before updating element value with the iterator.".toString()); this.$outer.set_wxm5ur$(this.last_0, t) }, fa.$metadata$ = { kind: h, simpleName: "ListIteratorImpl", interfaces: [Yt, _a] }, ya.prototype.add_wxm5ur$ = function (t, e) { no().checkPositionIndex_6xvm5r$(t, this._size_0), this.list_0.add_wxm5ur$(this.fromIndex_0 + t | 0, e), this._size_0 = this._size_0 + 1 | 0 }, ya.prototype.get_za3lpa$ = function (t) { return no().checkElementIndex_6xvm5r$(t, this._size_0), this.list_0.get_za3lpa$(this.fromIndex_0 + t | 0) }, ya.prototype.removeAt_za3lpa$ = function (t) { no().checkElementIndex_6xvm5r$(t, this._size_0); var e = this.list_0.removeAt_za3lpa$(this.fromIndex_0 + t | 0); return this._size_0 = this._size_0 - 1 | 0, e }, ya.prototype.set_wxm5ur$ = function (t, e) { return no().checkElementIndex_6xvm5r$(t, this._size_0), this.list_0.set_wxm5ur$(this.fromIndex_0 + t | 0, e) }, Object.defineProperty(ya.prototype, "size", { configurable: !0, get: function () { return this._size_0 } }), ya.prototype.checkIsMutable = function () { this.list_0.checkIsMutable() }, ya.$metadata$ = { kind: h, simpleName: "SubList", interfaces: [cr, ua] }, ua.$metadata$ = { kind: h, simpleName: "AbstractMutableList", interfaces: [zt, da] }, Object.defineProperty($a.prototype, "key", { get: function () { return this.key_5xhq3d$_0 } }), Object.defineProperty($a.prototype, "value", { configurable: !0, get: function () { return this._value_0 } }), $a.prototype.setValue_11rc$ = function (t) { var e = this._value_0; return this._value_0 = t, e }, $a.prototype.hashCode = function () { return _o().entryHashCode_9fthdn$(this) }, $a.prototype.toString = function () { return _o().entryToString_9fthdn$(this) }, $a.prototype.equals = function (t) { return _o().entryEquals_js7fox$(this, t) }, $a.$metadata$ = { kind: h, simpleName: "SimpleEntry", interfaces: [qt] }, ga.prototype.contains_11rb$ = function (t) { return this.containsEntry_kw6fkd$(t) }, ga.prototype.remove_11rb$ = function (t) { return this.removeEntry_kw6fkd$(t) }, ga.$metadata$ = { kind: h, simpleName: "AbstractEntrySet", interfaces: [Aa] }, ma.prototype.clear = function () { this.entries.clear() }, va.prototype.add_11rb$ = function (t) { throw vi("Add is not supported on keys") }, va.prototype.clear = function () { this.this$AbstractMutableMap.clear() }, va.prototype.contains_11rb$ = function (t) { return this.this$AbstractMutableMap.containsKey_11rb$(t) }, Sa.prototype.hasNext = function () { return this.closure$entryIterator.hasNext() }, Sa.prototype.next = function () { return this.closure$entryIterator.next().key }, Sa.prototype.remove = function () { this.closure$entryIterator.remove() }, Sa.$metadata$ = { kind: h, interfaces: [Gt] }, va.prototype.iterator = function () { return new Sa(this.this$AbstractMutableMap.entries.iterator()) }, va.prototype.remove_11rb$ = function (t) { return this.checkIsMutable(), !!this.this$AbstractMutableMap.containsKey_11rb$(t) && (this.this$AbstractMutableMap.remove_11rb$(t), !0) }, Object.defineProperty(va.prototype, "size", { configurable: !0, get: function () { return this.this$AbstractMutableMap.size } }), va.prototype.checkIsMutable = function () { this.this$AbstractMutableMap.checkIsMutable() }, va.$metadata$ = { kind: h, interfaces: [Aa] }, Object.defineProperty(ma.prototype, "keys", { configurable: !0, get: function () { return null == this._keys_qe2m0n$_0 && (this._keys_qe2m0n$_0 = new va(this)), b(this._keys_qe2m0n$_0) } }), ma.prototype.putAll_a2k3zr$ = function (t) { var e; for (this.checkIsMutable(), e = t.entries.iterator(); e.hasNext();) { var i = e.next(), a = i.key, r = i.value; this.put_xwzc9p$(a, r) } }, Ca.prototype.add_11rb$ = function (t) { throw vi("Add is not supported on values") }, Ca.prototype.clear = function () { this.this$AbstractMutableMap.clear() }, Ca.prototype.contains_11rb$ = function (t) { return this.this$AbstractMutableMap.containsValue_11rc$(t) }, Ea.prototype.hasNext = function () { return this.closure$entryIterator.hasNext() }, Ea.prototype.next = function () { return this.closure$entryIterator.next().value }, Ea.prototype.remove = function () { this.closure$entryIterator.remove() }, Ea.$metadata$ = { kind: h, interfaces: [Gt] }, Ca.prototype.iterator = function () { return new Ea(this.this$AbstractMutableMap.entries.iterator()) }, Object.defineProperty(Ca.prototype, "size", { configurable: !0, get: function () { return this.this$AbstractMutableMap.size } }), Ca.prototype.equals = function (e) { return this === e || !!t.isType(e, Nt) && no().orderedEquals_e92ka7$(this, e) }, Ca.prototype.hashCode = function () { return no().orderedHashCode_nykoif$(this) }, Ca.prototype.checkIsMutable = function () { this.this$AbstractMutableMap.checkIsMutable() }, Ca.$metadata$ = { kind: h, interfaces: [da] }, Object.defineProperty(ma.prototype, "values", { configurable: !0, get: function () { return null == this._values_kxdlqh$_0 && (this._values_kxdlqh$_0 = new Ca(this)), b(this._values_kxdlqh$_0) } }), ma.prototype.remove_11rb$ = function (t) { this.checkIsMutable(); for (var e = this.entries.iterator(); e.hasNext();) { var i = e.next(), a = i.key; if (r(t, a)) { var n = i.value; return e.remove(), n } } return null }, ma.prototype.checkIsMutable = function () { }, ma.$metadata$ = { kind: h, simpleName: "AbstractMutableMap", interfaces: [Ht, oo] }, Aa.prototype.equals = function (e) { return e === this || !!t.isType(e, Ot) && $o().setEquals_y8f7en$(this, e) }, Aa.prototype.hashCode = function () { return $o().unorderedHashCode_nykoif$(this) }, Aa.$metadata$ = { kind: h, simpleName: "AbstractMutableSet", interfaces: [Ft, da] }, ba.prototype.build = function () { return this.checkIsMutable(), this.isReadOnly_dbt2oh$_0 = !0, this }, ba.prototype.trimToSize = function () { }, ba.prototype.ensureCapacity_za3lpa$ = function (t) { }, Object.defineProperty(ba.prototype, "size", { configurable: !0, get: function () { return this.array_hd7ov6$_0.length } }), ba.prototype.get_za3lpa$ = function (e) { var i; return null == (i = this.array_hd7ov6$_0[this.rangeCheck_xcmk5o$_0(e)]) || t.isType(i, I) ? i : yr() }, ba.prototype.set_wxm5ur$ = function (e, i) { var a; this.checkIsMutable(), this.rangeCheck_xcmk5o$_0(e); var r = this.array_hd7ov6$_0[e]; return this.array_hd7ov6$_0[e] = i, null == (a = r) || t.isType(a, I) ? a : yr() }, ba.prototype.add_11rb$ = function (t) { return this.checkIsMutable(), this.array_hd7ov6$_0.push(t), this.modCount = this.modCount + 1 | 0, !0 }, ba.prototype.add_wxm5ur$ = function (t, e) { this.checkIsMutable(), this.array_hd7ov6$_0.splice(this.insertionRangeCheck_xwivfl$_0(t), 0, e), this.modCount = this.modCount + 1 | 0 }, ba.prototype.addAll_brywnq$ = function (t) { return this.checkIsMutable(), !t.isEmpty() && (this.array_hd7ov6$_0 = this.array_hd7ov6$_0.concat(ia(t)), this.modCount = this.modCount + 1 | 0, !0) }, ba.prototype.addAll_u57x28$ = function (t, e) { return this.checkIsMutable(), this.insertionRangeCheck_xwivfl$_0(t), t === this.size ? this.addAll_brywnq$(e) : !e.isEmpty() && (t === this.size ? this.addAll_brywnq$(e) : (this.array_hd7ov6$_0 = 0 === t ? ia(e).concat(this.array_hd7ov6$_0) : Di(this.array_hd7ov6$_0, 0, t).concat(ia(e), Di(this.array_hd7ov6$_0, t, this.size)), this.modCount = this.modCount + 1 | 0, !0)) }, ba.prototype.removeAt_za3lpa$ = function (t) { return this.checkIsMutable(), this.rangeCheck_xcmk5o$_0(t), this.modCount = this.modCount + 1 | 0, t === ko(this) ? this.array_hd7ov6$_0.pop() : this.array_hd7ov6$_0.splice(t, 1)[0] }, ba.prototype.remove_11rb$ = function (t) { var e; this.checkIsMutable(), e = this.array_hd7ov6$_0; for (var i = 0; i !== e.length; ++i)if (r(this.array_hd7ov6$_0[i], t)) return this.array_hd7ov6$_0.splice(i, 1), this.modCount = this.modCount + 1 | 0, !0; return !1 }, ba.prototype.removeRange_vux9f0$ = function (t, e) { this.checkIsMutable(), this.modCount = this.modCount + 1 | 0, this.array_hd7ov6$_0.splice(t, e - t | 0) }, ba.prototype.clear = function () { this.checkIsMutable(), this.array_hd7ov6$_0 = [], this.modCount = this.modCount + 1 | 0 }, ba.prototype.indexOf_11rb$ = function (t) { return H(this.array_hd7ov6$_0, t) }, ba.prototype.lastIndexOf_11rb$ = function (t) { return G(this.array_hd7ov6$_0, t) }, ba.prototype.toString = function () { return T(this.array_hd7ov6$_0) }, ba.prototype.toArray_ro6dgy$ = function (e) { var i, a; if (e.length < this.size) return t.isArray(i = this.toArray()) ? i : yr(); var r = t.isArray(a = this.array_hd7ov6$_0) ? a : yr(); return ca(r, e, 0, 0, r.length), e.length > this.size && (e[this.size] = null), e }, ba.prototype.toArray = function () { return [].slice.call(this.array_hd7ov6$_0) }, ba.prototype.checkIsMutable = function () { if (this.isReadOnly_dbt2oh$_0) throw gi() }, ba.prototype.rangeCheck_xcmk5o$_0 = function (t) { return no().checkElementIndex_6xvm5r$(t, this.size), t }, ba.prototype.insertionRangeCheck_xwivfl$_0 = function (t) { return no().checkPositionIndex_6xvm5r$(t, this.size), t }, ba.$metadata$ = { kind: h, simpleName: "ArrayList", interfaces: [cr, ua, zt] }, Pa.prototype.equals_oaftn8$ = function (t, e) { return r(t, e) }, Pa.prototype.getHashCode_s8jyv4$ = function (t) { var e; return null != (e = null != t ? k(t) : null) ? e : 0 }, Pa.$metadata$ = { kind: S, simpleName: "HashCode", interfaces: [Ra] }; var Ma, Na, Da, xa = null; function za() { return null === xa && new Pa, xa } function Oa() { this.internalMap_uxhen5$_0 = null, this.equality_vgh6cm$_0 = null, this._entries_7ih87x$_0 = null } function Fa(t) { this.$outer = t, ga.call(this) } function Ba(t, e) { return e = e || Object.create(Oa.prototype), ma.call(e), Oa.call(e), e.internalMap_uxhen5$_0 = t, e.equality_vgh6cm$_0 = t.equality, e } function ja(t) { return t = t || Object.create(Oa.prototype), Ba(new Va(za()), t), t } function Ha(t, e, i) { if (void 0 === e && (e = 0), ja(i = i || Object.create(Oa.prototype)), !(t >= 0)) throw ui(("Negative initial capacity: " + t).toString()); if (!(e >= 0)) throw ui(("Non-positive load factor: " + e).toString()); return i } function qa(t, e) { return Ha(t, 0, e = e || Object.create(Oa.prototype)), e } function Ua() { this.map_8be2vx$ = null } function Ga(t, e, i) { return void 0 === e && (e = 0), i = i || Object.create(Ua.prototype), Aa.call(i), Ua.call(i), i.map_8be2vx$ = Ha(t, e), i } function Wa(t, e) { return Ga(t, 0, e = e || Object.create(Ua.prototype)), e } function Ya(t, e) { return e = e || Object.create(Ua.prototype), Aa.call(e), Ua.call(e), e.map_8be2vx$ = t, e } function Va(t) { this.equality_mamlu8$_0 = t, this.backingMap_0 = this.createJsMap(), this.size_x3bm7r$_0 = 0 } function Ka(t) { this.this$InternalHashCodeMap = t, this.state = -1, this.keys = Object.keys(t.backingMap_0), this.keyIndex = -1, this.chainOrEntry = null, this.isChain = !1, this.itemIndex = -1, this.lastEntry = null } function Xa() { } function Ja(t) { this.equality_qma612$_0 = t, this.backingMap_0 = this.createJsMap(), this.size_6u3ykz$_0 = 0 } function Za() { this.head_1lr44l$_0 = null, this.map_97q5dv$_0 = null, this.isReadOnly_uhyvn5$_0 = !1 } function Qa(t, e, i) { this.$outer = t, $a.call(this, e, i), this.next_8be2vx$ = null, this.prev_8be2vx$ = null } function tr(t) { this.$outer = t, ga.call(this) } function er(t) { this.$outer = t, this.last_0 = null, this.next_0 = null, this.next_0 = this.$outer.$outer.head_1lr44l$_0 } function ir(t) { return ja(t = t || Object.create(Za.prototype)), Za.call(t), t.map_97q5dv$_0 = ja(), t } function ar(t, e, i) { return void 0 === e && (e = 0), Ha(t, e, i = i || Object.create(Za.prototype)), Za.call(i), i.map_97q5dv$_0 = ja(), i } function rr(t, e) { return ar(t, 0, e = e || Object.create(Za.prototype)), e } function nr() { } function or(t) { return t = t || Object.create(nr.prototype), Ya(ir(), t), nr.call(t), t } function sr(t, e, i) { return void 0 === e && (e = 0), i = i || Object.create(nr.prototype), Ya(ar(t, e), i), nr.call(i), i } function lr(t, e) { return sr(t, 0, e = e || Object.create(nr.prototype)), e } function cr() { } function pr() { } function hr(t) { pr.call(this), this.outputStream = t } function dr() { pr.call(this), this.buffer = "" } function ur() { dr.call(this) } function _r(t, e) { this.delegate_0 = t, this.result_0 = e } function fr(t, e) { this.closure$context = t, this.closure$resumeWith = e } function yr() { throw new Ei("Illegal cast") } function mr(t) { throw fi(t) } function $r() { } function gr(e) { if (vr(e) || e === s.NEGATIVE_INFINITY) return e; if (0 === e) return -s.MIN_VALUE; var i = R(e).add(t.Long.fromInt(e > 0 ? -1 : 1)); return t.doubleFromBits(i) } function vr(t) { return t != t } function Sr(t) { return t != t } function Cr(t) { return t === s.POSITIVE_INFINITY || t === s.NEGATIVE_INFINITY } function Er(t) { return t === P.POSITIVE_INFINITY || t === P.NEGATIVE_INFINITY } function Ar(t) { return !Cr(t) && !vr(t) } function br() { return ul(Math.random() * Math.pow(2, 32) | 0) } function Ir(t, e) { return t * Na + e * Da } function wr() { } function Lr() { } function Tr(t) { this.jClass_1ppatx$_0 = t } function kr(t) { var e; Tr.call(this, t), this.simpleName_m7mxi0$_0 = null != (e = t.$metadata$) ? e.simpleName : null } function Rr(t, e, i) { Tr.call(this, t), this.givenSimpleName_0 = e, this.isInstanceFunction_0 = i } function Pr() { Mr = this, Tr.call(this, Object), this.simpleName_lnzy73$_0 = "Nothing" } Ra.$metadata$ = { kind: v, simpleName: "EqualityComparator", interfaces: [] }, Fa.prototype.add_11rb$ = function (t) { throw vi("Add is not supported on entries") }, Fa.prototype.clear = function () { this.$outer.clear() }, Fa.prototype.containsEntry_kw6fkd$ = function (t) { return this.$outer.containsEntry_8hxqw4$(t) }, Fa.prototype.iterator = function () { return this.$outer.internalMap_uxhen5$_0.iterator() }, Fa.prototype.removeEntry_kw6fkd$ = function (t) { return !!tt(this, t) && (this.$outer.remove_11rb$(t.key), !0) }, Object.defineProperty(Fa.prototype, "size", { configurable: !0, get: function () { return this.$outer.size } }), Fa.$metadata$ = { kind: h, simpleName: "EntrySet", interfaces: [ga] }, Oa.prototype.clear = function () { this.internalMap_uxhen5$_0.clear() }, Oa.prototype.containsKey_11rb$ = function (t) { return this.internalMap_uxhen5$_0.contains_11rb$(t) }, Oa.prototype.containsValue_11rc$ = function (e) { var i, a = this.internalMap_uxhen5$_0; t: do { var r; if (t.isType(a, Nt) && a.isEmpty()) { i = !1; break t } for (r = a.iterator(); r.hasNext();) { var n = r.next(); if (this.equality_vgh6cm$_0.equals_oaftn8$(n.value, e)) { i = !0; break t } } i = !1 } while (0); return i }, Object.defineProperty(Oa.prototype, "entries", { configurable: !0, get: function () { return null == this._entries_7ih87x$_0 && (this._entries_7ih87x$_0 = this.createEntrySet()), b(this._entries_7ih87x$_0) } }), Oa.prototype.createEntrySet = function () { return new Fa(this) }, Oa.prototype.get_11rb$ = function (t) { return this.internalMap_uxhen5$_0.get_11rb$(t) }, Oa.prototype.put_xwzc9p$ = function (t, e) { return this.internalMap_uxhen5$_0.put_xwzc9p$(t, e) }, Oa.prototype.remove_11rb$ = function (t) { return this.internalMap_uxhen5$_0.remove_11rb$(t) }, Object.defineProperty(Oa.prototype, "size", { configurable: !0, get: function () { return this.internalMap_uxhen5$_0.size } }), Oa.$metadata$ = { kind: h, simpleName: "HashMap", interfaces: [ma, Ht] }, Ua.prototype.add_11rb$ = function (t) { return null == this.map_8be2vx$.put_xwzc9p$(t, this) }, Ua.prototype.clear = function () { this.map_8be2vx$.clear() }, Ua.prototype.contains_11rb$ = function (t) { return this.map_8be2vx$.containsKey_11rb$(t) }, Ua.prototype.isEmpty = function () { return this.map_8be2vx$.isEmpty() }, Ua.prototype.iterator = function () { return this.map_8be2vx$.keys.iterator() }, Ua.prototype.remove_11rb$ = function (t) { return null != this.map_8be2vx$.remove_11rb$(t) }, Object.defineProperty(Ua.prototype, "size", { configurable: !0, get: function () { return this.map_8be2vx$.size } }), Ua.$metadata$ = { kind: h, simpleName: "HashSet", interfaces: [Aa, Ft] }, Object.defineProperty(Va.prototype, "equality", { get: function () { return this.equality_mamlu8$_0 } }), Object.defineProperty(Va.prototype, "size", { configurable: !0, get: function () { return this.size_x3bm7r$_0 }, set: function (t) { this.size_x3bm7r$_0 = t } }), Va.prototype.put_xwzc9p$ = function (e, i) { var a = this.equality.getHashCode_s8jyv4$(e), r = this.getChainOrEntryOrNull_0(a); if (null == r) this.backingMap_0[a] = new $a(e, i); else { if (!t.isArray(r)) { var n = r; return this.equality.equals_oaftn8$(n.key, e) ? n.setValue_11rc$(i) : (this.backingMap_0[a] = [n, new $a(e, i)], this.size = this.size + 1 | 0, null) } var o = r, s = this.findEntryInChain_0(o, e); if (null != s) return s.setValue_11rc$(i); o.push(new $a(e, i)) } return this.size = this.size + 1 | 0, null }, Va.prototype.remove_11rb$ = function (e) { var i, a = this.equality.getHashCode_s8jyv4$(e); if (null == (i = this.getChainOrEntryOrNull_0(a))) return null; var r = i; if (!t.isArray(r)) { var n = r; return this.equality.equals_oaftn8$(n.key, e) ? (delete this.backingMap_0[a], this.size = this.size - 1 | 0, n.value) : null } for (var o = r, s = 0; s !== o.length; ++s) { var l = o[s]; if (this.equality.equals_oaftn8$(e, l.key)) return 1 === o.length ? (o.length = 0, delete this.backingMap_0[a]) : o.splice(s, 1), this.size = this.size - 1 | 0, l.value } return null }, Va.prototype.clear = function () { this.backingMap_0 = this.createJsMap(), this.size = 0 }, Va.prototype.contains_11rb$ = function (t) { return null != this.getEntry_0(t) }, Va.prototype.get_11rb$ = function (t) { var e; return null != (e = this.getEntry_0(t)) ? e.value : null }, Va.prototype.getEntry_0 = function (e) { var i; if (null == (i = this.getChainOrEntryOrNull_0(this.equality.getHashCode_s8jyv4$(e)))) return null; var a = i; if (t.isArray(a)) { var r = a; return this.findEntryInChain_0(r, e) } var n = a; return this.equality.equals_oaftn8$(n.key, e) ? n : null }, Va.prototype.findEntryInChain_0 = function (t, e) { var i; t: do { var a; for (a = 0; a !== t.length; ++a) { var r = t[a]; if (this.equality.equals_oaftn8$(r.key, e)) { i = r; break t } } i = null } while (0); return i }, Ka.prototype.computeNext_0 = function () { if (null != this.chainOrEntry && this.isChain) { var e = this.chainOrEntry.length; if (this.itemIndex = this.itemIndex + 1 | 0, this.itemIndex < e) return 0 } return this.keyIndex = this.keyIndex + 1 | 0, this.keyIndex < this.keys.length ? (this.chainOrEntry = this.this$InternalHashCodeMap.backingMap_0[this.keys[this.keyIndex]], this.isChain = t.isArray(this.chainOrEntry), this.itemIndex = 0, 0) : (this.chainOrEntry = null, 1) }, Ka.prototype.hasNext = function () { return -1 === this.state && (this.state = this.computeNext_0()), 0 === this.state }, Ka.prototype.next = function () { if (!this.hasNext()) throw bi(); var t = this.isChain ? this.chainOrEntry[this.itemIndex] : this.chainOrEntry; return this.lastEntry = t, this.state = -1, t }, Ka.prototype.remove = function () { if (null == this.lastEntry) throw fi("Required value was null.".toString()); this.this$InternalHashCodeMap.remove_11rb$(b(this.lastEntry).key), this.lastEntry = null, this.itemIndex = this.itemIndex - 1 | 0 }, Ka.$metadata$ = { kind: h, interfaces: [Gt] }, Va.prototype.iterator = function () { return new Ka(this) }, Va.prototype.getChainOrEntryOrNull_0 = function (t) { var e = this.backingMap_0[t]; return void 0 === e ? null : e }, Va.$metadata$ = { kind: h, simpleName: "InternalHashCodeMap", interfaces: [Xa] }, Xa.prototype.createJsMap = function () { var t = Object.create(null); return t.foo = 1, delete t.foo, t }, Xa.$metadata$ = { kind: v, simpleName: "InternalMap", interfaces: [Mt] }, Qa.prototype.setValue_11rc$ = function (t) { return this.$outer.checkIsMutable(), $a.prototype.setValue_11rc$.call(this, t) }, Qa.$metadata$ = { kind: h, simpleName: "ChainEntry", interfaces: [$a] }, er.prototype.hasNext = function () { return null !== this.next_0 }, er.prototype.next = function () { if (!this.hasNext()) throw bi(); var t = b(this.next_0); this.last_0 = t; var e = t.next_8be2vx$; return this.$outer.$outer, this.next_0 = e !== this.$outer.$outer.head_1lr44l$_0 ? e : null, t }, er.prototype.remove = function () { if (null == this.last_0) throw fi("Check failed.".toString()); this.$outer.checkIsMutable(), this.$outer.$outer.remove_njjxy0$_0(b(this.last_0)), this.$outer.$outer.map_97q5dv$_0.remove_11rb$(b(this.last_0).key), this.last_0 = null }, er.$metadata$ = { kind: h, simpleName: "EntryIterator", interfaces: [Gt] }, tr.prototype.add_11rb$ = function (t) { throw vi("Add is not supported on entries") }, tr.prototype.clear = function () { this.$outer.clear() }, tr.prototype.containsEntry_kw6fkd$ = function (t) { return this.$outer.containsEntry_8hxqw4$(t) }, tr.prototype.iterator = function () { return new er(this) }, tr.prototype.removeEntry_kw6fkd$ = function (t) { return this.checkIsMutable(), !!tt(this, t) && (this.$outer.remove_11rb$(t.key), !0) }, Object.defineProperty(tr.prototype, "size", { configurable: !0, get: function () { return this.$outer.size } }), tr.prototype.checkIsMutable = function () { this.$outer.checkIsMutable() }, tr.$metadata$ = { kind: h, simpleName: "EntrySet", interfaces: [ga] }, Za.prototype.addToEnd_lfi3hf$_0 = function (t) { if (null != t.next_8be2vx$ || null != t.prev_8be2vx$) throw fi("Check failed.".toString()); var e = this.head_1lr44l$_0; if (null == e) this.head_1lr44l$_0 = t, t.next_8be2vx$ = t, t.prev_8be2vx$ = t; else { var i = e.prev_8be2vx$; if (null == i) throw fi("Required value was null.".toString()); var a = i; t.prev_8be2vx$ = a, t.next_8be2vx$ = e, e.prev_8be2vx$ = t, a.next_8be2vx$ = t } }, Za.prototype.remove_njjxy0$_0 = function (t) { t.next_8be2vx$ === t ? this.head_1lr44l$_0 = null : (this.head_1lr44l$_0 === t && (this.head_1lr44l$_0 = t.next_8be2vx$), b(t.next_8be2vx$).prev_8be2vx$ = t.prev_8be2vx$, b(t.prev_8be2vx$).next_8be2vx$ = t.next_8be2vx$), t.next_8be2vx$ = null, t.prev_8be2vx$ = null }, Za.prototype.build = function () { return this.checkIsMutable(), this.isReadOnly_uhyvn5$_0 = !0, this }, Za.prototype.clear = function () { this.checkIsMutable(), this.map_97q5dv$_0.clear(), this.head_1lr44l$_0 = null }, Za.prototype.containsKey_11rb$ = function (t) { return this.map_97q5dv$_0.containsKey_11rb$(t) }, Za.prototype.containsValue_11rc$ = function (t) { var e; if (null == (e = this.head_1lr44l$_0)) return !1; var i = e; do { if (r(i.value, t)) return !0; i = b(i.next_8be2vx$) } while (i !== this.head_1lr44l$_0); return !1 }, Za.prototype.createEntrySet = function () { return new tr(this) }, Za.prototype.get_11rb$ = function (t) { var e; return null != (e = this.map_97q5dv$_0.get_11rb$(t)) ? e.value : null }, Za.prototype.put_xwzc9p$ = function (t, e) { this.checkIsMutable(); var i = this.map_97q5dv$_0.get_11rb$(t); if (null == i) { var a = new Qa(this, t, e); return this.map_97q5dv$_0.put_xwzc9p$(t, a), this.addToEnd_lfi3hf$_0(a), null } return i.setValue_11rc$(e) }, Za.prototype.remove_11rb$ = function (t) { this.checkIsMutable(); var e = this.map_97q5dv$_0.remove_11rb$(t); return null != e ? (this.remove_njjxy0$_0(e), e.value) : null }, Object.defineProperty(Za.prototype, "size", { configurable: !0, get: function () { return this.map_97q5dv$_0.size } }), Za.prototype.checkIsMutable = function () { if (this.isReadOnly_uhyvn5$_0) throw gi() }, Za.$metadata$ = { kind: h, simpleName: "LinkedHashMap", interfaces: [Oa, Ht] }, nr.prototype.build = function () { var e; return (t.isType(e = this.map_8be2vx$, Za) ? e : yr()).build(), this }, nr.prototype.checkIsMutable = function () { this.map_8be2vx$.checkIsMutable() }, nr.$metadata$ = { kind: h, simpleName: "LinkedHashSet", interfaces: [Ua, Ft] }, cr.$metadata$ = { kind: v, simpleName: "RandomAccess", interfaces: [] }, pr.prototype.println = function () { this.print_s8jyv4$("\n") }, pr.prototype.println_s8jyv4$ = function (t) { this.print_s8jyv4$(t), this.println() }, pr.prototype.flush = function () { }, pr.$metadata$ = { kind: h, simpleName: "BaseOutput", interfaces: [] }, hr.prototype.print_s8jyv4$ = function (t) { var e = String(t); this.outputStream.write(e) }, hr.$metadata$ = { kind: h, simpleName: "NodeJsOutput", interfaces: [pr] }, dr.prototype.print_s8jyv4$ = function (t) { this.buffer += String(t) }, dr.prototype.flush = function () { this.buffer = "" }, dr.$metadata$ = { kind: h, simpleName: "BufferedOutput", interfaces: [pr] }, ur.prototype.print_s8jyv4$ = function (t) { var e = String(t), i = e.lastIndexOf("\n", 0); i >= 0 && (this.buffer = this.buffer + e.substring(0, i), this.flush(), e = e.substring(i + 1 | 0)), this.buffer = this.buffer + e }, ur.prototype.flush = function () { console.log(this.buffer), this.buffer = "" }, ur.$metadata$ = { kind: h, simpleName: "BufferedOutputToConsoleLog", interfaces: [dr] }, Object.defineProperty(_r.prototype, "context", { configurable: !0, get: function () { return this.delegate_0.context } }), _r.prototype.resumeWith_tl1gpc$ = function (t) { var e = this.result_0; if (e === nl()) this.result_0 = t.value; else { if (e !== el()) throw fi("Already resumed"); this.result_0 = ol(), this.delegate_0.resumeWith_tl1gpc$(t) } }, _r.prototype.getOrThrow = function () { var e; if (this.result_0 === nl()) return this.result_0 = el(), el(); var i = this.result_0; if (i === ol()) e = el(); else { if (t.isType(i, yc)) throw i.exception; e = i } return e }, _r.$metadata$ = { kind: h, simpleName: "SafeContinuation", interfaces: [Ns] }, Object.defineProperty(fr.prototype, "context", { configurable: !0, get: function () { return this.closure$context } }), fr.prototype.resumeWith_tl1gpc$ = function (t) { this.closure$resumeWith(t) }, fr.$metadata$ = { kind: h, interfaces: [Ns] }, $r.$metadata$ = { kind: v, simpleName: "Serializable", interfaces: [] }, wr.$metadata$ = { kind: v, simpleName: "KCallable", interfaces: [] }, Lr.$metadata$ = { kind: v, simpleName: "KClass", interfaces: [bl] }, Object.defineProperty(Tr.prototype, "jClass", { get: function () { return this.jClass_1ppatx$_0 } }), Object.defineProperty(Tr.prototype, "qualifiedName", { configurable: !0, get: function () { throw new gc } }), Tr.prototype.equals = function (e) { return t.isType(e, Tr) && r(this.jClass, e.jClass) }, Tr.prototype.hashCode = function () { var t, e; return null != (e = null != (t = this.simpleName) ? k(t) : null) ? e : 0 }, Tr.prototype.toString = function () { return "class " + $(this.simpleName) }, Tr.$metadata$ = { kind: h, simpleName: "KClassImpl", interfaces: [Lr] }, Object.defineProperty(kr.prototype, "simpleName", { configurable: !0, get: function () { return this.simpleName_m7mxi0$_0 } }), kr.prototype.isInstance_s8jyv4$ = function (e) { var i = this.jClass; return t.isType(e, i) }, kr.$metadata$ = { kind: h, simpleName: "SimpleKClassImpl", interfaces: [Tr] }, Rr.prototype.equals = function (e) { return !!t.isType(e, Rr) && Tr.prototype.equals.call(this, e) && r(this.givenSimpleName_0, e.givenSimpleName_0) }, Object.defineProperty(Rr.prototype, "simpleName", { configurable: !0, get: function () { return this.givenSimpleName_0 } }), Rr.prototype.isInstance_s8jyv4$ = function (t) { return this.isInstanceFunction_0(t) }, Rr.$metadata$ = { kind: h, simpleName: "PrimitiveKClassImpl", interfaces: [Tr] }, Object.defineProperty(Pr.prototype, "simpleName", { configurable: !0, get: function () { return this.simpleName_lnzy73$_0 } }), Pr.prototype.isInstance_s8jyv4$ = function (t) { return !1 }, Object.defineProperty(Pr.prototype, "jClass", { configurable: !0, get: function () { throw vi("There's no native JS class for Nothing type") } }), Pr.prototype.equals = function (t) { return t === this }, Pr.prototype.hashCode = function () { return 0 }, Pr.$metadata$ = { kind: S, simpleName: "NothingKClassImpl", interfaces: [Tr] }; var Mr = null; function Nr() { return null === Mr && new Pr, Mr } function Dr() { } function xr() { } function zr() { } function Or() { } function Fr() { } function Br() { } function jr() { } function Hr() { } function qr(t, e, i) { this.classifier_50lv52$_0 = t, this.arguments_lev63t$_0 = e, this.isMarkedNullable_748rxs$_0 = i } function Ur(e) { switch (e.name) { case "INVARIANT": return ""; case "IN": return "in "; case "OUT": return "out "; default: return t.noWhenBranchMatched() } } function Gr() { un = this, this.anyClass = new Rr(Object, "Any", Wr), this.numberClass = new Rr(Number, "Number", Yr), this.nothingClass = Nr(), this.booleanClass = new Rr(Boolean, "Boolean", Vr), this.byteClass = new Rr(Number, "Byte", Kr), this.shortClass = new Rr(Number, "Short", Xr), this.intClass = new Rr(Number, "Int", Jr), this.floatClass = new Rr(Number, "Float", Zr), this.doubleClass = new Rr(Number, "Double", Qr), this.arrayClass = new Rr(Array, "Array", tn), this.stringClass = new Rr(String, "String", en), this.throwableClass = new Rr(Error, "Throwable", an), this.booleanArrayClass = new Rr(Array, "BooleanArray", rn), this.charArrayClass = new Rr(Uint16Array, "CharArray", nn), this.byteArrayClass = new Rr(Int8Array, "ByteArray", on), this.shortArrayClass = new Rr(Int16Array, "ShortArray", sn), this.intArrayClass = new Rr(Int32Array, "IntArray", ln), this.longArrayClass = new Rr(Array, "LongArray", cn), this.floatArrayClass = new Rr(Float32Array, "FloatArray", pn), this.doubleArrayClass = new Rr(Float64Array, "DoubleArray", hn) } function Wr(e) { return t.isType(e, I) } function Yr(e) { return t.isNumber(e) } function Vr(t) { return "boolean" == typeof t } function Kr(t) { return "number" == typeof t } function Xr(t) { return "number" == typeof t } function Jr(t) { return "number" == typeof t } function Zr(t) { return "number" == typeof t } function Qr(t) { return "number" == typeof t } function tn(e) { return t.isArray(e) } function en(t) { return "string" == typeof t } function an(e) { return t.isType(e, L) } function rn(e) { return t.isBooleanArray(e) } function nn(e) { return t.isCharArray(e) } function on(e) { return t.isByteArray(e) } function sn(e) { return t.isShortArray(e) } function ln(e) { return t.isIntArray(e) } function cn(e) { return t.isLongArray(e) } function pn(e) { return t.isFloatArray(e) } function hn(e) { return t.isDoubleArray(e) } Object.defineProperty(Dr.prototype, "simpleName", { configurable: !0, get: function () { throw fi("Unknown simpleName for ErrorKClass".toString()) } }), Object.defineProperty(Dr.prototype, "qualifiedName", { configurable: !0, get: function () { throw fi("Unknown qualifiedName for ErrorKClass".toString()) } }), Dr.prototype.isInstance_s8jyv4$ = function (t) { throw fi("Can's check isInstance on ErrorKClass".toString()) }, Dr.prototype.equals = function (t) { return t === this }, Dr.prototype.hashCode = function () { return 0 }, Dr.$metadata$ = { kind: h, simpleName: "ErrorKClass", interfaces: [Lr] }, xr.$metadata$ = { kind: v, simpleName: "KProperty", interfaces: [wr] }, zr.$metadata$ = { kind: v, simpleName: "KMutableProperty", interfaces: [xr] }, Or.$metadata$ = { kind: v, simpleName: "KProperty0", interfaces: [xr] }, Fr.$metadata$ = { kind: v, simpleName: "KMutableProperty0", interfaces: [zr, Or] }, Br.$metadata$ = { kind: v, simpleName: "KProperty1", interfaces: [xr] }, jr.$metadata$ = { kind: v, simpleName: "KMutableProperty1", interfaces: [zr, Br] }, Hr.$metadata$ = { kind: v, simpleName: "KType", interfaces: [] }, Object.defineProperty(qr.prototype, "classifier", { get: function () { return this.classifier_50lv52$_0 } }), Object.defineProperty(qr.prototype, "arguments", { get: function () { return this.arguments_lev63t$_0 } }), Object.defineProperty(qr.prototype, "isMarkedNullable", { get: function () { return this.isMarkedNullable_748rxs$_0 } }), qr.prototype.equals = function (e) { return t.isType(e, qr) && r(this.classifier, e.classifier) && r(this.arguments, e.arguments) && this.isMarkedNullable === e.isMarkedNullable }, qr.prototype.hashCode = function () { return (31 * ((31 * k(this.classifier) | 0) + k(this.arguments) | 0) | 0) + k(this.isMarkedNullable) | 0 }, qr.prototype.toString = function () { var e, i, a = t.isType(e = this.classifier, Lr) ? e : null; return (null == a ? this.classifier.toString() : null != a.simpleName ? a.simpleName : "(non-denotable type)") + (this.arguments.isEmpty() ? "" : ht(this.arguments, ", ", "<", ">", void 0, void 0, (i = this, function (t) { return i.asString_0(t) }))) + (this.isMarkedNullable ? "?" : "") }, qr.prototype.asString_0 = function (t) { return null == t.variance ? "*" : Ur(t.variance) + $(t.type) }, qr.$metadata$ = { kind: h, simpleName: "KTypeImpl", interfaces: [Hr] }, Gr.prototype.functionClass = function (t) { var e, i, a; if (null != (e = dn[t])) i = e; else { var r = new Rr(Function, "Function" + t, (a = t, function (t) { return "function" == typeof t && t.length === a })); dn[t] = r, i = r } return i }, Gr.$metadata$ = { kind: S, simpleName: "PrimitiveClasses", interfaces: [] }; var dn, un = null; function _n() { return null === un && new Gr, un } function fn(t) { return Array.isArray(t) ? yn(t) : mn(t) } function yn(t) { switch (t.length) { case 1: return mn(t[0]); case 0: return Nr(); default: return new Dr } } function mn(t) { var e; if (t === String) return _n().stringClass; var i = t.$metadata$; if (null != i) if (null == i.$kClass$) { var a = new kr(t); i.$kClass$ = a, e = a } else e = i.$kClass$; else e = new kr(t); return e } function $n(t) { t.lastIndex = 0 } function gn() { } function vn(t) { this.string_0 = void 0 !== t ? t : "" } function Sn(t, e) { return Cn(e = e || Object.create(vn.prototype)), e } function Cn(t) { return t = t || Object.create(vn.prototype), vn.call(t, ""), t } function En(t) { var e = String.fromCharCode(t).toUpperCase(); return e.length > 1 ? t : e.charCodeAt(0) } function An(t) { return Qi(t) } function bn(t) { return new $e(M.MIN_HIGH_SURROGATE, M.MAX_HIGH_SURROGATE).contains_mef7kx$(t) } function In(t) { return new $e(M.MIN_LOW_SURROGATE, M.MAX_LOW_SURROGATE).contains_mef7kx$(t) } function wn(t) { return ta(t) } function Ln(t) { switch (t.toLowerCase()) { case "nan": case "+nan": case "-nan": return !0; default: return !1 } } function Tn(t) { if (!(2 <= t && t <= 36)) throw ui("radix " + t + " was not in valid range 2..36"); return t } function kn(t, e) { var i; return (i = t >= 48 && t <= 57 ? t - 48 : t >= 65 && t <= 90 ? t - 65 + 10 | 0 : t >= 97 && t <= 122 ? t - 97 + 10 | 0 : t < 128 ? -1 : t >= 65313 && t <= 65338 ? t - 65313 + 10 | 0 : t >= 65345 && t <= 65370 ? t - 65345 + 10 | 0 : Hi(t)) >= e ? -1 : i } function Rn(t) { this.value = t } function Pn(t, e) { xn(), this.pattern = t, this.options = lt(e), this.nativePattern_0 = new RegExp(t, ht(e, "", "gu", void 0, void 0, void 0, zn)) } function Mn(t) { return t.next() } function Nn() { Dn = this, this.patternEscape_0 = new RegExp("[\\\\^$*+?.()|[\\]{}]", "g"), this.replacementEscape_0 = new RegExp("\\$", "g") } gn.$metadata$ = { kind: v, simpleName: "Appendable", interfaces: [] }, Object.defineProperty(vn.prototype, "length", { configurable: !0, get: function () { return this.string_0.length } }), vn.prototype.charCodeAt = function (t) { var e = this.string_0; if (!(t >= 0 && t <= jl(e))) throw new yi("index: " + t + ", length: " + this.length + "}"); return e.charCodeAt(t) }, vn.prototype.subSequence_vux9f0$ = function (t, e) { return this.string_0.substring(t, e) }, vn.prototype.append_s8itvh$ = function (t) { return this.string_0 += String.fromCharCode(t), this }, vn.prototype.append_gw00v9$ = function (t) { return this.string_0 += $(t), this }, vn.prototype.append_ezbsdh$ = function (t, e, i) { return this.appendRange_3peag4$(null != t ? t : "null", e, i) }, vn.prototype.reverse = function () { for (var t, e, i = "", a = this.string_0.length - 1 | 0; a >= 0;) { var r = this.string_0.charCodeAt((a = (t = a) - 1 | 0, t)); if (In(r) && a >= 0) { var o = this.string_0.charCodeAt((a = (e = a) - 1 | 0, e)); i = bn(o) ? i + String.fromCharCode(n(o)) + String.fromCharCode(n(r)) : i + String.fromCharCode(n(r)) + String.fromCharCode(n(o)) } else i += String.fromCharCode(r) } return this.string_0 = i, this }, vn.prototype.append_s8jyv4$ = function (t) { return this.string_0 += $(t), this }, vn.prototype.append_6taknv$ = function (t) { return this.string_0 += t, this }, vn.prototype.append_4hbowm$ = function (t) { return this.string_0 += qn(t), this }, vn.prototype.append_61zpoe$ = function (t) { return this.append_pdl1vj$(t) }, vn.prototype.append_pdl1vj$ = function (t) { return this.string_0 = this.string_0 + (null != t ? t : "null"), this }, vn.prototype.capacity = function () { return this.length }, vn.prototype.ensureCapacity_za3lpa$ = function (t) { }, vn.prototype.indexOf_61zpoe$ = function (t) { return this.string_0.indexOf(t) }, vn.prototype.indexOf_bm4lxs$ = function (t, e) { return this.string_0.indexOf(t, e) }, vn.prototype.lastIndexOf_61zpoe$ = function (t) { return this.string_0.lastIndexOf(t) }, vn.prototype.lastIndexOf_bm4lxs$ = function (t, e) { return 0 === t.length && e < 0 ? -1 : this.string_0.lastIndexOf(t, e) }, vn.prototype.insert_fzusl$ = function (t, e) { return no().checkPositionIndex_6xvm5r$(t, this.length), this.string_0 = this.string_0.substring(0, t) + $(e) + this.string_0.substring(t), this }, vn.prototype.insert_6t1mh3$ = function (t, e) { return no().checkPositionIndex_6xvm5r$(t, this.length), this.string_0 = this.string_0.substring(0, t) + String.fromCharCode(n(e)) + this.string_0.substring(t), this }, vn.prototype.insert_7u455s$ = function (t, e) { return no().checkPositionIndex_6xvm5r$(t, this.length), this.string_0 = this.string_0.substring(0, t) + qn(e) + this.string_0.substring(t), this }, vn.prototype.insert_1u9bqd$ = function (t, e) { return no().checkPositionIndex_6xvm5r$(t, this.length), this.string_0 = this.string_0.substring(0, t) + $(e) + this.string_0.substring(t), this }, vn.prototype.insert_6t2rgq$ = function (t, e) { return no().checkPositionIndex_6xvm5r$(t, this.length), this.string_0 = this.string_0.substring(0, t) + $(e) + this.string_0.substring(t), this }, vn.prototype.insert_19mbxw$ = function (t, e) { return this.insert_vqvrqt$(t, e) }, vn.prototype.insert_vqvrqt$ = function (t, e) { no().checkPositionIndex_6xvm5r$(t, this.length); var i = null != e ? e : "null"; return this.string_0 = this.string_0.substring(0, t) + i + this.string_0.substring(t), this }, vn.prototype.setLength_za3lpa$ = function (t) { if (t < 0) throw ui("Negative new length: " + t + "."); if (t <= this.length) this.string_0 = this.string_0.substring(0, t); else for (var e = this.length; e < t; e++)this.string_0 += String.fromCharCode(0) }, vn.prototype.substring_za3lpa$ = function (t) { return no().checkPositionIndex_6xvm5r$(t, this.length), this.string_0.substring(t) }, vn.prototype.substring_vux9f0$ = function (t, e) { return no().checkBoundsIndexes_cub51b$(t, e, this.length), this.string_0.substring(t, e) }, vn.prototype.trimToSize = function () { }, vn.prototype.toString = function () { return this.string_0 }, vn.prototype.clear = function () { return this.string_0 = "", this }, vn.prototype.set_6t1mh3$ = function (t, e) { no().checkElementIndex_6xvm5r$(t, this.length), this.string_0 = this.string_0.substring(0, t) + String.fromCharCode(n(e)) + this.string_0.substring(t + 1 | 0) }, vn.prototype.setRange_98i29q$ = function (t, e, i) { return this.checkReplaceRange_0(t, e, this.length), this.string_0 = this.string_0.substring(0, t) + i + this.string_0.substring(e), this }, vn.prototype.checkReplaceRange_0 = function (t, e, i) { if (t < 0 || t > i) throw new yi("startIndex: " + t + ", length: " + i); if (t > e) throw ui("startIndex(" + t + ") > endIndex(" + e + ")") }, vn.prototype.deleteAt_za3lpa$ = function (t) { return no().checkElementIndex_6xvm5r$(t, this.length), this.string_0 = this.string_0.substring(0, t) + this.string_0.substring(t + 1 | 0), this }, vn.prototype.deleteRange_vux9f0$ = function (t, e) { return this.checkReplaceRange_0(t, e, this.length), this.string_0 = this.string_0.substring(0, t) + this.string_0.substring(e), this }, vn.prototype.toCharArray_pqkatk$ = function (t, e, i, a) { var r; void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === a && (a = this.length), no().checkBoundsIndexes_cub51b$(i, a, this.length), no().checkBoundsIndexes_cub51b$(e, e + a - i | 0, t.length); for (var n = e, o = i; o < a; o++)t[(r = n, n = r + 1 | 0, r)] = this.string_0.charCodeAt(o) }, vn.prototype.appendRange_8chfmy$ = function (t, e, i) { return this.string_0 += Un(t, e, i), this }, vn.prototype.appendRange_3peag4$ = function (t, e, i) { var a = t.toString(); return no().checkBoundsIndexes_cub51b$(e, i, a.length), this.string_0 += a.substring(e, i), this }, vn.prototype.insertRange_ar8yzk$ = function (t, e, i, a) { return no().checkPositionIndex_6xvm5r$(t, this.length), this.string_0 = this.string_0.substring(0, t) + Un(e, i, a) + this.string_0.substring(t), this }, vn.prototype.insertRange_mnv9ne$ = function (t, e, i, a) { no().checkPositionIndex_6xvm5r$(t, this.length); var r = e.toString(); return no().checkBoundsIndexes_cub51b$(i, a, r.length), this.string_0 = this.string_0.substring(0, t) + r.substring(i, a) + this.string_0.substring(t), this }, vn.$metadata$ = { kind: h, simpleName: "StringBuilder", interfaces: [Rt, gn] }, Rn.$metadata$ = { kind: h, simpleName: "MatchGroup", interfaces: [] }, Rn.prototype.component1 = function () { return this.value }, Rn.prototype.copy_61zpoe$ = function (t) { return new Rn(void 0 === t ? this.value : t) }, Rn.prototype.toString = function () { return "MatchGroup(value=" + t.toString(this.value) + ")" }, Rn.prototype.hashCode = function () { var e = 0; return e = 31 * e + t.hashCode(this.value) | 0 }, Rn.prototype.equals = function (e) { return this === e || null !== e && "object" == typeof e && Object.getPrototypeOf(this) === Object.getPrototypeOf(e) && t.equals(this.value, e.value) }, Pn.prototype.matches_6bul2c$ = function (t) { $n(this.nativePattern_0); var e = this.nativePattern_0.exec(t.toString()); return null != e && 0 === e.index && this.nativePattern_0.lastIndex === t.length }, Pn.prototype.containsMatchIn_6bul2c$ = function (t) { return $n(this.nativePattern_0), this.nativePattern_0.test(t.toString()) }, Pn.prototype.find_905azu$ = function (t, e) { if (void 0 === e && (e = 0), e < 0 || e > t.length) throw new yi("Start index out of bounds: " + e + ", input length: " + t.length); return Hn(this.nativePattern_0, t.toString(), e) }, Pn.prototype.findAll_905azu$ = function (t, e) { if (void 0 === e && (e = 0), e < 0 || e > t.length) throw new yi("Start index out of bounds: " + e + ", input length: " + t.length); return gs((i = t, a = e, r = this, function () { return r.find_905azu$(i, a) }), Mn); var i, a, r }, Pn.prototype.matchEntire_6bul2c$ = function (e) { return Ul(this.pattern, 94) && Gl(this.pattern, 36) ? this.find_905azu$(e) : new Pn("^" + zl(xl(this.pattern, t.charArrayOf(94)), t.charArrayOf(36)) + "$", this.options).find_905azu$(e) }, Pn.prototype.replace_x2uqeu$ = function (t, e) { return t.toString().replace(this.nativePattern_0, e) }, Pn.prototype.replace_20wsma$ = e("kotlin.kotlin.text.Regex.replace_20wsma$", a((function () { var e = c.kotlin.text.StringBuilder_init_za3lpa$, i = t.ensureNotNull; return function (t, a) { var r = this.find_905azu$(t); if (null == r) return t.toString(); var n = 0, o = t.length, s = e(o); do { var l = i(r); s.append_ezbsdh$(t, n, l.range.start), s.append_gw00v9$(a(l)), n = l.range.endInclusive + 1 | 0, r = l.next() } while (n < o && null != r); return n < o && s.append_ezbsdh$(t, n, o), s.toString() } }))), Pn.prototype.replaceFirst_x2uqeu$ = function (t, e) { var i, a = this.options, r = wa(zo(a, 10)); for (i = a.iterator(); i.hasNext();) { var n = i.next(); r.add_11rb$(n.value) } var o = ht(r, ""); return t.toString().replace(new RegExp(this.pattern, o), e) }, Pn.prototype.split_905azu$ = function (e, i) { var a; if (void 0 === i && (i = 0), !(i >= 0)) throw ui(("Limit must be non-negative, but was " + i).toString()); var r = this.findAll_905azu$(e), n = 0 === i ? r : St(r, i - 1 | 0), o = Ia(), s = 0; for (a = n.iterator(); a.hasNext();) { var l = a.next(); o.add_11rb$(t.subSequence(e, s, l.range.start).toString()), s = l.range.endInclusive + 1 | 0 } return o.add_11rb$(t.subSequence(e, s, e.length).toString()), o }, Pn.prototype.toString = function () { return this.nativePattern_0.toString() }, Nn.prototype.fromLiteral_61zpoe$ = function (t) { return On(this.escape_61zpoe$(t)) }, Nn.prototype.escape_61zpoe$ = function (t) { return t.replace(this.patternEscape_0, "\\$&") }, Nn.prototype.escapeReplacement_61zpoe$ = function (t) { return t.replace(this.replacementEscape_0, "$$$$") }, Nn.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var Dn = null; function xn() { return null === Dn && new Nn, Dn } function zn(t) { return t.value } function On(t, e) { return e = e || Object.create(Pn.prototype), Pn.call(e, t, Es()), e } function Fn(t, e, i, a) { this.closure$match = t, this.this$findNext = e, this.closure$input = i, this.closure$range = a, this.range_co6b9w$_0 = a, this.groups_qcaztb$_0 = new jn(t), this.groupValues__0 = null } function Bn(t) { this.closure$match = t, Qn.call(this) } function jn(t) { this.closure$match = t, Zn.call(this) } function Hn(t, e, i) { t.lastIndex = i; var a = t.exec(e); return null == a ? null : new Fn(a, t, e, new Ce(a.index, t.lastIndex - 1 | 0)) } function qn(t) { var e, i = ""; for (e = 0; e !== t.length; ++e) { var a = o(t[e]); i += String.fromCharCode(a) } return i } function Un(t, e, i) { void 0 === e && (e = 0), void 0 === i && (i = t.length), no().checkBoundsIndexes_cub51b$(e, i, t.length); for (var a = "", r = e; r < i; r++)a += String.fromCharCode(t[r]); return a } function Gn(e, i, a) { if (void 0 === a && (a = !1), a) { var n = e.length, o = i.length, s = p.min(n, o); if (0 === s) return n - o | 0; for (var l = 0; ;) { var c = p.min(l + 16 | 0, s), h = e.substring(l, c), d = i.substring(l, c); if (!r(h, d) && (h = h.toUpperCase(), d = d.toUpperCase(), !r(h, d) && (h = h.toLowerCase(), d = d.toLowerCase(), !r(h, d)))) return t.compareTo(h, d); if (c === s) break; l = c } return n - o | 0 } return t.compareTo(e, i) } function Wn(t, e) { var i = t.match(e); return null != i && 0 !== i.length } function Yn(t) { return 0 === t.length || Wn("string" == typeof t ? t : t.toString(), "^[\\s\\xA0]+$") } function Vn(t, e, i, a, r, n) { return void 0 === n && (n = !1), ql(t, e, i, a, r, n) } function Kn(t) { return (new Jn).buildFor_tcv7n7$(t) } function Xn(t) { var e, i; return null != (i = null != (e = t._suppressed) ? e : null) ? i : wo() } function Jn() { this.target_0 = Cn(), this.visited_0 = [], this.topStack_0 = "", this.topStackStart_0 = 0 } function Zn() { } function Qn() { no(), Zn.call(this) } function to(t, e, i) { Qn.call(this), this.list_0 = t, this.fromIndex_0 = e, this._size_0 = 0, no().checkRangeIndexes_cub51b$(this.fromIndex_0, i, this.list_0.size), this._size_0 = i - this.fromIndex_0 | 0 } function eo(t) { this.$outer = t, this.index_0 = 0 } function io(t, e) { this.$outer = t, eo.call(this, this.$outer), no().checkPositionIndex_6xvm5r$(e, this.$outer.size), this.index_0 = e } function ao() { ro = this } Pn.$metadata$ = { kind: h, simpleName: "Regex", interfaces: [] }, Object.defineProperty(Fn.prototype, "range", { configurable: !0, get: function () { return this.range_co6b9w$_0 } }), Object.defineProperty(Fn.prototype, "value", { configurable: !0, get: function () { return b(this.closure$match[0]) } }), Object.defineProperty(Fn.prototype, "groups", { configurable: !0, get: function () { return this.groups_qcaztb$_0 } }), Object.defineProperty(Bn.prototype, "size", { configurable: !0, get: function () { return this.closure$match.length } }), Bn.prototype.get_za3lpa$ = function (t) { var e; return null != (e = this.closure$match[t]) ? e : "" }, Bn.$metadata$ = { kind: h, interfaces: [Qn] }, Object.defineProperty(Fn.prototype, "groupValues", { configurable: !0, get: function () { return null == this.groupValues__0 && (this.groupValues__0 = new Bn(this.closure$match)), b(this.groupValues__0) } }), Fn.prototype.next = function () { return Hn(this.this$findNext, this.closure$input, this.closure$range.isEmpty() ? this.closure$range.start + 1 | 0 : this.closure$range.endInclusive + 1 | 0) }, Object.defineProperty(jn.prototype, "size", { configurable: !0, get: function () { return this.closure$match.length } }), jn.prototype.iterator = function () { return bt(dt(To(this)), (t = this, function (e) { return t.get_za3lpa$(e) })).iterator(); var t }, jn.prototype.get_za3lpa$ = function (t) { var e; return null != (e = this.closure$match[t]) ? new Rn(e) : null }, jn.$metadata$ = { kind: h, interfaces: [Zn, ac] }, Fn.$metadata$ = { kind: h, interfaces: [rc] }, Jn.prototype.buildFor_tcv7n7$ = function (t) { return this.dumpFullTrace_0(t, "", ""), this.target_0.toString() }, Jn.prototype.hasSeen_0 = function (t) { var e, i = this.visited_0; t: do { var a; for (a = 0; a !== i.length; ++a)if (i[a] === t) { e = !0; break t } e = !1 } while (0); return e }, Jn.prototype.dumpFullTrace_0 = function (t, e, i) { if (this.dumpSelfTrace_0(t, e, i)) for (var a = t.cause; null != a;) { if (!this.dumpSelfTrace_0(a, e, "Caused by: ")) return; a = a.cause } }, Jn.prototype.dumpSelfTrace_0 = function (t, e, i) { var a, r; this.target_0.append_pdl1vj$(e).append_pdl1vj$(i); var s = t.toString(); if (this.hasSeen_0(t)) return this.target_0.append_pdl1vj$("[CIRCULAR REFERENCE, SEE ABOVE: ").append_pdl1vj$(s).append_pdl1vj$("]\n"), !1; this.visited_0.push(t); var l = null == (a = t.stack) || "string" == typeof a ? a : yr(); if (null != l) { var c = Vl(l, s), p = c < 0 ? 0 : c + s.length | 0; if (0 === p && this.target_0.append_pdl1vj$(s).append_pdl1vj$("\n"), 0 === this.topStack_0.length ? (this.topStack_0 = l, this.topStackStart_0 = p) : l = this.dropCommonFrames_0(l, p), e.length > 0) { var h; if (0 === p) h = 0; else { var d, u = 0; for (d = Fl(s); d.hasNext();) { var _ = o(d.next()); 10 === o(n(_)) && (u = u + 1 | 0) } h = 1 + u | 0 } var f, y, m = h, $ = 0; for (f = ec(l).iterator(); f.hasNext();) { var g = f.next(); pa(($ = (y = $) + 1 | 0, y)) >= m && this.target_0.append_pdl1vj$(e), this.target_0.append_pdl1vj$(g).append_pdl1vj$("\n") } } else this.target_0.append_pdl1vj$(l).append_pdl1vj$("\n") } else this.target_0.append_pdl1vj$(s).append_pdl1vj$("\n"); var v = Xn(t); if (!v.isEmpty()) { var S = e + "    "; for (r = v.iterator(); r.hasNext();) { var C = r.next(); this.dumpFullTrace_0(C, S, "Suppressed: ") } } return !0 }, Jn.prototype.dropCommonFrames_0 = function (t, e) { var i, a = 0, r = 0, n = 0; i = p.min(this.topStack_0.length - this.topStackStart_0 | 0, t.length - e | 0); for (var o = 0; o < i; o++) { var s = t.charCodeAt(jl(t) - o | 0); if (s !== this.topStack_0.charCodeAt(jl(this.topStack_0) - o | 0)) break; 10 === s && (a = a + 1 | 0, n = r, r = o) } if (a <= 1) return t; for (; n > 0 && 32 === t.charCodeAt(jl(t) - (n - 1) | 0);)n = n - 1 | 0; return Lt(t, n) + "... and " + (a - 1 | 0) + " more common stack frames skipped" }, Jn.$metadata$ = { kind: h, simpleName: "ExceptionTraceBuilder", interfaces: [] }, Zn.prototype.contains_11rb$ = function (e) { var i; t: do { var a; if (t.isType(this, Nt) && this.isEmpty()) { i = !1; break t } for (a = this.iterator(); a.hasNext();) { var n = a.next(); if (r(n, e)) { i = !0; break t } } i = !1 } while (0); return i }, Zn.prototype.containsAll_brywnq$ = function (e) { var i; t: do { var a; if (t.isType(e, Nt) && e.isEmpty()) { i = !0; break t } for (a = e.iterator(); a.hasNext();) { var r = a.next(); if (!this.contains_11rb$(r)) { i = !1; break t } } i = !0 } while (0); return i }, Zn.prototype.isEmpty = function () { return 0 === this.size }, Zn.prototype.toString = function () { return ht(this, ", ", "[", "]", void 0, void 0, (t = this, function (e) { return e === t ? "(this Collection)" : $(e) })); var t }, Zn.prototype.toArray = function () { return aa(this) }, Zn.prototype.toArray_ro6dgy$ = function (t) { return ra(this, t) }, Zn.$metadata$ = { kind: h, simpleName: "AbstractCollection", interfaces: [Nt] }, Qn.prototype.iterator = function () { return new eo(this) }, Qn.prototype.indexOf_11rb$ = function (t) { var e; t: do { var i, a = 0; for (i = this.iterator(); i.hasNext();) { var n = i.next(); if (r(n, t)) { e = a; break t } a = a + 1 | 0 } e = -1 } while (0); return e }, Qn.prototype.lastIndexOf_11rb$ = function (t) { var e; t: do { for (var i = this.listIterator_za3lpa$(this.size); i.hasPrevious();)if (r(i.previous(), t)) { e = i.nextIndex(); break t } e = -1 } while (0); return e }, Qn.prototype.listIterator = function () { return new io(this, 0) }, Qn.prototype.listIterator_za3lpa$ = function (t) { return new io(this, t) }, Qn.prototype.subList_vux9f0$ = function (t, e) { return new to(this, t, e) }, to.prototype.get_za3lpa$ = function (t) { return no().checkElementIndex_6xvm5r$(t, this._size_0), this.list_0.get_za3lpa$(this.fromIndex_0 + t | 0) }, Object.defineProperty(to.prototype, "size", { configurable: !0, get: function () { return this._size_0 } }), to.$metadata$ = { kind: h, simpleName: "SubList", interfaces: [cr, Qn] }, Qn.prototype.equals = function (e) { return e === this || !!t.isType(e, xt) && no().orderedEquals_e92ka7$(this, e) }, Qn.prototype.hashCode = function () { return no().orderedHashCode_nykoif$(this) }, eo.prototype.hasNext = function () { return this.index_0 < this.$outer.size }, eo.prototype.next = function () { var t, e; if (!this.hasNext()) throw bi(); return t = this.index_0, this.index_0 = t + 1 | 0, e = t, this.$outer.get_za3lpa$(e) }, eo.$metadata$ = { kind: h, simpleName: "IteratorImpl", interfaces: [Ut] }, io.prototype.hasPrevious = function () { return this.index_0 > 0 }, io.prototype.nextIndex = function () { return this.index_0 }, io.prototype.previous = function () { if (!this.hasPrevious()) throw bi(); return this.$outer.get_za3lpa$((this.index_0 = this.index_0 - 1 | 0, this.index_0)) }, io.prototype.previousIndex = function () { return this.index_0 - 1 | 0 }, io.$metadata$ = { kind: h, simpleName: "ListIteratorImpl", interfaces: [Wt, eo] }, ao.prototype.checkElementIndex_6xvm5r$ = function (t, e) { if (t < 0 || t >= e) throw new yi("index: " + t + ", size: " + e) }, ao.prototype.checkPositionIndex_6xvm5r$ = function (t, e) { if (t < 0 || t > e) throw new yi("index: " + t + ", size: " + e) }, ao.prototype.checkRangeIndexes_cub51b$ = function (t, e, i) { if (t < 0 || e > i) throw new yi("fromIndex: " + t + ", toIndex: " + e + ", size: " + i); if (t > e) throw ui("fromIndex: " + t + " > toIndex: " + e) }, ao.prototype.checkBoundsIndexes_cub51b$ = function (t, e, i) { if (t < 0 || e > i) throw new yi("startIndex: " + t + ", endIndex: " + e + ", size: " + i); if (t > e) throw ui("startIndex: " + t + " > endIndex: " + e) }, ao.prototype.orderedHashCode_nykoif$ = function (t) { var e, i, a = 1; for (e = t.iterator(); e.hasNext();) { var r = e.next(); a = (31 * a | 0) + (null != (i = null != r ? k(r) : null) ? i : 0) | 0 } return a }, ao.prototype.orderedEquals_e92ka7$ = function (t, e) { var i; if (t.size !== e.size) return !1; var a = e.iterator(); for (i = t.iterator(); i.hasNext();) { var n = i.next(), o = a.next(); if (!r(n, o)) return !1 } return !0 }, ao.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var ro = null; function no() { return null === ro && new ao, ro } function oo() { _o(), this._keys_up5z3z$_0 = null, this._values_6nw1f1$_0 = null } function so(t) { this.this$AbstractMap = t, fo.call(this) } function lo(t) { this.closure$entryIterator = t } function co(t) { this.this$AbstractMap = t, Zn.call(this) } function po(t) { this.closure$entryIterator = t } function ho() { uo = this } Qn.$metadata$ = { kind: h, simpleName: "AbstractList", interfaces: [xt, Zn] }, oo.prototype.containsKey_11rb$ = function (t) { return null != this.implFindEntry_8k1i24$_0(t) }, oo.prototype.containsValue_11rc$ = function (e) { var i, a = this.entries; t: do { var n; if (t.isType(a, Nt) && a.isEmpty()) { i = !1; break t } for (n = a.iterator(); n.hasNext();) { var o = n.next(); if (r(o.value, e)) { i = !0; break t } } i = !1 } while (0); return i }, oo.prototype.containsEntry_8hxqw4$ = function (e) { if (!t.isType(e, jt)) return !1; var i = e.key, a = e.value, n = (t.isType(this, Bt) ? this : w()).get_11rb$(i); if (!r(a, n)) return !1; var o = null == n; return o && (o = !(t.isType(this, Bt) ? this : w()).containsKey_11rb$(i)), !o }, oo.prototype.equals = function (e) { if (e === this) return !0; if (!t.isType(e, Bt)) return !1; if (this.size !== e.size) return !1; var i, a = e.entries; t: do { var r; if (t.isType(a, Nt) && a.isEmpty()) { i = !0; break t } for (r = a.iterator(); r.hasNext();) { var n = r.next(); if (!this.containsEntry_8hxqw4$(n)) { i = !1; break t } } i = !0 } while (0); return i }, oo.prototype.get_11rb$ = function (t) { var e; return null != (e = this.implFindEntry_8k1i24$_0(t)) ? e.value : null }, oo.prototype.hashCode = function () { return k(this.entries) }, oo.prototype.isEmpty = function () { return 0 === this.size }, Object.defineProperty(oo.prototype, "size", { configurable: !0, get: function () { return this.entries.size } }), so.prototype.contains_11rb$ = function (t) { return this.this$AbstractMap.containsKey_11rb$(t) }, lo.prototype.hasNext = function () { return this.closure$entryIterator.hasNext() }, lo.prototype.next = function () { return this.closure$entryIterator.next().key }, lo.$metadata$ = { kind: h, interfaces: [Ut] }, so.prototype.iterator = function () { return new lo(this.this$AbstractMap.entries.iterator()) }, Object.defineProperty(so.prototype, "size", { configurable: !0, get: function () { return this.this$AbstractMap.size } }), so.$metadata$ = { kind: h, interfaces: [fo] }, Object.defineProperty(oo.prototype, "keys", { configurable: !0, get: function () { return null == this._keys_up5z3z$_0 && (this._keys_up5z3z$_0 = new so(this)), b(this._keys_up5z3z$_0) } }), oo.prototype.toString = function () { return ht(this.entries, ", ", "{", "}", void 0, void 0, (t = this, function (e) { return t.toString_55he67$_0(e) })); var t }, oo.prototype.toString_55he67$_0 = function (t) { return this.toString_kthv8s$_0(t.key) + "=" + this.toString_kthv8s$_0(t.value) }, oo.prototype.toString_kthv8s$_0 = function (t) { return t === this ? "(this Map)" : $(t) }, co.prototype.contains_11rb$ = function (t) { return this.this$AbstractMap.containsValue_11rc$(t) }, po.prototype.hasNext = function () { return this.closure$entryIterator.hasNext() }, po.prototype.next = function () { return this.closure$entryIterator.next().value }, po.$metadata$ = { kind: h, interfaces: [Ut] }, co.prototype.iterator = function () { return new po(this.this$AbstractMap.entries.iterator()) }, Object.defineProperty(co.prototype, "size", { configurable: !0, get: function () { return this.this$AbstractMap.size } }), co.$metadata$ = { kind: h, interfaces: [Zn] }, Object.defineProperty(oo.prototype, "values", { configurable: !0, get: function () { return null == this._values_6nw1f1$_0 && (this._values_6nw1f1$_0 = new co(this)), b(this._values_6nw1f1$_0) } }), oo.prototype.implFindEntry_8k1i24$_0 = function (t) { var e, i = this.entries; t: do { var a; for (a = i.iterator(); a.hasNext();) { var n = a.next(); if (r(n.key, t)) { e = n; break t } } e = null } while (0); return e }, ho.prototype.entryHashCode_9fthdn$ = function (t) { var e, i, a, r; return (null != (i = null != (e = t.key) ? k(e) : null) ? i : 0) ^ (null != (r = null != (a = t.value) ? k(a) : null) ? r : 0) }, ho.prototype.entryToString_9fthdn$ = function (t) { return $(t.key) + "=" + $(t.value) }, ho.prototype.entryEquals_js7fox$ = function (e, i) { return !!t.isType(i, jt) && r(e.key, i.key) && r(e.value, i.value) }, ho.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var uo = null; function _o() { return null === uo && new ho, uo } function fo() { $o(), Zn.call(this) } function yo() { mo = this } oo.$metadata$ = { kind: h, simpleName: "AbstractMap", interfaces: [Bt] }, fo.prototype.equals = function (e) { return e === this || !!t.isType(e, Ot) && $o().setEquals_y8f7en$(this, e) }, fo.prototype.hashCode = function () { return $o().unorderedHashCode_nykoif$(this) }, yo.prototype.unorderedHashCode_nykoif$ = function (t) { var e, i = 0; for (e = t.iterator(); e.hasNext();) { var a, r = e.next(); i = i + (null != (a = null != r ? k(r) : null) ? a : 0) | 0 } return i }, yo.prototype.setEquals_y8f7en$ = function (t, e) { return t.size === e.size && t.containsAll_brywnq$(e) }, yo.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var mo = null; function $o() { return null === mo && new yo, mo } function go() { vo = this } fo.$metadata$ = { kind: h, simpleName: "AbstractSet", interfaces: [Ot, Zn] }, go.prototype.hasNext = function () { return !1 }, go.prototype.hasPrevious = function () { return !1 }, go.prototype.nextIndex = function () { return 0 }, go.prototype.previousIndex = function () { return -1 }, go.prototype.next = function () { throw bi() }, go.prototype.previous = function () { throw bi() }, go.$metadata$ = { kind: S, simpleName: "EmptyIterator", interfaces: [Wt] }; var vo = null; function So() { return null === vo && new go, vo } function Co() { Eo = this, this.serialVersionUID_0 = N } Co.prototype.equals = function (e) { return t.isType(e, xt) && e.isEmpty() }, Co.prototype.hashCode = function () { return 1 }, Co.prototype.toString = function () { return "[]" }, Object.defineProperty(Co.prototype, "size", { configurable: !0, get: function () { return 0 } }), Co.prototype.isEmpty = function () { return !0 }, Co.prototype.contains_11rb$ = function (t) { return !1 }, Co.prototype.containsAll_brywnq$ = function (t) { return t.isEmpty() }, Co.prototype.get_za3lpa$ = function (t) { throw new yi("Empty list doesn't contain element at index " + t + ".") }, Co.prototype.indexOf_11rb$ = function (t) { return -1 }, Co.prototype.lastIndexOf_11rb$ = function (t) { return -1 }, Co.prototype.iterator = function () { return So() }, Co.prototype.listIterator = function () { return So() }, Co.prototype.listIterator_za3lpa$ = function (t) { if (0 !== t) throw new yi("Index: " + t); return So() }, Co.prototype.subList_vux9f0$ = function (t, e) { if (0 === t && 0 === e) return this; throw new yi("fromIndex: " + t + ", toIndex: " + e) }, Co.prototype.readResolve_0 = function () { return Ao() }, Co.$metadata$ = { kind: S, simpleName: "EmptyList", interfaces: [cr, $r, xt] }; var Eo = null; function Ao() { return null === Eo && new Co, Eo } function bo(t) { return new Io(t, !1) } function Io(t, e) { this.values = t, this.isVarargs = e } function wo() { return Ao() } function Lo(t) { return 0 === t.length ? Ia() : La(new Io(t, !0)) } function To(t) { return new Ce(0, t.size - 1 | 0) } function ko(t) { return t.size - 1 | 0 } function Ro(t) { switch (t.size) { case 0: return wo(); case 1: return na(t.get_za3lpa$(0)); default: return t } } function Po() { throw new Ii("Index overflow has happened.") } function Mo() { } function No(t, e) { this.index = t, this.value = e } function Do(t) { this.iteratorFactory_0 = t } function xo(e) { return t.isType(e, Nt) ? e.size : null } function zo(e, i) { return t.isType(e, Nt) ? e.size : i } function Oo(t) { this.iterator_0 = t, this.index_0 = 0 } function Fo(e, i) { if (t.isType(e, Bo)) return e.getOrImplicitDefault_11rb$(i); var a, r = e.get_11rb$(i); if (null == r && !e.containsKey_11rb$(i)) throw new Ai("Key " + i + " is missing in the map."); return null == (a = r) || t.isType(a, I) ? a : w() } function Bo() { } function jo() { } function Ho(t, e) { this.map_a09uzx$_0 = t, this.default_0 = e } function qo() { Uo = this, this.serialVersionUID_0 = D } Object.defineProperty(Io.prototype, "size", { configurable: !0, get: function () { return this.values.length } }), Io.prototype.isEmpty = function () { return 0 === this.values.length }, Io.prototype.contains_11rb$ = function (t) { return B(this.values, t) }, Io.prototype.containsAll_brywnq$ = function (e) { var i; t: do { var a; if (t.isType(e, Nt) && e.isEmpty()) { i = !0; break t } for (a = e.iterator(); a.hasNext();) { var r = a.next(); if (!this.contains_11rb$(r)) { i = !1; break t } } i = !0 } while (0); return i }, Io.prototype.iterator = function () { return t.arrayIterator(this.values) }, Io.prototype.toArray = function () { var t = this.values; return this.isVarargs ? t : t.slice() }, Io.$metadata$ = { kind: h, simpleName: "ArrayAsCollection", interfaces: [Nt] }, Mo.$metadata$ = { kind: v, simpleName: "Grouping", interfaces: [] }, No.$metadata$ = { kind: h, simpleName: "IndexedValue", interfaces: [] }, No.prototype.component1 = function () { return this.index }, No.prototype.component2 = function () { return this.value }, No.prototype.copy_wxm5ur$ = function (t, e) { return new No(void 0 === t ? this.index : t, void 0 === e ? this.value : e) }, No.prototype.toString = function () { return "IndexedValue(index=" + t.toString(this.index) + ", value=" + t.toString(this.value) + ")" }, No.prototype.hashCode = function () { var e = 0; return e = 31 * (e = 31 * e + t.hashCode(this.index) | 0) + t.hashCode(this.value) | 0 }, No.prototype.equals = function (e) { return this === e || null !== e && "object" == typeof e && Object.getPrototypeOf(this) === Object.getPrototypeOf(e) && t.equals(this.index, e.index) && t.equals(this.value, e.value) }, Do.prototype.iterator = function () { return new Oo(this.iteratorFactory_0()) }, Do.$metadata$ = { kind: h, simpleName: "IndexingIterable", interfaces: [Pt] }, Oo.prototype.hasNext = function () { return this.iterator_0.hasNext() }, Oo.prototype.next = function () { var t; return new No(pa((t = this.index_0, this.index_0 = t + 1 | 0, t)), this.iterator_0.next()) }, Oo.$metadata$ = { kind: h, simpleName: "IndexingIterator", interfaces: [Ut] }, Bo.$metadata$ = { kind: v, simpleName: "MapWithDefault", interfaces: [Bt] }, qo.prototype.equals = function (e) { return t.isType(e, Bt) && e.isEmpty() }, qo.prototype.hashCode = function () { return 0 }, qo.prototype.toString = function () { return "{}" }, Object.defineProperty(qo.prototype, "size", { configurable: !0, get: function () { return 0 } }), qo.prototype.isEmpty = function () { return !0 }, qo.prototype.containsKey_11rb$ = function (t) { return !1 }, qo.prototype.containsValue_11rc$ = function (t) { return !1 }, qo.prototype.get_11rb$ = function (t) { return null }, Object.defineProperty(qo.prototype, "entries", { configurable: !0, get: function () { return Cs() } }), Object.defineProperty(qo.prototype, "keys", { configurable: !0, get: function () { return Cs() } }), Object.defineProperty(qo.prototype, "values", { configurable: !0, get: function () { return Ao() } }), qo.prototype.readResolve_0 = function () { return Go() }, qo.$metadata$ = { kind: S, simpleName: "EmptyMap", interfaces: [$r, Bt] }; var Uo = null; function Go() { return null === Uo && new qo, Uo } function Wo() { var e; return t.isType(e = Go(), Bt) ? e : yr() } function Yo(t) { var e = qa(t.length); return Vo(e, t), e } function Vo(t, e) { var i; for (i = 0; i !== e.length; ++i) { var a = e[i], r = a.component1(), n = a.component2(); t.put_xwzc9p$(r, n) } } function Ko(t, e) { var i; for (i = e.iterator(); i.hasNext();) { var a = i.next(), r = a.component1(), n = a.component2(); t.put_xwzc9p$(r, n) } } function Xo(t, e) { return Ko(e, t), e } function Jo(t, e) { return Vo(e, t), e } function Zo(t) { switch (t.size) { case 0: return Wo(); case 1: default: return t } } function Qo(e, i) { var a; if (t.isType(i, Nt)) return e.addAll_brywnq$(i); var r = !1; for (a = i.iterator(); a.hasNext();) { var n = a.next(); e.add_11rb$(n) && (r = !0) } return r } function ts(t, e) { return es(t, e, !0) } function es(t, e, i) { for (var a = { v: !1 }, r = t.iterator(); r.hasNext();)e(r.next()) === i && (r.remove(), a.v = !0); return a.v } function is(e, i) { return function (e, i, a) { var r, n, o, s; if (!t.isType(e, cr)) return es(t.isType(r = e, Mt) ? r : yr(), i, a); var l = 0; n = ko(e); for (var c = 0; c <= n; c++) { var p = e.get_za3lpa$(c); i(p) !== a && (l !== c && e.set_wxm5ur$(l, p), l = l + 1 | 0) } if (l < e.size) { o = ko(e), s = l; for (var h = o; h >= s; h--)e.removeAt_za3lpa$(h); return !0 } return !1 }(e, i, !0) } function as() { } function rs() { return ss() } function ns() { os = this } as.$metadata$ = { kind: v, simpleName: "Sequence", interfaces: [] }, ns.prototype.iterator = function () { return So() }, ns.prototype.drop_za3lpa$ = function (t) { return ss() }, ns.prototype.take_za3lpa$ = function (t) { return ss() }, ns.$metadata$ = { kind: S, simpleName: "EmptySequence", interfaces: [ds, as] }; var os = null; function ss() { return null === os && new ns, os } function ls(t, e) { this.sequence_0 = t, this.transformer_0 = e } function cs(t) { this.this$TransformingSequence = t, this.iterator = t.sequence_0.iterator() } function ps(t, e, i) { this.sequence_0 = t, this.transformer_0 = e, this.iterator_0 = i } function hs(t) { this.this$FlatteningSequence = t, this.iterator = t.sequence_0.iterator(), this.itemIterator = null } function ds() { } function us(t, e, i) { if (this.sequence_0 = t, this.startIndex_0 = e, this.endIndex_0 = i, !(this.startIndex_0 >= 0)) throw ui(("startIndex should be non-negative, but is " + this.startIndex_0).toString()); if (!(this.endIndex_0 >= 0)) throw ui(("endIndex should be non-negative, but is " + this.endIndex_0).toString()); if (!(this.endIndex_0 >= this.startIndex_0)) throw ui(("endIndex should be not less than startIndex, but was " + this.endIndex_0 + " < " + this.startIndex_0).toString()) } function _s(t) { this.this$SubSequence = t, this.iterator = t.sequence_0.iterator(), this.position = 0 } function fs(t, e) { if (this.sequence_0 = t, this.count_0 = e, !(this.count_0 >= 0)) throw ui(("count must be non-negative, but was " + this.count_0 + ".").toString()) } function ys(t) { this.left = t.count_0, this.iterator = t.sequence_0.iterator() } function ms(t, e) { this.getInitialValue_0 = t, this.getNextValue_0 = e } function $s(t) { this.this$GeneratorSequence = t, this.nextItem = null, this.nextState = -2 } function gs(t, e) { return new ms(t, e) } function vs() { Ss = this, this.serialVersionUID_0 = x } cs.prototype.next = function () { return this.this$TransformingSequence.transformer_0(this.iterator.next()) }, cs.prototype.hasNext = function () { return this.iterator.hasNext() }, cs.$metadata$ = { kind: h, interfaces: [Ut] }, ls.prototype.iterator = function () { return new cs(this) }, ls.prototype.flatten_1tglza$ = function (t) { return new ps(this.sequence_0, this.transformer_0, t) }, ls.$metadata$ = { kind: h, simpleName: "TransformingSequence", interfaces: [as] }, hs.prototype.next = function () { if (!this.ensureItemIterator_0()) throw bi(); return b(this.itemIterator).next() }, hs.prototype.hasNext = function () { return this.ensureItemIterator_0() }, hs.prototype.ensureItemIterator_0 = function () { var t; for (!1 === (null != (t = this.itemIterator) ? t.hasNext() : null) && (this.itemIterator = null); null == this.itemIterator;) { if (!this.iterator.hasNext()) return !1; var e = this.iterator.next(), i = this.this$FlatteningSequence.iterator_0(this.this$FlatteningSequence.transformer_0(e)); if (i.hasNext()) return this.itemIterator = i, !0 } return !0 }, hs.$metadata$ = { kind: h, interfaces: [Ut] }, ps.prototype.iterator = function () { return new hs(this) }, ps.$metadata$ = { kind: h, simpleName: "FlatteningSequence", interfaces: [as] }, ds.$metadata$ = { kind: v, simpleName: "DropTakeSequence", interfaces: [as] }, Object.defineProperty(us.prototype, "count_0", { configurable: !0, get: function () { return this.endIndex_0 - this.startIndex_0 | 0 } }), us.prototype.drop_za3lpa$ = function (t) { return t >= this.count_0 ? rs() : new us(this.sequence_0, this.startIndex_0 + t | 0, this.endIndex_0) }, us.prototype.take_za3lpa$ = function (t) { return t >= this.count_0 ? this : new us(this.sequence_0, this.startIndex_0, this.startIndex_0 + t | 0) }, _s.prototype.drop_0 = function () { for (; this.position < this.this$SubSequence.startIndex_0 && this.iterator.hasNext();)this.iterator.next(), this.position = this.position + 1 | 0 }, _s.prototype.hasNext = function () { return this.drop_0(), this.position < this.this$SubSequence.endIndex_0 && this.iterator.hasNext() }, _s.prototype.next = function () { if (this.drop_0(), this.position >= this.this$SubSequence.endIndex_0) throw bi(); return this.position = this.position + 1 | 0, this.iterator.next() }, _s.$metadata$ = { kind: h, interfaces: [Ut] }, us.prototype.iterator = function () { return new _s(this) }, us.$metadata$ = { kind: h, simpleName: "SubSequence", interfaces: [ds, as] }, fs.prototype.drop_za3lpa$ = function (t) { return t >= this.count_0 ? rs() : new us(this.sequence_0, t, this.count_0) }, fs.prototype.take_za3lpa$ = function (t) { return t >= this.count_0 ? this : new fs(this.sequence_0, t) }, ys.prototype.next = function () { if (0 === this.left) throw bi(); return this.left = this.left - 1 | 0, this.iterator.next() }, ys.prototype.hasNext = function () { return this.left > 0 && this.iterator.hasNext() }, ys.$metadata$ = { kind: h, interfaces: [Ut] }, fs.prototype.iterator = function () { return new ys(this) }, fs.$metadata$ = { kind: h, simpleName: "TakeSequence", interfaces: [ds, as] }, $s.prototype.calcNext_0 = function () { this.nextItem = -2 === this.nextState ? this.this$GeneratorSequence.getInitialValue_0() : this.this$GeneratorSequence.getNextValue_0(b(this.nextItem)), this.nextState = null == this.nextItem ? 0 : 1 }, $s.prototype.next = function () { var e; if (this.nextState < 0 && this.calcNext_0(), 0 === this.nextState) throw bi(); var i = t.isType(e = this.nextItem, I) ? e : yr(); return this.nextState = -1, i }, $s.prototype.hasNext = function () { return this.nextState < 0 && this.calcNext_0(), 1 === this.nextState }, $s.$metadata$ = { kind: h, interfaces: [Ut] }, ms.prototype.iterator = function () { return new $s(this) }, ms.$metadata$ = { kind: h, simpleName: "GeneratorSequence", interfaces: [as] }, vs.prototype.equals = function (e) { return t.isType(e, Ot) && e.isEmpty() }, vs.prototype.hashCode = function () { return 0 }, vs.prototype.toString = function () { return "[]" }, Object.defineProperty(vs.prototype, "size", { configurable: !0, get: function () { return 0 } }), vs.prototype.isEmpty = function () { return !0 }, vs.prototype.contains_11rb$ = function (t) { return !1 }, vs.prototype.containsAll_brywnq$ = function (t) { return t.isEmpty() }, vs.prototype.iterator = function () { return So() }, vs.prototype.readResolve_0 = function () { return Cs() }, vs.$metadata$ = { kind: S, simpleName: "EmptySet", interfaces: [$r, Ot] }; var Ss = null; function Cs() { return null === Ss && new vs, Ss } function Es() { return Cs() } function As(t) { return X(t, Wa(t.length)) } function bs(t) { switch (t.size) { case 0: return Es(); case 1: return oa(t.iterator().next()); default: return t } } function Is(e, i) { var a; return e === i ? 0 : null == e ? -1 : null == i ? 1 : t.compareTo(t.isComparable(a = e) ? a : yr(), i) } function ws(t) { return function (e, i) { return function (t, e, i) { var a; for (a = 0; a !== i.length; ++a) { var r = i[a], n = Is(r(t), r(e)); if (0 !== n) return n } return 0 }(e, i, t) } } function Ls() { var e; return t.isType(e = Rs(), ea) ? e : yr() } function Ts() { ks = this } Ts.prototype.compare = function (e, i) { return t.compareTo(e, i) }, Ts.prototype.reversed = function () { return null === Ms && new Ps, Ms }, Ts.$metadata$ = { kind: S, simpleName: "NaturalOrderComparator", interfaces: [ea] }; var ks = null; function Rs() { return null === ks && new Ts, ks } function Ps() { Ms = this } Ps.prototype.compare = function (e, i) { return t.compareTo(i, e) }, Ps.prototype.reversed = function () { return Rs() }, Ps.$metadata$ = { kind: S, simpleName: "ReverseOrderComparator", interfaces: [ea] }; var Ms = null; function Ns() { } function Ds() { Os() } function xs() { zs = this } Ns.$metadata$ = { kind: v, simpleName: "Continuation", interfaces: [] }, e("kotlin.kotlin.coroutines.suspendCoroutine_922awp$", a((function () { var e = c.kotlin.coroutines.intrinsics.intercepted_f9mg25$, i = c.kotlin.coroutines.SafeContinuation_init_wj8d80$; return function (a, r) { var n; return t.suspendCall((n = a, function (t) { var a = i(e(t)); return n(a), a.getOrThrow() })(t.coroutineReceiver())), t.coroutineResult(t.coroutineReceiver()) } }))), xs.$metadata$ = { kind: S, simpleName: "Key", interfaces: [js] }; var zs = null; function Os() { return null === zs && new xs, zs } function Fs() { } function Bs(t, e) { var i = t.minusKey_yeqjby$(e.key); if (i === Ws()) return e; var a = i.get_j3r2sn$(Os()); if (null == a) return new Ys(i, e); var r = i.minusKey_yeqjby$(Os()); return r === Ws() ? new Ys(e, a) : new Ys(new Ys(r, e), a) } function js() { } function Hs() { } function qs(t) { this.key_no4tas$_0 = t } function Us() { Gs = this, this.serialVersionUID_0 = l } Fs.prototype.plus_1fupul$ = function (t) { return t === Ws() ? this : t.fold_3cc69b$(this, Bs) }, js.$metadata$ = { kind: v, simpleName: "Key", interfaces: [] }, Hs.prototype.get_j3r2sn$ = function (e) { return r(this.key, e) ? t.isType(this, Hs) ? this : yr() : null }, Hs.prototype.fold_3cc69b$ = function (t, e) { return e(t, this) }, Hs.prototype.minusKey_yeqjby$ = function (t) { return r(this.key, t) ? Ws() : this }, Hs.$metadata$ = { kind: v, simpleName: "Element", interfaces: [Fs] }, Fs.$metadata$ = { kind: v, simpleName: "CoroutineContext", interfaces: [] }, Us.prototype.readResolve_0 = function () { return Ws() }, Us.prototype.get_j3r2sn$ = function (t) { return null }, Us.prototype.fold_3cc69b$ = function (t, e) { return t }, Us.prototype.plus_1fupul$ = function (t) { return t }, Us.prototype.minusKey_yeqjby$ = function (t) { return this }, Us.prototype.hashCode = function () { return 0 }, Us.prototype.toString = function () { return "EmptyCoroutineContext" }, Us.$metadata$ = { kind: S, simpleName: "EmptyCoroutineContext", interfaces: [$r, Fs] }; var Gs = null; function Ws() { return null === Gs && new Us, Gs } function Ys(t, e) { this.left_0 = t, this.element_0 = e } function Vs(t, e) { return 0 === t.length ? e.toString() : t + ", " + e } function Ks(t) { null === tl && new Xs, this.elements = t } function Xs() { tl = this, this.serialVersionUID_0 = l } Ys.prototype.get_j3r2sn$ = function (e) { for (var i, a = this; ;) { if (null != (i = a.element_0.get_j3r2sn$(e))) return i; var r = a.left_0; if (!t.isType(r, Ys)) return r.get_j3r2sn$(e); a = r } }, Ys.prototype.fold_3cc69b$ = function (t, e) { return e(this.left_0.fold_3cc69b$(t, e), this.element_0) }, Ys.prototype.minusKey_yeqjby$ = function (t) { if (null != this.element_0.get_j3r2sn$(t)) return this.left_0; var e = this.left_0.minusKey_yeqjby$(t); return e === this.left_0 ? this : e === Ws() ? this.element_0 : new Ys(e, this.element_0) }, Ys.prototype.size_0 = function () { for (var e, i, a = this, r = 2; ;) { if (null == (i = t.isType(e = a.left_0, Ys) ? e : null)) return r; a = i, r = r + 1 | 0 } }, Ys.prototype.contains_0 = function (t) { return r(this.get_j3r2sn$(t.key), t) }, Ys.prototype.containsAll_0 = function (e) { for (var i, a = e; ;) { if (!this.contains_0(a.element_0)) return !1; var r = a.left_0; if (!t.isType(r, Ys)) return this.contains_0(t.isType(i = r, Hs) ? i : yr()); a = r } }, Ys.prototype.equals = function (e) { return this === e || t.isType(e, Ys) && e.size_0() === this.size_0() && e.containsAll_0(this) }, Ys.prototype.hashCode = function () { return k(this.left_0) + k(this.element_0) | 0 }, Ys.prototype.toString = function () { return "[" + this.fold_3cc69b$("", Vs) + "]" }, Ys.prototype.writeReplace_0 = function () { var e, i, a, r = this.size_0(), n = t.newArray(r, null), o = { v: 0 }; if (this.fold_3cc69b$(Pe(), (i = n, a = o, function (t, e) { var r; return i[(r = a.v, a.v = r + 1 | 0, r)] = e, ke })), o.v !== r) throw fi("Check failed.".toString()); return new Ks(t.isArray(e = n) ? e : yr()) }, Xs.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var Js, Zs, Qs, tl = null; function el() { return rl() } function il(t, e) { E.call(this), this.name$ = t, this.ordinal$ = e } function al() { al = function () { }, Js = new il("COROUTINE_SUSPENDED", 0), Zs = new il("UNDECIDED", 1), Qs = new il("RESUMED", 2) } function rl() { return al(), Js } function nl() { return al(), Zs } function ol() { return al(), Qs } function sl() { dl() } function ll() { hl = this, sl.call(this), this.defaultRandom_0 = br() } function cl() { pl = this, this.serialVersionUID_0 = l } Ks.prototype.readResolve_0 = function () { var t, e = this.elements, i = Ws(); for (t = 0; t !== e.length; ++t) { var a = e[t]; i = i.plus_1fupul$(a) } return i }, Ks.$metadata$ = { kind: h, simpleName: "Serialized", interfaces: [$r] }, Ys.$metadata$ = { kind: h, simpleName: "CombinedContext", interfaces: [$r, Fs] }, e("kotlin.kotlin.coroutines.intrinsics.suspendCoroutineUninterceptedOrReturn_zb0pmy$", a((function () { var t = c.kotlin.NotImplementedError; return function (e, i) { throw new t("Implementation of suspendCoroutineUninterceptedOrReturn is intrinsic") } }))), il.$metadata$ = { kind: h, simpleName: "CoroutineSingletons", interfaces: [E] }, il.values = function () { return [rl(), nl(), ol()] }, il.valueOf_61zpoe$ = function (t) { switch (t) { case "COROUTINE_SUSPENDED": return rl(); case "UNDECIDED": return nl(); case "RESUMED": return ol(); default: mr("No enum constant kotlin.coroutines.intrinsics.CoroutineSingletons." + t) } }, sl.prototype.nextInt = function () { return this.nextBits_za3lpa$(32) }, sl.prototype.nextInt_za3lpa$ = function (t) { return this.nextInt_vux9f0$(0, t) }, sl.prototype.nextInt_vux9f0$ = function (t, e) { var i; yl(t, e); var a = e - t | 0; if (a > 0 || -2147483648 === a) { if ((a & (0 | -a)) === a) { var r = _l(a); i = this.nextBits_za3lpa$(r) } else { var n; do { var o = this.nextInt() >>> 1; n = o % a } while ((o - n + (a - 1) | 0) < 0); i = n } return t + i | 0 } for (; ;) { var s = this.nextInt(); if (t <= s && s < e) return s } }, sl.prototype.nextLong = function () { return t.Long.fromInt(this.nextInt()).shiftLeft(32).add(t.Long.fromInt(this.nextInt())) }, sl.prototype.nextLong_s8cxhz$ = function (t) { return this.nextLong_3pjtqy$(l, t) }, sl.prototype.nextLong_3pjtqy$ = function (e, i) { var a; ml(e, i); var n = i.subtract(e); if (n.toNumber() > 0) { var o; if (r(n.and(n.unaryMinus()), n)) { var s = n.toInt(), l = n.shiftRightUnsigned(32).toInt(); if (0 !== s) { var c = _l(s); a = t.Long.fromInt(this.nextBits_za3lpa$(c)).and(g) } else if (1 === l) a = t.Long.fromInt(this.nextInt()).and(g); else { var p = _l(l); a = t.Long.fromInt(this.nextBits_za3lpa$(p)).shiftLeft(32).add(t.Long.fromInt(this.nextInt())) } o = a } else { var h; do { var d = this.nextLong().shiftRightUnsigned(1); h = d.modulo(n) } while (d.subtract(h).add(n.subtract(t.Long.fromInt(1))).toNumber() < 0); o = h } return e.add(o) } for (; ;) { var u = this.nextLong(); if (e.lessThanOrEqual(u) && u.lessThan(i)) return u } }, sl.prototype.nextBoolean = function () { return 0 !== this.nextBits_za3lpa$(1) }, sl.prototype.nextDouble = function () { return Ir(this.nextBits_za3lpa$(26), this.nextBits_za3lpa$(27)) }, sl.prototype.nextDouble_14dthe$ = function (t) { return this.nextDouble_lu1900$(0, t) }, sl.prototype.nextDouble_lu1900$ = function (t, e) { var i; $l(t, e); var a = e - t; if (Cr(a) && Ar(t) && Ar(e)) { var r = this.nextDouble() * (e / 2 - t / 2); i = t + r + r } else i = t + this.nextDouble() * a; var n = i; return n >= e ? gr(e) : n }, sl.prototype.nextFloat = function () { return this.nextBits_za3lpa$(24) / 16777216 }, sl.prototype.nextBytes_mj6st8$$default = function (t, e, i) { var a, r, n; if (!(0 <= e && e <= t.length && 0 <= i && i <= t.length)) throw ui((a = e, r = i, n = t, function () { return "fromIndex (" + a + ") or toIndex (" + r + ") are out of range: 0.." + n.length + "." })().toString()); if (!(e <= i)) throw ui(("fromIndex (" + e + ") must be not greater than toIndex (" + i + ").").toString()); for (var o = (i - e | 0) / 4 | 0, s = { v: e }, l = 0; l < o; l++) { var c = this.nextInt(); t[s.v] = _(c), t[s.v + 1 | 0] = _(c >>> 8), t[s.v + 2 | 0] = _(c >>> 16), t[s.v + 3 | 0] = _(c >>> 24), s.v = s.v + 4 | 0 } for (var p = i - s.v | 0, h = this.nextBits_za3lpa$(8 * p | 0), d = 0; d < p; d++)t[s.v + d | 0] = _(h >>> (8 * d | 0)); return t }, sl.prototype.nextBytes_mj6st8$ = function (t, e, i, a) { return void 0 === e && (e = 0), void 0 === i && (i = t.length), a ? a(t, e, i) : this.nextBytes_mj6st8$$default(t, e, i) }, sl.prototype.nextBytes_fqrh44$ = function (t) { return this.nextBytes_mj6st8$(t, 0, t.length) }, sl.prototype.nextBytes_za3lpa$ = function (t) { return this.nextBytes_fqrh44$(new Int8Array(t)) }, cl.prototype.readResolve_0 = function () { return dl() }, cl.$metadata$ = { kind: S, simpleName: "Serialized", interfaces: [$r] }; var pl = null; ll.prototype.writeReplace_0 = function () { return null === pl && new cl, pl }, ll.prototype.nextBits_za3lpa$ = function (t) { return this.defaultRandom_0.nextBits_za3lpa$(t) }, ll.prototype.nextInt = function () { return this.defaultRandom_0.nextInt() }, ll.prototype.nextInt_za3lpa$ = function (t) { return this.defaultRandom_0.nextInt_za3lpa$(t) }, ll.prototype.nextInt_vux9f0$ = function (t, e) { return this.defaultRandom_0.nextInt_vux9f0$(t, e) }, ll.prototype.nextLong = function () { return this.defaultRandom_0.nextLong() }, ll.prototype.nextLong_s8cxhz$ = function (t) { return this.defaultRandom_0.nextLong_s8cxhz$(t) }, ll.prototype.nextLong_3pjtqy$ = function (t, e) { return this.defaultRandom_0.nextLong_3pjtqy$(t, e) }, ll.prototype.nextBoolean = function () { return this.defaultRandom_0.nextBoolean() }, ll.prototype.nextDouble = function () { return this.defaultRandom_0.nextDouble() }, ll.prototype.nextDouble_14dthe$ = function (t) { return this.defaultRandom_0.nextDouble_14dthe$(t) }, ll.prototype.nextDouble_lu1900$ = function (t, e) { return this.defaultRandom_0.nextDouble_lu1900$(t, e) }, ll.prototype.nextFloat = function () { return this.defaultRandom_0.nextFloat() }, ll.prototype.nextBytes_fqrh44$ = function (t) { return this.defaultRandom_0.nextBytes_fqrh44$(t) }, ll.prototype.nextBytes_za3lpa$ = function (t) { return this.defaultRandom_0.nextBytes_za3lpa$(t) }, ll.prototype.nextBytes_mj6st8$$default = function (t, e, i) { return this.defaultRandom_0.nextBytes_mj6st8$(t, e, i) }, ll.$metadata$ = { kind: S, simpleName: "Default", interfaces: [$r, sl] }; var hl = null; function dl() { return null === hl && new ll, hl } function ul(t) { return El(t, t >> 31) } function _l(t) { return 31 - p.clz32(t) | 0 } function fl(t, e) { return t >>> 32 - e & (0 | -e) >> 31 } function yl(t, e) { if (!(e > t)) throw ui(gl(t, e).toString()) } function ml(t, e) { if (!(e.compareTo_11rb$(t) > 0)) throw ui(gl(t, e).toString()) } function $l(t, e) { if (!(e > t)) throw ui(gl(t, e).toString()) } function gl(t, e) { return "Random range is empty: [" + t.toString() + ", " + e.toString() + ")." } function vl(t, e, i, a, r, n) { if (null === Cl && new Sl, sl.call(this), this.x_0 = t, this.y_0 = e, this.z_0 = i, this.w_0 = a, this.v_0 = r, this.addend_0 = n, 0 == (this.x_0 | this.y_0 | this.z_0 | this.w_0 | this.v_0)) throw ui("Initial state must have at least one non-zero element.".toString()); for (var o = 0; o < 64; o++)this.nextInt() } function Sl() { Cl = this, this.serialVersionUID_0 = l } sl.$metadata$ = { kind: h, simpleName: "Random", interfaces: [] }, vl.prototype.nextInt = function () { var t = this.x_0; t ^= t >>> 2, this.x_0 = this.y_0, this.y_0 = this.z_0, this.z_0 = this.w_0; var e = this.v_0; return this.w_0 = e, t = t ^ t << 1 ^ e ^ e << 4, this.v_0 = t, this.addend_0 = this.addend_0 + 362437 | 0, t + this.addend_0 | 0 }, vl.prototype.nextBits_za3lpa$ = function (t) { return fl(this.nextInt(), t) }, Sl.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var Cl = null; function El(t, e, i) { return i = i || Object.create(vl.prototype), vl.call(i, t, e, 0, 0, ~t, t << 10 ^ e >>> 4), i } function Al(t, e) { this.start_p1gsmm$_0 = t, this.endInclusive_jj4lf7$_0 = e } function bl() { } function Il(e, i, a) { null != a ? e.append_gw00v9$(a(i)) : null == i || t.isCharSequence(i) ? e.append_gw00v9$(i) : t.isChar(i) ? e.append_s8itvh$(o(i)) : e.append_gw00v9$($(i)) } function wl(t, e, i) { if (void 0 === i && (i = !1), t === e) return !0; if (!i) return !1; var a = En(t), r = En(e), n = a === r; return n || (n = String.fromCharCode(a).toLowerCase().charCodeAt(0) === String.fromCharCode(r).toLowerCase().charCodeAt(0)), n } function Ll(e, i) { var a; void 0 === i && (i = ""); var r, n = ic(e), o = Ia(); for (r = n.iterator(); r.hasNext();) { var s = r.next(); Yn(s) || o.add_11rb$(s) } var l, c = o, p = wa(zo(c, 10)); for (l = c.iterator(); l.hasNext();) { var h = l.next(); p.add_11rb$(Tl(h)) } var d, u, _, f, y = null != (a = ct(p)) ? a : 0, m = (e.length, t.imul(i.length, n.size), 0 === (d = i).length ? kl : (u = d, function (t) { return u + t })), $ = ko(n), g = Ia(), v = 0; for (_ = n.iterator(); _.hasNext();) { var S, C, E, A = _.next(), b = pa((v = (f = v) + 1 | 0, f)); null != (S = 0 !== b && b !== $ || !Yn(A) ? null != (E = null != (C = wt(A, y)) ? m(C) : null) ? E : A : null) && g.add_11rb$(S) } return pt(g, Sn(), "\n").toString() } function Tl(t) { var e; t: do { var i, a, r, s; a = (i = Bl(t)).first, r = i.last, s = i.step; for (var l = a; l <= r; l += s)if (!wn(o(n(t.charCodeAt(l))))) { e = l; break t } e = -1 } while (0); var c = e; return -1 === c ? t.length : c } function kl(t) { return t } function Rl(t) { return Pl(t, 10) } function Pl(e, i) { Tn(i); var a, r, n, o = e.length; if (0 === o) return null; var s = e.charCodeAt(0); if (s < 48) { if (1 === o) return null; if (a = 1, 45 === s) r = !0, n = -2147483648; else { if (43 !== s) return null; r = !1, n = -2147483647 } } else a = 0, r = !1, n = -2147483647; for (var l = -59652323, c = 0, p = a; p < o; p++) { var h = kn(e.charCodeAt(p), i); if (h < 0) return null; if (c < l) { if (-59652323 !== l) return null; if (c < (l = n / i | 0)) return null } if ((c = t.imul(c, i)) < (n + h | 0)) return null; c = c - h | 0 } return r ? c : 0 | -c } function Ml(t) { return Nl(t, 10) } function Nl(e, i) { Tn(i); var a, n, o, s = e.length; if (0 === s) return null; var c = e.charCodeAt(0); if (c < 48) { if (1 === s) return null; if (a = 1, 45 === c) n = !0, o = y; else { if (43 !== c) return null; n = !1, o = z } } else a = 0, n = !1, o = z; for (var p = O, h = p, d = l, u = a; u < s; u++) { var _ = kn(e.charCodeAt(u), i); if (_ < 0) return null; if (d.compareTo_11rb$(h) < 0) { if (!r(h, p)) return null; if (h = o.div(t.Long.fromInt(i)), d.compareTo_11rb$(h) < 0) return null } if ((d = d.multiply(t.Long.fromInt(i))).compareTo_11rb$(o.add(t.Long.fromInt(_))) < 0) return null; d = d.subtract(t.Long.fromInt(_)) } return n ? d : d.unaryMinus() } function Dl(t) { throw new Si("Invalid number format: '" + t + "'") } function xl(e, i) { var a, r, s = t.isCharSequence(a = e) ? a : w(); t: do { var l, c, p, h; c = (l = Bl(s)).first, p = l.last, h = l.step; for (var d = c; d <= p; d += h)if (!j(i, o(n(s.charCodeAt(d))))) { r = t.subSequence(s, d, s.length); break t } r = "" } while (0); return r.toString() } function zl(e, i) { var a, r, s = t.isCharSequence(a = e) ? a : w(); t: do { var l; for (l = ft(Bl(s)).iterator(); l.hasNext();) { var c = l.next(); if (!j(i, o(n(s.charCodeAt(c))))) { r = t.subSequence(s, 0, c + 1 | 0); break t } } r = "" } while (0); return r.toString() } function Ol(t) { this.this$iterator = t, Kt.call(this), this.index_0 = 0 } function Fl(t) { return new Ol(t) } function Bl(t) { return new Ce(0, t.length - 1 | 0) } function jl(t) { return t.length - 1 | 0 } function Hl(e, i) { return t.subSequence(e, i.start, i.endInclusive + 1 | 0).toString() } function ql(t, e, i, a, r, n) { if (a < 0 || e < 0 || e > (t.length - r | 0) || a > (i.length - r | 0)) return !1; for (var o = 0; o < r; o++)if (!wl(t.charCodeAt(e + o | 0), i.charCodeAt(a + o | 0), n)) return !1; return !0 } function Ul(t, e, i) { return void 0 === i && (i = !1), t.length > 0 && wl(t.charCodeAt(0), e, i) } function Gl(t, e, i) { return void 0 === i && (i = !1), t.length > 0 && wl(t.charCodeAt(jl(t)), e, i) } function Wl(t, e, i, a) { var r, s; if (void 0 === i && (i = 0), void 0 === a && (a = !1), !a && 1 === e.length && "string" == typeof t) { var l = W(e); return t.indexOf(String.fromCharCode(l), i) } r = mt(i, 0), s = jl(t); for (var c = r; c <= s; c++) { var p, h = t.charCodeAt(c); t: do { var d; for (d = 0; d !== e.length; ++d) { var u = o(e[d]); if (wl(o(n(u)), h, a)) { p = !0; break t } } p = !1 } while (0); if (p) return c } return -1 } function Yl(t, e, i, a, r, n) { var o, s; void 0 === n && (n = !1); var l = n ? _t($t(i, jl(t)), mt(a, 0)) : new Ce(mt(i, 0), $t(a, t.length)); if ("string" == typeof t && "string" == typeof e) for (o = l.iterator(); o.hasNext();) { var c = o.next(); if (Vn(e, 0, t, c, e.length, r)) return c } else for (s = l.iterator(); s.hasNext();) { var p = s.next(); if (ql(e, 0, t, p, e.length, r)) return p } return -1 } function Vl(t, e, i, a) { return void 0 === i && (i = 0), void 0 === a && (a = !1), a || "string" != typeof t ? Yl(t, e, i, t.length, a) : t.indexOf(e, i) } function Kl(t, e, i, a) { return void 0 === i && (i = jl(t)), void 0 === a && (a = !1), a || "string" != typeof t ? Yl(t, e, i, 0, a, !0) : t.lastIndexOf(e, i) } function Xl(t, e, i, a) { this.input_0 = t, this.startIndex_0 = e, this.limit_0 = i, this.getNextMatch_0 = a } function Jl(t) { this.this$DelimitedRangesSequence = t, this.nextState = -1, this.currentStartIndex = gt(t.startIndex_0, 0, t.input_0.length), this.nextSearchIndex = this.currentStartIndex, this.nextItem = null, this.counter = 0 } function Zl(t, e) { return function (i, a) { var r; return null != (r = function (t, e, i, a, r) { var n, o; if (!a && 1 === e.size) { var s = it(e), l = r ? Kl(t, s, i) : Vl(t, s, i); return l < 0 ? null : Sc(l, s) } var c = r ? _t($t(i, jl(t)), 0) : new Ce(mt(i, 0), t.length); if ("string" == typeof t) for (n = c.iterator(); n.hasNext();) { var p, h = n.next(); t: do { var d; for (d = e.iterator(); d.hasNext();) { var u = d.next(); if (Vn(u, 0, t, h, u.length, a)) { p = u; break t } } p = null } while (0); if (null != p) return Sc(h, p) } else for (o = c.iterator(); o.hasNext();) { var _, f = o.next(); t: do { var y; for (y = e.iterator(); y.hasNext();) { var m = y.next(); if (ql(m, 0, t, f, m.length, a)) { _ = m; break t } } _ = null } while (0); if (null != _) return Sc(f, _) } return null }(i, t, a, e, !1)) ? Sc(r.first, r.second.length) : null } } function Ql(t, e, i, a, r) { if (void 0 === i && (i = 0), void 0 === a && (a = !1), void 0 === r && (r = 0), !(r >= 0)) throw ui(("Limit must be non-negative, but was " + r + ".").toString()); return new Xl(t, i, r, Zl(Ni(e), a)) } function tc(t, e, i, a) { return void 0 === i && (i = !1), void 0 === a && (a = 0), bt(Ql(t, e, void 0, i, a), (r = t, function (t) { return Hl(r, t) })); var r } function ec(t) { return tc(t, ["\r\n", "\n", "\r"]) } function ic(t) { return Et(ec(t)) } function ac() { } function rc() { } function nc(t) { this.match = t } function oc() { } function sc() { lc = this } vl.$metadata$ = { kind: h, simpleName: "XorWowRandom", interfaces: [$r, sl] }, bl.$metadata$ = { kind: v, simpleName: "KClassifier", interfaces: [] }, Ol.prototype.nextChar = function () { var t, e; return t = this.index_0, this.index_0 = t + 1 | 0, e = t, this.this$iterator.charCodeAt(e) }, Ol.prototype.hasNext = function () { return this.index_0 < this.this$iterator.length }, Ol.$metadata$ = { kind: h, interfaces: [Kt] }, Jl.prototype.calcNext_0 = function () { if (this.nextSearchIndex < 0) this.nextState = 0, this.nextItem = null; else { if (this.this$DelimitedRangesSequence.limit_0 > 0 && (this.counter = this.counter + 1 | 0, this.counter >= this.this$DelimitedRangesSequence.limit_0) || this.nextSearchIndex > this.this$DelimitedRangesSequence.input_0.length) this.nextItem = new Ce(this.currentStartIndex, jl(this.this$DelimitedRangesSequence.input_0)), this.nextSearchIndex = -1; else { var t = this.this$DelimitedRangesSequence.getNextMatch_0(this.this$DelimitedRangesSequence.input_0, this.nextSearchIndex); if (null == t) this.nextItem = new Ce(this.currentStartIndex, jl(this.this$DelimitedRangesSequence.input_0)), this.nextSearchIndex = -1; else { var e = t.component1(), i = t.component2(); this.nextItem = yt(this.currentStartIndex, e), this.currentStartIndex = e + i | 0, this.nextSearchIndex = this.currentStartIndex + (0 === i ? 1 : 0) | 0 } } this.nextState = 1 } }, Jl.prototype.next = function () { var e; if (-1 === this.nextState && this.calcNext_0(), 0 === this.nextState) throw bi(); var i = t.isType(e = this.nextItem, Ce) ? e : yr(); return this.nextItem = null, this.nextState = -1, i }, Jl.prototype.hasNext = function () { return -1 === this.nextState && this.calcNext_0(), 1 === this.nextState }, Jl.$metadata$ = { kind: h, interfaces: [Ut] }, Xl.prototype.iterator = function () { return new Jl(this) }, Xl.$metadata$ = { kind: h, simpleName: "DelimitedRangesSequence", interfaces: [as] }, ac.$metadata$ = { kind: v, simpleName: "MatchGroupCollection", interfaces: [Nt] }, Object.defineProperty(rc.prototype, "destructured", { configurable: !0, get: function () { return new nc(this) } }), nc.prototype.component1 = e("kotlin.kotlin.text.MatchResult.Destructured.component1", (function () { return this.match.groupValues.get_za3lpa$(1) })), nc.prototype.component2 = e("kotlin.kotlin.text.MatchResult.Destructured.component2", (function () { return this.match.groupValues.get_za3lpa$(2) })), nc.prototype.component3 = e("kotlin.kotlin.text.MatchResult.Destructured.component3", (function () { return this.match.groupValues.get_za3lpa$(3) })), nc.prototype.component4 = e("kotlin.kotlin.text.MatchResult.Destructured.component4", (function () { return this.match.groupValues.get_za3lpa$(4) })), nc.prototype.component5 = e("kotlin.kotlin.text.MatchResult.Destructured.component5", (function () { return this.match.groupValues.get_za3lpa$(5) })), nc.prototype.component6 = e("kotlin.kotlin.text.MatchResult.Destructured.component6", (function () { return this.match.groupValues.get_za3lpa$(6) })), nc.prototype.component7 = e("kotlin.kotlin.text.MatchResult.Destructured.component7", (function () { return this.match.groupValues.get_za3lpa$(7) })), nc.prototype.component8 = e("kotlin.kotlin.text.MatchResult.Destructured.component8", (function () { return this.match.groupValues.get_za3lpa$(8) })), nc.prototype.component9 = e("kotlin.kotlin.text.MatchResult.Destructured.component9", (function () { return this.match.groupValues.get_za3lpa$(9) })), nc.prototype.component10 = e("kotlin.kotlin.text.MatchResult.Destructured.component10", (function () { return this.match.groupValues.get_za3lpa$(10) })), nc.prototype.toList = function () { return this.match.groupValues.subList_vux9f0$(1, this.match.groupValues.size) }, nc.$metadata$ = { kind: h, simpleName: "Destructured", interfaces: [] }, rc.$metadata$ = { kind: v, simpleName: "MatchResult", interfaces: [] }, oc.$metadata$ = { kind: v, simpleName: "Lazy", interfaces: [] }, sc.$metadata$ = { kind: S, simpleName: "UNINITIALIZED_VALUE", interfaces: [] }; var lc = null; function cc() { return null === lc && new sc, lc } function pc(t) { this.initializer_0 = t, this._value_0 = cc() } function hc(t) { this.value_7taq70$_0 = t } function dc(t) { fc(), this.value = t } function uc() { _c = this } Object.defineProperty(pc.prototype, "value", { configurable: !0, get: function () { var e; return this._value_0 === cc() && (this._value_0 = b(this.initializer_0)(), this.initializer_0 = null), null == (e = this._value_0) || t.isType(e, I) ? e : yr() } }), pc.prototype.isInitialized = function () { return this._value_0 !== cc() }, pc.prototype.toString = function () { return this.isInitialized() ? $(this.value) : "Lazy value not initialized yet." }, pc.prototype.writeReplace_0 = function () { return new hc(this.value) }, pc.$metadata$ = { kind: h, simpleName: "UnsafeLazyImpl", interfaces: [$r, oc] }, Object.defineProperty(hc.prototype, "value", { get: function () { return this.value_7taq70$_0 } }), hc.prototype.isInitialized = function () { return !0 }, hc.prototype.toString = function () { return $(this.value) }, hc.$metadata$ = { kind: h, simpleName: "InitializedLazyImpl", interfaces: [$r, oc] }, Object.defineProperty(dc.prototype, "isSuccess", { configurable: !0, get: function () { return !t.isType(this.value, yc) } }), Object.defineProperty(dc.prototype, "isFailure", { configurable: !0, get: function () { return t.isType(this.value, yc) } }), dc.prototype.getOrNull = e("kotlin.kotlin.Result.getOrNull", a((function () { var e = Object, i = t.throwCCE; return function () { var a; return this.isFailure ? null : null == (a = this.value) || t.isType(a, e) ? a : i() } }))), dc.prototype.exceptionOrNull = function () { return t.isType(this.value, yc) ? this.value.exception : null }, dc.prototype.toString = function () { return t.isType(this.value, yc) ? this.value.toString() : "Success(" + $(this.value) + ")" }, uc.prototype.success_mh5how$ = e("kotlin.kotlin.Result.Companion.success_mh5how$", a((function () { var t = c.kotlin.Result; return function (e) { return new t(e) } }))), uc.prototype.failure_lsqlk3$ = e("kotlin.kotlin.Result.Companion.failure_lsqlk3$", a((function () { var t = c.kotlin.createFailure_tcv7n7$, e = c.kotlin.Result; return function (i) { return new e(t(i)) } }))), uc.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var _c = null; function fc() { return null === _c && new uc, _c } function yc(t) { this.exception = t } function mc(t) { return new yc(t) } function $c(e) { if (t.isType(e.value, yc)) throw e.value.exception } function gc(t) { void 0 === t && (t = "An operation is not implemented."), li(t, this), this.name = "NotImplementedError" } function vc(t, e) { this.first = t, this.second = e } function Sc(t, e) { return new vc(t, e) } function Cc(t, e, i) { this.first = t, this.second = e, this.third = i } function Ec(t) { Ic(), this.data = t } function Ac() { bc = this, this.MIN_VALUE = new Ec(0), this.MAX_VALUE = new Ec(-1), this.SIZE_BYTES = 1, this.SIZE_BITS = 8 } yc.prototype.equals = function (e) { return t.isType(e, yc) && r(this.exception, e.exception) }, yc.prototype.hashCode = function () { return k(this.exception) }, yc.prototype.toString = function () { return "Failure(" + this.exception + ")" }, yc.$metadata$ = { kind: h, simpleName: "Failure", interfaces: [$r] }, dc.$metadata$ = { kind: h, simpleName: "Result", interfaces: [$r] }, dc.prototype.unbox = function () { return this.value }, dc.prototype.hashCode = function () { var e = 0; return e = 31 * e + t.hashCode(this.value) | 0 }, dc.prototype.equals = function (e) { return this === e || null !== e && "object" == typeof e && Object.getPrototypeOf(this) === Object.getPrototypeOf(e) && t.equals(this.value, e.value) }, gc.$metadata$ = { kind: h, simpleName: "NotImplementedError", interfaces: [si] }, vc.prototype.toString = function () { return "(" + this.first + ", " + this.second + ")" }, vc.$metadata$ = { kind: h, simpleName: "Pair", interfaces: [$r] }, vc.prototype.component1 = function () { return this.first }, vc.prototype.component2 = function () { return this.second }, vc.prototype.copy_xwzc9p$ = function (t, e) { return new vc(void 0 === t ? this.first : t, void 0 === e ? this.second : e) }, vc.prototype.hashCode = function () { var e = 0; return e = 31 * (e = 31 * e + t.hashCode(this.first) | 0) + t.hashCode(this.second) | 0 }, vc.prototype.equals = function (e) { return this === e || null !== e && "object" == typeof e && Object.getPrototypeOf(this) === Object.getPrototypeOf(e) && t.equals(this.first, e.first) && t.equals(this.second, e.second) }, Cc.prototype.toString = function () { return "(" + this.first + ", " + this.second + ", " + this.third + ")" }, Cc.$metadata$ = { kind: h, simpleName: "Triple", interfaces: [$r] }, Cc.prototype.component1 = function () { return this.first }, Cc.prototype.component2 = function () { return this.second }, Cc.prototype.component3 = function () { return this.third }, Cc.prototype.copy_1llc0w$ = function (t, e, i) { return new Cc(void 0 === t ? this.first : t, void 0 === e ? this.second : e, void 0 === i ? this.third : i) }, Cc.prototype.hashCode = function () { var e = 0; return e = 31 * (e = 31 * (e = 31 * e + t.hashCode(this.first) | 0) + t.hashCode(this.second) | 0) + t.hashCode(this.third) | 0 }, Cc.prototype.equals = function (e) { return this === e || null !== e && "object" == typeof e && Object.getPrototypeOf(this) === Object.getPrototypeOf(e) && t.equals(this.first, e.first) && t.equals(this.second, e.second) && t.equals(this.third, e.third) }, Ac.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var bc = null; function Ic() { return null === bc && new Ac, bc } function wc(t) { kc(), this.data = t } function Lc() { Tc = this, this.MIN_VALUE = new wc(0), this.MAX_VALUE = new wc(-1), this.SIZE_BYTES = 4, this.SIZE_BITS = 32 } Ec.prototype.compareTo_11rb$ = e("kotlin.kotlin.UByte.compareTo_11rb$", (function (e) { return t.primitiveCompareTo(255 & this.data, 255 & e.data) })), Ec.prototype.compareTo_6hrhkk$ = e("kotlin.kotlin.UByte.compareTo_6hrhkk$", (function (e) { return t.primitiveCompareTo(255 & this.data, 65535 & e.data) })), Ec.prototype.compareTo_s87ys9$ = e("kotlin.kotlin.UByte.compareTo_s87ys9$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintCompare_vux9f0$; return function (i) { return e(new t(255 & this.data).data, i.data) } }))), Ec.prototype.compareTo_mpgczg$ = e("kotlin.kotlin.UByte.compareTo_mpgczg$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong, a = c.kotlin.ulongCompare_3pjtqy$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)).data, r.data) } }))), Ec.prototype.plus_mpmjao$ = e("kotlin.kotlin.UByte.plus_mpmjao$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(255 & this.data).data + new t(255 & e.data).data | 0) } }))), Ec.prototype.plus_6hrhkk$ = e("kotlin.kotlin.UByte.plus_6hrhkk$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(255 & this.data).data + new t(65535 & e.data).data | 0) } }))), Ec.prototype.plus_s87ys9$ = e("kotlin.kotlin.UByte.plus_s87ys9$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(255 & this.data).data + e.data | 0) } }))), Ec.prototype.plus_mpgczg$ = e("kotlin.kotlin.UByte.plus_mpgczg$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong; return function (a) { return new i(new i(t.Long.fromInt(this.data).and(e)).data.add(a.data)) } }))), Ec.prototype.minus_mpmjao$ = e("kotlin.kotlin.UByte.minus_mpmjao$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(255 & this.data).data - new t(255 & e.data).data | 0) } }))), Ec.prototype.minus_6hrhkk$ = e("kotlin.kotlin.UByte.minus_6hrhkk$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(255 & this.data).data - new t(65535 & e.data).data | 0) } }))), Ec.prototype.minus_s87ys9$ = e("kotlin.kotlin.UByte.minus_s87ys9$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(255 & this.data).data - e.data | 0) } }))), Ec.prototype.minus_mpgczg$ = e("kotlin.kotlin.UByte.minus_mpgczg$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong; return function (a) { return new i(new i(t.Long.fromInt(this.data).and(e)).data.subtract(a.data)) } }))), Ec.prototype.times_mpmjao$ = e("kotlin.kotlin.UByte.times_mpmjao$", a((function () { var e = c.kotlin.UInt; return function (i) { return new e(t.imul(new e(255 & this.data).data, new e(255 & i.data).data)) } }))), Ec.prototype.times_6hrhkk$ = e("kotlin.kotlin.UByte.times_6hrhkk$", a((function () { var e = c.kotlin.UInt; return function (i) { return new e(t.imul(new e(255 & this.data).data, new e(65535 & i.data).data)) } }))), Ec.prototype.times_s87ys9$ = e("kotlin.kotlin.UByte.times_s87ys9$", a((function () { var e = c.kotlin.UInt; return function (i) { return new e(t.imul(new e(255 & this.data).data, i.data)) } }))), Ec.prototype.times_mpgczg$ = e("kotlin.kotlin.UByte.times_mpgczg$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong; return function (a) { return new i(new i(t.Long.fromInt(this.data).and(e)).data.multiply(a.data)) } }))), Ec.prototype.div_mpmjao$ = e("kotlin.kotlin.UByte.div_mpmjao$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(255 & this.data), new t(255 & i.data)) } }))), Ec.prototype.div_6hrhkk$ = e("kotlin.kotlin.UByte.div_6hrhkk$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(255 & this.data), new t(65535 & i.data)) } }))), Ec.prototype.div_s87ys9$ = e("kotlin.kotlin.UByte.div_s87ys9$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(255 & this.data), i) } }))), Ec.prototype.div_mpgczg$ = e("kotlin.kotlin.UByte.div_mpgczg$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), Ec.prototype.rem_mpmjao$ = e("kotlin.kotlin.UByte.rem_mpmjao$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintRemainder_oqfnby$; return function (i) { return e(new t(255 & this.data), new t(255 & i.data)) } }))), Ec.prototype.rem_6hrhkk$ = e("kotlin.kotlin.UByte.rem_6hrhkk$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintRemainder_oqfnby$; return function (i) { return e(new t(255 & this.data), new t(65535 & i.data)) } }))), Ec.prototype.rem_s87ys9$ = e("kotlin.kotlin.UByte.rem_s87ys9$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintRemainder_oqfnby$; return function (i) { return e(new t(255 & this.data), i) } }))), Ec.prototype.rem_mpgczg$ = e("kotlin.kotlin.UByte.rem_mpgczg$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), Ec.prototype.floorDiv_mpmjao$ = e("kotlin.kotlin.UByte.floorDiv_mpmjao$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(255 & this.data), new t(255 & i.data)) } }))), Ec.prototype.floorDiv_6hrhkk$ = e("kotlin.kotlin.UByte.floorDiv_6hrhkk$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(255 & this.data), new t(65535 & i.data)) } }))), Ec.prototype.floorDiv_s87ys9$ = e("kotlin.kotlin.UByte.floorDiv_s87ys9$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(255 & this.data), i) } }))), Ec.prototype.floorDiv_mpgczg$ = e("kotlin.kotlin.UByte.floorDiv_mpgczg$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), Ec.prototype.mod_mpmjao$ = e("kotlin.kotlin.UByte.mod_mpmjao$", a((function () { var e = c.kotlin.UInt, i = c.kotlin.uintRemainder_oqfnby$, a = t.toByte, r = c.kotlin.UByte; return function (t) { return new r(a(i(new e(255 & this.data), new e(255 & t.data)).data)) } }))), Ec.prototype.mod_6hrhkk$ = e("kotlin.kotlin.UByte.mod_6hrhkk$", a((function () { var e = c.kotlin.UInt, i = c.kotlin.uintRemainder_oqfnby$, a = t.toShort, r = c.kotlin.UShort; return function (t) { return new r(a(i(new e(255 & this.data), new e(65535 & t.data)).data)) } }))), Ec.prototype.mod_s87ys9$ = e("kotlin.kotlin.UByte.mod_s87ys9$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintRemainder_oqfnby$; return function (i) { return e(new t(255 & this.data), i) } }))), Ec.prototype.mod_mpgczg$ = e("kotlin.kotlin.UByte.mod_mpgczg$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), Ec.prototype.inc = e("kotlin.kotlin.UByte.inc", a((function () { var e = t.toByte, i = c.kotlin.UByte; return function () { return new i(e(this.data + 1)) } }))), Ec.prototype.dec = e("kotlin.kotlin.UByte.dec", a((function () { var e = t.toByte, i = c.kotlin.UByte; return function () { return new i(e(this.data - 1)) } }))), Ec.prototype.rangeTo_mpmjao$ = e("kotlin.kotlin.UByte.rangeTo_mpmjao$", a((function () { var t = c.kotlin.ranges.UIntRange, e = c.kotlin.UInt; return function (i) { return new t(new e(255 & this.data), new e(255 & i.data)) } }))), Ec.prototype.and_mpmjao$ = e("kotlin.kotlin.UByte.and_mpmjao$", a((function () { var e = c.kotlin.UByte, i = t.toByte; return function (t) { return new e(i(this.data & t.data)) } }))), Ec.prototype.or_mpmjao$ = e("kotlin.kotlin.UByte.or_mpmjao$", a((function () { var e = c.kotlin.UByte, i = t.toByte; return function (t) { return new e(i(this.data | t.data)) } }))), Ec.prototype.xor_mpmjao$ = e("kotlin.kotlin.UByte.xor_mpmjao$", a((function () { var e = c.kotlin.UByte, i = t.toByte; return function (t) { return new e(i(this.data ^ t.data)) } }))), Ec.prototype.inv = e("kotlin.kotlin.UByte.inv", a((function () { var e = c.kotlin.UByte, i = t.toByte; return function () { return new e(i(~this.data)) } }))), Ec.prototype.toByte = e("kotlin.kotlin.UByte.toByte", (function () { return this.data })), Ec.prototype.toShort = e("kotlin.kotlin.UByte.toShort", a((function () { var e = t.toShort; return function () { return e(255 & this.data) } }))), Ec.prototype.toInt = e("kotlin.kotlin.UByte.toInt", (function () { return 255 & this.data })), Ec.prototype.toLong = e("kotlin.kotlin.UByte.toLong", a((function () { var e = t.Long.fromInt(255); return function () { return t.Long.fromInt(this.data).and(e) } }))), Ec.prototype.toUByte = e("kotlin.kotlin.UByte.toUByte", (function () { return this })), Ec.prototype.toUShort = e("kotlin.kotlin.UByte.toUShort", a((function () { var e = c.kotlin.UShort, i = t.toShort; return function () { return new e(i(255 & this.data)) } }))), Ec.prototype.toUInt = e("kotlin.kotlin.UByte.toUInt", a((function () { var t = c.kotlin.UInt; return function () { return new t(255 & this.data) } }))), Ec.prototype.toULong = e("kotlin.kotlin.UByte.toULong", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong; return function () { return new i(t.Long.fromInt(this.data).and(e)) } }))), Ec.prototype.toFloat = e("kotlin.kotlin.UByte.toFloat", (function () { return 255 & this.data })), Ec.prototype.toDouble = e("kotlin.kotlin.UByte.toDouble", (function () { return 255 & this.data })), Ec.prototype.toString = function () { return (255 & this.data).toString() }, Ec.$metadata$ = { kind: h, simpleName: "UByte", interfaces: [A] }, Ec.prototype.unbox = function () { return this.data }, Ec.prototype.hashCode = function () { var e = 0; return e = 31 * e + t.hashCode(this.data) | 0 }, Ec.prototype.equals = function (e) { return this === e || null !== e && "object" == typeof e && Object.getPrototypeOf(this) === Object.getPrototypeOf(e) && t.equals(this.data, e.data) }, Lc.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var Tc = null; function kc() { return null === Tc && new Lc, Tc } function Rc(t, e) { Nc(), Dc.call(this, t, e, 1) } function Pc() { Mc = this, this.EMPTY = new Rc(kc().MAX_VALUE, kc().MIN_VALUE) } wc.prototype.compareTo_mpmjao$ = e("kotlin.kotlin.UInt.compareTo_mpmjao$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintCompare_vux9f0$; return function (i) { return e(this.data, new t(255 & i.data).data) } }))), wc.prototype.compareTo_6hrhkk$ = e("kotlin.kotlin.UInt.compareTo_6hrhkk$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintCompare_vux9f0$; return function (i) { return e(this.data, new t(65535 & i.data).data) } }))), wc.prototype.compareTo_11rb$ = e("kotlin.kotlin.UInt.compareTo_11rb$", a((function () { var t = c.kotlin.uintCompare_vux9f0$; return function (e) { return t(this.data, e.data) } }))), wc.prototype.compareTo_mpgczg$ = e("kotlin.kotlin.UInt.compareTo_mpgczg$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong, a = c.kotlin.ulongCompare_3pjtqy$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)).data, r.data) } }))), wc.prototype.plus_mpmjao$ = e("kotlin.kotlin.UInt.plus_mpmjao$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(this.data + new t(255 & e.data).data | 0) } }))), wc.prototype.plus_6hrhkk$ = e("kotlin.kotlin.UInt.plus_6hrhkk$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(this.data + new t(65535 & e.data).data | 0) } }))), wc.prototype.plus_s87ys9$ = e("kotlin.kotlin.UInt.plus_s87ys9$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(this.data + e.data | 0) } }))), wc.prototype.plus_mpgczg$ = e("kotlin.kotlin.UInt.plus_mpgczg$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong; return function (a) { return new i(new i(t.Long.fromInt(this.data).and(e)).data.add(a.data)) } }))), wc.prototype.minus_mpmjao$ = e("kotlin.kotlin.UInt.minus_mpmjao$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(this.data - new t(255 & e.data).data | 0) } }))), wc.prototype.minus_6hrhkk$ = e("kotlin.kotlin.UInt.minus_6hrhkk$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(this.data - new t(65535 & e.data).data | 0) } }))), wc.prototype.minus_s87ys9$ = e("kotlin.kotlin.UInt.minus_s87ys9$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(this.data - e.data | 0) } }))), wc.prototype.minus_mpgczg$ = e("kotlin.kotlin.UInt.minus_mpgczg$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong; return function (a) { return new i(new i(t.Long.fromInt(this.data).and(e)).data.subtract(a.data)) } }))), wc.prototype.times_mpmjao$ = e("kotlin.kotlin.UInt.times_mpmjao$", a((function () { var e = c.kotlin.UInt; return function (i) { return new e(t.imul(this.data, new e(255 & i.data).data)) } }))), wc.prototype.times_6hrhkk$ = e("kotlin.kotlin.UInt.times_6hrhkk$", a((function () { var e = c.kotlin.UInt; return function (i) { return new e(t.imul(this.data, new e(65535 & i.data).data)) } }))), wc.prototype.times_s87ys9$ = e("kotlin.kotlin.UInt.times_s87ys9$", a((function () { var e = c.kotlin.UInt; return function (i) { return new e(t.imul(this.data, i.data)) } }))), wc.prototype.times_mpgczg$ = e("kotlin.kotlin.UInt.times_mpgczg$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong; return function (a) { return new i(new i(t.Long.fromInt(this.data).and(e)).data.multiply(a.data)) } }))), wc.prototype.div_mpmjao$ = e("kotlin.kotlin.UInt.div_mpmjao$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(this, new t(255 & i.data)) } }))), wc.prototype.div_6hrhkk$ = e("kotlin.kotlin.UInt.div_6hrhkk$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(this, new t(65535 & i.data)) } }))), wc.prototype.div_s87ys9$ = e("kotlin.kotlin.UInt.div_s87ys9$", a((function () { var t = c.kotlin.uintDivide_oqfnby$; return function (e) { return t(this, e) } }))), wc.prototype.div_mpgczg$ = e("kotlin.kotlin.UInt.div_mpgczg$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), wc.prototype.rem_mpmjao$ = e("kotlin.kotlin.UInt.rem_mpmjao$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintRemainder_oqfnby$; return function (i) { return e(this, new t(255 & i.data)) } }))), wc.prototype.rem_6hrhkk$ = e("kotlin.kotlin.UInt.rem_6hrhkk$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintRemainder_oqfnby$; return function (i) { return e(this, new t(65535 & i.data)) } }))), wc.prototype.rem_s87ys9$ = e("kotlin.kotlin.UInt.rem_s87ys9$", a((function () { var t = c.kotlin.uintRemainder_oqfnby$; return function (e) { return t(this, e) } }))), wc.prototype.rem_mpgczg$ = e("kotlin.kotlin.UInt.rem_mpgczg$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), wc.prototype.floorDiv_mpmjao$ = e("kotlin.kotlin.UInt.floorDiv_mpmjao$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(this, new t(255 & i.data)) } }))), wc.prototype.floorDiv_6hrhkk$ = e("kotlin.kotlin.UInt.floorDiv_6hrhkk$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(this, new t(65535 & i.data)) } }))), wc.prototype.floorDiv_s87ys9$ = e("kotlin.kotlin.UInt.floorDiv_s87ys9$", a((function () { var t = c.kotlin.uintDivide_oqfnby$; return function (e) { return t(this, e) } }))), wc.prototype.floorDiv_mpgczg$ = e("kotlin.kotlin.UInt.floorDiv_mpgczg$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), wc.prototype.mod_mpmjao$ = e("kotlin.kotlin.UInt.mod_mpmjao$", a((function () { var e = c.kotlin.UInt, i = c.kotlin.uintRemainder_oqfnby$, a = t.toByte, r = c.kotlin.UByte; return function (t) { return new r(a(i(this, new e(255 & t.data)).data)) } }))), wc.prototype.mod_6hrhkk$ = e("kotlin.kotlin.UInt.mod_6hrhkk$", a((function () { var e = c.kotlin.UInt, i = c.kotlin.uintRemainder_oqfnby$, a = t.toShort, r = c.kotlin.UShort; return function (t) { return new r(a(i(this, new e(65535 & t.data)).data)) } }))), wc.prototype.mod_s87ys9$ = e("kotlin.kotlin.UInt.mod_s87ys9$", a((function () { var t = c.kotlin.uintRemainder_oqfnby$; return function (e) { return t(this, e) } }))), wc.prototype.mod_mpgczg$ = e("kotlin.kotlin.UInt.mod_mpgczg$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), wc.prototype.inc = e("kotlin.kotlin.UInt.inc", a((function () { var t = c.kotlin.UInt; return function () { return new t(this.data + 1 | 0) } }))), wc.prototype.dec = e("kotlin.kotlin.UInt.dec", a((function () { var t = c.kotlin.UInt; return function () { return new t(this.data - 1 | 0) } }))), wc.prototype.rangeTo_s87ys9$ = e("kotlin.kotlin.UInt.rangeTo_s87ys9$", a((function () { var t = c.kotlin.ranges.UIntRange; return function (e) { return new t(this, e) } }))), wc.prototype.shl_za3lpa$ = e("kotlin.kotlin.UInt.shl_za3lpa$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(this.data << e) } }))), wc.prototype.shr_za3lpa$ = e("kotlin.kotlin.UInt.shr_za3lpa$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(this.data >>> e) } }))), wc.prototype.and_s87ys9$ = e("kotlin.kotlin.UInt.and_s87ys9$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(this.data & e.data) } }))), wc.prototype.or_s87ys9$ = e("kotlin.kotlin.UInt.or_s87ys9$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(this.data | e.data) } }))), wc.prototype.xor_s87ys9$ = e("kotlin.kotlin.UInt.xor_s87ys9$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(this.data ^ e.data) } }))), wc.prototype.inv = e("kotlin.kotlin.UInt.inv", a((function () { var t = c.kotlin.UInt; return function () { return new t(~this.data) } }))), wc.prototype.toByte = e("kotlin.kotlin.UInt.toByte", a((function () { var e = t.toByte; return function () { return e(this.data) } }))), wc.prototype.toShort = e("kotlin.kotlin.UInt.toShort", a((function () { var e = t.toShort; return function () { return e(this.data) } }))), wc.prototype.toInt = e("kotlin.kotlin.UInt.toInt", (function () { return this.data })), wc.prototype.toLong = e("kotlin.kotlin.UInt.toLong", a((function () { var e = new t.Long(-1, 0); return function () { return t.Long.fromInt(this.data).and(e) } }))), wc.prototype.toUByte = e("kotlin.kotlin.UInt.toUByte", a((function () { var e = t.toByte, i = c.kotlin.UByte; return function () { return new i(e(this.data)) } }))), wc.prototype.toUShort = e("kotlin.kotlin.UInt.toUShort", a((function () { var e = t.toShort, i = c.kotlin.UShort; return function () { return new i(e(this.data)) } }))), wc.prototype.toUInt = e("kotlin.kotlin.UInt.toUInt", (function () { return this })), wc.prototype.toULong = e("kotlin.kotlin.UInt.toULong", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong; return function () { return new i(t.Long.fromInt(this.data).and(e)) } }))), wc.prototype.toFloat = e("kotlin.kotlin.UInt.toFloat", a((function () { var t = c.kotlin.uintToDouble_za3lpa$; return function () { return t(this.data) } }))), wc.prototype.toDouble = e("kotlin.kotlin.UInt.toDouble", a((function () { var t = c.kotlin.uintToDouble_za3lpa$; return function () { return t(this.data) } }))), wc.prototype.toString = function () { return t.Long.fromInt(this.data).and(g).toString() }, wc.$metadata$ = { kind: h, simpleName: "UInt", interfaces: [A] }, wc.prototype.unbox = function () { return this.data }, wc.prototype.hashCode = function () { var e = 0; return e = 31 * e + t.hashCode(this.data) | 0 }, wc.prototype.equals = function (e) { return this === e || null !== e && "object" == typeof e && Object.getPrototypeOf(this) === Object.getPrototypeOf(e) && t.equals(this.data, e.data) }, Object.defineProperty(Rc.prototype, "start", { configurable: !0, get: function () { return this.first } }), Object.defineProperty(Rc.prototype, "endInclusive", { configurable: !0, get: function () { return this.last } }), Rc.prototype.contains_mef7kx$ = function (t) { var e = mp(this.first.data, t.data) <= 0; return e && (e = mp(t.data, this.last.data) <= 0), e }, Rc.prototype.isEmpty = function () { return mp(this.first.data, this.last.data) > 0 }, Rc.prototype.equals = function (e) { var i, a; return t.isType(e, Rc) && (this.isEmpty() && e.isEmpty() || (null != (i = this.first) ? i.equals(e.first) : null) && (null != (a = this.last) ? a.equals(e.last) : null)) }, Rc.prototype.hashCode = function () { return this.isEmpty() ? -1 : (31 * this.first.data | 0) + this.last.data | 0 }, Rc.prototype.toString = function () { return this.first.toString() + ".." + this.last }, Pc.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var Mc = null; function Nc() { return null === Mc && new Pc, Mc } function Dc(t, e, i) { if (Oc(), 0 === i) throw ui("Step must be non-zero."); if (-2147483648 === i) throw ui("Step must be greater than Int.MIN_VALUE to avoid overflow on negation."); this.first = t, this.last = ap(t, e, i), this.step = i } function xc() { zc = this } Rc.$metadata$ = { kind: h, simpleName: "UIntRange", interfaces: [me, Dc] }, Dc.prototype.iterator = function () { return new Fc(this.first, this.last, this.step) }, Dc.prototype.isEmpty = function () { return this.step > 0 ? mp(this.first.data, this.last.data) > 0 : mp(this.first.data, this.last.data) < 0 }, Dc.prototype.equals = function (e) { var i, a; return t.isType(e, Dc) && (this.isEmpty() && e.isEmpty() || (null != (i = this.first) ? i.equals(e.first) : null) && (null != (a = this.last) ? a.equals(e.last) : null) && this.step === e.step) }, Dc.prototype.hashCode = function () { return this.isEmpty() ? -1 : (31 * ((31 * this.first.data | 0) + this.last.data | 0) | 0) + this.step | 0 }, Dc.prototype.toString = function () { return this.step > 0 ? this.first.toString() + ".." + this.last + " step " + this.step : this.first.toString() + " downTo " + this.last + " step " + (0 | -this.step) }, xc.prototype.fromClosedRange_fjk8us$ = function (t, e, i) { return new Dc(t, e, i) }, xc.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var zc = null; function Oc() { return null === zc && new xc, zc } function Fc(t, e, i) { Bc.call(this), this.finalElement_0 = e, this.hasNext_0 = i > 0 ? mp(t.data, e.data) <= 0 : mp(t.data, e.data) >= 0, this.step_0 = new wc(i), this.next_0 = this.hasNext_0 ? t : this.finalElement_0 } function Bc() { } function jc() { } function Hc(t) { Gc(), this.data = t } function qc() { Uc = this, this.MIN_VALUE = new Hc(l), this.MAX_VALUE = new Hc(u), this.SIZE_BYTES = 8, this.SIZE_BITS = 64 } Dc.$metadata$ = { kind: h, simpleName: "UIntProgression", interfaces: [Pt] }, Fc.prototype.hasNext = function () { return this.hasNext_0 }, Fc.prototype.nextUInt = function () { var t = this.next_0; if (null != t && t.equals(this.finalElement_0)) { if (!this.hasNext_0) throw bi(); this.hasNext_0 = !1 } else this.next_0 = new wc(this.next_0.data + this.step_0.data | 0); return t }, Fc.$metadata$ = { kind: h, simpleName: "UIntProgressionIterator", interfaces: [Bc] }, Bc.prototype.next = function () { return this.nextUInt() }, Bc.$metadata$ = { kind: h, simpleName: "UIntIterator", interfaces: [Ut] }, jc.prototype.next = function () { return this.nextULong() }, jc.$metadata$ = { kind: h, simpleName: "ULongIterator", interfaces: [Ut] }, qc.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var Uc = null; function Gc() { return null === Uc && new qc, Uc } function Wc(t, e) { Kc(), Xc.call(this, t, e, C) } function Yc() { Vc = this, this.EMPTY = new Wc(Gc().MAX_VALUE, Gc().MIN_VALUE) } Hc.prototype.compareTo_mpmjao$ = e("kotlin.kotlin.ULong.compareTo_mpmjao$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong, a = c.kotlin.ulongCompare_3pjtqy$; return function (r) { return a(this.data, new i(t.Long.fromInt(r.data).and(e)).data) } }))), Hc.prototype.compareTo_6hrhkk$ = e("kotlin.kotlin.ULong.compareTo_6hrhkk$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong, a = c.kotlin.ulongCompare_3pjtqy$; return function (r) { return a(this.data, new i(t.Long.fromInt(r.data).and(e)).data) } }))), Hc.prototype.compareTo_s87ys9$ = e("kotlin.kotlin.ULong.compareTo_s87ys9$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong, a = c.kotlin.ulongCompare_3pjtqy$; return function (r) { return a(this.data, new i(t.Long.fromInt(r.data).and(e)).data) } }))), Hc.prototype.compareTo_11rb$ = e("kotlin.kotlin.ULong.compareTo_11rb$", a((function () { var t = c.kotlin.ulongCompare_3pjtqy$; return function (e) { return t(this.data, e.data) } }))), Hc.prototype.plus_mpmjao$ = e("kotlin.kotlin.ULong.plus_mpmjao$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong; return function (a) { return new i(this.data.add(new i(t.Long.fromInt(a.data).and(e)).data)) } }))), Hc.prototype.plus_6hrhkk$ = e("kotlin.kotlin.ULong.plus_6hrhkk$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong; return function (a) { return new i(this.data.add(new i(t.Long.fromInt(a.data).and(e)).data)) } }))), Hc.prototype.plus_s87ys9$ = e("kotlin.kotlin.ULong.plus_s87ys9$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong; return function (a) { return new i(this.data.add(new i(t.Long.fromInt(a.data).and(e)).data)) } }))), Hc.prototype.plus_mpgczg$ = e("kotlin.kotlin.ULong.plus_mpgczg$", a((function () { var t = c.kotlin.ULong; return function (e) { return new t(this.data.add(e.data)) } }))), Hc.prototype.minus_mpmjao$ = e("kotlin.kotlin.ULong.minus_mpmjao$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong; return function (a) { return new i(this.data.subtract(new i(t.Long.fromInt(a.data).and(e)).data)) } }))), Hc.prototype.minus_6hrhkk$ = e("kotlin.kotlin.ULong.minus_6hrhkk$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong; return function (a) { return new i(this.data.subtract(new i(t.Long.fromInt(a.data).and(e)).data)) } }))), Hc.prototype.minus_s87ys9$ = e("kotlin.kotlin.ULong.minus_s87ys9$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong; return function (a) { return new i(this.data.subtract(new i(t.Long.fromInt(a.data).and(e)).data)) } }))), Hc.prototype.minus_mpgczg$ = e("kotlin.kotlin.ULong.minus_mpgczg$", a((function () { var t = c.kotlin.ULong; return function (e) { return new t(this.data.subtract(e.data)) } }))), Hc.prototype.times_mpmjao$ = e("kotlin.kotlin.ULong.times_mpmjao$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong; return function (a) { return new i(this.data.multiply(new i(t.Long.fromInt(a.data).and(e)).data)) } }))), Hc.prototype.times_6hrhkk$ = e("kotlin.kotlin.ULong.times_6hrhkk$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong; return function (a) { return new i(this.data.multiply(new i(t.Long.fromInt(a.data).and(e)).data)) } }))), Hc.prototype.times_s87ys9$ = e("kotlin.kotlin.ULong.times_s87ys9$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong; return function (a) { return new i(this.data.multiply(new i(t.Long.fromInt(a.data).and(e)).data)) } }))), Hc.prototype.times_mpgczg$ = e("kotlin.kotlin.ULong.times_mpgczg$", a((function () { var t = c.kotlin.ULong; return function (e) { return new t(this.data.multiply(e.data)) } }))), Hc.prototype.div_mpmjao$ = e("kotlin.kotlin.ULong.div_mpmjao$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(this, new i(t.Long.fromInt(r.data).and(e))) } }))), Hc.prototype.div_6hrhkk$ = e("kotlin.kotlin.ULong.div_6hrhkk$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(this, new i(t.Long.fromInt(r.data).and(e))) } }))), Hc.prototype.div_s87ys9$ = e("kotlin.kotlin.ULong.div_s87ys9$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(this, new i(t.Long.fromInt(r.data).and(e))) } }))), Hc.prototype.div_mpgczg$ = e("kotlin.kotlin.ULong.div_mpgczg$", a((function () { var t = c.kotlin.ulongDivide_jpm79w$; return function (e) { return t(this, e) } }))), Hc.prototype.rem_mpmjao$ = e("kotlin.kotlin.ULong.rem_mpmjao$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$; return function (r) { return a(this, new i(t.Long.fromInt(r.data).and(e))) } }))), Hc.prototype.rem_6hrhkk$ = e("kotlin.kotlin.ULong.rem_6hrhkk$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$; return function (r) { return a(this, new i(t.Long.fromInt(r.data).and(e))) } }))), Hc.prototype.rem_s87ys9$ = e("kotlin.kotlin.ULong.rem_s87ys9$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$; return function (r) { return a(this, new i(t.Long.fromInt(r.data).and(e))) } }))), Hc.prototype.rem_mpgczg$ = e("kotlin.kotlin.ULong.rem_mpgczg$", a((function () { var t = c.kotlin.ulongRemainder_jpm79w$; return function (e) { return t(this, e) } }))), Hc.prototype.floorDiv_mpmjao$ = e("kotlin.kotlin.ULong.floorDiv_mpmjao$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(this, new i(t.Long.fromInt(r.data).and(e))) } }))), Hc.prototype.floorDiv_6hrhkk$ = e("kotlin.kotlin.ULong.floorDiv_6hrhkk$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(this, new i(t.Long.fromInt(r.data).and(e))) } }))), Hc.prototype.floorDiv_s87ys9$ = e("kotlin.kotlin.ULong.floorDiv_s87ys9$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(this, new i(t.Long.fromInt(r.data).and(e))) } }))), Hc.prototype.floorDiv_mpgczg$ = e("kotlin.kotlin.ULong.floorDiv_mpgczg$", a((function () { var t = c.kotlin.ulongDivide_jpm79w$; return function (e) { return t(this, e) } }))), Hc.prototype.mod_mpmjao$ = e("kotlin.kotlin.ULong.mod_mpmjao$", a((function () { var e = t.Long.fromInt(255), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$, r = t.toByte, n = c.kotlin.UByte; return function (o) { return new n(r(a(this, new i(t.Long.fromInt(o.data).and(e))).data.toInt())) } }))), Hc.prototype.mod_6hrhkk$ = e("kotlin.kotlin.ULong.mod_6hrhkk$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$, r = t.toShort, n = c.kotlin.UShort; return function (o) { return new n(r(a(this, new i(t.Long.fromInt(o.data).and(e))).data.toInt())) } }))), Hc.prototype.mod_s87ys9$ = e("kotlin.kotlin.ULong.mod_s87ys9$", a((function () { var e = new t.Long(-1, 0), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$, r = c.kotlin.UInt; return function (n) { return new r(a(this, new i(t.Long.fromInt(n.data).and(e))).data.toInt()) } }))), Hc.prototype.mod_mpgczg$ = e("kotlin.kotlin.ULong.mod_mpgczg$", a((function () { var t = c.kotlin.ulongRemainder_jpm79w$; return function (e) { return t(this, e) } }))), Hc.prototype.inc = e("kotlin.kotlin.ULong.inc", a((function () { var t = c.kotlin.ULong; return function () { return new t(this.data.inc()) } }))), Hc.prototype.dec = e("kotlin.kotlin.ULong.dec", a((function () { var t = c.kotlin.ULong; return function () { return new t(this.data.dec()) } }))), Hc.prototype.rangeTo_mpgczg$ = e("kotlin.kotlin.ULong.rangeTo_mpgczg$", a((function () { var t = c.kotlin.ranges.ULongRange; return function (e) { return new t(this, e) } }))), Hc.prototype.shl_za3lpa$ = e("kotlin.kotlin.ULong.shl_za3lpa$", a((function () { var t = c.kotlin.ULong; return function (e) { return new t(this.data.shiftLeft(e)) } }))), Hc.prototype.shr_za3lpa$ = e("kotlin.kotlin.ULong.shr_za3lpa$", a((function () { var t = c.kotlin.ULong; return function (e) { return new t(this.data.shiftRightUnsigned(e)) } }))), Hc.prototype.and_mpgczg$ = e("kotlin.kotlin.ULong.and_mpgczg$", a((function () { var t = c.kotlin.ULong; return function (e) { return new t(this.data.and(e.data)) } }))), Hc.prototype.or_mpgczg$ = e("kotlin.kotlin.ULong.or_mpgczg$", a((function () { var t = c.kotlin.ULong; return function (e) { return new t(this.data.or(e.data)) } }))), Hc.prototype.xor_mpgczg$ = e("kotlin.kotlin.ULong.xor_mpgczg$", a((function () { var t = c.kotlin.ULong; return function (e) { return new t(this.data.xor(e.data)) } }))), Hc.prototype.inv = e("kotlin.kotlin.ULong.inv", a((function () { var t = c.kotlin.ULong; return function () { return new t(this.data.inv()) } }))), Hc.prototype.toByte = e("kotlin.kotlin.ULong.toByte", a((function () { var e = t.toByte; return function () { return e(this.data.toInt()) } }))), Hc.prototype.toShort = e("kotlin.kotlin.ULong.toShort", a((function () { var e = t.toShort; return function () { return e(this.data.toInt()) } }))), Hc.prototype.toInt = e("kotlin.kotlin.ULong.toInt", (function () { return this.data.toInt() })), Hc.prototype.toLong = e("kotlin.kotlin.ULong.toLong", (function () { return this.data })), Hc.prototype.toUByte = e("kotlin.kotlin.ULong.toUByte", a((function () { var e = t.toByte, i = c.kotlin.UByte; return function () { return new i(e(this.data.toInt())) } }))), Hc.prototype.toUShort = e("kotlin.kotlin.ULong.toUShort", a((function () { var e = t.toShort, i = c.kotlin.UShort; return function () { return new i(e(this.data.toInt())) } }))), Hc.prototype.toUInt = e("kotlin.kotlin.ULong.toUInt", a((function () { var t = c.kotlin.UInt; return function () { return new t(this.data.toInt()) } }))), Hc.prototype.toULong = e("kotlin.kotlin.ULong.toULong", (function () { return this })), Hc.prototype.toFloat = e("kotlin.kotlin.ULong.toFloat", a((function () { var t = c.kotlin.ulongToDouble_s8cxhz$; return function () { return t(this.data) } }))), Hc.prototype.toDouble = e("kotlin.kotlin.ULong.toDouble", a((function () { var t = c.kotlin.ulongToDouble_s8cxhz$; return function () { return t(this.data) } }))), Hc.prototype.toString = function () { return Ep(this.data) }, Hc.$metadata$ = { kind: h, simpleName: "ULong", interfaces: [A] }, Hc.prototype.unbox = function () { return this.data }, Hc.prototype.hashCode = function () { var e = 0; return e = 31 * e + t.hashCode(this.data) | 0 }, Hc.prototype.equals = function (e) { return this === e || null !== e && "object" == typeof e && Object.getPrototypeOf(this) === Object.getPrototypeOf(e) && t.equals(this.data, e.data) }, Object.defineProperty(Wc.prototype, "start", { configurable: !0, get: function () { return this.first } }), Object.defineProperty(Wc.prototype, "endInclusive", { configurable: !0, get: function () { return this.last } }), Wc.prototype.contains_mef7kx$ = function (t) { var e = $p(this.first.data, t.data) <= 0; return e && (e = $p(t.data, this.last.data) <= 0), e }, Wc.prototype.isEmpty = function () { return $p(this.first.data, this.last.data) > 0 }, Wc.prototype.equals = function (e) { var i, a; return t.isType(e, Wc) && (this.isEmpty() && e.isEmpty() || (null != (i = this.first) ? i.equals(e.first) : null) && (null != (a = this.last) ? a.equals(e.last) : null)) }, Wc.prototype.hashCode = function () { return this.isEmpty() ? -1 : (31 * new Hc(this.first.data.xor(new Hc(this.first.data.shiftRightUnsigned(32)).data)).data.toInt() | 0) + new Hc(this.last.data.xor(new Hc(this.last.data.shiftRightUnsigned(32)).data)).data.toInt() | 0 }, Wc.prototype.toString = function () { return this.first.toString() + ".." + this.last }, Yc.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var Vc = null; function Kc() { return null === Vc && new Yc, Vc } function Xc(t, e, i) { if (Qc(), r(i, l)) throw ui("Step must be non-zero."); if (r(i, y)) throw ui("Step must be greater than Long.MIN_VALUE to avoid overflow on negation."); this.first = t, this.last = rp(t, e, i), this.step = i } function Jc() { Zc = this } Wc.$metadata$ = { kind: h, simpleName: "ULongRange", interfaces: [me, Xc] }, Xc.prototype.iterator = function () { return new tp(this.first, this.last, this.step) }, Xc.prototype.isEmpty = function () { return this.step.toNumber() > 0 ? $p(this.first.data, this.last.data) > 0 : $p(this.first.data, this.last.data) < 0 }, Xc.prototype.equals = function (e) { var i, a; return t.isType(e, Xc) && (this.isEmpty() && e.isEmpty() || (null != (i = this.first) ? i.equals(e.first) : null) && (null != (a = this.last) ? a.equals(e.last) : null) && r(this.step, e.step)) }, Xc.prototype.hashCode = function () { return this.isEmpty() ? -1 : (31 * ((31 * new Hc(this.first.data.xor(new Hc(this.first.data.shiftRightUnsigned(32)).data)).data.toInt() | 0) + new Hc(this.last.data.xor(new Hc(this.last.data.shiftRightUnsigned(32)).data)).data.toInt() | 0) | 0) + this.step.xor(this.step.shiftRightUnsigned(32)).toInt() | 0 }, Xc.prototype.toString = function () { return this.step.toNumber() > 0 ? this.first.toString() + ".." + this.last + " step " + this.step.toString() : this.first.toString() + " downTo " + this.last + " step " + this.step.unaryMinus().toString() }, Jc.prototype.fromClosedRange_15zasp$ = function (t, e, i) { return new Xc(t, e, i) }, Jc.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var Zc = null; function Qc() { return null === Zc && new Jc, Zc } function tp(t, e, i) { jc.call(this), this.finalElement_0 = e, this.hasNext_0 = i.toNumber() > 0 ? $p(t.data, e.data) <= 0 : $p(t.data, e.data) >= 0, this.step_0 = new Hc(i), this.next_0 = this.hasNext_0 ? t : this.finalElement_0 } function ep(t, e, i) { var a = vp(t, i), r = vp(e, i); return mp(a.data, r.data) >= 0 ? new wc(a.data - r.data | 0) : new wc(new wc(a.data - r.data | 0).data + i.data | 0) } function ip(t, e, i) { var a = Cp(t, i), r = Cp(e, i); return $p(a.data, r.data) >= 0 ? new Hc(a.data.subtract(r.data)) : new Hc(new Hc(a.data.subtract(r.data)).data.add(i.data)) } function ap(t, e, i) { if (i > 0) return mp(t.data, e.data) >= 0 ? e : new wc(e.data - ep(e, t, new wc(i)).data | 0); if (i < 0) return mp(t.data, e.data) <= 0 ? e : new wc(e.data + ep(t, e, new wc(0 | -i)).data | 0); throw ui("Step is zero.") } function rp(t, e, i) { if (i.toNumber() > 0) return $p(t.data, e.data) >= 0 ? e : new Hc(e.data.subtract(ip(e, t, new Hc(i)).data)); if (i.toNumber() < 0) return $p(t.data, e.data) <= 0 ? e : new Hc(e.data.add(ip(t, e, new Hc(i.unaryMinus())).data)); throw ui("Step is zero.") } function np(t) { lp(), this.data = t } function op() { sp = this, this.MIN_VALUE = new np(0), this.MAX_VALUE = new np(-1), this.SIZE_BYTES = 2, this.SIZE_BITS = 16 } Xc.$metadata$ = { kind: h, simpleName: "ULongProgression", interfaces: [Pt] }, tp.prototype.hasNext = function () { return this.hasNext_0 }, tp.prototype.nextULong = function () { var t = this.next_0; if (null != t && t.equals(this.finalElement_0)) { if (!this.hasNext_0) throw bi(); this.hasNext_0 = !1 } else this.next_0 = new Hc(this.next_0.data.add(this.step_0.data)); return t }, tp.$metadata$ = { kind: h, simpleName: "ULongProgressionIterator", interfaces: [jc] }, op.$metadata$ = { kind: S, simpleName: "Companion", interfaces: [] }; var sp = null; function lp() { return null === sp && new op, sp } function cp(t) { return pp(t, 10) } function pp(t, e) { var i; if (null == (i = _p(t, e))) return null; var a = i; return mp(a.data, new wc(255 & Ic().MAX_VALUE.data).data) > 0 ? null : new Ec(_(a.data)) } function hp(t) { return dp(t, 10) } function dp(t, e) { var i; if (null == (i = _p(t, e))) return null; var a = i; return mp(a.data, new wc(65535 & lp().MAX_VALUE.data).data) > 0 ? null : new np(m(a.data)) } function up(t) { return _p(t, 10) } function _p(e, i) { Tn(i); var a = e.length; if (0 === a) return null; var r, n = kc().MAX_VALUE, o = e.charCodeAt(0); if (o < 48) { if (1 === a || 43 !== o) return null; r = 1 } else r = 0; for (var s = new wc(119304647), l = s, c = new wc(i), p = new wc(0), h = r; h < a; h++) { var d = kn(e.charCodeAt(h), i); if (d < 0) return null; if (mp(p.data, l.data) > 0) { if (null == l || !l.equals(s)) return null; if (l = gp(n, c), mp(p.data, l.data) > 0) return null } var u = p = new wc(t.imul(p.data, c.data)); if (mp((p = new wc(p.data + new wc(d).data | 0)).data, u.data) < 0) return null } return p } function fp(t) { return yp(t, 10) } function yp(e, i) { Tn(i); var a = e.length; if (0 === a) return null; var r, n = Gc().MAX_VALUE, o = e.charCodeAt(0); if (o < 48) { if (1 === a || 43 !== o) return null; r = 1 } else r = 0; for (var s = new Hc(new t.Long(477218588, 119304647)), l = s, c = new Hc(t.Long.fromInt(i)), p = new Hc(t.Long.ZERO), h = r; h < a; h++) { var d = kn(e.charCodeAt(h), i); if (d < 0) return null; if ($p(p.data, l.data) > 0) { if (null == l || !l.equals(s)) return null; if (l = Sp(n, c), $p(p.data, l.data) > 0) return null } var u = p = new Hc(p.data.multiply(c.data)); if ($p((p = new Hc(p.data.add(new Hc(t.Long.fromInt(new wc(d).data).and(g)).data))).data, u.data) < 0) return null } return p } function mp(e, i) { return t.primitiveCompareTo(-2147483648 ^ e, -2147483648 ^ i) } function $p(t, e) { return t.xor(y).compareTo_11rb$(e.xor(y)) } function gp(e, i) { return new wc(t.Long.fromInt(e.data).and(g).div(t.Long.fromInt(i.data).and(g)).toInt()) } function vp(e, i) { return new wc(t.Long.fromInt(e.data).and(g).modulo(t.Long.fromInt(i.data).and(g)).toInt()) } function Sp(e, i) { var a = e.data, r = i.data; if (r.toNumber() < 0) return $p(e.data, i.data) < 0 ? new Hc(l) : new Hc(C); if (a.toNumber() >= 0) return new Hc(a.div(r)); var n = a.shiftRightUnsigned(1).div(r).shiftLeft(1), o = a.subtract(n.multiply(r)); return new Hc(n.add(t.Long.fromInt($p(new Hc(o).data, new Hc(r).data) >= 0 ? 1 : 0))) } function Cp(t, e) { var i = t.data, a = e.data; if (a.toNumber() < 0) return $p(t.data, e.data) < 0 ? t : new Hc(t.data.subtract(e.data)); if (i.toNumber() >= 0) return new Hc(i.modulo(a)); var r = i.shiftRightUnsigned(1).div(a).shiftLeft(1), n = i.subtract(r.multiply(a)); return new Hc(n.subtract($p(new Hc(n).data, new Hc(a).data) >= 0 ? a : l)) } function Ep(t) { return Ap(t, 10) } function Ap(e, i) { if (e.toNumber() >= 0) return Mi(e, i); var a = e.shiftRightUnsigned(1).div(t.Long.fromInt(i)).shiftLeft(1), r = e.subtract(a.multiply(t.Long.fromInt(i))); return r.toNumber() >= i && (r = r.subtract(t.Long.fromInt(i)), a = a.add(t.Long.fromInt(1))), Mi(a, i) + Mi(r, i) } np.prototype.compareTo_mpmjao$ = e("kotlin.kotlin.UShort.compareTo_mpmjao$", (function (e) { return t.primitiveCompareTo(65535 & this.data, 255 & e.data) })), np.prototype.compareTo_11rb$ = e("kotlin.kotlin.UShort.compareTo_11rb$", (function (e) { return t.primitiveCompareTo(65535 & this.data, 65535 & e.data) })), np.prototype.compareTo_s87ys9$ = e("kotlin.kotlin.UShort.compareTo_s87ys9$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintCompare_vux9f0$; return function (i) { return e(new t(65535 & this.data).data, i.data) } }))), np.prototype.compareTo_mpgczg$ = e("kotlin.kotlin.UShort.compareTo_mpgczg$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong, a = c.kotlin.ulongCompare_3pjtqy$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)).data, r.data) } }))), np.prototype.plus_mpmjao$ = e("kotlin.kotlin.UShort.plus_mpmjao$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(65535 & this.data).data + new t(255 & e.data).data | 0) } }))), np.prototype.plus_6hrhkk$ = e("kotlin.kotlin.UShort.plus_6hrhkk$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(65535 & this.data).data + new t(65535 & e.data).data | 0) } }))), np.prototype.plus_s87ys9$ = e("kotlin.kotlin.UShort.plus_s87ys9$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(65535 & this.data).data + e.data | 0) } }))), np.prototype.plus_mpgczg$ = e("kotlin.kotlin.UShort.plus_mpgczg$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong; return function (a) { return new i(new i(t.Long.fromInt(this.data).and(e)).data.add(a.data)) } }))), np.prototype.minus_mpmjao$ = e("kotlin.kotlin.UShort.minus_mpmjao$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(65535 & this.data).data - new t(255 & e.data).data | 0) } }))), np.prototype.minus_6hrhkk$ = e("kotlin.kotlin.UShort.minus_6hrhkk$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(65535 & this.data).data - new t(65535 & e.data).data | 0) } }))), np.prototype.minus_s87ys9$ = e("kotlin.kotlin.UShort.minus_s87ys9$", a((function () { var t = c.kotlin.UInt; return function (e) { return new t(new t(65535 & this.data).data - e.data | 0) } }))), np.prototype.minus_mpgczg$ = e("kotlin.kotlin.UShort.minus_mpgczg$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong; return function (a) { return new i(new i(t.Long.fromInt(this.data).and(e)).data.subtract(a.data)) } }))), np.prototype.times_mpmjao$ = e("kotlin.kotlin.UShort.times_mpmjao$", a((function () { var e = c.kotlin.UInt; return function (i) { return new e(t.imul(new e(65535 & this.data).data, new e(255 & i.data).data)) } }))), np.prototype.times_6hrhkk$ = e("kotlin.kotlin.UShort.times_6hrhkk$", a((function () { var e = c.kotlin.UInt; return function (i) { return new e(t.imul(new e(65535 & this.data).data, new e(65535 & i.data).data)) } }))), np.prototype.times_s87ys9$ = e("kotlin.kotlin.UShort.times_s87ys9$", a((function () { var e = c.kotlin.UInt; return function (i) { return new e(t.imul(new e(65535 & this.data).data, i.data)) } }))), np.prototype.times_mpgczg$ = e("kotlin.kotlin.UShort.times_mpgczg$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong; return function (a) { return new i(new i(t.Long.fromInt(this.data).and(e)).data.multiply(a.data)) } }))), np.prototype.div_mpmjao$ = e("kotlin.kotlin.UShort.div_mpmjao$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(65535 & this.data), new t(255 & i.data)) } }))), np.prototype.div_6hrhkk$ = e("kotlin.kotlin.UShort.div_6hrhkk$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(65535 & this.data), new t(65535 & i.data)) } }))), np.prototype.div_s87ys9$ = e("kotlin.kotlin.UShort.div_s87ys9$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(65535 & this.data), i) } }))), np.prototype.div_mpgczg$ = e("kotlin.kotlin.UShort.div_mpgczg$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), np.prototype.rem_mpmjao$ = e("kotlin.kotlin.UShort.rem_mpmjao$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintRemainder_oqfnby$; return function (i) { return e(new t(65535 & this.data), new t(255 & i.data)) } }))), np.prototype.rem_6hrhkk$ = e("kotlin.kotlin.UShort.rem_6hrhkk$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintRemainder_oqfnby$; return function (i) { return e(new t(65535 & this.data), new t(65535 & i.data)) } }))), np.prototype.rem_s87ys9$ = e("kotlin.kotlin.UShort.rem_s87ys9$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintRemainder_oqfnby$; return function (i) { return e(new t(65535 & this.data), i) } }))), np.prototype.rem_mpgczg$ = e("kotlin.kotlin.UShort.rem_mpgczg$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), np.prototype.floorDiv_mpmjao$ = e("kotlin.kotlin.UShort.floorDiv_mpmjao$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(65535 & this.data), new t(255 & i.data)) } }))), np.prototype.floorDiv_6hrhkk$ = e("kotlin.kotlin.UShort.floorDiv_6hrhkk$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(65535 & this.data), new t(65535 & i.data)) } }))), np.prototype.floorDiv_s87ys9$ = e("kotlin.kotlin.UShort.floorDiv_s87ys9$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintDivide_oqfnby$; return function (i) { return e(new t(65535 & this.data), i) } }))), np.prototype.floorDiv_mpgczg$ = e("kotlin.kotlin.UShort.floorDiv_mpgczg$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong, a = c.kotlin.ulongDivide_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), np.prototype.mod_mpmjao$ = e("kotlin.kotlin.UShort.mod_mpmjao$", a((function () { var e = c.kotlin.UInt, i = c.kotlin.uintRemainder_oqfnby$, a = t.toByte, r = c.kotlin.UByte; return function (t) { return new r(a(i(new e(65535 & this.data), new e(255 & t.data)).data)) } }))), np.prototype.mod_6hrhkk$ = e("kotlin.kotlin.UShort.mod_6hrhkk$", a((function () { var e = c.kotlin.UInt, i = c.kotlin.uintRemainder_oqfnby$, a = t.toShort, r = c.kotlin.UShort; return function (t) { return new r(a(i(new e(65535 & this.data), new e(65535 & t.data)).data)) } }))), np.prototype.mod_s87ys9$ = e("kotlin.kotlin.UShort.mod_s87ys9$", a((function () { var t = c.kotlin.UInt, e = c.kotlin.uintRemainder_oqfnby$; return function (i) { return e(new t(65535 & this.data), i) } }))), np.prototype.mod_mpgczg$ = e("kotlin.kotlin.UShort.mod_mpgczg$", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong, a = c.kotlin.ulongRemainder_jpm79w$; return function (r) { return a(new i(t.Long.fromInt(this.data).and(e)), r) } }))), np.prototype.inc = e("kotlin.kotlin.UShort.inc", a((function () { var e = t.toShort, i = c.kotlin.UShort; return function () { return new i(e(this.data + 1)) } }))), np.prototype.dec = e("kotlin.kotlin.UShort.dec", a((function () { var e = t.toShort, i = c.kotlin.UShort; return function () { return new i(e(this.data - 1)) } }))), np.prototype.rangeTo_6hrhkk$ = e("kotlin.kotlin.UShort.rangeTo_6hrhkk$", a((function () { var t = c.kotlin.ranges.UIntRange, e = c.kotlin.UInt; return function (i) { return new t(new e(65535 & this.data), new e(65535 & i.data)) } }))), np.prototype.and_6hrhkk$ = e("kotlin.kotlin.UShort.and_6hrhkk$", a((function () { var e = c.kotlin.UShort, i = t.toShort; return function (t) { return new e(i(this.data & t.data)) } }))), np.prototype.or_6hrhkk$ = e("kotlin.kotlin.UShort.or_6hrhkk$", a((function () { var e = c.kotlin.UShort, i = t.toShort; return function (t) { return new e(i(this.data | t.data)) } }))), np.prototype.xor_6hrhkk$ = e("kotlin.kotlin.UShort.xor_6hrhkk$", a((function () { var e = c.kotlin.UShort, i = t.toShort; return function (t) { return new e(i(this.data ^ t.data)) } }))), np.prototype.inv = e("kotlin.kotlin.UShort.inv", a((function () { var e = c.kotlin.UShort, i = t.toShort; return function () { return new e(i(~this.data)) } }))), np.prototype.toByte = e("kotlin.kotlin.UShort.toByte", a((function () { var e = t.toByte; return function () { return e(this.data) } }))), np.prototype.toShort = e("kotlin.kotlin.UShort.toShort", (function () { return this.data })), np.prototype.toInt = e("kotlin.kotlin.UShort.toInt", (function () { return 65535 & this.data })), np.prototype.toLong = e("kotlin.kotlin.UShort.toLong", a((function () { var e = t.Long.fromInt(65535); return function () { return t.Long.fromInt(this.data).and(e) } }))), np.prototype.toUByte = e("kotlin.kotlin.UShort.toUByte", a((function () { var e = t.toByte, i = c.kotlin.UByte; return function () { return new i(e(this.data)) } }))), np.prototype.toUShort = e("kotlin.kotlin.UShort.toUShort", (function () { return this })), np.prototype.toUInt = e("kotlin.kotlin.UShort.toUInt", a((function () { var t = c.kotlin.UInt; return function () { return new t(65535 & this.data) } }))), np.prototype.toULong = e("kotlin.kotlin.UShort.toULong", a((function () { var e = t.Long.fromInt(65535), i = c.kotlin.ULong; return function () { return new i(t.Long.fromInt(this.data).and(e)) } }))), np.prototype.toFloat = e("kotlin.kotlin.UShort.toFloat", (function () { return 65535 & this.data })), np.prototype.toDouble = e("kotlin.kotlin.UShort.toDouble", (function () { return 65535 & this.data })), np.prototype.toString = function () { return (65535 & this.data).toString() }, np.$metadata$ = { kind: h, simpleName: "UShort", interfaces: [A] }, np.prototype.unbox = function () { return this.data }, np.prototype.hashCode = function () { var e = 0; return e = 31 * e + t.hashCode(this.data) | 0 }, np.prototype.equals = function (e) { return this === e || null !== e && "object" == typeof e && Object.getPrototypeOf(this) === Object.getPrototypeOf(e) && t.equals(this.data, e.data) }; var bp = c.kotlin || (c.kotlin = {}), Ip = bp.collections || (bp.collections = {}); Ip.contains_mjy6jw$ = B, Ip.contains_c03ot6$ = function (t, e) { return q(t, e) >= 0 }, Ip.contains_o2f9me$ = j, Ip.get_lastIndex_m7z4lg$ = V, Ip.get_lastIndex_l1lu5t$ = K, Ip.indexOf_mjy6jw$ = H, Ip.indexOf_c03ot6$ = q, Ip.indexOf_o2f9me$ = U, Ip.get_indices_m7z4lg$ = Y; var wp = bp.ranges || (bp.ranges = {}); wp.reversed_zf1xzc$ = ft, Ip.get_indices_l1lu5t$ = function (t) { return new Ce(0, K(t)) }, Ip.lastIndexOf_mjy6jw$ = G; var Lp = bp.random || (bp.random = {}); Lp.Random = sl, Ip.single_355ntz$ = W, bp.IllegalArgumentException_init_pdl1vj$ = ui, Ip.emptyList_287e2$ = wo, Ip.ArrayList_init_287e2$ = Ia, Ip.toList_us0mfu$ = function (t) { var e; switch (t.length) { case 0: e = wo(); break; case 1: e = na(t[0]); break; default: e = J(t) }return e }, Ip.mapCapacity_za3lpa$ = ha, wp.coerceAtLeast_dqglrj$ = mt, Ip.LinkedHashMap_init_bwtc7$ = rr, wp.coerceAtMost_dqglrj$ = $t, Ip.toCollection_5n4o2z$ = X, Ip.toMutableList_us0mfu$ = J, Ip.toSet_us0mfu$ = Z, Ip.addAll_ipc267$ = Qo, Ip.LinkedHashMap_init_q3lmfv$ = ir, Ip.Grouping = Mo, Ip.ArrayList_init_ww73n8$ = wa, Ip.withIndex_us0mfu$ = function (e) { return new Do((i = e, function () { return t.arrayIterator(i) })); var i }, Ip.HashSet_init_287e2$ = function (t) { return t = t || Object.create(Ua.prototype), Aa.call(t), Ua.call(t), t.map_8be2vx$ = ja(), t }, bp.NoSuchElementException_init = bi, bp.UnsupportedOperationException_init_pdl1vj$ = vi, Ip.listOf_mh5how$ = na, Ip.zip_r9t3v7$ = function (t, e) { for (var i = p.min(t.length, e.length), a = wa(i), r = 0; r < i; r++)a.add_11rb$(Sc(t[r], e[r])); return a }, Ip.collectionSizeOrDefault_ba2ldo$ = zo, Ip.contains_2ws7j4$ = tt, Ip.get_lastIndex_55thoc$ = ko, Ip.indexOf_2ws7j4$ = et, Ip.indexOf_bv23uc$ = function (t, e) { return t.indexOf_11rb$(e) }, Ip.checkIndexOverflow_za3lpa$ = pa, Ip.last_2p1efm$ = function (t) { if (t.isEmpty()) throw new Ai("List is empty."); return t.get_za3lpa$(ko(t)) }, Ip.lastOrNull_2p1efm$ = function (t) { return t.isEmpty() ? null : t.get_za3lpa$(t.size - 1 | 0) }, Ip.single_7wnvza$ = it, Ip.single_2p1efm$ = at, Ip.singleOrNull_2p1efm$ = function (t) { return 1 === t.size ? t.get_za3lpa$(0) : null }, Ip.toList_7wnvza$ = nt, Ip.reversed_7wnvza$ = function (e) { if (t.isType(e, Nt) && e.size <= 1) return nt(e); var i = ot(e); return zi(i), i }, Ip.sortWith_nqfjgj$ = function (t, e) { la(t, e) }, Ip.toBooleanArray_xmyvgf$ = function (e) { var i, a, r = t.booleanArray(e.size), n = 0; for (i = e.iterator(); i.hasNext();) { var o = i.next(); r[(a = n, n = a + 1 | 0, a)] = o } return r }, Ip.toIntArray_fx3nzu$ = function (t) { var e, i, a = new Int32Array(t.size), r = 0; for (e = t.iterator(); e.hasNext();) { var n = e.next(); a[(i = r, r = i + 1 | 0, i)] = n } return a }, Ip.toCollection_5cfyqp$ = rt, Ip.toHashSet_7wnvza$ = function (t) { return rt(t, Wa(zo(t, 12))) }, Ip.toMutableList_7wnvza$ = ot, Ip.toMutableList_4c7yge$ = st, Ip.toSet_7wnvza$ = lt, Ip.Collection = Nt, Ip.minOrNull_exjks8$ = ct, Ip.joinTo_gcc71v$ = pt, Ip.joinToString_fmv235$ = ht, Ip.asSequence_7wnvza$ = dt; var Tp = bp.comparisons || (bp.comparisons = {}), kp = bp.text || (bp.text = {}); kp.titlecaseImpl_nupfqh$ = ut, wp.downTo_dqglrj$ = _t, wp.until_dqglrj$ = yt, wp.coerceIn_e4yvb3$ = gt; var Rp = bp.sequences || (bp.sequences = {}); Rp.Sequence = as, Rp.take_wuwhe2$ = St, Rp.toCollection_gtszxp$ = Ct, Rp.toList_veqyi0$ = Et, Rp.toMutableList_veqyi0$ = At, Rp.map_z5avom$ = bt, Rp.asIterable_veqyi0$ = It, Ip.plus_khz7k3$ = function (t, e) { var i, a, r = lr(null != (a = null != (i = xo(e)) ? t.size + i | 0 : null) ? a : 2 * t.size | 0); return r.addAll_brywnq$(t), Qo(r, e), r }, kp.get_lastIndex_gw00vp$ = jl, kp.first_gw00vp$ = function (t) { if (0 === t.length) throw new Ai("Char sequence is empty."); return t.charCodeAt(0) }, kp.iterator_gw00vp$ = Fl, kp.get_indices_gw00vp$ = Bl, kp.single_gw00vp$ = function (t) { var e; switch (t.length) { case 0: throw new Ai("Char sequence is empty."); case 1: e = t.charCodeAt(0); break; default: throw ui("Char sequence has more than one element.") }return e }, kp.drop_6ic1pp$ = wt, kp.dropLast_6ic1pp$ = Lt, kp.StringBuilder_init = Cn, kp.take_6ic1pp$ = Tt, bp.UInt = wc, bp.ULong = Hc, bp.UByte = Ec, bp.UShort = np, Ip.copyOf_c03ot6$ = function (t, e) { if (!(e >= 0)) throw ui(("Invalid new array size: " + e + ".").toString()); return Ri(t, new Int32Array(e)) }, Ip.copyOf_3aefkx$ = function (t, e) { if (!(e >= 0)) throw ui(("Invalid new array size: " + e + ".").toString()); var i = Pi(t, e, l); return i.$type$ = "LongArray", i }, Ip.copyOf_mrm5p$ = function (t, e) { if (!(e >= 0)) throw ui(("Invalid new array size: " + e + ".").toString()); return Ri(t, new Int8Array(e)) }, Ip.copyOf_m2jy6x$ = function (t, e) { if (!(e >= 0)) throw ui(("Invalid new array size: " + e + ".").toString()); return Ri(t, new Int16Array(e)) }; var Pp = bp.js || (bp.js = {}), Mp = bp.math || (bp.math = {}); bp.Annotation = kt, bp.CharSequence = Rt, Ip.Iterable = Pt, Ip.MutableIterable = Mt, Ip.MutableCollection = Dt, Ip.List = xt, Ip.MutableList = zt, Ip.Set = Ot, Ip.MutableSet = Ft, Bt.Entry = jt, Ip.Map = Bt, Ht.MutableEntry = qt, Ip.MutableMap = Ht, Ip.Iterator = Ut, Ip.MutableIterator = Gt, Ip.ListIterator = Wt, Ip.MutableListIterator = Yt, Ip.ByteIterator = Vt, Ip.CharIterator = Kt, Ip.ShortIterator = Xt, Ip.IntIterator = Jt, Ip.LongIterator = Zt, Ip.FloatIterator = Qt, Ip.DoubleIterator = te, Ip.BooleanIterator = ee, wp.CharProgressionIterator = ie, wp.IntProgressionIterator = ae, wp.LongProgressionIterator = re, Object.defineProperty(ne, "Companion", { get: le }), wp.CharProgression = ne, Object.defineProperty(ce, "Companion", { get: de }), wp.IntProgression = ce, Object.defineProperty(ue, "Companion", { get: ye }), wp.LongProgression = ue, wp.ClosedRange = me, Object.defineProperty($e, "Companion", { get: Se }), wp.CharRange = $e, Object.defineProperty(Ce, "Companion", { get: be }), wp.IntRange = Ce, Object.defineProperty(Ie, "Companion", { get: Te }), wp.LongRange = Ie, Object.defineProperty(bp, "Unit", { get: Pe }); var Np = bp.internal || (bp.internal = {}); Np.getProgressionLastElement_qt1dr2$ = ze, Np.getProgressionLastElement_b9bd0d$ = Oe, c.arrayIterator = function (t, e) { if (null == e) return new Fe(t); switch (e) { case "BooleanArray": return je(t); case "ByteArray": return qe(t); case "ShortArray": return Ge(t); case "CharArray": return Ye(t); case "IntArray": return Ke(t); case "LongArray": return ei(t); case "FloatArray": return Je(t); case "DoubleArray": return Qe(t); default: throw fi("Unsupported type argument for arrayIterator: " + $(e)) } }, c.booleanArrayIterator = je, c.byteArrayIterator = qe, c.shortArrayIterator = Ge, c.charArrayIterator = Ye, c.intArrayIterator = Ke, c.floatArrayIterator = Je, c.doubleArrayIterator = Qe, c.longArrayIterator = ei, c.noWhenBranchMatched = function () { throw Li() }, c.subSequence = function (t, e, i) { return "string" == typeof t ? t.substring(e, i) : t.subSequence_vux9f0$(e, i) }, c.captureStack = function (t, e) { Error.captureStackTrace ? Error.captureStackTrace(e) : e.stack = (new Error).stack }, c.BoxedChar = ii, c.charArrayOf = function () { var t = "CharArray", e = new Uint16Array([].slice.call(arguments)); return e.$type$ = t, e }; var Dp = bp.coroutines || (bp.coroutines = {}); Dp.CoroutineImpl = ai, Object.defineProperty(Dp, "CompletedContinuation", { get: oi }); var xp = Dp.intrinsics || (Dp.intrinsics = {}); xp.intercepted_f9mg25$ = function (e) { var i, a, r; return null != (r = null != (a = t.isType(i = e, ai) ? i : null) ? a.intercepted() : null) ? r : e }, bp.Error_init_pdl1vj$ = li, bp.Error = si, bp.Exception_init_pdl1vj$ = function (t, e) { return e = e || Object.create(ci.prototype), ci.call(e, t, null), e }, bp.Exception = ci, bp.RuntimeException_init_pdl1vj$ = hi, bp.RuntimeException = pi, bp.IllegalArgumentException_init = function (t) { return t = t || Object.create(di.prototype), di.call(t, null, null), t }, bp.IllegalArgumentException = di, bp.IllegalStateException_init_pdl1vj$ = fi, bp.IllegalStateException = _i, bp.IndexOutOfBoundsException = yi, bp.ConcurrentModificationException = mi, bp.UnsupportedOperationException_init = gi, bp.UnsupportedOperationException = $i, bp.NumberFormatException = Si, bp.NullPointerException = Ci, bp.ClassCastException = Ei, bp.NoSuchElementException = Ai, bp.ArithmeticException = Ii, bp.NoWhenBranchMatchedException_init = Li, bp.NoWhenBranchMatchedException = wi, bp.UninitializedPropertyAccessException_init_pdl1vj$ = ki, bp.UninitializedPropertyAccessException = Ti, bp.lazy_klfg04$ = function (t) { return new pc(t) }, bp.fillFrom_dgzutr$ = Ri, bp.arrayCopyResize_xao4iu$ = Pi, c.findAssociatedObject_yjf3nl$ = function (t, e) { return null }, kp.toString_if0zpk$ = Mi, Ip.asList_us0mfu$ = Ni, Ip.arrayCopy = ca, Ip.copyOf_rblqex$ = function (t, e) { if (!(e >= 0)) throw ui(("Invalid new array size: " + e + ".").toString()); return Ri(t, new Float32Array(e)) }, Ip.copyOf_xgrzbe$ = function (t, e) { if (!(e >= 0)) throw ui(("Invalid new array size: " + e + ".").toString()); return Ri(t, new Float64Array(e)) }, Ip.copyOf_1qu12l$ = function (t, e) { if (!(e >= 0)) throw ui(("Invalid new array size: " + e + ".").toString()); var i = Pi(t, e, !1); return i.$type$ = "BooleanArray", i }, Ip.copyOf_gtcw5h$ = function (e, i) { if (!(i >= 0)) throw ui(("Invalid new array size: " + i + ".").toString()); var a = Ri(e, t.charArray(i)); return a.$type$ = "CharArray", a }, Ip.copyOfRange_5f8l3u$ = Di, kp.decodeVarLenBase64_nwhqle$ = xi, Ip.reverse_vvxzk3$ = zi, kp.binarySearchRange_wmnbas$ = ji, kp.digitToIntImpl_nupfqh$ = Hi, kp.isDigitImpl_nupfqh$ = qi, kp.isLowerCaseImpl_nupfqh$ = Yi, kp.isOtherLowercase_8e50z4$ = Zi, kp.titlecaseCharImpl_nupfqh$ = Qi, kp.isWhitespaceImpl_nupfqh$ = ta, bp.Comparator = ea, Ip.copyToArray = ia, Ip.copyToArrayImpl = aa, Ip.copyToExistingArrayImpl = ra, Ip.setOf_mh5how$ = oa, Ip.LinkedHashSet_init_287e2$ = or, Ip.LinkedHashSet_init_ww73n8$ = lr, Ip.mapOf_x2b85n$ = sa, Ip.sort_4wi501$ = function (t) { la(t, Ls()) }, Ip.AbstractMutableCollection = da, Ip.AbstractMutableList = ua, ma.SimpleEntry_init_trwmqg$ = function (t, e) { return e = e || Object.create($a.prototype), $a.call(e, t.key, t.value), e }, ma.SimpleEntry = $a, ma.AbstractEntrySet = ga, Ip.AbstractMutableMap = ma, Ip.AbstractMutableSet = Aa, Ip.ArrayList_init_mqih57$ = La, Ip.ArrayList = ba, Ip.sortArrayWith_6xblhi$ = Ta, Object.defineProperty(Ra, "HashCode", { get: za }), Ip.EqualityComparator = Ra, Ip.HashMap_init_va96d4$ = Ba, Ip.HashMap_init_q3lmfv$ = ja, Ip.HashMap_init_xf5xz2$ = Ha, Ip.HashMap_init_bwtc7$ = qa, Ip.HashMap_init_73mtqc$ = function (t, e) { return ja(e = e || Object.create(Oa.prototype)), e.putAll_a2k3zr$(t), e }, Ip.HashMap = Oa, Ip.HashSet_init_mqih57$ = function (t, e) { return e = e || Object.create(Ua.prototype), Aa.call(e), Ua.call(e), e.map_8be2vx$ = qa(t.size), e.addAll_brywnq$(t), e }, Ip.HashSet_init_2wofer$ = Ga, Ip.HashSet_init_ww73n8$ = Wa, Ip.HashSet_init_nn01ho$ = Ya, Ip.HashSet = Ua, Ip.InternalHashCodeMap = Va, Ip.InternalMap = Xa, Ip.InternalStringMap = Ja, Ip.LinkedHashMap_init_xf5xz2$ = ar, Ip.LinkedHashMap_init_73mtqc$ = function (t, e) { return ja(e = e || Object.create(Za.prototype)), Za.call(e), e.map_97q5dv$_0 = ja(), e.putAll_a2k3zr$(t), e }, Ip.LinkedHashMap = Za, Ip.LinkedHashSet_init_mqih57$ = function (t, e) { return e = e || Object.create(nr.prototype), Ya(ir(), e), nr.call(e), e.addAll_brywnq$(t), e }, Ip.LinkedHashSet_init_2wofer$ = sr, Ip.LinkedHashSet = nr, Ip.RandomAccess = cr; var zp = bp.io || (bp.io = {}); zp.BaseOutput = pr, zp.NodeJsOutput = hr, zp.BufferedOutput = dr, zp.BufferedOutputToConsoleLog = ur, zp.println_s8jyv4$ = function (t) { Ma.println_s8jyv4$(t) }, Dp.SafeContinuation_init_wj8d80$ = function (t, e) { return e = e || Object.create(_r.prototype), _r.call(e, t, nl()), e }, Dp.SafeContinuation = _r, Pp.iterator_s8jyvk$ = function (e) { var i, a = e; return null != e.iterator ? e.iterator() : t.isArrayish(a) ? t.arrayIterator(a) : (t.isType(i = a, Pt) ? i : yr()).iterator() }, c.throwNPE = function (t) { throw new Ci(t) }, c.throwCCE = yr, c.throwISE = mr, c.throwUPAE = function (t) { throw ki("lateinit property " + t + " has not been initialized") }, zp.Serializable = $r, Pp.json_pyyo18$ = function (t) { var e, i = {}; for (e = 0; e !== t.length; ++e) { var a = t[e], r = a.component1(), n = a.component2(); i[r] = n } return i }, Mp.round_14dthe$ = function (t) { if (t % .5 != 0) return Math.round(t); var e = p.floor(t); return e % 2 == 0 ? e : p.ceil(t) }, Mp.nextDown_yrwdxr$ = gr, Mp.roundToInt_yrwdxr$ = function (t) { if (vr(t)) throw ui("Cannot round NaN value."); return t > 2147483647 ? 2147483647 : t < -2147483648 ? -2147483648 : f(Math.round(t)) }, bp.isNaN_yrwdxr$ = vr, bp.isNaN_81szk$ = Sr, bp.isInfinite_yrwdxr$ = Cr, bp.isInfinite_81szk$ = Er, bp.isFinite_yrwdxr$ = Ar, bp.isFinite_81szk$ = function (t) { return !Er(t) && !Sr(t) }, Lp.defaultPlatformRandom_8be2vx$ = br, Lp.doubleFromParts_6xvm5r$ = Ir; var Op = bp.reflect || (bp.reflect = {}); Pp.get_js_1yb8b7$ = function (e) { var i; return (t.isType(i = e, Tr) ? i : yr()).jClass }, Op.KCallable = wr, Op.KClass = Lr; var Fp = Op.js || (Op.js = {}), Bp = Fp.internal || (Fp.internal = {}); Bp.KClassImpl = Tr, Bp.SimpleKClassImpl = kr, Bp.PrimitiveKClassImpl = Rr, Object.defineProperty(Bp, "NothingKClassImpl", { get: Nr }), Bp.ErrorKClass = Dr, Op.KProperty = xr, Op.KMutableProperty = zr, Op.KProperty0 = Or, Op.KMutableProperty0 = Fr, Op.KProperty1 = Br, Op.KMutableProperty1 = jr, Op.KType = Hr, c.createKType = function (t, e, i) { return new qr(t, Ni(e), i) }, Bp.KTypeImpl = qr, Bp.prefixString_knho38$ = Ur, Object.defineProperty(Bp, "PrimitiveClasses", { get: _n }), c.getKClass = fn, c.getKClassM = yn, c.getKClassFromExpression = function (e) { var i; switch (typeof e) { case "string": i = _n().stringClass; break; case "number": i = (0 | e) === e ? _n().intClass : _n().doubleClass; break; case "boolean": i = _n().booleanClass; break; case "function": i = _n().functionClass(e.length); break; default: if (t.isBooleanArray(e)) i = _n().booleanArrayClass; else if (t.isCharArray(e)) i = _n().charArrayClass; else if (t.isByteArray(e)) i = _n().byteArrayClass; else if (t.isShortArray(e)) i = _n().shortArrayClass; else if (t.isIntArray(e)) i = _n().intArrayClass; else if (t.isLongArray(e)) i = _n().longArrayClass; else if (t.isFloatArray(e)) i = _n().floatArrayClass; else if (t.isDoubleArray(e)) i = _n().doubleArrayClass; else if (t.isType(e, Lr)) i = fn(Lr); else if (t.isArray(e)) i = _n().arrayClass; else { var a = Object.getPrototypeOf(e).constructor; i = a === Object ? _n().anyClass : a === Error ? _n().throwableClass : mn(a) } }return i }, c.getKClass1 = mn, Pp.reset_xjqeni$ = $n, kp.Appendable = gn, kp.StringBuilder_init_za3lpa$ = Sn, kp.StringBuilder = vn, kp.uppercaseChar_myv2d0$ = En, kp.titlecaseChar_myv2d0$ = An, kp.isHighSurrogate_myv2d0$ = bn, kp.isLowSurrogate_myv2d0$ = In, kp.isDigit_myv2d0$ = function (t) { return !!new $e(48, 57).contains_mef7kx$(t) || !(t < 128) && qi(t) }, kp.isLowerCase_myv2d0$ = function (t) { return !!new $e(97, 122).contains_mef7kx$(t) || !(t < 128) && Yi(t) }, kp.isWhitespace_myv2d0$ = wn, kp.toBoolean_5cw0du$ = function (t) { var e = null != t; return e && (e = r(t.toLowerCase(), "true")), e }, kp.toInt_pdl1vz$ = function (t) { var e; return null != (e = Rl(t)) ? e : Dl(t) }, kp.toLong_pdl1vz$ = function (t) { var e; return null != (e = Ml(t)) ? e : Dl(t) }, kp.toDouble_pdl1vz$ = function (t) { var e = +t; return (vr(e) && !Ln(t) || 0 === e && Yn(t)) && Dl(t), e }, kp.toDoubleOrNull_pdl1vz$ = function (t) { var e = +t; return vr(e) && !Ln(t) || 0 === e && Yn(t) ? null : e }, kp.toString_dqglrj$ = function (t, e) { return t.toString(Tn(e)) }, kp.checkRadix_za3lpa$ = Tn, kp.digitOf_xvg9q0$ = kn, kp.MatchGroup = Rn, Object.defineProperty(Pn, "Companion", { get: xn }), kp.Regex_init_61zpoe$ = On, kp.Regex = Pn, kp.concatToString_355ntz$ = qn, kp.concatToString_wlitf7$ = Un, kp.compareTo_7epoxm$ = Gn, kp.matches_rjktp$ = Wn, kp.isBlank_gw00vp$ = Yn, kp.equals_igcy3c$ = function (t, e, i) { if (void 0 === i && (i = !1), null == t) return null == e; if (i) { if (null == e) return !1; var a = t.toLowerCase(), n = e.toLowerCase(), o = r(a, n); return o || (o = r(a.toUpperCase(), n.toUpperCase())), o } return r(t, e) }, kp.regionMatches_h3ii2q$ = Vn, kp.capitalize_pdl1vz$ = function (t) { return t.length > 0 ? t.substring(0, 1).toUpperCase() + t.substring(1) : t }, kp.replace_680rmw$ = function (t, e, i, a) { return void 0 === a && (a = !1), t.replace(new RegExp(xn().escape_61zpoe$(e), a ? "gui" : "gu"), xn().escapeReplacement_61zpoe$(i)) }, bp.stackTraceToString_dbl4o4$ = Kn, bp.printStackTrace_dbl4o4$ = function (t) { console.error(Kn(t)) }, bp.get_suppressedExceptions_dbl4o4$ = Xn, Ip.AbstractCollection = Zn, Object.defineProperty(Qn, "Companion", { get: no }), Ip.AbstractList = Qn, Object.defineProperty(oo, "Companion", { get: _o }), Ip.AbstractMap = oo, Object.defineProperty(fo, "Companion", { get: $o }), Ip.AbstractSet = fo, Object.defineProperty(Ip, "EmptyIterator", { get: So }), Object.defineProperty(Ip, "EmptyList", { get: Ao }), Ip.asCollection_vj43ah$ = bo, Ip.listOf_i5x0yv$ = function (t) { return t.length > 0 ? Ni(t) : wo() }, Ip.mutableListOf_i5x0yv$ = function (t) { return 0 === t.length ? Ia() : La(new Io(t, !0)) }, Ip.arrayListOf_i5x0yv$ = Lo, Ip.get_indices_gzk92b$ = To, Ip.optimizeReadOnlyList_qzupvv$ = Ro, Tp.compareValues_s00gnj$ = Is, Ip.throwIndexOverflow = Po, Ip.IndexedValue = No, Ip.IndexingIterable = Do, Ip.collectionSizeOrNull_7wnvza$ = xo, Ip.IndexingIterator = Oo, Ip.getOrImplicitDefault_t9ocha$ = Fo, Ip.emptyMap_q3lmfv$ = Wo, Ip.mapOf_qfcya0$ = function (t) { return t.length > 0 ? Jo(t, rr(t.length)) : Wo() }, Ip.hashMapOf_qfcya0$ = Yo, Ip.getValue_t9ocha$ = function (t, e) { return Fo(t, e) }, Ip.putAll_5gv49o$ = Vo, Ip.putAll_cweazw$ = Ko, Ip.toMap_6hr0sd$ = function (e) { var i; if (t.isType(e, Nt)) { switch (e.size) { case 0: i = Wo(); break; case 1: i = sa(t.isType(e, xt) ? e.get_za3lpa$(0) : e.iterator().next()); break; default: i = Xo(e, rr(e.size)) }return i } return Zo(Xo(e, ir())) }, Ip.toMap_jbpz7q$ = Xo, Ip.toMap_ujwnei$ = Jo, Ip.optimizeReadOnlyMap_1vp4qn$ = Zo, Ip.addAll_ye1y7v$ = function (t, e) { return t.addAll_brywnq$(Ni(e)) }, Ip.removeAll_uhyeqt$ = ts, Ip.removeLast_vvxzk3$ = function (t) { if (t.isEmpty()) throw new Ai("List is empty."); return t.removeAt_za3lpa$(ko(t)) }, Ip.removeAll_qafx1e$ = is, Rp.emptySequence_287e2$ = rs, Rp.TransformingSequence = ls, Rp.FlatteningSequence = ps, Rp.DropTakeSequence = ds, Rp.SubSequence = us, Rp.TakeSequence = fs, Rp.generateSequence_c6s9hp$ = gs, Object.defineProperty(Ip, "EmptySet", { get: Cs }), Ip.emptySet_287e2$ = Es, Ip.setOf_i5x0yv$ = function (t) { return t.length > 0 ? Z(t) : Es() }, Ip.hashSetOf_i5x0yv$ = As, Ip.optimizeReadOnlySet_94kdbt$ = bs, Tp.compareBy_bvgy4j$ = function (t) { if (!(t.length > 0)) throw ui("Failed requirement.".toString()); return new ea(ws(t)) }, Tp.naturalOrder_dahdeg$ = Ls, Dp.Continuation = Ns, bp.Result = dc, xp.get_COROUTINE_SUSPENDED = el, Object.defineProperty(Ds, "Key", { get: Os }), Dp.ContinuationInterceptor = Ds, Fs.Key = js, Fs.Element = Hs, Dp.CoroutineContext = Fs, Dp.AbstractCoroutineContextElement = qs, Object.defineProperty(Dp, "EmptyCoroutineContext", { get: Ws }), Dp.CombinedContext = Ys, Object.defineProperty(xp, "COROUTINE_SUSPENDED", { get: el }), Object.defineProperty(il, "COROUTINE_SUSPENDED", { get: rl }), Object.defineProperty(il, "UNDECIDED", { get: nl }), Object.defineProperty(il, "RESUMED", { get: ol }), xp.CoroutineSingletons = il, Object.defineProperty(sl, "Default", { get: dl }), Lp.Random_za3lpa$ = ul, Lp.fastLog2_kcn2v3$ = _l, Lp.takeUpperBits_b6l1hq$ = fl, Lp.checkRangeBounds_6xvm5r$ = yl, Lp.checkRangeBounds_cfj5zr$ = ml, Lp.checkRangeBounds_sdh6z7$ = $l, Lp.boundsErrorMessage_dgzutr$ = gl, Lp.XorWowRandom_init_6xvm5r$ = El, Lp.XorWowRandom = vl, Op.KClassifier = bl, kp.appendElement_k2zgzt$ = Il, kp.titlecase_myv2d0$ = function (t) { return ut(t) }, kp.equals_4lte5s$ = wl, kp.trimIndent_pdl1vz$ = function (t) { return Ll(t, "") }, kp.replaceIndent_rjktp$ = Ll, kp.toIntOrNull_pdl1vz$ = Rl, kp.toIntOrNull_6ic1pp$ = Pl, kp.toLongOrNull_pdl1vz$ = Ml, kp.toLongOrNull_6ic1pp$ = Nl, kp.numberFormatError_y4putb$ = Dl, kp.trimStart_wqw3xr$ = xl, kp.trimEnd_wqw3xr$ = zl, kp.trim_gw00vp$ = function (e) { for (var i = 0, a = e.length - 1 | 0, r = !1; i <= a;) { var s = r ? a : i, l = wn(o(n(e.charCodeAt(s)))); if (r) { if (!l) break; a = a - 1 | 0 } else l ? i = i + 1 | 0 : r = !0 } return t.subSequence(e, i, a + 1 | 0) }, kp.substring_i511yc$ = Hl, kp.regionMatchesImpl_4c7s8r$ = ql, kp.startsWith_sgbm27$ = Ul, kp.endsWith_sgbm27$ = Gl, kp.indexOfAny_junqau$ = Wl, kp.indexOf_8eortd$ = function (e, i, a, r) { return void 0 === a && (a = 0), void 0 === r && (r = !1), r || "string" != typeof e ? Wl(e, t.charArrayOf(i), a, r) : e.indexOf(String.fromCharCode(i), a) }, kp.indexOf_l5u8uk$ = Vl, kp.lastIndexOf_l5u8uk$ = Kl, kp.contains_li3zpu$ = function (t, e, i) { return void 0 === i && (i = !1), "string" == typeof e ? Vl(t, e, void 0, i) >= 0 : Yl(t, e, 0, t.length, i) >= 0 }, kp.splitToSequence_ip8yn$ = tc, kp.split_ip8yn$ = function (e, i, a, r) { if (void 0 === a && (a = !1), void 0 === r && (r = 0), 1 === i.length) { var n = i[0]; if (0 !== n.length) return function (e, i, a, r) { if (!(r >= 0)) throw ui(("Limit must be non-negative, but was " + r + ".").toString()); var n = 0, o = Vl(e, i, n, a); if (-1 === o || 1 === r) return na(e.toString()); var s = r > 0, l = wa(s ? $t(r, 10) : 10); do { if (l.add_11rb$(t.subSequence(e, n, o).toString()), n = o + i.length | 0, s && l.size === (r - 1 | 0)) break; o = Vl(e, i, n, a) } while (-1 !== o); return l.add_11rb$(t.subSequence(e, n, e.length).toString()), l }(e, n, a, r) } var o, s = It(Ql(e, i, void 0, a, r)), l = wa(zo(s, 10)); for (o = s.iterator(); o.hasNext();) { var c = o.next(); l.add_11rb$(Hl(e, c)) } return l }, kp.lineSequence_gw00vp$ = ec, kp.lines_gw00vp$ = ic, kp.MatchGroupCollection = ac, rc.Destructured = nc, kp.MatchResult = rc, bp.Lazy = oc, Object.defineProperty(bp, "UNINITIALIZED_VALUE", { get: cc }), bp.UnsafeLazyImpl = pc, bp.InitializedLazyImpl = hc, bp.createFailure_tcv7n7$ = mc, Object.defineProperty(dc, "Companion", { get: fc }), dc.Failure = yc, bp.throwOnFailure_iacion$ = $c, bp.NotImplementedError = gc, bp.Pair = vc, bp.to_ujzrz7$ = Sc, bp.Triple = Cc, Object.defineProperty(Ec, "Companion", { get: Ic }), Object.defineProperty(wc, "Companion", { get: kc }), bp.uintCompare_vux9f0$ = mp, bp.uintDivide_oqfnby$ = gp, bp.uintRemainder_oqfnby$ = vp, bp.uintToDouble_za3lpa$ = function (t) { return (2147483647 & t) + 2 * (t >>> 31 << 30) }, Object.defineProperty(Rc, "Companion", { get: Nc }), wp.UIntRange = Rc, Object.defineProperty(Dc, "Companion", { get: Oc }), wp.UIntProgression = Dc, Ip.UIntIterator = Bc, Ip.ULongIterator = jc, Object.defineProperty(Hc, "Companion", { get: Gc }), bp.ulongCompare_3pjtqy$ = $p, bp.ulongDivide_jpm79w$ = Sp, bp.ulongRemainder_jpm79w$ = Cp, bp.ulongToDouble_s8cxhz$ = function (t) { return 2048 * t.shiftRightUnsigned(11).toNumber() + t.and(F).toNumber() }, Object.defineProperty(Wc, "Companion", { get: Kc }), wp.ULongRange = Wc, Object.defineProperty(Xc, "Companion", { get: Qc }), wp.ULongProgression = Xc, Np.getProgressionLastElement_fjk8us$ = ap, Np.getProgressionLastElement_15zasp$ = rp, Object.defineProperty(np, "Companion", { get: lp }), kp.toUByte_pdl1vz$ = function (t) { var e; return null != (e = cp(t)) ? e : Dl(t) }, kp.toUShort_pdl1vz$ = function (t) { var e; return null != (e = hp(t)) ? e : Dl(t) }, kp.toUInt_pdl1vz$ = function (t) { var e; return null != (e = up(t)) ? e : Dl(t) }, kp.toULong_pdl1vz$ = function (t) { var e; return null != (e = fp(t)) ? e : Dl(t) }, kp.toUByteOrNull_pdl1vz$ = cp, kp.toUByteOrNull_6ic1pp$ = pp, kp.toUShortOrNull_pdl1vz$ = hp, kp.toUShortOrNull_6ic1pp$ = dp, kp.toUIntOrNull_pdl1vz$ = up, kp.toUIntOrNull_6ic1pp$ = _p, kp.toULongOrNull_pdl1vz$ = fp, kp.toULongOrNull_6ic1pp$ = yp, bp.ulongToString_8e33dg$ = Ep, bp.ulongToString_plstum$ = Ap, Ht.prototype.getOrDefault_xwzc9p$ = Bt.prototype.getOrDefault_xwzc9p$, oo.prototype.getOrDefault_xwzc9p$ = Bt.prototype.getOrDefault_xwzc9p$, ma.prototype.remove_xwzc9p$ = Ht.prototype.remove_xwzc9p$, Va.prototype.createJsMap = Xa.prototype.createJsMap, Ja.prototype.createJsMap = Xa.prototype.createJsMap, Object.defineProperty(Fn.prototype, "destructured", Object.getOwnPropertyDescriptor(rc.prototype, "destructured")), Bo.prototype.getOrDefault_xwzc9p$ = Bt.prototype.getOrDefault_xwzc9p$, jo.prototype.remove_xwzc9p$ = Ht.prototype.remove_xwzc9p$, jo.prototype.getOrDefault_xwzc9p$ = Ht.prototype.getOrDefault_xwzc9p$, Bo.prototype.getOrDefault_xwzc9p$, Ho.prototype.remove_xwzc9p$ = jo.prototype.remove_xwzc9p$, Ho.prototype.getOrDefault_xwzc9p$ = jo.prototype.getOrDefault_xwzc9p$, qo.prototype.getOrDefault_xwzc9p$ = Bt.prototype.getOrDefault_xwzc9p$, Hs.prototype.plus_1fupul$ = Fs.prototype.plus_1fupul$, Ds.prototype.fold_3cc69b$ = Hs.prototype.fold_3cc69b$, Ds.prototype.plus_1fupul$ = Hs.prototype.plus_1fupul$, qs.prototype.get_j3r2sn$ = Hs.prototype.get_j3r2sn$, qs.prototype.fold_3cc69b$ = Hs.prototype.fold_3cc69b$, qs.prototype.minusKey_yeqjby$ = Hs.prototype.minusKey_yeqjby$, qs.prototype.plus_1fupul$ = Hs.prototype.plus_1fupul$, Ys.prototype.plus_1fupul$ = Fs.prototype.plus_1fupul$, Al.prototype.contains_mef7kx$ = me.prototype.contains_mef7kx$, Al.prototype.isEmpty = me.prototype.isEmpty, Ki = null; var jp = void 0 !== i && i.versions && !!i.versions.node; Ma = jp ? new hr(i.stdout) : new ur, new fr(Ws(), (function (e) { var i; return $c(e), null == (i = e.value) || t.isType(i, I) || w(), ke })), Na = p.pow(2, -26), Da = p.pow(2, -53), dn = t.newArray(0, null), new ea((function (t, e) { return Gn(t, e, !0) })), new Int8Array([_(239), _(191), _(189)]), new dc(el()) }() }) ? a.apply(e, r) : a) || (t.exports = n) }).call(this, i(4)) }, function (t, e, i) { var a, r, n; r = [e, i(0)], void 0 === (n = "function" == typeof (a = function (t, e) { "use strict"; var i = e.getKClass, a = e.Kind.CLASS, r = e.kotlin.Annotation, n = e.throwCCE, o = (e.defineInlineFunction, e.wrapFunction, e.kotlin.text.toLong_pdl1vz$, e.Kind.OBJECT), s = e.kotlin.collections.asList_us0mfu$, l = e.kotlin.collections.emptyList_287e2$, c = e.equals, p = e.hashCode, h = e.toString, d = e.kotlin.collections.collectionSizeOrDefault_ba2ldo$, u = e.kotlin.collections.ArrayList_init_ww73n8$, _ = e.Kind.INTERFACE, f = e.kotlin.collections.Iterator, y = e.kotlin.collections.Iterable, m = e.kotlin.Unit, $ = e.kotlin.collections.toList_us0mfu$, g = e.kotlin.collections.ArrayList_init_287e2$, v = e.kotlin.collections.HashSet_init_287e2$, S = e.arrayEquals, C = e.kotlin.ranges.until_dqglrj$, E = e.kotlin.collections.joinToString_fmv235$, A = e.kotlin.collections.toHashSet_7wnvza$, b = e.kotlin.collections.toBooleanArray_xmyvgf$, I = e.kotlin.collections.withIndex_us0mfu$, w = e.kotlin.to_ujzrz7$, L = e.kotlin.collections.toMap_6hr0sd$, T = e.kotlin.lazy_klfg04$, k = e.kotlin.text.isBlank_gw00vp$, R = e.kotlin.IllegalArgumentException_init_pdl1vj$, P = e.kotlin.collections.copyToArray, M = e.ensureNotNull, N = e.toBoxedChar, D = Object, x = Error, z = e.kotlin.text.toIntOrNull_pdl1vz$, O = e.kotlin.IllegalStateException_init_pdl1vj$, F = e.kotlin.collections.getValue_t9ocha$, B = e.kotlin.collections.ArrayList_init_mqih57$, j = e.kotlin.collections.ArrayList, H = e.kotlin.collections.LinkedHashSet, q = e.kotlin.collections.LinkedHashSet_init_mqih57$, U = e.kotlin.collections.HashSet, G = e.kotlin.collections.HashSet_init_mqih57$, W = e.kotlin.collections.LinkedHashMap_init_q3lmfv$, Y = e.kotlin.collections.LinkedHashMap, V = e.kotlin.collections.LinkedHashMap_init_73mtqc$, K = e.kotlin.collections.HashMap_init_q3lmfv$, X = e.kotlin.collections.HashMap, J = e.kotlin.collections.HashMap_init_73mtqc$, Z = e.kotlin.collections.LinkedHashSet_init_287e2$, Q = (e.kotlin.collections.indexOf_mjy6jw$, e.arrayToString, e.kotlin.collections.get_indices_m7z4lg$), tt = Array, et = (e.kotlin.js.internal.IntCompanionObject, e.kotlin.js.internal.LongCompanionObject, e.kotlin.js.internal.ByteCompanionObject, e.kotlin.js.internal.ShortCompanionObject, e.kotlin.UInt), it = e.kotlin.ULong, at = e.kotlin.UByte, rt = e.kotlin.UShort, nt = (e.toByte, e.kotlin.ranges.CharRange, e.kotlin.text.StringBuilder_init_za3lpa$, e.kotlin.text.trimStart_wqw3xr$, e.kotlin.collections.HashSet_init_ww73n8$), ot = e.kotlin.reflect.KClass, st = e.kotlin.collections.emptyMap_q3lmfv$, lt = e.arrayHashCode, ct = e.kotlin.ranges.coerceAtLeast_dqglrj$, pt = e.kotlin.collections.copyOf_mrm5p$, ht = e.kotlin.collections.copyOf_m2jy6x$, dt = e.kotlin.collections.copyOf_c03ot6$, ut = e.kotlin.collections.copyOf_3aefkx$, _t = (e.kotlin.js.internal.FloatCompanionObject, e.kotlin.collections.copyOf_rblqex$), ft = (e.kotlin.js.internal.DoubleCompanionObject, e.kotlin.collections.copyOf_xgrzbe$), yt = e.unboxChar, mt = (e.kotlin.js.internal.CharCompanionObject, e.kotlin.collections.copyOf_gtcw5h$), $t = (e.kotlin.js.internal.BooleanCompanionObject, e.kotlin.collections.copyOf_1qu12l$), gt = e.kotlin.reflect.js.internal.PrimitiveClasses.stringClass, vt = (e.kotlin.js.internal.StringCompanionObject, e.BoxedChar), St = e.kotlin.reflect.js.internal.PrimitiveClasses.charArrayClass, Ct = e.kotlin.reflect.js.internal.PrimitiveClasses.doubleClass, Et = e.kotlin.reflect.js.internal.PrimitiveClasses.doubleArrayClass, At = e.kotlin.reflect.js.internal.PrimitiveClasses.floatClass, bt = e.kotlin.reflect.js.internal.PrimitiveClasses.floatArrayClass, It = e.Long, wt = e.kotlin.reflect.js.internal.PrimitiveClasses.longArrayClass, Lt = e.kotlin.reflect.js.internal.PrimitiveClasses.intClass, Tt = e.kotlin.reflect.js.internal.PrimitiveClasses.intArrayClass, kt = e.kotlin.reflect.js.internal.PrimitiveClasses.shortClass, Rt = e.kotlin.reflect.js.internal.PrimitiveClasses.shortArrayClass, Pt = e.kotlin.reflect.js.internal.PrimitiveClasses.byteClass, Mt = e.kotlin.reflect.js.internal.PrimitiveClasses.byteArrayClass, Nt = e.kotlin.reflect.js.internal.PrimitiveClasses.booleanClass, Dt = e.kotlin.reflect.js.internal.PrimitiveClasses.booleanArrayClass, xt = e.kotlin, zt = e.kotlin.collections.mapOf_qfcya0$, Ot = e.kotlin.text.equals_igcy3c$, Ft = e.kotlin.text.trimIndent_pdl1vz$, Bt = e.kotlin.text.isLowerCase_myv2d0$, jt = e.kotlin.text.titlecase_myv2d0$, Ht = e.kotlin.collections.last_2p1efm$, qt = e.kotlin.collections.lastOrNull_2p1efm$, Ut = e.kotlin.collections.get_lastIndex_55thoc$, Gt = e.kotlin.collections.Map.Entry, Wt = e.kotlin.Triple, Yt = e.kotlin.collections.Map, Vt = e.kotlin.IllegalArgumentException, Kt = e.kotlin.collections.zip_r9t3v7$, Xt = e.kotlin.collections.Grouping, Jt = e.kotlin.collections.mapCapacity_za3lpa$, Zt = e.kotlin.collections.LinkedHashMap_init_bwtc7$, Qt = (e.kotlin.IllegalArgumentException_init, e.getCallableRef), te = e.kotlin.collections.Collection, ee = e.kotlin.collections.List, ie = e.kotlin.collections.MutableList, ae = e.kotlin.collections.Set, re = e.kotlin.collections.MutableSet, ne = e.kotlin.collections.MutableMap, oe = e.kotlin.Pair, se = e.kotlin.IndexOutOfBoundsException, le = e.kotlin.collections.get_indices_l1lu5t$, ce = e.kotlin.js.get_js_1yb8b7$, pe = e.kotlin.reflect.js.internal.PrimitiveClasses.arrayClass, he = e.findAssociatedObject_yjf3nl$; function de(t) { var i; return t.descriptor.isNullable ? e.isType(i = t, Nn) ? i : n() : new Qa(t) } function ue(t, e) { return new Pn(t, e) } function _e(t, e) { return new kn(t, e) } function fe(t, e, i) { return new Mn(t, e, i) } function ye(t) { return gn() } function me() { return Dr() } function $e(t) { return tn() } function ge() { return hr() } function ve(t) { return rn() } function Se() { return fr() } function Ce(t) { return sn() } function Ee() { return gr() } function Ae(t) { return pn() } function be() { return Er() } function Ie(t) { return un() } function we() { return wr() } function Le(t) { return yn() } function Te() { return Rr() } function ke(t) { return Jr() } function Re() { return Br() } function Pe(t) { return Vr() } function Me(t) { return An() } function Ne(t, e) { return new wa(t, e) } function De(t) { return e.isType(t, ze) ? t.kClass : e.isType(t, tr) ? De(t.original_8be2vx$) : null } function xe(t, e) { return new ze(t, e) } function ze(t, e) { this.original_0 = t, this.kClass = e, this.serialName_nfhor0$_0 = this.original_0.serialName + "<" + h(this.kClass.simpleName) + ">" } function Oe(t) { this.closure$iterator = t } function Fe() { } function Be(t) { this.this$elementDescriptors = t, this.elementsLeft_0 = t.elementsCount } function je(t) { return new Oe((e = t, function () { return new Be(e) })); var e } function He(t) { return m } function qe(t, e, i) { if (void 0 === i && (i = He), k(t)) throw R("Blank serial names are prohibited".toString()); var a = new We(t); return i(a), new Ye(t, Ri(), a.elementNames_8be2vx$.size, $(e), a) } function Ue(t) { return m } function Ge(t, e, i, a) { if (void 0 === a && (a = Ue), k(t)) throw R("Blank serial names are prohibited".toString()); if (c(e, Ri())) throw R("For StructureKind.CLASS please use 'buildClassSerialDescriptor' instead".toString()); var r = new We(t); return a(r), new Ye(t, e, r.elementNames_8be2vx$.size, $(i), r) } function We(t) { this.serialName = t, this.isNullable = !1, this.annotations = l(), this.elementNames_8be2vx$ = g(), this.uniqueNames_0 = v(), this.elementDescriptors_8be2vx$ = g(), this.elementAnnotations_8be2vx$ = g(), this.elementOptionality_8be2vx$ = g() } function Ye(t, e, i, a, r) { this.serialName_btmdyn$_0 = t, this.kind_589tly$_0 = e, this.elementsCount_wewqc2$_0 = i, this.annotations_efqcf6$_0 = r.annotations, this.serialNames_bcpscy$_0 = A(r.elementNames_8be2vx$), this.elementNames_0 = P(r.elementNames_8be2vx$), this.elementDescriptors_0 = ar(r.elementDescriptors_8be2vx$), this.elementAnnotations_0 = P(r.elementAnnotations_8be2vx$), this.elementOptionality_0 = b(r.elementOptionality_8be2vx$); var n, o, s = I(this.elementNames_0), l = u(d(s, 10)); for (n = s.iterator(); n.hasNext();) { var c = n.next(); l.add_11rb$(w(c.value, c.index)) } this.name2Index_0 = L(l), this.typeParametersDescriptors_0 = ar(a), this._hashCode_6e2cwc$_0 = T((o = this, function () { return or(o, o.typeParametersDescriptors_0) })) } function Ve() { } function Ke() { Xe = this, Ve.call(this) } Ke.prototype = Object.create(Ve.prototype), Ke.prototype.constructor = Ke, Je.prototype = Object.create(Ve.prototype), Je.prototype.constructor = Je, ti.prototype = Object.create(Ve.prototype), ti.prototype.constructor = ti, ei.prototype = Object.create(ti.prototype), ei.prototype.constructor = ei, ri.prototype = Object.create(ti.prototype), ri.prototype.constructor = ri, si.prototype = Object.create(ti.prototype), si.prototype.constructor = si, pi.prototype = Object.create(ti.prototype), pi.prototype.constructor = pi, ui.prototype = Object.create(ti.prototype), ui.prototype.constructor = ui, yi.prototype = Object.create(ti.prototype), yi.prototype.constructor = yi, gi.prototype = Object.create(ti.prototype), gi.prototype.constructor = gi, Ci.prototype = Object.create(ti.prototype), Ci.prototype.constructor = Ci, bi.prototype = Object.create(ti.prototype), bi.prototype.constructor = bi, Li.prototype = Object.create(Ve.prototype), Li.prototype.constructor = Li, Ti.prototype = Object.create(Li.prototype), Ti.prototype.constructor = Ti, Pi.prototype = Object.create(Li.prototype), Pi.prototype.constructor = Pi, Di.prototype = Object.create(Li.prototype), Di.prototype.constructor = Di, Oi.prototype = Object.create(Li.prototype), Oi.prototype.constructor = Oi, ji.prototype = Object.create(Ve.prototype), ji.prototype.constructor = ji, Hi.prototype = Object.create(ji.prototype), Hi.prototype.constructor = Hi, Gi.prototype = Object.create(ji.prototype), Gi.prototype.constructor = Gi, fa.prototype = Object.create(ua.prototype), fa.prototype.constructor = fa, ya.prototype = Object.create(ua.prototype), ya.prototype.constructor = ya, ma.prototype = Object.create(ua.prototype), ma.prototype.constructor = ma, $a.prototype = Object.create(ua.prototype), $a.prototype.constructor = $a, ga.prototype = Object.create(ua.prototype), ga.prototype.constructor = ga, va.prototype = Object.create(_a.prototype), va.prototype.constructor = va, Sa.prototype = Object.create(_a.prototype), Sa.prototype.constructor = Sa, Ea.prototype = Object.create(Ca.prototype), Ea.prototype.constructor = Ea, Aa.prototype = Object.create(Ca.prototype), Aa.prototype.constructor = Aa, Ia.prototype = Object.create(Ea.prototype), Ia.prototype.constructor = Ia, wa.prototype = Object.create(Ea.prototype), wa.prototype.constructor = wa, La.prototype = Object.create(Ea.prototype), La.prototype.constructor = La, Ta.prototype = Object.create(Ea.prototype), Ta.prototype.constructor = Ta, ka.prototype = Object.create(Ea.prototype), ka.prototype.constructor = ka, Ra.prototype = Object.create(Aa.prototype), Ra.prototype.constructor = Ra, Pa.prototype = Object.create(Aa.prototype), Pa.prototype.constructor = Pa, Ma.prototype = Object.create(nr.prototype), Ma.prototype.constructor = Ma, Va.prototype = Object.create(Ki.prototype), Va.prototype.constructor = Va, cr.prototype = Object.create(Ia.prototype), cr.prototype.constructor = cr, dr.prototype = Object.create(ba.prototype), dr.prototype.constructor = dr, ur.prototype = Object.create(Ia.prototype), ur.prototype.constructor = ur, yr.prototype = Object.create(ba.prototype), yr.prototype.constructor = yr, mr.prototype = Object.create(Ia.prototype), mr.prototype.constructor = mr, vr.prototype = Object.create(ba.prototype), vr.prototype.constructor = vr, Sr.prototype = Object.create(Ia.prototype), Sr.prototype.constructor = Sr, Ar.prototype = Object.create(ba.prototype), Ar.prototype.constructor = Ar, br.prototype = Object.create(Ia.prototype), br.prototype.constructor = br, Lr.prototype = Object.create(ba.prototype), Lr.prototype.constructor = Lr, Tr.prototype = Object.create(Ia.prototype), Tr.prototype.constructor = Tr, Pr.prototype = Object.create(ba.prototype), Pr.prototype.constructor = Pr, Mr.prototype = Object.create(Ia.prototype), Mr.prototype.constructor = Mr, xr.prototype = Object.create(ba.prototype), xr.prototype.constructor = xr, zr.prototype = Object.create(Ia.prototype), zr.prototype.constructor = zr, jr.prototype = Object.create(ba.prototype), jr.prototype.constructor = jr, In.prototype = Object.create(bn.prototype), In.prototype.constructor = In, Ln.prototype = Object.create(wn.prototype), Ln.prototype.constructor = Ln, kn.prototype = Object.create(Tn.prototype), kn.prototype.constructor = kn, Pn.prototype = Object.create(Tn.prototype), Pn.prototype.constructor = Pn, On.prototype = Object.create(zn.prototype), On.prototype.constructor = On, Bn.prototype = Object.create(Fn.prototype), Bn.prototype.constructor = Bn, jn.prototype = Object.create(Fn.prototype), jn.prototype.constructor = jn, qn.prototype = Object.create(ca.prototype), qn.prototype.constructor = qn, Yn.prototype = Object.create(ca.prototype), Yn.prototype.constructor = Yn, Jn.prototype = Object.create(Vt.prototype), Jn.prototype.constructor = Jn, to.prototype = Object.create(Jn.prototype), to.prototype.constructor = to, eo.prototype = Object.create(Jn.prototype), eo.prototype.constructor = eo, Object.defineProperty(ze.prototype, "serialName", { configurable: !0, get: function () { return this.serialName_nfhor0$_0 } }), ze.prototype.equals = function (t) { var i, a, r; if (null == (a = e.isType(i = t, ze) ? i : null)) return !1; var n = a; return c(this.original_0, n.original_0) && (null != (r = n.kClass) ? r.equals(this.kClass) : null) }, ze.prototype.hashCode = function () { var t = this.kClass.hashCode(); return t = (31 * t | 0) + p(this.serialName) | 0 }, ze.prototype.toString = function () { return "ContextDescriptor(kClass: " + this.kClass + ", original: " + this.original_0 + ")" }, Object.defineProperty(ze.prototype, "annotations", { configurable: !0, get: function () { return this.original_0.annotations } }), Object.defineProperty(ze.prototype, "elementsCount", { configurable: !0, get: function () { return this.original_0.elementsCount } }), Object.defineProperty(ze.prototype, "isInline", { configurable: !0, get: function () { return this.original_0.isInline } }), Object.defineProperty(ze.prototype, "isNullable", { configurable: !0, get: function () { return this.original_0.isNullable } }), Object.defineProperty(ze.prototype, "kind", { configurable: !0, get: function () { return this.original_0.kind } }), ze.prototype.getElementAnnotations_za3lpa$ = function (t) { return this.original_0.getElementAnnotations_za3lpa$(t) }, ze.prototype.getElementDescriptor_za3lpa$ = function (t) { return this.original_0.getElementDescriptor_za3lpa$(t) }, ze.prototype.getElementIndex_61zpoe$ = function (t) { return this.original_0.getElementIndex_61zpoe$(t) }, ze.prototype.getElementName_za3lpa$ = function (t) { return this.original_0.getElementName_za3lpa$(t) }, ze.prototype.isElementOptional_za3lpa$ = function (t) { return this.original_0.isElementOptional_za3lpa$(t) }, ze.$metadata$ = { kind: a, simpleName: "ContextDescriptor", interfaces: [Fe] }, Oe.prototype.iterator = function () { return this.closure$iterator() }, Oe.$metadata$ = { kind: a, interfaces: [y] }, Object.defineProperty(Fe.prototype, "isNullable", { configurable: !0, get: function () { return !1 } }), Object.defineProperty(Fe.prototype, "isInline", { configurable: !0, get: function () { return !1 } }), Object.defineProperty(Fe.prototype, "annotations", { configurable: !0, get: function () { return l() } }), Fe.$metadata$ = { kind: _, simpleName: "SerialDescriptor", interfaces: [] }, Be.prototype.hasNext = function () { return this.elementsLeft_0 > 0 }, Be.prototype.next = function () { var t, e, i; return i = this.this$elementDescriptors.elementsCount, t = this.elementsLeft_0, this.elementsLeft_0 = t - 1 | 0, e = t, this.this$elementDescriptors.getElementDescriptor_za3lpa$(i - e | 0) }, Be.$metadata$ = { kind: a, interfaces: [f] }, We.prototype.element_vxrguq$ = function (t, e, i, a) { if (void 0 === i && (i = l()), void 0 === a && (a = !1), !this.uniqueNames_0.add_11rb$(t)) throw R(("Element with name '" + t + "' is already registered").toString()); this.elementNames_8be2vx$.add_11rb$(t), this.elementDescriptors_8be2vx$.add_11rb$(e), this.elementAnnotations_8be2vx$.add_11rb$(i), this.elementOptionality_8be2vx$.add_11rb$(a) }, We.$metadata$ = { kind: a, simpleName: "ClassSerialDescriptorBuilder", interfaces: [] }, Object.defineProperty(Ye.prototype, "serialName", { get: function () { return this.serialName_btmdyn$_0 } }), Object.defineProperty(Ye.prototype, "kind", { get: function () { return this.kind_589tly$_0 } }), Object.defineProperty(Ye.prototype, "elementsCount", { get: function () { return this.elementsCount_wewqc2$_0 } }), Object.defineProperty(Ye.prototype, "annotations", { configurable: !0, get: function () { return this.annotations_efqcf6$_0 } }), Object.defineProperty(Ye.prototype, "serialNames", { configurable: !0, get: function () { return this.serialNames_bcpscy$_0 } }), Object.defineProperty(Ye.prototype, "_hashCode_0", { configurable: !0, get: function () { return this._hashCode_6e2cwc$_0.value } }), Ye.prototype.getElementName_za3lpa$ = function (t) { return so(this.elementNames_0, t) }, Ye.prototype.getElementIndex_61zpoe$ = function (t) { var e; return null != (e = this.name2Index_0.get_11rb$(t)) ? e : -3 }, Ye.prototype.getElementAnnotations_za3lpa$ = function (t) { return so(this.elementAnnotations_0, t) }, Ye.prototype.getElementDescriptor_za3lpa$ = function (t) { return so(this.elementDescriptors_0, t) }, Ye.prototype.isElementOptional_za3lpa$ = function (t) { return lo(this.elementOptionality_0, t) }, Ye.prototype.equals = function (t) { var i; t: do { var a; if (this === t) { i = !0; break t } if (!e.isType(t, Ye)) { i = !1; break t } if (!c(this.serialName, t.serialName)) { i = !1; break t } if (!S(this.typeParametersDescriptors_0, t.typeParametersDescriptors_0)) { i = !1; break t } if (this.elementsCount !== t.elementsCount) { i = !1; break t } a = this.elementsCount; for (var r = 0; r < a; r++) { if (!c(this.getElementDescriptor_za3lpa$(r).serialName, t.getElementDescriptor_za3lpa$(r).serialName)) { i = !1; break t } if (!c(this.getElementDescriptor_za3lpa$(r).kind, t.getElementDescriptor_za3lpa$(r).kind)) { i = !1; break t } } i = !0 } while (0); return i }, Ye.prototype.hashCode = function () { return this._hashCode_0 }, Ye.prototype.toString = function () { return E(C(0, this.elementsCount), ", ", this.serialName + "(", ")", void 0, void 0, (t = this, function (e) { return t.getElementName_za3lpa$(e) + ": " + t.getElementDescriptor_za3lpa$(e).serialName })); var t }, Ye.$metadata$ = { kind: a, simpleName: "SerialDescriptorImpl", interfaces: [da, Fe] }, Ke.$metadata$ = { kind: o, simpleName: "ENUM", interfaces: [Ve] }; var Xe = null; function Je() { Ze = this, Ve.call(this) } Je.$metadata$ = { kind: o, simpleName: "CONTEXTUAL", interfaces: [Ve] }; var Ze = null; function Qe() { return null === Ze && new Je, Ze } function ti() { Ve.call(this) } function ei() { ii = this, ti.call(this) } Ve.prototype.toString = function () { return M(e.getKClassFromExpression(this).simpleName) }, Ve.prototype.hashCode = function () { return p(this.toString()) }, Ve.$metadata$ = { kind: a, simpleName: "SerialKind", interfaces: [] }, ei.$metadata$ = { kind: o, simpleName: "BOOLEAN", interfaces: [ti] }; var ii = null; function ai() { return null === ii && new ei, ii } function ri() { ni = this, ti.call(this) } ri.$metadata$ = { kind: o, simpleName: "BYTE", interfaces: [ti] }; var ni = null; function oi() { return null === ni && new ri, ni } function si() { li = this, ti.call(this) } si.$metadata$ = { kind: o, simpleName: "CHAR", interfaces: [ti] }; var li = null; function ci() { return null === li && new si, li } function pi() { hi = this, ti.call(this) } pi.$metadata$ = { kind: o, simpleName: "SHORT", interfaces: [ti] }; var hi = null; function di() { return null === hi && new pi, hi } function ui() { _i = this, ti.call(this) } ui.$metadata$ = { kind: o, simpleName: "INT", interfaces: [ti] }; var _i = null; function fi() { return null === _i && new ui, _i } function yi() { mi = this, ti.call(this) } yi.$metadata$ = { kind: o, simpleName: "LONG", interfaces: [ti] }; var mi = null; function $i() { return null === mi && new yi, mi } function gi() { vi = this, ti.call(this) } gi.$metadata$ = { kind: o, simpleName: "FLOAT", interfaces: [ti] }; var vi = null; function Si() { return null === vi && new gi, vi } function Ci() { Ei = this, ti.call(this) } Ci.$metadata$ = { kind: o, simpleName: "DOUBLE", interfaces: [ti] }; var Ei = null; function Ai() { return null === Ei && new Ci, Ei } function bi() { Ii = this, ti.call(this) } bi.$metadata$ = { kind: o, simpleName: "STRING", interfaces: [ti] }; var Ii = null; function wi() { return null === Ii && new bi, Ii } function Li() { Ve.call(this) } function Ti() { ki = this, Li.call(this) } ti.$metadata$ = { kind: a, simpleName: "PrimitiveKind", interfaces: [Ve] }, Ti.$metadata$ = { kind: o, simpleName: "CLASS", interfaces: [Li] }; var ki = null; function Ri() { return null === ki && new Ti, ki } function Pi() { Mi = this, Li.call(this) } Pi.$metadata$ = { kind: o, simpleName: "LIST", interfaces: [Li] }; var Mi = null; function Ni() { return null === Mi && new Pi, Mi } function Di() { xi = this, Li.call(this) } Di.$metadata$ = { kind: o, simpleName: "MAP", interfaces: [Li] }; var xi = null; function zi() { return null === xi && new Di, xi } function Oi() { Fi = this, Li.call(this) } Oi.$metadata$ = { kind: o, simpleName: "OBJECT", interfaces: [Li] }; var Fi = null; function Bi() { return null === Fi && new Oi, Fi } function ji() { Ve.call(this) } function Hi() { qi = this, ji.call(this) } Li.$metadata$ = { kind: a, simpleName: "StructureKind", interfaces: [Ve] }, Hi.$metadata$ = { kind: o, simpleName: "SEALED", interfaces: [ji] }; var qi = null; function Ui() { return null === qi && new Hi, qi } function Gi() { Wi = this, ji.call(this) } Gi.$metadata$ = { kind: o, simpleName: "OPEN", interfaces: [ji] }; var Wi = null; function Yi() { return null === Wi && new Gi, Wi } function Vi() { } function Ki() { } function Xi() { } function Ji() { oa() } function Zi() { na = this, this.DECODE_DONE = -1, this.UNKNOWN_NAME = -3 } ji.$metadata$ = { kind: a, simpleName: "PolymorphicKind", interfaces: [Ve] }, Vi.prototype.decodeValue = function () { throw Zn(e.getKClassFromExpression(this).toString() + " can't retrieve untyped values") }, Vi.prototype.decodeNotNullMark = function () { return !0 }, Vi.prototype.decodeNull = function () { return null }, Vi.prototype.decodeBoolean = function () { var t; return "boolean" == typeof (t = this.decodeValue()) ? t : n() }, Vi.prototype.decodeByte = function () { var t; return "number" == typeof (t = this.decodeValue()) ? t : n() }, Vi.prototype.decodeShort = function () { var t; return "number" == typeof (t = this.decodeValue()) ? t : n() }, Vi.prototype.decodeInt = function () { var t; return "number" == typeof (t = this.decodeValue()) ? t : n() }, Vi.prototype.decodeLong = function () { var t; return e.isType(t = this.decodeValue(), e.Long) ? t : n() }, Vi.prototype.decodeFloat = function () { var t; return "number" == typeof (t = this.decodeValue()) ? t : n() }, Vi.prototype.decodeDouble = function () { var t; return "number" == typeof (t = this.decodeValue()) ? t : n() }, Vi.prototype.decodeChar = function () { var t; return e.isChar(t = this.decodeValue()) ? t : n() }, Vi.prototype.decodeString = function () { var t; return "string" == typeof (t = this.decodeValue()) ? t : n() }, Vi.prototype.decodeEnum_24f42q$ = function (t) { var e; return "number" == typeof (e = this.decodeValue()) ? e : n() }, Vi.prototype.decodeInline_24f42q$ = function (t) { return this }, Vi.prototype.decodeSerializableValue_19c8k5$$default = function (t, e) { return this.decodeSerializableValue_w63s0f$(t) }, Vi.prototype.decodeSerializableValue_19c8k5$ = function (t, e, i) { return void 0 === e && (e = null), i ? i(t, e) : this.decodeSerializableValue_19c8k5$$default(t, e) }, Vi.prototype.beginStructure_24f42q$ = function (t) { return this }, Vi.prototype.endStructure_24f42q$ = function (t) { }, Vi.prototype.decodeBooleanElement_szpzho$ = function (t, e) { return this.decodeBoolean() }, Vi.prototype.decodeByteElement_szpzho$ = function (t, e) { return this.decodeByte() }, Vi.prototype.decodeShortElement_szpzho$ = function (t, e) { return this.decodeShort() }, Vi.prototype.decodeIntElement_szpzho$ = function (t, e) { return this.decodeInt() }, Vi.prototype.decodeLongElement_szpzho$ = function (t, e) { return this.decodeLong() }, Vi.prototype.decodeFloatElement_szpzho$ = function (t, e) { return this.decodeFloat() }, Vi.prototype.decodeDoubleElement_szpzho$ = function (t, e) { return this.decodeDouble() }, Vi.prototype.decodeCharElement_szpzho$ = function (t, e) { return this.decodeChar() }, Vi.prototype.decodeStringElement_szpzho$ = function (t, e) { return this.decodeString() }, Vi.prototype.decodeInlineElement_szpzho$ = function (t, e) { return this.decodeInline_24f42q$(t.getElementDescriptor_za3lpa$(e)) }, Vi.prototype.decodeSerializableElement_12e8id$$default = function (t, e, i, a) { return this.decodeSerializableValue_19c8k5$(i, a) }, Vi.prototype.decodeNullableSerializableElement_8viuyw$$default = function (t, e, i, a) { return i.descriptor.isNullable || this.decodeNotNullMark() ? this.decodeSerializableValue_19c8k5$(i, a) : this.decodeNull() }, Vi.$metadata$ = { kind: a, simpleName: "AbstractDecoder", interfaces: [Ji, Xi] }, Ki.prototype.beginStructure_24f42q$ = function (t) { return this }, Ki.prototype.endStructure_24f42q$ = function (t) { }, Ki.prototype.encodeElement_szpzho$ = function (t, e) { return !0 }, Ki.prototype.encodeValue_za3rmp$ = function (t) { throw Zn("Non-serializable " + e.getKClassFromExpression(t) + " is not supported by " + e.getKClassFromExpression(this) + " encoder") }, Ki.prototype.encodeNull = function () { throw Zn("'null' is not supported by default") }, Ki.prototype.encodeBoolean_6taknv$ = function (t) { this.encodeValue_za3rmp$(t) }, Ki.prototype.encodeByte_s8j3t7$ = function (t) { this.encodeValue_za3rmp$(t) }, Ki.prototype.encodeShort_mq22fl$ = function (t) { this.encodeValue_za3rmp$(t) }, Ki.prototype.encodeInt_za3lpa$ = function (t) { this.encodeValue_za3rmp$(t) }, Ki.prototype.encodeLong_s8cxhz$ = function (t) { this.encodeValue_za3rmp$(t) }, Ki.prototype.encodeFloat_mx4ult$ = function (t) { this.encodeValue_za3rmp$(t) }, Ki.prototype.encodeDouble_14dthe$ = function (t) { this.encodeValue_za3rmp$(t) }, Ki.prototype.encodeChar_s8itvh$ = function (t) { this.encodeValue_za3rmp$(N(t)) }, Ki.prototype.encodeString_61zpoe$ = function (t) { this.encodeValue_za3rmp$(t) }, Ki.prototype.encodeEnum_szpzho$ = function (t, e) { this.encodeValue_za3rmp$(e) }, Ki.prototype.encodeInline_24f42q$ = function (t) { return this }, Ki.prototype.encodeBooleanElement_qh7jdn$ = function (t, e, i) { this.encodeElement_szpzho$(t, e) && this.encodeBoolean_6taknv$(i) }, Ki.prototype.encodeByteElement_j0u8y3$ = function (t, e, i) { this.encodeElement_szpzho$(t, e) && this.encodeByte_s8j3t7$(i) }, Ki.prototype.encodeShortElement_l83pjl$ = function (t, e, i) { this.encodeElement_szpzho$(t, e) && this.encodeShort_mq22fl$(i) }, Ki.prototype.encodeIntElement_ptg7oe$ = function (t, e, i) { this.encodeElement_szpzho$(t, e) && this.encodeInt_za3lpa$(i) }, Ki.prototype.encodeLongElement_j0o2mv$ = function (t, e, i) { this.encodeElement_szpzho$(t, e) && this.encodeLong_s8cxhz$(i) }, Ki.prototype.encodeFloatElement_lf6hpt$ = function (t, e, i) { this.encodeElement_szpzho$(t, e) && this.encodeFloat_mx4ult$(i) }, Ki.prototype.encodeDoubleElement_powrwi$ = function (t, e, i) { this.encodeElement_szpzho$(t, e) && this.encodeDouble_14dthe$(i) }, Ki.prototype.encodeCharElement_j0tz0d$ = function (t, e, i) { this.encodeElement_szpzho$(t, e) && this.encodeChar_s8itvh$(i) }, Ki.prototype.encodeStringElement_iij8qq$ = function (t, e, i) { this.encodeElement_szpzho$(t, e) && this.encodeString_61zpoe$(i) }, Ki.prototype.encodeInlineElement_szpzho$ = function (t, e) { return this.encodeElement_szpzho$(t, e) ? this.encodeInline_24f42q$(t.getElementDescriptor_za3lpa$(e)) : Za() }, Ki.prototype.encodeSerializableElement_r4qlx7$ = function (t, e, i, a) { this.encodeElement_szpzho$(t, e) && this.encodeSerializableValue_tf03ej$(i, a) }, Ki.prototype.encodeNullableSerializableElement_qw92s8$ = function (t, e, i, a) { this.encodeElement_szpzho$(t, e) && this.encodeNullableSerializableValue_f4686g$(i, a) }, Ki.$metadata$ = { kind: a, simpleName: "AbstractEncoder", interfaces: [la, sa] }, Xi.prototype.decodeSerializableValue_w63s0f$ = function (t) { return t.deserialize_bq71mq$(this) }, Xi.prototype.decodeNullableSerializableValue_aae3ea$ = function (t) { return t.descriptor.isNullable || this.decodeNotNullMark() ? this.decodeSerializableValue_w63s0f$(t) : this.decodeNull() }, Xi.$metadata$ = { kind: _, simpleName: "Decoder", interfaces: [] }, Zi.$metadata$ = { kind: o, simpleName: "Companion", interfaces: [] }; var Qi, ta, ea, ia, aa, ra, na = null; function oa() { return null === na && new Zi, na } function sa() { } function la() { } function ca() { } function pa(t, e) { var i = "in the scope of '" + h(e.simpleName) + "'"; throw Zn(null == t ? "Class discriminator was missing and no default polymorphic serializers were registered " + i : "Class '" + h(t) + "' is not registered for polymorphic serialization " + i + ".\nMark the base class as 'sealed' or register the serializer explicitly.") } function ha(t, e) { var i; return pa(null != (i = t.simpleName) ? i : t.toString(), e) } function da() { } function ua(t) { this.elementDescriptor = t, this.elementsCount_axr0xc$_0 = 1 } function _a(t, e, i) { this.serialName_ra35nx$_0 = t, this.keyDescriptor = e, this.valueDescriptor = i, this.elementsCount_qp2ocq$_0 = 2 } function fa(t) { ua.call(this, t), this.serialName_reprdi$_0 = t.serialName + "Array" } function ya(t) { ua.call(this, t) } function ma(t) { ua.call(this, t) } function $a(t) { ua.call(this, t) } function ga(t) { ua.call(this, t) } function va(t, e) { _a.call(this, aa, t, e) } function Sa(t, e) { _a.call(this, ra, t, e) } function Ca() { } function Ea(t) { Ca.call(this), this.elementSerializer_0 = t } function Aa(t, e) { Ca.call(this), this.keySerializer = t, this.valueSerializer = e } function ba() { } function Ia(t) { Ea.call(this, t), this.descriptor_o3qkn1$_0 = new fa(t.descriptor) } function wa(t, e) { Ea.call(this, e), this.kClass_0 = t, this.descriptor_8482jr$_0 = new ya(e.descriptor) } function La(t) { Ea.call(this, t), this.descriptor_7uwoa2$_0 = new ma(t.descriptor) } function Ta(t) { Ea.call(this, t), this.descriptor_vnfc7m$_0 = new $a(t.descriptor) } function ka(t) { Ea.call(this, t), this.descriptor_yqpz47$_0 = new ga(t.descriptor) } function Ra(t, e) { Aa.call(this, t, e), this.descriptor_pixp0o$_0 = new va(t.descriptor, e.descriptor) } function Pa(t, e) { Aa.call(this, t, e), this.descriptor_kvyydd$_0 = new Sa(t.descriptor, e.descriptor) } function Ma(t, e) { nr.call(this, t, e, 1), this.isInline_4xqniz$_0 = !0 } function Na(t) { this.closure$primitiveSerializer = t } function Da(t, e) { return new Ma(t, new Na(e)) } function xa() { za = this, this.descriptor_twumwr$_0 = Da("kotlin.UInt", Ce()) } Ji.prototype.decodeSequentially = function () { return !1 }, Ji.prototype.decodeCollectionSize_24f42q$ = function (t) { return -1 }, Ji.prototype.decodeSerializableElement_12e8id$ = function (t, e, i, a, r) { return void 0 === a && (a = null), r ? r(t, e, i, a) : this.decodeSerializableElement_12e8id$$default(t, e, i, a) }, Ji.prototype.decodeNullableSerializableElement_8viuyw$ = function (t, e, i, a, r) { return void 0 === a && (a = null), r ? r(t, e, i, a) : this.decodeNullableSerializableElement_8viuyw$$default(t, e, i, a) }, Ji.$metadata$ = { kind: _, simpleName: "CompositeDecoder", interfaces: [] }, sa.prototype.encodeNotNullMark = function () { }, sa.prototype.beginCollection_szpzho$ = function (t, e) { return this.beginStructure_24f42q$(t) }, sa.prototype.encodeSerializableValue_tf03ej$ = function (t, e) { t.serialize_55azsf$(this, e) }, sa.prototype.encodeNullableSerializableValue_f4686g$ = function (t, i) { var a; if (t.descriptor.isNullable) return this.encodeSerializableValue_tf03ej$(e.isType(a = t, Dn) ? a : n(), i); null == i ? this.encodeNull() : (this.encodeNotNullMark(), this.encodeSerializableValue_tf03ej$(t, i)) }, sa.$metadata$ = { kind: _, simpleName: "Encoder", interfaces: [] }, la.prototype.shouldEncodeElementDefault_szpzho$ = function (t, e) { return !0 }, la.$metadata$ = { kind: _, simpleName: "CompositeEncoder", interfaces: [] }, ca.prototype.serialize_55azsf$ = function (t, i) { var a = Gn(this, t, i), r = this.descriptor, o = t.beginStructure_24f42q$(r), s = null; try { var l; o.encodeStringElement_iij8qq$(this.descriptor, 0, a.descriptor.serialName), o.encodeSerializableElement_r4qlx7$(this.descriptor, 1, e.isType(l = a, Dn) ? l : n(), i) } catch (t) { throw e.isType(t, x) ? (s = t, t) : t } finally { null == s && o.endStructure_24f42q$(r) } }, ca.prototype.deserialize_bq71mq$ = function (t) { var i, a = this.descriptor, r = t.beginStructure_24f42q$(a), o = null; try { var s, l, c = { v: null }, p = null; if (r.decodeSequentially()) return this.decodeSequentially_j3xsyv$_0(r); t: for (; ;) { var d = r.decodeElementIndex_24f42q$(this.descriptor); switch (d) { case -1: break t; case 0: c.v = r.decodeStringElement_szpzho$(this.descriptor, d); break; case 1: var u, _ = c.v; if (null == _) throw R("Cannot read polymorphic value before its type token".toString()); u = _, c.v = u; var f = Un(this, r, c.v); p = r.decodeSerializableElement_12e8id$(this.descriptor, d, f); break; default: throw Zn("Invalid index in polymorphic deserialization of " + (null != (s = c.v) ? s : "unknown class") + "\n Expected 0, 1 or DECODE_DONE(-1), but found " + d) } } var y, m = p; if (null == m) { var $ = "Polymorphic value has not been read for class " + h(c.v); throw R($.toString()) } y = m, i = e.isType(l = y, D) ? l : n() } catch (t) { throw e.isType(t, x) ? (o = t, t) : t } finally { null == o && r.endStructure_24f42q$(a) } return i }, ca.prototype.decodeSequentially_j3xsyv$_0 = function (t) { var e = t.decodeStringElement_szpzho$(this.descriptor, 0), i = Un(this, t, e); return t.decodeSerializableElement_12e8id$(this.descriptor, 1, i) }, ca.prototype.findPolymorphicSerializerOrNull_ca6uye$ = function (t, e) { return t.serializersModule.getPolymorphic_l2fy3k$(this.baseClass, e) }, ca.prototype.findPolymorphicSerializerOrNull_kjsxpj$ = function (t, e) { return t.serializersModule.getPolymorphic_joiicr$(this.baseClass, e) }, ca.$metadata$ = { kind: a, simpleName: "AbstractPolymorphicSerializer", interfaces: [Nn] }, da.$metadata$ = { kind: _, simpleName: "CachedNames", interfaces: [] }, Object.defineProperty(ua.prototype, "kind", { configurable: !0, get: function () { return Ni() } }), Object.defineProperty(ua.prototype, "elementsCount", { configurable: !0, get: function () { return this.elementsCount_axr0xc$_0 } }), ua.prototype.getElementName_za3lpa$ = function (t) { return t.toString() }, ua.prototype.getElementIndex_61zpoe$ = function (t) { var e; if (null == (e = z(t))) throw R(t + " is not a valid list index"); return e }, ua.prototype.isElementOptional_za3lpa$ = function (t) { if (!(t >= 0)) { var e = "Illegal index " + t + ", " + this.serialName + " expects only non-negative indices"; throw R(e.toString()) } return !1 }, ua.prototype.getElementAnnotations_za3lpa$ = function (t) { if (!(t >= 0)) { var e = "Illegal index " + t + ", " + this.serialName + " expects only non-negative indices"; throw R(e.toString()) } return l() }, ua.prototype.getElementDescriptor_za3lpa$ = function (t) { if (!(t >= 0)) { var e = "Illegal index " + t + ", " + this.serialName + " expects only non-negative indices"; throw R(e.toString()) } return this.elementDescriptor }, ua.prototype.equals = function (t) { return this === t || !!e.isType(t, ua) && !(!c(this.elementDescriptor, t.elementDescriptor) || !c(this.serialName, t.serialName)) }, ua.prototype.hashCode = function () { return (31 * p(this.elementDescriptor) | 0) + p(this.serialName) | 0 }, ua.prototype.toString = function () { return this.serialName + "(" + this.elementDescriptor + ")" }, ua.$metadata$ = { kind: a, simpleName: "ListLikeDescriptor", interfaces: [Fe] }, Object.defineProperty(_a.prototype, "serialName", { get: function () { return this.serialName_ra35nx$_0 } }), Object.defineProperty(_a.prototype, "kind", { configurable: !0, get: function () { return zi() } }), Object.defineProperty(_a.prototype, "elementsCount", { configurable: !0, get: function () { return this.elementsCount_qp2ocq$_0 } }), _a.prototype.getElementName_za3lpa$ = function (t) { return t.toString() }, _a.prototype.getElementIndex_61zpoe$ = function (t) { var e; if (null == (e = z(t))) throw R(t + " is not a valid map index"); return e }, _a.prototype.isElementOptional_za3lpa$ = function (t) { if (!(t >= 0)) { var e = "Illegal index " + t + ", " + this.serialName + " expects only non-negative indices"; throw R(e.toString()) } return !1 }, _a.prototype.getElementAnnotations_za3lpa$ = function (t) { if (!(t >= 0)) { var e = "Illegal index " + t + ", " + this.serialName + " expects only non-negative indices"; throw R(e.toString()) } return l() }, _a.prototype.getElementDescriptor_za3lpa$ = function (t) { var e; if (!(t >= 0)) { var i = "Illegal index " + t + ", " + this.serialName + " expects only non-negative indices"; throw R(i.toString()) } switch (t % 2) { case 0: e = this.keyDescriptor; break; case 1: e = this.valueDescriptor; break; default: throw O("Unreached".toString()) }return e }, _a.prototype.equals = function (t) { return this === t || !!e.isType(t, _a) && !!c(this.serialName, t.serialName) && !!c(this.keyDescriptor, t.keyDescriptor) && !!c(this.valueDescriptor, t.valueDescriptor) }, _a.prototype.hashCode = function () { var t = p(this.serialName); return t = (31 * (t = (31 * t | 0) + p(this.keyDescriptor) | 0) | 0) + p(this.valueDescriptor) | 0 }, _a.prototype.toString = function () { return this.serialName + "(" + this.keyDescriptor + ", " + this.valueDescriptor + ")" }, _a.$metadata$ = { kind: a, simpleName: "MapLikeDescriptor", interfaces: [Fe] }, Object.defineProperty(fa.prototype, "serialName", { configurable: !0, get: function () { return this.serialName_reprdi$_0 } }), fa.$metadata$ = { kind: a, simpleName: "PrimitiveArrayDescriptor", interfaces: [ua] }, Object.defineProperty(ya.prototype, "serialName", { configurable: !0, get: function () { return Qi } }), ya.$metadata$ = { kind: a, simpleName: "ArrayClassDesc", interfaces: [ua] }, Object.defineProperty(ma.prototype, "serialName", { configurable: !0, get: function () { return ta } }), ma.$metadata$ = { kind: a, simpleName: "ArrayListClassDesc", interfaces: [ua] }, Object.defineProperty($a.prototype, "serialName", { configurable: !0, get: function () { return ea } }), $a.$metadata$ = { kind: a, simpleName: "LinkedHashSetClassDesc", interfaces: [ua] }, Object.defineProperty(ga.prototype, "serialName", { configurable: !0, get: function () { return ia } }), ga.$metadata$ = { kind: a, simpleName: "HashSetClassDesc", interfaces: [ua] }, va.$metadata$ = { kind: a, simpleName: "LinkedHashMapClassDesc", interfaces: [_a] }, Sa.$metadata$ = { kind: a, simpleName: "HashMapClassDesc", interfaces: [_a] }, Ca.prototype.merge_h7kg3q$ = function (t, e) { var i, a = null != (i = null != e ? this.toBuilder_wikn$(e) : null) ? i : this.builder(), r = this.builderSize_wili$(a), n = t.beginStructure_24f42q$(this.descriptor); if (n.decodeSequentially()) this.readAll_8oyp34$(n, a, r, this.readSize_bl0yv7$_0(n, a)); else for (; ;) { var o = n.decodeElementIndex_24f42q$(this.descriptor); if (-1 === o) break; this.readElement_8pvye7$(n, r + o | 0, a) } return n.endStructure_24f42q$(this.descriptor), this.toResult_wili$(a) }, Ca.prototype.deserialize_bq71mq$ = function (t) { return this.merge_h7kg3q$(t, null) }, Ca.prototype.readSize_bl0yv7$_0 = function (t, e) { var i = t.decodeCollectionSize_24f42q$(this.descriptor); return this.checkCapacity_rk7bw8$(e, i), i }, Ca.prototype.readElement_8pvye7$ = function (t, e, i, a, r) { void 0 === a && (a = !0), r ? r(t, e, i, a) : this.readElement_8pvye7$$default(t, e, i, a) }, Ca.$metadata$ = { kind: a, simpleName: "AbstractCollectionSerializer", interfaces: [Nn] }, Ea.prototype.serialize_55azsf$ = function (t, e) { for (var i = this.collectionSize_wikn$(e), a = t.beginCollection_szpzho$(this.descriptor, i), r = this.collectionIterator_wikn$(e), n = 0; n < i; n++)a.encodeSerializableElement_r4qlx7$(this.descriptor, n, this.elementSerializer_0, r.next()); a.endStructure_24f42q$(this.descriptor) }, Ea.prototype.readAll_8oyp34$ = function (t, e, i, a) { if (!(a >= 0)) throw R("Size must be known in advance when using READ_ALL".toString()); for (var r = 0; r < a; r++)this.readElement_8pvye7$(t, i + r | 0, e, !1) }, Ea.prototype.readElement_8pvye7$$default = function (t, e, i, a) { this.insert_p422l$(i, e, t.decodeSerializableElement_12e8id$(this.descriptor, e, this.elementSerializer_0)) }, Ea.$metadata$ = { kind: a, simpleName: "ListLikeSerializer", interfaces: [Ca] }, Aa.prototype.readAll_8oyp34$ = function (t, e, i, a) { var r; if (!(a >= 0)) throw R("Size must be known in advance when using READ_ALL".toString()); r = 2 * a | 0; for (var n = 0; n < r; n += 2)this.readElement_8pvye7$(t, i + n | 0, e, !1) }, Aa.prototype.readElement_8pvye7$$default = function (t, i, a, r) { var n, o = t.decodeSerializableElement_12e8id$(this.descriptor, i, this.keySerializer); if (r) { var s = t.decodeElementIndex_24f42q$(this.descriptor); if (s !== (i + 1 | 0)) throw R(("Value must follow key in a map, index for key: " + i + ", returned index for value: " + s).toString()); n = s } else n = i + 1 | 0; var l = n, c = a.containsKey_11rb$(o) && !e.isType(this.valueSerializer.descriptor.kind, ti) ? t.decodeSerializableElement_12e8id$(this.descriptor, l, this.valueSerializer, F(a, o)) : t.decodeSerializableElement_12e8id$(this.descriptor, l, this.valueSerializer); a.put_xwzc9p$(o, c) }, Aa.prototype.serialize_55azsf$ = function (t, e) { for (var i = this.collectionSize_wikn$(e), a = t.beginCollection_szpzho$(this.descriptor, i), r = this.collectionIterator_wikn$(e), n = { v: 0 }; r.hasNext();) { var o, s, l = r.next(), c = l.key, p = l.value; a.encodeSerializableElement_r4qlx7$(this.descriptor, (o = n.v, n.v = o + 1 | 0, o), this.keySerializer, c), a.encodeSerializableElement_r4qlx7$(this.descriptor, (s = n.v, n.v = s + 1 | 0, s), this.valueSerializer, p) } a.endStructure_24f42q$(this.descriptor) }, Aa.$metadata$ = { kind: a, simpleName: "MapLikeSerializer", interfaces: [Ca] }, ba.prototype.ensureCapacity_za3lpa$ = function (t, e) { void 0 === t && (t = this.position + 1 | 0), e ? e(t) : this.ensureCapacity_za3lpa$$default(t) }, ba.$metadata$ = { kind: a, simpleName: "PrimitiveArrayBuilder", interfaces: [] }, Object.defineProperty(Ia.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_o3qkn1$_0 } }), Ia.prototype.builderSize_wili$ = function (t) { return t.position }, Ia.prototype.toResult_wili$ = function (t) { return t.build() }, Ia.prototype.checkCapacity_rk7bw8$ = function (t, e) { t.ensureCapacity_za3lpa$(e) }, Ia.prototype.collectionIterator_wikn$ = function (t) { throw O("This method lead to boxing and must not be used, use writeContents instead".toString()) }, Ia.prototype.insert_p422l$ = function (t, e, i) { throw O("This method lead to boxing and must not be used, use Builder.append instead".toString()) }, Ia.prototype.builder = function () { return this.toBuilder_wikn$(this.empty()) }, Ia.prototype.serialize_55azsf$ = function (t, e) { var i = this.collectionSize_wikn$(e), a = t.beginCollection_szpzho$(this.descriptor, i); this.writeContent_q3xt5$(a, e, i), a.endStructure_24f42q$(this.descriptor) }, Ia.prototype.deserialize_bq71mq$ = function (t) { return this.merge_h7kg3q$(t, null) }, Ia.$metadata$ = { kind: a, simpleName: "PrimitiveArraySerializer", interfaces: [Ea] }, Object.defineProperty(wa.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_8482jr$_0 } }), wa.prototype.collectionSize_wikn$ = function (t) { return t.length }, wa.prototype.collectionIterator_wikn$ = function (t) { return e.arrayIterator(t) }, wa.prototype.builder = function () { return g() }, wa.prototype.builderSize_wili$ = function (t) { return t.size }, wa.prototype.toResult_wili$ = function (t) { return po(t, this.kClass_0) }, wa.prototype.toBuilder_wikn$ = function (t) { return B(s(t)) }, wa.prototype.checkCapacity_rk7bw8$ = function (t, e) { t.ensureCapacity_za3lpa$(e) }, wa.prototype.insert_p422l$ = function (t, e, i) { t.add_wxm5ur$(e, i) }, wa.$metadata$ = { kind: a, simpleName: "ReferenceArraySerializer", interfaces: [Ea] }, Object.defineProperty(La.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_7uwoa2$_0 } }), La.prototype.collectionSize_wikn$ = function (t) { return t.size }, La.prototype.collectionIterator_wikn$ = function (t) { return t.iterator() }, La.prototype.builder = function () { return g() }, La.prototype.builderSize_wili$ = function (t) { return t.size }, La.prototype.toResult_wili$ = function (t) { return t }, La.prototype.toBuilder_wikn$ = function (t) { var i, a; return null != (a = e.isType(i = t, j) ? i : null) ? a : B(t) }, La.prototype.checkCapacity_rk7bw8$ = function (t, e) { t.ensureCapacity_za3lpa$(e) }, La.prototype.insert_p422l$ = function (t, e, i) { t.add_wxm5ur$(e, i) }, La.$metadata$ = { kind: a, simpleName: "ArrayListSerializer", interfaces: [Ea] }, Object.defineProperty(Ta.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_vnfc7m$_0 } }), Ta.prototype.collectionSize_wikn$ = function (t) { return t.size }, Ta.prototype.collectionIterator_wikn$ = function (t) { return t.iterator() }, Ta.prototype.builder = function () { return Z() }, Ta.prototype.builderSize_wili$ = function (t) { return t.size }, Ta.prototype.toResult_wili$ = function (t) { return t }, Ta.prototype.toBuilder_wikn$ = function (t) { var i, a; return null != (a = e.isType(i = t, H) ? i : null) ? a : q(t) }, Ta.prototype.checkCapacity_rk7bw8$ = function (t, e) { }, Ta.prototype.insert_p422l$ = function (t, e, i) { t.add_11rb$(i) }, Ta.$metadata$ = { kind: a, simpleName: "LinkedHashSetSerializer", interfaces: [Ea] }, Object.defineProperty(ka.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_yqpz47$_0 } }), ka.prototype.collectionSize_wikn$ = function (t) { return t.size }, ka.prototype.collectionIterator_wikn$ = function (t) { return t.iterator() }, ka.prototype.builder = function () { return v() }, ka.prototype.builderSize_wili$ = function (t) { return t.size }, ka.prototype.toResult_wili$ = function (t) { return t }, ka.prototype.toBuilder_wikn$ = function (t) { var i, a; return null != (a = e.isType(i = t, U) ? i : null) ? a : G(t) }, ka.prototype.checkCapacity_rk7bw8$ = function (t, e) { }, ka.prototype.insert_p422l$ = function (t, e, i) { t.add_11rb$(i) }, ka.$metadata$ = { kind: a, simpleName: "HashSetSerializer", interfaces: [Ea] }, Object.defineProperty(Ra.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_pixp0o$_0 } }), Ra.prototype.collectionSize_wikn$ = function (t) { return t.size }, Ra.prototype.collectionIterator_wikn$ = function (t) { return t.entries.iterator() }, Ra.prototype.builder = function () { return W() }, Ra.prototype.builderSize_wili$ = function (t) { return t.size }, Ra.prototype.toResult_wili$ = function (t) { return t }, Ra.prototype.toBuilder_wikn$ = function (t) { var i, a; return null != (a = e.isType(i = t, Y) ? i : null) ? a : V(t) }, Ra.prototype.checkCapacity_rk7bw8$ = function (t, e) { }, Ra.prototype.insertKeyValuePair_fbr58l$ = function (t, e, i, a) { t.put_xwzc9p$(i, a) }, Ra.$metadata$ = { kind: a, simpleName: "LinkedHashMapSerializer", interfaces: [Aa] }, Object.defineProperty(Pa.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_kvyydd$_0 } }), Pa.prototype.collectionSize_wikn$ = function (t) { return t.size }, Pa.prototype.collectionIterator_wikn$ = function (t) { return t.entries.iterator() }, Pa.prototype.builder = function () { return K() }, Pa.prototype.builderSize_wili$ = function (t) { return t.size }, Pa.prototype.toResult_wili$ = function (t) { return t }, Pa.prototype.toBuilder_wikn$ = function (t) { var i, a; return null != (a = e.isType(i = t, X) ? i : null) ? a : J(t) }, Pa.prototype.checkCapacity_rk7bw8$ = function (t, e) { }, Pa.prototype.insertKeyValuePair_fbr58l$ = function (t, e, i, a) { t.put_xwzc9p$(i, a) }, Pa.$metadata$ = { kind: a, simpleName: "HashMapSerializer", interfaces: [Aa] }, Object.defineProperty(Ma.prototype, "isInline", { configurable: !0, get: function () { return this.isInline_4xqniz$_0 } }), Ma.prototype.hashCode = function () { return 31 * nr.prototype.hashCode.call(this) | 0 }, Ma.prototype.equals = function (t) { var i; t: do { var a; if (this === t) { i = !0; break t } if (!e.isType(t, Ma)) { i = !1; break t } if (!c(this.serialName, t.serialName)) { i = !1; break t } if (!t.isInline || !S(this.typeParameterDescriptors_8be2vx$, t.typeParameterDescriptors_8be2vx$)) { i = !1; break t } if (this.elementsCount !== t.elementsCount) { i = !1; break t } a = this.elementsCount; for (var r = 0; r < a; r++) { if (!c(this.getElementDescriptor_za3lpa$(r).serialName, t.getElementDescriptor_za3lpa$(r).serialName)) { i = !1; break t } if (!c(this.getElementDescriptor_za3lpa$(r).kind, t.getElementDescriptor_za3lpa$(r).kind)) { i = !1; break t } } i = !0 } while (0); return i }, Ma.$metadata$ = { kind: a, simpleName: "InlineClassDescriptor", interfaces: [nr] }, Na.prototype.childSerializers = function () { return [this.closure$primitiveSerializer] }, Object.defineProperty(Na.prototype, "descriptor", { configurable: !0, get: function () { throw O("unsupported".toString()) } }), Na.prototype.serialize_55azsf$ = function (t, e) { throw O("unsupported".toString()) }, Na.prototype.deserialize_bq71mq$ = function (t) { throw O("unsupported".toString()) }, Na.$metadata$ = { kind: a, interfaces: [sr] }, Object.defineProperty(xa.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_twumwr$_0 } }), xa.prototype.serialize_55azsf$ = function (t, e) { t.encodeInline_24f42q$(this.descriptor).encodeInt_za3lpa$(e.data) }, xa.prototype.deserialize_bq71mq$ = function (t) { return new et(t.decodeInline_24f42q$(this.descriptor).decodeInt()) }, xa.$metadata$ = { kind: o, simpleName: "UIntSerializer", interfaces: [Nn] }; var za = null; function Oa() { return null === za && new xa, za } function Fa() { Ba = this, this.descriptor_3i3rs4$_0 = Da("kotlin.ULong", Ae()) } Object.defineProperty(Fa.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_3i3rs4$_0 } }), Fa.prototype.serialize_55azsf$ = function (t, e) { t.encodeInline_24f42q$(this.descriptor).encodeLong_s8cxhz$(e.data) }, Fa.prototype.deserialize_bq71mq$ = function (t) { return new it(t.decodeInline_24f42q$(this.descriptor).decodeLong()) }, Fa.$metadata$ = { kind: o, simpleName: "ULongSerializer", interfaces: [Nn] }; var Ba = null; function ja() { return null === Ba && new Fa, Ba } function Ha() { qa = this, this.descriptor_x7d240$_0 = Da("kotlin.UByte", $e()) } Object.defineProperty(Ha.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_x7d240$_0 } }), Ha.prototype.serialize_55azsf$ = function (t, e) { t.encodeInline_24f42q$(this.descriptor).encodeByte_s8j3t7$(e.data) }, Ha.prototype.deserialize_bq71mq$ = function (t) { return new at(t.decodeInline_24f42q$(this.descriptor).decodeByte()) }, Ha.$metadata$ = { kind: o, simpleName: "UByteSerializer", interfaces: [Nn] }; var qa = null; function Ua() { return null === qa && new Ha, qa } function Ga() { Wa = this, this.descriptor_q9gay6$_0 = Da("kotlin.UShort", ve()) } Object.defineProperty(Ga.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_q9gay6$_0 } }), Ga.prototype.serialize_55azsf$ = function (t, e) { t.encodeInline_24f42q$(this.descriptor).encodeShort_mq22fl$(e.data) }, Ga.prototype.deserialize_bq71mq$ = function (t) { return new rt(t.decodeInline_24f42q$(this.descriptor).decodeShort()) }, Ga.$metadata$ = { kind: o, simpleName: "UShortSerializer", interfaces: [Nn] }; var Wa = null; function Ya() { return null === Wa && new Ga, Wa } function Va() { Ja = this, Ki.call(this), this.serializersModule_buddhf$_0 = Cn } Object.defineProperty(Va.prototype, "serializersModule", { configurable: !0, get: function () { return this.serializersModule_buddhf$_0 } }), Va.prototype.encodeValue_za3rmp$ = function (t) { }, Va.prototype.encodeNull = function () { }, Va.prototype.encodeBoolean_6taknv$ = function (t) { }, Va.prototype.encodeByte_s8j3t7$ = function (t) { }, Va.prototype.encodeShort_mq22fl$ = function (t) { }, Va.prototype.encodeInt_za3lpa$ = function (t) { }, Va.prototype.encodeLong_s8cxhz$ = function (t) { }, Va.prototype.encodeFloat_mx4ult$ = function (t) { }, Va.prototype.encodeDouble_14dthe$ = function (t) { }, Va.prototype.encodeChar_s8itvh$ = function (t) { }, Va.prototype.encodeString_61zpoe$ = function (t) { }, Va.prototype.encodeEnum_szpzho$ = function (t, e) { }, Va.$metadata$ = { kind: o, simpleName: "NoOpEncoder", interfaces: [Ki] }; var Ka, Xa, Ja = null; function Za() { return null === Ja && new Va, Ja } function Qa(t) { this.serializer_0 = t, this.descriptor_kbvl2k$_0 = new tr(this.serializer_0.descriptor) } function tr(t) { this.original_8be2vx$ = t, this.serialName_szvoqg$_0 = this.original_8be2vx$.serialName + "?", this.serialNames_oi6dhz$_0 = ir(this.original_8be2vx$) } function er(t, e) { this.objectInstance_0 = e, this.descriptor_uhy216$_0 = Ge(t, Bi(), []) } function ir(t) { var i; if (e.isType(t, da)) return t.serialNames; var a = nt(t.elementsCount); i = t.elementsCount; for (var r = 0; r < i; r++) { var n = t.getElementName_za3lpa$(r); a.add_11rb$(n) } return a } function ar(t) { var e, i; return null != (i = null != (e = null == t || t.isEmpty() ? null : t) ? P(e) : null) ? i : Ka } function rr(t) { var i, a, r = t.classifier; if (!e.isType(r, ot)) throw O(("Only KClass supported as classifier, got " + h(r)).toString()); return i = r, e.isType(a = i, ot) ? a : n() } function nr(t, i, a) { void 0 === i && (i = null), this.serialName_igazkg$_0 = t, this.generatedSerializer_0 = i, this.elementsCount_qx3iur$_0 = a, this.added_0 = -1; var r, n, o = tt(this.elementsCount); r = o.length - 1 | 0; for (var s = 0; s <= r; s++)o[s] = "[UNINITIALIZED]"; this.names_0 = o, this.propertiesAnnotations_0 = e.newArray(this.elementsCount, null), this.classAnnotations_0 = null, this.elementsOptionality_0 = e.booleanArray(this.elementsCount), this.indices_0 = st(), this.childSerializers_am32qy$_0 = T((n = this, function () { var t, e; return null != (e = null != (t = n.generatedSerializer_0) ? t.childSerializers() : null) ? e : [] })), this.typeParameterDescriptors_8be2vx$_tf62pe$_0 = T(function (t) { return function () { var e, i, a; if (null != (i = null != (e = t.generatedSerializer_0) ? e.typeParametersSerializers() : null)) { var r, n = u(i.length); for (r = 0; r !== i.length; ++r) { var o = i[r]; n.add_11rb$(o.descriptor) } a = n } else a = null; return ar(a) } }(this)), this._hashCode_61j445$_0 = T(function (t) { return function () { return or(t, t.typeParameterDescriptors_8be2vx$) } }(this)) } function or(t, e) { var i = p(t.serialName); i = (31 * i | 0) + lt(e) | 0; var a, r = je(t), n = 1; for (a = r.iterator(); a.hasNext();) { var o, s = 31 * n | 0, l = a.next().serialName; n = s + (null != (o = null != l ? p(l) : null) ? o : 0) | 0 } var c, h = n, d = 1; for (c = r.iterator(); c.hasNext();) { var u, _ = 31 * d | 0, f = c.next().kind; d = _ + (null != (u = null != f ? p(f) : null) ? u : 0) | 0 } return i = (31 * (i = (31 * i | 0) + h | 0) | 0) + d | 0 } function sr() { } function lr() { } function cr() { pr = this, Ia.call(this, $e()) } Object.defineProperty(Qa.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_kbvl2k$_0 } }), Qa.prototype.serialize_55azsf$ = function (t, e) { null != e ? (t.encodeNotNullMark(), t.encodeSerializableValue_tf03ej$(this.serializer_0, e)) : t.encodeNull() }, Qa.prototype.deserialize_bq71mq$ = function (t) { return t.decodeNotNullMark() ? t.decodeSerializableValue_w63s0f$(this.serializer_0) : t.decodeNull() }, Qa.prototype.equals = function (t) { var i; return this === t || !(null == t || null == (i = e.getKClassFromExpression(this)) || !i.equals(e.getKClassFromExpression(t))) && (e.isType(t, Qa) || n(), !!c(this.serializer_0, t.serializer_0)) }, Qa.prototype.hashCode = function () { return p(this.serializer_0) }, Qa.$metadata$ = { kind: a, simpleName: "NullableSerializer", interfaces: [Nn] }, Object.defineProperty(tr.prototype, "serialName", { configurable: !0, get: function () { return this.serialName_szvoqg$_0 } }), Object.defineProperty(tr.prototype, "serialNames", { configurable: !0, get: function () { return this.serialNames_oi6dhz$_0 } }), Object.defineProperty(tr.prototype, "isNullable", { configurable: !0, get: function () { return !0 } }), tr.prototype.equals = function (t) { return this === t || !!e.isType(t, tr) && !!c(this.original_8be2vx$, t.original_8be2vx$) }, tr.prototype.toString = function () { return this.original_8be2vx$.toString() + "?" }, tr.prototype.hashCode = function () { return 31 * p(this.original_8be2vx$) | 0 }, Object.defineProperty(tr.prototype, "annotations", { configurable: !0, get: function () { return this.original_8be2vx$.annotations } }), Object.defineProperty(tr.prototype, "elementsCount", { configurable: !0, get: function () { return this.original_8be2vx$.elementsCount } }), Object.defineProperty(tr.prototype, "isInline", { configurable: !0, get: function () { return this.original_8be2vx$.isInline } }), Object.defineProperty(tr.prototype, "kind", { configurable: !0, get: function () { return this.original_8be2vx$.kind } }), tr.prototype.getElementAnnotations_za3lpa$ = function (t) { return this.original_8be2vx$.getElementAnnotations_za3lpa$(t) }, tr.prototype.getElementDescriptor_za3lpa$ = function (t) { return this.original_8be2vx$.getElementDescriptor_za3lpa$(t) }, tr.prototype.getElementIndex_61zpoe$ = function (t) { return this.original_8be2vx$.getElementIndex_61zpoe$(t) }, tr.prototype.getElementName_za3lpa$ = function (t) { return this.original_8be2vx$.getElementName_za3lpa$(t) }, tr.prototype.isElementOptional_za3lpa$ = function (t) { return this.original_8be2vx$.isElementOptional_za3lpa$(t) }, tr.$metadata$ = { kind: a, simpleName: "SerialDescriptorForNullable", interfaces: [da, Fe] }, Object.defineProperty(er.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_uhy216$_0 } }), er.prototype.serialize_55azsf$ = function (t, e) { t.beginStructure_24f42q$(this.descriptor).endStructure_24f42q$(this.descriptor) }, er.prototype.deserialize_bq71mq$ = function (t) { return t.beginStructure_24f42q$(this.descriptor).endStructure_24f42q$(this.descriptor), this.objectInstance_0 }, er.$metadata$ = { kind: a, simpleName: "ObjectSerializer", interfaces: [Nn] }, Object.defineProperty(nr.prototype, "serialName", { get: function () { return this.serialName_igazkg$_0 } }), Object.defineProperty(nr.prototype, "elementsCount", { get: function () { return this.elementsCount_qx3iur$_0 } }), Object.defineProperty(nr.prototype, "kind", { configurable: !0, get: function () { return Ri() } }), Object.defineProperty(nr.prototype, "annotations", { configurable: !0, get: function () { var t; return null != (t = this.classAnnotations_0) ? t : l() } }), Object.defineProperty(nr.prototype, "serialNames", { configurable: !0, get: function () { return this.indices_0.keys } }), Object.defineProperty(nr.prototype, "childSerializers_0", { configurable: !0, get: function () { return this.childSerializers_am32qy$_0.value } }), Object.defineProperty(nr.prototype, "typeParameterDescriptors_8be2vx$", { configurable: !0, get: function () { return this.typeParameterDescriptors_8be2vx$_tf62pe$_0.value } }), Object.defineProperty(nr.prototype, "_hashCode_0", { configurable: !0, get: function () { return this._hashCode_61j445$_0.value } }), nr.prototype.addElement_ivxn3r$ = function (t, e) { void 0 === e && (e = !1), this.names_0[(this.added_0 = this.added_0 + 1 | 0, this.added_0)] = t, this.elementsOptionality_0[this.added_0] = e, this.propertiesAnnotations_0[this.added_0] = null, this.added_0 === (this.elementsCount - 1 | 0) && (this.indices_0 = this.buildIndices_0()) }, nr.prototype.pushAnnotation_yj921w$ = function (t) { var e, i = this.propertiesAnnotations_0[this.added_0]; if (null == i) { var a = u(1); this.propertiesAnnotations_0[this.added_0] = a, e = a } else e = i; e.add_11rb$(t) }, nr.prototype.pushClassAnnotation_yj921w$ = function (t) { null == this.classAnnotations_0 && (this.classAnnotations_0 = u(1)), M(this.classAnnotations_0).add_11rb$(t) }, nr.prototype.getElementDescriptor_za3lpa$ = function (t) { return so(this.childSerializers_0, t).descriptor }, nr.prototype.isElementOptional_za3lpa$ = function (t) { return lo(this.elementsOptionality_0, t) }, nr.prototype.getElementAnnotations_za3lpa$ = function (t) { var e; return null != (e = so(this.propertiesAnnotations_0, t)) ? e : l() }, nr.prototype.getElementName_za3lpa$ = function (t) { return so(this.names_0, t) }, nr.prototype.getElementIndex_61zpoe$ = function (t) { var e; return null != (e = this.indices_0.get_11rb$(t)) ? e : -3 }, nr.prototype.buildIndices_0 = function () { var t, e = K(); t = this.names_0; for (var i = 0; i !== t.length; ++i) { var a = this.names_0[i]; e.put_xwzc9p$(a, i) } return e }, nr.prototype.equals = function (t) { var i; t: do { var a; if (this === t) { i = !0; break t } if (!e.isType(t, nr)) { i = !1; break t } if (!c(this.serialName, t.serialName)) { i = !1; break t } if (!S(this.typeParameterDescriptors_8be2vx$, t.typeParameterDescriptors_8be2vx$)) { i = !1; break t } if (this.elementsCount !== t.elementsCount) { i = !1; break t } a = this.elementsCount; for (var r = 0; r < a; r++) { if (!c(this.getElementDescriptor_za3lpa$(r).serialName, t.getElementDescriptor_za3lpa$(r).serialName)) { i = !1; break t } if (!c(this.getElementDescriptor_za3lpa$(r).kind, t.getElementDescriptor_za3lpa$(r).kind)) { i = !1; break t } } i = !0 } while (0); return i }, nr.prototype.hashCode = function () { return this._hashCode_0 }, nr.prototype.toString = function () { return E(C(0, this.elementsCount), ", ", this.serialName + "(", ")", void 0, void 0, (t = this, function (e) { return t.getElementName_za3lpa$(e) + ": " + t.getElementDescriptor_za3lpa$(e).serialName })); var t }, nr.$metadata$ = { kind: a, simpleName: "PluginGeneratedSerialDescriptor", interfaces: [da, Fe] }, sr.prototype.typeParametersSerializers = function () { return Xa }, sr.$metadata$ = { kind: _, simpleName: "GeneratedSerializer", interfaces: [Nn] }, lr.$metadata$ = { kind: _, simpleName: "SerializerFactory", interfaces: [] }, cr.prototype.collectionSize_wikn$ = function (t) { return t.length }, cr.prototype.toBuilder_wikn$ = function (t) { return new dr(t) }, cr.prototype.empty = function () { return new Int8Array(0) }, cr.prototype.readElement_8pvye7$$default = function (t, e, i, a) { i.append_8e99oo$(t.decodeByteElement_szpzho$(this.descriptor, e)) }, cr.prototype.writeContent_q3xt5$ = function (t, e, i) { for (var a = 0; a < i; a++)t.encodeByteElement_j0u8y3$(this.descriptor, a, e[a]) }, cr.$metadata$ = { kind: o, simpleName: "ByteArraySerializer", interfaces: [Ia, Nn] }; var pr = null; function hr() { return null === pr && new cr, pr } function dr(t) { ba.call(this), this.buffer_0 = t, this.position_8vrcnd$_0 = t.length, this.ensureCapacity_za3lpa$(10) } function ur() { _r = this, Ia.call(this, ve()) } Object.defineProperty(dr.prototype, "position", { configurable: !0, get: function () { return this.position_8vrcnd$_0 }, set: function (t) { this.position_8vrcnd$_0 = t } }), dr.prototype.ensureCapacity_za3lpa$$default = function (t) { this.buffer_0.length < t && (this.buffer_0 = pt(this.buffer_0, ct(t, 2 * this.buffer_0.length | 0))) }, dr.prototype.append_8e99oo$ = function (t) { var e; this.ensureCapacity_za3lpa$(), this.buffer_0[(e = this.position, this.position = e + 1 | 0, e)] = t }, dr.prototype.build = function () { return pt(this.buffer_0, this.position) }, dr.$metadata$ = { kind: a, simpleName: "ByteArrayBuilder", interfaces: [ba] }, ur.prototype.collectionSize_wikn$ = function (t) { return t.length }, ur.prototype.toBuilder_wikn$ = function (t) { return new yr(t) }, ur.prototype.empty = function () { return new Int16Array(0) }, ur.prototype.readElement_8pvye7$$default = function (t, e, i, a) { i.append_o3ifnw$(t.decodeShortElement_szpzho$(this.descriptor, e)) }, ur.prototype.writeContent_q3xt5$ = function (t, e, i) { for (var a = 0; a < i; a++)t.encodeShortElement_l83pjl$(this.descriptor, a, e[a]) }, ur.$metadata$ = { kind: o, simpleName: "ShortArraySerializer", interfaces: [Ia, Nn] }; var _r = null; function fr() { return null === _r && new ur, _r } function yr(t) { ba.call(this), this.buffer_0 = t, this.position_aswgsb$_0 = t.length, this.ensureCapacity_za3lpa$(10) } function mr() { $r = this, Ia.call(this, Ce()) } Object.defineProperty(yr.prototype, "position", { configurable: !0, get: function () { return this.position_aswgsb$_0 }, set: function (t) { this.position_aswgsb$_0 = t } }), yr.prototype.ensureCapacity_za3lpa$$default = function (t) { this.buffer_0.length < t && (this.buffer_0 = ht(this.buffer_0, ct(t, 2 * this.buffer_0.length | 0))) }, yr.prototype.append_o3ifnw$ = function (t) { var e; this.ensureCapacity_za3lpa$(), this.buffer_0[(e = this.position, this.position = e + 1 | 0, e)] = t }, yr.prototype.build = function () { return ht(this.buffer_0, this.position) }, yr.$metadata$ = { kind: a, simpleName: "ShortArrayBuilder", interfaces: [ba] }, mr.prototype.collectionSize_wikn$ = function (t) { return t.length }, mr.prototype.toBuilder_wikn$ = function (t) { return new vr(t) }, mr.prototype.empty = function () { return new Int32Array(0) }, mr.prototype.readElement_8pvye7$$default = function (t, e, i, a) { i.append_kcn2v3$(t.decodeIntElement_szpzho$(this.descriptor, e)) }, mr.prototype.writeContent_q3xt5$ = function (t, e, i) { for (var a = 0; a < i; a++)t.encodeIntElement_ptg7oe$(this.descriptor, a, e[a]) }, mr.$metadata$ = { kind: o, simpleName: "IntArraySerializer", interfaces: [Ia, Nn] }; var $r = null; function gr() { return null === $r && new mr, $r } function vr(t) { ba.call(this), this.buffer_0 = t, this.position_9owhjc$_0 = t.length, this.ensureCapacity_za3lpa$(10) } function Sr() { Cr = this, Ia.call(this, Ae()) } Object.defineProperty(vr.prototype, "position", { configurable: !0, get: function () { return this.position_9owhjc$_0 }, set: function (t) { this.position_9owhjc$_0 = t } }), vr.prototype.ensureCapacity_za3lpa$$default = function (t) { this.buffer_0.length < t && (this.buffer_0 = dt(this.buffer_0, ct(t, 2 * this.buffer_0.length | 0))) }, vr.prototype.append_kcn2v3$ = function (t) { var e; this.ensureCapacity_za3lpa$(), this.buffer_0[(e = this.position, this.position = e + 1 | 0, e)] = t }, vr.prototype.build = function () { return dt(this.buffer_0, this.position) }, vr.$metadata$ = { kind: a, simpleName: "IntArrayBuilder", interfaces: [ba] }, Sr.prototype.collectionSize_wikn$ = function (t) { return t.length }, Sr.prototype.toBuilder_wikn$ = function (t) { return new Ar(t) }, Sr.prototype.empty = function () { return e.longArray(0) }, Sr.prototype.readElement_8pvye7$$default = function (t, e, i, a) { i.append_8e33dg$(t.decodeLongElement_szpzho$(this.descriptor, e)) }, Sr.prototype.writeContent_q3xt5$ = function (t, e, i) { for (var a = 0; a < i; a++)t.encodeLongElement_j0o2mv$(this.descriptor, a, e[a]) }, Sr.$metadata$ = { kind: o, simpleName: "LongArraySerializer", interfaces: [Ia, Nn] }; var Cr = null; function Er() { return null === Cr && new Sr, Cr } function Ar(t) { ba.call(this), this.buffer_0 = t, this.position_kthxoj$_0 = t.length, this.ensureCapacity_za3lpa$(10) } function br() { Ir = this, Ia.call(this, Ie()) } Object.defineProperty(Ar.prototype, "position", { configurable: !0, get: function () { return this.position_kthxoj$_0 }, set: function (t) { this.position_kthxoj$_0 = t } }), Ar.prototype.ensureCapacity_za3lpa$$default = function (t) { this.buffer_0.length < t && (this.buffer_0 = ut(this.buffer_0, ct(t, 2 * this.buffer_0.length | 0))) }, Ar.prototype.append_8e33dg$ = function (t) { var e; this.ensureCapacity_za3lpa$(), this.buffer_0[(e = this.position, this.position = e + 1 | 0, e)] = t }, Ar.prototype.build = function () { return ut(this.buffer_0, this.position) }, Ar.$metadata$ = { kind: a, simpleName: "LongArrayBuilder", interfaces: [ba] }, br.prototype.collectionSize_wikn$ = function (t) { return t.length }, br.prototype.toBuilder_wikn$ = function (t) { return new Lr(t) }, br.prototype.empty = function () { return new Float32Array(0) }, br.prototype.readElement_8pvye7$$default = function (t, e, i, a) { i.append_nwfnho$(t.decodeFloatElement_szpzho$(this.descriptor, e)) }, br.prototype.writeContent_q3xt5$ = function (t, e, i) { for (var a = 0; a < i; a++)t.encodeFloatElement_lf6hpt$(this.descriptor, a, e[a]) }, br.$metadata$ = { kind: o, simpleName: "FloatArraySerializer", interfaces: [Ia, Nn] }; var Ir = null; function wr() { return null === Ir && new br, Ir } function Lr(t) { ba.call(this), this.buffer_0 = t, this.position_gfqw9x$_0 = t.length, this.ensureCapacity_za3lpa$(10) } function Tr() { kr = this, Ia.call(this, Le()) } Object.defineProperty(Lr.prototype, "position", { configurable: !0, get: function () { return this.position_gfqw9x$_0 }, set: function (t) { this.position_gfqw9x$_0 = t } }), Lr.prototype.ensureCapacity_za3lpa$$default = function (t) { this.buffer_0.length < t && (this.buffer_0 = _t(this.buffer_0, ct(t, 2 * this.buffer_0.length | 0))) }, Lr.prototype.append_nwfnho$ = function (t) { var e; this.ensureCapacity_za3lpa$(), this.buffer_0[(e = this.position, this.position = e + 1 | 0, e)] = t }, Lr.prototype.build = function () { return _t(this.buffer_0, this.position) }, Lr.$metadata$ = { kind: a, simpleName: "FloatArrayBuilder", interfaces: [ba] }, Tr.prototype.collectionSize_wikn$ = function (t) { return t.length }, Tr.prototype.toBuilder_wikn$ = function (t) { return new Pr(t) }, Tr.prototype.empty = function () { return new Float64Array(0) }, Tr.prototype.readElement_8pvye7$$default = function (t, e, i, a) { i.append_tq0o01$(t.decodeDoubleElement_szpzho$(this.descriptor, e)) }, Tr.prototype.writeContent_q3xt5$ = function (t, e, i) { for (var a = 0; a < i; a++)t.encodeDoubleElement_powrwi$(this.descriptor, a, e[a]) }, Tr.$metadata$ = { kind: o, simpleName: "DoubleArraySerializer", interfaces: [Ia, Nn] }; var kr = null; function Rr() { return null === kr && new Tr, kr } function Pr(t) { ba.call(this), this.buffer_0 = t, this.position_qka0uq$_0 = t.length, this.ensureCapacity_za3lpa$(10) } function Mr() { Nr = this, Ia.call(this, ye()) } Object.defineProperty(Pr.prototype, "position", { configurable: !0, get: function () { return this.position_qka0uq$_0 }, set: function (t) { this.position_qka0uq$_0 = t } }), Pr.prototype.ensureCapacity_za3lpa$$default = function (t) { this.buffer_0.length < t && (this.buffer_0 = ft(this.buffer_0, ct(t, 2 * this.buffer_0.length | 0))) }, Pr.prototype.append_tq0o01$ = function (t) { var e; this.ensureCapacity_za3lpa$(), this.buffer_0[(e = this.position, this.position = e + 1 | 0, e)] = t }, Pr.prototype.build = function () { return ft(this.buffer_0, this.position) }, Pr.$metadata$ = { kind: a, simpleName: "DoubleArrayBuilder", interfaces: [ba] }, Mr.prototype.collectionSize_wikn$ = function (t) { return t.length }, Mr.prototype.toBuilder_wikn$ = function (t) { return new xr(t) }, Mr.prototype.empty = function () { return e.charArray(0) }, Mr.prototype.readElement_8pvye7$$default = function (t, e, i, a) { i.append_8e8zqy$(yt(t.decodeCharElement_szpzho$(this.descriptor, e))) }, Mr.prototype.writeContent_q3xt5$ = function (t, e, i) { for (var a = 0; a < i; a++)t.encodeCharElement_j0tz0d$(this.descriptor, a, e[a]) }, Mr.$metadata$ = { kind: o, simpleName: "CharArraySerializer", interfaces: [Ia, Nn] }; var Nr = null; function Dr() { return null === Nr && new Mr, Nr } function xr(t) { ba.call(this), this.buffer_0 = t, this.position_tpcwbb$_0 = t.length, this.ensureCapacity_za3lpa$(10) } function zr() { Fr = this, Ia.call(this, ke()) } Object.defineProperty(xr.prototype, "position", { configurable: !0, get: function () { return this.position_tpcwbb$_0 }, set: function (t) { this.position_tpcwbb$_0 = t } }), xr.prototype.ensureCapacity_za3lpa$$default = function (t) { this.buffer_0.length < t && (this.buffer_0 = mt(this.buffer_0, ct(t, 2 * this.buffer_0.length | 0))) }, xr.prototype.append_8e8zqy$ = function (t) { var e; this.ensureCapacity_za3lpa$(), this.buffer_0[(e = this.position, this.position = e + 1 | 0, e)] = t }, xr.prototype.build = function () { return mt(this.buffer_0, this.position) }, xr.$metadata$ = { kind: a, simpleName: "CharArrayBuilder", interfaces: [ba] }, zr.prototype.collectionSize_wikn$ = function (t) { return t.length }, zr.prototype.toBuilder_wikn$ = function (t) { return new jr(t) }, zr.prototype.empty = function () { return e.booleanArray(0) }, zr.prototype.readElement_8pvye7$$default = function (t, e, i, a) { i.append_vft4zs$(t.decodeBooleanElement_szpzho$(this.descriptor, e)) }, zr.prototype.writeContent_q3xt5$ = function (t, e, i) { for (var a = 0; a < i; a++)t.encodeBooleanElement_qh7jdn$(this.descriptor, a, e[a]) }, zr.$metadata$ = { kind: o, simpleName: "BooleanArraySerializer", interfaces: [Ia, Nn] }; var Or, Fr = null; function Br() { return null === Fr && new zr, Fr } function jr(t) { ba.call(this), this.buffer_0 = t, this.position_fkn8lr$_0 = t.length, this.ensureCapacity_za3lpa$(10) } function Hr(t, e) { this.serialName_h9gugr$_0 = t, this.kind_rqp61y$_0 = e } function qr(t, e) { return function (t) { var e, i = Or.keys; for (e = i.iterator(); e.hasNext();) { var a = e.next(), r = Ur(M(a.simpleName)); if (Ot(t, "kotlin." + r, !0) || Ot(t, r, !0)) throw R(Ft("\n                The name of serial descriptor should uniquely identify associated serializer.\n                For serial name " + t + " there already exist " + Ur(r) + "Serializer.\n                Please refer to SerialDescriptor documentation for additional information.\n            ")) } }(t), new Hr(t, e) } function Ur(t) { var e; if (t.length > 0) { var i = N(t.charCodeAt(0)); e = (Bt(yt(i)) ? jt(yt(i)) : String.fromCharCode(yt(i))).toString() + t.substring(1) } else e = t; return e } function Gr(t) { var i; return null == (i = Or.get_11rb$(t)) || e.isType(i, Nn) ? i : n() } function Wr() { Yr = this, this.$delegate_t0wm8i$_0 = new er("kotlin.Unit", m) } Object.defineProperty(jr.prototype, "position", { configurable: !0, get: function () { return this.position_fkn8lr$_0 }, set: function (t) { this.position_fkn8lr$_0 = t } }), jr.prototype.ensureCapacity_za3lpa$$default = function (t) { this.buffer_0.length < t && (this.buffer_0 = $t(this.buffer_0, ct(t, 2 * this.buffer_0.length | 0))) }, jr.prototype.append_vft4zs$ = function (t) { var e; this.ensureCapacity_za3lpa$(), this.buffer_0[(e = this.position, this.position = e + 1 | 0, e)] = t }, jr.prototype.build = function () { return $t(this.buffer_0, this.position) }, jr.$metadata$ = { kind: a, simpleName: "BooleanArrayBuilder", interfaces: [ba] }, Object.defineProperty(Hr.prototype, "serialName", { get: function () { return this.serialName_h9gugr$_0 } }), Object.defineProperty(Hr.prototype, "kind", { get: function () { return this.kind_rqp61y$_0 } }), Object.defineProperty(Hr.prototype, "elementsCount", { configurable: !0, get: function () { return 0 } }), Hr.prototype.getElementName_za3lpa$ = function (t) { return this.error_0() }, Hr.prototype.getElementIndex_61zpoe$ = function (t) { return this.error_0() }, Hr.prototype.isElementOptional_za3lpa$ = function (t) { return this.error_0() }, Hr.prototype.getElementDescriptor_za3lpa$ = function (t) { return this.error_0() }, Hr.prototype.getElementAnnotations_za3lpa$ = function (t) { return this.error_0() }, Hr.prototype.toString = function () { return "PrimitiveDescriptor(" + this.serialName + ")" }, Hr.prototype.error_0 = function () { throw O("Primitive descriptor does not have elements") }, Hr.$metadata$ = { kind: a, simpleName: "PrimitiveSerialDescriptor", interfaces: [Fe] }, Object.defineProperty(Wr.prototype, "descriptor", { configurable: !0, get: function () { return this.$delegate_t0wm8i$_0.descriptor } }), Wr.prototype.deserialize_bq71mq$ = function (t) { return this.$delegate_t0wm8i$_0.deserialize_bq71mq$(t) }, Wr.prototype.serialize_55azsf$ = function (t, e) { return this.$delegate_t0wm8i$_0.serialize_55azsf$(t, e) }, Wr.$metadata$ = { kind: o, simpleName: "UnitSerializer", interfaces: [Nn] }; var Yr = null; function Vr() { return null === Yr && new Wr, Yr } function Kr() { Xr = this, this.descriptor_vdtvaz$_0 = new Hr("kotlin.Boolean", ai()) } Object.defineProperty(Kr.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_vdtvaz$_0 } }), Kr.prototype.serialize_55azsf$ = function (t, e) { t.encodeBoolean_6taknv$(e) }, Kr.prototype.deserialize_bq71mq$ = function (t) { return t.decodeBoolean() }, Kr.$metadata$ = { kind: o, simpleName: "BooleanSerializer", interfaces: [Nn] }; var Xr = null; function Jr() { return null === Xr && new Kr, Xr } function Zr() { Qr = this, this.descriptor_f6vlf1$_0 = new Hr("kotlin.Byte", oi()) } Object.defineProperty(Zr.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_f6vlf1$_0 } }), Zr.prototype.serialize_55azsf$ = function (t, e) { t.encodeByte_s8j3t7$(e) }, Zr.prototype.deserialize_bq71mq$ = function (t) { return t.decodeByte() }, Zr.$metadata$ = { kind: o, simpleName: "ByteSerializer", interfaces: [Nn] }; var Qr = null; function tn() { return null === Qr && new Zr, Qr } function en() { an = this, this.descriptor_yvjeup$_0 = new Hr("kotlin.Short", di()) } Object.defineProperty(en.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_yvjeup$_0 } }), en.prototype.serialize_55azsf$ = function (t, e) { t.encodeShort_mq22fl$(e) }, en.prototype.deserialize_bq71mq$ = function (t) { return t.decodeShort() }, en.$metadata$ = { kind: o, simpleName: "ShortSerializer", interfaces: [Nn] }; var an = null; function rn() { return null === an && new en, an } function nn() { on = this, this.descriptor_xrjflq$_0 = new Hr("kotlin.Int", fi()) } Object.defineProperty(nn.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_xrjflq$_0 } }), nn.prototype.serialize_55azsf$ = function (t, e) { t.encodeInt_za3lpa$(e) }, nn.prototype.deserialize_bq71mq$ = function (t) { return t.decodeInt() }, nn.$metadata$ = { kind: o, simpleName: "IntSerializer", interfaces: [Nn] }; var on = null; function sn() { return null === on && new nn, on } function ln() { cn = this, this.descriptor_q4z687$_0 = new Hr("kotlin.Long", $i()) } Object.defineProperty(ln.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_q4z687$_0 } }), ln.prototype.serialize_55azsf$ = function (t, e) { t.encodeLong_s8cxhz$(e) }, ln.prototype.deserialize_bq71mq$ = function (t) { return t.decodeLong() }, ln.$metadata$ = { kind: o, simpleName: "LongSerializer", interfaces: [Nn] }; var cn = null; function pn() { return null === cn && new ln, cn } function hn() { dn = this, this.descriptor_7mw1sh$_0 = new Hr("kotlin.Float", Si()) } Object.defineProperty(hn.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_7mw1sh$_0 } }), hn.prototype.serialize_55azsf$ = function (t, e) { t.encodeFloat_mx4ult$(e) }, hn.prototype.deserialize_bq71mq$ = function (t) { return t.decodeFloat() }, hn.$metadata$ = { kind: o, simpleName: "FloatSerializer", interfaces: [Nn] }; var dn = null; function un() { return null === dn && new hn, dn } function _n() { fn = this, this.descriptor_2hn2sc$_0 = new Hr("kotlin.Double", Ai()) } Object.defineProperty(_n.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_2hn2sc$_0 } }), _n.prototype.serialize_55azsf$ = function (t, e) { t.encodeDouble_14dthe$(e) }, _n.prototype.deserialize_bq71mq$ = function (t) { return t.decodeDouble() }, _n.$metadata$ = { kind: o, simpleName: "DoubleSerializer", interfaces: [Nn] }; var fn = null; function yn() { return null === fn && new _n, fn } function mn() { $n = this, this.descriptor_5mpy8x$_0 = new Hr("kotlin.Char", ci()) } Object.defineProperty(mn.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_5mpy8x$_0 } }), mn.prototype.serialize_55azsf$ = function (t, e) { t.encodeChar_s8itvh$(e) }, mn.prototype.deserialize_bq71mq$ = function (t) { return t.decodeChar() }, mn.$metadata$ = { kind: o, simpleName: "CharSerializer", interfaces: [Nn] }; var $n = null; function gn() { return null === $n && new mn, $n } function vn() { En = this, this.descriptor_sum718$_0 = new Hr("kotlin.String", wi()) } Object.defineProperty(vn.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_sum718$_0 } }), vn.prototype.serialize_55azsf$ = function (t, e) { t.encodeString_61zpoe$(e) }, vn.prototype.deserialize_bq71mq$ = function (t) { return t.decodeString() }, vn.$metadata$ = { kind: o, simpleName: "StringSerializer", interfaces: [Nn] }; var Sn, Cn, En = null; function An() { return null === En && new vn, En } function bn() { this.tagStack_cfsfm$_0 = g() } function In() { bn.call(this) } function wn() { this.tagStack_h2rpra$_0 = g(), this.flag_kguhq4$_0 = !1 } function Ln() { wn.call(this) } function Tn(t, e) { this.keySerializer_0 = t, this.valueSerializer_0 = e } function kn(t, e) { var i, a; Tn.call(this, t, e), this.descriptor_cnmk75$_0 = Ge("kotlin.collections.Map.Entry", zi(), [], (i = t, a = e, function (t) { return t.element_vxrguq$("key", i.descriptor), t.element_vxrguq$("value", a.descriptor), m })) } function Rn(t, e) { this.key_7uv6mv$_0 = t, this.value_gjenjd$_0 = e } function Pn(t, e) { var i, a; Tn.call(this, t, e), this.descriptor_utc4rp$_0 = qe("kotlin.Pair", [], (i = t, a = e, function (t) { return t.element_vxrguq$("first", i.descriptor), t.element_vxrguq$("second", a.descriptor), m })) } function Mn(t, e, i) { var a; this.aSerializer_0 = t, this.bSerializer_0 = e, this.cSerializer_0 = i, this.descriptor_73a6vr$_0 = qe("kotlin.Triple", [], (a = this, function (t) { return t.element_vxrguq$("first", a.aSerializer_0.descriptor), t.element_vxrguq$("second", a.bSerializer_0.descriptor), t.element_vxrguq$("third", a.cSerializer_0.descriptor), m })) } function Nn() { } function Dn() { } function xn() { } function zn() { } function On(t, e, i, a) { zn.call(this), this.class2ContextualFactory_0 = t, this.polyBase2Serializers = e, this.polyBase2NamedSerializers_0 = i, this.polyBase2DefaultProvider_0 = a } function Fn() { } function Bn(t) { Fn.call(this), this.serializer = t } function jn(t) { Fn.call(this), this.provider = t } function Hn() { } function qn(t) { var e; ca.call(this), this.baseClass_x5jvam$_0 = t, this.descriptor_nog3ww$_0 = xe(Ge("kotlinx.serialization.Polymorphic", Yi(), [], (e = this, function (t) { return t.element_vxrguq$("type", Me().descriptor), t.element_vxrguq$("value", Ge("kotlinx.serialization.Polymorphic<" + h(e.baseClass.simpleName) + ">", Qe(), [])), m })), this.baseClass) } function Un(t, e, i) { var a; return null != (a = t.findPolymorphicSerializerOrNull_ca6uye$(e, i)) ? a : pa(i, t.baseClass) } function Gn(t, i, a) { var r; return null != (r = t.findPolymorphicSerializerOrNull_kjsxpj$(i, a)) ? r : ha(e.getKClassFromExpression(a), t.baseClass) } function Wn(t, e) { this.this$groupingBy = t, this.closure$keySelector = e } function Yn(t, e, i, a) { var r, n; if (ca.call(this), this.baseClass_a0a98o$_0 = e, this.descriptor_gganzq$_0 = Ge(t, Ui(), [], (r = this, n = a, function (t) { t.element_vxrguq$("type", Me().descriptor); var e = Ge("kotlinx.serialization.Sealed<" + h(r.baseClass.simpleName) + ">", Qe(), [], function (t) { return function (e) { var i, a = t; for (i = 0; i !== a.length; ++i) { var r = a[i].descriptor; e.element_vxrguq$(r.serialName, r) } return m } }(n)); return t.element_vxrguq$("value", e), m })), this.class2Serializer_0 = null, this.serialName2Serializer_0 = null, i.length !== a.length) throw R("All subclasses of sealed class " + h(this.baseClass.simpleName) + " should be marked @Serializable"); this.class2Serializer_0 = L(Kt(i, a)); var o, s = new Wn(this.class2Serializer_0.entries, Vn), l = W(); for (o = s.sourceIterator(); o.hasNext();) { var c = o.next(), p = s.keyOf_11rb$(c), d = l.get_11rb$(p), u = l.put_xwzc9p$; if (null == d && l.containsKey_11rb$(p), null != d) throw O(("Multiple sealed subclasses of '" + this.baseClass + "' have the same serial name '" + p + "': '" + d.key + "', '" + c.key + "'").toString()); u.call(l, p, c) } var _, f = Zt(Jt(l.size)); for (_ = l.entries.iterator(); _.hasNext();) { var y = _.next(); f.put_xwzc9p$(y.key, y.value.value) } this.serialName2Serializer_0 = f } function Vn(t) { return t.value.descriptor.serialName } function Kn() { } function Xn() { } function Jn() { this.name = "SerializationException" } function Zn(t, e) { return e = e || Object.create(Jn.prototype), R(t, e), Jn.call(e), e } function Qn(t, e, i) { return i = i || Object.create(Jn.prototype), Vt.call(i, t, e), Jn.call(i), i } function to(t, e) { Qn(t, e, this), this.name = "MissingFieldException" } function eo(t) { Zn(t, this), this.name = "UnknownFieldException" } function io(t, e) { var i; return null != (i = ro(t, e, !0)) ? i : uo(rr(e)) } function ao(t, e) { return ro(t, e, !1) } function ro(t, a, r) { var o, s, l, p = rr(a), h = a.isMarkedNullable, _ = a.arguments, f = u(d(_, 10)); for (l = _.iterator(); l.hasNext();) { var y, m = l.next(), $ = f.add_11rb$, g = m.type; if (null == g) throw R(("Star projections in type arguments are not allowed, but had " + a).toString()); y = g, $.call(f, y) } var v, S, C = f; return null != (v = null != (s = C.isEmpty() ? null != (o = oo(p)) ? o : t.getContextual_2n2k9f$(p) : function (t, a, r, o) { var s, l, p, h; if (o) { var _, f = Qt("serializer", function (t, e) { return io(t, e) }.bind(null, t)), y = u(d(a, 10)); for (_ = a.iterator(); _.hasNext();) { var m = _.next(); y.add_11rb$(f(m)) } s = y } else { var $, g = u(d(a, 10)); for ($ = a.iterator(); $.hasNext();) { var v, S = $.next(), C = g.add_11rb$; if (null == (v = ao(t, S))) return null; C.call(g, v) } s = g } var E = s; if (c(r, i(te)) || c(r, i(ee)) || c(r, i(ie)) || c(r, i(j))) h = new La(E.get_za3lpa$(0)); else if (c(r, i(U))) h = new ka(E.get_za3lpa$(0)); else if (c(r, i(ae)) || c(r, i(re)) || c(r, i(H))) h = new Ta(E.get_za3lpa$(0)); else if (c(r, i(X))) h = new Pa(E.get_za3lpa$(0), E.get_za3lpa$(1)); else if (c(r, i(Yt)) || c(r, i(ne)) || c(r, i(Y))) h = new Ra(E.get_za3lpa$(0), E.get_za3lpa$(1)); else if (c(r, i(Gt))) h = _e(E.get_za3lpa$(0), E.get_za3lpa$(1)); else if (c(r, i(oe))) h = ue(E.get_za3lpa$(0), E.get_za3lpa$(1)); else if (c(r, i(Wt))) h = fe(E.get_za3lpa$(0), E.get_za3lpa$(1), E.get_za3lpa$(2)); else { var A; if (fo(r)) return e.isType(A = Ne(e.isType(l = a.get_za3lpa$(0).classifier, ot) ? l : n(), E.get_za3lpa$(0)), Nn) ? A : n(); var b = P(E); h = null != (p = _o(r, b.slice())) ? p : no(t, r, E) } return h }(t, C, p, r)) ? e.isType(S = s, Nn) ? S : n() : null) ? function (t, i) { var a; return i ? de(t) : e.isType(a = t, Nn) ? a : n() }(v, h) : null } function no(t, e, i) { var a; return null != (a = oo(e)) ? a : t.getContextual_2n2k9f$(e, i) } function oo(t) { var e; return null != (e = co(t)) ? e : Gr(t) } function so(t, e) { if (!Q(t).contains_mef7kx$(e)) throw new se("Index " + e + " out of bounds " + Q(t)); return t[e] } function lo(t, e) { if (!le(t).contains_mef7kx$(e)) throw new se("Index " + e + " out of bounds " + le(t)); return t[e] } function co(t) { var i, a, r; return null != (r = _o(t, [])) ? r : e.isType(a = null != (i = ce(t).Companion) ? i.serializer() : null, Nn) ? a : null } function po(t, e) { return P(t) } function ho(t, e) { return e.isInstance_s8jyv4$(t) } function uo(t) { throw Zn("Serializer for class '" + h(t.simpleName) + "' is not found.\nMark the class as @Serializable or provide the serializer explicitly.\nOn Kotlin/JS explicitly declared serializer should be used for interfaces and enums without @Serializable annotation") } function _o(t, a) { var r, o; try { var s = he(t, i(yo)); return e.isType(s, Nn) ? e.isType(r = s, Nn) ? r : n() : e.isType(s, lr) ? e.isType(o = s.serializer_lu48y9$(a.slice()), Nn) ? o : n() : function (t) { var e; return "interface" == (null != (e = ce(t).$metadata$) ? e.kind : null) }(t) ? new qn(t) : null } catch (t) { return null } } function fo(t) { return null != t ? t.equals(pe) : null } function yo(t) { this.serializer = t } Object.defineProperty(bn.prototype, "serializersModule", { configurable: !0, get: function () { return Cn } }), bn.prototype.encodeTaggedValue_dpg7wc$ = function (t, i) { throw Zn("Non-serializable " + e.getKClassFromExpression(i) + " is not supported by " + e.getKClassFromExpression(this) + " encoder") }, bn.prototype.encodeTaggedNull_11rb$ = function (t) { throw Zn("null is not supported") }, bn.prototype.encodeTaggedInt_dpg1yx$ = function (t, e) { this.encodeTaggedValue_dpg7wc$(t, e) }, bn.prototype.encodeTaggedByte_19qe40$ = function (t, e) { this.encodeTaggedValue_dpg7wc$(t, e) }, bn.prototype.encodeTaggedShort_veccj0$ = function (t, e) { this.encodeTaggedValue_dpg7wc$(t, e) }, bn.prototype.encodeTaggedLong_19wkf8$ = function (t, e) { this.encodeTaggedValue_dpg7wc$(t, e) }, bn.prototype.encodeTaggedFloat_vlf4p8$ = function (t, e) { this.encodeTaggedValue_dpg7wc$(t, e) }, bn.prototype.encodeTaggedDouble_e37ph5$ = function (t, e) { this.encodeTaggedValue_dpg7wc$(t, e) }, bn.prototype.encodeTaggedBoolean_iuyhfk$ = function (t, e) { this.encodeTaggedValue_dpg7wc$(t, e) }, bn.prototype.encodeTaggedChar_19qo1q$ = function (t, e) { this.encodeTaggedValue_dpg7wc$(t, N(e)) }, bn.prototype.encodeTaggedString_l9l8mx$ = function (t, e) { this.encodeTaggedValue_dpg7wc$(t, e) }, bn.prototype.encodeTaggedEnum_4xdzqf$ = function (t, e, i) { this.encodeTaggedValue_dpg7wc$(t, i) }, bn.prototype.encodeTaggedInline_gaombr$ = function (t, e) { return this.pushTag_11rb$(t), this }, bn.prototype.encodeInline_24f42q$ = function (t) { return this.encodeTaggedInline_gaombr$(this.popTag(), t) }, bn.prototype.encodeElement_qp90hq$_0 = function (t, e) { var i = this.getTag_av9bu7$(t, e); return this.pushTag_11rb$(i), !0 }, bn.prototype.encodeNotNullMark = function () { }, bn.prototype.encodeNull = function () { this.encodeTaggedNull_11rb$(this.popTag()) }, bn.prototype.encodeBoolean_6taknv$ = function (t) { this.encodeTaggedBoolean_iuyhfk$(this.popTag(), t) }, bn.prototype.encodeByte_s8j3t7$ = function (t) { this.encodeTaggedByte_19qe40$(this.popTag(), t) }, bn.prototype.encodeShort_mq22fl$ = function (t) { this.encodeTaggedShort_veccj0$(this.popTag(), t) }, bn.prototype.encodeInt_za3lpa$ = function (t) { this.encodeTaggedInt_dpg1yx$(this.popTag(), t) }, bn.prototype.encodeLong_s8cxhz$ = function (t) { this.encodeTaggedLong_19wkf8$(this.popTag(), t) }, bn.prototype.encodeFloat_mx4ult$ = function (t) { this.encodeTaggedFloat_vlf4p8$(this.popTag(), t) }, bn.prototype.encodeDouble_14dthe$ = function (t) { this.encodeTaggedDouble_e37ph5$(this.popTag(), t) }, bn.prototype.encodeChar_s8itvh$ = function (t) { this.encodeTaggedChar_19qo1q$(this.popTag(), t) }, bn.prototype.encodeString_61zpoe$ = function (t) { this.encodeTaggedString_l9l8mx$(this.popTag(), t) }, bn.prototype.encodeEnum_szpzho$ = function (t, e) { this.encodeTaggedEnum_4xdzqf$(this.popTag(), t, e) }, bn.prototype.beginStructure_24f42q$ = function (t) { return this }, bn.prototype.endStructure_24f42q$ = function (t) { this.tagStack_cfsfm$_0.isEmpty() || this.popTag(), this.endEncode_24f42q$(t) }, bn.prototype.endEncode_24f42q$ = function (t) { }, bn.prototype.encodeBooleanElement_qh7jdn$ = function (t, e, i) { this.encodeTaggedBoolean_iuyhfk$(this.getTag_av9bu7$(t, e), i) }, bn.prototype.encodeByteElement_j0u8y3$ = function (t, e, i) { this.encodeTaggedByte_19qe40$(this.getTag_av9bu7$(t, e), i) }, bn.prototype.encodeShortElement_l83pjl$ = function (t, e, i) { this.encodeTaggedShort_veccj0$(this.getTag_av9bu7$(t, e), i) }, bn.prototype.encodeIntElement_ptg7oe$ = function (t, e, i) { this.encodeTaggedInt_dpg1yx$(this.getTag_av9bu7$(t, e), i) }, bn.prototype.encodeLongElement_j0o2mv$ = function (t, e, i) { this.encodeTaggedLong_19wkf8$(this.getTag_av9bu7$(t, e), i) }, bn.prototype.encodeFloatElement_lf6hpt$ = function (t, e, i) { this.encodeTaggedFloat_vlf4p8$(this.getTag_av9bu7$(t, e), i) }, bn.prototype.encodeDoubleElement_powrwi$ = function (t, e, i) { this.encodeTaggedDouble_e37ph5$(this.getTag_av9bu7$(t, e), i) }, bn.prototype.encodeCharElement_j0tz0d$ = function (t, e, i) { this.encodeTaggedChar_19qo1q$(this.getTag_av9bu7$(t, e), i) }, bn.prototype.encodeStringElement_iij8qq$ = function (t, e, i) { this.encodeTaggedString_l9l8mx$(this.getTag_av9bu7$(t, e), i) }, bn.prototype.encodeInlineElement_szpzho$ = function (t, e) { return this.encodeTaggedInline_gaombr$(this.getTag_av9bu7$(t, e), t.getElementDescriptor_za3lpa$(e)) }, bn.prototype.encodeSerializableElement_r4qlx7$ = function (t, e, i, a) { this.encodeElement_qp90hq$_0(t, e) && this.encodeSerializableValue_tf03ej$(i, a) }, bn.prototype.encodeNullableSerializableElement_qw92s8$ = function (t, e, i, a) { this.encodeElement_qp90hq$_0(t, e) && this.encodeNullableSerializableValue_f4686g$(i, a) }, Object.defineProperty(bn.prototype, "currentTag", { configurable: !0, get: function () { return Ht(this.tagStack_cfsfm$_0) } }), Object.defineProperty(bn.prototype, "currentTagOrNull", { configurable: !0, get: function () { return qt(this.tagStack_cfsfm$_0) } }), bn.prototype.pushTag_11rb$ = function (t) { this.tagStack_cfsfm$_0.add_11rb$(t) }, bn.prototype.popTag = function () { if (this.tagStack_cfsfm$_0.isEmpty()) throw Zn("No tag in stack for requested element"); return this.tagStack_cfsfm$_0.removeAt_za3lpa$(Ut(this.tagStack_cfsfm$_0)) }, bn.$metadata$ = { kind: a, simpleName: "TaggedEncoder", interfaces: [la, sa] }, In.prototype.getTag_av9bu7$ = function (t, e) { return this.nested_61zpoe$(this.elementName_szpzho$(t, e)) }, In.prototype.nested_61zpoe$ = function (t) { var e; return this.composeName_puj7f4$(null != (e = this.currentTagOrNull) ? e : "", t) }, In.prototype.elementName_szpzho$ = function (t, e) { return t.getElementName_za3lpa$(e) }, In.prototype.composeName_puj7f4$ = function (t, e) { return 0 === t.length ? e : t + "." + e }, In.$metadata$ = { kind: a, simpleName: "NamedValueEncoder", interfaces: [bn] }, Object.defineProperty(wn.prototype, "serializersModule", { configurable: !0, get: function () { return Cn } }), wn.prototype.decodeTaggedValue_11rb$ = function (t) { throw Zn(e.getKClassFromExpression(this).toString() + " can't retrieve untyped values") }, wn.prototype.decodeTaggedNotNullMark_11rb$ = function (t) { return !0 }, wn.prototype.decodeTaggedNull_11rb$ = function (t) { return null }, wn.prototype.decodeTaggedBoolean_11rb$ = function (t) { var e; return "boolean" == typeof (e = this.decodeTaggedValue_11rb$(t)) ? e : n() }, wn.prototype.decodeTaggedByte_11rb$ = function (t) { var e; return "number" == typeof (e = this.decodeTaggedValue_11rb$(t)) ? e : n() }, wn.prototype.decodeTaggedShort_11rb$ = function (t) { var e; return "number" == typeof (e = this.decodeTaggedValue_11rb$(t)) ? e : n() }, wn.prototype.decodeTaggedInt_11rb$ = function (t) { var e; return "number" == typeof (e = this.decodeTaggedValue_11rb$(t)) ? e : n() }, wn.prototype.decodeTaggedLong_11rb$ = function (t) { var i; return e.isType(i = this.decodeTaggedValue_11rb$(t), e.Long) ? i : n() }, wn.prototype.decodeTaggedFloat_11rb$ = function (t) { var e; return "number" == typeof (e = this.decodeTaggedValue_11rb$(t)) ? e : n() }, wn.prototype.decodeTaggedDouble_11rb$ = function (t) { var e; return "number" == typeof (e = this.decodeTaggedValue_11rb$(t)) ? e : n() }, wn.prototype.decodeTaggedChar_11rb$ = function (t) { var i; return e.isChar(i = this.decodeTaggedValue_11rb$(t)) ? i : n() }, wn.prototype.decodeTaggedString_11rb$ = function (t) { var e; return "string" == typeof (e = this.decodeTaggedValue_11rb$(t)) ? e : n() }, wn.prototype.decodeTaggedEnum_gaombr$ = function (t, e) { var i; return "number" == typeof (i = this.decodeTaggedValue_11rb$(t)) ? i : n() }, wn.prototype.decodeTaggedInline_gaombr$ = function (t, e) { return this.pushTag_11rb$(t), this }, wn.prototype.decodeSerializableValue_19c8k5$ = function (t, e) { return this.decodeSerializableValue_w63s0f$(t) }, wn.prototype.decodeInline_24f42q$ = function (t) { return this.decodeTaggedInline_gaombr$(this.popTag(), t) }, wn.prototype.decodeNotNullMark = function () { var t; if (null == (t = this.currentTagOrNull)) return !1; var e = t; return this.decodeTaggedNotNullMark_11rb$(e) }, wn.prototype.decodeNull = function () { return null }, wn.prototype.decodeBoolean = function () { return this.decodeTaggedBoolean_11rb$(this.popTag()) }, wn.prototype.decodeByte = function () { return this.decodeTaggedByte_11rb$(this.popTag()) }, wn.prototype.decodeShort = function () { return this.decodeTaggedShort_11rb$(this.popTag()) }, wn.prototype.decodeInt = function () { return this.decodeTaggedInt_11rb$(this.popTag()) }, wn.prototype.decodeLong = function () { return this.decodeTaggedLong_11rb$(this.popTag()) }, wn.prototype.decodeFloat = function () { return this.decodeTaggedFloat_11rb$(this.popTag()) }, wn.prototype.decodeDouble = function () { return this.decodeTaggedDouble_11rb$(this.popTag()) }, wn.prototype.decodeChar = function () { return this.decodeTaggedChar_11rb$(this.popTag()) }, wn.prototype.decodeString = function () { return this.decodeTaggedString_11rb$(this.popTag()) }, wn.prototype.decodeEnum_24f42q$ = function (t) { return this.decodeTaggedEnum_gaombr$(this.popTag(), t) }, wn.prototype.beginStructure_24f42q$ = function (t) { return this }, wn.prototype.endStructure_24f42q$ = function (t) { }, wn.prototype.decodeBooleanElement_szpzho$ = function (t, e) { return this.decodeTaggedBoolean_11rb$(this.getTag_av9bu7$(t, e)) }, wn.prototype.decodeByteElement_szpzho$ = function (t, e) { return this.decodeTaggedByte_11rb$(this.getTag_av9bu7$(t, e)) }, wn.prototype.decodeShortElement_szpzho$ = function (t, e) { return this.decodeTaggedShort_11rb$(this.getTag_av9bu7$(t, e)) }, wn.prototype.decodeIntElement_szpzho$ = function (t, e) { return this.decodeTaggedInt_11rb$(this.getTag_av9bu7$(t, e)) }, wn.prototype.decodeLongElement_szpzho$ = function (t, e) { return this.decodeTaggedLong_11rb$(this.getTag_av9bu7$(t, e)) }, wn.prototype.decodeFloatElement_szpzho$ = function (t, e) { return this.decodeTaggedFloat_11rb$(this.getTag_av9bu7$(t, e)) }, wn.prototype.decodeDoubleElement_szpzho$ = function (t, e) { return this.decodeTaggedDouble_11rb$(this.getTag_av9bu7$(t, e)) }, wn.prototype.decodeCharElement_szpzho$ = function (t, e) { return this.decodeTaggedChar_11rb$(this.getTag_av9bu7$(t, e)) }, wn.prototype.decodeStringElement_szpzho$ = function (t, e) { return this.decodeTaggedString_11rb$(this.getTag_av9bu7$(t, e)) }, wn.prototype.decodeInlineElement_szpzho$ = function (t, e) { return this.decodeTaggedInline_gaombr$(this.getTag_av9bu7$(t, e), t.getElementDescriptor_za3lpa$(e)) }, wn.prototype.decodeSerializableElement_12e8id$$default = function (t, e, i, a) { return this.tagBlock_lngyui$_0(this.getTag_av9bu7$(t, e), (r = i, n = a, o = this, function () { return o.decodeSerializableValue_19c8k5$(r, n) })); var r, n, o }, wn.prototype.decodeNullableSerializableElement_8viuyw$$default = function (t, e, i, a) { return this.tagBlock_lngyui$_0(this.getTag_av9bu7$(t, e), (r = this, n = i, o = a, function () { return r.decodeNotNullMark() ? r.decodeSerializableValue_19c8k5$(n, o) : r.decodeNull() })); var r, n, o }, wn.prototype.tagBlock_lngyui$_0 = function (t, e) { this.pushTag_11rb$(t); var i = e(); return this.flag_kguhq4$_0 || this.popTag(), this.flag_kguhq4$_0 = !1, i }, Object.defineProperty(wn.prototype, "currentTag", { configurable: !0, get: function () { return Ht(this.tagStack_h2rpra$_0) } }), Object.defineProperty(wn.prototype, "currentTagOrNull", { configurable: !0, get: function () { return qt(this.tagStack_h2rpra$_0) } }), wn.prototype.pushTag_11rb$ = function (t) { this.tagStack_h2rpra$_0.add_11rb$(t) }, wn.prototype.copyTagsTo_lgvuxj$ = function (t) { t.tagStack_h2rpra$_0.addAll_brywnq$(this.tagStack_h2rpra$_0) }, wn.prototype.popTag = function () { var t = this.tagStack_h2rpra$_0.removeAt_za3lpa$(Ut(this.tagStack_h2rpra$_0)); return this.flag_kguhq4$_0 = !0, t }, wn.$metadata$ = { kind: a, simpleName: "TaggedDecoder", interfaces: [Ji, Xi] }, Ln.prototype.getTag_av9bu7$ = function (t, e) { return this.nested_61zpoe$(this.elementName_szpzho$(t, e)) }, Ln.prototype.nested_61zpoe$ = function (t) { var e; return this.composeName_puj7f4$(null != (e = this.currentTagOrNull) ? e : "", t) }, Ln.prototype.elementName_szpzho$ = function (t, e) { return t.getElementName_za3lpa$(e) }, Ln.prototype.composeName_puj7f4$ = function (t, e) { return 0 === t.length ? e : t + "." + e }, Ln.$metadata$ = { kind: a, simpleName: "NamedValueDecoder", interfaces: [wn] }, Tn.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); i.encodeSerializableElement_r4qlx7$(this.descriptor, 0, this.keySerializer_0, this.get_key_wili$(e)), i.encodeSerializableElement_r4qlx7$(this.descriptor, 1, this.valueSerializer_0, this.get_value_wili$(e)), i.endStructure_24f42q$(this.descriptor) }, Tn.prototype.deserialize_bq71mq$ = function (t) { var i, a, r = t.beginStructure_24f42q$(this.descriptor); if (r.decodeSequentially()) { var o = r.decodeSerializableElement_12e8id$(this.descriptor, 0, this.keySerializer_0), s = r.decodeSerializableElement_12e8id$(this.descriptor, 1, this.valueSerializer_0); return this.toResult_xwzc9p$(o, s) } var l = Sn, c = Sn; t: for (; ;) { var p = r.decodeElementIndex_24f42q$(this.descriptor); switch (p) { case -1: break t; case 0: l = r.decodeSerializableElement_12e8id$(this.descriptor, 0, this.keySerializer_0); break; case 1: c = r.decodeSerializableElement_12e8id$(this.descriptor, 1, this.valueSerializer_0); break; default: throw Zn("Invalid index: " + p) } } if (r.endStructure_24f42q$(this.descriptor), l === Sn) throw Zn("Element 'key' is missing"); if (c === Sn) throw Zn("Element 'value' is missing"); return this.toResult_xwzc9p$(null == (i = l) || e.isType(i, D) ? i : n(), null == (a = c) || e.isType(a, D) ? a : n()) }, Tn.$metadata$ = { kind: a, simpleName: "KeyValueSerializer", interfaces: [Nn] }, Object.defineProperty(Rn.prototype, "key", { get: function () { return this.key_7uv6mv$_0 } }), Object.defineProperty(Rn.prototype, "value", { get: function () { return this.value_gjenjd$_0 } }), Rn.$metadata$ = { kind: a, simpleName: "MapEntry", interfaces: [Gt] }, Rn.prototype.component1 = function () { return this.key }, Rn.prototype.component2 = function () { return this.value }, Rn.prototype.copy_xwzc9p$ = function (t, e) { return new Rn(void 0 === t ? this.key : t, void 0 === e ? this.value : e) }, Rn.prototype.toString = function () { return "MapEntry(key=" + e.toString(this.key) + ", value=" + e.toString(this.value) + ")" }, Rn.prototype.hashCode = function () { var t = 0; return t = 31 * (t = 31 * t + e.hashCode(this.key) | 0) + e.hashCode(this.value) | 0 }, Rn.prototype.equals = function (t) { return this === t || null !== t && "object" == typeof t && Object.getPrototypeOf(this) === Object.getPrototypeOf(t) && e.equals(this.key, t.key) && e.equals(this.value, t.value) }, Object.defineProperty(kn.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_cnmk75$_0 } }), kn.prototype.get_key_wili$ = function (t) { return t.key }, kn.prototype.get_value_wili$ = function (t) { return t.value }, kn.prototype.toResult_xwzc9p$ = function (t, e) { return new Rn(t, e) }, kn.$metadata$ = { kind: a, simpleName: "MapEntrySerializer", interfaces: [Tn] }, Object.defineProperty(Pn.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_utc4rp$_0 } }), Pn.prototype.get_key_wili$ = function (t) { return t.first }, Pn.prototype.get_value_wili$ = function (t) { return t.second }, Pn.prototype.toResult_xwzc9p$ = function (t, e) { return w(t, e) }, Pn.$metadata$ = { kind: a, simpleName: "PairSerializer", interfaces: [Tn] }, Object.defineProperty(Mn.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_73a6vr$_0 } }), Mn.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); i.encodeSerializableElement_r4qlx7$(this.descriptor, 0, this.aSerializer_0, e.first), i.encodeSerializableElement_r4qlx7$(this.descriptor, 1, this.bSerializer_0, e.second), i.encodeSerializableElement_r4qlx7$(this.descriptor, 2, this.cSerializer_0, e.third), i.endStructure_24f42q$(this.descriptor) }, Mn.prototype.deserialize_bq71mq$ = function (t) { var e = t.beginStructure_24f42q$(this.descriptor); return e.decodeSequentially() ? this.decodeSequentially_0(e) : this.decodeStructure_0(e) }, Mn.prototype.decodeSequentially_0 = function (t) { var e = t.decodeSerializableElement_12e8id$(this.descriptor, 0, this.aSerializer_0), i = t.decodeSerializableElement_12e8id$(this.descriptor, 1, this.bSerializer_0), a = t.decodeSerializableElement_12e8id$(this.descriptor, 2, this.cSerializer_0); return t.endStructure_24f42q$(this.descriptor), new Wt(e, i, a) }, Mn.prototype.decodeStructure_0 = function (t) { var i, a, r, o = Sn, s = Sn, l = Sn; t: for (; ;) { var c = t.decodeElementIndex_24f42q$(this.descriptor); switch (c) { case -1: break t; case 0: o = t.decodeSerializableElement_12e8id$(this.descriptor, 0, this.aSerializer_0); break; case 1: s = t.decodeSerializableElement_12e8id$(this.descriptor, 1, this.bSerializer_0); break; case 2: l = t.decodeSerializableElement_12e8id$(this.descriptor, 2, this.cSerializer_0); break; default: throw Zn("Unexpected index " + c) } } if (t.endStructure_24f42q$(this.descriptor), o === Sn) throw Zn("Element 'first' is missing"); if (s === Sn) throw Zn("Element 'second' is missing"); if (l === Sn) throw Zn("Element 'third' is missing"); return new Wt(null == (i = o) || e.isType(i, D) ? i : n(), null == (a = s) || e.isType(a, D) ? a : n(), null == (r = l) || e.isType(r, D) ? r : n()) }, Mn.$metadata$ = { kind: a, simpleName: "TripleSerializer", interfaces: [Nn] }, Nn.$metadata$ = { kind: _, simpleName: "KSerializer", interfaces: [xn, Dn] }, Dn.$metadata$ = { kind: _, simpleName: "SerializationStrategy", interfaces: [] }, xn.$metadata$ = { kind: _, simpleName: "DeserializationStrategy", interfaces: [] }, zn.prototype.getContextual_lmshww$ = function (t) { return this.getContextual_2n2k9f$(t, l()) }, zn.prototype.getContextual_2n2k9f$ = function (t, e, i) { return void 0 === e && (e = l()), i ? i(t, e) : this.getContextual_2n2k9f$$default(t, e) }, zn.$metadata$ = { kind: a, simpleName: "SerializersModule", interfaces: [] }, On.prototype.getPolymorphic_joiicr$ = function (t, i) { var a, r; return ho(i, t) && e.isType(r = null != (a = this.polyBase2Serializers.get_11rb$(t)) ? a.get_11rb$(e.getKClassFromExpression(i)) : null, Dn) ? r : null }, On.prototype.getPolymorphic_l2fy3k$ = function (t, i) { var a, r, o, s, l, c; l = null != (a = this.polyBase2NamedSerializers_0.get_11rb$(t)) ? (e.isType(c = a, Yt) ? c : n()).get_11rb$(i) : null; var p = e.isType(r = l, Nn) ? r : null; return null != p ? p : null != (s = "function" == typeof (o = this.polyBase2DefaultProvider_0.get_11rb$(t)) ? o : null) ? s(i) : null }, On.prototype.getContextual_2n2k9f$$default = function (t, i) { var a, r; return null == (r = null != (a = this.class2ContextualFactory_0.get_11rb$(t)) ? a.invoke_2c8qv7$(i) : null) || e.isType(r, Nn) ? r : null }, On.prototype.dumpTo_ukvgvw$ = function (t) { var i, a, r; for (i = this.class2ContextualFactory_0.entries.iterator(); i.hasNext();) { var o, s, l = i.next(), c = l.key, p = l.value; e.isType(p, Bn) ? t.contextual_cfhkba$(e.isType(o = c, ot) ? o : n(), e.isType(s = p.serializer, Nn) ? s : n()) : e.isType(p, jn) && t.contextual_vhoqnv$(c, p.provider) } for (a = this.polyBase2Serializers.entries.iterator(); a.hasNext();) { var h, d = a.next(), u = d.key; for (h = d.value.entries.iterator(); h.hasNext();) { var _, f, y, m = h.next(), $ = m.key, g = m.value; t.polymorphic_kfyidi$(e.isType(_ = u, ot) ? _ : n(), e.isType(f = $, ot) ? f : n(), e.isType(y = g, Nn) ? y : n()) } } for (r = this.polyBase2DefaultProvider_0.entries.iterator(); r.hasNext();) { var v, S, C = r.next(), E = C.key, A = C.value; t.polymorphicDefault_yd5wsm$(e.isType(v = E, ot) ? v : n(), "function" == typeof (S = A) ? S : n()) } }, On.$metadata$ = { kind: a, simpleName: "SerialModuleImpl", interfaces: [zn] }, Bn.prototype.invoke_2c8qv7$ = function (t) { return this.serializer }, Bn.prototype.equals = function (t) { return e.isType(t, Bn) && c(t.serializer, this.serializer) }, Bn.prototype.hashCode = function () { return p(this.serializer) }, Bn.$metadata$ = { kind: a, simpleName: "Argless", interfaces: [Fn] }, jn.prototype.invoke_2c8qv7$ = function (t) { return this.provider(t) }, jn.$metadata$ = { kind: a, simpleName: "WithTypeArguments", interfaces: [Fn] }, Fn.$metadata$ = { kind: a, simpleName: "ContextualProvider", interfaces: [] }, Hn.prototype.contextual_cfhkba$ = function (t, e) { var i; this.contextual_vhoqnv$(t, (i = e, function (t) { return i })) }, Hn.$metadata$ = { kind: _, simpleName: "SerializersModuleCollector", interfaces: [] }, Object.defineProperty(qn.prototype, "baseClass", { get: function () { return this.baseClass_x5jvam$_0 } }), Object.defineProperty(qn.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_nog3ww$_0 } }), qn.prototype.toString = function () { return "kotlinx.serialization.PolymorphicSerializer(baseClass: " + this.baseClass + ")" }, qn.$metadata$ = { kind: a, simpleName: "PolymorphicSerializer", interfaces: [ca] }, Wn.prototype.sourceIterator = function () { return this.this$groupingBy.iterator() }, Wn.prototype.keyOf_11rb$ = function (t) { return this.closure$keySelector(t) }, Wn.$metadata$ = { kind: a, interfaces: [Xt] }, Object.defineProperty(Yn.prototype, "baseClass", { get: function () { return this.baseClass_a0a98o$_0 } }), Object.defineProperty(Yn.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_gganzq$_0 } }), Yn.prototype.findPolymorphicSerializerOrNull_ca6uye$ = function (t, i) { var a, r, o = this.serialName2Serializer_0; return null != (a = (e.isType(r = o, Yt) ? r : n()).get_11rb$(i)) ? a : ca.prototype.findPolymorphicSerializerOrNull_ca6uye$.call(this, t, i) }, Yn.prototype.findPolymorphicSerializerOrNull_kjsxpj$ = function (t, i) { var a, r, o; return null != (r = null != (a = this.class2Serializer_0.get_11rb$(e.getKClassFromExpression(i))) ? a : ca.prototype.findPolymorphicSerializerOrNull_kjsxpj$.call(this, t, i)) ? e.isType(o = r, Dn) ? o : n() : null }, Yn.$metadata$ = { kind: a, simpleName: "SealedClassSerializer", interfaces: [ca] }, Kn.$metadata$ = { kind: _, simpleName: "SerialFormat", interfaces: [] }, Xn.$metadata$ = { kind: _, simpleName: "StringFormat", interfaces: [Kn] }, Jn.$metadata$ = { kind: a, simpleName: "SerializationException", interfaces: [Vt] }, to.$metadata$ = { kind: a, simpleName: "MissingFieldException", interfaces: [Jn] }, eo.$metadata$ = { kind: a, simpleName: "UnknownFieldException", interfaces: [Jn] }, yo.$metadata$ = { kind: a, simpleName: "SerializableWith", interfaces: [r] }; var mo = t.kotlinx || (t.kotlinx = {}), $o = mo.serialization || (mo.serialization = {}), go = $o.builtins || ($o.builtins = {}); go.get_nullable_2418p6$ = de, go.PairSerializer_2yqygg$ = ue, go.MapEntrySerializer_2yqygg$ = _e, go.TripleSerializer_jww85o$ = fe, go.serializer_n24eoe$ = ye, go.CharArraySerializer = me, go.serializer_k5zfx8$ = $e, go.ByteArraySerializer = ge, go.serializer_qetqea$ = ve, go.ShortArraySerializer = Se, go.serializer_qn7glr$ = Ce, go.IntArraySerializer = Ee, go.serializer_vbrujs$ = Ae, go.LongArraySerializer = be, go.serializer_y9phqa$ = Ie, go.FloatArraySerializer = we, go.serializer_6a53gt$ = Le, go.DoubleArraySerializer = Te, go.serializer_jtjczu$ = ke, go.BooleanArraySerializer = Re, go.serializer_mours2$ = Pe, go.serializer_6eet4j$ = Me, go.ArraySerializer_8tn5u0$ = Ne, go.ListSerializer_swdriu$ = function (t) { return new La(t) }, go.MapSerializer_2yqygg$ = function (t, e) { return new Ra(t, e) }, go.serializer_wxu9yi$ = function (t) { return Oa() }, go.serializer_de2ylp$ = function (t) { return ja() }, go.serializer_28ajz5$ = function (t) { return Ua() }, go.serializer_wdte4j$ = function (t) { return Ya() }; var vo = $o.descriptors || ($o.descriptors = {}); vo.get_capturedKClass_583jlf$ = De, vo.getContextualDescriptor_6wk734$ = function (t, e) { var i, a; return null != (i = De(e)) && null != (a = t.getContextual_2n2k9f$(i)) ? a.descriptor : null }, vo.withContext_k9hcuj$ = xe, vo.SerialDescriptor = Fe, vo.get_elementDescriptors_583jlf$ = je, vo.buildClassSerialDescriptor_dowfwv$ = qe, vo.PrimitiveSerialDescriptor_xytc2a$ = function (t, e) { if (k(t)) throw R("Blank serial names are prohibited".toString()); return qr(t, e) }, vo.buildSerialDescriptor_2yu4m$ = Ge, vo.ClassSerialDescriptorBuilder = We, vo.SerialDescriptorImpl = Ye, Object.defineProperty(Ve, "ENUM", { get: function () { return null === Xe && new Ke, Xe } }), Object.defineProperty(Ve, "CONTEXTUAL", { get: Qe }), vo.SerialKind = Ve, Object.defineProperty(ti, "BOOLEAN", { get: ai }), Object.defineProperty(ti, "BYTE", { get: oi }), Object.defineProperty(ti, "CHAR", { get: ci }), Object.defineProperty(ti, "SHORT", { get: di }), Object.defineProperty(ti, "INT", { get: fi }), Object.defineProperty(ti, "LONG", { get: $i }), Object.defineProperty(ti, "FLOAT", { get: Si }), Object.defineProperty(ti, "DOUBLE", { get: Ai }), Object.defineProperty(ti, "STRING", { get: wi }), vo.PrimitiveKind = ti, Object.defineProperty(Li, "CLASS", { get: Ri }), Object.defineProperty(Li, "LIST", { get: Ni }), Object.defineProperty(Li, "MAP", { get: zi }), Object.defineProperty(Li, "OBJECT", { get: Bi }), vo.StructureKind = Li, Object.defineProperty(ji, "SEALED", { get: Ui }), Object.defineProperty(ji, "OPEN", { get: Yi }), vo.PolymorphicKind = ji; var So = $o.encoding || ($o.encoding = {}); So.AbstractDecoder = Vi, So.AbstractEncoder = Ki, So.Decoder = Xi, Object.defineProperty(Ji, "Companion", { get: oa }), So.CompositeDecoder = Ji, So.Encoder = sa, So.CompositeEncoder = la; var Co = $o.internal || ($o.internal = {}); Co.AbstractPolymorphicSerializer = ca, Co.throwSubtypeNotRegistered_it6qj1$ = pa, Co.throwSubtypeNotRegistered_zgnrn5$ = ha, Co.CachedNames = da, Co.ListLikeDescriptor = ua, Co.MapLikeDescriptor = _a, Co.PrimitiveArrayDescriptor = fa, Co.ArrayClassDesc = ya, Co.ArrayListClassDesc = ma, Co.LinkedHashSetClassDesc = $a, Co.HashSetClassDesc = ga, Co.LinkedHashMapClassDesc = va, Co.HashMapClassDesc = Sa, Co.AbstractCollectionSerializer = Ca, Co.ListLikeSerializer = Ea, Co.MapLikeSerializer = Aa, Co.PrimitiveArrayBuilder = ba, Co.PrimitiveArraySerializer = Ia, Co.ReferenceArraySerializer = wa, Co.ArrayListSerializer = La, Co.LinkedHashSetSerializer = Ta, Co.HashSetSerializer = ka, Co.LinkedHashMapSerializer = Ra, Co.HashMapSerializer = Pa, Co.InlineClassDescriptor = Ma, Co.InlinePrimitiveDescriptor_adhoip$ = Da, Object.defineProperty(Co, "UIntSerializer", { get: Oa }), Object.defineProperty(Co, "ULongSerializer", { get: ja }), Object.defineProperty(Co, "UByteSerializer", { get: Ua }), Object.defineProperty(Co, "UShortSerializer", { get: Ya }), Co.jsonCachedSerialNames_583jlf$ = function (t) { return ir(t) }, Object.defineProperty(Co, "NoOpEncoder", { get: Za }), Co.NullableSerializer = Qa, Co.SerialDescriptorForNullable = tr, Co.ObjectSerializer = er, Co.cachedSerialNames_tie8r4$ = ir, Co.compactArray_b0lhx2$ = ar, $o.KSerializer = Nn, $o.SerializationStrategy = Dn, $o.DeserializationStrategy = xn, Co.kclass_7v1px$ = rr, Co.PluginGeneratedSerialDescriptor = nr, Co.hashCodeImpl_y01f7g$ = or, Co.GeneratedSerializer = sr, Co.SerializerFactory = lr, Object.defineProperty(Co, "ByteArraySerializer", { get: hr }), Co.ByteArrayBuilder = dr, Object.defineProperty(Co, "ShortArraySerializer", { get: fr }), Co.ShortArrayBuilder = yr, Object.defineProperty(Co, "IntArraySerializer", { get: gr }), Co.IntArrayBuilder = vr, Object.defineProperty(Co, "LongArraySerializer", { get: Er }), Co.LongArrayBuilder = Ar, Object.defineProperty(Co, "FloatArraySerializer", { get: wr }), Co.FloatArrayBuilder = Lr, Object.defineProperty(Co, "DoubleArraySerializer", { get: Rr }), Co.DoubleArrayBuilder = Pr, Object.defineProperty(Co, "CharArraySerializer", { get: Dr }), Co.CharArrayBuilder = xr, Object.defineProperty(Co, "BooleanArraySerializer", { get: Br }), Co.BooleanArrayBuilder = jr, Co.PrimitiveSerialDescriptor = Hr, Co.PrimitiveDescriptorSafe_2z23zl$ = qr, Co.builtinSerializerOrNull_beh9s$ = Gr, Object.defineProperty(Co, "UnitSerializer", { get: Vr }), Object.defineProperty(Co, "BooleanSerializer", { get: Jr }), Object.defineProperty(Co, "ByteSerializer", { get: tn }), Object.defineProperty(Co, "ShortSerializer", { get: rn }), Object.defineProperty(Co, "IntSerializer", { get: sn }), Object.defineProperty(Co, "LongSerializer", { get: pn }), Object.defineProperty(Co, "FloatSerializer", { get: un }), Object.defineProperty(Co, "DoubleSerializer", { get: yn }), Object.defineProperty(Co, "CharSerializer", { get: gn }), Object.defineProperty(Co, "StringSerializer", { get: An }), Co.TaggedEncoder = bn, Co.NamedValueEncoder = In, Co.TaggedDecoder = wn, Co.NamedValueDecoder = Ln, Co.KeyValueSerializer = Tn, Co.MapEntrySerializer = kn, Co.PairSerializer = Pn, Co.TripleSerializer = Mn; var Eo = $o.modules || ($o.modules = {}); return Eo.SerializersModule = zn, Object.defineProperty(Eo, "EmptySerializersModule", { get: function () { return Cn } }), Eo.SerialModuleImpl = On, Fn.Argless = Bn, Fn.WithTypeArguments = jn, Eo.ContextualProvider = Fn, Eo.SerializersModuleCollector = Hn, $o.PolymorphicSerializer = qn, $o.findPolymorphicSerializer_uce5au$ = Un, $o.findPolymorphicSerializer_dz33bw$ = Gn, $o.SealedClassSerializer = Yn, $o.SerialFormat = Kn, $o.StringFormat = Xn, $o.SerializationException_init_pdl1vj$ = Zn, $o.SerializationException_init_wspj0f$ = Qn, $o.SerializationException = Jn, $o.MissingFieldException_init_61zpoe$ = function (t, e) { return e = e || Object.create(to.prototype), to.call(e, "Field '" + t + "' is required, but it was missing", null), e }, $o.MissingFieldException = to, $o.UnknownFieldException = eo, $o.serializer_ca95z9$ = io, $o.serializerOrNull_ca95z9$ = ao, $o.reflectiveOrContextual_plakug$ = no, $o.serializerOrNull_1yb8b7$ = oo, Co.getChecked_4bqw6o$ = so, Co.getChecked_3zu3yo$ = lo, Co.compiledSerializerImpl_beh9s$ = co, Co.toNativeArrayImpl_wfz7v1$ = po, Co.isInstanceOf_ofcvxk$ = ho, Co.platformSpecificSerializerNotRegistered_lu5d9p$ = uo, Co.constructSerializerForGivenTypeArgs_f7nown$ = _o, Co.isReferenceArray_79m3vz$ = fo, $o.SerializableWith = yo, Object.defineProperty(Ye.prototype, "isNullable", Object.getOwnPropertyDescriptor(Fe.prototype, "isNullable")), Object.defineProperty(Ye.prototype, "isInline", Object.getOwnPropertyDescriptor(Fe.prototype, "isInline")), Vi.prototype.decodeSerializableValue_w63s0f$ = Xi.prototype.decodeSerializableValue_w63s0f$, Vi.prototype.decodeNullableSerializableValue_aae3ea$ = Xi.prototype.decodeNullableSerializableValue_aae3ea$, Vi.prototype.decodeSequentially = Ji.prototype.decodeSequentially, Vi.prototype.decodeCollectionSize_24f42q$ = Ji.prototype.decodeCollectionSize_24f42q$, Vi.prototype.decodeSerializableElement_12e8id$ = Ji.prototype.decodeSerializableElement_12e8id$, Vi.prototype.decodeNullableSerializableElement_8viuyw$ = Ji.prototype.decodeNullableSerializableElement_8viuyw$, Ki.prototype.encodeNotNullMark = sa.prototype.encodeNotNullMark, Ki.prototype.beginCollection_szpzho$ = sa.prototype.beginCollection_szpzho$, Ki.prototype.encodeSerializableValue_tf03ej$ = sa.prototype.encodeSerializableValue_tf03ej$, Ki.prototype.encodeNullableSerializableValue_f4686g$ = sa.prototype.encodeNullableSerializableValue_f4686g$, Ki.prototype.shouldEncodeElementDefault_szpzho$ = la.prototype.shouldEncodeElementDefault_szpzho$, Object.defineProperty(ua.prototype, "isNullable", Object.getOwnPropertyDescriptor(Fe.prototype, "isNullable")), Object.defineProperty(ua.prototype, "isInline", Object.getOwnPropertyDescriptor(Fe.prototype, "isInline")), Object.defineProperty(ua.prototype, "annotations", Object.getOwnPropertyDescriptor(Fe.prototype, "annotations")), Object.defineProperty(_a.prototype, "isNullable", Object.getOwnPropertyDescriptor(Fe.prototype, "isNullable")), Object.defineProperty(_a.prototype, "isInline", Object.getOwnPropertyDescriptor(Fe.prototype, "isInline")), Object.defineProperty(_a.prototype, "annotations", Object.getOwnPropertyDescriptor(Fe.prototype, "annotations")), Object.defineProperty(nr.prototype, "isNullable", Object.getOwnPropertyDescriptor(Fe.prototype, "isNullable")), Object.defineProperty(nr.prototype, "isInline", Object.getOwnPropertyDescriptor(Fe.prototype, "isInline")), Na.prototype.typeParametersSerializers = sr.prototype.typeParametersSerializers, Object.defineProperty(Hr.prototype, "isNullable", Object.getOwnPropertyDescriptor(Fe.prototype, "isNullable")), Object.defineProperty(Hr.prototype, "isInline", Object.getOwnPropertyDescriptor(Fe.prototype, "isInline")), Object.defineProperty(Hr.prototype, "annotations", Object.getOwnPropertyDescriptor(Fe.prototype, "annotations")), bn.prototype.beginCollection_szpzho$ = sa.prototype.beginCollection_szpzho$, bn.prototype.encodeSerializableValue_tf03ej$ = sa.prototype.encodeSerializableValue_tf03ej$, bn.prototype.encodeNullableSerializableValue_f4686g$ = sa.prototype.encodeNullableSerializableValue_f4686g$, bn.prototype.shouldEncodeElementDefault_szpzho$ = la.prototype.shouldEncodeElementDefault_szpzho$, wn.prototype.decodeSerializableValue_w63s0f$ = Xi.prototype.decodeSerializableValue_w63s0f$, wn.prototype.decodeNullableSerializableValue_aae3ea$ = Xi.prototype.decodeNullableSerializableValue_aae3ea$, wn.prototype.decodeSequentially = Ji.prototype.decodeSequentially, wn.prototype.decodeCollectionSize_24f42q$ = Ji.prototype.decodeCollectionSize_24f42q$, wn.prototype.decodeSerializableElement_12e8id$ = Ji.prototype.decodeSerializableElement_12e8id$, wn.prototype.decodeNullableSerializableElement_8viuyw$ = Ji.prototype.decodeNullableSerializableElement_8viuyw$, Qi = "kotlin.Array", ta = "kotlin.collections.ArrayList", ea = "kotlin.collections.LinkedHashSet", ia = "kotlin.collections.HashSet", aa = "kotlin.collections.LinkedHashMap", ra = "kotlin.collections.HashMap", Ka = [], Xa = [], Or = zt([w(gt, Me()), w(i(vt), ye()), w(St, me()), w(Ct, Le()), w(Et, Te()), w(At, Ie()), w(bt, we()), w(i(It), Ae()), w(wt, be()), w(Lt, Ce()), w(Tt, Ee()), w(kt, ve()), w(Rt, Se()), w(Pt, $e()), w(Mt, ge()), w(Nt, ke()), w(Dt, Re()), w(i(Object.getPrototypeOf(xt.Unit).constructor), Pe())]), Sn = new D, Cn = new On(st(), st(), st(), st()), t }) ? a.apply(e, r) : a) || (t.exports = n) }, function (t, e, i) { t.exports = i(3) }, function (t, e, i) { var a, r, n; r = [e, i(0), i(1), i(5)], void 0 === (n = "function" == typeof (a = function (t, e, i, a) { "use strict"; var r = t.$$importsForInline$$ || (t.$$importsForInline$$ = {}), n = e.kotlin.Unit, o = e.ensureNotNull, s = e.kotlin.printStackTrace_dbl4o4$, l = e.kotlin.Exception, c = e.kotlin.collections.HashMap_init_q3lmfv$, p = e.Kind.CLASS, h = e.kotlin.NullPointerException, d = e.throwCCE, u = e.kotlin.collections.ArrayList_init_287e2$, _ = e.kotlin.text.contains_li3zpu$, f = e.Kind.OBJECT, y = e.kotlin.collections.Map, m = e.equals, $ = e.kotlin.to_ujzrz7$, g = e.kotlin.collections.mapOf_qfcya0$, v = e.kotlin.text.split_ip8yn$, S = e.kotlin.math.round_14dthe$, C = e.numberToInt, E = e.kotlin.text.toDouble_pdl1vz$, A = e.kotlin.NumberFormatException, b = e.kotlin.collections.copyToArray, I = Math, w = e.kotlin.collections.ArrayList_init_mqih57$, L = e.kotlin.text.replace_680rmw$, T = e.kotlin.collections.arrayListOf_i5x0yv$, k = e.kotlin.io.println_s8jyv4$, R = i.kotlinx.serialization.internal.NullableSerializer, P = i.kotlinx.serialization.internal.PluginGeneratedSerialDescriptor, M = i.kotlinx.serialization.internal, N = i.kotlinx.serialization.internal.HashMapSerializer, D = i.kotlinx.serialization.internal.ArrayListSerializer, x = e.kotlin.reflect.js.internal.PrimitiveClasses.stringClass, z = i.kotlinx.serialization.internal.ReferenceArraySerializer, O = i.kotlinx.serialization.UnknownFieldException, F = i.kotlinx.serialization.internal.GeneratedSerializer, B = e.kotlin.collections.contains_2ws7j4$, j = e.toString, H = e.Kind.INTERFACE, q = e.kotlin.collections.sortWith_nqfjgj$, U = e.wrapFunction, G = e.kotlin.Comparator, W = e.kotlin.collections.HashSet_init_287e2$, Y = e.kotlin.text.first_gw00vp$, V = e.kotlin.text.toInt_pdl1vz$, K = e.toBoxedChar, X = e.kotlin.collections.contains_mjy6jw$, J = i.kotlinx.serialization.MissingFieldException_init_61zpoe$, Z = e.kotlin.collections.contains_c03ot6$, Q = e.kotlin.collections.sort_4wi501$, tt = e.getKClass, et = i.kotlinx.serialization.PolymorphicSerializer, it = i.kotlinx.serialization.internal.SerializerFactory, at = e.kotlin.ConcurrentModificationException, rt = e.kotlin.collections.MutableMap, nt = e.kotlin.collections.listOf_i5x0yv$, ot = e.kotlin.collections.indexOf_mjy6jw$, st = e.kotlin.collections.addAll_ye1y7v$, lt = e.kotlin.text.capitalize_pdl1vz$, ct = e.kotlin.collections.toIntArray_fx3nzu$, pt = e.kotlin.text.trimIndent_pdl1vz$, ht = e.kotlin.collections.MutableCollection, dt = e.kotlin.text.equals_igcy3c$, ut = a.kotlinx.serialization.json.Json_x26noe$, _t = e.createKType, ft = i.kotlinx.serialization.serializer_ca95z9$, yt = i.kotlinx.serialization.KSerializer, mt = a.$$importsForInline$$["kotlinx-serialization-kotlinx-serialization-core-js-legacy"].kotlinx.serialization.serializer_ca95z9$, $t = a.$$importsForInline$$["kotlinx-serialization-kotlinx-serialization-core-js-legacy"].kotlinx.serialization.KSerializer, gt = e.kotlin.text.isBlank_gw00vp$, vt = e.hashCode, St = e.kotlin.text.indexOf_l5u8uk$, Ct = e.kotlin.text.toBoolean_5cw0du$, Et = e.kotlin.collections.HashMap, At = e.kotlin.js.iterator_s8jyvk$, bt = e.kotlin.js.json_pyyo18$, It = e.kotlin.text.trim_gw00vp$, wt = e.kotlin.collections.toList_7wnvza$, Lt = e.kotlin.Enum, Tt = e.throwISE, kt = a.kotlinx.serialization.json.Json, Rt = e.kotlin.collections.ArrayList, Pt = e.kotlin.text.iterator_gw00vp$, Mt = e.unboxChar, Nt = e.kotlin.text.isDigit_myv2d0$, Dt = e.kotlin.text.isLowerCase_myv2d0$, xt = e.kotlin.text.titlecase_myv2d0$, zt = e.kotlin.math.roundToInt_yrwdxr$, Ot = e.kotlin.collections.LinkedHashMap_init_q3lmfv$, Ft = e.kotlin.collections.joinToString_fmv235$, Bt = e.toChar, jt = e.kotlin.text.StringBuilder_init, Ht = e.kotlin.collections.mutableListOf_i5x0yv$, qt = e.kotlin.text.indexOf_8eortd$, Ut = e.kotlin.Exception_init_pdl1vj$, Gt = e.kotlin.collections.HashSet_init_mqih57$, Wt = e.kotlin.comparisons.compareBy_bvgy4j$, Yt = e.throwUPAE, Vt = e.kotlin.text.get_indices_gw00vp$, Kt = e.kotlin.collections.indexOf_bv23uc$, Xt = e.kotlin.collections.reversed_7wnvza$, Jt = e.kotlin.random.Random, Zt = e.kotlin.text.toString_dqglrj$, Qt = e.kotlin.text.Regex_init_61zpoe$, te = e.kotlin.text.StringBuilder_init_za3lpa$; function ee() { ae = this } function ie(t, e) { this.closure$specialInformationRef = t, this.closure$setSkillLevel = e } he.prototype = Object.create(ea.prototype), he.prototype.constructor = he, fe.prototype = Object.create(ea.prototype), fe.prototype.constructor = fe, ve.prototype = Object.create(ea.prototype), ve.prototype.constructor = ve, Ae.prototype = Object.create(ea.prototype), Ae.prototype.constructor = Ae, Le.prototype = Object.create(ea.prototype), Le.prototype.constructor = Le, Pe.prototype = Object.create(ea.prototype), Pe.prototype.constructor = Pe, xe.prototype = Object.create(ea.prototype), xe.prototype.constructor = xe, Be.prototype = Object.create(ea.prototype), Be.prototype.constructor = Be, Ge.prototype = Object.create(ea.prototype), Ge.prototype.constructor = Ge, Ke.prototype = Object.create(ea.prototype), Ke.prototype.constructor = Ke, Qe.prototype = Object.create(ea.prototype), Qe.prototype.constructor = Qe, ai.prototype = Object.create(ea.prototype), ai.prototype.constructor = ai, si.prototype = Object.create(ea.prototype), si.prototype.constructor = si, fi.prototype = Object.create(ea.prototype), fi.prototype.constructor = fi, gi.prototype = Object.create(ea.prototype), gi.prototype.constructor = gi, Ei.prototype = Object.create(ea.prototype), Ei.prototype.constructor = Ei, wi.prototype = Object.create(ea.prototype), wi.prototype.constructor = wi, Ri.prototype = Object.create(ea.prototype), Ri.prototype.constructor = Ri, Di.prototype = Object.create(ea.prototype), Di.prototype.constructor = Di, Fi.prototype = Object.create(ea.prototype), Fi.prototype.constructor = Fi, qi.prototype = Object.create(ea.prototype), qi.prototype.constructor = qi, Yi.prototype = Object.create(ea.prototype), Yi.prototype.constructor = Yi, Ji.prototype = Object.create(ea.prototype), Ji.prototype.constructor = Ji, ia.prototype = Object.create(ea.prototype), ia.prototype.constructor = ia, oa.prototype = Object.create(ea.prototype), oa.prototype.constructor = oa, pa.prototype = Object.create(ea.prototype), pa.prototype.constructor = pa, _a.prototype = Object.create(ea.prototype), _a.prototype.constructor = _a, $a.prototype = Object.create(ea.prototype), $a.prototype.constructor = $a, Ca.prototype = Object.create(ea.prototype), Ca.prototype.constructor = Ca, Ia.prototype = Object.create(ea.prototype), Ia.prototype.constructor = Ia, Ya.prototype = Object.create(W0.prototype), Ya.prototype.constructor = Ya, Ja.prototype = Object.create(Nn.prototype), Ja.prototype.constructor = Ja, ir.prototype = Object.create(Nn.prototype), ir.prototype.constructor = ir, sr.prototype = Object.create(Nn.prototype), sr.prototype.constructor = sr, dr.prototype = Object.create(Nn.prototype), dr.prototype.constructor = dr, mr.prototype = Object.create(Nn.prototype), mr.prototype.constructor = mr, Cr.prototype = Object.create(Nn.prototype), Cr.prototype.constructor = Cr, wr.prototype = Object.create(Nn.prototype), wr.prototype.constructor = wr, Pr.prototype = Object.create(Nn.prototype), Pr.prototype.constructor = Pr, zr.prototype = Object.create(Nn.prototype), zr.prototype.constructor = zr, Hr.prototype = Object.create(Nn.prototype), Hr.prototype.constructor = Hr, Yr.prototype = Object.create(Nn.prototype), Yr.prototype.constructor = Yr, Zr.prototype = Object.create(Nn.prototype), Zr.prototype.constructor = Zr, rn.prototype = Object.create(Nn.prototype), rn.prototype.constructor = rn, cn.prototype = Object.create(Nn.prototype), cn.prototype.constructor = cn, _n.prototype = Object.create(Nn.prototype), _n.prototype.constructor = _n, gn.prototype = Object.create(Nn.prototype), gn.prototype.constructor = gn, An.prototype = Object.create(Nn.prototype), An.prototype.constructor = An, Tn.prototype = Object.create(Nn.prototype), Tn.prototype.constructor = Tn, xn.prototype = Object.create(Nn.prototype), xn.prototype.constructor = xn, jn.prototype = Object.create(Nn.prototype), jn.prototype.constructor = jn, Wn.prototype = Object.create(Nn.prototype), Wn.prototype.constructor = Wn, Co.prototype = Object.create(Eo.prototype), Co.prototype.constructor = Co, Io.prototype = Object.create(Eo.prototype), Io.prototype.constructor = Io, No.prototype = Object.create(W0.prototype), No.prototype.constructor = No, Do.prototype = Object.create(W0.prototype), Do.prototype.constructor = Do, Bo.prototype = Object.create(W0.prototype), Bo.prototype.constructor = Bo, Qo.prototype = Object.create(Wp.prototype), Qo.prototype.constructor = Qo, cs.prototype = Object.create(iu.prototype), cs.prototype.constructor = cs, ms.prototype = Object.create(iu.prototype), ms.prototype.constructor = ms, sl.prototype = Object.create(W0.prototype), sl.prototype.constructor = sl, hl.prototype = Object.create(W0.prototype), hl.prototype.constructor = hl, xl.prototype = Object.create(W0.prototype), xl.prototype.constructor = xl, wc.prototype = Object.create(W0.prototype), wc.prototype.constructor = wc, Uc.prototype = Object.create(W0.prototype), Uc.prototype.constructor = Uc, Vd.prototype = Object.create(iu.prototype), Vd.prototype.constructor = Vd, lu.prototype = Object.create(Wp.prototype), lu.prototype.constructor = lu, $u.prototype = Object.create(W0.prototype), $u.prototype.constructor = $u, ku.prototype = Object.create(Du.prototype), ku.prototype.constructor = ku, Wu.prototype = Object.create(W0.prototype), Wu.prototype.constructor = Wu, Vu.prototype = Object.create(Gu.prototype), Vu.prototype.constructor = Vu, Ku.prototype = Object.create(Gu.prototype), Ku.prototype.constructor = Ku, Ju.prototype = Object.create(Gu.prototype), Ju.prototype.constructor = Ju, Qu.prototype = Object.create(Gu.prototype), Qu.prototype.constructor = Qu, t_.prototype = Object.create(Gu.prototype), t_.prototype.constructor = t_, e_.prototype = Object.create(Gu.prototype), e_.prototype.constructor = e_, a_.prototype = Object.create(Gu.prototype), a_.prototype.constructor = a_, n_.prototype = Object.create(Gu.prototype), n_.prototype.constructor = n_, o_.prototype = Object.create(Gu.prototype), o_.prototype.constructor = o_, l_.prototype = Object.create(Gu.prototype), l_.prototype.constructor = l_, c_.prototype = Object.create(Gu.prototype), c_.prototype.constructor = c_, p_.prototype = Object.create(Gu.prototype), p_.prototype.constructor = p_, h_.prototype = Object.create(Gu.prototype), h_.prototype.constructor = h_, d_.prototype = Object.create(Gu.prototype), d_.prototype.constructor = d_, __.prototype = Object.create(Gu.prototype), __.prototype.constructor = __, y_.prototype = Object.create(Gu.prototype), y_.prototype.constructor = y_, $_.prototype = Object.create(Gu.prototype), $_.prototype.constructor = $_, v_.prototype = Object.create(Gu.prototype), v_.prototype.constructor = v_, b_.prototype = Object.create(Gu.prototype), b_.prototype.constructor = b_, I_.prototype = Object.create(Gu.prototype), I_.prototype.constructor = I_, w_.prototype = Object.create(Gu.prototype), w_.prototype.constructor = w_, L_.prototype = Object.create(Gu.prototype), L_.prototype.constructor = L_, T_.prototype = Object.create(Gu.prototype), T_.prototype.constructor = T_, k_.prototype = Object.create(Gu.prototype), k_.prototype.constructor = k_, R_.prototype = Object.create(Gu.prototype), R_.prototype.constructor = R_, P_.prototype = Object.create(Gu.prototype), P_.prototype.constructor = P_, M_.prototype = Object.create(Gu.prototype), M_.prototype.constructor = M_, N_.prototype = Object.create(Gu.prototype), N_.prototype.constructor = N_, D_.prototype = Object.create(Gu.prototype), D_.prototype.constructor = D_, x_.prototype = Object.create(Gu.prototype), x_.prototype.constructor = x_, z_.prototype = Object.create(Gu.prototype), z_.prototype.constructor = z_, O_.prototype = Object.create(Gu.prototype), O_.prototype.constructor = O_, F_.prototype = Object.create(Gu.prototype), F_.prototype.constructor = F_, B_.prototype = Object.create(Gu.prototype), B_.prototype.constructor = B_, j_.prototype = Object.create(Gu.prototype), j_.prototype.constructor = j_, H_.prototype = Object.create(Gu.prototype), H_.prototype.constructor = H_, q_.prototype = Object.create(Gu.prototype), q_.prototype.constructor = q_, U_.prototype = Object.create(Gu.prototype), U_.prototype.constructor = U_, G_.prototype = Object.create(Gu.prototype), G_.prototype.constructor = G_, W_.prototype = Object.create(Gu.prototype), W_.prototype.constructor = W_, X_.prototype = Object.create(Gu.prototype), X_.prototype.constructor = X_, ef.prototype = Object.create(Gu.prototype), ef.prototype.constructor = ef, af.prototype = Object.create(Gu.prototype), af.prototype.constructor = af, rf.prototype = Object.create(Gu.prototype), rf.prototype.constructor = rf, nf.prototype = Object.create(Gu.prototype), nf.prototype.constructor = nf, of.prototype = Object.create(Gu.prototype), of.prototype.constructor = of, sf.prototype = Object.create(Gu.prototype), sf.prototype.constructor = sf, lf.prototype = Object.create(Gu.prototype), lf.prototype.constructor = lf, df.prototype = Object.create(Gu.prototype), df.prototype.constructor = df, uf.prototype = Object.create(Gu.prototype), uf.prototype.constructor = uf, _f.prototype = Object.create(Gu.prototype), _f.prototype.constructor = _f, ff.prototype = Object.create(Gu.prototype), ff.prototype.constructor = ff, yf.prototype = Object.create(Gu.prototype), yf.prototype.constructor = yf, mf.prototype = Object.create(Gu.prototype), mf.prototype.constructor = mf, $f.prototype = Object.create(Gu.prototype), $f.prototype.constructor = $f, vf.prototype = Object.create(Gu.prototype), vf.prototype.constructor = vf, Sf.prototype = Object.create(Gu.prototype), Sf.prototype.constructor = Sf, Cf.prototype = Object.create(Gu.prototype), Cf.prototype.constructor = Cf, Af.prototype = Object.create(Gu.prototype), Af.prototype.constructor = Af, bf.prototype = Object.create(Gu.prototype), bf.prototype.constructor = bf, If.prototype = Object.create(Gu.prototype), If.prototype.constructor = If, Bf.prototype = Object.create(Gu.prototype), Bf.prototype.constructor = Bf, jf.prototype = Object.create(Gu.prototype), jf.prototype.constructor = jf, Hf.prototype = Object.create(Gu.prototype), Hf.prototype.constructor = Hf, qf.prototype = Object.create(Gu.prototype), qf.prototype.constructor = qf, Uf.prototype = Object.create(Gu.prototype), Uf.prototype.constructor = Uf, Gf.prototype = Object.create(Gu.prototype), Gf.prototype.constructor = Gf, Wf.prototype = Object.create(Gu.prototype), Wf.prototype.constructor = Wf, Yf.prototype = Object.create(Gu.prototype), Yf.prototype.constructor = Yf, Vf.prototype = Object.create(Gu.prototype), Vf.prototype.constructor = Vf, Kf.prototype = Object.create(Gu.prototype), Kf.prototype.constructor = Kf, Xf.prototype = Object.create(Gu.prototype), Xf.prototype.constructor = Xf, Jf.prototype = Object.create(Gu.prototype), Jf.prototype.constructor = Jf, Zf.prototype = Object.create(Gu.prototype), Zf.prototype.constructor = Zf, Qf.prototype = Object.create(Gu.prototype), Qf.prototype.constructor = Qf, ay.prototype = Object.create(Gu.prototype), ay.prototype.constructor = ay, ry.prototype = Object.create(Gu.prototype), ry.prototype.constructor = ry, ny.prototype = Object.create(Gu.prototype), ny.prototype.constructor = ny, oy.prototype = Object.create(Gu.prototype), oy.prototype.constructor = oy, sy.prototype = Object.create(Gu.prototype), sy.prototype.constructor = sy, ly.prototype = Object.create(Gu.prototype), ly.prototype.constructor = ly, dy.prototype = Object.create(Gu.prototype), dy.prototype.constructor = dy, uy.prototype = Object.create(Gu.prototype), uy.prototype.constructor = uy, _y.prototype = Object.create(Gu.prototype), _y.prototype.constructor = _y, fy.prototype = Object.create(Gu.prototype), fy.prototype.constructor = fy, yy.prototype = Object.create(Gu.prototype), yy.prototype.constructor = yy, my.prototype = Object.create(Gu.prototype), my.prototype.constructor = my, Sy.prototype = Object.create(Gu.prototype), Sy.prototype.constructor = Sy, Cy.prototype = Object.create(Gu.prototype), Cy.prototype.constructor = Cy, Ey.prototype = Object.create(Gu.prototype), Ey.prototype.constructor = Ey, Ay.prototype = Object.create(Gu.prototype), Ay.prototype.constructor = Ay, by.prototype = Object.create(Gu.prototype), by.prototype.constructor = by, Iy.prototype = Object.create(Gu.prototype), Iy.prototype.constructor = Iy, wy.prototype = Object.create(Gu.prototype), wy.prototype.constructor = wy, Ry.prototype = Object.create(Gu.prototype), Ry.prototype.constructor = Ry, Py.prototype = Object.create(Gu.prototype), Py.prototype.constructor = Py, My.prototype = Object.create(Gu.prototype), My.prototype.constructor = My, Ny.prototype = Object.create(Gu.prototype), Ny.prototype.constructor = Ny, Dy.prototype = Object.create(Gu.prototype), Dy.prototype.constructor = Dy, xy.prototype = Object.create(Gu.prototype), xy.prototype.constructor = xy, zy.prototype = Object.create(Gu.prototype), zy.prototype.constructor = zy, Oy.prototype = Object.create(Gu.prototype), Oy.prototype.constructor = Oy, Fy.prototype = Object.create(Gu.prototype), Fy.prototype.constructor = Fy, qy.prototype = Object.create(Gu.prototype), qy.prototype.constructor = qy, Uy.prototype = Object.create(Gu.prototype), Uy.prototype.constructor = Uy, Gy.prototype = Object.create(Gu.prototype), Gy.prototype.constructor = Gy, Wy.prototype = Object.create(Gu.prototype), Wy.prototype.constructor = Wy, Yy.prototype = Object.create(Gu.prototype), Yy.prototype.constructor = Yy, Vy.prototype = Object.create(Gu.prototype), Vy.prototype.constructor = Vy, Ky.prototype = Object.create(Gu.prototype), Ky.prototype.constructor = Ky, Xy.prototype = Object.create(Gu.prototype), Xy.prototype.constructor = Xy, Jy.prototype = Object.create(Gu.prototype), Jy.prototype.constructor = Jy, Zy.prototype = Object.create(Gu.prototype), Zy.prototype.constructor = Zy, Qy.prototype = Object.create(Gu.prototype), Qy.prototype.constructor = Qy, am.prototype = Object.create(Gu.prototype), am.prototype.constructor = am, rm.prototype = Object.create(Gu.prototype), rm.prototype.constructor = rm, nm.prototype = Object.create(Gu.prototype), nm.prototype.constructor = nm, om.prototype = Object.create(Gu.prototype), om.prototype.constructor = om, sm.prototype = Object.create(Gu.prototype), sm.prototype.constructor = sm, lm.prototype = Object.create(Gu.prototype), lm.prototype.constructor = lm, cm.prototype = Object.create(Gu.prototype), cm.prototype.constructor = cm, pm.prototype = Object.create(Gu.prototype), pm.prototype.constructor = pm, hm.prototype = Object.create(Gu.prototype), hm.prototype.constructor = hm, dm.prototype = Object.create(Gu.prototype), dm.prototype.constructor = dm, um.prototype = Object.create(Gu.prototype), um.prototype.constructor = um, _m.prototype = Object.create(Gu.prototype), _m.prototype.constructor = _m, fm.prototype = Object.create(Gu.prototype), fm.prototype.constructor = fm, ym.prototype = Object.create(Gu.prototype), ym.prototype.constructor = ym, $m.prototype = Object.create(Gu.prototype), $m.prototype.constructor = $m, gm.prototype = Object.create(Gu.prototype), gm.prototype.constructor = gm, vm.prototype = Object.create(Gu.prototype), vm.prototype.constructor = vm, Am.prototype = Object.create(Gu.prototype), Am.prototype.constructor = Am, bm.prototype = Object.create(Gu.prototype), bm.prototype.constructor = bm, Im.prototype = Object.create(Gu.prototype), Im.prototype.constructor = Im, wm.prototype = Object.create(Gu.prototype), wm.prototype.constructor = wm, Lm.prototype = Object.create(Gu.prototype), Lm.prototype.constructor = Lm, Tm.prototype = Object.create(Gu.prototype), Tm.prototype.constructor = Tm, km.prototype = Object.create(Gu.prototype), km.prototype.constructor = km, Rm.prototype = Object.create(Gu.prototype), Rm.prototype.constructor = Rm, Pm.prototype = Object.create(Gu.prototype), Pm.prototype.constructor = Pm, Mm.prototype = Object.create(Gu.prototype), Mm.prototype.constructor = Mm, Nm.prototype = Object.create(Gu.prototype), Nm.prototype.constructor = Nm, Dm.prototype = Object.create(Gu.prototype), Dm.prototype.constructor = Dm, xm.prototype = Object.create(Gu.prototype), xm.prototype.constructor = xm, zm.prototype = Object.create(Gu.prototype), zm.prototype.constructor = zm, Om.prototype = Object.create(Gu.prototype), Om.prototype.constructor = Om, Fm.prototype = Object.create(Gu.prototype), Fm.prototype.constructor = Fm, Bm.prototype = Object.create(Gu.prototype), Bm.prototype.constructor = Bm, jm.prototype = Object.create(Gu.prototype), jm.prototype.constructor = jm, Wm.prototype = Object.create(Gu.prototype), Wm.prototype.constructor = Wm, Ym.prototype = Object.create(Gu.prototype), Ym.prototype.constructor = Ym, Km.prototype = Object.create(Gu.prototype), Km.prototype.constructor = Km, Xm.prototype = Object.create(Gu.prototype), Xm.prototype.constructor = Xm, Jm.prototype = Object.create(Gu.prototype), Jm.prototype.constructor = Jm, Zm.prototype = Object.create(Gu.prototype), Zm.prototype.constructor = Zm, Qm.prototype = Object.create(Gu.prototype), Qm.prototype.constructor = Qm, t$.prototype = Object.create(Gu.prototype), t$.prototype.constructor = t$, e$.prototype = Object.create(Gu.prototype), e$.prototype.constructor = e$, n$.prototype = Object.create(Gu.prototype), n$.prototype.constructor = n$, o$.prototype = Object.create(Gu.prototype), o$.prototype.constructor = o$, s$.prototype = Object.create(Gu.prototype), s$.prototype.constructor = s$, l$.prototype = Object.create(Gu.prototype), l$.prototype.constructor = l$, c$.prototype = Object.create(Gu.prototype), c$.prototype.constructor = c$, p$.prototype = Object.create(Gu.prototype), p$.prototype.constructor = p$, h$.prototype = Object.create(Gu.prototype), h$.prototype.constructor = h$, d$.prototype = Object.create(Gu.prototype), d$.prototype.constructor = d$, y$.prototype = Object.create(Gu.prototype), y$.prototype.constructor = y$, m$.prototype = Object.create(Gu.prototype), m$.prototype.constructor = m$, $$.prototype = Object.create(Gu.prototype), $$.prototype.constructor = $$, v$.prototype = Object.create(Gu.prototype), v$.prototype.constructor = v$, S$.prototype = Object.create(Gu.prototype), S$.prototype.constructor = S$, C$.prototype = Object.create(Gu.prototype), C$.prototype.constructor = C$, E$.prototype = Object.create(Gu.prototype), E$.prototype.constructor = E$, A$.prototype = Object.create(Gu.prototype), A$.prototype.constructor = A$, b$.prototype = Object.create(Gu.prototype), b$.prototype.constructor = b$, w$.prototype = Object.create(Gu.prototype), w$.prototype.constructor = w$, T$.prototype = Object.create(v3.prototype), T$.prototype.constructor = T$, L$.prototype = Object.create(Gu.prototype), L$.prototype.constructor = L$, k$.prototype = Object.create(Gu.prototype), k$.prototype.constructor = k$, R$.prototype = Object.create(Gu.prototype), R$.prototype.constructor = R$, P$.prototype = Object.create(Gu.prototype), P$.prototype.constructor = P$, O$.prototype = Object.create(Gu.prototype), O$.prototype.constructor = O$, F$.prototype = Object.create(Gu.prototype), F$.prototype.constructor = F$, B$.prototype = Object.create(Gu.prototype), B$.prototype.constructor = B$, j$.prototype = Object.create(Gu.prototype), j$.prototype.constructor = j$, H$.prototype = Object.create(Gu.prototype), H$.prototype.constructor = H$, q$.prototype = Object.create(Gu.prototype), q$.prototype.constructor = q$, U$.prototype = Object.create(Gu.prototype), U$.prototype.constructor = U$, G$.prototype = Object.create(Gu.prototype), G$.prototype.constructor = G$, W$.prototype = Object.create(Gu.prototype), W$.prototype.constructor = W$, Y$.prototype = Object.create(Gu.prototype), Y$.prototype.constructor = Y$, V$.prototype = Object.create(Gu.prototype), V$.prototype.constructor = V$, K$.prototype = Object.create(Gu.prototype), K$.prototype.constructor = K$, X$.prototype = Object.create(Gu.prototype), X$.prototype.constructor = X$, tg.prototype = Object.create(Gu.prototype), tg.prototype.constructor = tg, eg.prototype = Object.create(Gu.prototype), eg.prototype.constructor = eg, ig.prototype = Object.create(Gu.prototype), ig.prototype.constructor = ig, ag.prototype = Object.create(Gu.prototype), ag.prototype.constructor = ag, rg.prototype = Object.create(Gu.prototype), rg.prototype.constructor = rg, ng.prototype = Object.create(Gu.prototype), ng.prototype.constructor = ng, og.prototype = Object.create(Gu.prototype), og.prototype.constructor = og, sg.prototype = Object.create(Gu.prototype), sg.prototype.constructor = sg, lg.prototype = Object.create(Gu.prototype), lg.prototype.constructor = lg, cg.prototype = Object.create(Gu.prototype), cg.prototype.constructor = cg, pg.prototype = Object.create(Gu.prototype), pg.prototype.constructor = pg, _g.prototype = Object.create(Gu.prototype), _g.prototype.constructor = _g, fg.prototype = Object.create(Gu.prototype), fg.prototype.constructor = fg, yg.prototype = Object.create(Gu.prototype), yg.prototype.constructor = yg, mg.prototype = Object.create(Gu.prototype), mg.prototype.constructor = mg, $g.prototype = Object.create(Gu.prototype), $g.prototype.constructor = $g, gg.prototype = Object.create(Gu.prototype), gg.prototype.constructor = gg, vg.prototype = Object.create(Gu.prototype), vg.prototype.constructor = vg, Sg.prototype = Object.create(Gu.prototype), Sg.prototype.constructor = Sg, Cg.prototype = Object.create(Gu.prototype), Cg.prototype.constructor = Cg, Ig.prototype = Object.create(Gu.prototype), Ig.prototype.constructor = Ig, wg.prototype = Object.create(Gu.prototype), wg.prototype.constructor = wg, Lg.prototype = Object.create(Gu.prototype), Lg.prototype.constructor = Lg, Tg.prototype = Object.create(Gu.prototype), Tg.prototype.constructor = Tg, Rg.prototype = Object.create(Gu.prototype), Rg.prototype.constructor = Rg, Pg.prototype = Object.create(Gu.prototype), Pg.prototype.constructor = Pg, Mg.prototype = Object.create(Gu.prototype), Mg.prototype.constructor = Mg, Ng.prototype = Object.create(Gu.prototype), Ng.prototype.constructor = Ng, Dg.prototype = Object.create(Gu.prototype), Dg.prototype.constructor = Dg, xg.prototype = Object.create(Gu.prototype), xg.prototype.constructor = xg, zg.prototype = Object.create(Gu.prototype), zg.prototype.constructor = zg, Og.prototype = Object.create(Gu.prototype), Og.prototype.constructor = Og, Fg.prototype = Object.create(Gu.prototype), Fg.prototype.constructor = Fg, Bg.prototype = Object.create(Gu.prototype), Bg.prototype.constructor = Bg, Hg.prototype = Object.create(Gu.prototype), Hg.prototype.constructor = Hg, qg.prototype = Object.create(Gu.prototype), qg.prototype.constructor = qg, Gg.prototype = Object.create(Gu.prototype), Gg.prototype.constructor = Gg, Wg.prototype = Object.create(Gu.prototype), Wg.prototype.constructor = Wg, Yg.prototype = Object.create(Gu.prototype), Yg.prototype.constructor = Yg, Vg.prototype = Object.create(Gu.prototype), Vg.prototype.constructor = Vg, Kg.prototype = Object.create(Gu.prototype), Kg.prototype.constructor = Kg, Jg.prototype = Object.create(Gu.prototype), Jg.prototype.constructor = Jg, Zg.prototype = Object.create(Gu.prototype), Zg.prototype.constructor = Zg, Qg.prototype = Object.create(Gu.prototype), Qg.prototype.constructor = Qg, ev.prototype = Object.create(Gu.prototype), ev.prototype.constructor = ev, iv.prototype = Object.create(Gu.prototype), iv.prototype.constructor = iv, av.prototype = Object.create(Gu.prototype), av.prototype.constructor = av, rv.prototype = Object.create(Gu.prototype), rv.prototype.constructor = rv, nv.prototype = Object.create(Gu.prototype), nv.prototype.constructor = nv, ov.prototype = Object.create(Gu.prototype), ov.prototype.constructor = ov, lv.prototype = Object.create(Gu.prototype), lv.prototype.constructor = lv, cv.prototype = Object.create(Gu.prototype), cv.prototype.constructor = cv, pv.prototype = Object.create(Gu.prototype), pv.prototype.constructor = pv, hv.prototype = Object.create(Gu.prototype), hv.prototype.constructor = hv, dv.prototype = Object.create(Gu.prototype), dv.prototype.constructor = dv, uv.prototype = Object.create(Gu.prototype), uv.prototype.constructor = uv, mv.prototype = Object.create(Gu.prototype), mv.prototype.constructor = mv, $v.prototype = Object.create(Gu.prototype), $v.prototype.constructor = $v, gv.prototype = Object.create(Gu.prototype), gv.prototype.constructor = gv, vv.prototype = Object.create(Gu.prototype), vv.prototype.constructor = vv, Sv.prototype = Object.create(Gu.prototype), Sv.prototype.constructor = Sv, Cv.prototype = Object.create(Gu.prototype), Cv.prototype.constructor = Cv, Ev.prototype = Object.create(Gu.prototype), Ev.prototype.constructor = Ev, Av.prototype = Object.create(Gu.prototype), Av.prototype.constructor = Av, bv.prototype = Object.create(Gu.prototype), bv.prototype.constructor = bv, Iv.prototype = Object.create(Gu.prototype), Iv.prototype.constructor = Iv, kv.prototype = Object.create(Gu.prototype), kv.prototype.constructor = kv, Rv.prototype = Object.create(Gu.prototype), Rv.prototype.constructor = Rv, Pv.prototype = Object.create(Gu.prototype), Pv.prototype.constructor = Pv, Mv.prototype = Object.create(Gu.prototype), Mv.prototype.constructor = Mv, Nv.prototype = Object.create(Gu.prototype), Nv.prototype.constructor = Nv, Dv.prototype = Object.create(Gu.prototype), Dv.prototype.constructor = Dv, xv.prototype = Object.create(Gu.prototype), xv.prototype.constructor = xv, zv.prototype = Object.create(Gu.prototype), zv.prototype.constructor = zv, Ov.prototype = Object.create(Gu.prototype), Ov.prototype.constructor = Ov, Fv.prototype = Object.create(Gu.prototype), Fv.prototype.constructor = Fv, Bv.prototype = Object.create(Gu.prototype), Bv.prototype.constructor = Bv, jv.prototype = Object.create(Gu.prototype), jv.prototype.constructor = jv, Wv.prototype = Object.create(Gu.prototype), Wv.prototype.constructor = Wv, Yv.prototype = Object.create(Gu.prototype), Yv.prototype.constructor = Yv, Vv.prototype = Object.create(Gu.prototype), Vv.prototype.constructor = Vv, Kv.prototype = Object.create(Gu.prototype), Kv.prototype.constructor = Kv, Xv.prototype = Object.create(Gu.prototype), Xv.prototype.constructor = Xv, Jv.prototype = Object.create(Gu.prototype), Jv.prototype.constructor = Jv, Zv.prototype = Object.create(Gu.prototype), Zv.prototype.constructor = Zv, Qv.prototype = Object.create(Gu.prototype), Qv.prototype.constructor = Qv, tS.prototype = Object.create(Gu.prototype), tS.prototype.constructor = tS, eS.prototype = Object.create(Gu.prototype), eS.prototype.constructor = eS, iS.prototype = Object.create(Gu.prototype), iS.prototype.constructor = iS, aS.prototype = Object.create(Gu.prototype), aS.prototype.constructor = aS, sS.prototype = Object.create(Gu.prototype), sS.prototype.constructor = sS, lS.prototype = Object.create(Gu.prototype), lS.prototype.constructor = lS, cS.prototype = Object.create(Gu.prototype), cS.prototype.constructor = cS, pS.prototype = Object.create(Gu.prototype), pS.prototype.constructor = pS, hS.prototype = Object.create(Gu.prototype), hS.prototype.constructor = hS, dS.prototype = Object.create(Gu.prototype), dS.prototype.constructor = dS, uS.prototype = Object.create(Gu.prototype), uS.prototype.constructor = uS, _S.prototype = Object.create(Gu.prototype), _S.prototype.constructor = _S, fS.prototype = Object.create(Gu.prototype), fS.prototype.constructor = fS, yS.prototype = Object.create(Gu.prototype), yS.prototype.constructor = yS, mS.prototype = Object.create(Gu.prototype), mS.prototype.constructor = mS, $S.prototype = Object.create(Gu.prototype), $S.prototype.constructor = $S, CS.prototype = Object.create(Gu.prototype), CS.prototype.constructor = CS, ES.prototype = Object.create(Gu.prototype), ES.prototype.constructor = ES, AS.prototype = Object.create(Gu.prototype), AS.prototype.constructor = AS, bS.prototype = Object.create(Gu.prototype), bS.prototype.constructor = bS, IS.prototype = Object.create(Gu.prototype), IS.prototype.constructor = IS, wS.prototype = Object.create(Gu.prototype), wS.prototype.constructor = wS, LS.prototype = Object.create(Gu.prototype), LS.prototype.constructor = LS, TS.prototype = Object.create(Gu.prototype), TS.prototype.constructor = TS, kS.prototype = Object.create(Gu.prototype), kS.prototype.constructor = kS, PS.prototype = Object.create(Gu.prototype), PS.prototype.constructor = PS, xS.prototype = Object.create(Gu.prototype), xS.prototype.constructor = xS, zS.prototype = Object.create(Gu.prototype), zS.prototype.constructor = zS, OS.prototype = Object.create(Gu.prototype), OS.prototype.constructor = OS, FS.prototype = Object.create(Gu.prototype), FS.prototype.constructor = FS, BS.prototype = Object.create(Gu.prototype), BS.prototype.constructor = BS, jS.prototype = Object.create(Gu.prototype), jS.prototype.constructor = jS, HS.prototype = Object.create(Gu.prototype), HS.prototype.constructor = HS, qS.prototype = Object.create(Gu.prototype), qS.prototype.constructor = qS, US.prototype = Object.create(Gu.prototype), US.prototype.constructor = US, GS.prototype = Object.create(Gu.prototype), GS.prototype.constructor = GS, WS.prototype = Object.create(Gu.prototype), WS.prototype.constructor = WS, YS.prototype = Object.create(Gu.prototype), YS.prototype.constructor = YS, JS.prototype = Object.create(Gu.prototype), JS.prototype.constructor = JS, ZS.prototype = Object.create(Gu.prototype), ZS.prototype.constructor = ZS, QS.prototype = Object.create(Gu.prototype), QS.prototype.constructor = QS, tC.prototype = Object.create(Gu.prototype), tC.prototype.constructor = tC, eC.prototype = Object.create(Gu.prototype), eC.prototype.constructor = eC, iC.prototype = Object.create(Gu.prototype), iC.prototype.constructor = iC, aC.prototype = Object.create(Gu.prototype), aC.prototype.constructor = aC, rC.prototype = Object.create(Gu.prototype), rC.prototype.constructor = rC, nC.prototype = Object.create(Gu.prototype), nC.prototype.constructor = nC, oC.prototype = Object.create(Gu.prototype), oC.prototype.constructor = oC, sC.prototype = Object.create(Gu.prototype), sC.prototype.constructor = sC, lC.prototype = Object.create(Gu.prototype), lC.prototype.constructor = lC; dC.prototype = Object.create(Gu.prototype), dC.prototype.constructor = dC, uC.prototype = Object.create(Gu.prototype), uC.prototype.constructor = uC, mC.prototype = Object.create(Gu.prototype), mC.prototype.constructor = mC, $C.prototype = Object.create(Gu.prototype), $C.prototype.constructor = $C, gC.prototype = Object.create(Gu.prototype), gC.prototype.constructor = gC, vC.prototype = Object.create(Gu.prototype), vC.prototype.constructor = vC, SC.prototype = Object.create(Gu.prototype), SC.prototype.constructor = SC, CC.prototype = Object.create(Gu.prototype), CC.prototype.constructor = CC, EC.prototype = Object.create(Gu.prototype), EC.prototype.constructor = EC, wC.prototype = Object.create(Gu.prototype), wC.prototype.constructor = wC, LC.prototype = Object.create(Gu.prototype), LC.prototype.constructor = LC, TC.prototype = Object.create(Gu.prototype), TC.prototype.constructor = TC, kC.prototype = Object.create(Gu.prototype), kC.prototype.constructor = kC, RC.prototype = Object.create(Gu.prototype), RC.prototype.constructor = RC, PC.prototype = Object.create(Gu.prototype), PC.prototype.constructor = PC, MC.prototype = Object.create(Gu.prototype), MC.prototype.constructor = MC, NC.prototype = Object.create(Gu.prototype), NC.prototype.constructor = NC, OC.prototype = Object.create(Gu.prototype), OC.prototype.constructor = OC, FC.prototype = Object.create(Gu.prototype), FC.prototype.constructor = FC, BC.prototype = Object.create(Gu.prototype), BC.prototype.constructor = BC, HC.prototype = Object.create(Gu.prototype), HC.prototype.constructor = HC, qC.prototype = Object.create(Gu.prototype), qC.prototype.constructor = qC, UC.prototype = Object.create(Gu.prototype), UC.prototype.constructor = UC, GC.prototype = Object.create(Gu.prototype), GC.prototype.constructor = GC, WC.prototype = Object.create(Gu.prototype), WC.prototype.constructor = WC, YC.prototype = Object.create(Gu.prototype), YC.prototype.constructor = YC, VC.prototype = Object.create(Gu.prototype), VC.prototype.constructor = VC, KC.prototype = Object.create(Gu.prototype), KC.prototype.constructor = KC, XC.prototype = Object.create(Gu.prototype), XC.prototype.constructor = XC, JC.prototype = Object.create(Gu.prototype), JC.prototype.constructor = JC, ZC.prototype = Object.create(Gu.prototype), ZC.prototype.constructor = ZC, QC.prototype = Object.create(Gu.prototype), QC.prototype.constructor = QC, tE.prototype = Object.create(Gu.prototype), tE.prototype.constructor = tE, rE.prototype = Object.create(Gu.prototype), rE.prototype.constructor = rE, nE.prototype = Object.create(Gu.prototype), nE.prototype.constructor = nE, oE.prototype = Object.create(Gu.prototype), oE.prototype.constructor = oE, sE.prototype = Object.create(Gu.prototype), sE.prototype.constructor = sE, lE.prototype = Object.create(Gu.prototype), lE.prototype.constructor = lE, cE.prototype = Object.create(Gu.prototype), cE.prototype.constructor = cE, pE.prototype = Object.create(Gu.prototype), pE.prototype.constructor = pE, hE.prototype = Object.create(Gu.prototype), hE.prototype.constructor = hE, dE.prototype = Object.create(Gu.prototype), dE.prototype.constructor = dE, uE.prototype = Object.create(Gu.prototype), uE.prototype.constructor = uE, _E.prototype = Object.create(Gu.prototype), _E.prototype.constructor = _E, fE.prototype = Object.create(Gu.prototype), fE.prototype.constructor = fE, yE.prototype = Object.create(Gu.prototype), yE.prototype.constructor = yE, mE.prototype = Object.create(Gu.prototype), mE.prototype.constructor = mE, $E.prototype = Object.create(Gu.prototype), $E.prototype.constructor = $E, gE.prototype = Object.create(Gu.prototype), gE.prototype.constructor = gE, vE.prototype = Object.create(Gu.prototype), vE.prototype.constructor = vE, SE.prototype = Object.create(Gu.prototype), SE.prototype.constructor = SE, CE.prototype = Object.create(Gu.prototype), CE.prototype.constructor = CE, EE.prototype = Object.create(Gu.prototype), EE.prototype.constructor = EE, AE.prototype = Object.create(Gu.prototype), AE.prototype.constructor = AE, bE.prototype = Object.create(Gu.prototype), bE.prototype.constructor = bE, TE.prototype = Object.create(Gu.prototype), TE.prototype.constructor = TE, kE.prototype = Object.create(Gu.prototype), kE.prototype.constructor = kE, RE.prototype = Object.create(Gu.prototype), RE.prototype.constructor = RE, PE.prototype = Object.create(Gu.prototype), PE.prototype.constructor = PE, ME.prototype = Object.create(Gu.prototype), ME.prototype.constructor = ME, NE.prototype = Object.create(Gu.prototype), NE.prototype.constructor = NE, DE.prototype = Object.create(Gu.prototype), DE.prototype.constructor = DE, xE.prototype = Object.create(Gu.prototype), xE.prototype.constructor = xE, zE.prototype = Object.create(Gu.prototype), zE.prototype.constructor = zE, OE.prototype = Object.create(Gu.prototype), OE.prototype.constructor = OE, FE.prototype = Object.create(Gu.prototype), FE.prototype.constructor = FE, BE.prototype = Object.create(Gu.prototype), BE.prototype.constructor = BE, jE.prototype = Object.create(Gu.prototype), jE.prototype.constructor = jE, GE.prototype = Object.create(Gu.prototype), GE.prototype.constructor = GE, WE.prototype = Object.create(Gu.prototype), WE.prototype.constructor = WE, YE.prototype = Object.create(Gu.prototype), YE.prototype.constructor = YE, VE.prototype = Object.create(Gu.prototype), VE.prototype.constructor = VE, KE.prototype = Object.create(Gu.prototype), KE.prototype.constructor = KE, XE.prototype = Object.create(Gu.prototype), XE.prototype.constructor = XE, JE.prototype = Object.create(Gu.prototype), JE.prototype.constructor = JE, ZE.prototype = Object.create(Gu.prototype), ZE.prototype.constructor = ZE, QE.prototype = Object.create(Gu.prototype), QE.prototype.constructor = QE, tA.prototype = Object.create(Gu.prototype), tA.prototype.constructor = tA, eA.prototype = Object.create(Gu.prototype), eA.prototype.constructor = eA, iA.prototype = Object.create(Gu.prototype), iA.prototype.constructor = iA, aA.prototype = Object.create(Gu.prototype), aA.prototype.constructor = aA, rA.prototype = Object.create(Gu.prototype), rA.prototype.constructor = rA, nA.prototype = Object.create(Gu.prototype), nA.prototype.constructor = nA, oA.prototype = Object.create(Gu.prototype), oA.prototype.constructor = oA, sA.prototype = Object.create(Gu.prototype), sA.prototype.constructor = sA, lA.prototype = Object.create(Gu.prototype), lA.prototype.constructor = lA, cA.prototype = Object.create(Gu.prototype), cA.prototype.constructor = cA, pA.prototype = Object.create(Gu.prototype), pA.prototype.constructor = pA, hA.prototype = Object.create(Gu.prototype), hA.prototype.constructor = hA, dA.prototype = Object.create(Gu.prototype), dA.prototype.constructor = dA, uA.prototype = Object.create(Gu.prototype), uA.prototype.constructor = uA, _A.prototype = Object.create(Gu.prototype), _A.prototype.constructor = _A, fA.prototype = Object.create(Gu.prototype), fA.prototype.constructor = fA, yA.prototype = Object.create(Gu.prototype), yA.prototype.constructor = yA, mA.prototype = Object.create(Gu.prototype), mA.prototype.constructor = mA, $A.prototype = Object.create(Gu.prototype), $A.prototype.constructor = $A, gA.prototype = Object.create(Gu.prototype), gA.prototype.constructor = gA, vA.prototype = Object.create(Gu.prototype), vA.prototype.constructor = vA, SA.prototype = Object.create(Gu.prototype), SA.prototype.constructor = SA, CA.prototype = Object.create(Gu.prototype), CA.prototype.constructor = CA, EA.prototype = Object.create(Gu.prototype), EA.prototype.constructor = EA, AA.prototype = Object.create(Gu.prototype), AA.prototype.constructor = AA, bA.prototype = Object.create(Gu.prototype), bA.prototype.constructor = bA, IA.prototype = Object.create(Gu.prototype), IA.prototype.constructor = IA, wA.prototype = Object.create(Gu.prototype), wA.prototype.constructor = wA, LA.prototype = Object.create(Gu.prototype), LA.prototype.constructor = LA, TA.prototype = Object.create(Gu.prototype), TA.prototype.constructor = TA, kA.prototype = Object.create(Gu.prototype), kA.prototype.constructor = kA, RA.prototype = Object.create(Gu.prototype), RA.prototype.constructor = RA, PA.prototype = Object.create(Gu.prototype), PA.prototype.constructor = PA, MA.prototype = Object.create(Gu.prototype), MA.prototype.constructor = MA, NA.prototype = Object.create(Gu.prototype), NA.prototype.constructor = NA, DA.prototype = Object.create(Gu.prototype), DA.prototype.constructor = DA, xA.prototype = Object.create(Gu.prototype), xA.prototype.constructor = xA, zA.prototype = Object.create(Gu.prototype), zA.prototype.constructor = zA, OA.prototype = Object.create(Gu.prototype), OA.prototype.constructor = OA, FA.prototype = Object.create(Gu.prototype), FA.prototype.constructor = FA, BA.prototype = Object.create(Gu.prototype), BA.prototype.constructor = BA, jA.prototype = Object.create(Gu.prototype), jA.prototype.constructor = jA, HA.prototype = Object.create(Gu.prototype), HA.prototype.constructor = HA, qA.prototype = Object.create(Gu.prototype), qA.prototype.constructor = qA, UA.prototype = Object.create(Gu.prototype), UA.prototype.constructor = UA, GA.prototype = Object.create(Gu.prototype), GA.prototype.constructor = GA, WA.prototype = Object.create(Gu.prototype), WA.prototype.constructor = WA, YA.prototype = Object.create(Gu.prototype), YA.prototype.constructor = YA, VA.prototype = Object.create(Gu.prototype), VA.prototype.constructor = VA, KA.prototype = Object.create(Gu.prototype), KA.prototype.constructor = KA, XA.prototype = Object.create(Gu.prototype), XA.prototype.constructor = XA, JA.prototype = Object.create(Gu.prototype), JA.prototype.constructor = JA, eb.prototype = Object.create(Gu.prototype), eb.prototype.constructor = eb, ib.prototype = Object.create(Gu.prototype), ib.prototype.constructor = ib, ab.prototype = Object.create(Gu.prototype), ab.prototype.constructor = ab, rb.prototype = Object.create(Gu.prototype), rb.prototype.constructor = rb, nb.prototype = Object.create(Gu.prototype), nb.prototype.constructor = nb, ob.prototype = Object.create(Gu.prototype), ob.prototype.constructor = ob, sb.prototype = Object.create(Gu.prototype), sb.prototype.constructor = sb, lb.prototype = Object.create(Gu.prototype), lb.prototype.constructor = lb, cb.prototype = Object.create(Gu.prototype), cb.prototype.constructor = cb, ub.prototype = Object.create(Gu.prototype), ub.prototype.constructor = ub, _b.prototype = Object.create(Gu.prototype), _b.prototype.constructor = _b, fb.prototype = Object.create(Gu.prototype), fb.prototype.constructor = fb, yb.prototype = Object.create(Gu.prototype), yb.prototype.constructor = yb, mb.prototype = Object.create(Gu.prototype), mb.prototype.constructor = mb, $b.prototype = Object.create(Gu.prototype), $b.prototype.constructor = $b, gb.prototype = Object.create(Gu.prototype), gb.prototype.constructor = gb, vb.prototype = Object.create(Gu.prototype), vb.prototype.constructor = vb, Ab.prototype = Object.create(Gu.prototype), Ab.prototype.constructor = Ab, bb.prototype = Object.create(Gu.prototype), bb.prototype.constructor = bb, Ib.prototype = Object.create(Gu.prototype), Ib.prototype.constructor = Ib, wb.prototype = Object.create(Gu.prototype), wb.prototype.constructor = wb, Lb.prototype = Object.create(Gu.prototype), Lb.prototype.constructor = Lb, Tb.prototype = Object.create(Gu.prototype), Tb.prototype.constructor = Tb, kb.prototype = Object.create(Gu.prototype), kb.prototype.constructor = kb, Rb.prototype = Object.create(Gu.prototype), Rb.prototype.constructor = Rb, Pb.prototype = Object.create(Gu.prototype), Pb.prototype.constructor = Pb, Mb.prototype = Object.create(Gu.prototype), Mb.prototype.constructor = Mb, Nb.prototype = Object.create(Gu.prototype), Nb.prototype.constructor = Nb, Db.prototype = Object.create(Gu.prototype), Db.prototype.constructor = Db, xb.prototype = Object.create(Gu.prototype), xb.prototype.constructor = xb, zb.prototype = Object.create(Gu.prototype), zb.prototype.constructor = zb, Ob.prototype = Object.create(Gu.prototype), Ob.prototype.constructor = Ob, Hb.prototype = Object.create(Gu.prototype), Hb.prototype.constructor = Hb, qb.prototype = Object.create(Gu.prototype), qb.prototype.constructor = qb, Ub.prototype = Object.create(Gu.prototype), Ub.prototype.constructor = Ub, Gb.prototype = Object.create(Gu.prototype), Gb.prototype.constructor = Gb, Wb.prototype = Object.create(Gu.prototype), Wb.prototype.constructor = Wb, Yb.prototype = Object.create(Gu.prototype), Yb.prototype.constructor = Yb, Vb.prototype = Object.create(Gu.prototype), Vb.prototype.constructor = Vb, Zb.prototype = Object.create(Gu.prototype), Zb.prototype.constructor = Zb, Qb.prototype = Object.create(Gu.prototype), Qb.prototype.constructor = Qb, tI.prototype = Object.create(Gu.prototype), tI.prototype.constructor = tI, eI.prototype = Object.create(Gu.prototype), eI.prototype.constructor = eI, iI.prototype = Object.create(Gu.prototype), iI.prototype.constructor = iI, oI.prototype = Object.create(Gu.prototype), oI.prototype.constructor = oI, cI.prototype = Object.create(Gu.prototype), cI.prototype.constructor = cI, pI.prototype = Object.create(Gu.prototype), pI.prototype.constructor = pI, dI.prototype = Object.create(Gu.prototype), dI.prototype.constructor = dI, uI.prototype = Object.create(Gu.prototype), uI.prototype.constructor = uI, _I.prototype = Object.create(Gu.prototype), _I.prototype.constructor = _I, fI.prototype = Object.create(Gu.prototype), fI.prototype.constructor = fI, yI.prototype = Object.create(Gu.prototype), yI.prototype.constructor = yI, vI.prototype = Object.create(Gu.prototype), vI.prototype.constructor = vI, II.prototype = Object.create(Gu.prototype), II.prototype.constructor = II, LI.prototype = Object.create(v3.prototype), LI.prototype.constructor = LI, PI.prototype = Object.create(Gu.prototype), PI.prototype.constructor = PI, MI.prototype = Object.create(Gu.prototype), MI.prototype.constructor = MI, zI.prototype = Object.create(Gu.prototype), zI.prototype.constructor = zI, jI.prototype = Object.create(Gu.prototype), jI.prototype.constructor = jI, GI.prototype = Object.create(Gu.prototype), GI.prototype.constructor = GI, WI.prototype = Object.create(Gu.prototype), WI.prototype.constructor = WI, YI.prototype = Object.create(Gu.prototype), YI.prototype.constructor = YI, VI.prototype = Object.create(Gu.prototype), VI.prototype.constructor = VI, KI.prototype = Object.create(Gu.prototype), KI.prototype.constructor = KI, XI.prototype = Object.create(Gu.prototype), XI.prototype.constructor = XI, JI.prototype = Object.create(Gu.prototype), JI.prototype.constructor = JI, ZI.prototype = Object.create(Gu.prototype), ZI.prototype.constructor = ZI, QI.prototype = Object.create(Gu.prototype), QI.prototype.constructor = QI, tw.prototype = Object.create(Gu.prototype), tw.prototype.constructor = tw, ew.prototype = Object.create(Gu.prototype), ew.prototype.constructor = ew, iw.prototype = Object.create(Gu.prototype), iw.prototype.constructor = iw, aw.prototype = Object.create(Gu.prototype), aw.prototype.constructor = aw, rw.prototype = Object.create(Gu.prototype), rw.prototype.constructor = rw, nw.prototype = Object.create(Gu.prototype), nw.prototype.constructor = nw, ow.prototype = Object.create(Gu.prototype), ow.prototype.constructor = ow, sw.prototype = Object.create(Gu.prototype), sw.prototype.constructor = sw, lw.prototype = Object.create(Gu.prototype), lw.prototype.constructor = lw, cw.prototype = Object.create(Gu.prototype), cw.prototype.constructor = cw, pw.prototype = Object.create(Gu.prototype), pw.prototype.constructor = pw, hw.prototype = Object.create(Gu.prototype), hw.prototype.constructor = hw, dw.prototype = Object.create(Gu.prototype), dw.prototype.constructor = dw, uw.prototype = Object.create(Gu.prototype), uw.prototype.constructor = uw, _w.prototype = Object.create(Gu.prototype), _w.prototype.constructor = _w, $w.prototype = Object.create(Gu.prototype), $w.prototype.constructor = $w, Sw.prototype = Object.create(Gu.prototype), Sw.prototype.constructor = Sw, Cw.prototype = Object.create(Gu.prototype), Cw.prototype.constructor = Cw, Ew.prototype = Object.create(Gu.prototype), Ew.prototype.constructor = Ew, Aw.prototype = Object.create(Gu.prototype), Aw.prototype.constructor = Aw, bw.prototype = Object.create(Gu.prototype), bw.prototype.constructor = bw, Iw.prototype = Object.create(Gu.prototype), Iw.prototype.constructor = Iw, ww.prototype = Object.create(Gu.prototype), ww.prototype.constructor = ww, Lw.prototype = Object.create(Gu.prototype), Lw.prototype.constructor = Lw, kw.prototype = Object.create(Gu.prototype), kw.prototype.constructor = kw, Rw.prototype = Object.create(Gu.prototype), Rw.prototype.constructor = Rw, Pw.prototype = Object.create(Gu.prototype), Pw.prototype.constructor = Pw, Mw.prototype = Object.create(Gu.prototype), Mw.prototype.constructor = Mw, Nw.prototype = Object.create(Gu.prototype), Nw.prototype.constructor = Nw, Dw.prototype = Object.create(Gu.prototype), Dw.prototype.constructor = Dw, xw.prototype = Object.create(Gu.prototype), xw.prototype.constructor = xw, zw.prototype = Object.create(Gu.prototype), zw.prototype.constructor = zw, jw.prototype = Object.create(Gu.prototype), jw.prototype.constructor = jw, qw.prototype = Object.create(Gu.prototype), qw.prototype.constructor = qw, Uw.prototype = Object.create(Gu.prototype), Uw.prototype.constructor = Uw, Gw.prototype = Object.create(Gu.prototype), Gw.prototype.constructor = Gw, Ww.prototype = Object.create(Gu.prototype), Ww.prototype.constructor = Ww, Kw.prototype = Object.create(Gu.prototype), Kw.prototype.constructor = Kw, Xw.prototype = Object.create(Gu.prototype), Xw.prototype.constructor = Xw, Jw.prototype = Object.create(Gu.prototype), Jw.prototype.constructor = Jw, eL.prototype = Object.create(Gu.prototype), eL.prototype.constructor = eL, iL.prototype = Object.create(Gu.prototype), iL.prototype.constructor = iL, aL.prototype = Object.create(Gu.prototype), aL.prototype.constructor = aL, rL.prototype = Object.create(Gu.prototype), rL.prototype.constructor = rL, nL.prototype = Object.create(Gu.prototype), nL.prototype.constructor = nL, oL.prototype = Object.create(Gu.prototype), oL.prototype.constructor = oL, pL.prototype = Object.create(Gu.prototype), pL.prototype.constructor = pL, hL.prototype = Object.create(Gu.prototype), hL.prototype.constructor = hL, dL.prototype = Object.create(Gu.prototype), dL.prototype.constructor = dL, uL.prototype = Object.create(Gu.prototype), uL.prototype.constructor = uL, _L.prototype = Object.create(Gu.prototype), _L.prototype.constructor = _L, fL.prototype = Object.create(Gu.prototype), fL.prototype.constructor = fL, yL.prototype = Object.create(Gu.prototype), yL.prototype.constructor = yL, mL.prototype = Object.create(Gu.prototype), mL.prototype.constructor = mL, $L.prototype = Object.create(Gu.prototype), $L.prototype.constructor = $L, gL.prototype = Object.create(Gu.prototype), gL.prototype.constructor = gL, vL.prototype = Object.create(Gu.prototype), vL.prototype.constructor = vL, SL.prototype = Object.create(Gu.prototype), SL.prototype.constructor = SL, bL.prototype = Object.create(Gu.prototype), bL.prototype.constructor = bL, LL.prototype = Object.create(Gu.prototype), LL.prototype.constructor = LL, TL.prototype = Object.create(Gu.prototype), TL.prototype.constructor = TL, kL.prototype = Object.create(Gu.prototype), kL.prototype.constructor = kL, NL.prototype = Object.create(Gu.prototype), NL.prototype.constructor = NL, DL.prototype = Object.create(Gu.prototype), DL.prototype.constructor = DL, xL.prototype = Object.create(Gu.prototype), xL.prototype.constructor = xL, zL.prototype = Object.create(Gu.prototype), zL.prototype.constructor = zL, jL.prototype = Object.create(Gu.prototype), jL.prototype.constructor = jL, HL.prototype = Object.create(Gu.prototype), HL.prototype.constructor = HL, qL.prototype = Object.create(Gu.prototype), qL.prototype.constructor = qL, UL.prototype = Object.create(Gu.prototype), UL.prototype.constructor = UL, GL.prototype = Object.create(Gu.prototype), GL.prototype.constructor = GL, WL.prototype = Object.create(Gu.prototype), WL.prototype.constructor = WL, YL.prototype = Object.create(Gu.prototype), YL.prototype.constructor = YL, XL.prototype = Object.create(Gu.prototype), XL.prototype.constructor = XL, QL.prototype = Object.create(Gu.prototype), QL.prototype.constructor = QL, tT.prototype = Object.create(Gu.prototype), tT.prototype.constructor = tT, eT.prototype = Object.create(Gu.prototype), eT.prototype.constructor = eT, iT.prototype = Object.create(Gu.prototype), iT.prototype.constructor = iT, aT.prototype = Object.create(Gu.prototype), aT.prototype.constructor = aT, rT.prototype = Object.create(Gu.prototype), rT.prototype.constructor = rT, lT.prototype = Object.create(Gu.prototype), lT.prototype.constructor = lT, cT.prototype = Object.create(Gu.prototype), cT.prototype.constructor = cT, pT.prototype = Object.create(Gu.prototype), pT.prototype.constructor = pT, hT.prototype = Object.create(Gu.prototype), hT.prototype.constructor = hT, dT.prototype = Object.create(Gu.prototype), dT.prototype.constructor = dT, uT.prototype = Object.create(Gu.prototype), uT.prototype.constructor = uT, _T.prototype = Object.create(Gu.prototype), _T.prototype.constructor = _T, $T.prototype = Object.create(Gu.prototype), $T.prototype.constructor = $T, gT.prototype = Object.create(Gu.prototype), gT.prototype.constructor = gT, vT.prototype = Object.create(Gu.prototype), vT.prototype.constructor = vT, ST.prototype = Object.create(Gu.prototype), ST.prototype.constructor = ST, CT.prototype = Object.create(Gu.prototype), CT.prototype.constructor = CT, ET.prototype = Object.create(Gu.prototype), ET.prototype.constructor = ET, wT.prototype = Object.create(Gu.prototype), wT.prototype.constructor = wT, LT.prototype = Object.create(Gu.prototype), LT.prototype.constructor = LT, kT.prototype = Object.create(Gu.prototype), kT.prototype.constructor = kT, RT.prototype = Object.create(Gu.prototype), RT.prototype.constructor = RT, xT.prototype = Object.create(Gu.prototype), xT.prototype.constructor = xT, BT.prototype = Object.create(Gu.prototype), BT.prototype.constructor = BT, jT.prototype = Object.create(Gu.prototype), jT.prototype.constructor = jT, HT.prototype = Object.create(Gu.prototype), HT.prototype.constructor = HT, qT.prototype = Object.create(Gu.prototype), qT.prototype.constructor = qT, YT.prototype = Object.create(Gu.prototype), YT.prototype.constructor = YT, VT.prototype = Object.create(Gu.prototype), VT.prototype.constructor = VT, KT.prototype = Object.create(Gu.prototype), KT.prototype.constructor = KT, XT.prototype = Object.create(Gu.prototype), XT.prototype.constructor = XT, JT.prototype = Object.create(Gu.prototype), JT.prototype.constructor = JT, ZT.prototype = Object.create(Gu.prototype), ZT.prototype.constructor = ZT, QT.prototype = Object.create(Gu.prototype), QT.prototype.constructor = QT, tk.prototype = Object.create(Gu.prototype), tk.prototype.constructor = tk, ek.prototype = Object.create(Gu.prototype), ek.prototype.constructor = ek, nk.prototype = Object.create(Gu.prototype), nk.prototype.constructor = nk, ok.prototype = Object.create(Gu.prototype), ok.prototype.constructor = ok, sk.prototype = Object.create(Gu.prototype), sk.prototype.constructor = sk, lk.prototype = Object.create(Gu.prototype), lk.prototype.constructor = lk, ck.prototype = Object.create(Gu.prototype), ck.prototype.constructor = ck, pk.prototype = Object.create(Gu.prototype), pk.prototype.constructor = pk, hk.prototype = Object.create(Gu.prototype), hk.prototype.constructor = hk, mk.prototype = Object.create(Gu.prototype), mk.prototype.constructor = mk, $k.prototype = Object.create(Gu.prototype), $k.prototype.constructor = $k, gk.prototype = Object.create(Gu.prototype), gk.prototype.constructor = gk, Ek.prototype = Object.create(Gu.prototype), Ek.prototype.constructor = Ek, Ak.prototype = Object.create(Gu.prototype), Ak.prototype.constructor = Ak, bk.prototype = Object.create(Gu.prototype), bk.prototype.constructor = bk, Ik.prototype = Object.create(Gu.prototype), Ik.prototype.constructor = Ik, wk.prototype = Object.create(Gu.prototype), wk.prototype.constructor = wk, Tk.prototype = Object.create(Gu.prototype), Tk.prototype.constructor = Tk, kk.prototype = Object.create(Gu.prototype), kk.prototype.constructor = kk, Nk.prototype = Object.create(Gu.prototype), Nk.prototype.constructor = Nk, Dk.prototype = Object.create(Gu.prototype), Dk.prototype.constructor = Dk, xk.prototype = Object.create(Gu.prototype), xk.prototype.constructor = xk, zk.prototype = Object.create(Gu.prototype), zk.prototype.constructor = zk, Ok.prototype = Object.create(Gu.prototype), Ok.prototype.constructor = Ok, Fk.prototype = Object.create(Gu.prototype), Fk.prototype.constructor = Fk, Bk.prototype = Object.create(Gu.prototype), Bk.prototype.constructor = Bk, Uk.prototype = Object.create(Gu.prototype), Uk.prototype.constructor = Uk, Gk.prototype = Object.create(Gu.prototype), Gk.prototype.constructor = Gk, Wk.prototype = Object.create(Gu.prototype), Wk.prototype.constructor = Wk, Yk.prototype = Object.create(Gu.prototype), Yk.prototype.constructor = Yk, Vk.prototype = Object.create(Gu.prototype), Vk.prototype.constructor = Vk, Kk.prototype = Object.create(Gu.prototype), Kk.prototype.constructor = Kk, Qk.prototype = Object.create(Gu.prototype), Qk.prototype.constructor = Qk, tR.prototype = Object.create(Gu.prototype), tR.prototype.constructor = tR, rR.prototype = Object.create(Gu.prototype), rR.prototype.constructor = rR, oR.prototype = Object.create(Gu.prototype), oR.prototype.constructor = oR, sR.prototype = Object.create(Gu.prototype), sR.prototype.constructor = sR, lR.prototype = Object.create(Gu.prototype), lR.prototype.constructor = lR, cR.prototype = Object.create(Gu.prototype), cR.prototype.constructor = cR, pR.prototype = Object.create(Gu.prototype), pR.prototype.constructor = pR, hR.prototype = Object.create(Gu.prototype), hR.prototype.constructor = hR, dR.prototype = Object.create(Gu.prototype), dR.prototype.constructor = dR, yR.prototype = Object.create(Gu.prototype), yR.prototype.constructor = yR, gR.prototype = Object.create(Gu.prototype), gR.prototype.constructor = gR, vR.prototype = Object.create(Gu.prototype), vR.prototype.constructor = vR, SR.prototype = Object.create(Gu.prototype), SR.prototype.constructor = SR, CR.prototype = Object.create(Gu.prototype), CR.prototype.constructor = CR, ER.prototype = Object.create(Gu.prototype), ER.prototype.constructor = ER, wR.prototype = Object.create(Gu.prototype), wR.prototype.constructor = wR, LR.prototype = Object.create(Gu.prototype), LR.prototype.constructor = LR, TR.prototype = Object.create(Gu.prototype), TR.prototype.constructor = TR, kR.prototype = Object.create(Gu.prototype), kR.prototype.constructor = kR, RR.prototype = Object.create(Gu.prototype), RR.prototype.constructor = RR, PR.prototype = Object.create(Gu.prototype), PR.prototype.constructor = PR, zR.prototype = Object.create(Gu.prototype), zR.prototype.constructor = zR, qR.prototype = Object.create(Gu.prototype), qR.prototype.constructor = qR, UR.prototype = Object.create(Gu.prototype), UR.prototype.constructor = UR, GR.prototype = Object.create(Gu.prototype), GR.prototype.constructor = GR, WR.prototype = Object.create(Gu.prototype), WR.prototype.constructor = WR, YR.prototype = Object.create(Gu.prototype), YR.prototype.constructor = YR, VR.prototype = Object.create(Gu.prototype), VR.prototype.constructor = VR, ZR.prototype = Object.create(Gu.prototype), ZR.prototype.constructor = ZR, tP.prototype = Object.create(Gu.prototype), tP.prototype.constructor = tP, eP.prototype = Object.create(Gu.prototype), eP.prototype.constructor = eP, iP.prototype = Object.create(Gu.prototype), iP.prototype.constructor = iP, rP.prototype = Object.create(Gu.prototype), rP.prototype.constructor = rP, oP.prototype = Object.create(Gu.prototype), oP.prototype.constructor = oP, cP.prototype = Object.create(Gu.prototype), cP.prototype.constructor = cP, pP.prototype = Object.create(Gu.prototype), pP.prototype.constructor = pP, _P.prototype = Object.create(Gu.prototype), _P.prototype.constructor = _P, fP.prototype = Object.create(Gu.prototype), fP.prototype.constructor = fP, yP.prototype = Object.create(Gu.prototype), yP.prototype.constructor = yP, SP.prototype = Object.create(Gu.prototype), SP.prototype.constructor = SP, CP.prototype = Object.create(Gu.prototype), CP.prototype.constructor = CP, EP.prototype = Object.create(Gu.prototype), EP.prototype.constructor = EP, AP.prototype = Object.create(Gu.prototype), AP.prototype.constructor = AP, IP.prototype = Object.create(Gu.prototype), IP.prototype.constructor = IP, LP.prototype = Object.create(Gu.prototype), LP.prototype.constructor = LP, TP.prototype = Object.create(Gu.prototype), TP.prototype.constructor = TP, PP.prototype = Object.create(Gu.prototype), PP.prototype.constructor = PP, MP.prototype = Object.create(Gu.prototype), MP.prototype.constructor = MP, zP.prototype = Object.create(Gu.prototype), zP.prototype.constructor = zP, jP.prototype = Object.create(Gu.prototype), jP.prototype.constructor = jP, HP.prototype = Object.create(Gu.prototype), HP.prototype.constructor = HP, qP.prototype = Object.create(Gu.prototype), qP.prototype.constructor = qP, UP.prototype = Object.create(Gu.prototype), UP.prototype.constructor = UP, GP.prototype = Object.create(Gu.prototype), GP.prototype.constructor = GP, KP.prototype = Object.create(Gu.prototype), KP.prototype.constructor = KP, JP.prototype = Object.create(Gu.prototype), JP.prototype.constructor = JP, ZP.prototype = Object.create(Gu.prototype), ZP.prototype.constructor = ZP, iM.prototype = Object.create(Gu.prototype), iM.prototype.constructor = iM, rM.prototype = Object.create(Gu.prototype), rM.prototype.constructor = rM, nM.prototype = Object.create(Gu.prototype), nM.prototype.constructor = nM, oM.prototype = Object.create(Gu.prototype), oM.prototype.constructor = oM; lM.prototype = Object.create(Gu.prototype), lM.prototype.constructor = lM, pM.prototype = Object.create(Gu.prototype), pM.prototype.constructor = pM, hM.prototype = Object.create(Gu.prototype), hM.prototype.constructor = hM, dM.prototype = Object.create(Gu.prototype), dM.prototype.constructor = dM, uM.prototype = Object.create(Gu.prototype), uM.prototype.constructor = uM, _M.prototype = Object.create(Gu.prototype), _M.prototype.constructor = _M, fM.prototype = Object.create(Gu.prototype), fM.prototype.constructor = fM, yM.prototype = Object.create(Gu.prototype), yM.prototype.constructor = yM, mM.prototype = Object.create(Gu.prototype), mM.prototype.constructor = mM, $M.prototype = Object.create(Gu.prototype), $M.prototype.constructor = $M, gM.prototype = Object.create(Gu.prototype), gM.prototype.constructor = gM, vM.prototype = Object.create(Gu.prototype), vM.prototype.constructor = vM, SM.prototype = Object.create(Gu.prototype), SM.prototype.constructor = SM, EM.prototype = Object.create(Gu.prototype), EM.prototype.constructor = EM, bM.prototype = Object.create(Gu.prototype), bM.prototype.constructor = bM, IM.prototype = Object.create(Gu.prototype), IM.prototype.constructor = IM, wM.prototype = Object.create(Gu.prototype), wM.prototype.constructor = wM, LM.prototype = Object.create(Gu.prototype), LM.prototype.constructor = LM, TM.prototype = Object.create(Gu.prototype), TM.prototype.constructor = TM, kM.prototype = Object.create(Gu.prototype), kM.prototype.constructor = kM, RM.prototype = Object.create(Gu.prototype), RM.prototype.constructor = RM, PM.prototype = Object.create(Gu.prototype), PM.prototype.constructor = PM, MM.prototype = Object.create(Gu.prototype), MM.prototype.constructor = MM, NM.prototype = Object.create(Gu.prototype), NM.prototype.constructor = NM, DM.prototype = Object.create(Gu.prototype), DM.prototype.constructor = DM, xM.prototype = Object.create(Gu.prototype), xM.prototype.constructor = xM, zM.prototype = Object.create(Gu.prototype), zM.prototype.constructor = zM, OM.prototype = Object.create(Gu.prototype), OM.prototype.constructor = OM, FM.prototype = Object.create(Gu.prototype), FM.prototype.constructor = FM, jM.prototype = Object.create(Gu.prototype), jM.prototype.constructor = jM, HM.prototype = Object.create(Gu.prototype), HM.prototype.constructor = HM, qM.prototype = Object.create(Gu.prototype), qM.prototype.constructor = qM, UM.prototype = Object.create(Gu.prototype), UM.prototype.constructor = UM, GM.prototype = Object.create(Gu.prototype), GM.prototype.constructor = GM, WM.prototype = Object.create(Gu.prototype), WM.prototype.constructor = WM, YM.prototype = Object.create(Gu.prototype), YM.prototype.constructor = YM, VM.prototype = Object.create(Gu.prototype), VM.prototype.constructor = VM, KM.prototype = Object.create(Gu.prototype), KM.prototype.constructor = KM, JM.prototype = Object.create(Gu.prototype), JM.prototype.constructor = JM, ZM.prototype = Object.create(Gu.prototype), ZM.prototype.constructor = ZM, tN.prototype = Object.create(Gu.prototype), tN.prototype.constructor = tN, iN.prototype = Object.create(Gu.prototype), iN.prototype.constructor = iN, aN.prototype = Object.create(Gu.prototype), aN.prototype.constructor = aN, rN.prototype = Object.create(Gu.prototype), rN.prototype.constructor = rN, nN.prototype = Object.create(Gu.prototype), nN.prototype.constructor = nN, oN.prototype = Object.create(Gu.prototype), oN.prototype.constructor = oN, lN.prototype = Object.create(Gu.prototype), lN.prototype.constructor = lN, cN.prototype = Object.create(Gu.prototype), cN.prototype.constructor = cN, pN.prototype = Object.create(Gu.prototype), pN.prototype.constructor = pN, hN.prototype = Object.create(Gu.prototype), hN.prototype.constructor = hN, dN.prototype = Object.create(Gu.prototype), dN.prototype.constructor = dN, yN.prototype = Object.create(Gu.prototype), yN.prototype.constructor = yN, mN.prototype = Object.create(Gu.prototype), mN.prototype.constructor = mN, $N.prototype = Object.create(Gu.prototype), $N.prototype.constructor = $N, gN.prototype = Object.create(Gu.prototype), gN.prototype.constructor = gN, vN.prototype = Object.create(Gu.prototype), vN.prototype.constructor = vN, SN.prototype = Object.create(Gu.prototype), SN.prototype.constructor = SN, CN.prototype = Object.create(Gu.prototype), CN.prototype.constructor = CN, wN.prototype = Object.create(Gu.prototype), wN.prototype.constructor = wN, TN.prototype = Object.create(Gu.prototype), TN.prototype.constructor = TN, kN.prototype = Object.create(Gu.prototype), kN.prototype.constructor = kN, RN.prototype = Object.create(Gu.prototype), RN.prototype.constructor = RN, PN.prototype = Object.create(Gu.prototype), PN.prototype.constructor = PN, MN.prototype = Object.create(Gu.prototype), MN.prototype.constructor = MN, NN.prototype = Object.create(Gu.prototype), NN.prototype.constructor = NN, DN.prototype = Object.create(Gu.prototype), DN.prototype.constructor = DN, FN.prototype = Object.create(Gu.prototype), FN.prototype.constructor = FN, BN.prototype = Object.create(Gu.prototype), BN.prototype.constructor = BN, jN.prototype = Object.create(Gu.prototype), jN.prototype.constructor = jN, HN.prototype = Object.create(Gu.prototype), HN.prototype.constructor = HN, WN.prototype = Object.create(Gu.prototype), WN.prototype.constructor = WN, YN.prototype = Object.create(Gu.prototype), YN.prototype.constructor = YN, VN.prototype = Object.create(Gu.prototype), VN.prototype.constructor = VN, KN.prototype = Object.create(Gu.prototype), KN.prototype.constructor = KN, XN.prototype = Object.create(Gu.prototype), XN.prototype.constructor = XN, JN.prototype = Object.create(Gu.prototype), JN.prototype.constructor = JN, ZN.prototype = Object.create(Gu.prototype), ZN.prototype.constructor = ZN, iD.prototype = Object.create(Gu.prototype), iD.prototype.constructor = iD, aD.prototype = Object.create(Gu.prototype), aD.prototype.constructor = aD, rD.prototype = Object.create(Gu.prototype), rD.prototype.constructor = rD, lD.prototype = Object.create(Gu.prototype), lD.prototype.constructor = lD, pD.prototype = Object.create(Gu.prototype), pD.prototype.constructor = pD, hD.prototype = Object.create(Gu.prototype), hD.prototype.constructor = hD, dD.prototype = Object.create(Gu.prototype), dD.prototype.constructor = dD, uD.prototype = Object.create(Gu.prototype), uD.prototype.constructor = uD, _D.prototype = Object.create(Gu.prototype), _D.prototype.constructor = _D, fD.prototype = Object.create(Gu.prototype), fD.prototype.constructor = fD, yD.prototype = Object.create(Gu.prototype), yD.prototype.constructor = yD, mD.prototype = Object.create(Gu.prototype), mD.prototype.constructor = mD, SD.prototype = Object.create(Gu.prototype), SD.prototype.constructor = SD, ED.prototype = Object.create(Gu.prototype), ED.prototype.constructor = ED, AD.prototype = Object.create(Gu.prototype), AD.prototype.constructor = AD, TD.prototype = Object.create(Gu.prototype), TD.prototype.constructor = TD, kD.prototype = Object.create(Gu.prototype), kD.prototype.constructor = kD, RD.prototype = Object.create(Gu.prototype), RD.prototype.constructor = RD, PD.prototype = Object.create(Gu.prototype), PD.prototype.constructor = PD, MD.prototype = Object.create(Gu.prototype), MD.prototype.constructor = MD, ND.prototype = Object.create(Gu.prototype), ND.prototype.constructor = ND, DD.prototype = Object.create(Gu.prototype), DD.prototype.constructor = DD, FD.prototype = Object.create(Gu.prototype), FD.prototype.constructor = FD, jD.prototype = Object.create(Gu.prototype), jD.prototype.constructor = jD, HD.prototype = Object.create(Gu.prototype), HD.prototype.constructor = HD, qD.prototype = Object.create(Gu.prototype), qD.prototype.constructor = qD, UD.prototype = Object.create(Gu.prototype), UD.prototype.constructor = UD, GD.prototype = Object.create(Gu.prototype), GD.prototype.constructor = GD, WD.prototype = Object.create(Gu.prototype), WD.prototype.constructor = WD, XD.prototype = Object.create(Gu.prototype), XD.prototype.constructor = XD, JD.prototype = Object.create(Gu.prototype), JD.prototype.constructor = JD, ZD.prototype = Object.create(Gu.prototype), ZD.prototype.constructor = ZD, QD.prototype = Object.create(Gu.prototype), QD.prototype.constructor = QD, ex.prototype = Object.create(Gu.prototype), ex.prototype.constructor = ex, ix.prototype = Object.create(Gu.prototype), ix.prototype.constructor = ix, ax.prototype = Object.create(Gu.prototype), ax.prototype.constructor = ax, rx.prototype = Object.create(Gu.prototype), rx.prototype.constructor = rx, lx.prototype = Object.create(Gu.prototype), lx.prototype.constructor = lx, px.prototype = Object.create(Gu.prototype), px.prototype.constructor = px, hx.prototype = Object.create(Gu.prototype), hx.prototype.constructor = hx, dx.prototype = Object.create(Gu.prototype), dx.prototype.constructor = dx, yx.prototype = Object.create(Gu.prototype), yx.prototype.constructor = yx, mx.prototype = Object.create(Gu.prototype), mx.prototype.constructor = mx, $x.prototype = Object.create(Gu.prototype), $x.prototype.constructor = $x, gx.prototype = Object.create(Gu.prototype), gx.prototype.constructor = gx, vx.prototype = Object.create(Gu.prototype), vx.prototype.constructor = vx, Sx.prototype = Object.create(Gu.prototype), Sx.prototype.constructor = Sx, Cx.prototype = Object.create(Gu.prototype), Cx.prototype.constructor = Cx, Ex.prototype = Object.create(Gu.prototype), Ex.prototype.constructor = Ex, Ax.prototype = Object.create(Gu.prototype), Ax.prototype.constructor = Ax, bx.prototype = Object.create(Gu.prototype), bx.prototype.constructor = bx, Ix.prototype = Object.create(Gu.prototype), Ix.prototype.constructor = Ix, wx.prototype = Object.create(Gu.prototype), wx.prototype.constructor = wx, Lx.prototype = Object.create(Gu.prototype), Lx.prototype.constructor = Lx, Tx.prototype = Object.create(Gu.prototype), Tx.prototype.constructor = Tx, kx.prototype = Object.create(Gu.prototype), kx.prototype.constructor = kx, Rx.prototype = Object.create(Gu.prototype), Rx.prototype.constructor = Rx, Dx.prototype = Object.create(Gu.prototype), Dx.prototype.constructor = Dx, zx.prototype = Object.create(Gu.prototype), zx.prototype.constructor = zx, Ox.prototype = Object.create(Gu.prototype), Ox.prototype.constructor = Ox, Fx.prototype = Object.create(Gu.prototype), Fx.prototype.constructor = Fx, Bx.prototype = Object.create(Gu.prototype), Bx.prototype.constructor = Bx, jx.prototype = Object.create(Gu.prototype), jx.prototype.constructor = jx, Gx.prototype = Object.create(Gu.prototype), Gx.prototype.constructor = Gx, Yx.prototype = Object.create(Gu.prototype), Yx.prototype.constructor = Yx, Vx.prototype = Object.create(Gu.prototype), Vx.prototype.constructor = Vx, Kx.prototype = Object.create(Gu.prototype), Kx.prototype.constructor = Kx, Xx.prototype = Object.create(Gu.prototype), Xx.prototype.constructor = Xx, tz.prototype = Object.create(Gu.prototype), tz.prototype.constructor = tz, ez.prototype = Object.create(Gu.prototype), ez.prototype.constructor = ez, iz.prototype = Object.create(Gu.prototype), iz.prototype.constructor = iz, az.prototype = Object.create(Gu.prototype), az.prototype.constructor = az, sz.prototype = Object.create(Gu.prototype), sz.prototype.constructor = sz, lz.prototype = Object.create(Gu.prototype), lz.prototype.constructor = lz, dz.prototype = Object.create(Gu.prototype), dz.prototype.constructor = dz, uz.prototype = Object.create(Gu.prototype), uz.prototype.constructor = uz, _z.prototype = Object.create(Gu.prototype), _z.prototype.constructor = _z, fz.prototype = Object.create(Gu.prototype), fz.prototype.constructor = fz, mz.prototype = Object.create(Gu.prototype), mz.prototype.constructor = mz, $z.prototype = Object.create(Gu.prototype), $z.prototype.constructor = $z, gz.prototype = Object.create(Gu.prototype), gz.prototype.constructor = gz, vz.prototype = Object.create(Gu.prototype), vz.prototype.constructor = vz, Az.prototype = Object.create(Gu.prototype), Az.prototype.constructor = Az, Lz.prototype = Object.create(Gu.prototype), Lz.prototype.constructor = Lz, Tz.prototype = Object.create(Gu.prototype), Tz.prototype.constructor = Tz, kz.prototype = Object.create(Gu.prototype), kz.prototype.constructor = kz, Rz.prototype = Object.create(Gu.prototype), Rz.prototype.constructor = Rz, Pz.prototype = Object.create(Gu.prototype), Pz.prototype.constructor = Pz, Mz.prototype = Object.create(Gu.prototype), Mz.prototype.constructor = Mz, xz.prototype = Object.create(Gu.prototype), xz.prototype.constructor = xz, Fz.prototype = Object.create(Gu.prototype), Fz.prototype.constructor = Fz, Bz.prototype = Object.create(Gu.prototype), Bz.prototype.constructor = Bz, jz.prototype = Object.create(Gu.prototype), jz.prototype.constructor = jz, Hz.prototype = Object.create(Gu.prototype), Hz.prototype.constructor = Hz, Wz.prototype = Object.create(Gu.prototype), Wz.prototype.constructor = Wz, Vz.prototype = Object.create(Gu.prototype), Vz.prototype.constructor = Vz, Kz.prototype = Object.create(Gu.prototype), Kz.prototype.constructor = Kz, Xz.prototype = Object.create(Gu.prototype), Xz.prototype.constructor = Xz, Jz.prototype = Object.create(Gu.prototype), Jz.prototype.constructor = Jz, Zz.prototype = Object.create(Gu.prototype), Zz.prototype.constructor = Zz, Qz.prototype = Object.create(Gu.prototype), Qz.prototype.constructor = Qz, tO.prototype = Object.create(Gu.prototype), tO.prototype.constructor = tO, eO.prototype = Object.create(Gu.prototype), eO.prototype.constructor = eO, nO.prototype = Object.create(Gu.prototype), nO.prototype.constructor = nO, oO.prototype = Object.create(Gu.prototype), oO.prototype.constructor = oO, sO.prototype = Object.create(Gu.prototype), sO.prototype.constructor = sO, hO.prototype = Object.create(Gu.prototype), hO.prototype.constructor = hO, dO.prototype = Object.create(Gu.prototype), dO.prototype.constructor = dO, uO.prototype = Object.create(Gu.prototype), uO.prototype.constructor = uO, _O.prototype = Object.create(Gu.prototype), _O.prototype.constructor = _O, fO.prototype = Object.create(Gu.prototype), fO.prototype.constructor = fO, yO.prototype = Object.create(Gu.prototype), yO.prototype.constructor = yO, mO.prototype = Object.create(Gu.prototype), mO.prototype.constructor = mO, $O.prototype = Object.create(Gu.prototype), $O.prototype.constructor = $O, gO.prototype = Object.create(Gu.prototype), gO.prototype.constructor = gO, vO.prototype = Object.create(Gu.prototype), vO.prototype.constructor = vO, SO.prototype = Object.create(Gu.prototype), SO.prototype.constructor = SO, CO.prototype = Object.create(Gu.prototype), CO.prototype.constructor = CO, EO.prototype = Object.create(Gu.prototype), EO.prototype.constructor = EO, AO.prototype = Object.create(Gu.prototype), AO.prototype.constructor = AO, bO.prototype = Object.create(Gu.prototype), bO.prototype.constructor = bO, IO.prototype = Object.create(Gu.prototype), IO.prototype.constructor = IO, wO.prototype = Object.create(Gu.prototype), wO.prototype.constructor = wO, LO.prototype = Object.create(Gu.prototype), LO.prototype.constructor = LO, TO.prototype = Object.create(Gu.prototype), TO.prototype.constructor = TO, kO.prototype = Object.create(Gu.prototype), kO.prototype.constructor = kO, RO.prototype = Object.create(Gu.prototype), RO.prototype.constructor = RO, PO.prototype = Object.create(Gu.prototype), PO.prototype.constructor = PO, MO.prototype = Object.create(Gu.prototype), MO.prototype.constructor = MO, NO.prototype = Object.create(Gu.prototype), NO.prototype.constructor = NO, DO.prototype = Object.create(Gu.prototype), DO.prototype.constructor = DO, xO.prototype = Object.create(Gu.prototype), xO.prototype.constructor = xO, zO.prototype = Object.create(Gu.prototype), zO.prototype.constructor = zO, qO.prototype = Object.create(Gu.prototype), qO.prototype.constructor = qO, UO.prototype = Object.create(Gu.prototype), UO.prototype.constructor = UO, GO.prototype = Object.create(Gu.prototype), GO.prototype.constructor = GO, WO.prototype = Object.create(Gu.prototype), WO.prototype.constructor = WO, VO.prototype = Object.create(Gu.prototype), VO.prototype.constructor = VO, KO.prototype = Object.create(Gu.prototype), KO.prototype.constructor = KO, XO.prototype = Object.create(Gu.prototype), XO.prototype.constructor = XO, JO.prototype = Object.create(Gu.prototype), JO.prototype.constructor = JO, ZO.prototype = Object.create(Gu.prototype), ZO.prototype.constructor = ZO, QO.prototype = Object.create(Gu.prototype), QO.prototype.constructor = QO, tF.prototype = Object.create(Gu.prototype), tF.prototype.constructor = tF, eF.prototype = Object.create(Gu.prototype), eF.prototype.constructor = eF, iF.prototype = Object.create(Gu.prototype), iF.prototype.constructor = iF, aF.prototype = Object.create(Gu.prototype), aF.prototype.constructor = aF, rF.prototype = Object.create(Gu.prototype), rF.prototype.constructor = rF, nF.prototype = Object.create(Gu.prototype), nF.prototype.constructor = nF, oF.prototype = Object.create(Gu.prototype), oF.prototype.constructor = oF, pF.prototype = Object.create(Gu.prototype), pF.prototype.constructor = pF, hF.prototype = Object.create(Gu.prototype), hF.prototype.constructor = hF, dF.prototype = Object.create(Gu.prototype), dF.prototype.constructor = dF, uF.prototype = Object.create(Gu.prototype), uF.prototype.constructor = uF, _F.prototype = Object.create(Gu.prototype), _F.prototype.constructor = _F, fF.prototype = Object.create(Gu.prototype), fF.prototype.constructor = fF, gF.prototype = Object.create(Gu.prototype), gF.prototype.constructor = gF, SF.prototype = Object.create(Gu.prototype), SF.prototype.constructor = SF, EF.prototype = Object.create(Gu.prototype), EF.prototype.constructor = EF, AF.prototype = Object.create(Gu.prototype), AF.prototype.constructor = AF, bF.prototype = Object.create(Gu.prototype), bF.prototype.constructor = bF, IF.prototype = Object.create(Gu.prototype), IF.prototype.constructor = IF, wF.prototype = Object.create(Gu.prototype), wF.prototype.constructor = wF, LF.prototype = Object.create(Gu.prototype), LF.prototype.constructor = LF, TF.prototype = Object.create(Gu.prototype), TF.prototype.constructor = TF, kF.prototype = Object.create(Gu.prototype), kF.prototype.constructor = kF, RF.prototype = Object.create(Gu.prototype), RF.prototype.constructor = RF, PF.prototype = Object.create(Gu.prototype), PF.prototype.constructor = PF, MF.prototype = Object.create(Gu.prototype), MF.prototype.constructor = MF, NF.prototype = Object.create(Gu.prototype), NF.prototype.constructor = NF, DF.prototype = Object.create(Gu.prototype), DF.prototype.constructor = DF, xF.prototype = Object.create(Gu.prototype), xF.prototype.constructor = xF, zF.prototype = Object.create(Gu.prototype), zF.prototype.constructor = zF, OF.prototype = Object.create(Gu.prototype), OF.prototype.constructor = OF, FF.prototype = Object.create(Gu.prototype), FF.prototype.constructor = FF, qF.prototype = Object.create(Gu.prototype), qF.prototype.constructor = qF, UF.prototype = Object.create(Gu.prototype), UF.prototype.constructor = UF, GF.prototype = Object.create(Gu.prototype), GF.prototype.constructor = GF, WF.prototype = Object.create(Gu.prototype), WF.prototype.constructor = WF, YF.prototype = Object.create(Gu.prototype), YF.prototype.constructor = YF, VF.prototype = Object.create(Gu.prototype), VF.prototype.constructor = VF, eB.prototype = Object.create(Gu.prototype), eB.prototype.constructor = eB, iB.prototype = Object.create(Gu.prototype), iB.prototype.constructor = iB, aB.prototype = Object.create(Gu.prototype), aB.prototype.constructor = aB, rB.prototype = Object.create(Gu.prototype), rB.prototype.constructor = rB, nB.prototype = Object.create(Gu.prototype), nB.prototype.constructor = nB, oB.prototype = Object.create(Gu.prototype), oB.prototype.constructor = oB, sB.prototype = Object.create(Gu.prototype), sB.prototype.constructor = sB, lB.prototype = Object.create(Gu.prototype), lB.prototype.constructor = lB, cB.prototype = Object.create(Gu.prototype), cB.prototype.constructor = cB, pB.prototype = Object.create(Gu.prototype), pB.prototype.constructor = pB, hB.prototype = Object.create(Gu.prototype), hB.prototype.constructor = hB, dB.prototype = Object.create(Gu.prototype), dB.prototype.constructor = dB, vB.prototype = Object.create(Gu.prototype), vB.prototype.constructor = vB, CB.prototype = Object.create(Gu.prototype), CB.prototype.constructor = CB, EB.prototype = Object.create(Gu.prototype), EB.prototype.constructor = EB, AB.prototype = Object.create(Gu.prototype), AB.prototype.constructor = AB, bB.prototype = Object.create(Gu.prototype), bB.prototype.constructor = bB, IB.prototype = Object.create(Gu.prototype), IB.prototype.constructor = IB, wB.prototype = Object.create(Gu.prototype), wB.prototype.constructor = wB, LB.prototype = Object.create(Gu.prototype), LB.prototype.constructor = LB, TB.prototype = Object.create(Gu.prototype), TB.prototype.constructor = TB, kB.prototype = Object.create(Gu.prototype), kB.prototype.constructor = kB, RB.prototype = Object.create(Gu.prototype), RB.prototype.constructor = RB, PB.prototype = Object.create(Gu.prototype), PB.prototype.constructor = PB, MB.prototype = Object.create(Gu.prototype), MB.prototype.constructor = MB, NB.prototype = Object.create(Gu.prototype), NB.prototype.constructor = NB, FB.prototype = Object.create(Gu.prototype), FB.prototype.constructor = FB, UB.prototype = Object.create(Gu.prototype), UB.prototype.constructor = UB, GB.prototype = Object.create(Gu.prototype), GB.prototype.constructor = GB, WB.prototype = Object.create(Gu.prototype), WB.prototype.constructor = WB, ZB.prototype = Object.create(Gu.prototype), ZB.prototype.constructor = ZB, QB.prototype = Object.create(Gu.prototype), QB.prototype.constructor = QB, tj.prototype = Object.create(Gu.prototype), tj.prototype.constructor = tj, ej.prototype = Object.create(Gu.prototype), ej.prototype.constructor = ej, ij.prototype = Object.create(Gu.prototype), ij.prototype.constructor = ij, aj.prototype = Object.create(Gu.prototype), aj.prototype.constructor = aj, rj.prototype = Object.create(Gu.prototype), rj.prototype.constructor = rj, nj.prototype = Object.create(Gu.prototype), nj.prototype.constructor = nj, cj.prototype = Object.create(Gu.prototype), cj.prototype.constructor = cj, pj.prototype = Object.create(Gu.prototype), pj.prototype.constructor = pj, _j.prototype = Object.create(Gu.prototype), _j.prototype.constructor = _j, fj.prototype = Object.create(Gu.prototype), fj.prototype.constructor = fj, yj.prototype = Object.create(Gu.prototype), yj.prototype.constructor = yj, mj.prototype = Object.create(Gu.prototype), mj.prototype.constructor = mj, $j.prototype = Object.create(Gu.prototype), $j.prototype.constructor = $j, gj.prototype = Object.create(Gu.prototype), gj.prototype.constructor = gj, vj.prototype = Object.create(Gu.prototype), vj.prototype.constructor = vj, Aj.prototype = Object.create(Gu.prototype), Aj.prototype.constructor = Aj, bj.prototype = Object.create(Gu.prototype), bj.prototype.constructor = bj, Ij.prototype = Object.create(Gu.prototype), Ij.prototype.constructor = Ij, wj.prototype = Object.create(Gu.prototype), wj.prototype.constructor = wj, Lj.prototype = Object.create(Gu.prototype), Lj.prototype.constructor = Lj, Tj.prototype = Object.create(Gu.prototype), Tj.prototype.constructor = Tj, kj.prototype = Object.create(Gu.prototype), kj.prototype.constructor = kj, Rj.prototype = Object.create(Gu.prototype), Rj.prototype.constructor = Rj, Mj.prototype = Object.create(Gu.prototype), Mj.prototype.constructor = Mj, zj.prototype = Object.create(Gu.prototype), zj.prototype.constructor = zj, Oj.prototype = Object.create(Gu.prototype), Oj.prototype.constructor = Oj, Fj.prototype = Object.create(Gu.prototype), Fj.prototype.constructor = Fj, Bj.prototype = Object.create(Gu.prototype), Bj.prototype.constructor = Bj, jj.prototype = Object.create(Gu.prototype), jj.prototype.constructor = jj, Hj.prototype = Object.create(Gu.prototype), Hj.prototype.constructor = Hj, qj.prototype = Object.create(Gu.prototype), qj.prototype.constructor = qj, Uj.prototype = Object.create(Gu.prototype), Uj.prototype.constructor = Uj, Gj.prototype = Object.create(Gu.prototype), Gj.prototype.constructor = Gj, Wj.prototype = Object.create(Gu.prototype), Wj.prototype.constructor = Wj, Yj.prototype = Object.create(Gu.prototype), Yj.prototype.constructor = Yj, Vj.prototype = Object.create(Gu.prototype), Vj.prototype.constructor = Vj, Kj.prototype = Object.create(Gu.prototype), Kj.prototype.constructor = Kj, Xj.prototype = Object.create(Gu.prototype), Xj.prototype.constructor = Xj, Jj.prototype = Object.create(Gu.prototype), Jj.prototype.constructor = Jj, Zj.prototype = Object.create(Gu.prototype), Zj.prototype.constructor = Zj, Qj.prototype = Object.create(Gu.prototype), Qj.prototype.constructor = Qj, tH.prototype = Object.create(Gu.prototype), tH.prototype.constructor = tH, rH.prototype = Object.create(Gu.prototype), rH.prototype.constructor = rH, oH.prototype = Object.create(Gu.prototype), oH.prototype.constructor = oH, sH.prototype = Object.create(Gu.prototype), sH.prototype.constructor = sH, hH.prototype = Object.create(Gu.prototype), hH.prototype.constructor = hH, dH.prototype = Object.create(Gu.prototype), dH.prototype.constructor = dH, uH.prototype = Object.create(Gu.prototype), uH.prototype.constructor = uH, _H.prototype = Object.create(Gu.prototype), _H.prototype.constructor = _H, fH.prototype = Object.create(Gu.prototype), fH.prototype.constructor = fH, yH.prototype = Object.create(Gu.prototype), yH.prototype.constructor = yH, $H.prototype = Object.create(v3.prototype), $H.prototype.constructor = $H, mH.prototype = Object.create(Gu.prototype), mH.prototype.constructor = mH, gH.prototype = Object.create(Gu.prototype), gH.prototype.constructor = gH, vH.prototype = Object.create(Gu.prototype), vH.prototype.constructor = vH, SH.prototype = Object.create(Gu.prototype), SH.prototype.constructor = SH, IH.prototype = Object.create(Gu.prototype), IH.prototype.constructor = IH, TH.prototype = Object.create(Gu.prototype), TH.prototype.constructor = TH, kH.prototype = Object.create(Gu.prototype), kH.prototype.constructor = kH, RH.prototype = Object.create(Gu.prototype), RH.prototype.constructor = RH, PH.prototype = Object.create(Gu.prototype), PH.prototype.constructor = PH, MH.prototype = Object.create(Gu.prototype), MH.prototype.constructor = MH, NH.prototype = Object.create(Gu.prototype), NH.prototype.constructor = NH, DH.prototype = Object.create(Gu.prototype), DH.prototype.constructor = DH, xH.prototype = Object.create(Gu.prototype), xH.prototype.constructor = xH, zH.prototype = Object.create(Gu.prototype), zH.prototype.constructor = zH, OH.prototype = Object.create(Gu.prototype), OH.prototype.constructor = OH, FH.prototype = Object.create(Gu.prototype), FH.prototype.constructor = FH, BH.prototype = Object.create(Gu.prototype), BH.prototype.constructor = BH, jH.prototype = Object.create(Gu.prototype), jH.prototype.constructor = jH, HH.prototype = Object.create(Gu.prototype), HH.prototype.constructor = HH, WH.prototype = Object.create(Gu.prototype), WH.prototype.constructor = WH, YH.prototype = Object.create(Gu.prototype), YH.prototype.constructor = YH, VH.prototype = Object.create(Gu.prototype), VH.prototype.constructor = VH, KH.prototype = Object.create(Gu.prototype), KH.prototype.constructor = KH, XH.prototype = Object.create(Gu.prototype), XH.prototype.constructor = XH, JH.prototype = Object.create(Gu.prototype), JH.prototype.constructor = JH, ZH.prototype = Object.create(Gu.prototype), ZH.prototype.constructor = ZH, QH.prototype = Object.create(Gu.prototype), QH.prototype.constructor = QH, tq.prototype = Object.create(Gu.prototype), tq.prototype.constructor = tq, eq.prototype = Object.create(Gu.prototype), eq.prototype.constructor = eq, iq.prototype = Object.create(Gu.prototype), iq.prototype.constructor = iq, aq.prototype = Object.create(Gu.prototype), aq.prototype.constructor = aq, sq.prototype = Object.create(Gu.prototype), sq.prototype.constructor = sq, lq.prototype = Object.create(Gu.prototype), lq.prototype.constructor = lq, cq.prototype = Object.create(Gu.prototype), cq.prototype.constructor = cq, pq.prototype = Object.create(Gu.prototype), pq.prototype.constructor = pq, hq.prototype = Object.create(Gu.prototype), hq.prototype.constructor = hq, dq.prototype = Object.create(Gu.prototype), dq.prototype.constructor = dq, _q.prototype = Object.create(Gu.prototype), _q.prototype.constructor = _q, bq.prototype = Object.create(W0.prototype), bq.prototype.constructor = bq, Nq.prototype = Object.create(Tq.prototype), Nq.prototype.constructor = Nq, Dq.prototype = Object.create(Tq.prototype), Dq.prototype.constructor = Dq, xq.prototype = Object.create(Tq.prototype), xq.prototype.constructor = xq, zq.prototype = Object.create(Tq.prototype), zq.prototype.constructor = zq, Oq.prototype = Object.create(Tq.prototype), Oq.prototype.constructor = Oq, Fq.prototype = Object.create(Tq.prototype), Fq.prototype.constructor = Fq, Bq.prototype = Object.create(Tq.prototype), Bq.prototype.constructor = Bq, jq.prototype = Object.create(Tq.prototype), jq.prototype.constructor = jq, Hq.prototype = Object.create(Tq.prototype), Hq.prototype.constructor = Hq, qq.prototype = Object.create(Tq.prototype), qq.prototype.constructor = qq, Uq.prototype = Object.create(Tq.prototype), Uq.prototype.constructor = Uq, Gq.prototype = Object.create(Tq.prototype), Gq.prototype.constructor = Gq, Wq.prototype = Object.create(Tq.prototype), Wq.prototype.constructor = Wq, Yq.prototype = Object.create(Tq.prototype), Yq.prototype.constructor = Yq, Vq.prototype = Object.create(Tq.prototype), Vq.prototype.constructor = Vq, Kq.prototype = Object.create(Tq.prototype), Kq.prototype.constructor = Kq, Xq.prototype = Object.create(Tq.prototype), Xq.prototype.constructor = Xq, Jq.prototype = Object.create(Tq.prototype), Jq.prototype.constructor = Jq, Zq.prototype = Object.create(Tq.prototype), Zq.prototype.constructor = Zq; Qq.prototype = Object.create(Tq.prototype), Qq.prototype.constructor = Qq, tU.prototype = Object.create(Tq.prototype), tU.prototype.constructor = tU, eU.prototype = Object.create(Tq.prototype), eU.prototype.constructor = eU, iU.prototype = Object.create(Tq.prototype), iU.prototype.constructor = iU, aU.prototype = Object.create(Tq.prototype), aU.prototype.constructor = aU, rU.prototype = Object.create(Tq.prototype), rU.prototype.constructor = rU, nU.prototype = Object.create(Tq.prototype), nU.prototype.constructor = nU, oU.prototype = Object.create(Tq.prototype), oU.prototype.constructor = oU, sU.prototype = Object.create(Tq.prototype), sU.prototype.constructor = sU, lU.prototype = Object.create(Tq.prototype), lU.prototype.constructor = lU, cU.prototype = Object.create(Tq.prototype), cU.prototype.constructor = cU, pU.prototype = Object.create(Tq.prototype), pU.prototype.constructor = pU, hU.prototype = Object.create(Tq.prototype), hU.prototype.constructor = hU, dU.prototype = Object.create(Tq.prototype), dU.prototype.constructor = dU, uU.prototype = Object.create(Tq.prototype), uU.prototype.constructor = uU, _U.prototype = Object.create(Tq.prototype), _U.prototype.constructor = _U, fU.prototype = Object.create(Tq.prototype), fU.prototype.constructor = fU, yU.prototype = Object.create(Tq.prototype), yU.prototype.constructor = yU, mU.prototype = Object.create(Tq.prototype), mU.prototype.constructor = mU, $U.prototype = Object.create(Tq.prototype), $U.prototype.constructor = $U, gU.prototype = Object.create(Tq.prototype), gU.prototype.constructor = gU, vU.prototype = Object.create(Tq.prototype), vU.prototype.constructor = vU, SU.prototype = Object.create(Tq.prototype), SU.prototype.constructor = SU, CU.prototype = Object.create(Tq.prototype), CU.prototype.constructor = CU, EU.prototype = Object.create(Tq.prototype), EU.prototype.constructor = EU, AU.prototype = Object.create(Tq.prototype), AU.prototype.constructor = AU, bU.prototype = Object.create(Tq.prototype), bU.prototype.constructor = bU, IU.prototype = Object.create(Tq.prototype), IU.prototype.constructor = IU, wU.prototype = Object.create(Tq.prototype), wU.prototype.constructor = wU, LU.prototype = Object.create(Tq.prototype), LU.prototype.constructor = LU, TU.prototype = Object.create(Tq.prototype), TU.prototype.constructor = TU, kU.prototype = Object.create(Tq.prototype), kU.prototype.constructor = kU, RU.prototype = Object.create(Tq.prototype), RU.prototype.constructor = RU, PU.prototype = Object.create(Tq.prototype), PU.prototype.constructor = PU, MU.prototype = Object.create(Tq.prototype), MU.prototype.constructor = MU, NU.prototype = Object.create(Tq.prototype), NU.prototype.constructor = NU, DU.prototype = Object.create(Tq.prototype), DU.prototype.constructor = DU, xU.prototype = Object.create(Tq.prototype), xU.prototype.constructor = xU, zU.prototype = Object.create(Tq.prototype), zU.prototype.constructor = zU, OU.prototype = Object.create(Tq.prototype), OU.prototype.constructor = OU, FU.prototype = Object.create(Tq.prototype), FU.prototype.constructor = FU, BU.prototype = Object.create(Tq.prototype), BU.prototype.constructor = BU, jU.prototype = Object.create(Tq.prototype), jU.prototype.constructor = jU, HU.prototype = Object.create(Tq.prototype), HU.prototype.constructor = HU, qU.prototype = Object.create(Tq.prototype), qU.prototype.constructor = qU, UU.prototype = Object.create(Tq.prototype), UU.prototype.constructor = UU, GU.prototype = Object.create(Tq.prototype), GU.prototype.constructor = GU, WU.prototype = Object.create(Tq.prototype), WU.prototype.constructor = WU, YU.prototype = Object.create(Tq.prototype), YU.prototype.constructor = YU, VU.prototype = Object.create(Tq.prototype), VU.prototype.constructor = VU, KU.prototype = Object.create(Tq.prototype), KU.prototype.constructor = KU, XU.prototype = Object.create(Tq.prototype), XU.prototype.constructor = XU, JU.prototype = Object.create(Tq.prototype), JU.prototype.constructor = JU, ZU.prototype = Object.create(Tq.prototype), ZU.prototype.constructor = ZU, QU.prototype = Object.create(Tq.prototype), QU.prototype.constructor = QU, tG.prototype = Object.create(Tq.prototype), tG.prototype.constructor = tG, eG.prototype = Object.create(Tq.prototype), eG.prototype.constructor = eG, iG.prototype = Object.create(Tq.prototype), iG.prototype.constructor = iG, aG.prototype = Object.create(Tq.prototype), aG.prototype.constructor = aG, rG.prototype = Object.create(Tq.prototype), rG.prototype.constructor = rG, nG.prototype = Object.create(Tq.prototype), nG.prototype.constructor = nG, oG.prototype = Object.create(Tq.prototype), oG.prototype.constructor = oG, sG.prototype = Object.create(Tq.prototype), sG.prototype.constructor = sG, lG.prototype = Object.create(Tq.prototype), lG.prototype.constructor = lG, cG.prototype = Object.create(Tq.prototype), cG.prototype.constructor = cG, pG.prototype = Object.create(Tq.prototype), pG.prototype.constructor = pG, hG.prototype = Object.create(Tq.prototype), hG.prototype.constructor = hG, dG.prototype = Object.create(Tq.prototype), dG.prototype.constructor = dG, uG.prototype = Object.create(Tq.prototype), uG.prototype.constructor = uG, _G.prototype = Object.create(Tq.prototype), _G.prototype.constructor = _G, fG.prototype = Object.create(Tq.prototype), fG.prototype.constructor = fG, yG.prototype = Object.create(Tq.prototype), yG.prototype.constructor = yG, mG.prototype = Object.create(Tq.prototype), mG.prototype.constructor = mG, $G.prototype = Object.create(Tq.prototype), $G.prototype.constructor = $G, gG.prototype = Object.create(Tq.prototype), gG.prototype.constructor = gG, vG.prototype = Object.create(Tq.prototype), vG.prototype.constructor = vG, SG.prototype = Object.create(Tq.prototype), SG.prototype.constructor = SG, CG.prototype = Object.create(Tq.prototype), CG.prototype.constructor = CG, EG.prototype = Object.create(Tq.prototype), EG.prototype.constructor = EG, AG.prototype = Object.create(Tq.prototype), AG.prototype.constructor = AG, bG.prototype = Object.create(Tq.prototype), bG.prototype.constructor = bG, IG.prototype = Object.create(Tq.prototype), IG.prototype.constructor = IG, wG.prototype = Object.create(Tq.prototype), wG.prototype.constructor = wG, LG.prototype = Object.create(Tq.prototype), LG.prototype.constructor = LG, TG.prototype = Object.create(Tq.prototype), TG.prototype.constructor = TG, kG.prototype = Object.create(Tq.prototype), kG.prototype.constructor = kG, RG.prototype = Object.create(Tq.prototype), RG.prototype.constructor = RG, PG.prototype = Object.create(Tq.prototype), PG.prototype.constructor = PG, MG.prototype = Object.create(Tq.prototype), MG.prototype.constructor = MG, NG.prototype = Object.create(Tq.prototype), NG.prototype.constructor = NG, DG.prototype = Object.create(Tq.prototype), DG.prototype.constructor = DG, xG.prototype = Object.create(Tq.prototype), xG.prototype.constructor = xG, zG.prototype = Object.create(Tq.prototype), zG.prototype.constructor = zG, OG.prototype = Object.create(Tq.prototype), OG.prototype.constructor = OG, FG.prototype = Object.create(Tq.prototype), FG.prototype.constructor = FG, BG.prototype = Object.create(Tq.prototype), BG.prototype.constructor = BG, jG.prototype = Object.create(Tq.prototype), jG.prototype.constructor = jG, HG.prototype = Object.create(Tq.prototype), HG.prototype.constructor = HG, qG.prototype = Object.create(Tq.prototype), qG.prototype.constructor = qG, UG.prototype = Object.create(Tq.prototype), UG.prototype.constructor = UG, GG.prototype = Object.create(Tq.prototype), GG.prototype.constructor = GG, WG.prototype = Object.create(Tq.prototype), WG.prototype.constructor = WG, YG.prototype = Object.create(Tq.prototype), YG.prototype.constructor = YG, VG.prototype = Object.create(Tq.prototype), VG.prototype.constructor = VG, KG.prototype = Object.create(Tq.prototype), KG.prototype.constructor = KG, XG.prototype = Object.create(Tq.prototype), XG.prototype.constructor = XG, JG.prototype = Object.create(Tq.prototype), JG.prototype.constructor = JG, ZG.prototype = Object.create(Tq.prototype), ZG.prototype.constructor = ZG, QG.prototype = Object.create(Tq.prototype), QG.prototype.constructor = QG, tW.prototype = Object.create(Tq.prototype), tW.prototype.constructor = tW, eW.prototype = Object.create(Tq.prototype), eW.prototype.constructor = eW, iW.prototype = Object.create(Tq.prototype), iW.prototype.constructor = iW, aW.prototype = Object.create(Tq.prototype), aW.prototype.constructor = aW, rW.prototype = Object.create(Tq.prototype), rW.prototype.constructor = rW, nW.prototype = Object.create(Tq.prototype), nW.prototype.constructor = nW, oW.prototype = Object.create(Tq.prototype), oW.prototype.constructor = oW, sW.prototype = Object.create(Tq.prototype), sW.prototype.constructor = sW, lW.prototype = Object.create(Tq.prototype), lW.prototype.constructor = lW, cW.prototype = Object.create(Tq.prototype), cW.prototype.constructor = cW, pW.prototype = Object.create(Tq.prototype), pW.prototype.constructor = pW, hW.prototype = Object.create(Tq.prototype), hW.prototype.constructor = hW, dW.prototype = Object.create(Tq.prototype), dW.prototype.constructor = dW, uW.prototype = Object.create(Tq.prototype), uW.prototype.constructor = uW, _W.prototype = Object.create(Tq.prototype), _W.prototype.constructor = _W, fW.prototype = Object.create(Tq.prototype), fW.prototype.constructor = fW, yW.prototype = Object.create(Tq.prototype), yW.prototype.constructor = yW, mW.prototype = Object.create(Tq.prototype), mW.prototype.constructor = mW, $W.prototype = Object.create(Tq.prototype), $W.prototype.constructor = $W, gW.prototype = Object.create(Tq.prototype), gW.prototype.constructor = gW, vW.prototype = Object.create(Tq.prototype), vW.prototype.constructor = vW, SW.prototype = Object.create(Tq.prototype), SW.prototype.constructor = SW, CW.prototype = Object.create(Tq.prototype), CW.prototype.constructor = CW, EW.prototype = Object.create(Tq.prototype), EW.prototype.constructor = EW, kq.prototype = Object.create(W0.prototype), kq.prototype.constructor = kq, OW.prototype = Object.create(NW.prototype), OW.prototype.constructor = OW, FW.prototype = Object.create(NW.prototype), FW.prototype.constructor = FW, WW.prototype = Object.create(W0.prototype), WW.prototype.constructor = WW, i1.prototype = Object.create(iu.prototype), i1.prototype.constructor = i1, FY.prototype = Object.create(i1.prototype), FY.prototype.constructor = FY, tV.prototype = Object.create(PV.prototype), tV.prototype.constructor = tV, eV.prototype = Object.create(PV.prototype), eV.prototype.constructor = eV, iV.prototype = Object.create(PV.prototype), iV.prototype.constructor = iV, aV.prototype = Object.create(PV.prototype), aV.prototype.constructor = aV, rV.prototype = Object.create(PV.prototype), rV.prototype.constructor = rV, nV.prototype = Object.create(PV.prototype), nV.prototype.constructor = nV, oV.prototype = Object.create(PV.prototype), oV.prototype.constructor = oV, sV.prototype = Object.create(PV.prototype), sV.prototype.constructor = sV, lV.prototype = Object.create(PV.prototype), lV.prototype.constructor = lV, cV.prototype = Object.create(PV.prototype), cV.prototype.constructor = cV, pV.prototype = Object.create(PV.prototype), pV.prototype.constructor = pV, hV.prototype = Object.create(PV.prototype), hV.prototype.constructor = hV, dV.prototype = Object.create(PV.prototype), dV.prototype.constructor = dV, uV.prototype = Object.create(PV.prototype), uV.prototype.constructor = uV, _V.prototype = Object.create(PV.prototype), _V.prototype.constructor = _V, fV.prototype = Object.create(PV.prototype), fV.prototype.constructor = fV, yV.prototype = Object.create(MV.prototype), yV.prototype.constructor = yV, mV.prototype = Object.create(MV.prototype), mV.prototype.constructor = mV, $V.prototype = Object.create(MV.prototype), $V.prototype.constructor = $V, gV.prototype = Object.create(MV.prototype), gV.prototype.constructor = gV, vV.prototype = Object.create(MV.prototype), vV.prototype.constructor = vV, SV.prototype = Object.create(MV.prototype), SV.prototype.constructor = SV, CV.prototype = Object.create(MV.prototype), CV.prototype.constructor = CV, EV.prototype = Object.create(MV.prototype), EV.prototype.constructor = EV, AV.prototype = Object.create(MV.prototype), AV.prototype.constructor = AV, bV.prototype = Object.create(MV.prototype), bV.prototype.constructor = bV, IV.prototype = Object.create(MV.prototype), IV.prototype.constructor = IV, wV.prototype = Object.create(MV.prototype), wV.prototype.constructor = wV, LV.prototype = Object.create(MV.prototype), LV.prototype.constructor = LV, TV.prototype = Object.create(MV.prototype), TV.prototype.constructor = TV, kV.prototype = Object.create(MV.prototype), kV.prototype.constructor = kV, RV.prototype = Object.create(MV.prototype), RV.prototype.constructor = RV, qV.prototype = Object.create(Na.prototype), qV.prototype.constructor = qV, YV.prototype = Object.create(Da.prototype), YV.prototype.constructor = YV, eK.prototype = Object.create(W0.prototype), eK.prototype.constructor = eK, hK.prototype = Object.create(nK.prototype), hK.prototype.constructor = hK, SK.prototype = Object.create(nK.prototype), SK.prototype.constructor = SK, zK.prototype = Object.create(W0.prototype), zK.prototype.constructor = zK, gJ.prototype = Object.create(v3.prototype), gJ.prototype.constructor = gJ, DZ.prototype = Object.create(v3.prototype), DZ.prototype.constructor = DZ, tQ.prototype = Object.create(v3.prototype), tQ.prototype.constructor = tQ, iQ.prototype = Object.create(v3.prototype), iQ.prototype.constructor = iQ, CQ.prototype = Object.create(v3.prototype), CQ.prototype.constructor = CQ, S0.prototype = Object.create(v3.prototype), S0.prototype.constructor = S0, I0.prototype = Object.create(v3.prototype), I0.prototype.constructor = I0, b0.prototype = Object.create(W0.prototype), b0.prototype.constructor = b0, Y0.prototype = Object.create(W0.prototype), Y0.prototype.constructor = Y0, h1.prototype = Object.create(Wp.prototype), h1.prototype.constructor = h1, C1.prototype = Object.create(W0.prototype), C1.prototype.constructor = C1, W1.prototype = Object.create(G1.prototype), W1.prototype.constructor = W1, Y1.prototype = Object.create(Z1.prototype), Y1.prototype.constructor = Y1, J1.prototype = Object.create(Z1.prototype), J1.prototype.constructor = J1, a3.prototype = Object.create(M2.prototype), a3.prototype.constructor = a3, s3.prototype = Object.create(M2.prototype), s3.prototype.constructor = s3, h3.prototype = Object.create(M2.prototype), h3.prototype.constructor = h3, f3.prototype = Object.create(M2.prototype), f3.prototype.constructor = f3, g3.prototype = Object.create(a3.prototype), g3.prototype.constructor = g3, A3.prototype = Object.create(M2.prototype), A3.prototype.constructor = A3, L3.prototype = Object.create(A3.prototype), L3.prototype.constructor = L3, T3.prototype = Object.create(M2.prototype), T3.prototype.constructor = T3, R3.prototype = Object.create(S2.prototype), R3.prototype.constructor = R3, k3.prototype = Object.create(M2.prototype), k3.prototype.constructor = k3, D3.prototype = Object.create(M2.prototype), D3.prototype.constructor = D3, x3.prototype = Object.create(M2.prototype), x3.prototype.constructor = x3, F3.prototype = Object.create(v3.prototype), F3.prototype.constructor = F3, z3.prototype = Object.create(M2.prototype), z3.prototype.constructor = z3, H3.prototype = Object.create(a3.prototype), H3.prototype.constructor = H3, U3.prototype = Object.create(S2.prototype), U3.prototype.constructor = U3, q3.prototype = Object.create(M2.prototype), q3.prototype.constructor = q3, K3.prototype = Object.create(S2.prototype), K3.prototype.constructor = K3, V3.prototype = Object.create(M2.prototype), V3.prototype.constructor = V3, X3.prototype = Object.create(M2.prototype), X3.prototype.constructor = X3, Z3.prototype = Object.create(S2.prototype), Z3.prototype.constructor = Z3, J3.prototype = Object.create(M2.prototype), J3.prototype.constructor = J3, Q3.prototype = Object.create(a3.prototype), Q3.prototype.constructor = Q3, a2.prototype = Object.create(M2.prototype), a2.prototype.constructor = a2, r2.prototype = Object.create(M2.prototype), r2.prototype.constructor = r2, n2.prototype = Object.create(M2.prototype), n2.prototype.constructor = n2, o2.prototype = Object.create(a3.prototype), o2.prototype.constructor = o2, l2.prototype = Object.create(S2.prototype), l2.prototype.constructor = l2, s2.prototype = Object.create(M2.prototype), s2.prototype.constructor = s2, c2.prototype = Object.create(M2.prototype), c2.prototype.constructor = c2, p2.prototype = Object.create(M2.prototype), p2.prototype.constructor = p2, h2.prototype = Object.create(M2.prototype), h2.prototype.constructor = h2, d2.prototype = Object.create(M2.prototype), d2.prototype.constructor = d2, u2.prototype = Object.create(M2.prototype), u2.prototype.constructor = u2, m2.prototype = Object.create(M2.prototype), m2.prototype.constructor = m2, $2.prototype = Object.create(M2.prototype), $2.prototype.constructor = $2, g2.prototype = Object.create(M2.prototype), g2.prototype.constructor = g2, v2.prototype = Object.create(M2.prototype), v2.prototype.constructor = v2, T2.prototype = Object.create(M2.prototype), T2.prototype.constructor = T2, k2.prototype = Object.create(M2.prototype), k2.prototype.constructor = k2, R2.prototype = Object.create(M2.prototype), R2.prototype.constructor = R2, P2.prototype = Object.create(M2.prototype), P2.prototype.constructor = P2, N2.prototype = Object.create(v3.prototype), N2.prototype.constructor = N2, a5.prototype = Object.create(Lt.prototype), a5.prototype.constructor = a5, a8.prototype = Object.create(e8.prototype), a8.prototype.constructor = a8, r8.prototype = Object.create(e8.prototype), r8.prototype.constructor = r8, n8.prototype = Object.create(e8.prototype), n8.prototype.constructor = n8, o8.prototype = Object.create(e8.prototype), o8.prototype.constructor = o8, Iet.prototype = Object.create(wet.prototype), Iet.prototype.constructor = Iet, qtt.prototype = Object.create(Iet.prototype), qtt.prototype.constructor = qtt, Gtt.prototype = Object.create(Iet.prototype), Gtt.prototype.constructor = Gtt, Ztt.prototype = Object.create(wet.prototype), Ztt.prototype.constructor = Ztt, tet.prototype = Object.create(wet.prototype), tet.prototype.constructor = tet, ret.prototype = Object.create(Iet.prototype), ret.prototype.constructor = ret, oet.prototype = Object.create(Iet.prototype), oet.prototype.constructor = oet, met.prototype = Object.create(wet.prototype), met.prototype.constructor = met, vet.prototype = Object.create(wet.prototype), vet.prototype.constructor = vet, Set.prototype = Object.create(wet.prototype), Set.prototype.constructor = Set, Cet.prototype = Object.create(Iet.prototype), Cet.prototype.constructor = Cet, Eet.prototype = Object.create(wet.prototype), Eet.prototype.constructor = Eet, Aet.prototype = Object.create(wet.prototype), Aet.prototype.constructor = Aet, Pet.prototype = Object.create(Let.prototype), Pet.prototype.constructor = Pet, Met.prototype = Object.create(Let.prototype), Met.prototype.constructor = Met, xet.prototype = Object.create(Uet.prototype), xet.prototype.constructor = xet, Oet.prototype = Object.create(Uet.prototype), Oet.prototype.constructor = Oet, Get.prototype = Object.create(nit.prototype), Get.prototype.constructor = Get, oit.prototype = Object.create(nit.prototype), oit.prototype.constructor = oit, sit.prototype = Object.create(nit.prototype), sit.prototype.constructor = sit, pit.prototype = Object.create(Lt.prototype), pit.prototype.constructor = pit, lit.prototype = Object.create(nit.prototype), lit.prototype.constructor = lit, $it.prototype = Object.create(Iet.prototype), $it.prototype.constructor = $it, bit.prototype = Object.create(wet.prototype), bit.prototype.constructor = bit, Lit.prototype = Object.create(Iet.prototype), Lit.prototype.constructor = Lit, xit.prototype = Object.create(wet.prototype), xit.prototype.constructor = xit, zit.prototype = Object.create(wet.prototype), zit.prototype.constructor = zit, Fit.prototype = Object.create(Iet.prototype), Fit.prototype.constructor = Fit, Git.prototype = Object.create(Iet.prototype), Git.prototype.constructor = Git, Wit.prototype = Object.create(wet.prototype), Wit.prototype.constructor = Wit, Xit.prototype = Object.create(wet.prototype), Xit.prototype.constructor = Xit, Zit.prototype = Object.create(wet.prototype), Zit.prototype.constructor = Zit, tat.prototype = Object.create(wet.prototype), tat.prototype.constructor = tat, aat.prototype = Object.create(wet.prototype), aat.prototype.constructor = aat, rat.prototype = Object.create(wet.prototype), rat.prototype.constructor = rat, oat.prototype = Object.create(wet.prototype), oat.prototype.constructor = oat, cat.prototype = Object.create(wet.prototype), cat.prototype.constructor = cat, pat.prototype = Object.create(wet.prototype), pat.prototype.constructor = pat, hat.prototype = Object.create(wet.prototype), hat.prototype.constructor = hat, dat.prototype = Object.create(wet.prototype), dat.prototype.constructor = dat, uat.prototype = Object.create(wet.prototype), uat.prototype.constructor = uat, fat.prototype = Object.create(Iet.prototype), fat.prototype.constructor = fat, wat.prototype = Object.create(wet.prototype), wat.prototype.constructor = wat, Tat.prototype = Object.create(wet.prototype), Tat.prototype.constructor = Tat, Rat.prototype = Object.create(wet.prototype), Rat.prototype.constructor = Rat, Dat.prototype = Object.create(wet.prototype), Dat.prototype.constructor = Dat, zat.prototype = Object.create(Iet.prototype), zat.prototype.constructor = zat, Uat.prototype = Object.create(zat.prototype), Uat.prototype.constructor = Uat, Gat.prototype = Object.create(zat.prototype), Gat.prototype.constructor = Gat, Wat.prototype = Object.create(zat.prototype), Wat.prototype.constructor = Wat, Yat.prototype = Object.create(zat.prototype), Yat.prototype.constructor = Yat, Kat.prototype = Object.create(wet.prototype), Kat.prototype.constructor = Kat, Xat.prototype = Object.create(Iet.prototype), Xat.prototype.constructor = Xat, Zat.prototype = Object.create(Iet.prototype), Zat.prototype.constructor = Zat, nrt.prototype = Object.create(Zat.prototype), nrt.prototype.constructor = nrt, ort.prototype = Object.create(Zat.prototype), ort.prototype.constructor = ort, srt.prototype = Object.create(wet.prototype), srt.prototype.constructor = srt, prt.prototype = Object.create(wet.prototype), prt.prototype.constructor = prt, mrt.prototype = Object.create(Lt.prototype), mrt.prototype.constructor = mrt, yrt.prototype = Object.create(Iet.prototype), yrt.prototype.constructor = yrt, Urt.prototype = Object.create(wet.prototype), Urt.prototype.constructor = Urt, Wrt.prototype = Object.create(wet.prototype), Wrt.prototype.constructor = Wrt, Xrt.prototype = Object.create(wet.prototype), Xrt.prototype.constructor = Xrt, Jrt.prototype = Object.create(wet.prototype), Jrt.prototype.constructor = Jrt, Qrt.prototype = Object.create(wet.prototype), Qrt.prototype.constructor = Qrt, ent.prototype = Object.create(wet.prototype), ent.prototype.constructor = ent, int.prototype = Object.create(wet.prototype), int.prototype.constructor = int, rnt.prototype = Object.create(wet.prototype), rnt.prototype.constructor = rnt, snt.prototype = Object.create(wet.prototype), snt.prototype.constructor = snt, cnt.prototype = Object.create(Iet.prototype), cnt.prototype.constructor = cnt, ynt.prototype = Object.create(cnt.prototype), ynt.prototype.constructor = ynt, mnt.prototype = Object.create(cnt.prototype), mnt.prototype.constructor = mnt, $nt.prototype = Object.create(cnt.prototype), $nt.prototype.constructor = $nt, vnt.prototype = Object.create(wet.prototype), vnt.prototype.constructor = vnt, Lnt.prototype = Object.create(Iet.prototype), Lnt.prototype.constructor = Lnt, znt.prototype = Object.create(wet.prototype), znt.prototype.constructor = znt, Fnt.prototype = Object.create(wet.prototype), Fnt.prototype.constructor = Fnt, Unt.prototype = Object.create(Iet.prototype), Unt.prototype.constructor = Unt, Znt.prototype = Object.create(wet.prototype), Znt.prototype.constructor = Znt, rot.prototype = Object.create(wet.prototype), rot.prototype.constructor = rot, cot.prototype = Object.create(wet.prototype), cot.prototype.constructor = cot, pot.prototype = Object.create(wet.prototype), pot.prototype.constructor = pot, dot.prototype = Object.create(Iet.prototype), dot.prototype.constructor = dot, vot.prototype = Object.create(wet.prototype), vot.prototype.constructor = vot, Eot.prototype = Object.create(Iet.prototype), Eot.prototype.constructor = Eot, Rot.prototype = Object.create(wet.prototype), Rot.prototype.constructor = Rot, Pot.prototype = Object.create(Iet.prototype), Pot.prototype.constructor = Pot, Mot.prototype = Object.create(wet.prototype), Mot.prototype.constructor = Mot, Not.prototype = Object.create(Iet.prototype), Not.prototype.constructor = Not, xot.prototype = Object.create(Iet.prototype), xot.prototype.constructor = xot, Fot.prototype = Object.create(wet.prototype), Fot.prototype.constructor = Fot, Bot.prototype = Object.create(wet.prototype), Bot.prototype.constructor = Bot, jot.prototype = Object.create(wet.prototype), jot.prototype.constructor = jot, Hot.prototype = Object.create(wet.prototype), Hot.prototype.constructor = Hot, Got.prototype = Object.create(wet.prototype), Got.prototype.constructor = Got, Yot.prototype = Object.create(Iet.prototype), Yot.prototype.constructor = Yot, Est.prototype = Object.create(wet.prototype), Est.prototype.constructor = Est, ast.prototype = Object.create(Est.prototype), ast.prototype.constructor = ast, nst.prototype = Object.create(Iet.prototype), nst.prototype.constructor = nst, yst.prototype = Object.create(wet.prototype), yst.prototype.constructor = yst, mst.prototype = Object.create(Iet.prototype), mst.prototype.constructor = mst, $st.prototype = Object.create(Est.prototype), $st.prototype.constructor = $st, gst.prototype = Object.create(wet.prototype), gst.prototype.constructor = gst, vst.prototype = Object.create(Est.prototype), vst.prototype.constructor = vst, Sst.prototype = Object.create(cnt.prototype), Sst.prototype.constructor = Sst, Cst.prototype = Object.create(cnt.prototype), Cst.prototype.constructor = Cst, Ast.prototype = Object.create(ylt.prototype), Ast.prototype.constructor = Ast, _lt.prototype = Object.create(Ylt.prototype), _lt.prototype.constructor = _lt, Clt.prototype = Object.create(Alt.prototype), Clt.prototype.constructor = Clt, Rlt.prototype = Object.create(Nlt.prototype), Rlt.prototype.constructor = Rlt, Plt.prototype = Object.create(Rlt.prototype), Plt.prototype.constructor = Plt, Mlt.prototype = Object.create(Rlt.prototype), Mlt.prototype.constructor = Mlt, Vlt.prototype = Object.create(Ylt.prototype), Vlt.prototype.constructor = Vlt, uct.prototype = Object.create(Sct.prototype), uct.prototype.constructor = uct, _ct.prototype = Object.create(Sct.prototype), _ct.prototype.constructor = _ct, fct.prototype = Object.create(Sct.prototype), fct.prototype.constructor = fct, Cct.prototype = Object.create(Sct.prototype), Cct.prototype.constructor = Cct, Ict.prototype = Object.create(Sct.prototype), Ict.prototype.constructor = Ict, kct.prototype = Object.create(Sct.prototype), kct.prototype.constructor = kct, Nct.prototype = Object.create(Sct.prototype), Nct.prototype.constructor = Nct, Bct.prototype = Object.create(Sct.prototype), Bct.prototype.constructor = Bct, Vct.prototype = Object.create(Sct.prototype), Vct.prototype.constructor = Vct, apt.prototype = Object.create(Sct.prototype), apt.prototype.constructor = apt, npt.prototype = Object.create(Sct.prototype), npt.prototype.constructor = npt, upt.prototype = Object.create(Sct.prototype), upt.prototype.constructor = upt, ee.prototype.getSetLevelOfIncrease_vux9f0$ = function (t, e) { return t > e ? t : e }, ee.prototype.addDupedArchetypeFeats_vja046$ = function (t, e, i) { var a; if (t) e.hashMapDupedArchetypeFeats.putAll_a2k3zr$(i); else for (a = i.keys.iterator(); a.hasNext();) { var r = a.next(); e.hashMapDupedArchetypeFeats.remove_11rb$(r) } }, ee.prototype.addSetSpellsCaster_1zidsq$ = function (t, e, i, a, r, n, o, s) { if (t) { for (var l = new Int32Array(10), c = 0; c <= 9; c++)l[c] = c < n ? 0 : c === n ? o : -1; var p = new k2(a, r, 5, s, l); i.hashMapSpellCasters.put_xwzc9p$(a, p) } else i.hashMapSpellCasters.remove_11rb$(a); this.setProficiencyAtLevel_8d16k4$(t, i, a, s, k0().ARRAY_SPELL_LISTS[r], 2) }, ee.prototype.addSetSpellsCaster_wqj1gb$ = function (t, e, i, a, r, n, o, s, l) { this.addSetSpellsCasterWithAbilityRef_6gj7uf$(t, e, i, a, r, n, o, s, l, 5) }, ee.prototype.addSetSpellsCasterWithAbilityRef_6gj7uf$ = function (t, i, a, r, n, c, p, h, d, u) { if (t) { for (var _ = new Int32Array(11), f = 0; f <= 10; f++)_[f] = f < c ? 0 : f === c ? h.length : -1; var y = new k2(r, n, u, p, _); a.hashMapSpellCasters.put_xwzc9p$(r, y); for (var m = 0; m !== h.length; ++m)try { var $ = y.getSpellSlotReference_vux9f0$(c, m), g = c - d[m] | 0, v = new S2(i.managerSpells.getSpellListForSpell_hs9j5r$(h[m], g, n), o(h[m]), d[m]); a.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$($, v) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } else { var S = a.hashMapSpellCasters.get_11rb$(r); if (null != S) for (var C = 0; C !== h.length; ++C) { var E = S.getSpellSlotReference_vux9f0$(c, C); a.getCharacterData().getHashMapPlayerSpells().remove_11rb$(E) } a.hashMapSpellCasters.remove_11rb$(r) } this.setProficiencyAtLevel_8d16k4$(t, a, r, p, k0().ARRAY_SPELL_LISTS[n], 2) }, ee.prototype.addFeatSubChoice_72asaf$ = function (t, e, i, a, r, n) { if (null != a) if (t) { var s = Ru(); s.featType = o(r), s.level = a.level, a.hashMapChildFeatChoices.put_xwzc9p$(n, s) } else if (a.hashMapChildFeatChoices.containsKey_11rb$(n)) { var l = a.hashMapChildFeatChoices.get_11rb$(n); e.managerFeats.deactivateFeat_8fzv80$(i, a.level, l, n), a.hashMapChildFeatChoices.remove_11rb$(n) } }, ee.prototype.addFeatSubChoice_gxiklp$ = function (t, e, i, a, r, n, o) { if (null != a) if (t) { var s = Ru(); s.listFeatIDs = n, s.featType = r, s.level = a.level, a.hashMapChildFeatChoices.put_xwzc9p$(o, s) } else if (a.hashMapChildFeatChoices.containsKey_11rb$(o)) { var l = a.hashMapChildFeatChoices.get_11rb$(o); e.managerFeats.deactivateFeat_8fzv80$(i, a.level, l, o), a.hashMapChildFeatChoices.remove_11rb$(o) } }, ee.prototype.addFeatSubChoice_tmebmi$ = function (t, e, i, a, r, n, o) { if (null != a) if (t) { var s = Ru(); s.maxLevel = n, s.featType = r, s.level = a.level, a.hashMapChildFeatChoices.put_xwzc9p$(o, s) } else if (a.hashMapChildFeatChoices.containsKey_11rb$(o)) { var l = a.hashMapChildFeatChoices.get_11rb$(o); e.managerFeats.deactivateFeat_8fzv80$(i, a.level, l, o), a.hashMapChildFeatChoices.remove_11rb$(o) } }, ee.prototype.addEnergyResistance_8d16k4$ = function (t, e, i, a, r, n) { if (t) { var o = e.hashMapResistances, s = kX(a, r, n); o.put_xwzc9p$(i, s) } else e.hashMapResistances.remove_11rb$(i) }, ee.prototype.addEnergyResistance_vqsetu$ = function (t, e, i, a) { t ? e.hashMapResistances.put_xwzc9p$(i, a) : e.hashMapResistances.remove_11rb$(i) }, ee.prototype.addAlchemicalCaster_yk8txo$ = function (t, e, i) { if (t) { var a = e.hashMapAlchemicalCasters, r = i.casterName; a.put_xwzc9p$(r, i) } else e.hashMapAlchemicalCasters.remove_11rb$(i.casterName), e.getCharacterData().removeAlchemicalCasterFromHashMaps_61zpoe$(i.casterName) }, ee.prototype.addSpeedIncreaseItem_xs3ggp$ = function (t, e, i, a) { t ? e.hashMapSpeedIncreases.put_xwzc9p$(i, a) : e.hashMapSpeedIncreases.remove_11rb$(i) }, ee.prototype.addHitPointIncreaseItem_sfpo92$ = function (t, e, i, a) { t ? e.hashMapHitPointIncreaseItems.put_xwzc9p$(i, a) : e.hashMapHitPointIncreaseItems.remove_11rb$(i) }, ee.prototype.addInitiativeIncreaseItem_sfpo92$ = function (t, e, i, a) { t ? e.hashMapInitiativeIncreases.put_xwzc9p$(i, a) : e.hashMapInitiativeIncreases.remove_11rb$(i) }, ee.prototype.addInvestmentIncreaseItem_sfpo92$ = function (t, e, i, a) { t ? e.hashMapInvestmentIncreases.put_xwzc9p$(i, a) : e.hashMapInvestmentIncreases.remove_11rb$(i) }, ee.prototype.addMaxBulkIncreaseItem_sfpo92$ = function (t, e, i, a) { t ? e.hashMapMaxBulkIncreases.put_xwzc9p$(i, a) : e.hashMapMaxBulkIncreases.remove_11rb$(i) }, ee.prototype.addAwardedPower_ujte31$ = function (t, e, i, a) { t ? e.hashMapAwardedPowers.put_xwzc9p$(i, a) : e.hashMapAwardedPowers.remove_11rb$(i) }, ee.prototype.increaseFocusPoints_sfpo92$ = function (t, e, i, a) { t ? e.hashMapFocusPointIncreaseItems.put_xwzc9p$(i, a) : e.hashMapFocusPointIncreaseItems.remove_11rb$(i) }, ee.prototype.addProficiencyItemBonus_cgow6u$ = function (t, e, i, a, r) { if (e.proficiencyExists_61zpoe$(a)) { var n = e.getProficiency_61zpoe$(a); t ? o(n).addBonus_rpybz1$(0, i, r) : o(n).removeBonus_vqvrqt$(0, i) } }, ee.prototype.addCharacterFlag_cgow6u$ = function (t, e, i, a, r) { if (t) { var n = e.hashMapCharacterFlags, o = new qa(a, r); n.put_xwzc9p$(i, o) } else e.hashMapCharacterFlags.remove_11rb$(i) }, ee.prototype.addProficiencyBonus_jn4iy8$ = function (t, e, i, a, r, n) { if (e.proficiencyExists_61zpoe$(r)) { var s = e.getProficiency_61zpoe$(r); t ? o(s).addBonus_rpybz1$(i, a, n) : o(s).removeBonus_vqvrqt$(i, a) } }, ee.prototype.addProficiencyBonus_jn833q$ = function (t, e, i, a, r, n, s) { if (e.proficiencyExists_61zpoe$(n)) { var l = e.getProficiency_61zpoe$(n); t ? o(l).addBonus_svt8nn$(a, i, r, s) : o(l).removeBonus_273qip$(a, i, r) } }, ee.prototype.removeAllProficiencyReferencesFromSpellTraditions_cyt1w7$ = function (t, e) { var i = t.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_ARCANE); o(i).removeProficiencyAtLevel_61zpoe$(e), i = t.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_DIVINE), o(i).removeProficiencyAtLevel_61zpoe$(e), i = t.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_OCCULT), o(i).removeProficiencyAtLevel_61zpoe$(e), i = t.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_PRIMAL), o(i).removeProficiencyAtLevel_61zpoe$(e) }, ee.prototype.setProficiencyAtLevel_8d16k4$ = function (t, e, i, a, r, n) { if (e.proficiencyExists_61zpoe$(r)) { var s = e.getProficiency_61zpoe$(r); t ? o(s).setProficiencyAtLevel_3m52m6$(i, a, n) : o(s).removeProficiencyAtLevel_61zpoe$(i) } }, ee.prototype.setSkillTrainedOrExpertIfAlreadyTrained_246m6y$ = function (t, e, i, a, r) { if (e.proficiencyExists_61zpoe$(r)) { var n = e.getProficiency_61zpoe$(r); t ? o(n).addTrainedOrExpert_bm4lxs$(i, a) : o(n).removeTrainedOrExpert_61zpoe$(i) } }, ee.prototype.setIndividualWeaponProficiency_ivgu3l$ = function (t, e, i, a, r, n, o) { t ? e.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(i, a, n, r, o) : e.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(i, a, n) }, ee.prototype.setWeaponGroupProficiency_93ffk6$ = function (t, e, i, a, r, n, s, l) { if (t) { if (!i.hashMapWeaponGroupProficiency.containsKey_11rb$(n)) { var c = i.hashMapWeaponGroupProficiency, p = new xK; c.put_xwzc9p$(n, p) } o(i.hashMapWeaponGroupProficiency.get_11rb$(n)).setProficiencyForGroup_mqtggg$(e, l, r, a, s) } else i.hashMapWeaponGroupProficiency.containsKey_11rb$(n) && o(i.hashMapWeaponGroupProficiency.get_11rb$(n)).removeProficiencyForGroup_19mbxw$(l, a) }, ee.prototype.addMiscIndividualWeaponItemBonus_8d16k4$ = function (t, e, i, a, r, n) { if (t) { var o = e.hashMapMiscWeaponItemBonuses, s = new OW(r, a, n); o.put_xwzc9p$(i, s) } else e.hashMapMiscWeaponItemBonuses.remove_11rb$(i) }, ee.prototype.addProficiencyIncreaseMaxTrainingLevel_8d16k4$ = function (t, e, i, a, r, n) { if (e.proficiencyExists_61zpoe$(r)) { var s = e.getProficiency_61zpoe$(r); t ? o(s).getProficiencyAtLevel_za3lpa$(a) < n && s.addProficiencyIncrease_bm4lxs$(i, a) : o(s).removeProficiencyIncrease_61zpoe$(i) } }, ie.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = e.getProficiency_61zpoe$(o(o(r).name)); i ? o(n).setProficiencyAtLevel_3m52m6$(this.closure$specialInformationRef, a, this.closure$setSkillLevel) : o(n).removeProficiencyAtLevel_61zpoe$(this.closure$specialInformationRef) }, ie.$metadata$ = { kind: p, interfaces: [xX] }, ee.prototype.addSkillSetProficiencyAtLevelChoice_9zpztu$ = function (t, e, i, a, r, n, s, l) { var p, h, d; if (t) { var u = qX(a, n), _ = c(); for (p = s.iterator(); p.hasNext();) { var f = p.next(), y = qX(f, n); y.textDescription = "Please ensure that your selection is valid for this skill choice.", y.specialEffect = new ie(r, l), _.put_xwzc9p$(f, y) } u.hashMapSpecialChoices.put_xwzc9p$("Select Skill", _), null != (h = i.hashMapSpecialInformation[n - 1 | 0]) && h.put_xwzc9p$(r, u) } else { var m = null != (d = i.hashMapSpecialInformation[n - 1 | 0]) ? d.get_11rb$(r) : null; null != m && e.managerSpecials.activateSpecial_2yti0t$(e, i, !1, r, m), o(i.hashMapSpecialInformation[n - 1 | 0]).remove_11rb$(r) } }, ee.prototype.addFeatChoice_afybq0$ = function (t, e, i, a, r) { var n; if (t) null != (n = i.hashMapFeatChoices[r.level - 1 | 0]) && n.put_xwzc9p$(a, r); else { var s = i.getFeatChoice_19mbxw$(r.level, a); e.managerFeats.deactivateFeat_8fzv80$(i, r.level, s, a), o(i.hashMapFeatChoices[r.level - 1 | 0]).remove_11rb$(a) } }, ee.prototype.addChildFeatChoice_j47kmb$ = function (t, e, i, a, r, n) { if (t) r.hashMapChildFeatChoices.put_xwzc9p$(a, n); else { var o = r.hashMapChildFeatChoices.get_11rb$(a); null != o && e.managerFeats.deactivateFeat_8fzv80$(i, o.level, o, a), r.hashMapChildFeatChoices.remove_11rb$(a) } }, ee.prototype.addSpecialFromSpecificClass_sqtpfg$ = function (t, i, a, r, n, l, c) { var p; try { if (t) { var u, _ = i.managerSpecials.getSpecials_61zpoe$(l), f = (e.isType(u = _, y) ? u : d()).get_11rb$(c); null != f && null != (p = a.hashMapSpecialInformation[n - 1 | 0]) && p.put_xwzc9p$(r, f) } else o(a.hashMapSpecialInformation[n - 1 | 0]).remove_11rb$(r) } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, ee.prototype.addSpecialDirectly_9ogq3e$ = function (t, e, i, a, r) { var n; t ? null != (n = e.hashMapSpecialInformation[a - 1 | 0]) && n.put_xwzc9p$(i, r) : o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(i) }, ee.prototype.addTrainedOnlySkillChoice_b4bmjk$ = function (t, i, a, r, n) { var l; if (t) a.hashMapTrainedOnlySkillChoices.put_xwzc9p$(r, n); else { if (a.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(r)) try { for (l = o(a.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(r)).iterator(); l.hasNext();) { var c = l.next(), p = a.getSkillProficiency_61zpoe$(c); o(p).removeProficiencyAtLevel_61zpoe$(r), a.getCharacterData().hashMapTrainedOnlySkillChoices.remove_11rb$(r) } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } a.hashMapTrainedOnlySkillChoices.remove_11rb$(r) } }, ee.prototype.addAdditionalLoreWithAutomaticIncrease_5q64f9$ = function (t, e, i, a, r) { var n = "Lore: " + r; if (t) if (e.skillProficiencyExists_61zpoe$(n)) { var o = e.getSkillProficiency_61zpoe$(n); null != o && (o.setProficiencyAtLevel_3m52m6$("Increase 1", this.getSetLevelOfIncrease_vux9f0$(i, 0), 2), o.setProficiencyAtLevel_3m52m6$("Increase 2", this.getSetLevelOfIncrease_vux9f0$(i, 3), 4), o.setProficiencyAtLevel_3m52m6$("Increase 3", this.getSetLevelOfIncrease_vux9f0$(i, 7), 6), o.setProficiencyAtLevel_3m52m6$("Increase 4", this.getSetLevelOfIncrease_vux9f0$(i, 15), 8)) } else { var s = LK(3, !1, i); e.addSkillProficiency_4z2sac$(n, s), e.addProficiency_gzayp1$(n, s), s.setProficiencyAtLevel_3m52m6$("Increase 1", this.getSetLevelOfIncrease_vux9f0$(i, 0), 2), s.setProficiencyAtLevel_3m52m6$("Increase 2", this.getSetLevelOfIncrease_vux9f0$(i, 3), 4), s.setProficiencyAtLevel_3m52m6$("Increase 3", this.getSetLevelOfIncrease_vux9f0$(i, 7), 6), s.setProficiencyAtLevel_3m52m6$("Increase 4", this.getSetLevelOfIncrease_vux9f0$(i, 15), 8) } else { var l = e.getSkillProficiency_61zpoe$(n); null != l && (l.removeProficiencyAtLevel_61zpoe$("Increase 1"), l.removeProficiencyAtLevel_61zpoe$("Increase 2"), l.removeProficiencyAtLevel_61zpoe$("Increase 3"), l.removeProficiencyAtLevel_61zpoe$("Increase 4"), 0 === l.getProficiencyAtLevel_za3lpa$(20) && (e.removeSkillProficiency_61zpoe$(n), e.removeProficiency_61zpoe$(n))) } }, ee.prototype.addCustomLoreToBuild_41jgcs$ = function (t, e, i, a, r) { var n = "Lore: " + r; if (t) { if (!i.skillProficiencyExists_61zpoe$(n)) { var o = LK(3, !1, a); i.addSkillProficiency_4z2sac$(n, o), i.addProficiency_gzayp1$(n, o) } } else i.getCharacterData().removeAllReferencesFromProficiencyIncreases_61zpoe$(n), i.removeSkillProficiency_61zpoe$(n), i.removeProficiency_61zpoe$(n) }, ee.prototype.addLoreAndTrained_k5t0i3$ = function (t, e, i, a, r, n) { var o = "Lore: " + n; if (t) { if (!i.skillProficiencyExists_61zpoe$(o)) { var s = LK(3, !1, a); s.setProficiencyAtLevel_3m52m6$(r, a, 2), i.addSkillProficiency_4z2sac$(o, s), i.addProficiency_gzayp1$(o, s), e.managerProficiencies.addRelevantProficiencyIncreases_ouyuhg$(i, o, s) } } else i.getCharacterData().removeAllReferencesFromProficiencyIncreases_61zpoe$(o), i.removeSkillProficiency_61zpoe$(o), i.removeProficiency_61zpoe$(o) }, ee.prototype.addLoreAndTrainedOrExpert_gbrkv6$ = function (t, e, i, a, r, n) { var o = "Lore: " + n; if (t) { if (!i.skillProficiencyExists_61zpoe$(o)) { var s = LK(3, !1, a); i.addSkillProficiency_4z2sac$(o, s), i.addProficiency_gzayp1$(o, s) } var l = i.getSkillProficiency_61zpoe$(o); null != l && l.addTrainedOrExpert_bm4lxs$(r, a) } else { var c = i.getSkillProficiency_61zpoe$(o); null != c && c.removeTrainedOrExpert_61zpoe$(r) } }, ee.prototype.addAncestralWeaponExpertise_i1oc2n$ = function (t, e, i, a, r, n) { if (t) { var o = e.hashMapAncestralWeaponExpertiseItems, s = new PW(a, r, n); o.put_xwzc9p$(i, s) } else e.hashMapAncestralWeaponExpertiseItems.remove_11rb$(i) }, ee.prototype.addAncestralArmorExpertise_ebvrhe$ = function (t, e, i, a, r, n) { if (t) { var o = e.hashMapAncestralArmorExpertiseItems, s = new PW(a, r, n); o.put_xwzc9p$(i, s) } else e.hashMapAncestralArmorExpertiseItems.remove_11rb$(i) }, ee.prototype.addFamiliar_dlg1vj$ = function (t, i, a, r, n) { if (t) { if (!a.hashMapPetGainedLevel.containsKey_11rb$(1)) { var s = a.hashMapPetGainedLevel, l = c(); s.put_xwzc9p$(1, l) } if (o(a.hashMapPetGainedLevel.get_11rb$(1)).put_xwzc9p$(r, n), !ZW().hasPetTypeAtAnyLevel_vy76y1$(a, 1)) { var p = i.getGuiUpdateControl().getPlatformUUID(); i.managerPets.addNewPet_k2ix8b$(a, "Familiar", p, 1); var h = a.hashMapPetCharacterBuilds.get_11rb$(p); e.isType(o(h).getCharacterData(), YV) || d() } } else o(a.hashMapPetGainedLevel.get_11rb$(1)).remove_11rb$(r) }, ee.prototype.addAnimalCompanion_dlg1vj$ = function (t, e, i, a, r) { var n, s; if (t) { if (!i.hashMapPetGainedLevel.containsKey_11rb$(0)) { var l = i.hashMapPetGainedLevel, p = c(); l.put_xwzc9p$(0, p) } if (o(i.hashMapPetGainedLevel.get_11rb$(0)).put_xwzc9p$(a, r), !ZW().hasPetTypeAtAnyLevel_vy76y1$(i, 0)) { var h = e.getGuiUpdateControl().getPlatformUUID(); e.managerPets.addNewPet_k2ix8b$(i, "Badger", h, 0) } } else if (i.hashMapPetGainedLevel.containsKey_11rb$(0) && (o(i.hashMapPetGainedLevel.get_11rb$(0)).remove_11rb$(a), o(i.hashMapPetGainedLevel.get_11rb$(0)).isEmpty())) { var d = u(); for (n = i.hashMapPetCharacterBuilds.keys.iterator(); n.hasNext();) { var _ = n.next(), f = i.hashMapPetCharacterBuilds.get_11rb$(_); 0 === o(f).getPetData().getPetType() && d.add_11rb$(_) } for (s = d.iterator(); s.hasNext();) { var y = s.next(); i.getCharacterData().hashMapPetData.remove_11rb$(y), i.hashMapPetCharacterBuilds.remove_11rb$(y) } } }, ee.prototype.addAdditionalAnimalCompanion_dlg1vj$ = function (t, i, a, r, n) { if (t) { if (!a.hashMapPetGainedLevel.containsKey_11rb$(0)) { var p = a.hashMapPetGainedLevel, h = c(); p.put_xwzc9p$(0, h) } if (o(a.hashMapPetGainedLevel.get_11rb$(0)).put_xwzc9p$(r, n), !a.getCharacterData().hashMapPetData.containsKey_11rb$(r)) { i.managerPets.addNewPet_k2ix8b$(a, "Badger", r, 0); try { var d = a.hashMapPetCharacterBuilds.get_11rb$(r); o(d).getPetData().setSpecificGainedLevel_za3lpa$(n) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } } else a.hashMapPetGainedLevel.containsKey_11rb$(0) && a.hashMapPetGainedLevel.containsKey_11rb$(0) && (o(a.hashMapPetGainedLevel.get_11rb$(0)).remove_11rb$(r), a.getCharacterData().hashMapPetData.remove_11rb$(r), a.hashMapPetCharacterBuilds.remove_11rb$(r)) }, ee.prototype.addAnimalCompanionMature_wifd5v$ = function (t, e, i, a, r) { e.managerPets.buildAllAnimalCompanions_ryqv3o$(!1, i), t ? i.hashMapMatureAnimalCompanion.put_xwzc9p$(a, r) : i.hashMapMatureAnimalCompanion.remove_11rb$(a), e.managerPets.buildAllAnimalCompanions_ryqv3o$(!0, i) }, ee.prototype.addAnimalCompanionIncredible_wifd5v$ = function (t, e, i, a, r) { e.managerPets.buildAllAnimalCompanions_ryqv3o$(!1, i), t ? i.hashMapIncredibleAnimalCompanion.put_xwzc9p$(a, r) : i.hashMapIncredibleAnimalCompanion.remove_11rb$(a), e.managerPets.buildAllAnimalCompanions_ryqv3o$(!0, i) }, ee.prototype.addAnimalCompanionSpecializationChoice_wifd5v$ = function (t, e, i, a, r) { var n; if (e.managerPets.buildAllAnimalCompanions_ryqv3o$(!1, i), t) i.hashMapSpecializedAnimalCompanion.put_xwzc9p$(a, r); else for (i.hashMapSpecializedAnimalCompanion.remove_11rb$(a), n = i.hashMapPetCharacterBuilds.keys.iterator(); n.hasNext();) { var s = n.next(), l = i.hashMapPetCharacterBuilds.get_11rb$(s), c = o(l).getPetData(); if (c.getHashMapAnimalSpecializations().containsKey_11rb$(a)) { var p = c.getHashMapAnimalSpecializations().get_11rb$(a); e.managerPets.activateAnimalSpecialization_f8hr8l$(!1, i, l, o(p), a), c.getHashMapAnimalSpecializations().remove_11rb$(a) } } e.managerPets.buildAllAnimalCompanions_ryqv3o$(!0, i) }, ee.prototype.addConstructAdvanced_wifd5v$ = function (t, e, i, a, r) { e.managerPets.buildAllAnimalCompanions_ryqv3o$(!1, i), t ? i.hashMapMatureAnimalCompanion.put_xwzc9p$(a, r) : i.hashMapMatureAnimalCompanion.remove_11rb$(a), e.managerPets.buildAllAnimalCompanions_ryqv3o$(!0, i) }, ee.prototype.addConstructIncredible_wifd5v$ = function (t, e, i, a, r) { e.managerPets.buildAllAnimalCompanions_ryqv3o$(!1, i), t ? i.hashMapIncredibleAnimalCompanion.put_xwzc9p$(a, r) : i.hashMapIncredibleAnimalCompanion.remove_11rb$(a), e.managerPets.buildAllAnimalCompanions_ryqv3o$(!0, i) }, ee.prototype.addConstructParagon_wifd5v$ = function (t, e, i, a, r) { e.managerPets.buildAllAnimalCompanions_ryqv3o$(!1, i), t ? i.hashMapSpecializedAnimalCompanion.put_xwzc9p$(a, r) : i.hashMapSpecializedAnimalCompanion.remove_11rb$(a), e.managerPets.buildAllAnimalCompanions_ryqv3o$(!0, i) }, ee.prototype.addFamiliarAbilitySelection_wifd5v$ = function (t, e, i, a, r) { var n; if (t) i.hashMapFamiliarAbilities.put_xwzc9p$(a, r); else for (i.hashMapFamiliarAbilities.remove_11rb$(a), n = i.hashMapPetCharacterBuilds.keys.iterator(); n.hasNext();) { var s = n.next(), l = i.hashMapPetCharacterBuilds.get_11rb$(s), c = o(l).getPetData(); if (o(c.getHashMapSelectedFamiliarAbilities()).containsKey_11rb$(a)) { var p = o(c.getHashMapSelectedFamiliarAbilities()).get_11rb$(a); e.managerPets.activateFamiliarAbility_f8hr8l$(!1, i, l, o(p), a), o(c.getHashMapSelectedFamiliarAbilities()).remove_11rb$(a) } } }, ee.prototype.addClassBackgroundConflictingSkills_b47hup$ = function (t, e, i, a) { var r; e.getGuiUpdateControl().finishedLoading_n40yp2$(i) && e.managerBackgrounds.deactivateBackground_5btbp7$(i); var n = i.getClassTemplate(); for (n.setClassTrainedSkillProficiencies_ryqv3o$(!1, i), r = 0; r !== a.length; ++r) { var o = a[r]; t ? i.listAdditionalClassSkills.contains_11rb$(o) || i.listAdditionalClassSkills.add_11rb$(o) : i.listAdditionalClassSkills.remove_11rb$(o) } n.setClassTrainedSkillProficiencies_ryqv3o$(!0, i), e.managerBackgrounds.activateBackground_5btbp7$(i) }, ee.prototype.addDamageIncreaseItem_dmcalk$ = function (t, e, i, a) { e ? t.hashMapDamageIncreaseItems.put_xwzc9p$(i, a) : t.hashMapDamageIncreaseItems.remove_11rb$(i) }, ee.prototype.addVersatileHeritageFeats_tq0436$ = function (t, e, i, a) { var r; for (r = o(t.managerFeats.hashMapFeatsByCategory.get_11rb$(se().FEATS_ANCESTRY_VERSATILE)).values.iterator(); r.hasNext();) { var n = r.next(); null != n.getTraits() && _(n.getTraits(), o(a)) && (i ? e.listVersatileHeritageFeats.add_11rb$(n) : e.listVersatileHeritageFeats.remove_11rb$(n)) } }, ee.prototype.setLineage_51qqyu$ = function (t, e, i) { e.lineage = t ? i : "" }, ee.prototype.setProficiencyTrainedOrExpert_cgow6u$ = function (t, e, i, a, r) { var n = e.getProficiency_61zpoe$(i); null != n && (t ? 2 === n.getProficiencyAtLevelExcludingThisReference_19mbxw$(r, a) ? n.setProficiencyAtLevel_3m52m6$(a, r, 4) : n.setProficiencyAtLevel_3m52m6$(a, r, 2) : n.removeProficiencyAtLevel_61zpoe$(a)) }, ee.prototype.setProficiencyExpertOrMaster_cgow6u$ = function (t, e, i, a, r) { var n = e.getProficiency_61zpoe$(i); null != n && (t ? 4 === n.getProficiencyAtLevelExcludingThisReference_19mbxw$(r, a) ? n.setProficiencyAtLevel_3m52m6$(a, r, 6) : n.setProficiencyAtLevel_3m52m6$(a, r, 4) : n.removeProficiencyAtLevel_61zpoe$(a)) }, ee.prototype.setLoreExpertOrMaster_cgow6u$ = function (t, e, i, a, r) { var n = "Lore: " + i; this.setProficiencyExpertOrMaster_cgow6u$(t, e, n, a, r) }, Object.defineProperty(ee.prototype, "testMessage", { configurable: !0, get: function () { return "Jumbo jimnbo" } }), ee.$metadata$ = { kind: f, simpleName: "Actions", interfaces: [] }; var ae = null; function re() { return null === ae && new ee, ae } function ne() { oe = this, this.ENGINE_VERSION = 121, this.TAG = "Pathbuilder 2e Backend", this.NOT_SELECTED = "Not Selected", this.FEATS_GENERAL = "General Feat", this.FEATS_SKILL = "Skill Feat", this.FEATS_CLASS = "Class Feat", this.FEATS_ANCESTRY = "Ancestry Feat", this.FEATS_HERITAGE = "Heritage", this.FEATS_ARCHETYPE = "Archetype Feat", this.FEATS_FIGHTER = "Fighter Feat", this.FEATS_ROGUE = "Rogue Feat", this.FEATS_CHAMPION = "Champion Feat", this.FEATS_WIZARD = "Wizard Feat", this.FEATS_ALCHEMIST = "Alchemist Feat", this.FEATS_BARD = "Bard Feat", this.FEATS_SORCERER = "Sorcerer Feat", this.FEATS_CLERIC = "Cleric Feat", this.FEATS_BARBARIAN = "Barbarian Feat", this.FEATS_RANGER = "Ranger Feat", this.FEATS_MONK = "Monk Feat", this.FEATS_DRUID = "Druid Feat", this.FEATS_INVESTIGATOR = "Investigator Feat", this.FEATS_ORACLE = "Oracle Feat", this.FEATS_SWASHBUCKLER = "Swashbuckler Feat", this.FEATS_WITCH = "Witch Feat", this.FEATS_MAGUS = "Magus Feat", this.FEATS_SUMMONER = "Summoner Feat", this.FEATS_SUMMONER_EVOLUTION = "Summoner Evolution Feat", this.FEATS_CLASS_ARCHETYPE = "Class Archetype", this.FEATS_INVENTOR = "Inventor Feat", this.FEATS_GUNSLINGER = "Gunslinger Feat", this.FEATS_HERITAGE_AUTOMATON = "Automaton Heritage", this.FEATS_ANCESTRY_AUTOMATON = "Automaton Feat", this.FEATS_HERITAGE_POPPET = "Poppet Heritage", this.FEATS_ANCESTRY_POPPET = "Poppet Feat", this.FEATS_ANCESTRY_GENERAL = "General Ancestry Feat", this.FEATS_ANCESTRY_VERSATILE = "Versatile Ancestry Feat", this.FEATS_ANCESTRY_HUMAN = "Human Feat", this.FEATS_ANCESTRY_HALFLING = "Halfling Feat", this.FEATS_ANCESTRY_DWARF = "Dwarf Feat", this.FEATS_ANCESTRY_ELF = "Elf Feat", this.FEATS_ANCESTRY_GNOME = "Gnome Feat", this.FEATS_ANCESTRY_GOBLIN = "Goblin Feat", this.FEATS_ANCESTRY_HOBGOBLIN = "Hobgoblin Feat", this.FEATS_ANCESTRY_LESHY = "Leshy Feat", this.FEATS_ANCESTRY_LIZARDFOLK = "Lizardfolk Feat", this.FEATS_ANCESTRY_SHOONY = "Shoony Feat", this.FEATS_ANCESTRY_CATFOLK = "Catfolk Feat", this.FEATS_ANCESTRY_ANDROID = "Android Feat", this.FEATS_ANCESTRY_FETCHLING = "Fetchling Feat", this.FEATS_ANCESTRY_FLESHWARP = "Fleshwarp Feat", this.FEATS_ANCESTRY_KITSUNE = "Kitsune Feat", this.FEATS_ANCESTRY_SPRITE = "Sprite Feat", this.FEATS_ANCESTRY_STRIX = "Strix Feat", this.FEATS_HERITAGE_ANDROID = "Android Heritage", this.FEATS_HERITAGE_FETCHLING = "Fetchling Heritage", this.FEATS_HERITAGE_FLESHWARP = "Fleshwarp Heritage", this.FEATS_HERITAGE_KITSUNE = "Kitsune Heritage", this.FEATS_HERITAGE_SPRITE = "Sprite Heritage", this.FEATS_HERITAGE_STRIX = "Strix Heritage", this.FEATS_HERITAGE_AZARKETI = "Azarketi Heritage", this.FEATS_ANCESTRY_AZARKETI = "Azarketi Feat", this.FEATS_HERITAGE_ANADI = "Anadi Heritage", this.FEATS_ANCESTRY_ANADI = "Anadi Feat", this.FEATS_HERITAGE_CONRASU = "Conrasu Heritage", this.FEATS_ANCESTRY_CONRASU = "Conrasu Feat", this.FEATS_HERITAGE_GNOLL = "Gnoll Heritage", this.FEATS_ANCESTRY_GNOLL = "Gnoll Feat", this.FEATS_HERITAGE_GOLOMA = "Goloma Heritage", this.FEATS_ANCESTRY_GOLOMA = "Goloma Feat", this.FEATS_HERITAGE_GRIPPLI = "Grippli Heritage", this.FEATS_ANCESTRY_GRIPPLI = "Grippli Feat", this.FEATS_HERITAGE_SHISK = "Shisk Heritage", this.FEATS_ANCESTRY_SHISK = "Shisk Feat", this.FEATS_ANCESTRY_KOBOLD = "Kobold Feat", this.FEATS_ANCESTRY_ORC = "Orc Feat", this.FEATS_ANCESTRY_RATFOLK = "Ratfolk Feat", this.FEATS_ANCESTRY_TENGU = "Tengu Feat", this.FEATS_HERITAGE_DWARF = "Dwarf Heritage", this.FEATS_HERITAGE_HALFLING = "Halfling Heritage", this.FEATS_HERITAGE_ELF = "Elf Heritage", this.FEATS_HERITAGE_GNOME = "Gnome Heritage", this.FEATS_HERITAGE_GOBLIN = "Goblin Heritage", this.FEATS_HERITAGE_HUMAN = "Human Heritage", this.FEATS_HERITAGE_HOBGOBLIN = "Hobgoblin Heritage", this.FEATS_HERITAGE_LESHY = "Leshy Heritage", this.FEATS_HERITAGE_LIZARDFOLK = "Lizardfolk Heritage", this.FEATS_HERITAGE_SHOONY = "Shoony Heritage", this.FEATS_HERITAGE_CATFOLK = "Catfolk Heritage", this.FEATS_HERITAGE_KOBOLD = "Kobold Heritage", this.FEATS_HERITAGE_ORC = "Orc Heritage", this.FEATS_HERITAGE_RATFOLK = "Ratfolk Heritage", this.FEATS_HERITAGE_TENGU = "Tengu Heritage", this.FEATS_HERITAGE_VERSATILE = "Versatile Heritage", this.DEFAULT_BACKGROUND = "BACKGROUND_Scout", this.UNIVERSAL_DARKVISION = "Darkvision", this.UNIVERSAL_LOW_LIGHT_VISION = "Low-Light Vision", this.UNIVERSAL_PLANT_NOURISHMENT = "Plant Nourishment", this.UNIVERSAL_CLAWS = "Claws", this.UNIVERSAL_AQUATIC_ADAPTATION = "Aquatic Adaptation", this.DAMAGE_TYPE_GOOD = "Good", this.DAMAGE_TYPE_LAWFUL = "Lawful", this.DAMAGE_TYPE_EVIL = "Evil", this.DAMAGE_TYPE_POSITIVE = "Positive", this.DAMAGE_TYPE_NEGATIVE = "Negative", this.NO_KEY_ABILITY = -1, this.ABILITY_STRENGTH = 0, this.ABILITY_DEXTERITY = 1, this.ABILITY_CONSTITUTION = 2, this.ABILITY_INTELLIGENCE = 3, this.ABILITY_WISDOM = 4, this.ABILITY_CHARISMA = 5, this.ARRAY_ABILITIES = ["Strength", "Dexterity", "Constitution", "Intelligence", "Wisdom", "Charisma"], this.ARRAY_ABILITIES_SHORT = ["Str", "Dex", "Con", "Int", "Wis", "Cha"], this.PROFICIENCY_SOURCE_CLASS = "proficiencySourceClass", this.BONUS_TYPE_ITEM = 0, this.BONUS_TYPE_STATUS = 1, this.BONUS_TYPE_CIRCUMSTANCE = 2, this.BONUS_TYPE_UNTYPED = 3, this.BONUS_TYPE_RACIAL = 4, this.BONUS_TYPE_NAME_ITEM = "Item Bonus", this.BONUS_TYPE_NAME_STATUS = "Status Bonus", this.BONUS_TYPE_NAME_CIRCUMSTANCE = "Circumstance Bonus", this.BONUS_TYPE_NAME_UNTYPED = "Untyped Bonus", this.ARRAY_BONUS_TYPES = [this.BONUS_TYPE_NAME_ITEM, this.BONUS_TYPE_NAME_STATUS, this.BONUS_TYPE_NAME_CIRCUMSTANCE, this.BONUS_TYPE_NAME_UNTYPED], this.SIZE_SMALL = 1, this.SIZE_MEDIUM = 2, this.SIZE_LARGE = 3, this.SIZES = ["Fine", "Diminutive", "Tiny", "Small", "Medium", "Large", "Huge", "Gargantuan", "Colossal"], this.MOVEMENT_TYPE_DEFAULT = 0, this.MOVEMENT_TYPE_BURROW = 1, this.MOVEMENT_TYPE_CLIMB = 2, this.MOVEMENT_TYPE_FLY = 3, this.MOVEMENT_TYPE_SWIM = 4, this.MOVEMENT_TYPE_ALL = 5, this.DRAGON_TYPES = ["Black", "Copper", "Blue", "Bronze", "Brass", "Gold", "Red", "Green", "Silver", "White", "Magma", "Brine", "Cloud", "Sky", "Underworld", "Crystal", "Forest", "Sea", "Sovereign", "Umbral"], this.DAMAGE_DICE_NAMES = g([$(3, "Damage Dice: d3"), $(4, "Damage Dice: d4"), $(6, "Damage Dice: d6"), $(8, "Damage Dice: d8"), $(10, "Damage Dice: d10"), $(12, "Damage Dice: d12")]), this.DICE_COLOR_BURGANDY = "#5F0000", this.DICE_COLOR_YELLOW = "#b38f00", this.DICE_COLOR_BLUE = "#5674b9", this.DICE_COLOR_GREEN = "#406618", this.DICE_COLOR_ORANGE = "#b35217", this.DICE_COLOR_FIRE = "#742405", this.DICE_COLOR_ACID = "#065010", this.DICE_COLOR_ELEC = "#041758", this.DICE_COLOR_COLD = "#034645", this.DICE_COLOR_PINK = "#ae488b", this.DICE_COLOR_UI_ORANGE = "#ff5722", this.DICE_COLOR_UI_BLUE = "#222831", this.LABEL_COLOR_WHITE = "#FFFFFF", this.LABEL_COLOR_BLACK = "#000000" } ne.prototype.getColorFromDamageType_qug0s2$ = function (t) { if (t.extraCritDice) return "#242429"; switch (t.damageType.toLowerCase()) { case "cold": return this.DICE_COLOR_COLD; case "electricity": return this.DICE_COLOR_ELEC; case "fire": return this.DICE_COLOR_FIRE; case "acid": return this.DICE_COLOR_ACID; case "precision": return this.DICE_COLOR_YELLOW }return this.DICE_COLOR_BURGANDY }, ne.prototype.getLabelColorFromDamageType_61zpoe$ = function (t) { return m(t.toLowerCase(), TX().RESISTANCE_PRECISION) ? this.LABEL_COLOR_BLACK : this.LABEL_COLOR_WHITE }, ne.$metadata$ = { kind: f, simpleName: "BackendConstants", interfaces: [] }; var oe = null; function se() { return null === oe && new ne, oe } function le() { ce = this, this.DOUBLE_TRAIT_NAMES_0 = ["Ranged Trip", "Double Barrel", "Fatal Aim", "Critical Fusion", "3rd Party"] } le.prototype.getTraitRef_61zpoe$ = function (t) { var e, i, a = !1; for (e = this.DOUBLE_TRAIT_NAMES_0, i = 0; i !== e.length; ++i) { var r = e[i]; if (_(t, r)) { a = !0; break } } var n = ""; if (a) { var o = b(v(t, [" "])); o.length > 1 && (n = o[0] + " " + o[1]) } else n = b(v(t, [" "]))[0]; return n }, le.prototype.getPriceString_14dthe$ = function (t) { if (t % 1 == 0) return t.toString() + "gp"; var e = 10 * t; if (e % 1 == 0) return e.toString() + "sp"; var i = 10 * e; return i % 1 == 0 ? i.toString() + "cp" : "" }, le.prototype.getPriceStringSimplified_14dthe$ = function (t) { var e = C(S(100 * t)), i = 0, a = 0, r = 0; if (e >= 100) { var n = e / 100; e = e - (100 * (r = C(I.floor(n))) | 0) | 0 } if (e >= 10) { var o = e / 10; e = e - (10 * (a = C(I.floor(o))) | 0) | 0 } var s = ""; return (i = e) > 0 && (s = i.toString() + " cp"), a > 0 && (s.length > 0 && (s = ", " + s), s = a.toString() + " sp" + s), r > 0 && (s.length > 0 && (s = ", " + s), s = r.toString() + " gp" + s), s.length > 0 ? s : "0 gp" }, le.prototype.getBulkValue_bm4lxs$ = function (t, i) { if (0 === t.length) return 0; if (m(t.toLowerCase(), "l")) return .1 * i; if (m(t.toLowerCase(), "-")) return 0; try { return i * E(t) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } return 0 }, le.prototype.getBulkValueWithSizeAdjust_h6sd2a$ = function (t, i, a) { if (0 === t.length) return this.getNegglibleBulk_0(a, i); if (m(t.toLowerCase(), "l")) return .1 * i; if (m(t.toLowerCase(), "-")) return this.getNegglibleBulk_0(a, i); try { return i * E(t) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } return 0 }, le.prototype.getNegglibleBulk_0 = function (t, e) { return m(t, "Tiny") ? .1 * e : 0 }, le.prototype.getStringFromActionSymbol_za3lpa$ = function (t) { switch (t) { case -2: return ""; case -1: return "free action"; case 0: return "reaction"; case 1: return "1 action"; case 2: return "2 actions"; case 3: return "3 actions" }return "" }, le.prototype.getShortStringFromActionSymbol_za3lpa$ = function (t) { switch (t) { case -2: return ""; case -1: return "F"; case 0: return "R"; case 1: return "1"; case 2: return "2"; case 3: return "3" }return "" }, le.prototype.getIncreasedProficiency_za3lpa$ = function (t) { switch (t) { case 0: return 2; case 2: return 4; case 4: return 6; case 6: return 8 }return t }, le.prototype.getAbilityMod_za3lpa$ = function (t) { var e = (t - 10 | 0) / 2; return C(I.floor(e)) }, le.prototype.getOrdinal_za3lpa$ = function (t) { var e; switch (t % 100) { case 11: case 12: case 13: e = t.toString() + "th"; break; default: e = t.toString() + ["th", "st", "nd", "rd", "th", "th", "th", "th", "th", "th"][t % 10] }return e }, le.prototype.getArrayListFromIntArray_q5rwfd$ = function (t) { var e, i = u(); for (e = 0; e !== t.length; ++e) { var a = t[e]; i.add_11rb$(a) } return i }, le.prototype.getSignedValue_za3lpa$ = function (t) { return t > -1 ? "+" + t.toString() : t.toString() }, le.prototype.getLevelOrMin_vux9f0$ = function (t, e) { return t > e ? t : e }, le.$metadata$ = { kind: f, simpleName: "BackendUtils", interfaces: [] }; var ce = null; function pe() { return null === ce && new le, ce } function he() { _e(), ea.call(this) } function de() { ue = this, this.ANCESTRY_ANDROID = "Android" } he.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1, 3]), this.abilityFlaws = new Int32Array([5]) }, he.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_ANDROID, this.ancestryHeritageReference = se().FEATS_HERITAGE_ANDROID, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$("Constructed (Android)"), this.listAncestryAwardedSpecials.add_11rb$("Emotionally Unaware") }, he.prototype.setHP = function () { this.HP = 8 }, he.prototype.setSpeed = function () { this.speed = 25 }, he.prototype.setSize = function () { this.size = 2 }, de.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ue = null; function _e() { return null === ue && new de, ue } function fe() { ge(), ea.call(this) } function ye() { } function me() { $e = this, this.ANCESTRY_AUTOMATON = "Automaton" } he.$metadata$ = { kind: p, simpleName: "AncestryAndroid", interfaces: [ea] }, fe.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([0]) }, ye.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i ? e.hashMapSizeModifiders.put_xwzc9p$("Autotomaton", DW(1, -1)) : e.hashMapSizeModifiders.remove_11rb$("Autotomaton") }, ye.$metadata$ = { kind: p, interfaces: [xX] }, fe.prototype.setAncestrySpecificEffects_s8e943$ = function (t, e, i) { var a = "Automaton Size"; if (t) { var r = qX(a, 1), n = c(), s = qX("Small", 1); s.specialEffect = new ye, n.put_xwzc9p$("Small", s), s = qX("Medium", 1), n.put_xwzc9p$("Medium", s), r.hashMapSpecialChoices.put_xwzc9p$("Select Size", n), o(i.hashMapSpecialInformation[0]).put_xwzc9p$(a, r) } else { var l = o(i.hashMapSpecialInformation[0]).get_11rb$(a); null != l && e.managerSpecials.activateSpecial_2yti0t$(e, i, !1, a, l), o(i.hashMapSpecialInformation[0]).remove_11rb$(a) } }, fe.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_AUTOMATON, this.ancestryHeritageReference = se().FEATS_HERITAGE_AUTOMATON, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$("Automaton Core"), this.listAncestryAwardedSpecials.add_11rb$("Constructed Body") }, fe.prototype.setHP = function () { this.HP = 8 }, fe.prototype.setSpeed = function () { this.speed = 25 }, fe.prototype.setSize = function () { this.size = 2 }, me.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var $e = null; function ge() { return null === $e && new me, $e } function ve() { Ee(), ea.call(this) } function Se() { Ce = this, this.ANCESTRY_AZARKETI = "Azarketi" } fe.$metadata$ = { kind: p, simpleName: "AncestryAutomaton", interfaces: [ea] }, ve.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([2, 5]), this.abilityFlaws = new Int32Array([4]) }, ve.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_AZARKETI, this.ancestryHeritageReference = se().FEATS_HERITAGE_AZARKETI, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$("Hydration") }, ve.prototype.setHP = function () { this.HP = 8 }, ve.prototype.setSpeed = function () { this.speed = 20 }, ve.prototype.setSize = function () { this.size = 2 }, Se.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Ce = null; function Ee() { return null === Ce && new Se, Ce } function Ae() { we(), ea.call(this) } function be() { Ie = this, this.ANCESTRY_CATFOLK = "Catfolk" } ve.$metadata$ = { kind: p, simpleName: "AncestryAzarketi", interfaces: [ea] }, Ae.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1, 5]), this.abilityFlaws = new Int32Array([4]) }, Ae.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_CATFOLK, this.ancestryHeritageReference = se().FEATS_HERITAGE_CATFOLK, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$("Land on Your Feet") }, Ae.prototype.setHP = function () { this.HP = 8 }, Ae.prototype.setSpeed = function () { this.speed = 25 }, Ae.prototype.setSize = function () { this.size = 2 }, be.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Ie = null; function we() { return null === Ie && new be, Ie } function Le() { Re(), ea.call(this) } function Te() { ke = this, this.ANCESTRY_DWARF = "Dwarf" } Ae.$metadata$ = { kind: p, simpleName: "AncestryCatfolk", interfaces: [ea] }, Le.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([2, 4]), this.abilityFlaws = new Int32Array([5]) }, Le.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_DWARF, this.ancestryHeritageReference = se().FEATS_HERITAGE_DWARF, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_DARKVISION) }, Le.prototype.setHP = function () { this.HP = 10 }, Le.prototype.setSpeed = function () { this.speed = 20 }, Le.prototype.setSize = function () { this.size = 2 }, Te.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ke = null; function Re() { return null === ke && new Te, ke } function Pe() { De(), ea.call(this) } function Me() { Ne = this, this.ANCESTRY_ELF = "Elf" } Le.$metadata$ = { kind: p, simpleName: "AncestryDwarf", interfaces: [ea] }, Pe.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1, 3]), this.abilityFlaws = new Int32Array([2]) }, Pe.prototype.setAncestryFeats = function () { this.ancestryHeritageReference = se().FEATS_HERITAGE_ELF, this.ancestryFeatReference = se().FEATS_ANCESTRY_ELF, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION) }, Pe.prototype.setHP = function () { this.HP = 6 }, Pe.prototype.setSpeed = function () { this.speed = 30 }, Pe.prototype.setSize = function () { this.size = 2 }, Me.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Ne = null; function De() { return null === Ne && new Me, Ne } function xe() { Fe(), ea.call(this) } function ze() { Oe = this, this.ANCESTRY_FETCHLING = "Fetchling" } Pe.$metadata$ = { kind: p, simpleName: "AncestryElf", interfaces: [ea] }, xe.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1]) }, xe.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_FETCHLING, this.ancestryHeritageReference = se().FEATS_HERITAGE_FETCHLING, this.listAncestryAwardedSpecials.add_11rb$("Darkvision (Fetchling)") }, xe.prototype.setHP = function () { this.HP = 8 }, xe.prototype.setSpeed = function () { this.speed = 25 }, xe.prototype.setSize = function () { this.size = 2 }, ze.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Oe = null; function Fe() { return null === Oe && new ze, Oe } function Be() { Ue(), ea.call(this) } function je() { } function He() { qe = this, this.ANCESTRY_FLESHWARP = "Fleshwarp" } xe.$metadata$ = { kind: p, simpleName: "AncestryFetchling", interfaces: [ea] }, Be.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([2]) }, je.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i ? e.hashMapSizeModifiders.put_xwzc9p$("Fleshwarp", DW(1, -1)) : e.hashMapSizeModifiders.remove_11rb$("Fleshwarp") }, je.$metadata$ = { kind: p, interfaces: [xX] }, Be.prototype.setAncestrySpecificEffects_s8e943$ = function (t, e, i) { var a = "Fleshwarp Size"; if (t) { var r = qX(a, 1), n = c(), s = qX("Small", 1); s.specialEffect = new je, n.put_xwzc9p$("Small", s), s = qX("Medium", 1), n.put_xwzc9p$("Medium", s), r.hashMapSpecialChoices.put_xwzc9p$("Select Size", n), o(i.hashMapSpecialInformation[0]).put_xwzc9p$(a, r) } else { var l = o(i.hashMapSpecialInformation[0]).get_11rb$(a); null != l && e.managerSpecials.activateSpecial_2yti0t$(e, i, !1, a, l), o(i.hashMapSpecialInformation[0]).remove_11rb$(a) } }, Be.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_FLESHWARP, this.ancestryHeritageReference = se().FEATS_HERITAGE_FLESHWARP, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$("Unusual Anatomy") }, Be.prototype.setHP = function () { this.HP = 10 }, Be.prototype.setSpeed = function () { this.speed = 25 }, Be.prototype.setSize = function () { this.size = 2 }, He.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var qe = null; function Ue() { return null === qe && new He, qe } function Ge() { Ve(), ea.call(this) } function We() { Ye = this, this.ANCESTRY_GNOME = "Gnome" } Be.$metadata$ = { kind: p, simpleName: "AncestryFleshwarp", interfaces: [ea] }, Ge.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([2, 5]), this.abilityFlaws = new Int32Array([0]) }, Ge.prototype.setAncestryFeats = function () { this.ancestryHeritageReference = se().FEATS_HERITAGE_GNOME, this.ancestryFeatReference = se().FEATS_ANCESTRY_GNOME, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION) }, Ge.prototype.setHP = function () { this.HP = 8 }, Ge.prototype.setSpeed = function () { this.speed = 25 }, Ge.prototype.setSize = function () { this.size = 1 }, We.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Ye = null; function Ve() { return null === Ye && new We, Ye } function Ke() { Ze(), ea.call(this) } function Xe() { Je = this, this.ANCESTRY_GOBLIN = "Goblin" } Ge.$metadata$ = { kind: p, simpleName: "AncestryGnome", interfaces: [ea] }, Ke.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1, 5]), this.abilityFlaws = new Int32Array([4]) }, Ke.prototype.setAncestryFeats = function () { this.ancestryHeritageReference = se().FEATS_HERITAGE_GOBLIN, this.ancestryFeatReference = se().FEATS_ANCESTRY_GOBLIN, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_DARKVISION) }, Ke.prototype.setHP = function () { this.HP = 6 }, Ke.prototype.setSpeed = function () { this.speed = 25 }, Ke.prototype.setSize = function () { this.size = 1 }, Xe.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Je = null; function Ze() { return null === Je && new Xe, Je } function Qe() { ii(), ea.call(this) } function ti() { ei = this, this.ANCESTRY_HALFLING = "Halfling" } Ke.$metadata$ = { kind: p, simpleName: "AncestryGoblin", interfaces: [ea] }, Qe.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1, 4]), this.abilityFlaws = new Int32Array([0]) }, Qe.prototype.setAncestryFeats = function () { this.ancestryHeritageReference = se().FEATS_HERITAGE_HALFLING, this.ancestryFeatReference = se().FEATS_ANCESTRY_HALFLING }, Qe.prototype.setHP = function () { this.HP = 6 }, Qe.prototype.setSpeed = function () { this.speed = 25 }, Qe.prototype.setSize = function () { this.size = 1 }, ti.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ei = null; function ii() { return null === ei && new ti, ei } function ai() { oi(), ea.call(this) } function ri() { ni = this, this.ANCESTRY_HOBGOBLIN = "Hobgoblin" } Qe.$metadata$ = { kind: p, simpleName: "AncestryHalfling", interfaces: [ea] }, ai.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([2, 3]), this.abilityFlaws = new Int32Array([4]) }, ai.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_HOBGOBLIN, this.ancestryHeritageReference = se().FEATS_HERITAGE_HOBGOBLIN, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_DARKVISION) }, ai.prototype.setHP = function () { this.HP = 8 }, ai.prototype.setSpeed = function () { this.speed = 25 }, ai.prototype.setSize = function () { this.size = 2 }, ri.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ni = null; function oi() { return null === ni && new ri, ni } function si() { pi(), ea.call(this) } function li() { ci = this, this.ANCESTRY_HUMAN = "Human" } ai.$metadata$ = { kind: p, simpleName: "AncestryHobgoblin", interfaces: [ea] }, si.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 2, this.defaultFreeBoosts = new Int32Array([0, 1]) }, si.prototype.setAncestryFeats = function () { this.ancestryHeritageReference = se().FEATS_HERITAGE_HUMAN, this.ancestryFeatReference = se().FEATS_ANCESTRY_HUMAN }, si.prototype.setHP = function () { }, si.prototype.setSpeed = function () { }, si.prototype.setSize = function () { }, li.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ci = null; function pi() { return null === ci && new li, ci } function hi() { _i(), this.name = "", this.traits = "", this.description = "", this.languages = "", this.bonusLanguages = 0, this.url = "https://2e.aonprd.com", this.source = "CRB" } function di() { ui = this, this.TABLE_ANCESTRIES = "ancestries", this.COLUMN_NAME = "name", this.COLUMN_DESCRIPTION = "description", this.COLUMN_BONUS_LANG = "bonus_lang", this.COLUMN_LANGUAGES = "languages", this.COLUMN_SRC = "src", this.COLUMN_URL = "url" } si.$metadata$ = { kind: p, simpleName: "AncestryHuman", interfaces: [ea] }, di.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ui = null; function _i() { return null === ui && new di, ui } function fi() { $i(), ea.call(this) } function yi() { mi = this, this.ANCESTRY_KITSUNE = "Kitsune" } hi.$metadata$ = { kind: p, simpleName: "AncestryInformation", interfaces: [] }, fi.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([5]) }, fi.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_KITSUNE, this.ancestryHeritageReference = se().FEATS_HERITAGE_KITSUNE, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$("Change Shape (Kitsune)") }, fi.prototype.setHP = function () { this.HP = 8 }, fi.prototype.setSpeed = function () { this.speed = 25 }, fi.prototype.setSize = function () { this.size = 2 }, yi.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var mi = null; function $i() { return null === mi && new yi, mi } function gi() { Ci(), ea.call(this) } function vi() { Si = this, this.ANCESTRY_KOBOLD = "Kobold" } fi.$metadata$ = { kind: p, simpleName: "AncestryKitsune", interfaces: [ea] }, gi.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1, 5]), this.abilityFlaws = new Int32Array([2]) }, gi.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_KOBOLD, this.ancestryHeritageReference = se().FEATS_HERITAGE_KOBOLD, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_DARKVISION), this.listAncestryAwardedSpecials.add_11rb$("Draconic Exemplar") }, gi.prototype.setHP = function () { this.HP = 6 }, gi.prototype.setSpeed = function () { this.speed = 25 }, gi.prototype.setSize = function () { this.size = 1 }, vi.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Si = null; function Ci() { return null === Si && new vi, Si } function Ei() { Ii(), ea.call(this) } function Ai() { bi = this, this.ANCESTRY_LESHY = "Leshy" } gi.$metadata$ = { kind: p, simpleName: "AncestryKobold", interfaces: [ea] }, Ei.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([2, 4]), this.abilityFlaws = new Int32Array([3]) }, Ei.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_LESHY, this.ancestryHeritageReference = se().FEATS_HERITAGE_LESHY, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_PLANT_NOURISHMENT) }, Ei.prototype.setHP = function () { this.HP = 8 }, Ei.prototype.setSpeed = function () { this.speed = 25 }, Ei.prototype.setSize = function () { this.size = 1 }, Ai.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var bi = null; function Ii() { return null === bi && new Ai, bi } function wi() { ki(), ea.call(this) } function Li() { Ti = this, this.ANCESTRY_LIZARDFOLK = "Lizardfolk" } Ei.$metadata$ = { kind: p, simpleName: "AncestryLeshy", interfaces: [ea] }, wi.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([0, 4]), this.abilityFlaws = new Int32Array([3]) }, wi.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_LIZARDFOLK, this.ancestryHeritageReference = se().FEATS_HERITAGE_LIZARDFOLK, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_CLAWS), this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_AQUATIC_ADAPTATION), this.listAncestryAwardedFeats.add_11rb$("GENERAL_Breath Control") }, wi.prototype.setHP = function () { this.HP = 8 }, wi.prototype.setSpeed = function () { this.speed = 25 }, wi.prototype.setSize = function () { this.size = 2 }, Li.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Ti = null; function ki() { return null === Ti && new Li, Ti } function Ri() { Ni(), ea.call(this) } function Pi() { Mi = this, this.ANCESTRY_ORC = "Orc" } wi.$metadata$ = { kind: p, simpleName: "AncestryLizardfolk", interfaces: [ea] }, Ri.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([0]) }, Ri.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_ORC, this.ancestryHeritageReference = se().FEATS_HERITAGE_ORC, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_DARKVISION) }, Ri.prototype.setHP = function () { this.HP = 10 }, Ri.prototype.setSpeed = function () { this.speed = 25 }, Ri.prototype.setSize = function () { this.size = 2 }, Pi.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Mi = null; function Ni() { return null === Mi && new Pi, Mi } function Di() { Oi(), ea.call(this) } function xi() { zi = this, this.ANCESTRY_NAME = "Poppet" } Ri.$metadata$ = { kind: p, simpleName: "AncestryOrc", interfaces: [ea] }, Di.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([2, 5]), this.abilityFlaws = new Int32Array([1]) }, Di.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_POPPET, this.ancestryHeritageReference = se().FEATS_HERITAGE_POPPET, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_DARKVISION), this.listAncestryAwardedSpecials.add_11rb$("Flammable"), this.listAncestryAwardedSpecials.add_11rb$("Constructed") }, Di.prototype.setHP = function () { this.HP = 6 }, Di.prototype.setSpeed = function () { this.speed = 25 }, Di.prototype.setSize = function () { this.size = 1 }, xi.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var zi = null; function Oi() { return null === zi && new xi, zi } function Fi() { Hi(), ea.call(this) } function Bi() { ji = this, this.ANCESTRY_RATFOLK = "Ratfolk" } Di.$metadata$ = { kind: p, simpleName: "AncestryPoppet", interfaces: [ea] }, Fi.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1, 3]), this.abilityFlaws = new Int32Array([0]) }, Fi.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_RATFOLK, this.ancestryHeritageReference = se().FEATS_HERITAGE_RATFOLK, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION) }, Fi.prototype.setHP = function () { this.HP = 6 }, Fi.prototype.setSpeed = function () { this.speed = 25 }, Fi.prototype.setSize = function () { this.size = 1 }, Bi.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ji = null; function Hi() { return null === ji && new Bi, ji } function qi() { Wi(), ea.call(this) } function Ui() { Gi = this, this.ANCESTRY_SHOONY = "Shoony" } Fi.$metadata$ = { kind: p, simpleName: "AncestryRatfolk", interfaces: [ea] }, qi.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1, 5]), this.abilityFlaws = new Int32Array([2]) }, qi.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_SHOONY, this.ancestryHeritageReference = se().FEATS_HERITAGE_SHOONY, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION) }, qi.prototype.setHP = function () { this.HP = 6 }, qi.prototype.setSpeed = function () { this.speed = 25 }, qi.prototype.setSize = function () { this.size = 1 }, Ui.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Gi = null; function Wi() { return null === Gi && new Ui, Gi } function Yi() { Xi(), ea.call(this) } function Vi() { Ki = this, this.ANCESTRY_SPRITE = "Sprite" } qi.$metadata$ = { kind: p, simpleName: "AncestryShoony", interfaces: [ea] }, Yi.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1, 3]), this.abilityFlaws = new Int32Array([0]) }, Yi.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_SPRITE, this.ancestryHeritageReference = se().FEATS_HERITAGE_SPRITE, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$("Magical Strikes") }, Yi.prototype.setHP = function () { this.HP = 6 }, Yi.prototype.setSpeed = function () { this.speed = 20 }, Yi.prototype.setSize = function () { this.size = 0 }, Vi.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Ki = null; function Xi() { return null === Ki && new Vi, Ki } function Ji() { ta(), ea.call(this) } function Zi() { Qi = this, this.ANCESTRY_STRIX = "Strix" } Yi.$metadata$ = { kind: p, simpleName: "AncestrySprite", interfaces: [ea] }, Ji.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1]) }, Ji.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_STRIX, this.ancestryHeritageReference = se().FEATS_HERITAGE_STRIX, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$("Wings (Strix)") }, Ji.prototype.setHP = function () { this.HP = 8 }, Ji.prototype.setSpeed = function () { this.speed = 25 }, Ji.prototype.setSize = function () { this.size = 2 }, Zi.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Qi = null; function ta() { return null === Qi && new Zi, Qi } function ea() { this.ancestryFeatLevels = new Int32Array([1, 5, 9, 13, 17]), this.ancestryFeatReference = se().FEATS_ANCESTRY_HUMAN, this.ancestryHeritageReference = se().FEATS_HERITAGE_DWARF, this.numFreeBoosts = 0, this.defaultFreeBoosts = new Int32Array(0), this.abilityBoosts = new Int32Array(0), this.abilityFlaws = new Int32Array(0), this.HP = 8, this.size = 2, this.speed = 25, this.description = null, this.listAncestryAwardedSpecials = u(), this.listAncestryAwardedFeats = u(), this.langugages = "", this.bonusLanguage = 0, this.traits = "", this.name_x3vtwr$_0 = null, this.src = "CRB", this.url = "https://2e.aonprd.com", this.setAbilityBoosts(), this.setAncestryFeats(), this.setHP(), this.setSpeed(), this.setSize() } function ia() { na(), ea.call(this) } function aa() { ra = this, this.ANCESTRY_TENGU = "Tengu" } Ji.$metadata$ = { kind: p, simpleName: "AncestryStrix", interfaces: [ea] }, ea.prototype.setAncestrySpecificEffects_s8e943$ = function (t, e, i) { }, ea.prototype.activateAncestry_fhac18$ = function (t, e) { var i, a, r, n, s; for (i = this.ancestryFeatLevels, a = 0; a !== i.length; ++a) { var l = i[a], c = Ru(); c.featType = se().FEATS_ANCESTRY, c.level = l; var p = this.ancestryFeatReference + " " + l.toString(); o(e.hashMapFeatChoices[l - 1 | 0]).put_xwzc9p$(p, c) } if (e.getCharacterData().getHashMapAncestryFreeBoostSelections().isEmpty()) { r = this.defaultFreeBoosts; for (var h = 0; h !== r.length; ++h) { var d = this.defaultFreeBoosts[h]; e.getCharacterData().getHashMapAncestryFreeBoostSelections().put_xwzc9p$(h, d) } } for (n = this.listAncestryAwardedSpecials.iterator(); n.hasNext();) { var u = n.next(); if (o(t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL)).containsKey_11rb$(u)) { var _ = o(t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL)).get_11rb$(u), f = o(e.hashMapSpecialInformation[0]), y = "Ancestry Special " + u, m = o(_); f.put_xwzc9p$(y, m) } } for (s = this.listAncestryAwardedFeats.iterator(); s.hasNext();) { var $ = s.next(); t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, !0, $ + " ancestry", $, se().FEATS_GENERAL, 1) } this.setAncestrySpecificEffects_s8e943$(!0, t, e) }, ea.prototype.deactivateOldAncestry_fhac18$ = function (t, i) { var a, r, n, c, p; for (this.setAncestrySpecificEffects_s8e943$(!1, t, i), a = this.ancestryFeatLevels, r = 0; r !== a.length; ++r) { var h = a[r], d = this.ancestryFeatReference + " " + h.toString(); if (i.getCharacterData().hashMapFeatSelections.containsKey_11rb$(d)) { var u = o(i.hashMapFeatChoices[h - 1 | 0]).get_11rb$(d); t.managerFeats.deactivateFeat_8fzv80$(i, h, u, d), i.getCharacterData().hashMapFeatSelections.remove_11rb$(d) } o(i.hashMapFeatChoices[h - 1 | 0]).remove_11rb$(d) } for (n = w(i.getCharacterData().hashMapFeatSelections.keys).iterator(); n.hasNext();) { var _ = n.next(); try { var f = i.getFeatChoiceWithoutLevel_61zpoe$(_); m(o(f).featType, se().FEATS_ANCESTRY) && t.managerFeats.deactivateFeat_8fzv80$(i, f.level, f, _) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } for (c = this.listAncestryAwardedSpecials.iterator(); c.hasNext();) { var y = c.next(); o(t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL)).containsKey_11rb$(y) && o(i.hashMapSpecialInformation[0]).remove_11rb$("Ancestry Special " + y) } for (p = this.listAncestryAwardedFeats.iterator(); p.hasNext();) { var $ = p.next(); t.managerFeats.activateAndAddFreeFeat_ubuv6q$(i, !1, $ + " ancestry", $, se().FEATS_GENERAL, 1) } }, ea.prototype.setName_61zpoe$ = function (t) { this.name_x3vtwr$_0 = t }, ea.$metadata$ = { kind: p, simpleName: "AncestryTemplate", interfaces: [] }, ia.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1]) }, ia.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_TENGU, this.ancestryHeritageReference = se().FEATS_HERITAGE_TENGU, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$("Sharp Beak") }, ia.prototype.setHP = function () { this.HP = 6 }, ia.prototype.setSpeed = function () { this.speed = 25 }, ia.prototype.setSize = function () { this.size = 2 }, aa.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ra = null; function na() { return null === ra && new aa, ra } function oa() { ca(), ea.call(this) } function sa() { la = this, this.ANCESTRY_ANADI = "Anadi" } ia.$metadata$ = { kind: p, simpleName: "AncestryTengu", interfaces: [ea] }, oa.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1, 4]), this.abilityFlaws = new Int32Array([2]) }, oa.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_ANADI, this.ancestryHeritageReference = se().FEATS_HERITAGE_ANADI, this.listAncestryAwardedSpecials.add_11rb$("Change Shape (Anadi)"), this.listAncestryAwardedSpecials.add_11rb$("Fangs (Anadi)") }, oa.prototype.setHP = function () { this.HP = 8 }, oa.prototype.setSpeed = function () { this.speed = 25 }, oa.prototype.setSize = function () { this.size = 2 }, sa.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var la = null; function ca() { return null === la && new sa, la } function pa() { ua(), ea.call(this) } function ha() { da = this, this.ANCESTRY_CONRASU = "Conrasu" } oa.$metadata$ = { kind: p, simpleName: "AncestryAnadi", interfaces: [ea] }, pa.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([2, 4]), this.abilityFlaws = new Int32Array([5]) }, pa.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_CONRASU, this.ancestryHeritageReference = se().FEATS_HERITAGE_CONRASU, this.listAncestryAwardedSpecials.add_11rb$("Sunlight Healing") }, pa.prototype.setHP = function () { this.HP = 10 }, pa.prototype.setSpeed = function () { this.speed = 25 }, pa.prototype.setSize = function () { this.size = 2 }, ha.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var da = null; function ua() { return null === da && new ha, da } function _a() { ma(), ea.call(this) } function fa() { ya = this, this.ANCESTRY_GNOLL = "Gnoll" } pa.$metadata$ = { kind: p, simpleName: "AncestryConrasu", interfaces: [ea] }, _a.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([0, 3]), this.abilityFlaws = new Int32Array([4]) }, _a.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_GNOLL, this.ancestryHeritageReference = se().FEATS_HERITAGE_GNOLL, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION), this.listAncestryAwardedSpecials.add_11rb$("Bite (Gnoll)") }, _a.prototype.setHP = function () { this.HP = 8 }, _a.prototype.setSpeed = function () { this.speed = 25 }, _a.prototype.setSize = function () { this.size = 2 }, fa.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ya = null; function ma() { return null === ya && new fa, ya } function $a() { Sa(), ea.call(this) } function ga() { va = this, this.ANCESTRY_GOLOMA = "Goloma" } _a.$metadata$ = { kind: p, simpleName: "AncestryGnoll", interfaces: [ea] }, $a.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([4]) }, $a.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_GOLOMA, this.ancestryHeritageReference = se().FEATS_HERITAGE_GOLOMA, this.listAncestryAwardedSpecials.add_11rb$("Eyes in Back") }, $a.prototype.setHP = function () { this.HP = 8 }, $a.prototype.setSpeed = function () { this.speed = 30 }, $a.prototype.setSize = function () { this.size = 2 }, ga.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var va = null; function Sa() { return null === va && new ga, va } function Ca() { ba(), ea.call(this) } function Ea() { Aa = this, this.ANCESTRY_GRIPPLI = "Grippli" } $a.$metadata$ = { kind: p, simpleName: "AncestryGoloma", interfaces: [ea] }, Ca.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([1, 4]), this.abilityFlaws = new Int32Array([0]) }, Ca.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_GRIPPLI, this.ancestryHeritageReference = se().FEATS_HERITAGE_GRIPPLI, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION) }, Ca.prototype.setHP = function () { this.HP = 6 }, Ca.prototype.setSpeed = function () { this.speed = 25 }, Ca.prototype.setSize = function () { this.size = 1 }, Ea.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Aa = null; function ba() { return null === Aa && new Ea, Aa } function Ia() { Ta(), ea.call(this) } function wa() { La = this, this.ANCESTRY_SHISK = "Shisk" } Ca.$metadata$ = { kind: p, simpleName: "AncestryGrippli", interfaces: [ea] }, Ia.prototype.setAbilityBoosts = function () { this.numFreeBoosts = 1, this.abilityBoosts = new Int32Array([3]) }, Ia.prototype.setAncestryFeats = function () { this.ancestryFeatReference = se().FEATS_ANCESTRY_SHISK, this.ancestryHeritageReference = se().FEATS_HERITAGE_SHISK, this.listAncestryAwardedSpecials.add_11rb$(se().UNIVERSAL_DARKVISION) }, Ia.prototype.setHP = function () { this.HP = 8 }, Ia.prototype.setSpeed = function () { this.speed = 25 }, Ia.prototype.setSize = function () { this.size = 2 }, wa.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var La = null; function Ta() { return null === La && new wa, La } function ka() { Ma() } function Ra() { Pa = this } Ia.$metadata$ = { kind: p, simpleName: "AncestryShisk", interfaces: [ea] }, Ra.prototype.fixMercantileLore_g7kqbx$ = function (t) { var e; for (e = t.hashMapSkillIncreases.values.iterator(); e.hasNext();) { var i = e.next(); i.contains_11rb$("Lore: Merchantile") && (i.remove_11rb$("Lore: Merchantile"), i.add_11rb$("Lore: Mercantile")), i.contains_11rb$("Lore: Genealogy or Heraldry") && (i.remove_11rb$("Lore: Genealogy or Heraldry"), i.add_11rb$("Lore: Genealogy")), i.contains_11rb$("Lore: Ancient Region") && (i.remove_11rb$("Lore: Ancient Region"), i.add_11rb$("Lore: Ancient Regional")) } }, Ra.prototype.fixAllIsOneSpell_g7kqbx$ = function (t) { var e; for (e = t.getHashMapPlayerSpells().values.iterator(); e.hasNext();) { var i = e.next(); (m(i.spellName, "One is All") || m(i.spellName, "All is One")) && (i.spellName = "All is One, One is All") } }, Ra.prototype.fixThievesTools_g7kqbx$ = function (t) { var e, i, a = g([$("Thieve's Tools", "Thieves' Tools"), $("Cognative Mutagen", "Cognitive Mutagen"), $("Fingerprinting Kit", "Fingerprint Kit"), $("Mezmerizing Opal", "Mesmerizing Opal"), $("Skinitch Salve", "Skinstitch Salve"), $("Orgin Unguent", "Origin Unguent"), $("Signifier Mask", "Signifer Mask")]); for (e = t.listPlayerEquipment.iterator(); e.hasNext();) { var r = e.next(); for (i = a.keys.iterator(); i.hasNext();) { var n = i.next(); _(r.name, n) && L(r.name, n, o(a.get_11rb$(n))) } } }, Ra.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Pa = null; function Ma() { return null === Pa && new Ra, Pa } function Na() { this.characterData_ein2og$_0 = new Da, this.researchField = 0, this.hashMapSpellCasters = c(), this.reportAbilityScores = null, this.hashMapFeatChoices = e.newArray(20, null), this.hashMapFreeFeats = c(), this.hashMapFeatExtraInformation = c(), this.listSkillIncreaseLevels = u(), this.hashMapSpecialInformation = e.newArray(20, null), this.listAdditionalClassSkills = u(), this.hashMapProficiencies = c(), this.hashMapSkillProficiencies = c(), this.hashMapIndividualWeaponProficiencies = c(), this.hashMapChangedWeaponProficiencies = c(), this.hashMapSpeedIncreases = c(), this.hashMapMaxBulkIncreases = c(), this.hashMapInitiativeIncreases = c(), this.hashMapInvestmentIncreases = c(), this.hashMapHitPointIncreaseItems = c(), this.hashMapFocusPointIncreaseItems = c(), this.hashMapMiscWeaponItemBonuses = c(), this.hashMapAwardedPowers = c(), this.hashMapTrainedOnlySkillChoices = c(), this.hashMapAncestralWeaponExpertiseItems = c(), this.hashMapAncestralArmorExpertiseItems = c(), this.hashMapSpecificArmorTrainings = c(), this.hashMapAlchemyLevels = c(), this.hashMapAdditionalAncestries = c(), this.hashMaoAddLevelToUntrainedRefs_cq0vv6$_0 = c(), this.hashMapArchetypeLores = c(), this.hashMapAncestryLores = c(), this.favouredWeapon = "Sling", this.hashMapSneakAttackTracks = c(), this.hashMapResistances = c(), this.unconventionalWeapon = null, this.hashMapAttackDamageBuffs = c(), this.hashMapSizeModifiders = c(), this.hashMapPetCharacterBuilds = c(), this.hashMapExtraInfusedReagents = c(), this.hashMapMatureAnimalCompanion = c(), this.hashMapIncredibleAnimalCompanion = c(), this.hashMapSpecializedAnimalCompanion = c(), this.hashMapFamiliarAbilities = c(), this.hashMapPetGainedLevel = c(), this.hashMapPetHPIncreaseItems = c(), this.hashMapPetBaseSpeeds = c(), this.hashMapWeaponGroupProficiency = c(), this.animalTrainerMatureSkill = pK().INTIMIDATION, this.animalTrainerSpecialisedSkill = pK().ACROBATICS, this.animalTrainer = !1, this.hashMapSpellAttackBonuses = c(), this.hashMapDexCapOverrides = c(), this.hashMapDamageIncreaseItems = c(), this.hashMapDamageIncreaseItemsByPlayerWeapon = c(), this.listVersatileHeritageFeats = u(), this.lineage = "", this.hashMapCharacterFlags = c(), this.hashMapEffectiveFeats = c(), this.hashMapDupedArchetypeFeats = c(), this.hashMapExtraWitchKnownSpells = c(), this.hashMapAlchemicalCasters = c(), this.hashMapSpellAttackOverrides = c(), this.isElementalist = !1, this.hashMapOverrideFocusSpells = c(), this.isRunelord = !1, this.hashMapInventorModifications = c(), this.hashMapFreePlayerWeaponTraits = c(), this.classTemplate_az62gh$_0 = null, this.listBoostLevels = T([5, 10, 15, 20]) } function Da() { Oa(), this.usedInfusedReagents_l7b1g3$_0 = 0, this.hashMapUsedInfusedReagentsByCaster_wub7fs$_0 = c(), this.hashMapFormulaBook_doz1by$_0 = c(), this.hashMapFormulaBookByCaster_lfmr8b$_0 = c(), this.deprecatedLanguagesSelection_7wcmbp$_0 = "Not set", this.characterLevel_bfxlz8$_0 = 1, this.autoSave_vmqs99$_0 = !0, this.showLevelWarnings_b4y0if$_0 = !0, this.showSpellbookConfirmation_r2gpzg$_0 = !1, this.separateAdventurersKit_oafd8p$_0 = !0, this.showDedicationFeats_80tdt5$_0 = !0, this.listKnownSpells_lj53xh$_0 = u(), this.hashMapKnownSpellsByCaster_ulry6c$_0 = c(), this.hashMapSpontaneousSpellsCast_kmso1i$_0 = c(), this.listSpentSpellSlots_1eo8fs$_0 = u(), this.hashMapBonusSpellSlots_zgcgbl$_0 = c(), this.hashMapBonusSpellPerDay_dpokgx$_0 = c(), this.hashMapBonusSpellPrepared_oslxk1$_0 = c(), this.hashMapPlayerSpells_okug1n$_0 = c(), this.currentHP_2gd2k4$_0 = 70, this.damageTaken_iz2tc3$_0 = 0, this.spentResonance_996yyp$_0 = 0, this.spentSpellPoints_eiy4ce$_0 = 0, this.heroPoints_bb40pu$_0 = 1, this.characterRef_st7lt7$_0 = -1, this.webID_iuurt2$_0 = null, this.folderID_ku8qfq$_0 = null, this.characterName_u6ndhd$_0 = "Unknown Adventurer", this.age_69uw0a$_0 = "Not set", this.deity_9v5cdk$_0 = "Not set", this.alignment_3f7ydu$_0 = "N", this.gender_58bdsy$_0 = "Not set", this.experiencePoints_kiyycy$_0 = 0, this.ancestry_a2epns$_0 = pi().ANCESTRY_HUMAN, this.className_fe7lhu$_0 = "Fighter", this.background_mfrl01$_0 = "BACKGROUND_Barkeep", this.portraitFilename_8j1o3h$_0 = null, this.classOptionalTrainedSkill_in4prh$_0 = null, this.classDualOptionalTrainedSkill_kfgzk9$_0 = null, this.abilityScoreOverrides_uhim6i$_0 = null, this.gold_ip6ndr$_0 = 15, this.platinum_l5g4x9$_0 = 0, this.silver_upmb2q$_0 = 0, this.copper_buz092$_0 = 0, this.hashMapAncestryFreeBoostSelections_aoleii$_0 = c(), this.backgroundBoostLimitedSelection_n855xu$_0 = 2, this.getBackgroundBoostFreeSelection_mpzovg$_0 = 0, this.backgroundBoostThirdSelection_os9ha3$_0 = 4, this.classKeyAbility_9b8lpq$_0 = 0, this.dualClassKeyAbility_iar7bm$_0 = -1, this.hashMapFeatSelections = c(), this.hashMapFeatExtraSelections = c(), this.hashMapSpecialSelections = c(), this.hashMapAbilityBoosts = c(), this.hashMapSkillIncreases = c(), this.hashMapAdditionalLores_nayrjr$_0 = c(), this.hashMapTrainedOnlySkillChoices = c(), this.listPlayerWeapons = u(), this.playerArmor_lv6tu1$_0 = new cs, this.listStowedPlayerArmor = u(), this.playerShield_7q3vf9$_0 = null, this.playerShieldNew_1me2bj$_0 = null, this.listStowedPlayerShields = u(), this.listPlayerEquipment = u(), this.listPlayerFormula = u(), this.notes_era7uc$_0 = "Notes", this.hashMapActiveConditions = c(), this.hashMapActiveCustomBuffs = c(), this.listCurrentlyInactiveBuffs = u(), this.listCustomLores = u(), this.cloudStorage_295k6x$_0 = !1, this.googleFileID_8iwfld$_0 = null, this.emailedBuildID_ofv05r$_0 = -1, this.listDisabledRulebooks = u(), this.shieldDamage_tvbu9l$_0 = 0, this.allowHalfHeritages_cqchd3$_0 = !1, this.allowMultiplePurchase_ljs9s5$_0 = !1, this.useStamina_x0unvt$_0 = !1, this.spentResolve_owcjtt$_0 = 0, this.hashMapCustomAbilityIncreases = c(), this.hashMapEquipmentContainers_skt9o3$_0 = c(), this.optionalFlaw_bezx6r$_0 = null, this.hashMapCustomFeatChoices = c(), this.hashMapCustomSkillIncreases = c(), this.hashMapSignatureSpells_db5vsm$_0 = c(), this.hashMapSignatureSpellsMultiple = c(), this.hashMapSignatureFormula = c(), this.hashMapPetData = c(), this.listLanguages = u(), this.dialects = e.newArray(6, null), this.temporaryHPSource_7g9xdt$_0 = null, this.temporaryHP_hszsm4$_0 = 0, this.staminaDamage_d04tef$_0 = 0, this.dualClass_qqo6fb$_0 = null, this.addLevelToProficiency_d4tise$_0 = !0, this.freeArchetype_i9bzew$_0 = !1, this.ignoreFreeArcheRest_vrwskw$_0 = !1, this.ignoreFreeArcheAbilityReq_6fr9ps$_0 = !1, this.classArchetype_8mcbf6$_0 = null, this.hashMapRepertoireOverride_8h3xdo$_0 = c(), this.abp_69uzga$_0 = !1, this.otherCaster_dcwp89$_0 = !1, this.listUserBonusFeats = u(), this.peerID_fbor4u$_0 = null, this.ancestryParagon_jzdxmi$_0 = !1, this.gradualAbilityBoost_r2cy5m$_0 = !1, this.hashMapSpellBlending = c() } function xa() { za = this } Na.prototype.getClassTemplate = function () { return null == this.classTemplate_az62gh$_0 && (this.classTemplate_az62gh$_0 = Nl().getClassTemplate_g7kqbx$(this.characterData_ein2og$_0)), o(this.classTemplate_az62gh$_0) }, Na.prototype.clearData = function () { this.classTemplate_az62gh$_0 = null, this.hashMapFeatChoices = e.newArray(20, null), this.hashMapFreeFeats = c(), this.hashMapFeatExtraInformation = c(), this.hashMapIndividualWeaponProficiencies = c(), this.hashMapSpeedIncreases = c(), this.hashMapMaxBulkIncreases = c(), this.hashMapInitiativeIncreases = c(), this.hashMapInvestmentIncreases = c(), this.hashMapHitPointIncreaseItems = c(), this.hashMapFocusPointIncreaseItems = c(), this.hashMapMiscWeaponItemBonuses = c(), this.listSkillIncreaseLevels = u(), this.hashMapSpecialInformation = e.newArray(20, null), this.hashMapProficiencies = c(), this.hashMapSkillProficiencies = c(), this.hashMapChangedWeaponProficiencies = c(), this.hashMapAwardedPowers = c(), this.hashMapTrainedOnlySkillChoices = c(), this.reportAbilityScores = null, this.hashMapSpellCasters = c(), this.hashMapAncestralWeaponExpertiseItems = c(), this.hashMapAlchemyLevels = c(), this.researchField = 0, this.hashMapAdditionalAncestries = c(), this.hashMaoAddLevelToUntrainedRefs_cq0vv6$_0 = c(), this.hashMapArchetypeLores = c(), this.hashMapAncestryLores = c(), this.favouredWeapon = "Sling", this.hashMapSneakAttackTracks = c(), this.hashMapResistances = c(), this.unconventionalWeapon = null, this.hashMapAttackDamageBuffs = c(), this.hashMapPetCharacterBuilds = c(), this.hashMapExtraInfusedReagents = c(), this.hashMapMatureAnimalCompanion = c(), this.hashMapIncredibleAnimalCompanion = c(), this.hashMapSpecializedAnimalCompanion = c(), this.hashMapFamiliarAbilities = c(), this.hashMapPetGainedLevel = c(), this.hashMapPetHPIncreaseItems = c(), this.hashMapPetBaseSpeeds = c(), this.hashMapWeaponGroupProficiency = c(), this.listAdditionalClassSkills = u(), this.animalTrainer = !1, this.hashMapDexCapOverrides.clear(), this.hashMapDamageIncreaseItems.clear(), this.hashMapDamageIncreaseItemsByPlayerWeapon.clear(), this.listVersatileHeritageFeats.clear(), this.lineage = "", this.hashMapDupedArchetypeFeats = c(), this.hashMapEffectiveFeats.clear(), this.hashMapSpellAttackBonuses.clear(), this.hashMapExtraWitchKnownSpells.clear(), this.hashMapAlchemicalCasters.clear(), this.hashMapCharacterFlags = c(), this.hashMapSpellAttackOverrides = c(), this.isElementalist = !1, this.hashMapOverrideFocusSpells.clear(), this.isRunelord = !1, this.hashMapInventorModifications.clear(), this.hashMapFreePlayerWeaponTraits.clear(), this.hashMapAncestralArmorExpertiseItems.clear(), this.setBoostLevels() }, Na.prototype.setBoostLevels = function () { this.characterData_ein2og$_0.isGradualAbilityBoost() ? this.listBoostLevels = T([2, 3, 4, 5, 7, 8, 9, 10, 12, 13, 14, 15, 17, 18, 19, 20]) : this.listBoostLevels = T([5, 10, 15, 20]) }, Na.prototype.loadBuildCore_sfkw43$ = function (t) { for (var e, i, a, r, n, o, s = 0; s <= 19; s++)this.hashMapFeatChoices[s] = c(), this.hashMapSpecialInformation[s] = c(); for (var l = 2; l < 20;) { var p = Ru(); p.featType = se().FEATS_GENERAL, p.level = l + 1 | 0; var h = se().FEATS_GENERAL + " " + p.level.toString(); null != (e = this.hashMapFeatChoices[l]) && e.put_xwzc9p$(h, p), l = l + 4 | 0 } var d = Ru(); for (d.featType = se().FEATS_HERITAGE, d.level = 1, null != (i = this.hashMapFeatChoices[0]) && i.put_xwzc9p$("Heritage Feat", d), a = this.characterData_ein2og$_0.hashMapCustomFeatChoices.keys.iterator(); a.hasNext();) { var u = a.next(), _ = this.characterData_ein2og$_0.hashMapCustomFeatChoices.get_11rb$(u); null != _ && ((d = Pu(_)).custom = !0, m(d.featType, se().FEATS_CLASS) && (d.combinedClass = !0), null != (r = this.hashMapFeatChoices[d.level - 1 | 0]) && r.put_xwzc9p$(u, d)) } var f = new Int32Array([2, 4, 6, 8, 10, 12, 14, 16, 18, 20]); for (n = 0; n !== f.length; ++n) { var y = f[n]; (d = Ru()).featType = se().FEATS_SKILL, d.level = y; var $ = se().FEATS_SKILL + " " + d.level.toString(); null != (o = this.hashMapFeatChoices[y - 1 | 0]) && o.put_xwzc9p$($, d) } var g = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(this), v = MK(pK().INCREASE_TYPE_STANDARD_SELECTION, 1, g, g, 1), S = this.hashMapTrainedOnlySkillChoices, C = pK().INCREASE_TYPE_STANDARD_SELECTION; S.put_xwzc9p$(C, v); var E = this.hashMapFamiliarAbilities, A = DW(1, 1); E.put_xwzc9p$("Core Ability 1", A); var b = this.hashMapFamiliarAbilities, I = DW(1, 1); b.put_xwzc9p$("Core Ability 2", I) }, Na.prototype.getFeatChoicesAtLevel_za3lpa$ = function (t) { return this.hashMapFeatChoices[t - 1 | 0] }, Na.prototype.getFeatChoice_19mbxw$ = function (t, e) { var i, a, r, n; if (!0 === (null != (i = this.hashMapFeatChoices[t - 1 | 0]) ? i.containsKey_11rb$(e) : null)) return null != (a = this.hashMapFeatChoices[t - 1 | 0]) ? a.get_11rb$(e) : null; for (n = o(null != (r = this.hashMapFeatChoices[t - 1 | 0]) ? r.values : null).iterator(); n.hasNext();) { var s = n.next(), l = this.checkChildFeatChoice_z9u7jn$_0(e, s); if (null != l) return l } return null }, Na.prototype.getFeatChoiceWithoutLevel_61zpoe$ = function (t) { for (var e = 1; e <= 20; e++) { var i = this.getFeatChoice_19mbxw$(e, t); if (null != i) return i } return null }, Na.prototype.checkChildFeatChoice_z9u7jn$_0 = function (t, e) { var i; if (e.hashMapChildFeatChoices.containsKey_11rb$(t)) return e.hashMapChildFeatChoices.get_11rb$(t); for (i = e.hashMapChildFeatChoices.values.iterator(); i.hasNext();) { var a = i.next(), r = this.checkChildFeatChoice_z9u7jn$_0(t, o(a)); if (null != r) return r } return null }, Na.prototype.getSpecialInformation_19mbxw$ = function (t, e) { var i, a, r, n; if (!0 === (null != (i = this.hashMapSpecialInformation[t - 1 | 0]) ? i.containsKey_11rb$(e) : null)) return null != (a = this.hashMapSpecialInformation[t - 1 | 0]) ? a.get_11rb$(e) : null; for (n = o(null != (r = this.hashMapSpecialInformation[t - 1 | 0]) ? r.values : null).iterator(); n.hasNext();) { var s = n.next(), l = this.checkChildSpecialInformation_xd79k6$_0(e, s); if (null != l) return l } return null }, Na.prototype.checkChildSpecialInformation_xd79k6$_0 = function (t, e) { var i, a; for (i = e.hashMapSpecialChoices.keys.iterator(); i.hasNext();) { var r = i.next(); for (a = o(e.hashMapSpecialChoices.get_11rb$(r)).keys.iterator(); a.hasNext();) { var n = a.next(), s = o(e.hashMapSpecialChoices.get_11rb$(r)).get_11rb$(n); if (null != s) { if (m(n, t)) return s; var l = this.checkChildSpecialInformation_xd79k6$_0(t, s); if (null != l) return l } } } return null }, Na.prototype.addFreeFeat_1e1ni6$ = function (t, e) { if (!this.hashMapFreeFeats.containsKey_11rb$(e.level)) { var i = this.hashMapFreeFeats, a = e.level, r = c(); i.put_xwzc9p$(a, r) } o(this.hashMapFreeFeats.get_11rb$(e.level)).put_xwzc9p$(t, e) }, Na.prototype.removeFreeFeat_bm4lxs$ = function (t, e) { this.hashMapFreeFeats.containsKey_11rb$(e) && (o(this.hashMapFreeFeats.get_11rb$(e)).remove_11rb$(t), o(this.hashMapFreeFeats.get_11rb$(e)).isEmpty() && this.hashMapFreeFeats.remove_11rb$(e)) }, Na.prototype.getListFreeFeatsAtLevel_za3lpa$ = function (t) { var e, i, a = u(); for (e = this.hashMapFreeFeats.keys.iterator(); e.hasNext();) { var r = e.next(); if (t === r) for (i = o(this.hashMapFreeFeats.get_11rb$(r)).values.iterator(); i.hasNext();) { var n = i.next(); a.add_11rb$(n) } } return a }, Na.prototype.getListFreeFeatsByLevel_za3lpa$ = function (t) { var e, i, a = u(); for (e = this.hashMapFreeFeats.keys.iterator(); e.hasNext();) { var r = e.next(); if (t >= r) for (i = o(this.hashMapFreeFeats.get_11rb$(r)).values.iterator(); i.hasNext();) { var n = i.next(); a.add_11rb$(n) } } return a }, Na.prototype.getFreeFeatByReference_61zpoe$ = function (t) { for (var e = 1; e <= 20; e++)if (this.hashMapFreeFeats.containsKey_11rb$(e) && o(this.hashMapFreeFeats.get_11rb$(e)).containsKey_11rb$(t)) return o(this.hashMapFreeFeats.get_11rb$(e)).get_11rb$(t); return null }, Na.prototype.getPlayReportAbilityScores_sfkw43$ = function (t) { var i; return (null == this.reportAbilityScores || o(this.reportAbilityScores).level !== this.characterData_ein2og$_0.getCharacterLevel()) && (this.reportAbilityScores = new G1(t, this, this.characterData_ein2og$_0.getCharacterLevel())), e.isType(i = this.reportAbilityScores, G1) ? i : d() }, Na.prototype.setFreshPlayReportAbilityScores_sfkw43$ = function (t) { this.reportAbilityScores = new G1(t, this, this.characterData_ein2og$_0.getCharacterLevel()) }, Na.prototype.updateReportAbilityScores_vvjzl1$ = function (t, e) { e <= this.characterData_ein2og$_0.getCharacterLevel() && (this.reportAbilityScores = new G1(t, this, this.characterData_ein2og$_0.getCharacterLevel())) }, Na.prototype.setAddLevelToUntrainedSkills_xvbo1r$ = function (t, e, i) { t ? this.hashMaoAddLevelToUntrainedRefs_cq0vv6$_0.put_xwzc9p$(e, i) : this.hashMaoAddLevelToUntrainedRefs_cq0vv6$_0.remove_11rb$(e) }, Na.prototype.addLevelToUntrainedSkills_za3lpa$ = function (t) { var e; for (e = this.hashMaoAddLevelToUntrainedRefs_cq0vv6$_0.values.iterator(); e.hasNext();)if (t >= e.next()) return !0; return !1 }, Na.prototype.getProficiency_61zpoe$ = function (t) { return this.hashMapProficiencies.containsKey_11rb$(t) ? this.hashMapProficiencies.get_11rb$(t) : new nK }, Na.prototype.proficiencyExists_61zpoe$ = function (t) { return this.hashMapProficiencies.containsKey_11rb$(t) }, Na.prototype.addProficiency_gzayp1$ = function (t, e) { this.hashMapProficiencies.put_xwzc9p$(t, e) }, Na.prototype.removeProficiency_61zpoe$ = function (t) { this.hashMapProficiencies.remove_11rb$(t) }, Object.defineProperty(Na.prototype, "listAllProficiencies", { configurable: !0, get: function () { return w(this.hashMapProficiencies.keys) } }), Na.prototype.getSkillProficiency_61zpoe$ = function (t) { return this.hashMapSkillProficiencies.containsKey_11rb$(t) ? this.hashMapSkillProficiencies.get_11rb$(t) : (k(se().TAG + " SKILL PROFICIENCY NOT FOUND: " + t), wK(3, !1)) }, Na.prototype.skillProficiencyExists_61zpoe$ = function (t) { return this.hashMapSkillProficiencies.containsKey_11rb$(t) }, Na.prototype.addSkillProficiency_4z2sac$ = function (t, e) { this.hashMapSkillProficiencies.put_xwzc9p$(t, e) }, Na.prototype.removeSkillProficiency_61zpoe$ = function (t) { this.hashMapSkillProficiencies.remove_11rb$(t) }, Na.prototype.setCharacterData_g7kqbx$ = function (t) { this.characterData_ein2og$_0 = t }, Na.prototype.getCharacterData = function () { return this.characterData_ein2og$_0 }, Object.defineProperty(Na.prototype, "listAllSkillProficiencies", { configurable: !0, get: function () { return w(this.hashMapSkillProficiencies.keys) } }), Na.$metadata$ = { kind: p, simpleName: "CharacterBuild", interfaces: [] }, Da.prototype.isGradualAbilityBoost = function () { return this.gradualAbilityBoost_r2cy5m$_0 }, Da.prototype.setGradualAbilityBoost_6taknv$ = function (t) { this.gradualAbilityBoost_r2cy5m$_0 = t }, Da.prototype.isAncestryParagon = function () { return this.ancestryParagon_jzdxmi$_0 }, Da.prototype.setAncestryParagon_6taknv$ = function (t) { this.ancestryParagon_jzdxmi$_0 = t }, Da.prototype.getPeerID = function () { return this.peerID_fbor4u$_0 }, Da.prototype.setPeerID_61zpoe$ = function (t) { this.peerID_fbor4u$_0 = t }, Da.prototype.isOtherCaster = function () { return this.otherCaster_dcwp89$_0 }, Da.prototype.setOtherCaster_6taknv$ = function (t) { this.otherCaster_dcwp89$_0 = t }, Da.prototype.isABP = function () { return this.abp_69uzga$_0 }, Da.prototype.setABP_6taknv$ = function (t) { this.abp_69uzga$_0 = t }, Da.prototype.getHashMapRepertoireOverride = function () { return this.hashMapRepertoireOverride_8h3xdo$_0 }, Da.prototype.setDualClass_pdl1vj$ = function (t) { this.dualClass_qqo6fb$_0 = t }, Da.prototype.getCharacterName = function () { return this.characterName_u6ndhd$_0 }, Da.prototype.setCharacterName_61zpoe$ = function (t) { this.characterName_u6ndhd$_0 = t }, Da.prototype.getHeroPoints = function () { return this.heroPoints_bb40pu$_0 }, Da.prototype.getAge = function () { return this.age_69uw0a$_0 }, Da.prototype.setAge_61zpoe$ = function (t) { this.age_69uw0a$_0 = t }, Da.prototype.getDeity = function () { return this.deity_9v5cdk$_0 }, Da.prototype.setDeity_61zpoe$ = function (t) { this.deity_9v5cdk$_0 = t }, Da.prototype.getAlignment = function () { return this.alignment_3f7ydu$_0 }, Da.prototype.setAlignment_61zpoe$ = function (t) { this.alignment_3f7ydu$_0 = t }, Da.prototype.getGender = function () { return this.gender_58bdsy$_0 }, Da.prototype.setGender_61zpoe$ = function (t) { this.gender_58bdsy$_0 = t }, Da.prototype.getExperiencePoints = function () { return this.experiencePoints_kiyycy$_0 }, Da.prototype.setExperiencePoints_za3lpa$ = function (t) { this.experiencePoints_kiyycy$_0 = t }, Da.prototype.getPortraitFilename = function () { return this.portraitFilename_8j1o3h$_0 }, Da.prototype.setPortraitFilename_pdl1vj$ = function (t) { this.portraitFilename_8j1o3h$_0 = t }, Da.prototype.getSpentSpellPoints = function () { return this.spentSpellPoints_eiy4ce$_0 }, Da.prototype.setSpentSpellPoints_za3lpa$ = function (t) { this.spentSpellPoints_eiy4ce$_0 = t }, Da.prototype.getNotes = function () { return this.notes_era7uc$_0 }, Da.prototype.setNotes_61zpoe$ = function (t) { this.notes_era7uc$_0 = t }, Da.prototype.getSpentResolve = function () { return this.spentResolve_owcjtt$_0 }, Da.prototype.setSpentResolve_za3lpa$ = function (t) { this.spentResolve_owcjtt$_0 = t }, Da.prototype.getClassDualOptionalTrainedSkill = function () { return this.classDualOptionalTrainedSkill_kfgzk9$_0 }, Da.prototype.setClassDualOptionalTrainedSkill_pdl1vj$ = function (t) { this.classDualOptionalTrainedSkill_kfgzk9$_0 = t }, Da.prototype.getStaminaDamage = function () { return this.staminaDamage_d04tef$_0 }, Da.prototype.setStaminaDamage_za3lpa$ = function (t) { this.staminaDamage_d04tef$_0 = t }, Da.prototype.getEmailedBuildID = function () { return this.emailedBuildID_ofv05r$_0 }, Da.prototype.setEmailedBuildID_za3lpa$ = function (t) { this.emailedBuildID_ofv05r$_0 = t }, Da.prototype.getShieldDamageOldDeprecated = function () { return this.shieldDamage_tvbu9l$_0 }, Da.prototype.isCloudStorage = function () { return this.cloudStorage_295k6x$_0 }, Da.prototype.setCloudStorage_6taknv$ = function (t) { this.cloudStorage_295k6x$_0 = t }, Da.prototype.getGoogleFileID = function () { return this.googleFileID_8iwfld$_0 }, Da.prototype.setGoogleFileID_pdl1vj$ = function (t) { this.googleFileID_8iwfld$_0 = t }, Da.prototype.isUseStamina = function () { return this.useStamina_x0unvt$_0 }, Da.prototype.setUseStamina_6taknv$ = function (t) { this.useStamina_x0unvt$_0 = t }, Da.prototype.isAddLevelToProficiency = function () { return this.addLevelToProficiency_d4tise$_0 }, Da.prototype.setAddLevelToProficiency_6taknv$ = function (t) { this.addLevelToProficiency_d4tise$_0 = t }, Da.prototype.isFreeArchetype = function () { return this.freeArchetype_i9bzew$_0 }, Da.prototype.setFreeArchetype_6taknv$ = function (t) { this.freeArchetype_i9bzew$_0 = t }, Da.prototype.isIgnoreFreeArcheRest = function () { return this.ignoreFreeArcheRest_vrwskw$_0 }, Da.prototype.setIgnoreFreeArcheRest_6taknv$ = function (t) { this.ignoreFreeArcheRest_vrwskw$_0 = t }, Da.prototype.isIgnoreFreeArcheAbilityReq = function () { return this.ignoreFreeArcheAbilityReq_6fr9ps$_0 }, Da.prototype.setIgnoreFreeArcheAbilityReq_6taknv$ = function (t) { this.ignoreFreeArcheAbilityReq_6fr9ps$_0 = t }, Da.prototype.isSeparateAdventurersKit = function () { return this.separateAdventurersKit_oafd8p$_0 }, Da.prototype.setSeparateAdventurersKit_6taknv$ = function (t) { this.separateAdventurersKit_oafd8p$_0 = t }, Da.prototype.isShowDedicationFeats = function () { return this.showDedicationFeats_80tdt5$_0 }, Da.prototype.setShowDedicationFeats_6taknv$ = function (t) { this.showDedicationFeats_80tdt5$_0 = t }, Da.prototype.isShowSpellbookConfirmation = function () { return this.showSpellbookConfirmation_r2gpzg$_0 }, Da.prototype.isAllowMultiplePurchase = function () { return this.allowMultiplePurchase_ljs9s5$_0 }, Da.prototype.setAllowMultiplePurchase_6taknv$ = function (t) { this.allowMultiplePurchase_ljs9s5$_0 = t }, Da.prototype.isAllowHalfHeritages = function () { return this.allowHalfHeritages_cqchd3$_0 }, Da.prototype.setAllowHalfHeritages_6taknv$ = function (t) { this.allowHalfHeritages_cqchd3$_0 = t }, Da.prototype.setShowSpellbookConfirmation_6taknv$ = function (t) { this.showSpellbookConfirmation_r2gpzg$_0 = t }, Da.prototype.isShowLevelWarnings = function () { return this.showLevelWarnings_b4y0if$_0 }, Da.prototype.setShowLevelWarnings_6taknv$ = function (t) { this.showLevelWarnings_b4y0if$_0 = t }, Da.prototype.getBackground = function () { return this.background_mfrl01$_0 }, Da.prototype.setBackground_61zpoe$ = function (t) { this.background_mfrl01$_0 = t }, Da.prototype.getHashMapPlayerSpells = function () { return this.hashMapPlayerSpells_okug1n$_0 }, Da.prototype.getPlayerShieldNew = function () { return this.playerShieldNew_1me2bj$_0 }, Da.prototype.setPlayerShieldNew_hbhz1b$ = function (t) { this.playerShieldNew_1me2bj$_0 = t }, Da.prototype.getPlayerShieldOldDeprecated = function () { return this.playerShield_7q3vf9$_0 }, Da.prototype.setPlayerShieldOldDeprecated_pdl1vj$ = function (t) { this.playerShield_7q3vf9$_0 = t }, Da.prototype.setPlayerArmor_s8qicq$ = function (t) { this.playerArmor_lv6tu1$_0 = t }, Da.prototype.getListKnownSpells = function () { return this.listKnownSpells_lj53xh$_0 }, Da.prototype.getHashMapBonusSpellSlots = function () { return this.hashMapBonusSpellSlots_zgcgbl$_0 }, Da.prototype.getHashMapKnownSpellsByCaster = function () { return this.hashMapKnownSpellsByCaster_ulry6c$_0 }, Da.prototype.getHashMapFormulaBookByCaster = function () { return this.hashMapFormulaBookByCaster_lfmr8b$_0 }, Da.prototype.getHashMapBonusSpellPerDay = function () { return this.hashMapBonusSpellPerDay_dpokgx$_0 }, Da.prototype.getHashMapBonusSpellPrepared = function () { return this.hashMapBonusSpellPrepared_oslxk1$_0 }, Da.prototype.getDamageTaken = function () { return this.damageTaken_iz2tc3$_0 }, Da.prototype.setDamageTaken_za3lpa$ = function (t) { this.damageTaken_iz2tc3$_0 = t }, Da.prototype.getGold = function () { return this.gold_ip6ndr$_0 }, Da.prototype.setGold_za3lpa$ = function (t) { this.gold_ip6ndr$_0 = t }, Da.prototype.getPlatinum = function () { return this.platinum_l5g4x9$_0 }, Da.prototype.setPlatinum_za3lpa$ = function (t) { this.platinum_l5g4x9$_0 = t }, Da.prototype.getSilver = function () { return this.silver_upmb2q$_0 }, Da.prototype.setSilver_za3lpa$ = function (t) { this.silver_upmb2q$_0 = t }, Da.prototype.getCopper = function () { return this.copper_buz092$_0 }, Da.prototype.setCopper_za3lpa$ = function (t) { this.copper_buz092$_0 = t }, Da.prototype.getHashMapEquipmentContainers = function () { return this.hashMapEquipmentContainers_skt9o3$_0 }, Da.prototype.getTemporaryHP = function () { return this.temporaryHP_hszsm4$_0 }, Da.prototype.setTemporaryHP_za3lpa$ = function (t) { this.temporaryHP_hszsm4$_0 = t }, Da.prototype.getTemporaryHPSource = function () { return this.temporaryHPSource_7g9xdt$_0 }, Da.prototype.isAutoSave = function () { return this.autoSave_vmqs99$_0 }, Da.prototype.setAutoSave_6taknv$ = function (t) { this.autoSave_vmqs99$_0 = t }, Da.prototype.getCharacterRef = function () { return this.characterRef_st7lt7$_0 }, Da.prototype.setCharacterRef_za3lpa$ = function (t) { this.characterRef_st7lt7$_0 = t }, Da.prototype.setTemporaryHPSource_pdl1vj$ = function (t) { this.temporaryHPSource_7g9xdt$_0 = t }, Da.prototype.getClassOptionalTrainedSkill = function () { return this.classOptionalTrainedSkill_in4prh$_0 }, Da.prototype.setClassOptionalTrainedSkill_pdl1vj$ = function (t) { this.classOptionalTrainedSkill_in4prh$_0 = t }, Da.prototype.getCharacterLevel = function () { return this.characterLevel_bfxlz8$_0 }, Da.prototype.getOptionalFlaw = function () { return this.optionalFlaw_bezx6r$_0 }, Da.prototype.setOptionalFlaw_jdn5ti$ = function (t) { this.optionalFlaw_bezx6r$_0 = t }, Da.prototype.getAbilityScoreOverrides = function () { return this.abilityScoreOverrides_uhim6i$_0 }, Da.prototype.setAbilityScoreOverrides_tmsbg8$ = function (t) { this.abilityScoreOverrides_uhim6i$_0 = t }, Da.prototype.getBackgroundBoostLimitedSelection = function () { return this.backgroundBoostLimitedSelection_n855xu$_0 }, Da.prototype.setBackgroundBoostLimitedSelection_za3lpa$ = function (t) { this.backgroundBoostLimitedSelection_n855xu$_0 = t }, Da.prototype.getGetBackgroundBoostFreeSelection = function () { return this.getBackgroundBoostFreeSelection_mpzovg$_0 }, Da.prototype.setGetBackgroundBoostFreeSelection_za3lpa$ = function (t) { this.getBackgroundBoostFreeSelection_mpzovg$_0 = t }, Da.prototype.getBackgroundBoostThirdSelection = function () { return this.backgroundBoostThirdSelection_os9ha3$_0 }, Da.prototype.setBackgroundBoostThirdSelection_za3lpa$ = function (t) { this.backgroundBoostThirdSelection_os9ha3$_0 = t }, Da.prototype.getHashMapAncestryFreeBoostSelections = function () { return this.hashMapAncestryFreeBoostSelections_aoleii$_0 }, Da.prototype.setClassKeyAbility_za3lpa$ = function (t) { this.classKeyAbility_9b8lpq$_0 = t }, Da.prototype.getClassKeyAbility = function () { return this.classKeyAbility_9b8lpq$_0 }, Da.prototype.getDualClass = function () { return this.dualClass_qqo6fb$_0 }, Da.prototype.getDualClassKeyAbility = function () { return this.dualClassKeyAbility_iar7bm$_0 }, Da.prototype.setDualClassKeyAbility_za3lpa$ = function (t) { this.dualClassKeyAbility_iar7bm$_0 = t }, Da.prototype.getAncestry = function () { return this.ancestry_a2epns$_0 }, Da.prototype.setAncestry_61zpoe$ = function (t) { this.ancestry_a2epns$_0 = t }, Da.prototype.getClassName = function () { return this.className_fe7lhu$_0 }, Da.prototype.setClassName_61zpoe$ = function (t) { this.className_fe7lhu$_0 = t }, Da.prototype.setCharacterLevel_za3lpa$ = function (t) { this.characterLevel_bfxlz8$_0 = t }, Da.prototype.getPlayerArmor = function () { return this.playerArmor_lv6tu1$_0 }, Da.prototype.getWebID = function () { return this.webID_iuurt2$_0 }, Da.prototype.setWebID_pdl1vj$ = function (t) { this.webID_iuurt2$_0 = t }, Da.prototype.getFolderID = function () { return this.folderID_ku8qfq$_0 }, Da.prototype.setFolderID_pdl1vj$ = function (t) { this.folderID_ku8qfq$_0 = t }, Da.prototype.addSpecialSelection_6hosri$ = function (t, e, i) { if (!this.hashMapSpecialSelections.containsKey_11rb$(t)) { var a = this.hashMapSpecialSelections, r = c(); a.put_xwzc9p$(t, r) } o(this.hashMapSpecialSelections.get_11rb$(t)).put_xwzc9p$(e, i) }, Da.prototype.getSpecialSelection_puj7f4$ = function (t, e) { if (this.hashMapSpecialSelections.containsKey_11rb$(t)) { var i = o(this.hashMapSpecialSelections.get_11rb$(t)); if (i.containsKey_11rb$(e)) return i.get_11rb$(e) } return null }, Da.prototype.removeSpecialSelection_puj7f4$ = function (t, e) { return this.hashMapSpecialSelections.containsKey_11rb$(t) && o(this.hashMapSpecialSelections.get_11rb$(t)).remove_11rb$(e), null }, Da.prototype.clearAncestryAbilityBoosts = function () { this.hashMapAncestryFreeBoostSelections_aoleii$_0 = c() }, Da.prototype.getListAbilityBoosts_za3lpa$ = function (t) { if (!this.hashMapAbilityBoosts.containsKey_11rb$(t)) { var e = this.hashMapAbilityBoosts, i = u(); e.put_xwzc9p$(t, i) } return o(this.hashMapAbilityBoosts.get_11rb$(t)) }, Da.prototype.getListSkillIncreases_za3lpa$ = function (t) { if (!this.hashMapSkillIncreases.containsKey_11rb$(t)) { var e = this.hashMapSkillIncreases, i = u(); e.put_xwzc9p$(t, i) } return o(this.hashMapSkillIncreases.get_11rb$(t)) }, Da.prototype.addSkillIncrease_19mbxw$ = function (t, e) { if (!this.hashMapSkillIncreases.containsKey_11rb$(t)) { var i = this.hashMapSkillIncreases, a = u(); i.put_xwzc9p$(t, a) } o(this.hashMapSkillIncreases.get_11rb$(t)).add_11rb$(e) }, Da.prototype.removeSkillIncrease_19mbxw$ = function (t, e) { this.hashMapSkillIncreases.containsKey_11rb$(t) && (o(this.hashMapSkillIncreases.get_11rb$(t)).remove_11rb$(e), o(this.hashMapSkillIncreases.get_11rb$(t)).isEmpty() && this.hashMapSkillIncreases.remove_11rb$(t)) }, Da.prototype.removeAdditionalLore_19mbxw$ = function (t, e) { this.hashMapAdditionalLores_nayrjr$_0.containsKey_11rb$(t) && (o(this.hashMapAdditionalLores_nayrjr$_0.get_11rb$(t)).remove_11rb$(e), o(this.hashMapAdditionalLores_nayrjr$_0.get_11rb$(t)).isEmpty() && this.hashMapAdditionalLores_nayrjr$_0.remove_11rb$(t)) }, Da.prototype.getHashMapAdditionalLoresAtLevel_za3lpa$ = function (t) { return this.hashMapAdditionalLores_nayrjr$_0.containsKey_11rb$(t) ? o(this.hashMapAdditionalLores_nayrjr$_0.get_11rb$(t)) : c() }, Da.prototype.adjustSpentResonance_za3lpa$ = function (t) { this.spentResonance_996yyp$_0 = this.spentResonance_996yyp$_0 + t | 0 }, Da.prototype.adjustSpentSpellPoints_za3lpa$ = function (t) { this.spentSpellPoints_eiy4ce$_0 = this.spentSpellPoints_eiy4ce$_0 + t | 0 }, Da.prototype.adjustHeroPoints_za3lpa$ = function (t) { this.heroPoints_bb40pu$_0 = this.heroPoints_bb40pu$_0 + t | 0 }, Da.prototype.getNumSpontaneousSpellsCast_bm4lxs$ = function (t, e) { return this.hashMapSpontaneousSpellsCast_kmso1i$_0.containsKey_11rb$(t) && o(this.hashMapSpontaneousSpellsCast_kmso1i$_0.get_11rb$(t)).containsKey_11rb$(e) ? o(o(this.hashMapSpontaneousSpellsCast_kmso1i$_0.get_11rb$(t)).get_11rb$(e)) : 0 }, Da.prototype.setNumSpontaneousSpellsCast_3m52m6$ = function (t, e, i) { if (!this.hashMapSpontaneousSpellsCast_kmso1i$_0.containsKey_11rb$(t)) { var a = this.hashMapSpontaneousSpellsCast_kmso1i$_0, r = c(); a.put_xwzc9p$(t, r) } o(this.hashMapSpontaneousSpellsCast_kmso1i$_0.get_11rb$(t)).put_xwzc9p$(e, i) }, Da.prototype.adjustNumberSpellsCast_3m52m6$ = function (t, e, i) { if (this.hashMapSpontaneousSpellsCast_kmso1i$_0.containsKey_11rb$(t) && o(this.hashMapSpontaneousSpellsCast_kmso1i$_0.get_11rb$(t)).containsKey_11rb$(e)) { var a = o(o(this.hashMapSpontaneousSpellsCast_kmso1i$_0.get_11rb$(t)).get_11rb$(e)), r = a = a + i | 0; o(this.hashMapSpontaneousSpellsCast_kmso1i$_0.get_11rb$(t)).put_xwzc9p$(e, r) } }, Da.prototype.clearAllSpellsCast = function () { this.hashMapSpontaneousSpellsCast_kmso1i$_0.clear(), this.listSpentSpellSlots_1eo8fs$_0.clear() }, Da.prototype.getListSpentSpellSlots = function () { return this.listSpentSpellSlots_1eo8fs$_0 }, Da.prototype.setLanguages_pdl1vj$ = function (t) { this.deprecatedLanguagesSelection_7wcmbp$_0 = t }, Da.prototype.getUsedInfusedReagents_61zpoe$ = function (t) { return this.hashMapUsedInfusedReagentsByCaster_wub7fs$_0.containsKey_11rb$(t) ? o(this.hashMapUsedInfusedReagentsByCaster_wub7fs$_0.get_11rb$(t)) : 0 }, Da.prototype.removeAlchemicalCasterFromHashMaps_61zpoe$ = function (t) { this.hashMapFormulaBookByCaster_lfmr8b$_0.remove_11rb$(t), this.hashMapUsedInfusedReagentsByCaster_wub7fs$_0.remove_11rb$(t) }, Da.prototype.adjustUsedInfusedReagents_bm4lxs$ = function (t, e) { this.hashMapUsedInfusedReagentsByCaster_wub7fs$_0.containsKey_11rb$(t) || this.hashMapUsedInfusedReagentsByCaster_wub7fs$_0.put_xwzc9p$(t, 0); var i = o(this.hashMapUsedInfusedReagentsByCaster_wub7fs$_0.get_11rb$(t)), a = i = i + e | 0; this.hashMapUsedInfusedReagentsByCaster_wub7fs$_0.put_xwzc9p$(t, a) }, Da.prototype.resetUsedInfusedReagents = function () { this.hashMapUsedInfusedReagentsByCaster_wub7fs$_0.clear() }, Da.prototype.getCurrentBatch_puj7f4$ = function (t, e) { return this.hashMapFormulaBookByCaster_lfmr8b$_0.containsKey_11rb$(t) && o(this.hashMapFormulaBookByCaster_lfmr8b$_0.get_11rb$(t)).containsKey_11rb$(e) ? o(o(this.hashMapFormulaBookByCaster_lfmr8b$_0.get_11rb$(t)).get_11rb$(e)) : 0 }, Da.prototype.adjustCurrentBatch_rjan26$ = function (t, e, i) { if (!this.hashMapFormulaBookByCaster_lfmr8b$_0.containsKey_11rb$(t)) { var a = this.hashMapFormulaBookByCaster_lfmr8b$_0, r = c(); a.put_xwzc9p$(t, r) } o(this.hashMapFormulaBookByCaster_lfmr8b$_0.get_11rb$(t)).containsKey_11rb$(e) || o(this.hashMapFormulaBookByCaster_lfmr8b$_0.get_11rb$(t)).put_xwzc9p$(e, 0); var n = o(o(this.hashMapFormulaBookByCaster_lfmr8b$_0.get_11rb$(t)).get_11rb$(e)), s = n = n + i | 0; o(this.hashMapFormulaBookByCaster_lfmr8b$_0.get_11rb$(t)).put_xwzc9p$(e, s) }, Da.prototype.removeFormula_puj7f4$ = function (t, e) { this.hashMapFormulaBookByCaster_lfmr8b$_0.containsKey_11rb$(t) && o(this.hashMapFormulaBookByCaster_lfmr8b$_0.get_11rb$(t)).remove_11rb$(e) }, Da.prototype.removeAllReferencesFromProficiencyIncreases_61zpoe$ = function (t) { var i, a; try { for (i = this.hashMapSkillIncreases.keys.iterator(); i.hasNext();) { var r = i.next(); o(this.hashMapSkillIncreases.get_11rb$(r)).contains_11rb$(t) && o(this.hashMapSkillIncreases.get_11rb$(r)).remove_11rb$(t) } for (a = this.hashMapTrainedOnlySkillChoices.keys.iterator(); a.hasNext();) { var n = a.next(); o(this.hashMapTrainedOnlySkillChoices.get_11rb$(n)).contains_11rb$(t) && o(this.hashMapTrainedOnlySkillChoices.get_11rb$(n)).remove_11rb$(t) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Da.prototype.getClassArchetype = function () { return this.classArchetype_8mcbf6$_0 }, Da.prototype.setClassArchetype_pdl1vj$ = function (t) { this.classArchetype_8mcbf6$_0 = t }, Da.prototype.fixKnownFormulas_5btbp7$ = function (t) { var i, a; if (!this.hashMapFormulaBook_doz1by$_0.isEmpty()) try { for (i = this.hashMapFormulaBook_doz1by$_0.keys.iterator(); i.hasNext();) { var r = i.next(), n = o(this.hashMapFormulaBook_doz1by$_0.get_11rb$(r)); for (a = t.hashMapAlchemicalCasters.keys.iterator(); a.hasNext();) { var p = a.next(); if (!this.hashMapFormulaBookByCaster_lfmr8b$_0.containsKey_11rb$(p)) { var h = this.hashMapFormulaBookByCaster_lfmr8b$_0, d = c(); h.put_xwzc9p$(p, d) } o(this.hashMapFormulaBookByCaster_lfmr8b$_0.get_11rb$(p)).put_xwzc9p$(r, n) } } this.hashMapFormulaBook_doz1by$_0.clear() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Da.prototype.fixUseInfused_5btbp7$ = function (t) { var e; if (0 !== this.usedInfusedReagents_l7b1g3$_0) for (e = t.hashMapAlchemicalCasters.values.iterator(); e.hasNext();) { var i = e.next(), a = this.hashMapUsedInfusedReagentsByCaster_wub7fs$_0, r = i.casterName, n = this.usedInfusedReagents_l7b1g3$_0; a.put_xwzc9p$(r, n) } this.usedInfusedReagents_l7b1g3$_0 = 0 }, Da.prototype.fixSignatureSpells = function () { var t, i; try { for (t = this.hashMapSignatureSpells_db5vsm$_0.keys.iterator(); t.hasNext();) { var a = t.next(); if (!this.hashMapSignatureSpellsMultiple.containsKey_11rb$(a)) { var r = this.hashMapSignatureSpellsMultiple, n = c(); r.put_xwzc9p$(a, n) } for (i = o(this.hashMapSignatureSpells_db5vsm$_0.get_11rb$(a)).keys.iterator(); i.hasNext();) { var p = i.next(); if (!o(this.hashMapSignatureSpellsMultiple.get_11rb$(a)).containsKey_11rb$(p)) { var h = o(this.hashMapSignatureSpellsMultiple.get_11rb$(a)), d = u(); h.put_xwzc9p$(p, d) } var _ = o(this.hashMapSignatureSpells_db5vsm$_0.get_11rb$(a)).get_11rb$(p); null == _ || o(o(this.hashMapSignatureSpellsMultiple.get_11rb$(a)).get_11rb$(p)).contains_11rb$(_) || o(o(this.hashMapSignatureSpellsMultiple.get_11rb$(a)).get_11rb$(p)).add_11rb$(_) } } this.hashMapSignatureSpells_db5vsm$_0.clear() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, xa.prototype.serializer = function () { return ja() }, xa.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var za = null; function Oa() { return null === za && new xa, za } function Fa() { this.descriptor_z2meyg$_0 = new P("com.redrazors.pathbuilder2e.backend.data.CharacterData", this, 107), this.descriptor.addElement_ivxn3r$("usedInfusedReagents", !0), this.descriptor.addElement_ivxn3r$("hashMapUsedInfusedReagentsByCaster", !0), this.descriptor.addElement_ivxn3r$("hashMapFormulaBook", !0), this.descriptor.addElement_ivxn3r$("hashMapFormulaBookByCaster", !0), this.descriptor.addElement_ivxn3r$("deprecatedLanguagesSelection", !0), this.descriptor.addElement_ivxn3r$("characterLevel", !0), this.descriptor.addElement_ivxn3r$("autoSave", !0), this.descriptor.addElement_ivxn3r$("showLevelWarnings", !0), this.descriptor.addElement_ivxn3r$("showSpellbookConfirmation", !0), this.descriptor.addElement_ivxn3r$("separateAdventurersKit", !0), this.descriptor.addElement_ivxn3r$("showDedicationFeats", !0), this.descriptor.addElement_ivxn3r$("listKnownSpells", !0), this.descriptor.addElement_ivxn3r$("hashMapKnownSpellsByCaster", !0), this.descriptor.addElement_ivxn3r$("hashMapSpontaneousSpellsCast", !0), this.descriptor.addElement_ivxn3r$("listSpentSpellSlots", !0), this.descriptor.addElement_ivxn3r$("hashMapBonusSpellSlots", !0), this.descriptor.addElement_ivxn3r$("hashMapBonusSpellPerDay", !0), this.descriptor.addElement_ivxn3r$("hashMapBonusSpellPrepared", !0), this.descriptor.addElement_ivxn3r$("hashMapPlayerSpells", !0), this.descriptor.addElement_ivxn3r$("currentHP", !0), this.descriptor.addElement_ivxn3r$("damageTaken", !0), this.descriptor.addElement_ivxn3r$("spentResonance", !0), this.descriptor.addElement_ivxn3r$("spentSpellPoints", !0), this.descriptor.addElement_ivxn3r$("heroPoints", !0), this.descriptor.addElement_ivxn3r$("characterRef", !0), this.descriptor.addElement_ivxn3r$("webID", !0), this.descriptor.addElement_ivxn3r$("folderID", !0), this.descriptor.addElement_ivxn3r$("characterName", !0), this.descriptor.addElement_ivxn3r$("age", !0), this.descriptor.addElement_ivxn3r$("deity", !0), this.descriptor.addElement_ivxn3r$("alignment", !0), this.descriptor.addElement_ivxn3r$("gender", !0), this.descriptor.addElement_ivxn3r$("experiencePoints", !0), this.descriptor.addElement_ivxn3r$("ancestry", !0), this.descriptor.addElement_ivxn3r$("className", !0), this.descriptor.addElement_ivxn3r$("background", !0), this.descriptor.addElement_ivxn3r$("portraitFilename", !0), this.descriptor.addElement_ivxn3r$("classOptionalTrainedSkill", !0), this.descriptor.addElement_ivxn3r$("classDualOptionalTrainedSkill", !0), this.descriptor.addElement_ivxn3r$("abilityScoreOverrides", !0), this.descriptor.addElement_ivxn3r$("gold", !0), this.descriptor.addElement_ivxn3r$("platinum", !0), this.descriptor.addElement_ivxn3r$("silver", !0), this.descriptor.addElement_ivxn3r$("copper", !0), this.descriptor.addElement_ivxn3r$("hashMapAncestryFreeBoostSelections", !0), this.descriptor.addElement_ivxn3r$("backgroundBoostLimitedSelection", !0), this.descriptor.addElement_ivxn3r$("getBackgroundBoostFreeSelection", !0), this.descriptor.addElement_ivxn3r$("backgroundBoostThirdSelection", !0), this.descriptor.addElement_ivxn3r$("classKeyAbility", !0), this.descriptor.addElement_ivxn3r$("dualClassKeyAbility", !0), this.descriptor.addElement_ivxn3r$("hashMapFeatSelections", !0), this.descriptor.addElement_ivxn3r$("hashMapFeatExtraSelections", !0), this.descriptor.addElement_ivxn3r$("hashMapSpecialSelections", !0), this.descriptor.addElement_ivxn3r$("hashMapAbilityBoosts", !0), this.descriptor.addElement_ivxn3r$("hashMapSkillIncreases", !0), this.descriptor.addElement_ivxn3r$("hashMapAdditionalLores", !0), this.descriptor.addElement_ivxn3r$("hashMapTrainedOnlySkillChoices", !0), this.descriptor.addElement_ivxn3r$("listPlayerWeapons", !0), this.descriptor.addElement_ivxn3r$("playerArmor", !0), this.descriptor.addElement_ivxn3r$("listStowedPlayerArmor", !0), this.descriptor.addElement_ivxn3r$("playerShield", !0), this.descriptor.addElement_ivxn3r$("playerShieldNew", !0), this.descriptor.addElement_ivxn3r$("listStowedPlayerShields", !0), this.descriptor.addElement_ivxn3r$("listPlayerEquipment", !0), this.descriptor.addElement_ivxn3r$("listPlayerFormula", !0), this.descriptor.addElement_ivxn3r$("notes", !0), this.descriptor.addElement_ivxn3r$("hashMapActiveConditions", !0), this.descriptor.addElement_ivxn3r$("hashMapActiveCustomBuffs", !0), this.descriptor.addElement_ivxn3r$("listCurrentlyInactiveBuffs", !0), this.descriptor.addElement_ivxn3r$("listCustomLores", !0), this.descriptor.addElement_ivxn3r$("cloudStorage", !0), this.descriptor.addElement_ivxn3r$("googleFileID", !0), this.descriptor.addElement_ivxn3r$("emailedBuildID", !0), this.descriptor.addElement_ivxn3r$("listDisabledRulebooks", !0), this.descriptor.addElement_ivxn3r$("shieldDamage", !0), this.descriptor.addElement_ivxn3r$("allowHalfHeritages", !0), this.descriptor.addElement_ivxn3r$("allowMultiplePurchase", !0), this.descriptor.addElement_ivxn3r$("useStamina", !0), this.descriptor.addElement_ivxn3r$("spentResolve", !0), this.descriptor.addElement_ivxn3r$("hashMapCustomAbilityIncreases", !0), this.descriptor.addElement_ivxn3r$("hashMapEquipmentContainers", !0), this.descriptor.addElement_ivxn3r$("optionalFlaw", !0), this.descriptor.addElement_ivxn3r$("hashMapCustomFeatChoices", !0), this.descriptor.addElement_ivxn3r$("hashMapCustomSkillIncreases", !0), this.descriptor.addElement_ivxn3r$("hashMapSignatureSpells", !0), this.descriptor.addElement_ivxn3r$("hashMapSignatureSpellsMultiple", !0), this.descriptor.addElement_ivxn3r$("hashMapSignatureFormula", !0), this.descriptor.addElement_ivxn3r$("hashMapPetData", !0), this.descriptor.addElement_ivxn3r$("listLanguages", !0), this.descriptor.addElement_ivxn3r$("dialects", !0), this.descriptor.addElement_ivxn3r$("temporaryHPSource", !0), this.descriptor.addElement_ivxn3r$("temporaryHP", !0), this.descriptor.addElement_ivxn3r$("staminaDamage", !0), this.descriptor.addElement_ivxn3r$("dualClass", !0), this.descriptor.addElement_ivxn3r$("addLevelToProficiency", !0), this.descriptor.addElement_ivxn3r$("freeArchetype", !0), this.descriptor.addElement_ivxn3r$("ignoreFreeArcheRest", !0), this.descriptor.addElement_ivxn3r$("ignoreFreeArcheAbilityReq", !0), this.descriptor.addElement_ivxn3r$("classArchetype", !0), this.descriptor.addElement_ivxn3r$("hashMapRepertoireOverride", !0), this.descriptor.addElement_ivxn3r$("abp", !0), this.descriptor.addElement_ivxn3r$("otherCaster", !0), this.descriptor.addElement_ivxn3r$("listUserBonusFeats", !0), this.descriptor.addElement_ivxn3r$("peerID", !0), this.descriptor.addElement_ivxn3r$("ancestryParagon", !0), this.descriptor.addElement_ivxn3r$("gradualAbilityBoost", !0), this.descriptor.addElement_ivxn3r$("hashMapSpellBlending", !0), Ba = this } Object.defineProperty(Fa.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_z2meyg$_0 } }), Fa.prototype.serialize_55azsf$ = function (t, i) { var a = t.beginStructure_24f42q$(this.descriptor); m(i.usedInfusedReagents_l7b1g3$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || a.encodeIntElement_ptg7oe$(this.descriptor, 0, i.usedInfusedReagents_l7b1g3$_0), m(i.hashMapUsedInfusedReagentsByCaster_wub7fs$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 1, new N(M.StringSerializer, M.IntSerializer), i.hashMapUsedInfusedReagentsByCaster_wub7fs$_0), m(i.hashMapFormulaBook_doz1by$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 2, new N(M.StringSerializer, M.IntSerializer), i.hashMapFormulaBook_doz1by$_0), m(i.hashMapFormulaBookByCaster_lfmr8b$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 3, new N(M.StringSerializer, new N(M.StringSerializer, M.IntSerializer)), i.hashMapFormulaBookByCaster_lfmr8b$_0), m(i.deprecatedLanguagesSelection_7wcmbp$_0, "Not set") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 4, M.StringSerializer, i.deprecatedLanguagesSelection_7wcmbp$_0), m(i.characterLevel_bfxlz8$_0, 1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 5) || a.encodeIntElement_ptg7oe$(this.descriptor, 5, i.characterLevel_bfxlz8$_0), m(i.autoSave_vmqs99$_0, !0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 6) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 6, i.autoSave_vmqs99$_0), m(i.showLevelWarnings_b4y0if$_0, !0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 7, i.showLevelWarnings_b4y0if$_0), m(i.showSpellbookConfirmation_r2gpzg$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 8) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 8, i.showSpellbookConfirmation_r2gpzg$_0), m(i.separateAdventurersKit_oafd8p$_0, !0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 9) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 9, i.separateAdventurersKit_oafd8p$_0), m(i.showDedicationFeats_80tdt5$_0, !0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 10) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 10, i.showDedicationFeats_80tdt5$_0), m(i.listKnownSpells_lj53xh$_0, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 11) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 11, new D(M.StringSerializer), i.listKnownSpells_lj53xh$_0), m(i.hashMapKnownSpellsByCaster_ulry6c$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 12) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 12, new N(M.StringSerializer, new D(M.StringSerializer)), i.hashMapKnownSpellsByCaster_ulry6c$_0), m(i.hashMapSpontaneousSpellsCast_kmso1i$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 13) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 13, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), i.hashMapSpontaneousSpellsCast_kmso1i$_0), m(i.listSpentSpellSlots_1eo8fs$_0, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 14) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 14, new D(M.StringSerializer), i.listSpentSpellSlots_1eo8fs$_0), m(i.hashMapBonusSpellSlots_zgcgbl$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 15) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 15, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), i.hashMapBonusSpellSlots_zgcgbl$_0), m(i.hashMapBonusSpellPerDay_dpokgx$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 16) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 16, new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), i.hashMapBonusSpellPerDay_dpokgx$_0), m(i.hashMapBonusSpellPrepared_oslxk1$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 17) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 17, new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), i.hashMapBonusSpellPrepared_oslxk1$_0), m(i.hashMapPlayerSpells_okug1n$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 18) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 18, new N(M.StringSerializer, w2()), i.hashMapPlayerSpells_okug1n$_0), m(i.currentHP_2gd2k4$_0, 70) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 19) || a.encodeIntElement_ptg7oe$(this.descriptor, 19, i.currentHP_2gd2k4$_0), m(i.damageTaken_iz2tc3$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 20) || a.encodeIntElement_ptg7oe$(this.descriptor, 20, i.damageTaken_iz2tc3$_0), m(i.spentResonance_996yyp$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 21) || a.encodeIntElement_ptg7oe$(this.descriptor, 21, i.spentResonance_996yyp$_0), m(i.spentSpellPoints_eiy4ce$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 22) || a.encodeIntElement_ptg7oe$(this.descriptor, 22, i.spentSpellPoints_eiy4ce$_0), m(i.heroPoints_bb40pu$_0, 1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 23) || a.encodeIntElement_ptg7oe$(this.descriptor, 23, i.heroPoints_bb40pu$_0), m(i.characterRef_st7lt7$_0, -1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 24) || a.encodeIntElement_ptg7oe$(this.descriptor, 24, i.characterRef_st7lt7$_0), m(i.webID_iuurt2$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 25) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 25, M.StringSerializer, i.webID_iuurt2$_0), m(i.folderID_ku8qfq$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 26) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 26, M.StringSerializer, i.folderID_ku8qfq$_0), m(i.characterName_u6ndhd$_0, "Unknown Adventurer") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 27) || a.encodeStringElement_iij8qq$(this.descriptor, 27, i.characterName_u6ndhd$_0), m(i.age_69uw0a$_0, "Not set") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 28) || a.encodeStringElement_iij8qq$(this.descriptor, 28, i.age_69uw0a$_0), m(i.deity_9v5cdk$_0, "Not set") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 29) || a.encodeStringElement_iij8qq$(this.descriptor, 29, i.deity_9v5cdk$_0), m(i.alignment_3f7ydu$_0, "N") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 30) || a.encodeStringElement_iij8qq$(this.descriptor, 30, i.alignment_3f7ydu$_0), m(i.gender_58bdsy$_0, "Not set") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 31) || a.encodeStringElement_iij8qq$(this.descriptor, 31, i.gender_58bdsy$_0), m(i.experiencePoints_kiyycy$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 32) || a.encodeIntElement_ptg7oe$(this.descriptor, 32, i.experiencePoints_kiyycy$_0), m(i.ancestry_a2epns$_0, pi().ANCESTRY_HUMAN) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 33) || a.encodeStringElement_iij8qq$(this.descriptor, 33, i.ancestry_a2epns$_0), m(i.className_fe7lhu$_0, "Fighter") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 34) || a.encodeStringElement_iij8qq$(this.descriptor, 34, i.className_fe7lhu$_0), m(i.background_mfrl01$_0, "BACKGROUND_Barkeep") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 35) || a.encodeStringElement_iij8qq$(this.descriptor, 35, i.background_mfrl01$_0), m(i.portraitFilename_8j1o3h$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 36) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 36, M.StringSerializer, i.portraitFilename_8j1o3h$_0), m(i.classOptionalTrainedSkill_in4prh$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 37) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 37, M.StringSerializer, i.classOptionalTrainedSkill_in4prh$_0), m(i.classDualOptionalTrainedSkill_kfgzk9$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 38) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 38, M.StringSerializer, i.classDualOptionalTrainedSkill_kfgzk9$_0), m(i.abilityScoreOverrides_uhim6i$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 39) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 39, M.IntArraySerializer, i.abilityScoreOverrides_uhim6i$_0), m(i.gold_ip6ndr$_0, 15) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 40) || a.encodeIntElement_ptg7oe$(this.descriptor, 40, i.gold_ip6ndr$_0), m(i.platinum_l5g4x9$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 41) || a.encodeIntElement_ptg7oe$(this.descriptor, 41, i.platinum_l5g4x9$_0), m(i.silver_upmb2q$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 42) || a.encodeIntElement_ptg7oe$(this.descriptor, 42, i.silver_upmb2q$_0), m(i.copper_buz092$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 43) || a.encodeIntElement_ptg7oe$(this.descriptor, 43, i.copper_buz092$_0), m(i.hashMapAncestryFreeBoostSelections_aoleii$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 44) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 44, new N(M.IntSerializer, M.IntSerializer), i.hashMapAncestryFreeBoostSelections_aoleii$_0), m(i.backgroundBoostLimitedSelection_n855xu$_0, 2) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 45) || a.encodeIntElement_ptg7oe$(this.descriptor, 45, i.backgroundBoostLimitedSelection_n855xu$_0), m(i.getBackgroundBoostFreeSelection_mpzovg$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 46) || a.encodeIntElement_ptg7oe$(this.descriptor, 46, i.getBackgroundBoostFreeSelection_mpzovg$_0), m(i.backgroundBoostThirdSelection_os9ha3$_0, 4) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 47) || a.encodeIntElement_ptg7oe$(this.descriptor, 47, i.backgroundBoostThirdSelection_os9ha3$_0), m(i.classKeyAbility_9b8lpq$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 48) || a.encodeIntElement_ptg7oe$(this.descriptor, 48, i.classKeyAbility_9b8lpq$_0), m(i.dualClassKeyAbility_iar7bm$_0, -1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 49) || a.encodeIntElement_ptg7oe$(this.descriptor, 49, i.dualClassKeyAbility_iar7bm$_0), m(i.hashMapFeatSelections, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 50) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 50, new N(M.StringSerializer, M.StringSerializer), i.hashMapFeatSelections), m(i.hashMapFeatExtraSelections, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 51) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 51, new N(M.StringSerializer, M.StringSerializer), i.hashMapFeatExtraSelections), m(i.hashMapSpecialSelections, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 52) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 52, new N(M.StringSerializer, new N(M.StringSerializer, M.StringSerializer)), i.hashMapSpecialSelections), m(i.hashMapAbilityBoosts, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 53) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 53, new N(M.IntSerializer, new D(M.IntSerializer)), i.hashMapAbilityBoosts), m(i.hashMapSkillIncreases, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 54) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 54, new N(M.IntSerializer, new D(M.StringSerializer)), i.hashMapSkillIncreases), m(i.hashMapAdditionalLores_nayrjr$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 55) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 55, new N(M.IntSerializer, new N(M.StringSerializer, M.StringSerializer)), i.hashMapAdditionalLores_nayrjr$_0), m(i.hashMapTrainedOnlySkillChoices, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 56) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 56, new N(M.StringSerializer, new D(M.StringSerializer)), i.hashMapTrainedOnlySkillChoices), m(i.listPlayerWeapons, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 57) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 57, new D(l1()), i.listPlayerWeapons), m(i.playerArmor_lv6tu1$_0, new cs) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 58) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 58, fs(), i.playerArmor_lv6tu1$_0), m(i.listStowedPlayerArmor, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 59) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 59, new D(fs()), i.listStowedPlayerArmor), m(i.playerShield_7q3vf9$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 60) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 60, M.StringSerializer, i.playerShield_7q3vf9$_0), m(i.playerShieldNew_1me2bj$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 61) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 61, Es(), i.playerShieldNew_1me2bj$_0), m(i.listStowedPlayerShields, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 62) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 62, new D(Es()), i.listStowedPlayerShields), m(i.listPlayerEquipment, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 63) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 63, new D(tu()), i.listPlayerEquipment), m(i.listPlayerFormula, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 64) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 64, new D(tu()), i.listPlayerFormula), m(i.notes_era7uc$_0, "Notes") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 65) || a.encodeStringElement_iij8qq$(this.descriptor, 65, i.notes_era7uc$_0), m(i.hashMapActiveConditions, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 66) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 66, new N(M.StringSerializer, M.IntSerializer), i.hashMapActiveConditions), m(i.hashMapActiveCustomBuffs, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 67) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 67, new N(M.StringSerializer, M.IntSerializer), i.hashMapActiveCustomBuffs), m(i.listCurrentlyInactiveBuffs, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 68) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 68, new D(M.StringSerializer), i.listCurrentlyInactiveBuffs), m(i.listCustomLores, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 69) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 69, new D(M.StringSerializer), i.listCustomLores), m(i.cloudStorage_295k6x$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 70) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 70, i.cloudStorage_295k6x$_0), m(i.googleFileID_8iwfld$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 71) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 71, M.StringSerializer, i.googleFileID_8iwfld$_0), m(i.emailedBuildID_ofv05r$_0, -1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 72) || a.encodeIntElement_ptg7oe$(this.descriptor, 72, i.emailedBuildID_ofv05r$_0), m(i.listDisabledRulebooks, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 73) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 73, new D(M.StringSerializer), i.listDisabledRulebooks), m(i.shieldDamage_tvbu9l$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 74) || a.encodeIntElement_ptg7oe$(this.descriptor, 74, i.shieldDamage_tvbu9l$_0), m(i.allowHalfHeritages_cqchd3$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 75) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 75, i.allowHalfHeritages_cqchd3$_0), m(i.allowMultiplePurchase_ljs9s5$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 76) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 76, i.allowMultiplePurchase_ljs9s5$_0), m(i.useStamina_x0unvt$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 77) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 77, i.useStamina_x0unvt$_0), m(i.spentResolve_owcjtt$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 78) || a.encodeIntElement_ptg7oe$(this.descriptor, 78, i.spentResolve_owcjtt$_0), m(i.hashMapCustomAbilityIncreases, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 79) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 79, new N(M.IntSerializer, M.IntArraySerializer), i.hashMapCustomAbilityIncreases), m(i.hashMapEquipmentContainers_skt9o3$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 80) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 80, new N(M.StringSerializer, jc()), i.hashMapEquipmentContainers_skt9o3$_0), m(i.optionalFlaw_bezx6r$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 81) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 81, Sc(), i.optionalFlaw_bezx6r$_0), m(i.hashMapCustomFeatChoices, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 82) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 82, new N(M.StringSerializer, ju()), i.hashMapCustomFeatChoices), m(i.hashMapCustomSkillIncreases, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 83) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 83, new N(M.IntSerializer, M.IntSerializer), i.hashMapCustomSkillIncreases), m(i.hashMapSignatureSpells_db5vsm$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 84) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 84, new N(M.StringSerializer, new N(M.IntSerializer, M.StringSerializer)), i.hashMapSignatureSpells_db5vsm$_0), m(i.hashMapSignatureSpellsMultiple, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 85) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 85, new N(M.StringSerializer, new N(M.IntSerializer, new D(M.StringSerializer))), i.hashMapSignatureSpellsMultiple), m(i.hashMapSignatureFormula, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 86) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 86, new N(M.StringSerializer, new D(M.StringSerializer)), i.hashMapSignatureFormula), m(i.hashMapPetData, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 87) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 87, new N(M.StringSerializer, QV()), i.hashMapPetData), m(i.listLanguages, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 88) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 88, new D(M.StringSerializer), i.listLanguages), m(i.dialects, e.newArray(6, null)) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 89) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 89, new z(x, new R(M.StringSerializer)), i.dialects), m(i.temporaryHPSource_7g9xdt$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 90) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 90, M.StringSerializer, i.temporaryHPSource_7g9xdt$_0), m(i.temporaryHP_hszsm4$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 91) || a.encodeIntElement_ptg7oe$(this.descriptor, 91, i.temporaryHP_hszsm4$_0), m(i.staminaDamage_d04tef$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 92) || a.encodeIntElement_ptg7oe$(this.descriptor, 92, i.staminaDamage_d04tef$_0), m(i.dualClass_qqo6fb$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 93) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 93, M.StringSerializer, i.dualClass_qqo6fb$_0), m(i.addLevelToProficiency_d4tise$_0, !0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 94) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 94, i.addLevelToProficiency_d4tise$_0), m(i.freeArchetype_i9bzew$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 95) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 95, i.freeArchetype_i9bzew$_0), m(i.ignoreFreeArcheRest_vrwskw$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 96) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 96, i.ignoreFreeArcheRest_vrwskw$_0), m(i.ignoreFreeArcheAbilityReq_6fr9ps$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 97) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 97, i.ignoreFreeArcheAbilityReq_6fr9ps$_0), m(i.classArchetype_8mcbf6$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 98) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 98, M.StringSerializer, i.classArchetype_8mcbf6$_0), m(i.hashMapRepertoireOverride_8h3xdo$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 99) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 99, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), i.hashMapRepertoireOverride_8h3xdo$_0), m(i.abp_69uzga$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 100) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 100, i.abp_69uzga$_0), m(i.otherCaster_dcwp89$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 101) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 101, i.otherCaster_dcwp89$_0), m(i.listUserBonusFeats, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 102) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 102, new D(kW()), i.listUserBonusFeats), m(i.peerID_fbor4u$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 103) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 103, M.StringSerializer, i.peerID_fbor4u$_0), m(i.ancestryParagon_jzdxmi$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 104) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 104, i.ancestryParagon_jzdxmi$_0), m(i.gradualAbilityBoost_r2cy5m$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 105) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 105, i.gradualAbilityBoost_r2cy5m$_0), m(i.hashMapSpellBlending, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 106) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 106, new N(M.StringSerializer, new D(B0())), i.hashMapSpellBlending), a.endStructure_24f42q$(this.descriptor) }, Fa.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, P, F, B, j, H, q, U, G, W, Y, V, K, X, J, Z, Q, tt, et, it, at, rt, nt, ot, st, lt, ct, pt, ht, dt, ut, _t, ft, yt, mt, $t, gt, vt, St, Ct, Et, At, bt, It, wt, Lt, Tt, kt, Rt, Pt, Mt, Nt, Dt, xt, zt, Ot, Ft, Bt, jt, Ht, qt, Ut, Gt, Wt, Yt, Vt, Kt, Xt, Jt, Zt, Qt, te, ee, ie, ae, re, ne, oe, se, le = 0, ce = 0, pe = 0, he = 0, de = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = de.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = de.decodeIntElement_szpzho$(this.descriptor, 0), le |= 1; break; case 1: a = de.decodeSerializableElement_12e8id$(this.descriptor, 1, new N(M.StringSerializer, M.IntSerializer), a), le |= 2; break; case 2: r = de.decodeSerializableElement_12e8id$(this.descriptor, 2, new N(M.StringSerializer, M.IntSerializer), r), le |= 4; break; case 3: n = de.decodeSerializableElement_12e8id$(this.descriptor, 3, new N(M.StringSerializer, new N(M.StringSerializer, M.IntSerializer)), n), le |= 8; break; case 4: o = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 4, M.StringSerializer, o), le |= 16; break; case 5: s = de.decodeIntElement_szpzho$(this.descriptor, 5), le |= 32; break; case 6: l = de.decodeBooleanElement_szpzho$(this.descriptor, 6), le |= 64; break; case 7: c = de.decodeBooleanElement_szpzho$(this.descriptor, 7), le |= 128; break; case 8: p = de.decodeBooleanElement_szpzho$(this.descriptor, 8), le |= 256; break; case 9: h = de.decodeBooleanElement_szpzho$(this.descriptor, 9), le |= 512; break; case 10: d = de.decodeBooleanElement_szpzho$(this.descriptor, 10), le |= 1024; break; case 11: u = de.decodeSerializableElement_12e8id$(this.descriptor, 11, new D(M.StringSerializer), u), le |= 2048; break; case 12: _ = de.decodeSerializableElement_12e8id$(this.descriptor, 12, new N(M.StringSerializer, new D(M.StringSerializer)), _), le |= 4096; break; case 13: f = de.decodeSerializableElement_12e8id$(this.descriptor, 13, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), f), le |= 8192; break; case 14: y = de.decodeSerializableElement_12e8id$(this.descriptor, 14, new D(M.StringSerializer), y), le |= 16384; break; case 15: m = de.decodeSerializableElement_12e8id$(this.descriptor, 15, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), m), le |= 32768; break; case 16: $ = de.decodeSerializableElement_12e8id$(this.descriptor, 16, new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), $), le |= 65536; break; case 17: g = de.decodeSerializableElement_12e8id$(this.descriptor, 17, new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), g), le |= 131072; break; case 18: v = de.decodeSerializableElement_12e8id$(this.descriptor, 18, new N(M.StringSerializer, w2()), v), le |= 262144; break; case 19: S = de.decodeIntElement_szpzho$(this.descriptor, 19), le |= 524288; break; case 20: C = de.decodeIntElement_szpzho$(this.descriptor, 20), le |= 1048576; break; case 21: E = de.decodeIntElement_szpzho$(this.descriptor, 21), le |= 2097152; break; case 22: A = de.decodeIntElement_szpzho$(this.descriptor, 22), le |= 4194304; break; case 23: b = de.decodeIntElement_szpzho$(this.descriptor, 23), le |= 8388608; break; case 24: I = de.decodeIntElement_szpzho$(this.descriptor, 24), le |= 16777216; break; case 25: w = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 25, M.StringSerializer, w), le |= 33554432; break; case 26: L = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 26, M.StringSerializer, L), le |= 67108864; break; case 27: T = de.decodeStringElement_szpzho$(this.descriptor, 27), le |= 134217728; break; case 28: k = de.decodeStringElement_szpzho$(this.descriptor, 28), le |= 268435456; break; case 29: P = de.decodeStringElement_szpzho$(this.descriptor, 29), le |= 536870912; break; case 30: F = de.decodeStringElement_szpzho$(this.descriptor, 30), le |= 1073741824; break; case 31: B = de.decodeStringElement_szpzho$(this.descriptor, 31), le |= -2147483648; break; case 32: j = de.decodeIntElement_szpzho$(this.descriptor, 32), ce |= 1; break; case 33: H = de.decodeStringElement_szpzho$(this.descriptor, 33), ce |= 2; break; case 34: q = de.decodeStringElement_szpzho$(this.descriptor, 34), ce |= 4; break; case 35: U = de.decodeStringElement_szpzho$(this.descriptor, 35), ce |= 8; break; case 36: G = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 36, M.StringSerializer, G), ce |= 16; break; case 37: W = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 37, M.StringSerializer, W), ce |= 32; break; case 38: Y = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 38, M.StringSerializer, Y), ce |= 64; break; case 39: V = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 39, M.IntArraySerializer, V), ce |= 128; break; case 40: K = de.decodeIntElement_szpzho$(this.descriptor, 40), ce |= 256; break; case 41: X = de.decodeIntElement_szpzho$(this.descriptor, 41), ce |= 512; break; case 42: J = de.decodeIntElement_szpzho$(this.descriptor, 42), ce |= 1024; break; case 43: Z = de.decodeIntElement_szpzho$(this.descriptor, 43), ce |= 2048; break; case 44: Q = de.decodeSerializableElement_12e8id$(this.descriptor, 44, new N(M.IntSerializer, M.IntSerializer), Q), ce |= 4096; break; case 45: tt = de.decodeIntElement_szpzho$(this.descriptor, 45), ce |= 8192; break; case 46: et = de.decodeIntElement_szpzho$(this.descriptor, 46), ce |= 16384; break; case 47: it = de.decodeIntElement_szpzho$(this.descriptor, 47), ce |= 32768; break; case 48: at = de.decodeIntElement_szpzho$(this.descriptor, 48), ce |= 65536; break; case 49: rt = de.decodeIntElement_szpzho$(this.descriptor, 49), ce |= 131072; break; case 50: nt = de.decodeSerializableElement_12e8id$(this.descriptor, 50, new N(M.StringSerializer, M.StringSerializer), nt), ce |= 262144; break; case 51: ot = de.decodeSerializableElement_12e8id$(this.descriptor, 51, new N(M.StringSerializer, M.StringSerializer), ot), ce |= 524288; break; case 52: st = de.decodeSerializableElement_12e8id$(this.descriptor, 52, new N(M.StringSerializer, new N(M.StringSerializer, M.StringSerializer)), st), ce |= 1048576; break; case 53: lt = de.decodeSerializableElement_12e8id$(this.descriptor, 53, new N(M.IntSerializer, new D(M.IntSerializer)), lt), ce |= 2097152; break; case 54: ct = de.decodeSerializableElement_12e8id$(this.descriptor, 54, new N(M.IntSerializer, new D(M.StringSerializer)), ct), ce |= 4194304; break; case 55: pt = de.decodeSerializableElement_12e8id$(this.descriptor, 55, new N(M.IntSerializer, new N(M.StringSerializer, M.StringSerializer)), pt), ce |= 8388608; break; case 56: ht = de.decodeSerializableElement_12e8id$(this.descriptor, 56, new N(M.StringSerializer, new D(M.StringSerializer)), ht), ce |= 16777216; break; case 57: dt = de.decodeSerializableElement_12e8id$(this.descriptor, 57, new D(l1()), dt), ce |= 33554432; break; case 58: ut = de.decodeSerializableElement_12e8id$(this.descriptor, 58, fs(), ut), ce |= 67108864; break; case 59: _t = de.decodeSerializableElement_12e8id$(this.descriptor, 59, new D(fs()), _t), ce |= 134217728; break; case 60: ft = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 60, M.StringSerializer, ft), ce |= 268435456; break; case 61: yt = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 61, Es(), yt), ce |= 536870912; break; case 62: mt = de.decodeSerializableElement_12e8id$(this.descriptor, 62, new D(Es()), mt), ce |= 1073741824; break; case 63: $t = de.decodeSerializableElement_12e8id$(this.descriptor, 63, new D(tu()), $t), ce |= -2147483648; break; case 64: gt = de.decodeSerializableElement_12e8id$(this.descriptor, 64, new D(tu()), gt), pe |= 1; break; case 65: vt = de.decodeStringElement_szpzho$(this.descriptor, 65), pe |= 2; break; case 66: St = de.decodeSerializableElement_12e8id$(this.descriptor, 66, new N(M.StringSerializer, M.IntSerializer), St), pe |= 4; break; case 67: Ct = de.decodeSerializableElement_12e8id$(this.descriptor, 67, new N(M.StringSerializer, M.IntSerializer), Ct), pe |= 8; break; case 68: Et = de.decodeSerializableElement_12e8id$(this.descriptor, 68, new D(M.StringSerializer), Et), pe |= 16; break; case 69: At = de.decodeSerializableElement_12e8id$(this.descriptor, 69, new D(M.StringSerializer), At), pe |= 32; break; case 70: bt = de.decodeBooleanElement_szpzho$(this.descriptor, 70), pe |= 64; break; case 71: It = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 71, M.StringSerializer, It), pe |= 128; break; case 72: wt = de.decodeIntElement_szpzho$(this.descriptor, 72), pe |= 256; break; case 73: Lt = de.decodeSerializableElement_12e8id$(this.descriptor, 73, new D(M.StringSerializer), Lt), pe |= 512; break; case 74: Tt = de.decodeIntElement_szpzho$(this.descriptor, 74), pe |= 1024; break; case 75: kt = de.decodeBooleanElement_szpzho$(this.descriptor, 75), pe |= 2048; break; case 76: Rt = de.decodeBooleanElement_szpzho$(this.descriptor, 76), pe |= 4096; break; case 77: Pt = de.decodeBooleanElement_szpzho$(this.descriptor, 77), pe |= 8192; break; case 78: Mt = de.decodeIntElement_szpzho$(this.descriptor, 78), pe |= 16384; break; case 79: Nt = de.decodeSerializableElement_12e8id$(this.descriptor, 79, new N(M.IntSerializer, M.IntArraySerializer), Nt), pe |= 32768; break; case 80: Dt = de.decodeSerializableElement_12e8id$(this.descriptor, 80, new N(M.StringSerializer, jc()), Dt), pe |= 65536; break; case 81: xt = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 81, Sc(), xt), pe |= 131072; break; case 82: zt = de.decodeSerializableElement_12e8id$(this.descriptor, 82, new N(M.StringSerializer, ju()), zt), pe |= 262144; break; case 83: Ot = de.decodeSerializableElement_12e8id$(this.descriptor, 83, new N(M.IntSerializer, M.IntSerializer), Ot), pe |= 524288; break; case 84: Ft = de.decodeSerializableElement_12e8id$(this.descriptor, 84, new N(M.StringSerializer, new N(M.IntSerializer, M.StringSerializer)), Ft), pe |= 1048576; break; case 85: Bt = de.decodeSerializableElement_12e8id$(this.descriptor, 85, new N(M.StringSerializer, new N(M.IntSerializer, new D(M.StringSerializer))), Bt), pe |= 2097152; break; case 86: jt = de.decodeSerializableElement_12e8id$(this.descriptor, 86, new N(M.StringSerializer, new D(M.StringSerializer)), jt), pe |= 4194304; break; case 87: Ht = de.decodeSerializableElement_12e8id$(this.descriptor, 87, new N(M.StringSerializer, QV()), Ht), pe |= 8388608; break; case 88: qt = de.decodeSerializableElement_12e8id$(this.descriptor, 88, new D(M.StringSerializer), qt), pe |= 16777216; break; case 89: Ut = de.decodeSerializableElement_12e8id$(this.descriptor, 89, new z(x, new R(M.StringSerializer)), Ut), pe |= 33554432; break; case 90: Gt = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 90, M.StringSerializer, Gt), pe |= 67108864; break; case 91: Wt = de.decodeIntElement_szpzho$(this.descriptor, 91), pe |= 134217728; break; case 92: Yt = de.decodeIntElement_szpzho$(this.descriptor, 92), pe |= 268435456; break; case 93: Vt = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 93, M.StringSerializer, Vt), pe |= 536870912; break; case 94: Kt = de.decodeBooleanElement_szpzho$(this.descriptor, 94), pe |= 1073741824; break; case 95: Xt = de.decodeBooleanElement_szpzho$(this.descriptor, 95), pe |= -2147483648; break; case 96: Jt = de.decodeBooleanElement_szpzho$(this.descriptor, 96), he |= 1; break; case 97: Zt = de.decodeBooleanElement_szpzho$(this.descriptor, 97), he |= 2; break; case 98: Qt = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 98, M.StringSerializer, Qt), he |= 4; break; case 99: te = de.decodeSerializableElement_12e8id$(this.descriptor, 99, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), te), he |= 8; break; case 100: ee = de.decodeBooleanElement_szpzho$(this.descriptor, 100), he |= 16; break; case 101: ie = de.decodeBooleanElement_szpzho$(this.descriptor, 101), he |= 32; break; case 102: ae = de.decodeSerializableElement_12e8id$(this.descriptor, 102, new D(kW()), ae), he |= 64; break; case 103: re = de.decodeNullableSerializableElement_8viuyw$(this.descriptor, 103, M.StringSerializer, re), he |= 128; break; case 104: ne = de.decodeBooleanElement_szpzho$(this.descriptor, 104), he |= 256; break; case 105: oe = de.decodeBooleanElement_szpzho$(this.descriptor, 105), he |= 512; break; case 106: se = de.decodeSerializableElement_12e8id$(this.descriptor, 106, new N(M.StringSerializer, new D(B0())), se), he |= 1024; break; case -1: break t; default: throw new O(e) }return de.endStructure_24f42q$(this.descriptor), Ha(le, ce, pe, he, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, P, F, B, j, H, q, U, G, W, Y, V, K, X, J, Z, Q, tt, et, it, at, rt, nt, ot, st, lt, ct, pt, ht, dt, ut, _t, ft, yt, mt, $t, gt, vt, St, Ct, Et, At, bt, It, wt, Lt, Tt, kt, Rt, Pt, Mt, Nt, Dt, xt, zt, Ot, Ft, Bt, jt, Ht, qt, Ut, Gt, Wt, Yt, Vt, Kt, Xt, Jt, Zt, Qt, te, ee, ie, ae, re, ne, oe, se, null) }, Fa.prototype.childSerializers = function () { return [M.IntSerializer, new N(M.StringSerializer, M.IntSerializer), new N(M.StringSerializer, M.IntSerializer), new N(M.StringSerializer, new N(M.StringSerializer, M.IntSerializer)), new R(M.StringSerializer), M.IntSerializer, M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, new D(M.StringSerializer), new N(M.StringSerializer, new D(M.StringSerializer)), new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), new D(M.StringSerializer), new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), new N(M.StringSerializer, w2()), M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, new R(M.StringSerializer), new R(M.StringSerializer), M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.IntSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, new R(M.StringSerializer), new R(M.StringSerializer), new R(M.StringSerializer), new R(M.IntArraySerializer), M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, new N(M.IntSerializer, M.IntSerializer), M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, new N(M.StringSerializer, M.StringSerializer), new N(M.StringSerializer, M.StringSerializer), new N(M.StringSerializer, new N(M.StringSerializer, M.StringSerializer)), new N(M.IntSerializer, new D(M.IntSerializer)), new N(M.IntSerializer, new D(M.StringSerializer)), new N(M.IntSerializer, new N(M.StringSerializer, M.StringSerializer)), new N(M.StringSerializer, new D(M.StringSerializer)), new D(l1()), fs(), new D(fs()), new R(M.StringSerializer), new R(Es()), new D(Es()), new D(tu()), new D(tu()), M.StringSerializer, new N(M.StringSerializer, M.IntSerializer), new N(M.StringSerializer, M.IntSerializer), new D(M.StringSerializer), new D(M.StringSerializer), M.BooleanSerializer, new R(M.StringSerializer), M.IntSerializer, new D(M.StringSerializer), M.IntSerializer, M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, M.IntSerializer, new N(M.IntSerializer, M.IntArraySerializer), new N(M.StringSerializer, jc()), new R(Sc()), new N(M.StringSerializer, ju()), new N(M.IntSerializer, M.IntSerializer), new N(M.StringSerializer, new N(M.IntSerializer, M.StringSerializer)), new N(M.StringSerializer, new N(M.IntSerializer, new D(M.StringSerializer))), new N(M.StringSerializer, new D(M.StringSerializer)), new N(M.StringSerializer, QV()), new D(M.StringSerializer), new z(x, new R(M.StringSerializer)), new R(M.StringSerializer), M.IntSerializer, M.IntSerializer, new R(M.StringSerializer), M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, new R(M.StringSerializer), new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), M.BooleanSerializer, M.BooleanSerializer, new D(kW()), new R(M.StringSerializer), M.BooleanSerializer, M.BooleanSerializer, new N(M.StringSerializer, new D(B0()))] }, Fa.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var Ba = null; function ja() { return null === Ba && new Fa, Ba } function Ha(t, i, a, r, n, o, s, l, p, h, d, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, R, P, M, N, D, x, z, O, F, B, j, H, q, U, G, W, Y, V, K, X, J, Z, Q, tt, et, it, at, rt, nt, ot, st, lt, ct, pt, ht, dt, ut, _t, ft, yt, mt, $t, gt, vt, St, Ct, Et, At, bt, It, wt, Lt, Tt, kt, Rt, Pt, Mt, Nt, Dt, xt, zt, Ot, Ft, Bt, jt, Ht, qt, Ut, Gt, Wt, Yt, Vt, Kt, Xt, Jt, Zt, Qt, te, ee, ie, ae, re, ne, oe) { var se = oe || Object.create(Da.prototype); return se.usedInfusedReagents_l7b1g3$_0 = 0 == (1 & t) ? 0 : n, se.hashMapUsedInfusedReagentsByCaster_wub7fs$_0 = 0 == (2 & t) ? c() : o, se.hashMapFormulaBook_doz1by$_0 = 0 == (4 & t) ? c() : s, se.hashMapFormulaBookByCaster_lfmr8b$_0 = 0 == (8 & t) ? c() : l, se.deprecatedLanguagesSelection_7wcmbp$_0 = 0 == (16 & t) ? "Not set" : p, se.characterLevel_bfxlz8$_0 = 0 == (32 & t) ? 1 : h, se.autoSave_vmqs99$_0 = 0 == (64 & t) || d, se.showLevelWarnings_b4y0if$_0 = 0 == (128 & t) || _, se.showSpellbookConfirmation_r2gpzg$_0 = 0 != (256 & t) && f, se.separateAdventurersKit_oafd8p$_0 = 0 == (512 & t) || y, se.showDedicationFeats_80tdt5$_0 = 0 == (1024 & t) || m, se.listKnownSpells_lj53xh$_0 = 0 == (2048 & t) ? u() : $, se.hashMapKnownSpellsByCaster_ulry6c$_0 = 0 == (4096 & t) ? c() : g, se.hashMapSpontaneousSpellsCast_kmso1i$_0 = 0 == (8192 & t) ? c() : v, se.listSpentSpellSlots_1eo8fs$_0 = 0 == (16384 & t) ? u() : S, se.hashMapBonusSpellSlots_zgcgbl$_0 = 0 == (32768 & t) ? c() : C, se.hashMapBonusSpellPerDay_dpokgx$_0 = 0 == (65536 & t) ? c() : E, se.hashMapBonusSpellPrepared_oslxk1$_0 = 0 == (131072 & t) ? c() : A, se.hashMapPlayerSpells_okug1n$_0 = 0 == (262144 & t) ? c() : b, se.currentHP_2gd2k4$_0 = 0 == (524288 & t) ? 70 : I, se.damageTaken_iz2tc3$_0 = 0 == (1048576 & t) ? 0 : w, se.spentResonance_996yyp$_0 = 0 == (2097152 & t) ? 0 : L, se.spentSpellPoints_eiy4ce$_0 = 0 == (4194304 & t) ? 0 : T, se.heroPoints_bb40pu$_0 = 0 == (8388608 & t) ? 1 : k, se.characterRef_st7lt7$_0 = 0 == (16777216 & t) ? -1 : R, se.webID_iuurt2$_0 = 0 == (33554432 & t) ? null : P, se.folderID_ku8qfq$_0 = 0 == (67108864 & t) ? null : M, se.characterName_u6ndhd$_0 = 0 == (134217728 & t) ? "Unknown Adventurer" : N, se.age_69uw0a$_0 = 0 == (268435456 & t) ? "Not set" : D, se.deity_9v5cdk$_0 = 0 == (536870912 & t) ? "Not set" : x, se.alignment_3f7ydu$_0 = 0 == (1073741824 & t) ? "N" : z, se.gender_58bdsy$_0 = 0 == (-2147483648 & t) ? "Not set" : O, se.experiencePoints_kiyycy$_0 = 0 == (1 & i) ? 0 : F, se.ancestry_a2epns$_0 = 0 == (2 & i) ? pi().ANCESTRY_HUMAN : B, se.className_fe7lhu$_0 = 0 == (4 & i) ? "Fighter" : j, se.background_mfrl01$_0 = 0 == (8 & i) ? "BACKGROUND_Barkeep" : H, se.portraitFilename_8j1o3h$_0 = 0 == (16 & i) ? null : q, se.classOptionalTrainedSkill_in4prh$_0 = 0 == (32 & i) ? null : U, se.classDualOptionalTrainedSkill_kfgzk9$_0 = 0 == (64 & i) ? null : G, se.abilityScoreOverrides_uhim6i$_0 = 0 == (128 & i) ? null : W, se.gold_ip6ndr$_0 = 0 == (256 & i) ? 15 : Y, se.platinum_l5g4x9$_0 = 0 == (512 & i) ? 0 : V, se.silver_upmb2q$_0 = 0 == (1024 & i) ? 0 : K, se.copper_buz092$_0 = 0 == (2048 & i) ? 0 : X, se.hashMapAncestryFreeBoostSelections_aoleii$_0 = 0 == (4096 & i) ? c() : J, se.backgroundBoostLimitedSelection_n855xu$_0 = 0 == (8192 & i) ? 2 : Z, se.getBackgroundBoostFreeSelection_mpzovg$_0 = 0 == (16384 & i) ? 0 : Q, se.backgroundBoostThirdSelection_os9ha3$_0 = 0 == (32768 & i) ? 4 : tt, se.classKeyAbility_9b8lpq$_0 = 0 == (65536 & i) ? 0 : et, se.dualClassKeyAbility_iar7bm$_0 = 0 == (131072 & i) ? -1 : it, se.hashMapFeatSelections = 0 == (262144 & i) ? c() : at, se.hashMapFeatExtraSelections = 0 == (524288 & i) ? c() : rt, se.hashMapSpecialSelections = 0 == (1048576 & i) ? c() : nt, se.hashMapAbilityBoosts = 0 == (2097152 & i) ? c() : ot, se.hashMapSkillIncreases = 0 == (4194304 & i) ? c() : st, se.hashMapAdditionalLores_nayrjr$_0 = 0 == (8388608 & i) ? c() : lt, se.hashMapTrainedOnlySkillChoices = 0 == (16777216 & i) ? c() : ct, se.listPlayerWeapons = 0 == (33554432 & i) ? u() : pt, se.playerArmor_lv6tu1$_0 = 0 == (67108864 & i) ? new cs : ht, se.listStowedPlayerArmor = 0 == (134217728 & i) ? u() : dt, se.playerShield_7q3vf9$_0 = 0 == (268435456 & i) ? null : ut, se.playerShieldNew_1me2bj$_0 = 0 == (536870912 & i) ? null : _t, se.listStowedPlayerShields = 0 == (1073741824 & i) ? u() : ft, se.listPlayerEquipment = 0 == (-2147483648 & i) ? u() : yt, se.listPlayerFormula = 0 == (1 & a) ? u() : mt, se.notes_era7uc$_0 = 0 == (2 & a) ? "Notes" : $t, se.hashMapActiveConditions = 0 == (4 & a) ? c() : gt, se.hashMapActiveCustomBuffs = 0 == (8 & a) ? c() : vt, se.listCurrentlyInactiveBuffs = 0 == (16 & a) ? u() : St, se.listCustomLores = 0 == (32 & a) ? u() : Ct, se.cloudStorage_295k6x$_0 = 0 != (64 & a) && Et, se.googleFileID_8iwfld$_0 = 0 == (128 & a) ? null : At, se.emailedBuildID_ofv05r$_0 = 0 == (256 & a) ? -1 : bt, se.listDisabledRulebooks = 0 == (512 & a) ? u() : It, se.shieldDamage_tvbu9l$_0 = 0 == (1024 & a) ? 0 : wt, se.allowHalfHeritages_cqchd3$_0 = 0 != (2048 & a) && Lt, se.allowMultiplePurchase_ljs9s5$_0 = 0 != (4096 & a) && Tt, se.useStamina_x0unvt$_0 = 0 != (8192 & a) && kt, se.spentResolve_owcjtt$_0 = 0 == (16384 & a) ? 0 : Rt, se.hashMapCustomAbilityIncreases = 0 == (32768 & a) ? c() : Pt, se.hashMapEquipmentContainers_skt9o3$_0 = 0 == (65536 & a) ? c() : Mt, se.optionalFlaw_bezx6r$_0 = 0 == (131072 & a) ? null : Nt, se.hashMapCustomFeatChoices = 0 == (262144 & a) ? c() : Dt, se.hashMapCustomSkillIncreases = 0 == (524288 & a) ? c() : xt, se.hashMapSignatureSpells_db5vsm$_0 = 0 == (1048576 & a) ? c() : zt, se.hashMapSignatureSpellsMultiple = 0 == (2097152 & a) ? c() : Ot, se.hashMapSignatureFormula = 0 == (4194304 & a) ? c() : Ft, se.hashMapPetData = 0 == (8388608 & a) ? c() : Bt, se.listLanguages = 0 == (16777216 & a) ? u() : jt, se.dialects = 0 == (33554432 & a) ? e.newArray(6, null) : Ht, se.temporaryHPSource_7g9xdt$_0 = 0 == (67108864 & a) ? null : qt, se.temporaryHP_hszsm4$_0 = 0 == (134217728 & a) ? 0 : Ut, se.staminaDamage_d04tef$_0 = 0 == (268435456 & a) ? 0 : Gt, se.dualClass_qqo6fb$_0 = 0 == (536870912 & a) ? null : Wt, se.addLevelToProficiency_d4tise$_0 = 0 == (1073741824 & a) || Yt, se.freeArchetype_i9bzew$_0 = 0 != (-2147483648 & a) && Vt, se.ignoreFreeArcheRest_vrwskw$_0 = 0 != (1 & r) && Kt, se.ignoreFreeArcheAbilityReq_6fr9ps$_0 = 0 != (2 & r) && Xt, se.classArchetype_8mcbf6$_0 = 0 == (4 & r) ? null : Jt, se.hashMapRepertoireOverride_8h3xdo$_0 = 0 == (8 & r) ? c() : Zt, se.abp_69uzga$_0 = 0 != (16 & r) && Qt, se.otherCaster_dcwp89$_0 = 0 != (32 & r) && te, se.listUserBonusFeats = 0 == (64 & r) ? u() : ee, se.peerID_fbor4u$_0 = 0 == (128 & r) ? null : ie, se.ancestryParagon_jzdxmi$_0 = 0 != (256 & r) && ae, se.gradualAbilityBoost_r2cy5m$_0 = 0 != (512 & r) && re, se.hashMapSpellBlending = 0 == (1024 & r) ? c() : ne, se } function qa(t, e) { Wa(), this.flagType = Wa().FLAG_WARDEN_SPELLS, this.levelGained = 1, this.flagType = t, this.levelGained = e } function Ua() { Ga = this, this.FLAG_WARDEN_SPELLS = "Warden Spells", this.FLAG_KI_SPELLS = "Ki Spells" } Da.$metadata$ = { kind: p, simpleName: "CharacterData", interfaces: [] }, Ua.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Ga = null; function Wa() { return null === Ga && new Ua, Ga } function Ya(t) { Xa(), W0.call(this, t), this.hashMapProficiencyLevels = c(), this.hashMapFeatSelections = c(), this.hashMapDedicationFeats = c(), this.hashMapDedicationFeatsUnrestrictedChannel = c(), this.hashMapIndividualWeaponTraiinngLevels = c(), this.reportAbilityScores = null, this.maxFocusPoints = 0, this.hasFamiliar = !1, this.hasConstructCompanion = !1, this.hasAnimalCompanion = !1 } function Va() { Ka = this, this.GROUP_1_0 = T(["ARCHETYPE_Collegiate Attendant Dedication", "ARCHETYPE_Halcyon Speaker Dedication"]), this.GROUP_2_0 = T(["ARCHETYPE_Sentry Dedication", "ARCHETYPE_Knight Vigilant", "ARCHETYPE_Knight Reclaimant Dedication"]), this.GROUP_3_0 = T(["ARCHETYPE_Guild Agent Dedication", "ARCHETYPE_Swordmaster Dedication", "ARCHETYPE_Spellmaster Dedication", "ARCHETYPE_Scrollmaster Dedication"]), this.GROUP_4_0 = T(["ARCHETYPE_Hellknight Armiger Dedication", "ARCHETYPE_Hellknight Dedication", "ARCHETYPE_Hellknight Signifer Dedication"]), this.GROUP_5_0 = T(["ARCHETYPE_Spellshot Dedication", "ARCHETYPE_Beast Gunner Dedication"]), this.GROUP_6_0 = T(["ARCHETYPE_SNARECRAFTER_Snarecrafter Dedication", "ARCHETYPE_Trapsmith Dedication"]), this.LIST_ALL_GROUPS_0 = [this.GROUP_1_0, this.GROUP_2_0, this.GROUP_3_0, this.GROUP_4_0, this.GROUP_5_0, this.GROUP_6_0] } qa.$metadata$ = { kind: p, simpleName: "CharacterFlag", interfaces: [] }, Ya.prototype.createSnapshot_vy76y1$ = function (t, e) { var i, a, r; for (i = t.listAllProficiencies.iterator(); i.hasNext();) { var n = i.next(), s = t.getProficiency_61zpoe$(n), l = this.hashMapProficiencyLevels, c = o(s).getProficiencyAtLevel_za3lpa$(e); l.put_xwzc9p$(n, c) } for (this.reportAbilityScores = new G1(this.dataControl, t, e), this.addFeats_0(t, e), this.addDedicationFeatStats_0(t, e), this.maxFocusPoints = this.dataControl.managerSpells.getMaxFocusPointsAtLevel_vy76y1$(t, e), a = t.hashMapPetCharacterBuilds.keys.iterator(); a.hasNext();) { var p = a.next(), h = t.hashMapPetCharacterBuilds.get_11rb$(p), d = o(h).getPetData(); 0 === d.getPetType() && this.hasPetByLevel_0(t, 0, e) ? this.hasAnimalCompanion = !0 : 1 === d.getPetType() && this.hasPetByLevel_0(t, 1, e) ? this.hasFamiliar = !0 : 3 === d.getPetType() && this.hasPetByLevel_0(t, 3, e) && (this.hasConstructCompanion = !0) } for (r = t.hashMapIndividualWeaponProficiencies.keys.iterator(); r.hasNext();) { var u = r.next(), _ = t.hashMapIndividualWeaponProficiencies.get_11rb$(u), f = this.hashMapIndividualWeaponTraiinngLevels, y = o(_).getProficiencyAtLevel_za3lpa$(e); f.put_xwzc9p$(u, y) } }, Ya.prototype.hasPetByLevel_0 = function (t, e, i) { var a; if (t.hashMapPetGainedLevel.containsKey_11rb$(e)) for (a = o(t.hashMapPetGainedLevel.get_11rb$(e)).values.iterator(); a.hasNext();)if (i >= a.next()) return !0; return !1 }, Ya.prototype.addFeats_0 = function (t, e) { var i, a; for (i = t.getCharacterData().hashMapFeatSelections.keys.iterator(); i.hasNext();) { var r = i.next(), n = t.getCharacterData().hashMapFeatSelections.get_11rb$(r), s = t.getFeatChoiceWithoutLevel_61zpoe$(r); if (null != s && s.level <= e && null != n) { if (!this.hashMapFeatSelections.containsKey_11rb$(n)) { var l = this.hashMapFeatSelections, c = u(); l.put_xwzc9p$(n, c) } o(this.hashMapFeatSelections.get_11rb$(n)).add_11rb$(r) } } for (a = t.getListFreeFeatsByLevel_za3lpa$(e).iterator(); a.hasNext();) { var p = a.next(); if (!this.hashMapFeatSelections.containsKey_11rb$(p.featID)) { var h = this.hashMapFeatSelections, d = p.featID, _ = u(); h.put_xwzc9p$(d, _) } o(this.hashMapFeatSelections.get_11rb$(p.featID)).add_11rb$("Free Feat") } }, Ya.prototype.addDedicationFeatStats_0 = function (t, e) { var i, a; for (i = t.getCharacterData().hashMapFeatSelections.keys.iterator(); i.hasNext();) { var r = i.next(), n = t.getCharacterData().hashMapFeatSelections.get_11rb$(r), o = t.getFeatChoiceWithoutLevel_61zpoe$(r); if (null != o && o.level <= e && null != n) { var s = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(n); if (null != s && _(s.getTraits().toLowerCase(), "dedication")) if (o.allowDedication) { var l = this.hashMapDedicationFeatsUnrestrictedChannel, c = Xa().getNumFeatsTakenForArchetypeByLevel_0(this.dataControl, t, s, e); l.put_xwzc9p$(n, c) } else { var p = this.hashMapDedicationFeats, h = Xa().getNumFeatsTakenForArchetypeByLevel_0(this.dataControl, t, s, e); p.put_xwzc9p$(n, h) } } } for (a = t.getCharacterData().listUserBonusFeats.iterator(); a.hasNext();) { var d = a.next(); if (d.level <= e) { var u = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(d.featID); if (null != u && _(u.getTraits().toLowerCase(), "dedication")) { var f = this.hashMapDedicationFeatsUnrestrictedChannel, y = d.featID, m = Xa().getNumFeatsTakenForArchetypeByLevel_0(this.dataControl, t, u, e); f.put_xwzc9p$(y, m) } } } }, Ya.prototype.canBeTakenAlongsideOtherDedications_swgm3m$ = function (t, i) { var a, r, n; for (a = Xa().LIST_ALL_GROUPS_0, r = 0; r !== a.length; ++r) { var o = a[r]; if (B(o, i)) for (n = o.iterator(); n.hasNext();) { var s, l = n.next(), c = this.hashMapDedicationFeats, p = (e.isType(s = c, y) ? s : d()).containsKey_11rb$(l); if (!p) { var h, u = this.hashMapDedicationFeatsUnrestrictedChannel; p = (e.isType(h = u, y) ? h : d()).containsKey_11rb$(l) } if (p) return !0 } } return !1 }, Ya.prototype.hasFeatIgnoringExcludingFeatRef_puj7f4$ = function (t, e) { var i; if (this.hashMapFeatSelections.containsKey_11rb$(e)) for (i = o(this.hashMapFeatSelections.get_11rb$(e)).iterator(); i.hasNext();) { var a = i.next(); if (!m(a, t)) return !0 } return !1 }, Va.prototype.getNumFeatsTakenForArchetypeByLevel_0 = function (t, e, i, a) { var r, n, o, s, l, c = 0; for (r = e.getCharacterData().hashMapFeatSelections.keys.iterator(); r.hasNext();) { var p = r.next(), h = e.getCharacterData().hashMapFeatSelections.get_11rb$(p), u = e.getFeatChoiceWithoutLevel_61zpoe$(p); if (null != u && u.level <= a && null != h) { var _ = t.managerFeats.getFeatInformation_pdl1vj$(h); if (null != _ && (_.hasRequiredFeat_61zpoe$(i.id) && (c = c + 1 | 0), this.isCombinedDedication_0(i.id))) for (n = this.LIST_ALL_GROUPS_0, o = 0; o !== n.length; ++o)for (s = n[o].iterator(); s.hasNext();) { var f = s.next(); m(f, i.id) || _.hasRequiredFeat_61zpoe$("string" == typeof (l = f) ? l : d()) && (c = c + 1 | 0) } } } return c }, Va.prototype.isCombinedDedication_0 = function (t) { var e, i; for (e = this.LIST_ALL_GROUPS_0, i = 0; i !== e.length; ++i) { var a = e[i]; if (B(a, t)) return !0 } return !1 }, Va.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Ka = null; function Xa() { return null === Ka && new Va, Ka } function Ja() { er(), Nn.call(this) } function Za(t) { this.this$ClassAlchemist = t } function Qa() { tr = this, this.CLASS_ALCHEMIST = "Alchemist" } Ya.$metadata$ = { kind: p, simpleName: "CharacterSnapshot", interfaces: [W0] }, Ja.prototype.setClassName = function () { this.className = er().CLASS_ALCHEMIST }, Ja.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_ALCHEMIST, this.classFeatLevels = new Int32Array([1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, Ja.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_ALCHEMIST }, Ja.prototype.setHP = function () { this.hp = 8 }, Ja.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, Ja.prototype.setSaveProficiencies = function () { this.profFortitude = 4, this.profReflex = 4, this.profWill = 2 }, Ja.prototype.setNumSkills = function () { this.listClassTrainedSkills.add_11rb$(pK().CRAFTING), this.numSkills = 3 }, Ja.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.listProficientWeapons.add_11rb$("Bomb") }, Ja.prototype.setArmorProficiencies = function () { this.profArmorLight = 2, this.profArmorMedium = 2 }, Za.prototype.activateClass_s8e943$ = function (t, e, i) { e.managerFeats.activateAndAddFreeFeat_ubuv6q$(i, t, "Advanced Alchemy", "GENERAL_Alchemical Crafting", se().FEATS_GENERAL, 1), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Alchemical Weapon Expertise", 7, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Alchemical Weapon Expertise", 7, pK().PROFICIENCY_UNARMED_ATTACKS, 4), t ? e.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(i, "Alchemical Weapon Expertise", "Bomb", 7, 4) : e.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(i, "Alchemical Weapon Expertise", "Bomb"), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Iron Will", 7, pK().PROFICIENCY_WILL, 4), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Alertness", 9, pK().PROFICIENCY_PERCEPTION, 4), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Juggernaut", 11, pK().PROFICIENCY_FORTITUDE, 6), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_MEDIUM_ARMOR, 4), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Evasion", 15, pK().PROFICIENCY_REFLEX, 6), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Mastery", 19, pK().PROFICIENCY_LIGHT_ARMOR, 6), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Mastery", 19, pK().PROFICIENCY_MEDIUM_ARMOR, 6), this.this$ClassAlchemist.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Mastery", 19, pK().PROFICIENCY_UNARMORED, 6); var a = new Q1(i3().ALCHEMY_ALCHEMIST, 1); a.hasQuick = !0, a.hasAdvanced = !0; for (var r = 1; r <= 20; r++)a.setAlchemyLevelAtCharacterLevel_f9128j$(t, er().CLASS_ALCHEMIST + j(r), r, r); re().addAlchemicalCaster_yk8txo$(t, i, a) }, Za.$metadata$ = { kind: p, interfaces: [Dn] }, Ja.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([3])), this.classMasteryLevels = new Int32Array([1, 9, 17, 21]), this.classDirectCalls = new Za(this) }, Ja.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, Ja.prototype.setClassSpecials_t1mzv0$ = function (t) { oJ().setSpecialMethods_sfkw43$(o(t)) }, Qa.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var tr = null; function er() { return null === tr && new Qa, tr } function ir() { or(), Nn.call(this) } function ar(t) { this.this$ClassBarbarian = t } function rr() { nr = this, this.CLASS_BARBARIAN = "Barbarian" } Ja.$metadata$ = { kind: p, simpleName: "ClassAlchemist", interfaces: [Nn] }, ir.prototype.setClassName = function () { this.className = or().CLASS_BARBARIAN }, ir.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_BARBARIAN, this.classFeatLevels = new Int32Array([1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, ir.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_BARBARIAN }, ir.prototype.setHP = function () { this.hp = 12 }, ir.prototype.setPerceptionProficiency = function () { this.profPerception = 4 }, ir.prototype.setSaveProficiencies = function () { this.profFortitude = 4, this.profReflex = 2, this.profWill = 4 }, ir.prototype.setNumSkills = function () { this.numSkills = 3, this.listClassTrainedSkills.add_11rb$(pK().ATHELTICS) }, ir.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.profWeaponMartial = 2 }, ir.prototype.setArmorProficiencies = function () { this.profArmorLight = 2, this.profArmorMedium = 2 }, ar.prototype.activateClass_s8e943$ = function (t, e, i) { this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Brutality", 5, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Brutality", 5, pK().PROFICIENCY_MARTIAL_WEAPONS, 4), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Brutality", 5, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Juggernaut", 7, pK().PROFICIENCY_FORTITUDE, 6), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Lightning Reflexes", 9, pK().PROFICIENCY_REFLEX, 4), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Greater Juggernaut", 13, pK().PROFICIENCY_FORTITUDE, 8), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 13, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 13, pK().PROFICIENCY_MEDIUM_ARMOR, 4), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Fury", 13, pK().PROFICIENCY_SIMPLE_WEAPONS, 6), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Fury", 13, pK().PROFICIENCY_MARTIAL_WEAPONS, 6), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Fury", 13, pK().PROFICIENCY_UNARMED_ATTACKS, 6), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Indomitable Will", 15, pK().PROFICIENCY_WILL, 6), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Heightened Senses", 17, pK().PROFICIENCY_PERCEPTION, 6), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor of Fury", 19, pK().PROFICIENCY_LIGHT_ARMOR, 6), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor of Fury", 19, pK().PROFICIENCY_MEDIUM_ARMOR, 6), this.this$ClassBarbarian.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor of Fury", 19, pK().PROFICIENCY_UNARMORED, 6) }, ar.$metadata$ = { kind: p, interfaces: [Dn] }, ir.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([0])), this.classMasteryLevels = new Int32Array([1, 11, 19, 21]), this.classDirectCalls = new ar(this) }, ir.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, ir.prototype.setClassSpecials_t1mzv0$ = function (t) { uJ().setSpecialMethods_sfkw43$(o(t)) }, rr.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var nr = null; function or() { return null === nr && new rr, nr } function sr() { hr(), Nn.call(this) } function lr(t) { this.this$ClassBard = t } function cr() { pr = this, this.CLASS_BARD = "Bard" } ir.$metadata$ = { kind: p, simpleName: "ClassBarbarian", interfaces: [Nn] }, sr.prototype.setClassName = function () { this.className = hr().CLASS_BARD }, sr.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_BARD, this.classFeatLevels = new Int32Array([2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, sr.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_BARD }, sr.prototype.setHP = function () { this.hp = 8 }, sr.prototype.setPerceptionProficiency = function () { this.profPerception = 4 }, sr.prototype.setSaveProficiencies = function () { this.profFortitude = 2, this.profReflex = 2, this.profWill = 4 }, sr.prototype.setNumSkills = function () { this.listClassTrainedSkills.add_11rb$(pK().OCCULTISM), this.listClassTrainedSkills.add_11rb$(pK().PERFORMANCE), this.numSkills = 4 }, sr.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.listProficientWeapons.add_11rb$("Longsword"), this.listProficientWeapons.add_11rb$("Rapier"), this.listProficientWeapons.add_11rb$("Sap"), this.listProficientWeapons.add_11rb$("Shortsword"), this.listProficientWeapons.add_11rb$("Shortbow"), this.listProficientWeapons.add_11rb$("Composite Shortbow"), this.listProficientWeapons.add_11rb$("Whip") }, sr.prototype.setArmorProficiencies = function () { this.profArmorLight = 2 }, lr.prototype.activateClass_s8e943$ = function (t, e, i) { var a; for (re().increaseFocusPoints_sfpo92$(t, i, "Counter Performance", DW(1, 1)), this.this$ClassBard.setClassProficiencyAtLevel_8d16k4$(t, i, "Lightning Reflexes", 3, pK().PROFICIENCY_REFLEX, 4), this.this$ClassBard.setClassProficiencyAtLevel_8d16k4$(t, i, "Great Fortitude", 9, pK().PROFICIENCY_FORTITUDE, 4), this.this$ClassBard.setClassProficiencyAtLevel_8d16k4$(t, i, "Resolve", 9, pK().PROFICIENCY_WILL, 6), this.this$ClassBard.setClassProficiencyAtLevel_8d16k4$(t, i, "Bard Weapon Expertise", 11, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassBard.setClassProficiencyAtLevel_8d16k4$(t, i, "Bard Weapon Expertise", 11, pK().PROFICIENCY_UNARMED_ATTACKS, 4), a = this.this$ClassBard.listProficientWeapons.iterator(); a.hasNext();) { var r = a.next(); re().setIndividualWeaponProficiency_ivgu3l$(t, e, i, "Bard Weapon Expertise", 11, r, 4) } this.this$ClassBard.setClassProficiencyAtLevel_8d16k4$(t, i, "Vigilent Senses", 11, pK().PROFICIENCY_PERCEPTION, 6), this.this$ClassBard.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassBard.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassBard.setClassProficiencyAtLevel_8d16k4$(t, i, "Greater Resolve", 17, pK().PROFICIENCY_WILL, 8) }, lr.$metadata$ = { kind: p, interfaces: [Dn] }, sr.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([5])), this.listAwardedPowers.add_11rb$(P0("Inspire Courage", 1, 0)), this.listAwardedPowers.add_11rb$(P0("Counter Performance", 1, 1)), this.hasFocusPoints = !0, this.classDirectCalls = new lr(this) }, sr.prototype.addSpellCaster_ryqv3o$ = function (t, e) { if (t) { var i = new T3; i.addSpellsPerDayAdjustment_3dm4w3$(t, "Standard Repetoire", new O2(18, 10, 1)); var a = e.hashMapSpellCasters, r = hr().CLASS_BARD; a.put_xwzc9p$(r, i) } else e.hashMapSpellCasters.remove_11rb$(hr().CLASS_BARD); var n = hr().CLASS_BARD, s = e.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_OCCULT); t ? (o(s).setProficiencyAtLevel_3m52m6$(n, 1, 2), s.setProficiencyAtLevel_3m52m6$(n + "Expert", 7, 4), s.setProficiencyAtLevel_3m52m6$(n + "Master", 15, 6), s.setProficiencyAtLevel_3m52m6$(n + "Legendary", 19, 8)) : (o(s).removeProficiencyAtLevel_61zpoe$(n), s.removeProficiencyAtLevel_61zpoe$(n + "Expert"), s.removeProficiencyAtLevel_61zpoe$(n + "Master"), s.removeProficiencyAtLevel_61zpoe$(n + "Legendary")) }, sr.prototype.setClassSpecials_t1mzv0$ = function (t) { SJ().setSpecialMethods_sfkw43$(o(t)) }, cr.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var pr = null; function hr() { return null === pr && new cr, pr } function dr() { yr(), Nn.call(this) } function ur(t) { this.this$ClassChampion = t } function _r() { fr = this, this.CLASS_CHAMPION = "Champion" } sr.$metadata$ = { kind: p, simpleName: "ClassBard", interfaces: [Nn] }, dr.prototype.setClassName = function () { this.className = yr().CLASS_CHAMPION }, dr.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_CHAMPION, this.classFeatLevels = new Int32Array([1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, dr.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_CHAMPION }, dr.prototype.setHP = function () { this.hp = 10 }, dr.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, dr.prototype.setSaveProficiencies = function () { this.profFortitude = 4, this.profReflex = 2, this.profWill = 4 }, dr.prototype.setNumSkills = function () { this.listClassTrainedSkills.add_11rb$(pK().RELIGION), this.classFreeChoiceSkillTraining = !0, this.numSkills = 2 }, dr.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.profWeaponMartial = 2 }, dr.prototype.setArmorProficiencies = function () { this.profArmorLight = 2, this.profArmorMedium = 2, this.profArmorHeavy = 2 }, ur.prototype.activateClass_s8e943$ = function (t, e, i) { e.managerFeats.activateAndAddFreeFeat_ubuv6q$(i, t, "Champion Shield Block", "GENERAL_Shield Block", se().FEATS_GENERAL, 1), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_MARTIAL_WEAPONS, 4), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Expertise", 7, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Expertise", 7, pK().PROFICIENCY_MEDIUM_ARMOR, 4), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Expertise", 7, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Expertise", 7, pK().PROFICIENCY_HEAVY_ARMOR, 4), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Juggernaut", 9, pK().PROFICIENCY_FORTITUDE, 6), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Lightning Reflexes", 9, pK().PROFICIENCY_REFLEX, 4), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Divine Will", 11, pK().PROFICIENCY_WILL, 6), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Alterness", 11, pK().PROFICIENCY_PERCEPTION, 4), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Mastery", 13, pK().PROFICIENCY_LIGHT_ARMOR, 6), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Mastery", 13, pK().PROFICIENCY_MEDIUM_ARMOR, 6), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Mastery", 13, pK().PROFICIENCY_UNARMORED, 6), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Mastery", 13, pK().PROFICIENCY_HEAVY_ARMOR, 6), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_SIMPLE_WEAPONS, 6), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_UNARMED_ATTACKS, 6), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_MARTIAL_WEAPONS, 6), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Legendary", 17, pK().PROFICIENCY_LIGHT_ARMOR, 8), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Legendary", 17, pK().PROFICIENCY_MEDIUM_ARMOR, 8), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Legendary", 17, pK().PROFICIENCY_UNARMORED, 8), this.this$ClassChampion.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Legendary", 17, pK().PROFICIENCY_HEAVY_ARMOR, 8), re().increaseFocusPoints_sfpo92$(t, i, "Hero's Defiance", DW(19, 1)), re().addAwardedPower_ujte31$(t, i, "Hero's Defiance", P0("Hero's Defiance", 19, 1)) }, ur.$metadata$ = { kind: p, interfaces: [Dn] }, dr.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([0, 1])), this.hasFocusPoints = !0, this.classMasteryLevels = new Int32Array([1, 9, 17, 21]), this.classDirectCalls = new ur(this) }, dr.prototype.addSpellCaster_ryqv3o$ = function (t, i) { var a = yr().CLASS_CHAMPION, r = i.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_DIVINE); try { t ? (o(r).setProficiencyAtLevel_3m52m6$(a, 1, 2), r.setProficiencyAtLevel_3m52m6$(a + "Expert", 9, 4), r.setProficiencyAtLevel_3m52m6$(a + "Master", 17, 6)) : (o(r).removeProficiencyAtLevel_61zpoe$(a), r.removeProficiencyAtLevel_61zpoe$(a + "Expert"), r.removeProficiencyAtLevel_61zpoe$(a + "Master")) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, dr.prototype.setClassSpecials_t1mzv0$ = function (t) { RJ().setSpecialMethods_sfkw43$(o(t)) }, _r.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var fr = null; function yr() { return null === fr && new _r, fr } function mr() { Sr(), Nn.call(this) } function $r(t) { this.this$ClassCleric = t } function gr() { vr = this, this.CLASS_CLERIC = "Cleric" } dr.$metadata$ = { kind: p, simpleName: "ClassChampion", interfaces: [Nn] }, mr.prototype.setClassName = function () { this.className = Sr().CLASS_CLERIC }, mr.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_CLERIC, this.classFeatLevels = new Int32Array([2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, mr.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_CLERIC }, mr.prototype.setHP = function () { this.hp = 8 }, mr.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, mr.prototype.setSaveProficiencies = function () { this.profFortitude = 2, this.profReflex = 2, this.profWill = 4 }, mr.prototype.setNumSkills = function () { this.numSkills = 2, this.listClassTrainedSkills.add_11rb$(pK().RELIGION), this.classFreeChoiceSkillTraining = !0 }, mr.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2 }, mr.prototype.setArmorProficiencies = function () { }, $r.prototype.activateClass_s8e943$ = function (t, e, i) { this.this$ClassCleric.setClassProficiencyAtLevel_8d16k4$(t, i, "Alterness", 5, pK().PROFICIENCY_PERCEPTION, 4), this.this$ClassCleric.setClassProficiencyAtLevel_8d16k4$(t, i, "Resolve", 9, pK().PROFICIENCY_WILL, 6), this.this$ClassCleric.setClassProficiencyAtLevel_8d16k4$(t, i, "Lightning Reflexes", 11, pK().PROFICIENCY_REFLEX, 4), this.this$ClassCleric.setClassProficiencyAtLevel_8d16k4$(t, i, "Divine Defense", 13, pK().PROFICIENCY_UNARMORED, 4) }, $r.$metadata$ = { kind: p, interfaces: [Dn] }, mr.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([4])), this.classDirectCalls = new $r(this) }, mr.prototype.addSpellCaster_ryqv3o$ = function (t, e) { if (t) { var i = e.hashMapSpellCasters, a = Sr().CLASS_CLERIC, r = new x3; i.put_xwzc9p$(a, r); var n = e.hashMapSpellCasters, s = j3().CASTER_CLERIC_FONT, l = new z3; n.put_xwzc9p$(s, l) } else e.hashMapSpellCasters.remove_11rb$(Sr().CLASS_CLERIC), e.hashMapSpellCasters.remove_11rb$(j3().CASTER_CLERIC_FONT); var c = Sr().CLASS_CLERIC, p = e.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_DIVINE); t ? o(p).setProficiencyAtLevel_3m52m6$(c, 1, 2) : o(p).removeProficiencyAtLevel_61zpoe$(c) }, mr.prototype.setClassSpecials_t1mzv0$ = function (t) { FJ().setSpecialMethods_sfkw43$(o(t)) }, gr.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var vr = null; function Sr() { return null === vr && new gr, vr } function Cr() { Ir(), Nn.call(this) } function Er(t) { this.this$ClassDruid = t } function Ar() { br = this, this.CLASS_DRUID = "Druid" } mr.$metadata$ = { kind: p, simpleName: "ClassCleric", interfaces: [Nn] }, Cr.prototype.setClassName = function () { this.className = Ir().CLASS_DRUID }, Cr.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_DRUID, this.classFeatLevels = new Int32Array([2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, Cr.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_DRUID }, Cr.prototype.setHP = function () { this.hp = 8 }, Cr.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, Cr.prototype.setSaveProficiencies = function () { this.profFortitude = 2, this.profReflex = 2, this.profWill = 4 }, Cr.prototype.setNumSkills = function () { this.numSkills = 2, this.listClassTrainedSkills.add_11rb$(pK().NATURE) }, Cr.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2 }, Cr.prototype.setArmorProficiencies = function () { this.profArmorLight = 2, this.profArmorMedium = 2 }, Er.prototype.activateClass_s8e943$ = function (t, e, i) { e.managerFeats.activateAndAddFreeFeat_ubuv6q$(i, t, "Druid Shield Block", "GENERAL_Shield Block", se().FEATS_GENERAL, 1), this.this$ClassDruid.setClassProficiencyAtLevel_8d16k4$(t, i, "Alertness", 3, pK().PROFICIENCY_PERCEPTION, 4), this.this$ClassDruid.setClassProficiencyAtLevel_8d16k4$(t, i, "Great Fortitude", 3, pK().PROFICIENCY_FORTITUDE, 4), this.this$ClassDruid.setClassProficiencyAtLevel_8d16k4$(t, i, "Lightning Reflexes", 5, pK().PROFICIENCY_REFLEX, 4), this.this$ClassDruid.setClassProficiencyAtLevel_8d16k4$(t, i, "Druid Weapon Expertise", 11, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassDruid.setClassProficiencyAtLevel_8d16k4$(t, i, "Druid Weapon Expertise", 11, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassDruid.setClassProficiencyAtLevel_8d16k4$(t, i, "Resolve", 11, pK().PROFICIENCY_WILL, 6), this.this$ClassDruid.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 13, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassDruid.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 13, pK().PROFICIENCY_MEDIUM_ARMOR, 4), this.this$ClassDruid.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 13, pK().PROFICIENCY_UNARMORED, 4) }, Er.$metadata$ = { kind: p, interfaces: [Dn] }, Cr.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([4])), this.hasFocusPoints = !0, this.classDirectCalls = new Er(this) }, Cr.prototype.addSpellCaster_ryqv3o$ = function (t, e) { if (t) { var i = e.hashMapSpellCasters, a = Ir().CLASS_DRUID, r = new X3; i.put_xwzc9p$(a, r) } else e.hashMapSpellCasters.remove_11rb$(Ir().CLASS_DRUID); var n = Ir().CLASS_DRUID, s = e.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_PRIMAL); t ? (o(s).setProficiencyAtLevel_3m52m6$(n, 1, 2), s.setProficiencyAtLevel_3m52m6$(n + "Expert", 7, 4), s.setProficiencyAtLevel_3m52m6$(n + "Master", 15, 6), s.setProficiencyAtLevel_3m52m6$(n + "Legendary", 19, 8)) : (o(s).removeProficiencyAtLevel_61zpoe$(n), s.removeProficiencyAtLevel_61zpoe$(n + "Expert"), s.removeProficiencyAtLevel_61zpoe$(n + "Master"), s.removeProficiencyAtLevel_61zpoe$(n + "Legendary")) }, Cr.prototype.setClassSpecials_t1mzv0$ = function (t) { XJ().setSpecialMethods_sfkw43$(o(t)) }, Ar.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var br = null; function Ir() { return null === br && new Ar, br } function wr() { Rr(), Nn.call(this) } function Lr(t) { this.this$ClassFighter = t } function Tr() { kr = this, this.CLASS_FIGHTER = "Fighter" } Cr.$metadata$ = { kind: p, simpleName: "ClassDruid", interfaces: [Nn] }, wr.prototype.setClassName = function () { this.className = Rr().CLASS_FIGHTER }, wr.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_FIGHTER, this.classFeatLevels = new Int32Array([1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, wr.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_FIGHTER }, wr.prototype.setHP = function () { this.hp = 10 }, wr.prototype.setPerceptionProficiency = function () { this.profPerception = 4 }, wr.prototype.setSaveProficiencies = function () { this.profFortitude = 4, this.profReflex = 4, this.profWill = 2 }, wr.prototype.setNumSkills = function () { this.numSkills = 3, this.listClassChoiceSkillTraining.add_11rb$(pK().ATHELTICS), this.listClassChoiceSkillTraining.add_11rb$(pK().ACROBATICS) }, wr.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 4, this.profWeaponMartial = 4, this.profWeaponAdvanced = 2, this.profWeaponUnarmed = 4 }, wr.prototype.setArmorProficiencies = function () { this.profArmorLight = 2, this.profArmorMedium = 2, this.profArmorHeavy = 2 }, Lr.prototype.activateClass_s8e943$ = function (t, e, i) { e.managerFeats.activateAndAddFreeFeat_ubuv6q$(i, t, "Shield Block", "GENERAL_Shield Block", se().FEATS_GENERAL, 1), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Bravery", 3, pK().PROFICIENCY_WILL, 4), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Battlefield Survivor", 7, pK().PROFICIENCY_PERCEPTION, 6), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Juggernaut", 9, pK().PROFICIENCY_FORTITUDE, 6), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Expertise", 11, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Expertise", 11, pK().PROFICIENCY_MEDIUM_ARMOR, 4), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Expertise", 11, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Expertise", 11, pK().PROFICIENCY_HEAVY_ARMOR, 4), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Legend", 13, pK().PROFICIENCY_SIMPLE_WEAPONS, 6), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Legend", 13, pK().PROFICIENCY_MARTIAL_WEAPONS, 6), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Legend", 13, pK().PROFICIENCY_ADVANCED_WEAPONS, 4), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Legend", 13, pK().PROFICIENCY_UNARMED_ATTACKS, 6), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Evasion", 15, pK().PROFICIENCY_REFLEX, 6), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Mastery", 17, pK().PROFICIENCY_LIGHT_ARMOR, 6), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Mastery", 17, pK().PROFICIENCY_MEDIUM_ARMOR, 6), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Mastery", 17, pK().PROFICIENCY_UNARMORED, 6), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Armor Mastery", 17, pK().PROFICIENCY_HEAVY_ARMOR, 6), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Versatile Legend", 19, pK().PROFICIENCY_SIMPLE_WEAPONS, 8), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Versatile Legend", 19, pK().PROFICIENCY_MARTIAL_WEAPONS, 8), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Versatile Legend", 19, pK().PROFICIENCY_ADVANCED_WEAPONS, 6), this.this$ClassFighter.setClassProficiencyAtLevel_8d16k4$(t, i, "Versatile Legend", 19, pK().PROFICIENCY_UNARMED_ATTACKS, 8) }, Lr.$metadata$ = { kind: p, interfaces: [Dn] }, wr.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([0, 1])), this.classMasteryLevels = new Int32Array([1, 11, 19, 21]), this.classDirectCalls = new Lr(this) }, wr.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, wr.prototype.setClassSpecials_t1mzv0$ = function (t) { iZ().setSpecialMethods_sfkw43$(o(t)) }, Tr.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var kr = null; function Rr() { return null === kr && new Tr, kr } function Pr() { xr(), Nn.call(this) } function Mr(t) { this.this$ClassGunslinger = t } function Nr() { Dr = this, this.CLASS_NAME = "Gunslinger" } wr.$metadata$ = { kind: p, simpleName: "ClassFighter", interfaces: [Nn] }, Pr.prototype.setClassName = function () { this.className = xr().CLASS_NAME }, Pr.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_GUNSLINGER, this.classFeatLevels = new Int32Array([1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, Pr.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_GUNSLINGER }, Pr.prototype.setHP = function () { this.hp = 8 }, Pr.prototype.setPerceptionProficiency = function () { this.profPerception = 4 }, Pr.prototype.setSaveProficiencies = function () { this.profFortitude = 4, this.profReflex = 4, this.profWill = 2 }, Pr.prototype.setNumSkills = function () { this.numSkills = 3 }, Pr.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.profWeaponMartial = 2, this.profWeaponUnarmed = 2 }, Pr.prototype.setArmorProficiencies = function () { this.profArmorLight = 2, this.profArmorMedium = 2 }, Mr.prototype.activateClass_s8e943$ = function (t, e, i) { var a, r, n; re().setWeaponGroupProficiency_93ffk6$(t, e, i, "Gunslinger level 1a", 1, "Firearm", 4, 0), re().setWeaponGroupProficiency_93ffk6$(t, e, i, "Gunslinger level 1b", 1, "Firearm", 4, 1), re().setWeaponGroupProficiency_93ffk6$(t, e, i, "Gunslinger level 1c", 1, "Firearm", 2, 2); var s = u(); for (a = e.managerWeapons.hashMapWeapons.values.iterator(); a.hasNext();) { var l = a.next(); X0().isACrossbow_pdl1vj$(l.name) ? 2 === l.proficiencyType ? re().setIndividualWeaponProficiency_ivgu3l$(t, e, i, "Gunslinger 1", 1, l.name, 2) : re().setIndividualWeaponProficiency_ivgu3l$(t, e, i, "Gunslinger 1", 1, l.name, 4) : m(l.group, "Firearm") && null != l.uniqueIdentiier && s.add_11rb$(o(l.uniqueIdentiier)) } for (re().addDamageIncreaseItem_dmcalk$(i, t, "Singular Focus", t1(1, b(s), null, 1, se().BONUS_TYPE_NAME_CIRCUMSTANCE, "Singular Focus applied")), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Stubborn", 3, pK().PROFICIENCY_WILL, 4), re().setWeaponGroupProficiency_93ffk6$(t, e, i, "Gunslinger level 5a", 5, "Firearm", 6, 0), re().setWeaponGroupProficiency_93ffk6$(t, e, i, "Gunslinger level 5b", 5, "Firearm", 6, 1), re().setWeaponGroupProficiency_93ffk6$(t, e, i, "Gunslinger level 5c", 5, "Firearm", 4, 2), r = e.managerWeapons.hashMapWeapons.values.iterator(); r.hasNext();) { var c = r.next(); X0().isACrossbow_pdl1vj$(c.name) && (2 === c.proficiencyType ? re().setIndividualWeaponProficiency_ivgu3l$(t, e, i, "Gunslinger 5", 5, c.name, 4) : re().setIndividualWeaponProficiency_ivgu3l$(t, e, i, "Gunslinger 5", 5, c.name, 6)) } for (this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Gunslinger Weapon Expertise", 5, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Gunslinger Weapon Expertise", 5, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Gunslinger Weapon Expertise", 5, pK().PROFICIENCY_MARTIAL_WEAPONS, 4), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Vigilant Senses", 7, pK().PROFICIENCY_PERCEPTION, 6), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Evasion", 11, pK().PROFICIENCY_REFLEX, 6), re().setWeaponGroupProficiency_93ffk6$(t, e, i, "Gunslinger level 13a", 13, "Firearm", 8, 0), re().setWeaponGroupProficiency_93ffk6$(t, e, i, "Gunslinger level 13b", 13, "Firearm", 8, 1), re().setWeaponGroupProficiency_93ffk6$(t, e, i, "Gunslinger level 13c", 13, "Firearm", 6, 2), n = e.managerWeapons.hashMapWeapons.values.iterator(); n.hasNext();) { var p = n.next(); X0().isACrossbow_pdl1vj$(p.name) && (2 === p.proficiencyType ? re().setIndividualWeaponProficiency_ivgu3l$(t, e, i, "Gunslinger 13", 13, p.name, 6) : re().setIndividualWeaponProficiency_ivgu3l$(t, e, i, "Gunslinger 13", 13, p.name, 8)) } this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 13, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 13, pK().PROFICIENCY_MEDIUM_ARMOR, 4), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Incredible Senses", 19, pK().PROFICIENCY_PERCEPTION, 8), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Juggernaut", 17, pK().PROFICIENCY_FORTITUDE, 6), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Mastery", 19, pK().PROFICIENCY_LIGHT_ARMOR, 6), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Mastery", 19, pK().PROFICIENCY_MEDIUM_ARMOR, 6), this.this$ClassGunslinger.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Mastery", 19, pK().PROFICIENCY_UNARMORED, 6) }, Mr.$metadata$ = { kind: p, interfaces: [Dn] }, Pr.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([1])), this.classMasteryLevels = new Int32Array([1, 9, 17, 21]), this.classDirectCalls = new Mr(this) }, Pr.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, Pr.prototype.setClassSpecials_t1mzv0$ = function (t) { pZ().setSpecialMethods_sfkw43$(o(t)) }, Nr.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Dr = null; function xr() { return null === Dr && new Nr, Dr } function zr() { jr(), Nn.call(this) } function Or(t) { this.this$ClassInventor = t } function Fr() { Br = this, this.CLASS_NAME = "Inventor" } Pr.$metadata$ = { kind: p, simpleName: "ClassGunslinger", interfaces: [Nn] }, zr.prototype.setClassName = function () { this.className = jr().CLASS_NAME }, zr.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_INVENTOR, this.classFeatLevels = new Int32Array([1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, zr.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_INVENTOR }, zr.prototype.setHP = function () { this.hp = 8 }, zr.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, zr.prototype.setSaveProficiencies = function () { this.profFortitude = 4, this.profReflex = 2, this.profWill = 4 }, zr.prototype.setNumSkills = function () { this.listClassTrainedSkills.add_11rb$(pK().CRAFTING), this.numSkills = 3 }, zr.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.profWeaponMartial = 2, this.profWeaponUnarmed = 2 }, zr.prototype.setArmorProficiencies = function () { this.profArmorLight = 2, this.profArmorMedium = 2 }, Or.prototype.activateClass_s8e943$ = function (t, e, i) { e.managerFeats.activateAndAddFreeFeat_ubuv6q$(i, t, "Inventor Shield Block", "GENERAL_Shield Block", se().FEATS_GENERAL, 1), e.managerFeats.activateAndAddFreeFeat_ubuv6q$(i, t, "Peerless Inventor", "GENERAL_Inventor", se().FEATS_GENERAL, 1), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Expert Overdrive", 3, pK().CRAFTING, 4), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Inventor Weapon Expertise", 5, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Inventor Weapon Expertise", 5, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Inventor Weapon Expertise", 5, pK().PROFICIENCY_MARTIAL_WEAPONS, 4), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Lightning Reflexes", 7, pK().PROFICIENCY_REFLEX, 4), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Master Overdrive", 7, pK().CRAFTING, 6), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 11, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 11, pK().PROFICIENCY_MEDIUM_ARMOR, 4), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 11, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Resolve", 11, pK().PROFICIENCY_WILL, 6), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Alertness", 13, pK().PROFICIENCY_PERCEPTION, 4), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Inventor Weapon Mastery", 13, pK().PROFICIENCY_SIMPLE_WEAPONS, 6), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Inventor Weapon Mastery", 13, pK().PROFICIENCY_UNARMED_ATTACKS, 6), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Inventor Weapon Mastery", 13, pK().PROFICIENCY_MARTIAL_WEAPONS, 6), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Legendary Overdrive", 15, pK().CRAFTING, 8), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Juggernaut", 17, pK().PROFICIENCY_FORTITUDE, 6), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Mastery", 19, pK().PROFICIENCY_LIGHT_ARMOR, 6), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Mastery", 19, pK().PROFICIENCY_MEDIUM_ARMOR, 6), this.this$ClassInventor.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Mastery", 19, pK().PROFICIENCY_UNARMORED, 6) }, Or.$metadata$ = { kind: p, interfaces: [Dn] }, zr.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([3])), this.classMasteryLevels = new Int32Array([1, 9, 17, 21]), this.classDirectCalls = new Or(this) }, zr.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, zr.prototype.setClassSpecials_t1mzv0$ = function (t) { yZ().setSpecialMethods_sfkw43$(o(t)) }, Fr.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Br = null; function jr() { return null === Br && new Fr, Br } function Hr() { Wr(), Nn.call(this) } function qr(t) { this.this$ClassInvestigator = t } function Ur() { Gr = this, this.CLASS_NAME = "Investigator" } zr.$metadata$ = { kind: p, simpleName: "ClassInventor", interfaces: [Nn] }, Hr.prototype.setClassName = function () { this.className = Wr().CLASS_NAME }, Hr.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_INVESTIGATOR, this.classFeatLevels = new Int32Array([1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]), this.skillIncreaseLevels = new Int32Array([2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]) }, Hr.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_INVESTIGATOR }, Hr.prototype.setHP = function () { this.hp = 8 }, Hr.prototype.setPerceptionProficiency = function () { this.profPerception = 4 }, Hr.prototype.setSaveProficiencies = function () { this.profFortitude = 2, this.profReflex = 4, this.profWill = 4 }, Hr.prototype.setNumSkills = function () { this.listClassTrainedSkills.add_11rb$(pK().SOCIETY), this.numSkills = 4 }, Hr.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.profWeaponMartial = 2 }, Hr.prototype.setArmorProficiencies = function () { this.profArmorLight = 2 }, qr.prototype.activateClass_s8e943$ = function (t, e, i) { var a, r, n = u(); for (a = o(e.managerFeats.hashMapFeatsByCategory.get_11rb$(se().FEATS_GENERAL)).values.iterator(); a.hasNext();) { var s = a.next(); if (_(s.getTraits(), "Skill") && null != s.hashMapRequiredProficiences) for (r = o(s.hashMapRequiredProficiences).keys.iterator(); r.hasNext();) { var l = r.next(), c = i.getSkillProficiency_61zpoe$(o(l)); null != c && c.abilityRef >= 3 && n.add_11rb$(s.id) } } for (var p = 3; p <= 20;) { var h = "Skill Lessons " + p; re().addFeatChoice_afybq0$(t, e, i, h, this.this$ClassInvestigator.getSkillLessonFeatChoice_0(n, p)), p = p + 2 | 0 } this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_MARTIAL_WEAPONS, 4), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Vigilant Senses", 7, pK().PROFICIENCY_PERCEPTION, 6), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Great Fortitude", 9, pK().PROFICIENCY_FORTITUDE, 4), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Resolve", 11, pK().PROFICIENCY_WILL, 6), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Incredible Senses", 13, pK().PROFICIENCY_PERCEPTION, 8), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_SIMPLE_WEAPONS, 6), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_UNARMED_ATTACKS, 6), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_MARTIAL_WEAPONS, 6), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Evasion", 15, pK().PROFICIENCY_REFLEX, 6), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Greater Resolve", 17, pK().PROFICIENCY_WILL, 8), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Mastery", 19, pK().PROFICIENCY_LIGHT_ARMOR, 6), this.this$ClassInvestigator.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Mastery", 19, pK().PROFICIENCY_UNARMORED, 6) }, qr.$metadata$ = { kind: p, interfaces: [Dn] }, Hr.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([3])), this.classMasteryLevels = new Int32Array([1, 9, 19, 21]), this.classDirectCalls = new qr(this) }, Hr.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, Hr.prototype.setClassSpecials_t1mzv0$ = function (t) { bZ().setSpecialMethods_sfkw43$(o(t)) }, Hr.prototype.getSkillLessonFeatChoice_0 = function (t, e) { var i = Ru(); return i.specificHeader = "Skillful Lesson", i.level = e, i.featType = se().FEATS_SKILL, i.listFeatIDs = t, i }, Ur.prototype.isAlchemicalSciences_5btbp7$ = function (t) { var e = t.getCharacterData().getSpecialSelection_puj7f4$("Methodology", "Select Methodology"); return !(null == e || !m(e, "Alchemical Sciences")) }, Ur.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Gr = null; function Wr() { return null === Gr && new Ur, Gr } function Yr() { Jr(), Nn.call(this) } function Vr(t) { this.this$ClassMagus = t } function Kr() { Xr = this, this.CLASS_NAME = "Magus" } Hr.$metadata$ = { kind: p, simpleName: "ClassInvestigator", interfaces: [Nn] }, Yr.prototype.setClassName = function () { this.className = Jr().CLASS_NAME }, Yr.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_MAGUS, this.classFeatLevels = new Int32Array([2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, Yr.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_MAGUS }, Yr.prototype.setHP = function () { this.hp = 8 }, Yr.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, Yr.prototype.setSaveProficiencies = function () { this.profFortitude = 4, this.profReflex = 2, this.profWill = 4 }, Yr.prototype.setNumSkills = function () { this.listClassTrainedSkills.add_11rb$(pK().ARCANA), this.numSkills = 2 }, Yr.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.profWeaponMartial = 2, this.profWeaponUnarmed = 2 }, Yr.prototype.setArmorProficiencies = function () { this.profArmorLight = 2, this.profArmorMedium = 2 }, Vr.prototype.activateClass_s8e943$ = function (t, e, i) { re().increaseFocusPoints_sfpo92$(t, i, "Magus Pool", DW(1, 1)), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Lightning Reflexes", 5, pK().PROFICIENCY_REFLEX, 4), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_MARTIAL_WEAPONS, 4), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Alertness", 9, pK().PROFICIENCY_PERCEPTION, 4), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Resolve", 9, pK().PROFICIENCY_WILL, 6), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 11, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 11, pK().PROFICIENCY_MEDIUM_ARMOR, 4), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 11, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_SIMPLE_WEAPONS, 6), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_UNARMED_ATTACKS, 6), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_MARTIAL_WEAPONS, 6), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Juggernaut", 15, pK().PROFICIENCY_FORTITUDE, 6), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Mastery", 19, pK().PROFICIENCY_LIGHT_ARMOR, 6), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Mastery", 19, pK().PROFICIENCY_MEDIUM_ARMOR, 6), this.this$ClassMagus.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Mastery", 19, pK().PROFICIENCY_UNARMORED, 6) }, Vr.$metadata$ = { kind: p, interfaces: [Dn] }, Yr.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([0, 1])), this.classDirectCalls = new Vr(this) }, Yr.prototype.addSpellCaster_ryqv3o$ = function (t, e) { if (t) { var i = e.hashMapSpellCasters, a = Jr().CLASS_NAME, r = new a2; i.put_xwzc9p$(a, r) } else e.hashMapSpellCasters.remove_11rb$(Jr().CLASS_NAME); var n = Jr().CLASS_NAME, s = e.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_ARCANE); t ? (o(s).setProficiencyAtLevel_3m52m6$(n, 1, 2), s.setProficiencyAtLevel_3m52m6$(n + "Expert", 9, 4), s.setProficiencyAtLevel_3m52m6$(n + "Master", 17, 6)) : (o(s).removeProficiencyAtLevel_61zpoe$(n), s.removeProficiencyAtLevel_61zpoe$(n + "Expert"), s.removeProficiencyAtLevel_61zpoe$(n + "Master")) }, Yr.prototype.setClassSpecials_t1mzv0$ = function (t) { zZ().setSpecialMethods_sfkw43$(o(t)) }, Kr.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Xr = null; function Jr() { return null === Xr && new Kr, Xr } function Zr() { an(), Nn.call(this) } function Qr(t) { this.this$ClassMonk = t } function tn() { en = this, this.CLASS_MONK = "Monk" } Yr.$metadata$ = { kind: p, simpleName: "ClassMagus", interfaces: [Nn] }, Zr.prototype.setClassName = function () { this.className = an().CLASS_MONK }, Zr.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_MONK, this.classFeatLevels = new Int32Array([1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, Zr.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_MONK }, Zr.prototype.setHP = function () { this.hp = 10 }, Zr.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, Zr.prototype.setSaveProficiencies = function () { this.profFortitude = 4, this.profReflex = 4, this.profWill = 4 }, Zr.prototype.setNumSkills = function () { this.numSkills = 4 }, Zr.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.profWeaponUnarmed = 2 }, Zr.prototype.setArmorProficiencies = function () { this.profArmorUnarmored = 4 }, Qr.prototype.activateClass_s8e943$ = function (t, e, i) { re().addSpeedIncreaseItem_xs3ggp$(t, i, "Incredible Movement 1", qW(3, 10, new Int32Array([0, 1, 2]), 1)), re().addSpeedIncreaseItem_xs3ggp$(t, i, "Incredible Movement 2", qW(7, 15, new Int32Array([0, 1, 2]), 1)), re().addSpeedIncreaseItem_xs3ggp$(t, i, "Incredible Movement 3", qW(11, 20, new Int32Array([0, 1, 2]), 1)), re().addSpeedIncreaseItem_xs3ggp$(t, i, "Incredible Movement 4", qW(15, 25, new Int32Array([0, 1, 2]), 1)), re().addSpeedIncreaseItem_xs3ggp$(t, i, "Incredible Movement 5", qW(19, 30, new Int32Array([0, 1, 2]), 1)), this.this$ClassMonk.setClassProficiencyAtLevel_8d16k4$(t, i, "Alertness", 5, pK().PROFICIENCY_PERCEPTION, 4), this.this$ClassMonk.setClassProficiencyAtLevel_8d16k4$(t, i, "Expert Strikes", 5, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassMonk.setClassProficiencyAtLevel_8d16k4$(t, i, "Expert Strikes", 5, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassMonk.setClassProficiencyAtLevel_8d16k4$(t, i, "Graceful Mastery", 13, pK().PROFICIENCY_UNARMORED, 6), this.this$ClassMonk.setClassProficiencyAtLevel_8d16k4$(t, i, "Master Strikes", 13, pK().PROFICIENCY_SIMPLE_WEAPONS, 6), this.this$ClassMonk.setClassProficiencyAtLevel_8d16k4$(t, i, "Master Strikes", 13, pK().PROFICIENCY_UNARMED_ATTACKS, 6), this.this$ClassMonk.setClassProficiencyAtLevel_8d16k4$(t, i, "Graceful Legend", 17, pK().PROFICIENCY_UNARMORED, 8) }, Qr.$metadata$ = { kind: p, interfaces: [Dn] }, Zr.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([0, 1])), this.classMasteryLevels = new Int32Array([1, 9, 17, 21]), this.classDirectCalls = new Qr(this) }, Zr.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, Zr.prototype.setClassSpecials_t1mzv0$ = function (t) { qZ().setSpecialMethods_sfkw43$(o(t)) }, tn.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var en = null; function an() { return null === en && new tn, en } function rn() { ln(), Nn.call(this) } function nn(t) { this.this$ClassOracle = t } function on() { sn = this, this.CLASS_NAME = "Oracle" } Zr.$metadata$ = { kind: p, simpleName: "ClassMonk", interfaces: [Nn] }, rn.prototype.setClassName = function () { this.className = ln().CLASS_NAME }, rn.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_ORACLE, this.classFeatLevels = new Int32Array([2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, rn.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_ORACLE }, rn.prototype.setHP = function () { this.hp = 8 }, rn.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, rn.prototype.setSaveProficiencies = function () { this.profFortitude = 2, this.profReflex = 2, this.profWill = 4 }, rn.prototype.setNumSkills = function () { this.listClassTrainedSkills.add_11rb$(pK().RELIGION), this.numSkills = 3 }, rn.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2 }, rn.prototype.setArmorProficiencies = function () { this.profArmorLight = 2 }, nn.prototype.activateClass_s8e943$ = function (t, e, i) { re().increaseFocusPoints_sfpo92$(t, i, "Oracle Starting", DW(1, 2)), this.this$ClassOracle.setClassProficiencyAtLevel_8d16k4$(t, i, "Resolve", 7, pK().PROFICIENCY_WILL, 6), this.this$ClassOracle.setClassProficiencyAtLevel_8d16k4$(t, i, "Magical Fortitude", 9, pK().PROFICIENCY_FORTITUDE, 4), this.this$ClassOracle.setClassProficiencyAtLevel_8d16k4$(t, i, "Alertness", 11, pK().PROFICIENCY_PERCEPTION, 4), this.this$ClassOracle.setClassProficiencyAtLevel_8d16k4$(t, i, "Bard Weapon Expertise", 11, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassOracle.setClassProficiencyAtLevel_8d16k4$(t, i, "Bard Weapon Expertise", 11, pK().PROFICIENCY_UNARMED_ATTACKS, 4), re().increaseFocusPoints_sfpo92$(t, i, "Oracle Major Curse", DW(11, 1)), this.this$ClassOracle.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 11, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassOracle.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 11, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassOracle.setClassProficiencyAtLevel_8d16k4$(t, i, "Lightning Reflexes", 13, pK().PROFICIENCY_REFLEX, 4), this.this$ClassOracle.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassOracle.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassOracle.setClassProficiencyAtLevel_8d16k4$(t, i, "Greater Resolve", 17, pK().PROFICIENCY_WILL, 8) }, nn.$metadata$ = { kind: p, interfaces: [Dn] }, rn.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([5])), this.classDirectCalls = new nn(this) }, rn.prototype.addSpellCaster_ryqv3o$ = function (t, e) { if (t) { var i = new r2; i.addSpellsPerDayAdjustment_3dm4w3$(t, "Standard Repetoire", new O2(18, 10, 1)); var a = e.hashMapSpellCasters, r = ln().CLASS_NAME; a.put_xwzc9p$(r, i) } else e.hashMapSpellCasters.remove_11rb$(ln().CLASS_NAME); var n = ln().CLASS_NAME, s = e.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_DIVINE); t ? (o(s).setProficiencyAtLevel_3m52m6$(n, 1, 2), s.setProficiencyAtLevel_3m52m6$(n + "Expert", 7, 4), s.setProficiencyAtLevel_3m52m6$(n + "Master", 15, 6), s.setProficiencyAtLevel_3m52m6$(n + "Legendary", 19, 8)) : (o(s).removeProficiencyAtLevel_61zpoe$(n), s.removeProficiencyAtLevel_61zpoe$(n + "Expert"), s.removeProficiencyAtLevel_61zpoe$(n + "Master"), s.removeProficiencyAtLevel_61zpoe$(n + "Legendary")) }, rn.prototype.setClassSpecials_t1mzv0$ = function (t) { oQ().setSpecialMethods_sfkw43$(o(t)) }, on.prototype.getMystery_5btbp7$ = function (t) { return t.getCharacterData().getSpecialSelection_puj7f4$("Mystery", "Select Mystery") }, on.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var sn = null; function ln() { return null === sn && new on, sn } function cn() { un(), Nn.call(this) } function pn(t) { this.this$ClassRanger = t } function hn() { dn = this, this.CLASS_RANGER = "Ranger" } rn.$metadata$ = { kind: p, simpleName: "ClassOracle", interfaces: [Nn] }, cn.prototype.setClassName = function () { this.className = un().CLASS_RANGER }, cn.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_RANGER, this.classFeatLevels = new Int32Array([1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, cn.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_RANGER }, cn.prototype.setHP = function () { this.hp = 10 }, cn.prototype.setPerceptionProficiency = function () { this.profPerception = 4 }, cn.prototype.setSaveProficiencies = function () { this.profFortitude = 4, this.profReflex = 4, this.profWill = 2 }, cn.prototype.setNumSkills = function () { this.numSkills = 4, this.listClassTrainedSkills.add_11rb$(pK().NATURE), this.listClassTrainedSkills.add_11rb$(pK().SURVIVAL) }, cn.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.profWeaponMartial = 2 }, cn.prototype.setArmorProficiencies = function () { this.profArmorLight = 2, this.profArmorMedium = 2 }, pn.prototype.activateClass_s8e943$ = function (t, e, i) { this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Iron Will", 3, pK().PROFICIENCY_WILL, 4), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_MARTIAL_WEAPONS, 4), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Evasion", 7, pK().PROFICIENCY_REFLEX, 6), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Vigilant Senses", 7, pK().PROFICIENCY_PERCEPTION, 6), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Juggernaut", 11, pK().PROFICIENCY_FORTITUDE, 6), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 11, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 11, pK().PROFICIENCY_MEDIUM_ARMOR, 4), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Medium Armor Expertise", 11, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_SIMPLE_WEAPONS, 6), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_UNARMED_ATTACKS, 6), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_MARTIAL_WEAPONS, 6), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Improved Evasion", 15, pK().PROFICIENCY_REFLEX, 8), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Incredible Senses", 15, pK().PROFICIENCY_PERCEPTION, 8), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Second Skin", 19, pK().PROFICIENCY_LIGHT_ARMOR, 6), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Second Skin", 19, pK().PROFICIENCY_MEDIUM_ARMOR, 6), this.this$ClassRanger.setClassProficiencyAtLevel_8d16k4$(t, i, "Second Skin", 19, pK().PROFICIENCY_UNARMORED, 6) }, pn.$metadata$ = { kind: p, interfaces: [Dn] }, cn.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([0, 1])), this.classMasteryLevels = new Int32Array([1, 9, 17, 21]), this.classDirectCalls = new pn(this) }, cn.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, cn.prototype.setClassSpecials_t1mzv0$ = function (t) { pQ().setSpecialMethods_sfkw43$(o(t)) }, hn.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var dn = null; function un() { return null === dn && new hn, dn } function _n() { $n(), Nn.call(this) } function fn(t) { this.this$ClassRogue = t } function yn() { mn = this, this.CLASS_ROGUE = "Rogue" } cn.$metadata$ = { kind: p, simpleName: "ClassRanger", interfaces: [Nn] }, _n.prototype.setClassName = function () { this.className = $n().CLASS_ROGUE }, _n.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_ROGUE, this.classFeatLevels = new Int32Array([1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]), this.skillFeatLevels = new Int32Array([1, 3, 5, 7, 9, 11, 13, 15, 17, 19]), this.skillIncreaseLevels = new Int32Array([2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]) }, _n.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_ROGUE }, _n.prototype.setHP = function () { this.hp = 8 }, _n.prototype.setPerceptionProficiency = function () { this.profPerception = 4 }, _n.prototype.setSaveProficiencies = function () { this.profFortitude = 2, this.profReflex = 4, this.profWill = 4 }, _n.prototype.setNumSkills = function () { this.listClassTrainedSkills.add_11rb$(pK().STEALTH), this.numSkills = 7 }, _n.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.listProficientWeapons.add_11rb$("Rapier"), this.listProficientWeapons.add_11rb$("Sap"), this.listProficientWeapons.add_11rb$("Shortsword"), this.listProficientWeapons.add_11rb$("Shortbow"), this.listProficientWeapons.add_11rb$("Composite Shortbow") }, _n.prototype.setArmorProficiencies = function () { this.profArmorLight = 2 }, fn.prototype.activateClass_s8e943$ = function (t, e, i) { var a, r; this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_UNARMED_ATTACKS, 4); var n = ["Rapier", "Sap", "Shortbow", "Shortsword", "Composite Shortbow"]; for (a = 0; a !== n.length; ++a) { var o = n[a]; re().setIndividualWeaponProficiency_ivgu3l$(t, e, i, "Weapon Expertise", 5, o, 4) } for (this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Evasion", 7, pK().PROFICIENCY_REFLEX, 6), this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Vigilant Senses", 7, pK().PROFICIENCY_PERCEPTION, 6), this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Great Fortitude", 9, pK().PROFICIENCY_FORTITUDE, 4), this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Improved Evasion", 13, pK().PROFICIENCY_REFLEX, 8), this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Incredible Senses", 13, pK().PROFICIENCY_PERCEPTION, 8), this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Master Tricks", 13, pK().PROFICIENCY_SIMPLE_WEAPONS, 6), this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Master Tricks", 13, pK().PROFICIENCY_UNARMED_ATTACKS, 6), r = 0; r !== n.length; ++r) { var s = n[r]; re().setIndividualWeaponProficiency_ivgu3l$(t, e, i, "Master Tricks", 13, s, 6) } this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Slippery Mind", 17, pK().PROFICIENCY_WILL, 6), this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Mastery", 19, pK().PROFICIENCY_LIGHT_ARMOR, 6), this.this$ClassRogue.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Mastery", 19, pK().PROFICIENCY_UNARMORED, 6) }, fn.$metadata$ = { kind: p, interfaces: [Dn] }, _n.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([0, 1, 3, 4, 5])), this.classMasteryLevels = new Int32Array([1, 11, 19, 21]), this.classDirectCalls = new fn(this) }, _n.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, _n.prototype.setClassSpecials_t1mzv0$ = function (t) { gQ().setSpecialMethods_sfkw43$(o(t)) }, yn.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var mn = null; function $n() { return null === mn && new yn, mn } function gn() { En(), Nn.call(this) } function vn(t) { this.this$ClassSorcerer = t } function Sn() { Cn = this, this.CLASS_SORCERER = "Sorcerer" } _n.$metadata$ = { kind: p, simpleName: "ClassRogue", interfaces: [Nn] }, gn.prototype.setClassName = function () { this.className = En().CLASS_SORCERER }, gn.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_SORCERER, this.classFeatLevels = new Int32Array([2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, gn.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_SORCERER }, gn.prototype.setHP = function () { this.hp = 6 }, gn.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, gn.prototype.setSaveProficiencies = function () { this.profFortitude = 2, this.profReflex = 2, this.profWill = 4 }, gn.prototype.setNumSkills = function () { this.numSkills = 2 }, gn.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2 }, gn.prototype.setArmorProficiencies = function () { }, vn.prototype.activateClass_s8e943$ = function (t, e, i) { this.this$ClassSorcerer.setClassProficiencyAtLevel_8d16k4$(t, i, "Magical Fortitude", 5, pK().PROFICIENCY_FORTITUDE, 4), this.this$ClassSorcerer.setClassProficiencyAtLevel_8d16k4$(t, i, "Lightning Reflexes", 9, pK().PROFICIENCY_REFLEX, 4), this.this$ClassSorcerer.setClassProficiencyAtLevel_8d16k4$(t, i, "Alertness", 11, pK().PROFICIENCY_PERCEPTION, 4), this.this$ClassSorcerer.setClassProficiencyAtLevel_8d16k4$(t, i, "Simple Weapon Expertise", 11, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassSorcerer.setClassProficiencyAtLevel_8d16k4$(t, i, "Simple Weapon Expertise", 11, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassSorcerer.setClassProficiencyAtLevel_8d16k4$(t, i, "Defensive Robes", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassSorcerer.setClassProficiencyAtLevel_8d16k4$(t, i, "Resolve", 17, pK().PROFICIENCY_WILL, 6) }, vn.$metadata$ = { kind: p, interfaces: [Dn] }, gn.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([5])), this.hasFocusPoints = !0, this.focusPointAbilityRef = 5, this.classDirectCalls = new vn(this) }, gn.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, gn.prototype.setClassSpecials_t1mzv0$ = function (t) { bQ().setSpecialMethods_sfkw43$(o(t)) }, Sn.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Cn = null; function En() { return null === Cn && new Sn, Cn } function An() { Ln(), Nn.call(this) } function bn(t) { this.this$ClassSummoner = t } function In() { wn = this, this.CLASS_NAME = "Summoner" } gn.$metadata$ = { kind: p, simpleName: "ClassSorcerer", interfaces: [Nn] }, An.prototype.setClassName = function () { this.className = Ln().CLASS_NAME }, An.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_SUMMONER, this.classFeatLevels = new Int32Array([2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, An.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_SUMMONER }, An.prototype.setHP = function () { this.hp = 10 }, An.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, An.prototype.setSaveProficiencies = function () { this.profFortitude = 4, this.profReflex = 2, this.profWill = 4 }, An.prototype.setNumSkills = function () { this.numSkills = 3 }, An.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.profWeaponUnarmed = 2 }, An.prototype.setArmorProficiencies = function () { }, bn.prototype.activateClass_s8e943$ = function (t, e, i) { re().addAwardedPower_ujte31$(t, i, "Summoner 1", P0("Evolution Surge", 1, 1)), re().addAwardedPower_ujte31$(t, i, "Summoner 2", P0("Boost Eidolon", 1, 1)), re().increaseFocusPoints_sfpo92$(t, i, "Summoner 1", DW(1, 1)), re().addFeatChoice_afybq0$(t, e, i, "Evolution Feat 1", Nu(se().FEATS_SUMMONER_EVOLUTION, 1, "Evolution Feat")), this.this$ClassSummoner.setClassProficiencyAtLevel_8d16k4$(t, i, "Shared Vigilance", 3, pK().PROFICIENCY_PERCEPTION, 4), this.this$ClassSummoner.setClassProficiencyAtLevel_8d16k4$(t, i, "Shared Reflexes", 9, pK().PROFICIENCY_REFLEX, 4), this.this$ClassSummoner.setClassProficiencyAtLevel_8d16k4$(t, i, "Simple Weapon Expertise", 11, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassSummoner.setClassProficiencyAtLevel_8d16k4$(t, i, "Simple Weapon Expertise", 11, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassSummoner.setClassProficiencyAtLevel_8d16k4$(t, i, "Twin Juggernauts", 11, pK().PROFICIENCY_FORTITUDE, 6), this.this$ClassSummoner.setClassProficiencyAtLevel_8d16k4$(t, i, "Defensive Robes", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassSummoner.setClassProficiencyAtLevel_8d16k4$(t, i, "Shared Resolve", 15, pK().PROFICIENCY_WILL, 6) }, bn.$metadata$ = { kind: p, interfaces: [Dn] }, An.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([5])), this.classDirectCalls = new bn(this) }, An.prototype.addSpellCaster_ryqv3o$ = function (t, e) { if (t) { var i = e.hashMapSpellCasters, a = Ln().CLASS_NAME, r = new p2; i.put_xwzc9p$(a, r) } else e.hashMapSpellCasters.remove_11rb$(Ln().CLASS_NAME); var n = Ln().CLASS_NAME, s = e.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_ARCANE); t ? (o(s).setProficiencyAtLevel_3m52m6$(n, 1, 2), s.setProficiencyAtLevel_3m52m6$(n + "Expert", 9, 4), s.setProficiencyAtLevel_3m52m6$(n + "Master", 17, 6)) : (o(s).removeProficiencyAtLevel_61zpoe$(n), s.removeProficiencyAtLevel_61zpoe$(n + "Expert"), s.removeProficiencyAtLevel_61zpoe$(n + "Master")) }, An.prototype.setClassSpecials_t1mzv0$ = function (t) { xQ().setSpecialMethods_sfkw43$(o(t)) }, In.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var wn = null; function Ln() { return null === wn && new In, wn } function Tn() { Mn(), Nn.call(this) } function kn(t) { this.this$ClassSwashbuckler = t } function Rn() { Pn = this, this.CLASS_NAME = "Swashbuckler" } An.$metadata$ = { kind: p, simpleName: "ClassSummoner", interfaces: [Nn] }, Tn.prototype.setClassName = function () { this.className = Mn().CLASS_NAME }, Tn.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_SWASHBUCKLER, this.classFeatLevels = new Int32Array([1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, Tn.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_SWASHBUCKLER }, Tn.prototype.setHP = function () { this.hp = 10 }, Tn.prototype.setPerceptionProficiency = function () { this.profPerception = 4 }, Tn.prototype.setSaveProficiencies = function () { this.profFortitude = 2, this.profReflex = 4, this.profWill = 4 }, Tn.prototype.setNumSkills = function () { this.numSkills = 4, this.listClassTrainedSkills.add_11rb$(pK().ACROBATICS) }, Tn.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2, this.profWeaponMartial = 2 }, Tn.prototype.setArmorProficiencies = function () { this.profArmorLight = 2 }, kn.prototype.activateClass_s8e943$ = function (t, e, i) { re().addSpeedIncreaseItem_xs3ggp$(t, i, "Vivacious Speed 1", jW(3, 5, 1)), re().addSpeedIncreaseItem_xs3ggp$(t, i, "Vivacious Speed 3", jW(11, 10, 1)), re().addSpeedIncreaseItem_xs3ggp$(t, i, "Vivacious Speed 5", jW(19, 15, 1)), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Great Fortitude", 3, pK().PROFICIENCY_FORTITUDE, 4), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 5, pK().PROFICIENCY_MARTIAL_WEAPONS, 4), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Evasion", 7, pK().PROFICIENCY_REFLEX, 6), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Vigilant Senses", 11, pK().PROFICIENCY_PERCEPTION, 6), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Improved Evasion", 13, pK().PROFICIENCY_REFLEX, 8), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_LIGHT_ARMOR, 4), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Expertise", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_SIMPLE_WEAPONS, 6), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_UNARMED_ATTACKS, 6), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Mastery", 13, pK().PROFICIENCY_MARTIAL_WEAPONS, 6), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Resolve", 17, pK().PROFICIENCY_WILL, 6), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Mastery", 19, pK().PROFICIENCY_LIGHT_ARMOR, 6), this.this$ClassSwashbuckler.setClassProficiencyAtLevel_8d16k4$(t, i, "Light Armor Mastery", 19, pK().PROFICIENCY_UNARMORED, 6) }, kn.$metadata$ = { kind: p, interfaces: [Dn] }, Tn.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([1])), this.classMasteryLevels = new Int32Array([1, 9, 19, 21]), this.classDirectCalls = new kn(this) }, Tn.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, Tn.prototype.setClassSpecials_t1mzv0$ = function (t) { WQ().setSpecialMethods_sfkw43$(o(t)) }, Rn.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Pn = null; function Mn() { return null === Pn && new Rn, Pn } function Nn() { this.className = Rr().CLASS_FIGHTER, this.classDirectCalls = null, this.classMasteryLevels = null, this.classFeatLevels = null, this.skillFeatLevels = new Int32Array(0), this.skillIncreaseLevels = new Int32Array([3, 5, 7, 9, 11, 13, 15, 17, 19]), this.classFeatReference = null, this.specialMethods = null, this.classSpecialsReference = null, this.hp = 8, this.profPerception = 2, this.profFortitude = 2, this.profReflex = 2, this.profWill = 2, this.numSkills = 3, this.keyAbility_qyv97v$_0 = new Int32Array([0]), this.profWeaponSimple = 0, this.profWeaponMartial = 0, this.profWeaponAdvanced = 0, this.profWeaponUnarmed = 2, this.listProficientWeapons = u(), this.profArmorLight = 0, this.profArmorMedium = 0, this.profArmorHeavy = 0, this.profArmorUnarmored = 2, this.listAwardedPowers = u(), this.listClassTrainedSkills = u(), this.listClassChoiceSkillTraining = u(), this.classFreeChoiceSkillTraining = !1, this.description = "", this.src = "CRB", this.url = "https://2e.aonprd.com", this.hasFocusPoints = !1, this.focusPointAbilityRef = 5, this.setClassName(), this.setClassFeats(), this.setListSpecials(), this.setHP(), this.setPerceptionProficiency(), this.setSaveProficiencies(), this.setNumSkills(), this.setWeaponProficiencies(), this.setArmorProficiencies(), this.setAwardedPowers() } function Dn() { } function xn() { Bn(), Nn.call(this) } function zn(t) { this.this$ClassWitch = t } function On() { Fn = this, this.CLASS_NAME = "Witch" } Tn.$metadata$ = { kind: p, simpleName: "ClassSwashbuckler", interfaces: [Nn] }, Nn.prototype.getClassFeatReference_61zpoe$ = function (t) { return this.classFeatReference }, Nn.prototype.setKeyAbility_q5rwfd$ = function (t) { this.keyAbility_qyv97v$_0 = t }, Object.defineProperty(Nn.prototype, "keyAbilitieString", { configurable: !0, get: function () { var t, i = e.newArray(this.keyAbility_qyv97v$_0.length, null); t = this.keyAbility_qyv97v$_0; for (var a = 0; a !== t.length; ++a)i[a] = se().ARRAY_ABILITIES[this.keyAbility_qyv97v$_0[a]]; return i } }), Nn.prototype.getAbilityRefOfSelection_za3lpa$ = function (t) { try { return this.keyAbility_qyv97v$_0[t] } catch (t) { if (!e.isType(t, h)) throw t; s(t) } return 0 }, Nn.prototype.activateClass_fhac18$ = function (t, e) { var i, a, r, n, s, l, c, p, h, d; this.setClassSpecials_t1mzv0$(t); var u = t.managerSpecials; for (i = o(this.classFeatLevels), a = 0; a !== i.length; ++a) { var _ = i[a], f = Ru(); f.featType = se().FEATS_CLASS, f.level = _; var y = this.classFeatReference + " " + _.toString(); o(e.hashMapFeatChoices[_ - 1 | 0]).put_xwzc9p$(y, f) } for (o(e.getProficiency_61zpoe$(pK().PROFICIENCY_LIGHT_ARMOR)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profArmorLight), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_MEDIUM_ARMOR)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profArmorMedium), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_HEAVY_ARMOR)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profArmorHeavy), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profArmorUnarmored), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_SIMPLE_WEAPONS)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profWeaponSimple), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_MARTIAL_WEAPONS)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profWeaponMartial), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_ADVANCED_WEAPONS)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profWeaponAdvanced), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profWeaponUnarmed), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profFortitude), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profReflex), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_WILL)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profWill), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)).setProficiencyAtLevel_3m52m6$(this.className, 1, this.profPerception), this.addSpellCaster_ryqv3o$(!0, e), r = u.getSpecials_61zpoe$(o(this.classSpecialsReference)).keys.iterator(); r.hasNext();) { var m = r.next(), $ = u.getSpecials_61zpoe$(o(this.classSpecialsReference)).get_11rb$(m); o(e.hashMapSpecialInformation[o($).level - 1 | 0]).put_xwzc9p$(m, $), t.managerSpecials.activateSpecial_2yti0t$(t, e, !0, m, $) } for (n = this.listAwardedPowers.iterator(); n.hasNext();) { var g = n.next(); re().addAwardedPower_ujte31$(!0, e, g.name, g) } for (s = this.listClassTrainedSkills.iterator(); s.hasNext();) { var v = s.next(); re().setProficiencyAtLevel_8d16k4$(!0, e, "Class Skill", 1, o(v), 2) } if (null != e.getCharacterData().getClassOptionalTrainedSkill()) { var S = e.getCharacterData().getClassOptionalTrainedSkill(); re().setProficiencyAtLevel_8d16k4$(!0, e, pK().INCREASE_TYPE_CLASS_SKILL, 1, o(S), 2) } for (l = this.skillFeatLevels, c = 0; c !== l.length; ++c) { var C = l[c], E = Ru(); E.featType = se().FEATS_SKILL, E.level = C; var A = se().FEATS_SKILL + " " + E.level.toString(); o(e.hashMapFeatChoices[C - 1 | 0]).put_xwzc9p$(A, E) } for (p = this.listProficientWeapons.iterator(); p.hasNext();) { var b = p.next(); t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, this.className, b, 1, 2) } for (h = this.skillIncreaseLevels, d = 0; d !== h.length; ++d) { var I = h[d]; e.listSkillIncreaseLevels.add_11rb$(I) } null != this.classDirectCalls && o(this.classDirectCalls).activateClass_s8e943$(!0, t, e) }, Nn.prototype.deactivateClass_fhac18$ = function (t, e) { var i, a, r, n, s, l, c, p, h = e.getCharacterData(), d = t.managerSpecials; for (null != h.getClassArchetype() && (t.managerFeats.deactivateAllFeatsOfType_o7aqax$(e, se().FEATS_CLASS_ARCHETYPE, 1), h.setClassArchetype_pdl1vj$(_l().CLASS_ARCHETYPE_NONE)), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_LIGHT_ARMOR)).removeProficiencyAtLevel_61zpoe$(this.className), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_MEDIUM_ARMOR)).removeProficiencyAtLevel_61zpoe$(this.className), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_HEAVY_ARMOR)).removeProficiencyAtLevel_61zpoe$(this.className), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).removeProficiencyAtLevel_61zpoe$(this.className), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_SIMPLE_WEAPONS)).removeProficiencyAtLevel_61zpoe$(this.className), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_MARTIAL_WEAPONS)).removeProficiencyAtLevel_61zpoe$(this.className), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_ADVANCED_WEAPONS)).removeProficiencyAtLevel_61zpoe$(this.className), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS)).removeProficiencyAtLevel_61zpoe$(this.className), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).removeProficiencyAtLevel_61zpoe$(this.className), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX)).removeProficiencyAtLevel_61zpoe$(this.className), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_WILL)).removeProficiencyAtLevel_61zpoe$(this.className), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)).removeProficiencyAtLevel_61zpoe$(this.className), i = o(this.classFeatLevels), a = 0; a !== i.length; ++a) { var u = i[a], _ = this.classFeatReference + " " + u.toString(); if (h.hashMapFeatSelections.containsKey_11rb$(_)) { var f = o(e.hashMapFeatChoices[u - 1 | 0]).get_11rb$(_); t.managerFeats.deactivateFeat_8fzv80$(e, u, f, _), h.hashMapFeatSelections.remove_11rb$(_) } o(e.hashMapFeatChoices[u - 1 | 0]).remove_11rb$(_) } for (t.managerFeats.deactivateAllFeatsOfType_o7aqax$(e, se().FEATS_CLASS, 1), t.managerFeats.deactivateAllFeatsOfType_o7aqax$(e, se().FEATS_SKILL, 1), r = d.getSpecials_61zpoe$(o(this.classSpecialsReference)).keys.iterator(); r.hasNext();) { var y = r.next(), m = d.getSpecials_61zpoe$(o(this.classSpecialsReference)).get_11rb$(y); t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, y, m), o(e.hashMapSpecialInformation[o(m).level - 1 | 0]).remove_11rb$(y) } for (n = this.listAwardedPowers.iterator(); n.hasNext();) { var $ = n.next(); re().addAwardedPower_ujte31$(!1, e, $.name, $) } for (s = this.listClassTrainedSkills.iterator(); s.hasNext();) { var g = s.next(); re().setProficiencyAtLevel_8d16k4$(!1, e, "Class Skill", 1, o(g), 2) } for (l = this.skillFeatLevels, c = 0; c !== l.length; ++c) { var v = l[c], S = se().FEATS_SKILL + " " + v.toString(); o(e.hashMapFeatChoices[v - 1 | 0]).remove_11rb$(S) } if (null != e.getCharacterData().getClassOptionalTrainedSkill()) { var C = e.getCharacterData().getClassOptionalTrainedSkill(); re().setProficiencyAtLevel_8d16k4$(!1, e, pK().INCREASE_TYPE_CLASS_SKILL, 1, o(C), 2), e.getCharacterData().setClassOptionalTrainedSkill_pdl1vj$(null) } for (p = this.listProficientWeapons.iterator(); p.hasNext();) { var E = p.next(); t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, this.className, E) } t.managerProficiencies.deactivateAllSkillIncreasesAfterLevel1_5btbp7$(e), e.listSkillIncreaseLevels.clear(), this.addSpellCaster_ryqv3o$(!1, e), null != this.classDirectCalls && o(this.classDirectCalls).activateClass_s8e943$(!1, t, e) }, Nn.prototype.getKeyAbility = function () { return this.keyAbility_qyv97v$_0 }, Nn.prototype.setClassTrainedSkillProficiencies_ryqv3o$ = function (t, e) { var i, a; for (i = this.listClassTrainedSkills.iterator(); i.hasNext();) { var r = i.next(); re().setProficiencyAtLevel_8d16k4$(t, e, "Class Skill", 1, o(r), 2) } for (a = e.listAdditionalClassSkills.iterator(); a.hasNext();) { var n = a.next(); re().setProficiencyAtLevel_8d16k4$(t, e, "Class Skill", 1, n, 2) } }, Nn.prototype.getListAllClassTrainedSkills_5btbp7$ = function (t) { var e = u(); return e.addAll_brywnq$(this.listClassTrainedSkills), e.addAll_brywnq$(t.listAdditionalClassSkills), e }, Nn.prototype.setClassProficiencyAtLevel_8d16k4$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(t, e, this.className + i, a, r, n) }, Dn.$metadata$ = { kind: H, simpleName: "ClassDirectCalls", interfaces: [] }, Nn.$metadata$ = { kind: p, simpleName: "ClassTemplate", interfaces: [] }, xn.prototype.setClassName = function () { this.className = Bn().CLASS_NAME }, xn.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_WITCH, this.classFeatLevels = new Int32Array([2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, xn.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_WITCH }, xn.prototype.setHP = function () { this.hp = 6 }, xn.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, xn.prototype.setSaveProficiencies = function () { this.profFortitude = 2, this.profReflex = 2, this.profWill = 4 }, xn.prototype.setNumSkills = function () { this.numSkills = 3 }, xn.prototype.setWeaponProficiencies = function () { this.profWeaponSimple = 2 }, xn.prototype.setArmorProficiencies = function () { }, zn.prototype.activateClass_s8e943$ = function (t, e, i) { re().addFamiliar_dlg1vj$(t, e, i, "Witch Familiar", 1), re().addFamiliarAbilitySelection_wifd5v$(t, e, i, "Witch Familiar 1", DW(1, 1)), re().addFamiliarAbilitySelection_wifd5v$(t, e, i, "Witch Familiar 2", DW(6, 1)), re().addFamiliarAbilitySelection_wifd5v$(t, e, i, "Witch Familiar 3", DW(12, 1)), re().addFamiliarAbilitySelection_wifd5v$(t, e, i, "Witch Familiar 4", DW(18, 1)), re().increaseFocusPoints_sfpo92$(t, i, "Witch Starting", DW(1, 1)), re().addAwardedPower_ujte31$(t, i, "Witch Starting", P0("Phase Familiar", 1, 1)), this.this$ClassWitch.setClassProficiencyAtLevel_8d16k4$(t, i, "Magical Fortitude", 5, pK().PROFICIENCY_FORTITUDE, 4), this.this$ClassWitch.setClassProficiencyAtLevel_8d16k4$(t, i, "Lightning Reflexes", 9, pK().PROFICIENCY_REFLEX, 4), this.this$ClassWitch.setClassProficiencyAtLevel_8d16k4$(t, i, "Alertness", 11, pK().PROFICIENCY_PERCEPTION, 4), this.this$ClassWitch.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 11, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), this.this$ClassWitch.setClassProficiencyAtLevel_8d16k4$(t, i, "Weapon Expertise", 11, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassWitch.setClassProficiencyAtLevel_8d16k4$(t, i, "Defensive Robes", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassWitch.setClassProficiencyAtLevel_8d16k4$(t, i, "Resolve", 17, pK().PROFICIENCY_WILL, 6) }, zn.$metadata$ = { kind: p, interfaces: [Dn] }, xn.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([3])), this.classDirectCalls = new zn(this) }, xn.prototype.addSpellCaster_ryqv3o$ = function (t, e) { if (t) { var i = e.hashMapSpellCasters, a = Bn().CLASS_NAME, r = new h2; i.put_xwzc9p$(a, r) } else e.hashMapSpellCasters.remove_11rb$(Bn().CLASS_NAME); var n = Bn().CLASS_NAME, s = e.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_ARCANE); t ? (o(s).setProficiencyAtLevel_3m52m6$(n, 1, 2), s.setProficiencyAtLevel_3m52m6$(n + "Expert", 7, 4), s.setProficiencyAtLevel_3m52m6$(n + "Master", 15, 6), s.setProficiencyAtLevel_3m52m6$(n + "Legendary", 19, 8)) : (o(s).removeProficiencyAtLevel_61zpoe$(n), s.removeProficiencyAtLevel_61zpoe$(n + "Expert"), s.removeProficiencyAtLevel_61zpoe$(n + "Master"), s.removeProficiencyAtLevel_61zpoe$(n + "Legendary")) }, xn.prototype.setClassSpecials_t1mzv0$ = function (t) { y0().setSpecialMethods_sfkw43$(o(t)) }, On.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Fn = null; function Bn() { return null === Fn && new On, Fn } function jn() { Gn(), Nn.call(this) } function Hn(t) { this.this$ClassWizard = t } function qn() { Un = this, this.CLASS_WIZARD = "Wizard" } xn.$metadata$ = { kind: p, simpleName: "ClassWitch", interfaces: [Nn] }, jn.prototype.setClassName = function () { this.className = Gn().CLASS_WIZARD }, jn.prototype.setClassFeats = function () { this.classFeatReference = se().FEATS_WIZARD, this.classFeatLevels = new Int32Array([2, 4, 6, 8, 10, 12, 14, 16, 18, 20]) }, jn.prototype.setListSpecials = function () { this.classSpecialsReference = BK().SPECIALS_WIZARD }, jn.prototype.setHP = function () { this.hp = 6 }, jn.prototype.setPerceptionProficiency = function () { this.profPerception = 2 }, jn.prototype.setSaveProficiencies = function () { this.profFortitude = 2, this.profReflex = 2, this.profWill = 4 }, jn.prototype.setNumSkills = function () { this.listClassTrainedSkills.add_11rb$(pK().ARCANA), this.numSkills = 2 }, jn.prototype.setWeaponProficiencies = function () { this.listProficientWeapons.add_11rb$("Club"), this.listProficientWeapons.add_11rb$("Dagger"), this.listProficientWeapons.add_11rb$("Heavy Crossbow"), this.listProficientWeapons.add_11rb$("Crossbow"), this.listProficientWeapons.add_11rb$("Staff"), this.listProficientWeapons.add_11rb$("Touch") }, jn.prototype.setArmorProficiencies = function () { }, Hn.prototype.activateClass_s8e943$ = function (t, e, i) { var a; for (this.this$ClassWizard.setClassProficiencyAtLevel_8d16k4$(t, i, "Lightning Reflexes", 5, pK().PROFICIENCY_REFLEX, 4), this.this$ClassWizard.setClassProficiencyAtLevel_8d16k4$(t, i, "Magical Fortitude", 9, pK().PROFICIENCY_FORTITUDE, 4), this.this$ClassWizard.setClassProficiencyAtLevel_8d16k4$(t, i, "Alertness", 11, pK().PROFICIENCY_PERCEPTION, 4), a = this.this$ClassWizard.listProficientWeapons.iterator(); a.hasNext();) { var r = a.next(); re().setIndividualWeaponProficiency_ivgu3l$(t, e, i, "Wizard Weapon Expertise", 11, r, 4) } this.this$ClassWizard.setClassProficiencyAtLevel_8d16k4$(t, i, "Wizard Weapon Expertise", 11, pK().PROFICIENCY_UNARMED_ATTACKS, 4), this.this$ClassWizard.setClassProficiencyAtLevel_8d16k4$(t, i, "Defensive Robes", 13, pK().PROFICIENCY_UNARMORED, 4), this.this$ClassWizard.setClassProficiencyAtLevel_8d16k4$(t, i, "Resolve", 17, pK().PROFICIENCY_WILL, 6) }, Hn.$metadata$ = { kind: p, interfaces: [Dn] }, jn.prototype.setAwardedPowers = function () { this.setKeyAbility_q5rwfd$(new Int32Array([3])), this.classDirectCalls = new Hn(this) }, jn.prototype.addSpellCaster_ryqv3o$ = function (t, e) { if (t) { var i = e.hashMapSpellCasters, a = Gn().CLASS_WIZARD, r = new d2; i.put_xwzc9p$(a, r) } else e.hashMapSpellCasters.remove_11rb$(Gn().CLASS_WIZARD); var n = Gn().CLASS_WIZARD, s = e.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_ARCANE); t ? (o(s).setProficiencyAtLevel_3m52m6$(n, 1, 2), s.setProficiencyAtLevel_3m52m6$(n + "Expert", 7, 4), s.setProficiencyAtLevel_3m52m6$(n + "Master", 15, 6), s.setProficiencyAtLevel_3m52m6$(n + "Legendary", 19, 8)) : (o(s).removeProficiencyAtLevel_61zpoe$(n), s.removeProficiencyAtLevel_61zpoe$(n + "Expert"), s.removeProficiencyAtLevel_61zpoe$(n + "Master"), s.removeProficiencyAtLevel_61zpoe$(n + "Legendary")) }, jn.prototype.setClassSpecials_t1mzv0$ = function (t) { A0().setSpecialMethods_sfkw43$(o(t)) }, qn.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Un = null; function Gn() { return null === Un && new qn, Un } function Wn(t, e) { Kn(), Nn.call(this), this.classTemplateMain = t, this.classTemplateDual = e } function Yn() { Vn = this, this.DUAL_CLASS = "Dual Class" } jn.$metadata$ = { kind: p, simpleName: "ClassWizard", interfaces: [Nn] }, Wn.prototype.setClassName = function () { }, Wn.prototype.setClassFeats = function () { }, Wn.prototype.setListSpecials = function () { }, Wn.prototype.setHP = function () { }, Wn.prototype.setPerceptionProficiency = function () { }, Wn.prototype.setSaveProficiencies = function () { }, Wn.prototype.setNumSkills = function () { }, Wn.prototype.setWeaponProficiencies = function () { }, Wn.prototype.setArmorProficiencies = function () { }, Wn.prototype.setAwardedPowers = function () { }, Wn.prototype.addSpellCaster_ryqv3o$ = function (t, e) { }, Wn.prototype.setClassSpecials_t1mzv0$ = function (t) { }, Wn.prototype.activateClass_fhac18$ = function (t, e) { var i, a, r; this.classTemplateMain.activateClass_fhac18$(t, e), this.classTemplateDual.activateClass_fhac18$(t, e), this.className = this.classTemplateMain.className, this.setDualClassHP(), i = this.classTemplateDual.numSkills > this.classTemplateMain.numSkills ? this.classTemplateDual.numSkills : this.classTemplateMain.numSkills, this.numSkills = i; var n = u(); for (a = this.classTemplateMain.getKeyAbility(), r = 0; r !== a.length; ++r) { var s = a[r]; n.add_11rb$(s) } for (var l = new Int32Array(n.size), c = 0; c !== n.size; ++c)l[c] = n.get_za3lpa$(c); if (this.setKeyAbility_q5rwfd$(l), null != e.getCharacterData().getClassDualOptionalTrainedSkill()) { var p = e.getCharacterData().getClassDualOptionalTrainedSkill(); this.setClassProficiencyAtLevel_8d16k4$(!0, e, pK().INCREASE_TYPE_CLASS_SKILL, 1, o(p), 2) } }, Wn.prototype.setDualClassHP = function () { var t; t = this.classTemplateDual.hp > this.classTemplateMain.hp ? this.classTemplateDual.hp : this.classTemplateMain.hp, this.hp = t }, Wn.prototype.deactivateClass_fhac18$ = function (t, e) { if (this.classTemplateMain.deactivateClass_fhac18$(t, e), this.classTemplateDual.deactivateClass_fhac18$(t, e), null != e.getCharacterData().getClassDualOptionalTrainedSkill()) { var i = e.getCharacterData().getClassDualOptionalTrainedSkill(); this.setClassProficiencyAtLevel_8d16k4$(!1, e, pK().INCREASE_TYPE_CLASS_SKILL, 1, o(i), 2) } }, Wn.prototype.setClassTrainedSkillProficiencies_ryqv3o$ = function (t, e) { this.classTemplateMain.setClassTrainedSkillProficiencies_ryqv3o$(t, e), this.classTemplateDual.setClassTrainedSkillProficiencies_ryqv3o$(t, e) }, Wn.prototype.getClassFeatReference_61zpoe$ = function (t) { return _(t, o(this.classTemplateMain.classFeatReference)) ? this.classTemplateMain.classFeatReference : this.classTemplateDual.classFeatReference }, Wn.prototype.getListAllClassTrainedSkills_5btbp7$ = function (t) { var e, i, a = u(); for (a.addAll_brywnq$(this.classTemplateMain.listClassTrainedSkills), e = this.classTemplateDual.listClassTrainedSkills.iterator(); e.hasNext();) { var r = e.next(); a.contains_11rb$(r) || a.add_11rb$(r) } for (i = t.listAdditionalClassSkills.iterator(); i.hasNext();) { var n = i.next(); a.contains_11rb$(n) || a.add_11rb$(n) } return a }, Wn.prototype.getMainDualClassKeyAbility_5btbp7$ = function (t) { var e, i; if (1 === this.classTemplateMain.getKeyAbility().length) return this.classTemplateMain.getKeyAbility()[0]; var a = t.getCharacterData().getClassKeyAbility(); for (e = this.classTemplateMain.getKeyAbility(), i = 0; i !== e.length; ++i)if (e[i] === a) return a; return this.classTemplateMain.getKeyAbility()[0] }, Wn.prototype.getSecondaryDualClassKeyAbility_5btbp7$ = function (t) { var e, i; if (1 === this.classTemplateDual.getKeyAbility().length) return this.classTemplateDual.getKeyAbility()[0]; var a = t.getCharacterData().getClassKeyAbility(); for (e = this.classTemplateDual.getKeyAbility(), i = 0; i !== e.length; ++i)if (e[i] === a) return a; return this.classTemplateDual.getKeyAbility()[0] }, Object.defineProperty(Wn.prototype, "mainClassMasteryLevels", { configurable: !0, get: function () { return this.classTemplateMain.classMasteryLevels } }), Object.defineProperty(Wn.prototype, "secondaryClassMasteryLevels", { configurable: !0, get: function () { return this.classTemplateDual.classMasteryLevels } }), Object.defineProperty(Wn.prototype, "mainClassListClassChoiceSkillTraining", { configurable: !0, get: function () { return this.classTemplateMain.listClassChoiceSkillTraining } }), Object.defineProperty(Wn.prototype, "secondaryClassListClassChoiceSkillTraining", { configurable: !0, get: function () { return this.classTemplateDual.listClassChoiceSkillTraining } }), Object.defineProperty(Wn.prototype, "mainClassFreeChoiceSkillTraining", { configurable: !0, get: function () { return this.classTemplateMain.classFreeChoiceSkillTraining } }), Object.defineProperty(Wn.prototype, "secondaryClassFreeChoiceSkillTraining", { configurable: !0, get: function () { return this.classTemplateDual.classFreeChoiceSkillTraining } }), Yn.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Vn = null; function Kn() { return null === Vn && new Yn, Vn } function Xn() { this.name = null, this.type = 0, this.title = null, this.description = null, this.shortDesc = null } function Jn() { to(), this.databaseID = -1, this.timestamp = null, this.uniqueIdentifier = null, this.name = "", this.description = "", this.listCustomEffects = u() } function Zn() { Qn = this } Wn.$metadata$ = { kind: p, simpleName: "DualClass", interfaces: [Nn] }, Xn.$metadata$ = { kind: p, simpleName: "CopyrightInformation", interfaces: [] }, Object.defineProperty(Jn.prototype, "fullDescription", { configurable: !0, get: function () { var t, e = ""; if (e += this.description, null != this.listCustomEffects) for (t = o(this.listCustomEffects).iterator(); t.hasNext();)e += "<br>" + t.next().effectDescription; return e } }), Zn.prototype.serializer = function () { return ao() }, Zn.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Qn = null; function to() { return null === Qn && new Zn, Qn } function eo() { this.descriptor_9fpla2$_0 = new P("com.redrazors.pathbuilder2e.backend.data.custom.CustomBuff", this, 6), this.descriptor.addElement_ivxn3r$("databaseID", !0), this.descriptor.addElement_ivxn3r$("timestamp", !0), this.descriptor.addElement_ivxn3r$("uniqueIdentifier", !0), this.descriptor.addElement_ivxn3r$("name", !0), this.descriptor.addElement_ivxn3r$("description", !0), this.descriptor.addElement_ivxn3r$("listCustomEffects", !0), io = this } Object.defineProperty(eo.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_9fpla2$_0 } }), eo.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.databaseID, -1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeIntElement_ptg7oe$(this.descriptor, 0, e.databaseID), m(e.timestamp, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 1, M.StringSerializer, e.timestamp), m(e.uniqueIdentifier, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 2, M.StringSerializer, e.uniqueIdentifier), m(e.name, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeStringElement_iij8qq$(this.descriptor, 3, e.name), m(e.description, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeStringElement_iij8qq$(this.descriptor, 4, e.description), m(e.listCustomEffects, u()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 5) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 5, new D(mo()), e.listCustomEffects), i.endStructure_24f42q$(this.descriptor) }, eo.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l = 0, c = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = c.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = c.decodeIntElement_szpzho$(this.descriptor, 0), l |= 1; break; case 1: a = c.decodeNullableSerializableElement_8viuyw$(this.descriptor, 1, M.StringSerializer, a), l |= 2; break; case 2: r = c.decodeNullableSerializableElement_8viuyw$(this.descriptor, 2, M.StringSerializer, r), l |= 4; break; case 3: n = c.decodeStringElement_szpzho$(this.descriptor, 3), l |= 8; break; case 4: o = c.decodeStringElement_szpzho$(this.descriptor, 4), l |= 16; break; case 5: s = c.decodeNullableSerializableElement_8viuyw$(this.descriptor, 5, new D(mo()), s), l |= 32; break; case -1: break t; default: throw new O(e) }return c.endStructure_24f42q$(this.descriptor), ro(l, i, a, r, n, o, s, null) }, eo.prototype.childSerializers = function () { return [M.IntSerializer, new R(M.StringSerializer), new R(M.StringSerializer), M.StringSerializer, M.StringSerializer, new R(new D(mo()))] }, eo.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var io = null; function ao() { return null === io && new eo, io } function ro(t, e, i, a, r, n, o, s) { var l = s || Object.create(Jn.prototype); return l.databaseID = 0 == (1 & t) ? -1 : e, l.timestamp = 0 == (2 & t) ? null : i, l.uniqueIdentifier = 0 == (4 & t) ? null : a, l.name = 0 == (8 & t) ? "" : r, l.description = 0 == (16 & t) ? "" : n, l.listCustomEffects = 0 == (32 & t) ? u() : o, l } function no(t, e) { return e = e || Object.create(Jn.prototype), Jn.call(e), e.name = t, e } function oo(t, e) { var i; for (e = e || Object.create(Jn.prototype), Jn.call(e), e.uniqueIdentifier = t.uniqueIdentifier, e.name = t.name, e.description = t.description, e.databaseID = t.databaseID, i = o(t.listCustomEffects).iterator(); i.hasNext();) { var a = i.next(); o(e.listCustomEffects).add_11rb$(vo(a)) } return e } Jn.$metadata$ = { kind: p, simpleName: "CustomBuff", interfaces: [] }; var so = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function lo() { this.hashMap = c() } function co(t) { return t.name } function po() { _o(), this.proficiencyName = pK().ACROBATICS, this.effectType = 0, this.bonusType = 0, this.bonusAmount = 0, this.listDamTraits = null, this.listExcludeDamTraits = null, this.reference_0 = null } function ho() { uo = this, this.APPLY_EFFECT_PROFICIENCY = 0, this.APPLY_EFFECT_SPEED = 1, this.APPLY_EFFECT_AC = 2, this.APPLY_EFFECT_WEAPON_HIT = 3, this.APPLY_EFFECT_WEAPON_DAMAGE = 4, this.APPLY_EFFECT_HP_BONUS = 5, this.APPLY_EFFECT_TEMP_HP_BONUS = 6, this.APPLY_EFFECT_ARMOR_DEX_CAP = 7, this.APPLY_EFFECT_SPELL_ATTACK = 8 } Object.defineProperty(lo.prototype, "listCustomBuffsSortedByName", { configurable: !0, get: function () { var t, e = u(); for (t = this.hashMap.values.iterator(); t.hasNext();) { var i = t.next(); e.add_11rb$(i) } return e.size > 1 && q(e, new G(so(co))), e } }), lo.$metadata$ = { kind: p, simpleName: "CustomBuffSet", interfaces: [] }, po.prototype.applyBonus_s8e943$ = function (t, e, i) { switch (this.effectType) { case 0: this.applyBonusToProficiency_0(t, e, i); break; case 1: this.applyBonusToSpeed_0(t, e, i); break; case 2: this.applyBonusToAC_0(t, e, i); break; case 3: this.applyBonusToWeaponAttacks_0(t, e, i); break; case 4: this.applyBonusToWeaponDamage_0(t, e, i); break; case 5: this.applyBonusToHP_0(t, e, i); break; case 6: this.applyTempBonusToHP_0(t, e, i); break; case 7: this.applyArmorDexCap_0(t, e, i); break; case 8: this.applySpellAttack_0(t, e, i) } }, po.prototype.applyBonusToProficiency_0 = function (t, e, i) { var a = this.proficiencyName; m(this.proficiencyName, "Lore") && (a = e.managerBackgrounds.getBackgroundLoreNameAsProficiencyReference_5btbp7$(i)), null != i.getProficiency_61zpoe$(o(a)) && re().addProficiencyBonus_jn4iy8$(t, i, this.bonusType, this.getReference_sfkw43$(e), a, this.bonusAmount) }, po.prototype.applyBonusToSpeed_0 = function (t, e, i) { re().addSpeedIncreaseItem_xs3ggp$(t, i, this.getReference_sfkw43$(e), jW(i.getCharacterData().getCharacterLevel(), this.bonusAmount, this.bonusType)) }, po.prototype.applyBonusToAC_0 = function (t, e, i) { re().addProficiencyBonus_jn4iy8$(t, i, this.bonusType, this.getReference_sfkw43$(e), pK().PROFICIENCY_UNARMORED, this.bonusAmount), re().addProficiencyBonus_jn4iy8$(t, i, this.bonusType, this.getReference_sfkw43$(e), pK().PROFICIENCY_LIGHT_ARMOR, this.bonusAmount), re().addProficiencyBonus_jn4iy8$(t, i, this.bonusType, this.getReference_sfkw43$(e), pK().PROFICIENCY_MEDIUM_ARMOR, this.bonusAmount), re().addProficiencyBonus_jn4iy8$(t, i, this.bonusType, this.getReference_sfkw43$(e), pK().PROFICIENCY_HEAVY_ARMOR, this.bonusAmount) }, po.prototype.applyBonusToWeaponAttacks_0 = function (t, e, i) { re().addProficiencyBonus_jn4iy8$(t, i, this.bonusType, this.getReference_sfkw43$(e), pK().PROFICIENCY_UNARMED_ATTACKS, this.bonusAmount), re().addProficiencyBonus_jn4iy8$(t, i, this.bonusType, this.getReference_sfkw43$(e), pK().PROFICIENCY_SIMPLE_WEAPONS, this.bonusAmount), re().addProficiencyBonus_jn4iy8$(t, i, this.bonusType, this.getReference_sfkw43$(e), pK().PROFICIENCY_MARTIAL_WEAPONS, this.bonusAmount), re().addProficiencyBonus_jn4iy8$(t, i, this.bonusType, this.getReference_sfkw43$(e), pK().PROFICIENCY_ADVANCED_WEAPONS, this.bonusAmount) }, po.prototype.applyBonusToWeaponDamage_0 = function (t, e, i) { if (2 === this.bonusType || 1 === this.bonusType || 3 === this.bonusType) if (t) { var a = Il(!1, !0, -1, this.bonusAmount, this.bonusType, this.getReference_sfkw43$(e), this.listDamTraits, this.listExcludeDamTraits), r = i.hashMapAttackDamageBuffs, n = this.getReference_sfkw43$(e); r.put_xwzc9p$(n, a) } else i.hashMapAttackDamageBuffs.remove_11rb$(this.getReference_sfkw43$(e)) }, po.prototype.applyBonusToHP_0 = function (t, e, i) { re().addHitPointIncreaseItem_sfpo92$(t, i, this.getReference_sfkw43$(e), DW(1, this.bonusAmount)) }, po.prototype.applyTempBonusToHP_0 = function (t, e, i) { t ? e.getGuiUpdateControl().finishedLoading_n40yp2$(i) && this.bonusAmount > i.getCharacterData().getTemporaryHP() && (i.getCharacterData().setTemporaryHP_za3lpa$(this.bonusAmount), i.getCharacterData().setTemporaryHPSource_pdl1vj$(this.getReference_sfkw43$(e))) : null != i.getCharacterData().getTemporaryHPSource() && m(i.getCharacterData().getTemporaryHPSource(), this.getReference_sfkw43$(e)) && (i.getCharacterData().setTemporaryHPSource_pdl1vj$(null), i.getCharacterData().setTemporaryHP_za3lpa$(0)) }, po.prototype.applyArmorDexCap_0 = function (t, e, i) { if (t) { var a = i.hashMapDexCapOverrides, r = this.getReference_sfkw43$(e), n = DW(1, this.bonusAmount); a.put_xwzc9p$(r, n) } else i.hashMapDexCapOverrides.remove_11rb$(this.getReference_sfkw43$(e)) }, po.prototype.applySpellAttack_0 = function (t, e, i) { if (t) { var a = i.hashMapSpellAttackBonuses, r = this.getReference_sfkw43$(e), n = DW(1, this.bonusAmount); a.put_xwzc9p$(r, n) } else i.hashMapSpellAttackBonuses.remove_11rb$(this.getReference_sfkw43$(e)) }, Object.defineProperty(po.prototype, "effectDescription", { configurable: !0, get: function () { switch (this.effectType) { case 0: return this.proficiencyName + " " + pe().getSignedValue_za3lpa$(this.bonusAmount) + " (" + this.bonusTypeAsString + ")"; case 1: return "Speed Bonus " + pe().getSignedValue_za3lpa$(this.bonusAmount) + " (" + this.bonusTypeAsString + ")"; case 2: return "AC Bonus " + pe().getSignedValue_za3lpa$(this.bonusAmount) + " (" + this.bonusTypeAsString + ")"; case 3: return "Attack Bonus " + pe().getSignedValue_za3lpa$(this.bonusAmount) + " (" + this.bonusTypeAsString + ")"; case 4: return "Damage Bonus " + this.damageTraitsAsString_0 + pe().getSignedValue_za3lpa$(this.bonusAmount) + " (" + this.bonusTypeAsString + ")"; case 5: return "HP Bonus " + pe().getSignedValue_za3lpa$(this.bonusAmount) + " (" + this.bonusTypeAsString + ")"; case 6: return "Add Temporary HP " + pe().getSignedValue_za3lpa$(this.bonusAmount) + " (" + this.bonusTypeAsString + ")"; case 7: return "Max Dex Armor Bonus: " + pe().getSignedValue_za3lpa$(this.bonusAmount); case 8: return "Spell Attack Bonus: " + pe().getSignedValue_za3lpa$(this.bonusAmount) }return "" } }), Object.defineProperty(po.prototype, "bonusTypeAsString", { configurable: !0, get: function () { switch (this.bonusType) { case 0: return "Item Bonus"; case 1: return "Status Bonus"; case 2: return "Circumstance Bonus" }return "Untyped Bonus" } }), po.prototype.getReference_sfkw43$ = function (t) { return null == this.reference_0 && (this.reference_0 = t.getGuiUpdateControl().getPlatformUUID()), o(this.reference_0) }, Object.defineProperty(po.prototype, "damageTraitsAsString_0", { configurable: !0, get: function () { var t = this.damageWeaponTraits; return t.length > 0 && (t = "[" + t + "] "), t } }), Object.defineProperty(po.prototype, "damageWeaponTraits", { configurable: !0, get: function () { var t; if (null == this.listDamTraits) return ""; var e = ""; for (t = o(this.listDamTraits).iterator(); t.hasNext();) { var i = t.next(); e.length > 0 && (e += ", "), e += i } return e } }), Object.defineProperty(po.prototype, "excludeDamageTraitsAsString_0", { configurable: !0, get: function () { var t = this.excludeDamageWeaponTraits; return t.length > 0 && (t = "[" + t + "] "), t } }), Object.defineProperty(po.prototype, "excludeDamageWeaponTraits", { configurable: !0, get: function () { var t; if (null == this.listExcludeDamTraits) return ""; var e = ""; for (t = o(this.listExcludeDamTraits).iterator(); t.hasNext();) { var i = t.next(); e.length > 0 && (e += ", "), e += i } return e } }), ho.prototype.serializer = function () { return mo() }, ho.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var uo = null; function _o() { return null === uo && new ho, uo } function fo() { this.descriptor_kk43wk$_0 = new P("com.redrazors.pathbuilder2e.backend.data.custom.CustomEffect", this, 7), this.descriptor.addElement_ivxn3r$("proficiencyName", !0), this.descriptor.addElement_ivxn3r$("effectType", !0), this.descriptor.addElement_ivxn3r$("bonusType", !0), this.descriptor.addElement_ivxn3r$("bonusAmount", !0), this.descriptor.addElement_ivxn3r$("listDamTraits", !0), this.descriptor.addElement_ivxn3r$("listExcludeDamTraits", !0), this.descriptor.addElement_ivxn3r$("reference", !0), yo = this } Object.defineProperty(fo.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_kk43wk$_0 } }), fo.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.proficiencyName, pK().ACROBATICS) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeStringElement_iij8qq$(this.descriptor, 0, e.proficiencyName), m(e.effectType, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeIntElement_ptg7oe$(this.descriptor, 1, e.effectType), m(e.bonusType, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.bonusType), m(e.bonusAmount, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeIntElement_ptg7oe$(this.descriptor, 3, e.bonusAmount), m(e.listDamTraits, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 4, new D(M.StringSerializer), e.listDamTraits), m(e.listExcludeDamTraits, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 5) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 5, new D(M.StringSerializer), e.listExcludeDamTraits), m(e.reference_0, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 6) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 6, M.StringSerializer, e.reference_0), i.endStructure_24f42q$(this.descriptor) }, fo.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c = 0, p = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = p.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = p.decodeStringElement_szpzho$(this.descriptor, 0), c |= 1; break; case 1: a = p.decodeIntElement_szpzho$(this.descriptor, 1), c |= 2; break; case 2: r = p.decodeIntElement_szpzho$(this.descriptor, 2), c |= 4; break; case 3: n = p.decodeIntElement_szpzho$(this.descriptor, 3), c |= 8; break; case 4: o = p.decodeNullableSerializableElement_8viuyw$(this.descriptor, 4, new D(M.StringSerializer), o), c |= 16; break; case 5: s = p.decodeNullableSerializableElement_8viuyw$(this.descriptor, 5, new D(M.StringSerializer), s), c |= 32; break; case 6: l = p.decodeNullableSerializableElement_8viuyw$(this.descriptor, 6, M.StringSerializer, l), c |= 64; break; case -1: break t; default: throw new O(e) }return p.endStructure_24f42q$(this.descriptor), $o(c, i, a, r, n, o, s, l, null) }, fo.prototype.childSerializers = function () { return [M.StringSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, new R(new D(M.StringSerializer)), new R(new D(M.StringSerializer)), new R(M.StringSerializer)] }, fo.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var yo = null; function mo() { return null === yo && new fo, yo } function $o(t, e, i, a, r, n, o, s, l) { var c = l || Object.create(po.prototype); return c.proficiencyName = 0 == (1 & t) ? pK().ACROBATICS : e, c.effectType = 0 == (2 & t) ? 0 : i, c.bonusType = 0 == (4 & t) ? 0 : a, c.bonusAmount = 0 == (8 & t) ? 0 : r, c.listDamTraits = 0 == (16 & t) ? null : n, c.listExcludeDamTraits = 0 == (32 & t) ? null : o, c.reference_0 = 0 == (64 & t) ? null : s, c } function go(t) { return t = t || Object.create(po.prototype), po.call(t), t } function vo(t, e) { return e = e || Object.create(po.prototype), po.call(e), e.bonusAmount = t.bonusAmount, e.bonusType = t.bonusType, e.effectType = t.effectType, e.proficiencyName = t.proficiencyName, e.listDamTraits = t.listDamTraits, e.listExcludeDamTraits = t.listExcludeDamTraits, e } function So(t, e) { this.loaderSetInterface = t, this.guiUpdateControl_0 = e, this.fullAppEnabled_0 = !1, this.managerProficiencies = null, this.managerEquipment = null, this.managerClasses = null, this.managerAncestry = null, this.managerBackgrounds = null, this.managerWeapons = null, this.managerArmor = null, this.managerSpells = null, this.managerPets = null, this.managerCopyright = null, this.managerFeats = null, this.managerSpecials = null, this.hashMapBuffIDsToNames = c(), this.managerCopyright = new Ec(this.loaderSetInterface), this.managerWeapons = new Y0(this, this.loaderSetInterface), this.managerFeats = new $u(this, this.loaderSetInterface), this.managerSpells = new b0(this, this.loaderSetInterface), this.managerSpecials = new zK(this, this.loaderSetInterface), this.managerBackgrounds = new sl(this, this.loaderSetInterface), this.managerClasses = new hl(this, this.loaderSetInterface), this.managerProficiencies = new eK(this, this.loaderSetInterface), this.managerEquipment = new wc(this, this.loaderSetInterface), this.managerAncestry = new No(this, this.loaderSetInterface), this.managerArmor = new Do(this, this.loaderSetInterface), this.managerPets = new WW(this, this.loaderSetInterface) } function Co(t, i, a, r, n, o, p, h, d, f) { var y; bo(h, d, this), this.weaponType = t, this.trainingLevel = i, this.finalProficiency = a, this.itemBonusTotal = r, this.attackTotal = n, this.totalAttackBuff = o, this.attackBuffSet = p, this.traits = f, this.totalDamageBuff = 0, this.flatBonus = 0, this.fatal = !1, this.critDiceSize = d, this.deadlyBonus = null, this.mapExtraDamages = c(), this.mapExtraDice = c(), this.listTraits = u(); try { var m = b(v(this.traits, [", "])); for (y = 0; y !== m.length; ++y) { var $ = m[y]; if (this.listTraits.add_11rb$($), _($.toLowerCase(), "fatal")) try { this.fatal = !0, this.critDiceSize = V(v($.toLowerCase(), [" d"]).get_za3lpa$(1)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } else if (_($.toLowerCase(), "deadly")) try { this.deadlyBonus = V(v($.toLowerCase(), [" d"]).get_za3lpa$(1)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } function Eo() { this.numDice = 1, this.diceSize = 6, this.diceColor = se().DICE_COLOR_BURGANDY, this.labelColor = se().LABEL_COLOR_WHITE, this.damageType = se().BONUS_TYPE_NAME_UNTYPED, this.extraCritDice = !1, this.partOfD100 = !1 } function Ao(t) { return t = t || Object.create(Eo.prototype), Eo.call(t), t } function bo(t, e, i) { return i = i || Object.create(Eo.prototype), Eo.call(i), i.numDice = t, i.diceSize = e, i } function Io() { Ao(this), this.flatBonus = 0 } function wo(t, i) { i = i || Object.create(Io.prototype), Io.call(i); try { var a = v(t, ["+"]); i.numDice = V(b(v(a.get_za3lpa$(0), ["d"]))[0]), i.diceSize = V(b(v(a.get_za3lpa$(0), ["d"]))[1]), 2 === a.size && (i.flatBonus = V(a.get_za3lpa$(1))) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return i } function Lo() { } function To() { ko = this } po.$metadata$ = { kind: p, simpleName: "CustomEffect", interfaces: [] }, So.prototype.createNewCharacter_cyt1w7$ = function (t, e) { t.setCharacterData_g7kqbx$(new Da), t.getCharacterData().setClassName_61zpoe$(e), t.getCharacterData().setCharacterLevel_za3lpa$(1) }, So.prototype.isFullAppEnabled = function () { return this.fullAppEnabled_0 }, So.prototype.setFullAppEnabled_6taknv$ = function (t) { this.fullAppEnabled_0 = t }, So.prototype.buildCharacter_5btbp7$ = function (t) { var i, a, r, n, c, p, h, d; for (Ma().fixMercantileLore_g7kqbx$(t.getCharacterData()), Ma().fixAllIsOneSpell_g7kqbx$(t.getCharacterData()), Ma().fixThievesTools_g7kqbx$(t.getCharacterData()), t.clearData(), this.managerSpecials.clearSpecialsHashMap(), t.loadBuildCore_sfkw43$(this), this.managerProficiencies.addProficiencies_5btbp7$(t), i = t.getCharacterData().listCustomLores.iterator(); i.hasNext();) { var _ = i.next(); re().addCustomLoreToBuild_41jgcs$(!0, this, t, 1, _) } t.getClassTemplate().activateClass_fhac18$(this, t), this.managerAncestry.getAncestryTemplate_5btbp7$(t).activateAncestry_fhac18$(this, t), this.managerProficiencies.loadSelectedProficiences_5btbp7$(t), this.managerBackgrounds.activateBackground_5btbp7$(t), t.getCharacterData().isABP() && El().activateABP_syiyjf$(this, t, !0), t.getCharacterData().isOtherCaster() && t.hashMapSpellCasters.put_xwzc9p$(z2().SPELLCASTER_OTHER, new n2), this.managerFeats.addClassArchetypeFeatsOnLoad_5btbp7$(t), this.managerFeats.addFreeArchetypeFeatsOnLoad_5btbp7$(t), this.managerFeats.addAncestryParagonFeatsOnLoad_5btbp7$(t); for (var f = 1; f <= 20; f++)this.managerFeats.activateSelectedFeatsOnLoad_vy76y1$(t, f), this.managerSpecials.activateSelectedSpecialsOnLoad_vy76y1$(t, f); for (null != t.getCharacterData().getPlayerShieldOldDeprecated() && (t.getCharacterData().setPlayerShieldNew_hbhz1b$(new ms(o(t.getCharacterData().getPlayerShieldOldDeprecated()), t.getCharacterData().getShieldDamageOldDeprecated())), t.getCharacterData().setPlayerShieldOldDeprecated_pdl1vj$(null)), Ro().fixBackgroundSkills_fhac18$(this, t), this.managerProficiencies.loadSelectedProficiences_5btbp7$(t), this.managerProficiencies.checkAllIntelligenceSkillBoostChoices_5btbp7$(t), this.managerEquipment.activateAllEquipmentOnLoad_5btbp7$(t), this.managerEquipment.activateAllArmorRunesOnLoad_5btbp7$(t), this.managerArmor.setArmorSaveBonusesOnLoad_5btbp7$(t), this.managerArmor.activateArmorEffects_fahxop$(t, !0, t.getCharacterData().getPlayerArmor()), this.managerWeapons.activateAllWeaponEffects_ryqv3o$(!0, t), this.managerSpells.loadUserCreatedBonusSpellsAndBlendingOnLoad_5btbp7$(t), a = t.getCharacterData().hashMapActiveConditions.keys.iterator(); a.hasNext();) { var y = a.next(); if (!t.getCharacterData().listCurrentlyInactiveBuffs.contains_11rb$(y)) { var m = o(t.getCharacterData().hashMapActiveConditions.get_11rb$(y)); this.managerClasses.applyConditionEffect_q0qzv0$(!0, t, y, m) } } var $ = u(); for (r = t.getCharacterData().hashMapActiveCustomBuffs.keys.iterator(); r.hasNext();) { var g = r.next(), v = this.managerClasses.customBuffSet.hashMap.get_11rb$(g); null == v ? $.add_11rb$(g) : t.getCharacterData().listCurrentlyInactiveBuffs.contains_11rb$(g) || this.managerClasses.applyCustomBuff_hqcflu$(!0, t, v) } for (n = $.iterator(); n.hasNext();) { var S = n.next(); t.getCharacterData().hashMapActiveCustomBuffs.remove_11rb$(S) } if (this.managerPets.createPetCharacterBuildsOnLoad_5btbp7$(t), this.managerClasses.getMaxHP_5btbp7$(t), !t.getCharacterData().getListKnownSpells().isEmpty()) { var C = u(); for (c = t.hashMapSpellCasters.values.iterator(); c.hasNext();) { var E = c.next(); if (1 === E.typeCaster && (C.add_11rb$(E.casterName), !t.getCharacterData().getHashMapKnownSpellsByCaster().containsKey_11rb$(E.casterName))) { var A = t.getCharacterData().getHashMapKnownSpellsByCaster(), b = E.casterName, I = u(); A.put_xwzc9p$(b, I) } } try { for (p = t.getCharacterData().getListKnownSpells().iterator(); p.hasNext();) { var w = p.next(); for (h = C.iterator(); h.hasNext();) { var L = h.next(); o(t.getCharacterData().getHashMapKnownSpellsByCaster().get_11rb$(L)).add_11rb$(w) } } t.getCharacterData().getListKnownSpells().clear() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } if (t.getCharacterData().fixKnownFormulas_5btbp7$(t), t.getCharacterData().fixUseInfused_5btbp7$(t), t.getCharacterData().fixSignatureSpells(), t.getCharacterData().listDisabledRulebooks.contains_11rb$(Ic().BOOKS_APS)) for (t.getCharacterData().listDisabledRulebooks.remove_11rb$(Ic().BOOKS_APS), d = this.managerCopyright.hashMapCopyrightInformation.keys.iterator(); d.hasNext();) { var T = d.next(), k = this.managerCopyright.hashMapCopyrightInformation.get_11rb$(T); null != T && 1 === o(k).type && t.getCharacterData().listDisabledRulebooks.add_11rb$(T) } }, So.prototype.verifyCharacterSelections_5btbp7$ = function (t) { var i, a, r, n, c, p, h, d, _, f, y = u(); for (i = t.getCharacterData().listPlayerEquipment.iterator(); i.hasNext();) { var $ = i.next(); this.managerEquipment.hashMapAllEquipmentByName.containsKey_11rb$($.name) || y.add_11rb$($) } t.getCharacterData().listPlayerEquipment.removeAll_brywnq$(y), null != t.getCharacterData().getPlayerShieldNew() && (this.managerEquipment.hashMapShields.containsKey_11rb$(o(t.getCharacterData().getPlayerShieldNew()).shieldName) || t.getCharacterData().setPlayerShieldNew_hbhz1b$(null)); var g = u(); for (a = t.getCharacterData().listPlayerWeapons.iterator(); a.hasNext();) { var v = a.next(); this.managerWeapons.hashMapWeapons.containsKey_11rb$(v.weaponName) || g.add_11rb$(v) } t.getCharacterData().listPlayerWeapons.removeAll_brywnq$(g), null != t.getCharacterData().getPlayerArmor() && (m(t.getCharacterData().getPlayerArmor().armorName, "Breasplate") && (t.getCharacterData().getPlayerArmor().armorName = "Breastplate"), this.managerArmor.hashMapArmor.containsKey_11rb$(t.getCharacterData().getPlayerArmor().armorName) || (t.getCharacterData().getPlayerArmor().armorName = "Unarmored"), null != t.getCharacterData().getPlayerArmor().getListPropertyRunes() && t.getCharacterData().getPlayerArmor().getListPropertyRunes().contains_11rb$("Energy-Resistant (Greater) - Acid") && (t.getCharacterData().getPlayerArmor().getListPropertyRunes().remove_11rb$("Energy-Resistant (Greater) - Acid"), t.getCharacterData().getPlayerArmor().getListPropertyRunes().add_11rb$("Energy Resistant (Greater) - Acid"))); var S = u(); for (r = t.getCharacterData().hashMapFeatSelections.keys.iterator(); r.hasNext();) { var C = r.next(), E = t.getCharacterData().hashMapFeatSelections.get_11rb$(C); null == this.managerFeats.getFeatInformation_pdl1vj$(o(E)) && S.add_11rb$(C) } for (n = t.getCharacterData().getHashMapPlayerSpells().values.iterator(); n.hasNext();) { var A = n.next(); m(A.spellName, "Crushing Dispair") ? A.spellName = "Crushing Despair" : m(A.spellName, "Telekinetic Manuever") && (A.spellName = "Telekinetic Maneuver") } for (c = S.iterator(); c.hasNext();) { var b = c.next(); t.getCharacterData().hashMapFeatSelections.remove_11rb$(b) } !1 === this.managerBackgrounds.backgroundSet.hashMap.containsKey_11rb$(t.getCharacterData().getBackground()) && t.getCharacterData().setBackground_61zpoe$("BACKGROUND_Scout"); try { for (p = t.getCharacterData().getHashMapFormulaBookByCaster().keys.iterator(); p.hasNext();) { var I = p.next(), w = u(); for (h = o(t.getCharacterData().getHashMapFormulaBookByCaster().get_11rb$(I)).keys.iterator(); h.hasNext();) { var L = h.next(); o(this.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(2)).containsKey_11rb$(L) || w.add_11rb$(L) } for (d = w.iterator(); d.hasNext();) { var T = d.next(); o(t.getCharacterData().getHashMapFormulaBookByCaster().get_11rb$(I)).remove_11rb$(T) } } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } var k = u(); for (_ = t.getCharacterData().hashMapActiveConditions.keys.iterator(); _.hasNext();) { var R = _.next(); this.managerClasses.conditionInformationSet.hashMap.containsKey_11rb$(R) || k.add_11rb$(R) } for (f = k.iterator(); f.hasNext();) { var P = f.next(); t.getCharacterData().hashMapActiveConditions.remove_11rb$(P) } var M = W(); M.addAll_brywnq$(t.getCharacterData().listLanguages), t.getCharacterData().listLanguages.clear(), t.getCharacterData().listLanguages.addAll_brywnq$(M) }, So.prototype.getGuiUpdateControl = function () { return this.guiUpdateControl_0 }, So.$metadata$ = { kind: p, simpleName: "DataControl", interfaces: [] }, Co.prototype.getAttackMAPString_fhac18$ = function (t, e) { var i = this.getWeaponMap_7z7xgi$(e, !1); return "<div class='subtitle'>MAP -" + i + "</div><span class='mapspan'>Attack 1</span>" + pe().getSignedValue_za3lpa$(this.attackTotal) + "<br><span class='mapspan'>Attack 2</span>" + pe().getSignedValue_za3lpa$(this.attackTotal - i | 0) + "<br><span class='mapspan'>Attack 3</span>" + pe().getSignedValue_za3lpa$(this.attackTotal - (2 * i | 0) | 0) }, Co.prototype.getWeaponMap_7z7xgi$ = function (t, e) { var i = 5; return this.listTraits.contains_11rb$("Agile") ? (i = 4, e ? i = t.getCharacterData().getCharacterLevel() >= 17 ? 1 : 2 : Lq().hasFeatByLevel_w0akbr$(t, "no ref", t.getCharacterData().getCharacterLevel(), "FIGHTER_Agile Grace") && (i = 3)) : e && (i = t.getCharacterData().getCharacterLevel() >= 17 ? 2 : 3), i }, Co.prototype.addExtraDamage_bm4lxs$ = function (t, e) { var i = this.getBonusReplacedType_ovfne9$_0(t); this.mapExtraDamages.containsKey_11rb$(i) || this.mapExtraDamages.put_xwzc9p$(i, 0); var a = this.mapExtraDamages, r = o(this.mapExtraDamages.get_11rb$(i)) + e | 0; a.put_xwzc9p$(i, r) }, Co.prototype.addExtraDamageDice_vc39vg$ = function (t, e) { var i, a = this.getBonusReplacedType_ovfne9$_0(t); if (!this.mapExtraDice.containsKey_11rb$(a)) { var r = this.mapExtraDice, n = u(); r.put_xwzc9p$(a, n) } for (i = o(this.mapExtraDice.get_11rb$(a)).iterator(); i.hasNext();) { var s = i.next(); if (s.diceSize === e.diceSize) return void (s.numDice = s.numDice + e.numDice | 0) } o(this.mapExtraDice.get_11rb$(a)).add_11rb$(e) }, Co.prototype.getBonusReplacedType_ovfne9$_0 = function (t) { return L(t, " Bonus", "") }, Co.prototype.getDamageString = function () { var t, e, i, a = this.numDice.toString() + "d" + this.diceSize; for (0 === this.diceSize ? a = "Special" : 1 === this.diceSize && (a = this.numDice.toString()), 0 !== this.flatBonus && (a += pe().getSignedValue_za3lpa$(this.flatBonus)), a += this.getTypeSpan_61zpoe$(this.damageType), t = this.mapExtraDice.keys.iterator(); t.hasNext();) { var r = t.next(); for (e = o(this.mapExtraDice.get_11rb$(r)).iterator(); e.hasNext();)a += " +" + e.next().diceAsString + this.getTypeSpan_61zpoe$(r) } for (i = this.mapExtraDamages.keys.iterator(); i.hasNext();) { var n = i.next(); a += " +" + j(this.mapExtraDamages.get_11rb$(n)) + this.getTypeSpan_61zpoe$(n) } return a }, Co.prototype.getTypeSpan_61zpoe$ = function (t) { var e = "<sup><span class='superscript-damage"; switch (t.toLowerCase()) { case "fire": e += " color-fire"; break; case "cold": e += " color-cold"; break; case "electricity": e += " color-elec"; break; case "acid": e += " color-acid"; break; case "precision": e += " color-precision" }return e += "'>" + this.replaceCommonTypes_a7lg5m$_0(t) + "</span></sup>" }, Co.prototype.replaceCommonTypes_a7lg5m$_0 = function (t) { switch (t) { case "S": return "Slashing"; case "P": return "Piercing"; case "B": return "Bludgeoning" }var e; if (t.length > 0) { K(t.charCodeAt(0)); var i = Y(t); e = String.fromCharCode(i).toUpperCase().toString() + t.substring(1) } else e = t; return e }, Co.prototype.getCriticalDamageString = function () { var t, e, i, a = "<div class='subtitle'>Critical</div>2x:<div class='crit-text'>"; for (0 === this.diceSize ? a += "Special" : 1 === this.diceSize ? a += this.numDice.toString() : a += this.numDice.toString() + "d" + this.critDiceSize, 0 !== this.flatBonus && (a += pe().getSignedValue_za3lpa$(this.flatBonus)), a += " (" + this.damageType + ")</div>", t = this.mapExtraDice.keys.iterator(); t.hasNext();) { var r = t.next(); for (e = o(this.mapExtraDice.get_11rb$(r)).iterator(); e.hasNext();)a += "<div class='crit-text'>" + e.next().diceAsString + " (" + r + ")</div>" } for (i = this.mapExtraDamages.keys.iterator(); i.hasNext();) { var n = i.next(); a += "<div class='crit-text'>" + j(this.mapExtraDamages.get_11rb$(n)) + " (" + n + ")</div>" } return this.fatal && (a += "Plus<div class='crit-text'>1d" + this.critDiceSize + " (" + this.damageType + ")</div>"), null != this.deadlyBonus && (a += "Plus<div class='crit-text'>1d" + j(this.deadlyBonus) + " (" + this.damageType + ")</div>"), a }, Co.$metadata$ = { kind: p, simpleName: "AttackDice", interfaces: [Eo] }, Object.defineProperty(Eo.prototype, "diceAsString", { configurable: !0, get: function () { return 0 === this.numDice ? "" : 1 === this.diceSize ? this.numDice.toString() : this.numDice.toString() + "d" + j(this.diceSize) } }), Eo.$metadata$ = { kind: p, simpleName: "Dice", interfaces: [] }, Io.prototype.getDiceAndFlatAsString = function () { var t = this.diceAsString; return 0 !== this.flatBonus && (t += pe().getSignedValue_za3lpa$(this.flatBonus)), t }, Io.$metadata$ = { kind: p, simpleName: "SpellDice", interfaces: [Eo] }, Lo.$metadata$ = { kind: H, simpleName: "FeatsOnTheFlyGenerator", interfaces: [] }, To.prototype.fixBackgroundSkills_fhac18$ = function (t, e) { this.fixOldAncestryArchetypeNomenclature_0(t, e), this.fixBackgroundLore_0(t, e) }, To.prototype.fixBackgroundLore_0 = function (t, e) { var i, a, r; for (i = e.getCharacterData().hashMapSkillIncreases.keys.iterator(); i.hasNext();) { var n = i.next(), s = u(); for (a = o(e.getCharacterData().hashMapSkillIncreases.get_11rb$(n)).iterator(); a.hasNext();) { var l = a.next(); if (m(l, "Lore")) { t.getGuiUpdateControl().logError_nwzcgj$(e, "FIXING BACKGROUND LORE INCREASE AT LEVEL " + n); var c = t.managerBackgrounds.getBackgroundLoreNameAsProficiencyReference_5btbp7$(e); if (e.proficiencyExists_61zpoe$(c)) { s.add_11rb$(c); var p = e.getProficiency_61zpoe$(c); o(p).addProficiencyIncrease_bm4lxs$(pK().INCREASE_TYPE_STANDARD_SELECTION + j(n), n) } else k(se().TAG + " PROFICIENCY DID NOT EXIST IN LOAD SELECTED PROFICIENCY FOR " + c) } } for (r = s.iterator(); r.hasNext();) { var h = r.next(); o(e.getCharacterData().hashMapSkillIncreases.get_11rb$(n)).add_11rb$(h) } o(e.getCharacterData().hashMapSkillIncreases.get_11rb$(n)).remove_11rb$("Lore") } }, To.prototype.fixOldAncestryArchetypeNomenclature_0 = function (t, e) { var i, a; for (i = e.getCharacterData().hashMapSkillIncreases.keys.iterator(); i.hasNext();) { var r = i.next(); for (a = o(e.getCharacterData().hashMapSkillIncreases.get_11rb$(r)).iterator(); a.hasNext();) { var n = a.next(); m(n, "Lore 2") ? o(e.getCharacterData().hashMapSkillIncreases.get_11rb$(r)).remove_11rb$("Lore 2") : m(n, "Lore 3") ? o(e.getCharacterData().hashMapSkillIncreases.get_11rb$(r)).remove_11rb$("Lore 3") : m(n, "Lore: Adventurer's Society") && (o(e.getCharacterData().hashMapSkillIncreases.get_11rb$(r)).remove_11rb$("Lore: Adventurer's Society"), o(e.getCharacterData().hashMapSkillIncreases.get_11rb$(r)).add_11rb$("Lore: Guild Lore")) } } }, To.$metadata$ = { kind: f, simpleName: "FixBackgroundSkills", interfaces: [] }; var ko = null; function Ro() { return null === ko && new To, ko } function Po() { } function Mo() { } function No(t, e) { var i, a, r, n, s, l, p, h; W0.call(this, t), this.hashMapAncestries = c(), this.listAncestryInformation_0 = null; var d = this.hashMapAncestries, u = pi().ANCESTRY_HUMAN, _ = new si; d.put_xwzc9p$(u, _); var f = this.hashMapAncestries, y = ii().ANCESTRY_HALFLING, m = new Qe; f.put_xwzc9p$(y, m); var $ = this.hashMapAncestries, g = Re().ANCESTRY_DWARF, v = new Le; $.put_xwzc9p$(g, v); var S = this.hashMapAncestries, C = De().ANCESTRY_ELF, E = new Pe; S.put_xwzc9p$(C, E); var A = this.hashMapAncestries, b = Ve().ANCESTRY_GNOME, I = new Ge; A.put_xwzc9p$(b, I); var L = this.hashMapAncestries, T = Ze().ANCESTRY_GOBLIN, k = new Ke; L.put_xwzc9p$(T, k); var R = this.hashMapAncestries, P = oi().ANCESTRY_HOBGOBLIN, M = new ai; R.put_xwzc9p$(P, M); var N = this.hashMapAncestries, D = Ii().ANCESTRY_LESHY, x = new Ei; N.put_xwzc9p$(D, x); var z = this.hashMapAncestries, O = ki().ANCESTRY_LIZARDFOLK, F = new wi; z.put_xwzc9p$(O, F); var B = this.hashMapAncestries, j = Wi().ANCESTRY_SHOONY, H = new qi; B.put_xwzc9p$(j, H); var q = this.hashMapAncestries, U = we().ANCESTRY_CATFOLK, G = new Ae; q.put_xwzc9p$(U, G); var W = this.hashMapAncestries, Y = Ci().ANCESTRY_KOBOLD, V = new gi; W.put_xwzc9p$(Y, V); var K = this.hashMapAncestries, X = Ni().ANCESTRY_ORC, J = new Ri; K.put_xwzc9p$(X, J); var Z = this.hashMapAncestries, Q = Hi().ANCESTRY_RATFOLK, tt = new Fi; Z.put_xwzc9p$(Q, tt); var et = this.hashMapAncestries, it = na().ANCESTRY_TENGU, at = new ia; et.put_xwzc9p$(it, at); var rt = this.hashMapAncestries, nt = _e().ANCESTRY_ANDROID, ot = new he; rt.put_xwzc9p$(nt, ot); var st = this.hashMapAncestries, lt = Fe().ANCESTRY_FETCHLING, ct = new xe; st.put_xwzc9p$(lt, ct); var pt = this.hashMapAncestries, ht = Ue().ANCESTRY_FLESHWARP, dt = new Be; pt.put_xwzc9p$(ht, dt); var ut = this.hashMapAncestries, _t = $i().ANCESTRY_KITSUNE, ft = new fi; ut.put_xwzc9p$(_t, ft); var yt = this.hashMapAncestries, mt = Xi().ANCESTRY_SPRITE, $t = new Yi; yt.put_xwzc9p$(mt, $t); var gt = this.hashMapAncestries, vt = ta().ANCESTRY_STRIX, St = new Ji; gt.put_xwzc9p$(vt, St); var Ct = this.hashMapAncestries, Et = Ee().ANCESTRY_AZARKETI, At = new ve; Ct.put_xwzc9p$(Et, At); var bt = this.hashMapAncestries, It = ca().ANCESTRY_ANADI, wt = new oa; bt.put_xwzc9p$(It, wt); var Lt = this.hashMapAncestries, Tt = ua().ANCESTRY_CONRASU, kt = new pa; Lt.put_xwzc9p$(Tt, kt); var Rt = this.hashMapAncestries, Pt = ma().ANCESTRY_GNOLL, Mt = new _a; Rt.put_xwzc9p$(Pt, Mt); var Nt = this.hashMapAncestries, Dt = Sa().ANCESTRY_GOLOMA, xt = new $a; Nt.put_xwzc9p$(Dt, xt); var zt = this.hashMapAncestries, Ot = ba().ANCESTRY_GRIPPLI, Ft = new Ca; zt.put_xwzc9p$(Ot, Ft); var Bt = this.hashMapAncestries, jt = Ta().ANCESTRY_SHISK, Ht = new Ia; Bt.put_xwzc9p$(jt, Ht); var qt = this.hashMapAncestries, Ut = ge().ANCESTRY_AUTOMATON, Gt = new fe; qt.put_xwzc9p$(Ut, Gt); var Wt = this.hashMapAncestries, Yt = Oi().ANCESTRY_NAME, Vt = new Di; Wt.put_xwzc9p$(Yt, Vt); var Kt = e.getAncestryDescriptions(); for (i = Kt.keys.iterator(); i.hasNext();) { var Xt = i.next(), Jt = Kt.get_11rb$(Xt); null != this.hashMapAncestries.get_11rb$(Xt) ? (null != (a = this.hashMapAncestries.get_11rb$(Xt)) && (a.description = o(Jt).description), null != (r = this.hashMapAncestries.get_11rb$(Xt)) && (r.langugages = Jt.languages), null != (n = this.hashMapAncestries.get_11rb$(Xt)) && (n.traits = Jt.traits), null != (s = this.hashMapAncestries.get_11rb$(Xt)) && (s.bonusLanguage = Jt.bonusLanguages), null != (l = this.hashMapAncestries.get_11rb$(Xt)) && (l.src = Jt.source), null != (p = this.hashMapAncestries.get_11rb$(Xt)) && (p.url = Jt.url), null != (h = this.hashMapAncestries.get_11rb$(Xt)) && h.setName_61zpoe$(Xt)) : t.getGuiUpdateControl().logError_nwzcgj$(null, "no ancestry found: " + Xt) } this.listAncestryInformation_0 = w(Kt.values) } function Do(t, e) { var i, a; for (Oo(), W0.call(this, t), this.hashMapArmor = c(), this.armorEffectMethods_0 = null, this.hashMapArmor = e.getArmorInformation(), this.armorEffectMethods_0 = new Bo(t), i = this.hashMapArmor.values.iterator(); i.hasNext();) { var r = i.next(); if (r.databaseID > -1 && null != r.listCustomEffects) for (a = o(r.listCustomEffects).iterator(); a.hasNext();) { var n = a.next(), s = t.hashMapBuffIDsToNames, l = n.getReference_sfkw43$(t), p = r.name; s.put_xwzc9p$(l, p) } } } function xo() { zo = this, this.ARMOR_NONE = "Unarmored" } Po.$metadata$ = { kind: H, simpleName: "GUIUpdateControlInterface", interfaces: [] }, Mo.$metadata$ = { kind: H, simpleName: "LoaderSetInterface", interfaces: [] }, No.prototype.activateNewAncestry_umc2jq$ = function (t, e) { this.getAncestryTemplate_5btbp7$(e).deactivateOldAncestry_fhac18$(this.dataControl, e), e.getCharacterData().setAncestry_61zpoe$(o(t)), e.getCharacterData().clearAncestryAbilityBoosts(), this.dataControl.managerFeats.deactivateAllFeatsOfType_o7aqax$(e, se().FEATS_ANCESTRY, 1), this.dataControl.managerFeats.deactivateAllFeatsOfType_o7aqax$(e, se().FEATS_HERITAGE, 1), this.getAncestryTemplate_5btbp7$(e).activateAncestry_fhac18$(this.dataControl, e) }, No.prototype.getHeritageFeatID_5btbp7$ = function (t) { var e; return null == (e = t.getCharacterData().hashMapFeatSelections.get_11rb$("Heritage Feat")) ? "Not selected" : e }, No.prototype.getHeritageDisplayName_5btbp7$ = function (t) { var e; if (null == (e = t.getCharacterData().hashMapFeatSelections.get_11rb$("Heritage Feat"))) return ""; var i = e, a = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(i); return null != a ? a.name : "" }, No.prototype.getAncestryTemplate_5btbp7$ = function (t) { var i; return e.isType(i = this.hashMapAncestries.get_11rb$(t.getCharacterData().getAncestry()), ea) ? i : d() }, No.prototype.getSize_5btbp7$ = function (t) { var e, i = this.getAncestryTemplate_5btbp7$(t).size; for (e = t.hashMapSizeModifiders.values.iterator(); e.hasNext();) { var a = e.next(); t.getCharacterData().getCharacterLevel() >= a.level && (i = i + a.increase | 0) } return 0 === i ? "Tiny" : 1 === i ? "Small" : 3 === i ? "Large" : "Medium" }, No.prototype.getListAvailableAncestries_5btbp7$ = function (t) { var i, a = u(); for (i = this.listAncestryInformation_0.iterator(); i.hasNext();) { var r = i.next(); try { Ic().isEnabled_kc4y8q$(t.getCharacterData(), r.source) && a.add_11rb$(r) } catch (t) { if (!e.isType(t, h)) throw t; s(t) } } return a }, No.$metadata$ = { kind: p, simpleName: "ManagerAncestry", interfaces: [W0] }, Do.prototype.setArmorSaveBonusesOnLoad_5btbp7$ = function (t) { var e, i, a, r, n = t.getCharacterData().getPlayerArmor(); if (n.getItemResilient_5btbp7$(t) > 0 && !n.stowed) for (e = _K().ARRAY_SAVE_PROFICIENCIES, i = 0; i !== e.length; ++i) { var s = e[i], l = t.getProficiency_61zpoe$(s); o(l).addBonus_rpybz1$(0, _K().ITEM_BONUS_ARMOR_RESILIENT, n.getItemResilient_5btbp7$(t)); var c = this.dataControl.hashMapBuffIDsToNames, p = _K().ITEM_BONUS_ARMOR_RESILIENT; c.put_xwzc9p$(p, "Resilient Armor Bonus") } else for (a = _K().ARRAY_SAVE_PROFICIENCIES, r = 0; r !== a.length; ++r) { var h = a[r], d = t.getProficiency_61zpoe$(h); o(d).removeBonus_vqvrqt$(0, _K().ITEM_BONUS_ARMOR_RESILIENT) } }, Do.prototype.getArmorAbilityBonus_5btbp7$ = function (t) { var e = pe().getAbilityMod_za3lpa$(o(t.getPlayReportAbilityScores_sfkw43$(this.dataControl)).abilityScoresBuffed[1]), i = (t.getCharacterData().getPlayerArmor(), this.getWornArmorInformation_5btbp7$(t), this.getDexCap_5btbp7$(t)); return i > -1 && e > i ? i : e }, Do.prototype.getDexCap_5btbp7$ = function (t) { var e, i = -1, a = t.getCharacterData().getPlayerArmor(), r = this.getWornArmorInformation_5btbp7$(t); for (null != o(r).dexCap && (i = o(r.dexCap), a.isArmoredSkirt() && (r.proficiencyType < 2 ? (i = i - 1 | 0) < 0 && (i = 0) : i = i + 1 | 0)), e = t.hashMapDexCapOverrides.values.iterator(); e.hasNext();) { var n = e.next(); t.getCharacterData().getCharacterLevel() >= n.level && (n.increase < i || -1 === i) && (i = n.increase) } return i }, Do.prototype.getArmorPenalty_yjt0at$ = function (t, e, i) { if (t.skillProficiencyExists_61zpoe$(i)) { var a = t.getSkillProficiency_61zpoe$(i); if (o(a).armorPenalty) return this.calculateTotalArmorPenalty_0(t, e, i) } return 0 }, Do.prototype.refreshArmorInCharacterAndPets_1waocl$ = function (t, e, i, a) { var r; if (null != i) { var n = o(e).getCharacterData().getPlayerArmor(); for (m(n.armorName, i) && this.activateArmorEffects_fahxop$(e, t, n), a && e.getCharacterData().setPlayerArmor_s8qicq$(new cs), r = e.hashMapPetCharacterBuilds.keys.iterator(); r.hasNext();) { var s = r.next(), l = e.hashMapPetCharacterBuilds.get_11rb$(s); this.refreshArmorInCharacterAndPets_1waocl$(t, l, i, a) } } }, Do.prototype.calculateTotalArmorPenalty_0 = function (t, i, a) { var r = i, n = 0; try { var l = t.getCharacterData().getPlayerArmor(), c = this.getWornArmorInformation_5btbp7$(t); n = l.getCheckPenalty_ydnd0f$(o(c)), (l.getListPropertyRunes().contains_11rb$("Fortification") || l.getListPropertyRunes().contains_11rb$("Fortification (Greater)")) && (r = r + 2 | 0), l.isArmoredSkirt() && (n = c.proficiencyType < 2 ? n + 1 | 0 : n - 1 | 0), _(this.getArmorTraits_wy0w74$(l, c).toLowerCase(), "flexible") && (m(a, pK().ACROBATICS) || m(a, pK().ATHELTICS)) && (n = 0); var p = this.getArmorReqStrength_wy0w74$(l, c); if (null != l.material) { var u, f = this.dataControl.managerEquipment.hashMapMaterialArmor, $ = l.material, g = (e.isType(u = f, y) ? u : d()).get_11rb$($); p = p - o(g).strengthAdj | 0 } r >= p && !this.armorIsNoisyAndSkillIsStrength_0(t, l, c, a) && (n = 0); var v = m(a, pK().STEALTH); if (v && (v = !_(this.getArmorTraits_wy0w74$(l, c).toLowerCase(), "noisy")), v && Lq().hasFeatByLevel_w0akbr$(t, "no ref", t.getCharacterData().getCharacterLevel(), "GENERAL_Armored Stealth")) { var S = o(t.getProficiency_61zpoe$(pK().STEALTH)).getProficiencyAtLevel_za3lpa$(t.getCharacterData().getCharacterLevel()); 8 === S ? n = n - 3 | 0 : 6 === S ? n = n - 2 | 0 : 4 === S && (n = n - 1 | 0) } return n < 0 && (n = 0), 0 | -n } catch (t) { if (!e.isType(t, h)) throw t; s(t) } return 0 }, Do.prototype.getArmorReqStrength_wy0w74$ = function (t, e) { return t.isArmoredSkirt() ? o(e).proficiencyType < 2 ? e.strength + 2 | 0 : e.strength - 2 | 0 : o(e).strength }, Do.prototype.getArmorTraits_wy0w74$ = function (t, e) { var i = o(e).armorTraits; return t.isArmoredSkirt() && (i.length > 0 && (i += ", "), _((i += "Armored Skirt").toLowerCase(), "noisy") || (i += ", Noisy")), i }, Do.prototype.armorIsNoisyAndSkillIsStrength_0 = function (t, e, i, a) { var r = m(a, pK().STEALTH); return r && (r = _(this.getArmorTraits_wy0w74$(e, i).toLowerCase(), "noisy")), r && !Lq().hasFeatByLevel_w0akbr$(t, "no ref", t.getCharacterData().getCharacterLevel(), "GENERAL_Armored Stealth") }, Do.prototype.getWornArmorInformation_5btbp7$ = function (t) { return this.getWornArmorInformation_g7kqbx$(t.getCharacterData()) }, Do.prototype.getWornArmorInformation_g7kqbx$ = function (t) { var i, a, r = t.getPlayerArmor(); return this.hashMapArmor.containsKey_11rb$(r.armorName) ? e.isType(i = this.hashMapArmor.get_11rb$(r.armorName), Qo) ? i : d() : e.isType(a = this.hashMapArmor.get_11rb$("Unarmored"), Qo) ? a : d() }, Do.prototype.getWornShieldInformation_5btbp7$ = function (t) { var e = t.getCharacterData().getPlayerShieldNew(); return null != e ? this.dataControl.managerEquipment.hashMapShields.get_11rb$(e.shieldName) : null }, Do.prototype.getArmorProficiencyType_s8qicq$ = function (t) { return pK().ARRAY_ARMOR_PROFICIENCY_TYPES[this.getArmorProficiencyInt_s8qicq$(t)] }, Do.prototype.getArmorProficiencyInt_s8qicq$ = function (t) { try { var i = this.hashMapArmor.get_11rb$(t.armorName), a = o(i).proficiencyType; return t.isArmoredSkirt() && a < 2 && (a = a + 1 | 0), a } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return 0 }, Do.prototype.getArmorTrainingLevel_a0vkeb$ = function (t, i, a) { var r; for (r = t.hashMapSpecificArmorTrainings.values.iterator(); r.hasNext();) { var n = r.next(); if (t.getCharacterData().getCharacterLevel() >= n.level && X(n.weaponNames, i.armorName)) return o(t.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).getProficiencyAtLevel_za3lpa$(a) } try { var c = this.getArmorProficiencyType_s8qicq$(i), p = this.getArmorTrainingLevelByType_o7aqax$(t, c, a); return 0 === p && _(i.armorName.toLowerCase(), "inventor") ? 2 : p } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return 0 }, Do.prototype.getArmorTrainingLevelByType_o7aqax$ = function (t, i, a) { var r, n, c; try { for (r = t.hashMapAncestralArmorExpertiseItems.values.iterator(); r.hasNext();) { var p = r.next(); if (a >= p.level) for (n = p.weaponNames, c = 0; c !== n.length; ++c) { var h = n[c]; if (m(h, i)) return o(t.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).getProficiencyAtLevel_za3lpa$(a) } } return o(t.getProficiency_61zpoe$(i)).getProficiencyAtLevel_za3lpa$(a) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return 0 }, Do.prototype.activateArmorEffects_fahxop$ = function (t, i, a) { var r; try { var n = a.armorName; this.armorEffectMethods_0.hashMapArmorEffects.containsKey_11rb$(n) && o(this.armorEffectMethods_0.hashMapArmorEffects.get_11rb$(n)).applyEffect_6dfp70$(o(t), i, "Player Armor"); var c = this.hashMapArmor.get_11rb$(a.armorName); if (null != c && null != c.listCustomEffects) for (r = o(c.listCustomEffects).iterator(); r.hasNext();)r.next().applyBonus_s8e943$(i, this.dataControl, o(t)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Do.prototype.addAdditionalStowedArmor_cyt1w7$ = function (t, e) { var i, a; if (this.hashMapArmor.containsKey_11rb$(e)) { var r = new cs; r.armorName = e; var n = this.hashMapArmor.get_11rb$(e); if (o(n).potency > 0 && r.setPotency_za3lpa$(n.potency), n.resilient > 0 && r.setItemResilient_za3lpa$(n.resilient), n.rune.length > 0) for (i = v(n.rune, ["&"]).iterator(); i.hasNext();) { var s = i.next(); r.getListPropertyRunes().add_11rb$(s) } var l = n.rune; if (null != l && 0 !== l.length) for (a = v(n.rune, ["&"]).iterator(); a.hasNext();) { var c = a.next(); r.getListPropertyRunes().add_11rb$(c) } r.stowed = !0, t.getCharacterData().listStowedPlayerArmor.add_11rb$(r) } else k(se().TAG + " PLAYER ARMOR SELECTION NOT FOUND: " + e) }, Do.prototype.setNewPlayerArmor_cyt1w7$ = function (t, e) { var i; if (this.hashMapArmor.containsKey_11rb$(e)) { var a = t.getCharacterData().getPlayerArmor(); this.dataControl.managerArmor.activateArmorEffects_fahxop$(t, !1, a), a.armorName = e, a.setPotency_za3lpa$(0), a.setArmoredSkirt_6taknv$(!1), a.material = null, a.setItemResilient_za3lpa$(0), a.getListPropertyRunes().clear(), _(a.armorName.toLowerCase(), "inventor") && null == a.mapInvModSel && (a.mapInvModSel = c()); var r = this.hashMapArmor.get_11rb$(e); o(r).potency > 0 && t.getCharacterData().getPlayerArmor().setPotency_za3lpa$(r.potency), r.resilient > 0 && t.getCharacterData().getPlayerArmor().setItemResilient_za3lpa$(r.resilient); var n = r.rune; if (null != n && 0 !== n.length) for (i = v(r.rune, ["&"]).iterator(); i.hasNext();) { var s = i.next(); t.getCharacterData().getPlayerArmor().getListPropertyRunes().add_11rb$(s) } this.dataControl.managerArmor.activateArmorEffects_fahxop$(t, !0, a) } else k(se().TAG + " PLAYER ARMOR SELECTION NOT FOUND: " + e) }, xo.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var zo = null; function Oo() { return null === zo && new xo, zo } function Fo() { } function Bo(t) { W0.call(this, t), this.hashMapArmorEffects = c(), this.setHashMapArmorEffects_0() } function jo() { } function Ho() { } function qo() { } function Uo() { } function Go() { } function Wo() { } function Yo() { } function Vo() { } function Ko() { } function Xo() { } function Jo() { } function Zo() { } function Qo() { is(), this.proficiencyType = 0, this.acBonus = 0, this.strength = 0, this.dexCap = null, this.checkPenalty = null, this.speedPenalty = null, this.armorTraits = "", this.group = "", this.potency = 0, this.resilient = 0, this.rune = "", this.identity = null } function ts() { es = this, this.COLUMN_NAME = "name", this.COLUMN_LEVEL = "level", this.COLUMN_PRICE = "price", this.COLUMN_PROFICIENCY = "proficiency", this.COLUMN_ACBONUS = "acBonus", this.COLUMN_DEXCAP = "dexCap", this.COLUMN_CHECKPENALTY = "checkPenalty", this.COLUMN_SPEEDPENALTY = "speedPenalty", this.COLUMN_STRENGTH = "strength", this.COLUMN_BULK = "bulk", this.COLUMN_GROUP = "armorGroup", this.COLUMN_ARMORTRAITS = "armorTraits", this.COLUMN_TRAITS = "traits", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SRC = "src", this.COLUMN_URL = "url", this.COLUMN_IDENTITY = "identity", this.COLUMN_POTENCY = "potency", this.COLUMN_RESILIENT = "resilient", this.COLUMN_ACTION0 = "action0", this.COLUMN_ACTION0DESC = "action0desc", this.COLUMN_ACTION1 = "action1", this.COLUMN_ACTION1DESC = "action1desc", this.COLUMN_RUNE = "rune", this.ARMOR_PROFICIENCY_LIGHT_ARMOR = 0, this.ARMOR_PROFICIENCY_MEDIUM_ARMOR = 1, this.ARMOR_PROFICIENCY_HEAVY_ARMOR = 2, this.ARMOR_PROFICIENCY_UNARMORED = 3, this.ARMOR_PROFICIENCY_BARDING = 4 } Do.$metadata$ = { kind: p, simpleName: "ManagerArmor", interfaces: [W0] }, Fo.$metadata$ = { kind: H, simpleName: "ArmorEffect", interfaces: [] }, jo.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_FORTITUDE, 1), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_REFLEX, 1), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_WILL, 1) }, jo.$metadata$ = { kind: p, interfaces: [Fo] }, Ho.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_FORTITUDE, 1), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_REFLEX, 1), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_WILL, 1) }, Ho.$metadata$ = { kind: p, interfaces: [Fo] }, qo.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_FORTITUDE, 2), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_REFLEX, 2), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_WILL, 2) }, qo.$metadata$ = { kind: p, interfaces: [Fo] }, Uo.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_FORTITUDE, 3), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_REFLEX, 3), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_WILL, 3) }, Uo.$metadata$ = { kind: p, interfaces: [Fo] }, Go.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().DIPLOMACY, 2) }, Go.$metadata$ = { kind: p, interfaces: [Fo] }, Wo.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().DIPLOMACY, 3) }, Wo.$metadata$ = { kind: p, interfaces: [Fo] }, Yo.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_FORTITUDE, 1), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_REFLEX, 1), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_WILL, 1) }, Yo.$metadata$ = { kind: p, interfaces: [Fo] }, Vo.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_FORTITUDE, 2), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_REFLEX, 2), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_WILL, 2) }, Vo.$metadata$ = { kind: p, interfaces: [Fo] }, Ko.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_FORTITUDE, 3), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_REFLEX, 3), re().addProficiencyItemBonus_cgow6u$(e, o(t), i, pK().PROFICIENCY_WILL, 3) }, Ko.$metadata$ = { kind: p, interfaces: [Fo] }, Xo.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addSpeedIncreaseItem_xs3ggp$(e, o(t), i, jW(1, 15, 0)) }, Xo.$metadata$ = { kind: p, interfaces: [Fo] }, Jo.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, "Robe of the Archmagi", 1, "Arcane Spells", 5) }, Jo.$metadata$ = { kind: p, interfaces: [Fo] }, Zo.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, "Robe of the Archmagi", 1, "Arcane Spells", 10) }, Zo.$metadata$ = { kind: p, interfaces: [Fo] }, Bo.prototype.setHashMapArmorEffects_0 = function () { var t = this.hashMapArmorEffects, e = new jo; t.put_xwzc9p$("Mage Armor (Heightened 4th)", e); var i = this.hashMapArmorEffects, a = new Ho; i.put_xwzc9p$("Mage Armor (Heightened 6th)", a); var r = this.hashMapArmorEffects, n = new qo; r.put_xwzc9p$("Mage Armor (Heightened 8th)", n); var o = this.hashMapArmorEffects, s = new Uo; o.put_xwzc9p$("Mage Armor (Heightened 10th)", s); var l = this.hashMapArmorEffects, c = new Go; l.put_xwzc9p$("Breastplate of Command", c); var p = this.hashMapArmorEffects, h = new Wo; p.put_xwzc9p$("Breastplate of Command (Greater)", h); var d = this.hashMapArmorEffects, u = new Yo; d.put_xwzc9p$("Bracers of Armor I", u); var _ = this.hashMapArmorEffects, f = new Vo; _.put_xwzc9p$("Bracers of Armor II", f); var y = this.hashMapArmorEffects, m = new Ko; y.put_xwzc9p$("Bracers of Armor III", m); var $ = this.hashMapArmorEffects, g = new Xo; $.put_xwzc9p$("Jerkin of Liberation", g); var v = this.hashMapArmorEffects, S = new Jo; v.put_xwzc9p$("Robe of the Archmagi", S); var C = this.hashMapArmorEffects, E = new Zo; C.put_xwzc9p$("Robe of the Archmagi (Greater)", E) }, Bo.$metadata$ = { kind: p, simpleName: "ArmorEffectMethods", interfaces: [W0] }, Qo.prototype.cloneValues_ydnd0f$ = function (t) { this.proficiencyType = t.proficiencyType, this.acBonus = t.acBonus, this.strength = t.strength, this.group = t.group, this.dexCap = t.dexCap, this.bulk = t.bulk, this.checkPenalty = t.checkPenalty, this.speedPenalty = t.speedPenalty, this.armorTraits = t.armorTraits }, Qo.prototype.getFullArmorDetails = function () { var t = "", e = pK().ARRAY_ARMOR_PROFICIENCY_TYPES[this.proficiencyType]; this.group.length > 0 && (e += " (" + this.group + ")"), t += e + "<br>"; var i = 0; null != this.checkPenalty && (i = o(this.checkPenalty)); var a = 0; null != this.speedPenalty && (a = o(this.speedPenalty)); var r = "-"; null != this.dexCap && o(this.dexCap) < 10 && (r = j(this.dexCap)), t += "<b>Price</b> " + pe().getPriceString_14dthe$(this.price).toString() + "; <b>Bulk</b> " + this.bulk + "; <b>AC Bonus</b> " + this.acBonus.toString() + "; <b>Dex Cap</b> " + r + "; <b>Check Penalty</b> " + j(i) + "; <b>Speed Penalty</b> " + j(a) + "; <b>Strength</b> " + this.strength.toString() + "; <b>Bulk</b> " + this.bulk + "<br><br>"; var n = this.getFullDescription(); return n.length > 0 && (t += "<br>" + n), m(this.name, "Unarmored") && (t = "Wearing no armor."), t }, ts.prototype.serializer = function () { return ns() }, ts.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var es = null; function is() { return null === es && new ts, es } function as() { this.descriptor_t3zkyu$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerarmor.ArmorInformation", this, 35), this.descriptor.addElement_ivxn3r$("databaseID", !0), this.descriptor.addElement_ivxn3r$("timestamp", !0), this.descriptor.addElement_ivxn3r$("listCustomEffects", !0), this.descriptor.addElement_ivxn3r$("uniqueIdentiier", !0), this.descriptor.addElement_ivxn3r$("category", !0), this.descriptor.addElement_ivxn3r$("name", !0), this.descriptor.addElement_ivxn3r$("itemLevel", !0), this.descriptor.addElement_ivxn3r$("amount", !0), this.descriptor.addElement_ivxn3r$("price", !0), this.descriptor.addElement_ivxn3r$("hands", !0), this.descriptor.addElement_ivxn3r$("bulk", !0), this.descriptor.addElement_ivxn3r$("traits", !0), this.descriptor.addElement_ivxn3r$("usage", !0), this.descriptor.addElement_ivxn3r$("description", !0), this.descriptor.addElement_ivxn3r$("speed", !0), this.descriptor.addElement_ivxn3r$("hashMapProficiencyBonus", !0), this.descriptor.addElement_ivxn3r$("src", !0), this.descriptor.addElement_ivxn3r$("url", !0), this.descriptor.addElement_ivxn3r$("action0", !0), this.descriptor.addElement_ivxn3r$("action0desc", !0), this.descriptor.addElement_ivxn3r$("action1", !0), this.descriptor.addElement_ivxn3r$("action1desc", !0), this.descriptor.addElement_ivxn3r$("contains", !0), this.descriptor.addElement_ivxn3r$("proficiencyType", !0), this.descriptor.addElement_ivxn3r$("acBonus", !0), this.descriptor.addElement_ivxn3r$("strength", !0), this.descriptor.addElement_ivxn3r$("dexCap", !0), this.descriptor.addElement_ivxn3r$("checkPenalty", !0), this.descriptor.addElement_ivxn3r$("speedPenalty", !0), this.descriptor.addElement_ivxn3r$("armorTraits", !0), this.descriptor.addElement_ivxn3r$("group", !0), this.descriptor.addElement_ivxn3r$("potency", !0), this.descriptor.addElement_ivxn3r$("resilient", !0), this.descriptor.addElement_ivxn3r$("rune", !0), this.descriptor.addElement_ivxn3r$("identity", !0), rs = this } Object.defineProperty(as.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_t3zkyu$_0 } }), as.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.databaseID, -1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeIntElement_ptg7oe$(this.descriptor, 0, e.databaseID), m(e.timestamp, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 1, M.StringSerializer, e.timestamp), m(e.listCustomEffects, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 2, new D(mo()), e.listCustomEffects), m(e.uniqueIdentiier, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, M.StringSerializer, e.uniqueIdentiier), m(e.category, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeIntElement_ptg7oe$(this.descriptor, 4, e.category), m(e.name, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 5) || i.encodeStringElement_iij8qq$(this.descriptor, 5, e.name), m(e.itemLevel, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 6) || i.encodeIntElement_ptg7oe$(this.descriptor, 6, e.itemLevel), m(e.amount, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 7, M.IntSerializer, e.amount), m(e.price, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 8) || i.encodeDoubleElement_powrwi$(this.descriptor, 8, e.price), m(e.hands, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 9) || i.encodeStringElement_iij8qq$(this.descriptor, 9, e.hands), m(e.bulk, "0") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 10) || i.encodeStringElement_iij8qq$(this.descriptor, 10, e.bulk), m(e.traits, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 11) || i.encodeStringElement_iij8qq$(this.descriptor, 11, e.traits), m(e.usage, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 12) || i.encodeStringElement_iij8qq$(this.descriptor, 12, e.usage), m(e.description, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 13) || i.encodeStringElement_iij8qq$(this.descriptor, 13, e.description), m(e.speed, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 14) || i.encodeIntElement_ptg7oe$(this.descriptor, 14, e.speed), m(e.hashMapProficiencyBonus, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 15) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 15, new N(M.StringSerializer, M.IntSerializer), e.hashMapProficiencyBonus), m(e.src, Ic().BOOK_CRB) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 16) || i.encodeStringElement_iij8qq$(this.descriptor, 16, e.src), m(e.url, "https://2e.aonprd.com") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 17) || i.encodeStringElement_iij8qq$(this.descriptor, 17, e.url), m(e.action0, -2) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 18) || i.encodeIntElement_ptg7oe$(this.descriptor, 18, e.action0), m(e.action0desc, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 19) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 19, M.StringSerializer, e.action0desc), m(e.action1, -2) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 20) || i.encodeIntElement_ptg7oe$(this.descriptor, 20, e.action1), m(e.action1desc, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 21) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 21, M.StringSerializer, e.action1desc), m(e.contains, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 22) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 22, M.DoubleSerializer, e.contains), m(e.proficiencyType, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 23) || i.encodeIntElement_ptg7oe$(this.descriptor, 23, e.proficiencyType), m(e.acBonus, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 24) || i.encodeIntElement_ptg7oe$(this.descriptor, 24, e.acBonus), m(e.strength, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 25) || i.encodeIntElement_ptg7oe$(this.descriptor, 25, e.strength), m(e.dexCap, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 26) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 26, M.IntSerializer, e.dexCap), m(e.checkPenalty, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 27) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 27, M.IntSerializer, e.checkPenalty), m(e.speedPenalty, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 28) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 28, M.IntSerializer, e.speedPenalty), m(e.armorTraits, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 29) || i.encodeStringElement_iij8qq$(this.descriptor, 29, e.armorTraits), m(e.group, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 30) || i.encodeStringElement_iij8qq$(this.descriptor, 30, e.group), m(e.potency, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 31) || i.encodeIntElement_ptg7oe$(this.descriptor, 31, e.potency), m(e.resilient, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 32) || i.encodeIntElement_ptg7oe$(this.descriptor, 32, e.resilient), m(e.rune, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 33) || i.encodeStringElement_iij8qq$(this.descriptor, 33, e.rune), m(e.identity, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 34) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 34, M.StringSerializer, e.identity), i.endStructure_24f42q$(this.descriptor) }, as.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, R, P, x, z, F, B, j = 0, H = 0, q = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = q.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = q.decodeIntElement_szpzho$(this.descriptor, 0), j |= 1; break; case 1: a = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 1, M.StringSerializer, a), j |= 2; break; case 2: r = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 2, new D(mo()), r), j |= 4; break; case 3: n = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, M.StringSerializer, n), j |= 8; break; case 4: o = q.decodeIntElement_szpzho$(this.descriptor, 4), j |= 16; break; case 5: s = q.decodeStringElement_szpzho$(this.descriptor, 5), j |= 32; break; case 6: l = q.decodeIntElement_szpzho$(this.descriptor, 6), j |= 64; break; case 7: c = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 7, M.IntSerializer, c), j |= 128; break; case 8: p = q.decodeDoubleElement_szpzho$(this.descriptor, 8), j |= 256; break; case 9: h = q.decodeStringElement_szpzho$(this.descriptor, 9), j |= 512; break; case 10: d = q.decodeStringElement_szpzho$(this.descriptor, 10), j |= 1024; break; case 11: u = q.decodeStringElement_szpzho$(this.descriptor, 11), j |= 2048; break; case 12: _ = q.decodeStringElement_szpzho$(this.descriptor, 12), j |= 4096; break; case 13: f = q.decodeStringElement_szpzho$(this.descriptor, 13), j |= 8192; break; case 14: y = q.decodeIntElement_szpzho$(this.descriptor, 14), j |= 16384; break; case 15: m = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 15, new N(M.StringSerializer, M.IntSerializer), m), j |= 32768; break; case 16: $ = q.decodeStringElement_szpzho$(this.descriptor, 16), j |= 65536; break; case 17: g = q.decodeStringElement_szpzho$(this.descriptor, 17), j |= 131072; break; case 18: v = q.decodeIntElement_szpzho$(this.descriptor, 18), j |= 262144; break; case 19: S = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 19, M.StringSerializer, S), j |= 524288; break; case 20: C = q.decodeIntElement_szpzho$(this.descriptor, 20), j |= 1048576; break; case 21: E = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 21, M.StringSerializer, E), j |= 2097152; break; case 22: A = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 22, M.DoubleSerializer, A), j |= 4194304; break; case 23: b = q.decodeIntElement_szpzho$(this.descriptor, 23), j |= 8388608; break; case 24: I = q.decodeIntElement_szpzho$(this.descriptor, 24), j |= 16777216; break; case 25: w = q.decodeIntElement_szpzho$(this.descriptor, 25), j |= 33554432; break; case 26: L = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 26, M.IntSerializer, L), j |= 67108864; break; case 27: T = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 27, M.IntSerializer, T), j |= 134217728; break; case 28: k = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 28, M.IntSerializer, k), j |= 268435456; break; case 29: R = q.decodeStringElement_szpzho$(this.descriptor, 29), j |= 536870912; break; case 30: P = q.decodeStringElement_szpzho$(this.descriptor, 30), j |= 1073741824; break; case 31: x = q.decodeIntElement_szpzho$(this.descriptor, 31), j |= -2147483648; break; case 32: z = q.decodeIntElement_szpzho$(this.descriptor, 32), H |= 1; break; case 33: F = q.decodeStringElement_szpzho$(this.descriptor, 33), H |= 2; break; case 34: B = q.decodeNullableSerializableElement_8viuyw$(this.descriptor, 34, M.StringSerializer, B), H |= 4; break; case -1: break t; default: throw new O(e) }return q.endStructure_24f42q$(this.descriptor), os(j, H, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, R, P, x, z, F, B, null) }, as.prototype.childSerializers = function () { return [M.IntSerializer, new R(M.StringSerializer), new R(new D(mo())), new R(M.StringSerializer), M.IntSerializer, M.StringSerializer, M.IntSerializer, new R(M.IntSerializer), M.DoubleSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.IntSerializer, new R(new N(M.StringSerializer, M.IntSerializer)), M.StringSerializer, M.StringSerializer, M.IntSerializer, new R(M.StringSerializer), M.IntSerializer, new R(M.StringSerializer), new R(M.DoubleSerializer), M.IntSerializer, M.IntSerializer, M.IntSerializer, new R(M.IntSerializer), new R(M.IntSerializer), new R(M.IntSerializer), M.StringSerializer, M.StringSerializer, M.IntSerializer, M.IntSerializer, M.StringSerializer, new R(M.StringSerializer)] }, as.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var rs = null; function ns() { return null === rs && new as, rs } function os(t, e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, R, P, M, N, D, x, z) { var O = z || Object.create(Qo.prototype); return (O = Qp(t, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, O)).proficiencyType = 0 == (8388608 & t) ? 0 : b, O.acBonus = 0 == (16777216 & t) ? 0 : I, O.strength = 0 == (33554432 & t) ? 0 : w, O.dexCap = 0 == (67108864 & t) ? null : L, O.checkPenalty = 0 == (134217728 & t) ? null : T, O.speedPenalty = 0 == (268435456 & t) ? null : k, O.armorTraits = 0 == (536870912 & t) ? "" : R, O.group = 0 == (1073741824 & t) ? "" : P, O.potency = 0 == (-2147483648 & t) ? 0 : M, O.resilient = 0 == (1 & e) ? 0 : N, O.rune = 0 == (2 & e) ? "" : D, O.identity = 0 == (4 & e) ? null : x, O } function ss(t, e) { return eh(t, e = e || Object.create(Qo.prototype)), Qo.call(e), e.name = t, e } function ls(t, e) { return ih(t, e = e || Object.create(Qo.prototype)), Qo.call(e), e.cloneValues_ydnd0f$(t), e } function cs() { ds(), iu.call(this), this.itemResilient_0 = 0, this.potency_0 = 0, this.armorName = Oo().ARMOR_NONE, this.listPropertyRunes_0 = u(), this.material = null, this.armoredSkirt_0 = !1, this.worn = !0 } function ps() { hs = this, this.RESTORE_ERROR_0 = "You must stow or remove your current armor before equipping this armor!", this.ARRAY_RESILIENT = ["None", "Resilient", "Greater Resilient", "Major Resilient"], this.RESILIENT_NONE = 0, this.RESILIENT = 1, this.RESILIENT_GREATER = 2, this.RESILIENT_MAJOR = 3 } Qo.$metadata$ = { kind: p, simpleName: "ArmorInformation", interfaces: [Wp] }, cs.prototype.isArmoredSkirt = function () { return this.armoredSkirt_0 }, cs.prototype.setArmoredSkirt_6taknv$ = function (t) { this.armoredSkirt_0 = t }, cs.prototype.getItemResilient_5btbp7$ = function (t) { return t.getCharacterData().isABP() ? El().getArmorResilientOverride_5btbp7$(t) : this.itemResilient_0 }, cs.prototype.getPotency_5btbp7$ = function (t) { return t.getCharacterData().isABP() ? El().getArmorPotencyOverride_5btbp7$(t) : this.potency_0 }, cs.prototype.setPotency_za3lpa$ = function (t) { this.potency_0 = t }, cs.prototype.setItemResilient_za3lpa$ = function (t) { this.itemResilient_0 = t }, cs.prototype.getPotencyManualSetting = function () { return this.potency_0 }, cs.prototype.getItemResilientManualSetting = function () { return this.itemResilient_0 }, cs.prototype.getMaterial = function () { return this.material }, cs.prototype.setMaterial_pdl1vj$ = function (t) { this.material = t }, cs.prototype.getArmorFullName_cfdsd3$ = function (t, e) { var i, a; if (null == t) return ""; if (t.potency > 0 && this.potency_0 === t.potency && this.itemResilient_0 === t.resilient) return null != (i = t.name) ? i : ""; var r = "", n = this.getPotency_5btbp7$(e), o = this.getItemResilient_5btbp7$(e); for (n > 0 && (r += "+" + n.toString() + " "), o > 0 && (r += ds().ARRAY_RESILIENT[o] + " "), a = this.listPropertyRunes_0.iterator(); a.hasNext();)r += a.next() + " "; return null != this.material && (r += j(this.material) + " "), r += t.name }, cs.prototype.getBulk_lrvmev$ = function (t, i, a) { var r = pe().getBulkValue_bm4lxs$(o(i).bulk, this.amount); if ((this.listPropertyRunes_0.contains_11rb$("Fortification") || this.listPropertyRunes_0.contains_11rb$("Fortification, Greater")) && (r += 1), null != this.material) { var n, s = t.managerEquipment.hashMapMaterialArmor, l = this.material, c = (e.isType(n = s, y) ? n : d()).get_11rb$(l); o(c).reducesBulk > 0 && (r -= c.reducesBulk) < 1 && (r = .1) } return r = Nc().adjustWornEquipmentForSize_t0es5s$(r, a) }, cs.prototype.getCheckPenalty_ydnd0f$ = function (t) { return null != t.checkPenalty ? o(t.checkPenalty) : 0 }, cs.prototype.geArmorItemLevel_fhac18$ = function (t, i) { var a, r = t.managerArmor.hashMapArmor.get_11rb$(this.armorName), n = 0; if (null != r) { n = r.itemLevel; try { var c = new Int32Array([0, 5, 11, 18])[this.getPotency_5btbp7$(i)]; c > n && (n = c); var p = new Int32Array([0, 8, 14, 20])[this.itemResilient_0]; if (p > n && (n = p), null != this.material) { var h, u = t.managerEquipment.hashMapMaterialArmor, _ = this.material, f = (e.isType(h = u, y) ? h : d()).get_11rb$(_); o(f).level > n && (n = f.level) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } for (a = this.listPropertyRunes_0.iterator(); a.hasNext();) { var m = a.next(), $ = o(t.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(101)).get_11rb$(m); null != $ && $.itemLevel > n && (n = $.itemLevel) } return n }, cs.prototype.getDisplayName_fhac18$ = function (t, e) { var i; if (null == (i = t.managerArmor.hashMapArmor.get_11rb$(this.armorName))) return ""; var a = i; return this.getArmorFullName_cfdsd3$(a, e) }, cs.prototype.getBasePlayerEquipment_sfkw43$ = function (t) { var e; return null == (e = t.managerArmor.hashMapArmor.get_11rb$(this.armorName)) ? th("Not found", 0) : e }, cs.prototype.getTraits_fhac18$ = function (t, e) { var i, a, r; if (null == (i = t.managerArmor.hashMapArmor.get_11rb$(this.armorName))) return ""; var n = i, o = t.managerArmor.getArmorTraits_wy0w74$(this, n), s = t.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(101); if (null != s) for (a = this.listPropertyRunes_0.iterator(); a.hasNext();) { var l = a.next(), c = s.get_11rb$(l); null != c && c.traits.length > 0 && (o.length > 0 && (o += ", "), o += c.traits) } if (this.getPotency_5btbp7$(e) > 0 && !_(o, "Magical") && (o.length > 0 && (o += ", "), o += "Magical"), n.traits.length > 0) for (r = v(n.traits, [", "]).iterator(); r.hasNext();) { var p = r.next(); _(o, p) || (o.length > 0 && (o += ", "), o += p) } return o }, cs.prototype.getItemLevel_fhac18$ = function (t, e) { return this.geArmorItemLevel_fhac18$(t, e) }, cs.prototype.getDescription_fhac18$ = function (t, e) { var i = t.managerArmor.hashMapArmor.get_11rb$(this.armorName), a = ""; return o(i).armorTraits.length > 0 && (a += i.armorTraits + "<br><br>"), a += i.getFullDescription() }, cs.prototype.removeItem_fhac18$ = function (t, e) { e.getCharacterData().listStowedPlayerArmor.remove_11rb$(this) }, cs.prototype.restoreItem_fhac18$ = function (t, e) { var i, a, r; if (t.managerArmor.activateArmorEffects_fahxop$(e, !0, this), this.itemResilient_0 > 0) for (i = _K().ARRAY_SAVE_PROFICIENCIES, a = 0; a !== i.length; ++a) { var n = i[a], s = e.getProficiency_61zpoe$(n); o(s).addBonus_rpybz1$(0, _K().ITEM_BONUS_ARMOR_RESILIENT, this.itemResilient_0); var l = t.hashMapBuffIDsToNames, c = _K().ITEM_BONUS_ARMOR_RESILIENT; l.put_xwzc9p$(c, "Resilient Armor Bonus") } if (e.getCharacterData().setPlayerArmor_s8qicq$(this), e.getCharacterData().listStowedPlayerArmor.remove_11rb$(this), null != this.mapInvModSel) for (r = o(this.mapInvModSel).keys.iterator(); r.hasNext();) { var p = r.next(); t.managerEquipment.activateInventorModifications_rvs3un$(!0, e, p, !1) } }, cs.prototype.restoreSwapItem_fhac18$ = function (t, e) { var i, a, r, n = e.getCharacterData(); if (n.listStowedPlayerArmor.add_11rb$(n.getPlayerArmor()), t.managerArmor.activateArmorEffects_fahxop$(e, !1, n.getPlayerArmor()), n.getPlayerArmor().getItemResilient_5btbp7$(e) > 0) for (i = _K().ARRAY_SAVE_PROFICIENCIES, a = 0; a !== i.length; ++a) { var o = i[a]; (null != (r = e.getProficiency_61zpoe$(o)) ? r : new nK).removeBonus_vqvrqt$(0, _K().ITEM_BONUS_ARMOR_RESILIENT) } this.restoreItem_fhac18$(t, e) }, cs.prototype.getRestoreSwapCurrent_fhac18$ = function (t, e) { return e.getCharacterData().getPlayerArmor().armorName }, cs.prototype.canRestore_fhac18$ = function (t, e) { return !!m(e.getCharacterData().getPlayerArmor().armorName, "Unarmored") }, cs.prototype.getRestoreErrorMessage = function () { return ds().RESTORE_ERROR_0 }, ps.prototype.serializer = function () { return fs() }, ps.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var hs = null; function ds() { return null === hs && new ps, hs } function us() { this.descriptor_4vuwwh$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerarmor.PlayerArmor", this, 12), this.descriptor.addElement_ivxn3r$("stowed", !0), this.descriptor.addElement_ivxn3r$("inContainerID", !0), this.descriptor.addElement_ivxn3r$("amount", !0), this.descriptor.addElement_ivxn3r$("mapInvModSel", !0), this.descriptor.addElement_ivxn3r$("bulkOverride", !0), this.descriptor.addElement_ivxn3r$("itemResilient", !0), this.descriptor.addElement_ivxn3r$("potency", !0), this.descriptor.addElement_ivxn3r$("armorName", !0), this.descriptor.addElement_ivxn3r$("listPropertyRunes", !0), this.descriptor.addElement_ivxn3r$("material", !0), this.descriptor.addElement_ivxn3r$("armoredSkirt", !0), this.descriptor.addElement_ivxn3r$("worn", !0), _s = this } cs.prototype.getListPropertyRunes = function () { return this.listPropertyRunes_0 }, Object.defineProperty(us.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_4vuwwh$_0 } }), us.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.stowed, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 0, e.stowed), m(e.inContainerID, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 1, M.StringSerializer, e.inContainerID), m(e.amount, 1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.amount), m(e.mapInvModSel, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, new N(M.StringSerializer, M.StringSerializer), e.mapInvModSel), m(e.bulkOverride, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 4, M.StringSerializer, e.bulkOverride), m(e.itemResilient_0, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 5) || i.encodeIntElement_ptg7oe$(this.descriptor, 5, e.itemResilient_0), m(e.potency_0, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 6) || i.encodeIntElement_ptg7oe$(this.descriptor, 6, e.potency_0), m(e.armorName, Oo().ARMOR_NONE) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || i.encodeStringElement_iij8qq$(this.descriptor, 7, e.armorName), m(e.listPropertyRunes_0, u()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 8) || i.encodeSerializableElement_r4qlx7$(this.descriptor, 8, new D(M.StringSerializer), e.listPropertyRunes_0), m(e.material, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 9) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 9, M.StringSerializer, e.material), m(e.armoredSkirt_0, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 10) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 10, e.armoredSkirt_0), m(e.worn, !0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 11) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 11, e.worn), i.endStructure_24f42q$(this.descriptor) }, us.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p, h, d, u, _ = 0, f = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = f.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = f.decodeBooleanElement_szpzho$(this.descriptor, 0), _ |= 1; break; case 1: a = f.decodeNullableSerializableElement_8viuyw$(this.descriptor, 1, M.StringSerializer, a), _ |= 2; break; case 2: r = f.decodeIntElement_szpzho$(this.descriptor, 2), _ |= 4; break; case 3: n = f.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, new N(M.StringSerializer, M.StringSerializer), n), _ |= 8; break; case 4: o = f.decodeNullableSerializableElement_8viuyw$(this.descriptor, 4, M.StringSerializer, o), _ |= 16; break; case 5: s = f.decodeIntElement_szpzho$(this.descriptor, 5), _ |= 32; break; case 6: l = f.decodeIntElement_szpzho$(this.descriptor, 6), _ |= 64; break; case 7: c = f.decodeStringElement_szpzho$(this.descriptor, 7), _ |= 128; break; case 8: p = f.decodeSerializableElement_12e8id$(this.descriptor, 8, new D(M.StringSerializer), p), _ |= 256; break; case 9: h = f.decodeNullableSerializableElement_8viuyw$(this.descriptor, 9, M.StringSerializer, h), _ |= 512; break; case 10: d = f.decodeBooleanElement_szpzho$(this.descriptor, 10), _ |= 1024; break; case 11: u = f.decodeBooleanElement_szpzho$(this.descriptor, 11), _ |= 2048; break; case -1: break t; default: throw new O(e) }return f.endStructure_24f42q$(this.descriptor), ys(_, i, a, r, n, o, s, l, c, p, h, d, u, null) }, us.prototype.childSerializers = function () { return [M.BooleanSerializer, new R(M.StringSerializer), M.IntSerializer, new R(new N(M.StringSerializer, M.StringSerializer)), new R(M.StringSerializer), M.IntSerializer, M.IntSerializer, M.StringSerializer, new D(M.StringSerializer), new R(M.StringSerializer), M.BooleanSerializer, M.BooleanSerializer] }, us.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var _s = null; function fs() { return null === _s && new us, _s } function ys(t, e, i, a, r, n, o, s, l, c, p, h, d, _) { var f = _ || Object.create(cs.prototype); return (f = ou(t, e, i, a, r, n, f)).itemResilient_0 = 0 == (32 & t) ? 0 : o, f.potency_0 = 0 == (64 & t) ? 0 : s, f.armorName = 0 == (128 & t) ? Oo().ARMOR_NONE : l, f.listPropertyRunes_0 = 0 == (256 & t) ? u() : c, f.material = 0 == (512 & t) ? null : p, f.armoredSkirt_0 = 0 != (1024 & t) && h, f.worn = 0 == (2048 & t) || d, f } function ms(t, e) { vs(), iu.call(this), this.shieldName = t, this.shieldDamage = e, this.listPropertyRunes_0 = u(), this.shieldName = this.shieldName, this.shieldDamage = this.shieldDamage } function $s() { gs = this } cs.$metadata$ = { kind: p, simpleName: "PlayerArmor", interfaces: [iu] }, ms.prototype.getListPropertyRunes = function () { return this.listPropertyRunes_0 }, ms.prototype.getDisplayName_fhac18$ = function (t, e) { var i, a = t.managerEquipment.hashMapShields.get_11rb$(this.shieldName); return null != (i = null != a ? a.name : null) ? i : "Shield" }, ms.prototype.getBasePlayerEquipment_sfkw43$ = function (t) { var e, i; return null == (i = null != (e = t.managerEquipment.hashMapShields) ? e.get_11rb$(this.shieldName) : null) ? th("Not found", 0) : i }, ms.prototype.getTraits_fhac18$ = function (t, e) { var i, a; return null == (a = null != (i = t.managerEquipment.hashMapShields) ? i.get_11rb$(this.shieldName) : null) ? "" : a.traits }, ms.prototype.getItemLevel_fhac18$ = function (t, e) { var i, a; return null == (a = null != (i = t.managerEquipment.hashMapShields) ? i.get_11rb$(this.shieldName) : null) ? 0 : a.itemLevel }, ms.prototype.getDescription_fhac18$ = function (t, e) { var i, a; if (null == (a = null != (i = t.managerEquipment.hashMapShields) ? i.get_11rb$(this.shieldName) : null)) return ""; var r = a, n = ""; return 0 !== this.shieldDamage && (n += "Shield Damaged by " + this.shieldDamage + "<br>"), n + r.getFullDescription() }, ms.prototype.removeItem_fhac18$ = function (t, e) { e.getCharacterData().listStowedPlayerShields.remove_11rb$(this) }, ms.prototype.restoreItem_fhac18$ = function (t, e) { e.getCharacterData().setPlayerShieldNew_hbhz1b$(this), t.managerEquipment.activateShieldEffects_ejs4i3$(!0, e), e.getCharacterData().listStowedPlayerShields.remove_11rb$(this) }, ms.prototype.restoreSwapItem_fhac18$ = function (t, e) { var i = e.getCharacterData(); null != i.getPlayerShieldNew() && (i.listStowedPlayerShields.add_11rb$(o(i.getPlayerShieldNew())), t.managerEquipment.activateShieldEffects_ejs4i3$(!1, e)), this.restoreItem_fhac18$(t, e) }, ms.prototype.getRestoreSwapCurrent_fhac18$ = function (t, e) { return null != e.getCharacterData().getPlayerShieldNew() ? o(e.getCharacterData().getPlayerShieldNew()).shieldName : null }, ms.prototype.canRestore_fhac18$ = function (t, e) { return null == e.getCharacterData().getPlayerShieldNew() }, ms.prototype.getRestoreErrorMessage = function () { return "You must stow or remove your current shield before restoring this one!" }, $s.prototype.serializer = function () { return Es() }, $s.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var gs = null; function vs() { return null === gs && new $s, gs } function Ss() { this.descriptor_tufzz1$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerarmor.PlayerShield", this, 8), this.descriptor.addElement_ivxn3r$("stowed", !0), this.descriptor.addElement_ivxn3r$("inContainerID", !0), this.descriptor.addElement_ivxn3r$("amount", !0), this.descriptor.addElement_ivxn3r$("mapInvModSel", !0), this.descriptor.addElement_ivxn3r$("bulkOverride", !0), this.descriptor.addElement_ivxn3r$("shieldName", !1), this.descriptor.addElement_ivxn3r$("shieldDamage", !1), this.descriptor.addElement_ivxn3r$("listPropertyRunes", !0), Cs = this } Object.defineProperty(Ss.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_tufzz1$_0 } }), Ss.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.stowed, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 0, e.stowed), m(e.inContainerID, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 1, M.StringSerializer, e.inContainerID), m(e.amount, 1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.amount), m(e.mapInvModSel, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, new N(M.StringSerializer, M.StringSerializer), e.mapInvModSel), m(e.bulkOverride, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 4, M.StringSerializer, e.bulkOverride), i.encodeStringElement_iij8qq$(this.descriptor, 5, e.shieldName), i.encodeIntElement_ptg7oe$(this.descriptor, 6, e.shieldDamage), m(e.listPropertyRunes_0, u()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || i.encodeSerializableElement_r4qlx7$(this.descriptor, 7, new D(M.StringSerializer), e.listPropertyRunes_0), i.endStructure_24f42q$(this.descriptor) }, Ss.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p = 0, h = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = h.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = h.decodeBooleanElement_szpzho$(this.descriptor, 0), p |= 1; break; case 1: a = h.decodeNullableSerializableElement_8viuyw$(this.descriptor, 1, M.StringSerializer, a), p |= 2; break; case 2: r = h.decodeIntElement_szpzho$(this.descriptor, 2), p |= 4; break; case 3: n = h.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, new N(M.StringSerializer, M.StringSerializer), n), p |= 8; break; case 4: o = h.decodeNullableSerializableElement_8viuyw$(this.descriptor, 4, M.StringSerializer, o), p |= 16; break; case 5: s = h.decodeStringElement_szpzho$(this.descriptor, 5), p |= 32; break; case 6: l = h.decodeIntElement_szpzho$(this.descriptor, 6), p |= 64; break; case 7: c = h.decodeSerializableElement_12e8id$(this.descriptor, 7, new D(M.StringSerializer), c), p |= 128; break; case -1: break t; default: throw new O(e) }return h.endStructure_24f42q$(this.descriptor), As(p, i, a, r, n, o, s, l, c, null) }, Ss.prototype.childSerializers = function () { return [M.BooleanSerializer, new R(M.StringSerializer), M.IntSerializer, new R(new N(M.StringSerializer, M.StringSerializer)), new R(M.StringSerializer), M.StringSerializer, M.IntSerializer, new D(M.StringSerializer)] }, Ss.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var Cs = null; function Es() { return null === Cs && new Ss, Cs } function As(t, e, i, a, r, n, o, s, l, c) { var p = c || Object.create(ms.prototype); if (p = ou(t, e, i, a, r, n, p), 0 == (32 & t)) throw J("shieldName"); if (p.shieldName = o, 0 == (64 & t)) throw J("shieldDamage"); return p.shieldDamage = s, p.listPropertyRunes_0 = 0 == (128 & t) ? u() : l, p.shieldName = p.shieldName, p.shieldDamage = p.shieldDamage, p } function bs() { this.hashMapBackgroundEffects_0 = c(), this.setHashMapBackgroundEffects_0() } function Is() { } function ws() { } function Ls() { } function Ts() { } function ks() { } function Rs() { } function Ps() { } function Ms() { } function Ns(t) { this.closure$eidolonType = t } function Ds() { } function xs() { } function zs() { } function Os() { } function Fs() { } function Bs() { } function js() { } function Hs() { } function qs(t, e) { this.closure$resistance = t, this.closure$reference = e } function Us() { } function Gs() { } function Ws() { } function Ys(t, e) { this.closure$resistance = t, this.closure$reference = e } function Vs() { } function Ks() { Zs(), this.databaseID = -1, this.id = "", this.name = "", this.traits = null, this.boost_ref_1 = null, this.boost_ref_2 = null, this.boost_ref_3 = null, this.numFreeBoosts = 1, this.freeFeatID = null, this.freeFeatDetail = "", this.skill = null, this.skill2 = null, this.lore = null, this.description = "", this.category = 3, this.src = Ic().BOOK_CRB, this.url = "https://2e.aonprd.com/Backgrounds.aspx", this.limitedBoosts_0 = null } function Xs() { Js = this, this.BACKGROUND_CAT_CRB = 0, this.BACKGROUND_CAT_OTHER = 1, this.BACKGROUND_CAT_CAMPAIGN = 2, this.BACKGROUND_CAT_CUSTOM = 3, this.TABLE_NAME = "backgrounds", this.COLUMN_ID = "id", this.COLUMN_NAME = "name", this.COLUMN_BOOST_1 = "boost_ref_1", this.COLUMN_BOOST_2 = "boost_ref_2", this.COLUMN_FREE_FEAT = "freeFeatID", this.COLUMN_FREE_FEAT_DETAIL = "freeFeatDetail", this.COLUMN_LORE = "lore", this.COLUMN_SKILL = "skill", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SRC = "src", this.COLUMN_URL = "url", this.ID_CUSTOM_0 = "Custom_" } ms.$metadata$ = { kind: p, simpleName: "PlayerShield", interfaces: [iu] }, Is.$metadata$ = { kind: H, simpleName: "BackgroundEffect", interfaces: [] }, bs.prototype.activateBackground_z0ojgs$ = function (t, e, i, a) { this.hashMapBackgroundEffects_0.containsKey_11rb$(a.id) && o(this.hashMapBackgroundEffects_0.get_11rb$(a.id)).activateBackgroud_z0ojgs$(t, e, i, a) }, ws.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { re().addSpecialFromSpecificClass_sqtpfg$(t, e, i, "Background Effect", 1, BK().SPECIALS_UNIVERSAL, "Warding Sign") }, ws.$metadata$ = { kind: p, interfaces: [Is] }, Ls.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r = MK(a.id, 1, e.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(i), e.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(i), 1); re().addTrainedOnlySkillChoice_b4bmjk$(t, e, i, a.id, r) }, Ls.$metadata$ = { kind: p, interfaces: [Is] }, Ts.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { re().addAdditionalLoreWithAutomaticIncrease_5q64f9$(t, i, 1, "Background Effect", "Boneyard") }, Ts.$metadata$ = { kind: p, interfaces: [Is] }, ks.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { re().addSpecialFromSpecificClass_sqtpfg$(t, e, i, "Background Effect", 1, BK().SPECIALS_UNIVERSAL, "Fey's Fortune") }, ks.$metadata$ = { kind: p, interfaces: [Is] }, Rs.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { t ? BK().hasSpecialByLevel_o7aqax$(i, "Low-Light Vision", 1) ? re().addSpecialFromSpecificClass_sqtpfg$(t, e, i, "Background Effect", 1, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) : re().addSpecialFromSpecificClass_sqtpfg$(t, e, i, "Background Effect", 1, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_LOW_LIGHT_VISION) : o(i.hashMapSpecialInformation[0]).remove_11rb$("Background Effect"), re().addSpecialFromSpecificClass_sqtpfg$(t, e, i, "Background Effect 2", 1, BK().SPECIALS_UNIVERSAL, "Imprecise Scent") }, Rs.$metadata$ = { kind: p, interfaces: [Is] }, Ps.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { re().addLoreAndTrained_k5t0i3$(t, e, i, 1, "Background Effect", "Underworld") }, Ps.$metadata$ = { kind: p, interfaces: [Is] }, Ns.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addLoreAndTrained_k5t0i3$(i, t, e, a, "Eidolon Contact", this.closure$eidolonType) }, Ns.$metadata$ = { kind: p, interfaces: [xX] }, Ms.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r, n = T([pK().ARCANA, pK().OCCULTISM, pK().NATURE, pK().RELIGION]), s = MK(a.id, 1, n, e.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(i), 1); re().addTrainedOnlySkillChoice_b4bmjk$(t, e, i, a.id, s); var l = "BACKGROUND_Eidolon Contact"; if (t) { var p = qX("Eidolon Contact", 1); p.textDescription = "Youre trained in a Lore skill for the creature associated with your contacted eidolon (such as Angel Lore or Dragon Lore)"; var h = c(); for (r = e.managerPets.hashMapEidolonInformation.keys.iterator(); r.hasNext();) { var d = r.next(), u = qX(d, 1); u.specialEffect = new Ns(d), h.put_xwzc9p$(d, u) } p.hashMapSpecialChoices.put_xwzc9p$("Select Eidolon Lore", h), o(i.hashMapSpecialInformation[0]).put_xwzc9p$(l, p) } else { var _ = o(i.hashMapSpecialInformation[0]).get_11rb$(l); null != _ && e.managerSpecials.activateSpecial_2yti0t$(e, i, !1, l, _), o(i.hashMapSpecialInformation[0]).remove_11rb$(l) } }, Ms.$metadata$ = { kind: p, interfaces: [Is] }, Ds.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r = T([pK().ARCANA, pK().OCCULTISM, pK().NATURE, pK().RELIGION]), n = MK(a.id, 1, r, e.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(i), 1); re().addTrainedOnlySkillChoice_b4bmjk$(t, e, i, a.id, n) }, Ds.$metadata$ = { kind: p, interfaces: [Is] }, xs.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r = DK(a.id, 1, null, null, 1); r.loresOnly = !0, r.title = "Background", re().addTrainedOnlySkillChoice_b4bmjk$(t, e, i, a.id, r) }, xs.$metadata$ = { kind: p, interfaces: [Is] }, zs.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r = e.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(i), n = MK(a.id, 1, r, r, 1); re().addTrainedOnlySkillChoice_b4bmjk$(t, e, i, a.id, n), re().addSpecialFromSpecificClass_sqtpfg$(t, e, i, "BACKGROUND_Chosen One", 1, BK().SPECIALS_UNIVERSAL, "Prophecy's Pawn") }, zs.$metadata$ = { kind: p, interfaces: [Is] }, Os.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r = e.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(i), n = MK(a.id, 1, r, r, 1); re().addTrainedOnlySkillChoice_b4bmjk$(t, e, i, a.id, n) }, Os.$metadata$ = { kind: p, interfaces: [Is] }, Fs.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { re().addInitiativeIncreaseItem_sfpo92$(t, i, a.id, xW(1, 2, se().BONUS_TYPE_NAME_CIRCUMSTANCE)) }, Fs.$metadata$ = { kind: p, interfaces: [Is] }, Bs.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { re().addSpecialFromSpecificClass_sqtpfg$(t, e, i, "BACKGROUND_Genie-Blessed", 1, BK().SPECIALS_UNIVERSAL, "Wish for Luck") }, Bs.$metadata$ = { kind: p, interfaces: [Is] }, js.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r, n = "BACKGROUND_Magical Experiment"; if (t) { var s = qX("Enhanced Senses", 1); s.textDescription = "You gain low-light vision (or darkvision if you already had low-light vision) and an imprecise sense with a range of 30 feet, such as scent, thoughtsense, tremorsense, or wavesense."; var l = c(), p = qX(se().UNIVERSAL_LOW_LIGHT_VISION, 1); p.textDescription = o(e.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$(se().UNIVERSAL_LOW_LIGHT_VISION)).textDescription; var h = l, d = se().UNIVERSAL_LOW_LIGHT_VISION, u = p; h.put_xwzc9p$(d, u), (p = qX(se().UNIVERSAL_DARKVISION, 1)).textDescription = o(e.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$(se().UNIVERSAL_DARKVISION)).textDescription; var _ = l, f = se().UNIVERSAL_DARKVISION, y = p; _.put_xwzc9p$(f, y); var m = l; for (s.hashMapSpecialChoices.put_xwzc9p$("Select Enhanced Vision", m), l = c(), r = T(["Scent", "Thoughtsense", "Tremorsense", "Wavesense"]).iterator(); r.hasNext();) { var $ = r.next(); (p = qX($, 1)).textDescription = "An imprecise sense with a range of 30 feet."; var g = p; l.put_xwzc9p$($, g) } var v = l; s.hashMapSpecialChoices.put_xwzc9p$("Select Imprecise Scent", v), o(i.hashMapSpecialInformation[0]).put_xwzc9p$(n, s) } else { var S = o(i.hashMapSpecialInformation[0]).get_11rb$(n); null != S && e.managerSpecials.activateSpecial_2yti0t$(e, i, !1, n, S), o(i.hashMapSpecialInformation[0]).remove_11rb$(n) } }, js.$metadata$ = { kind: p, interfaces: [Is] }, qs.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapResistances, o = this.closure$reference + this.closure$resistance, s = RX(a, this.closure$resistance, !0); n.put_xwzc9p$(o, s) } else e.hashMapResistances.remove_11rb$(this.closure$reference + this.closure$resistance) }, qs.$metadata$ = { kind: p, interfaces: [xX] }, Hs.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r, n = "BACKGROUND_Magical Experiment"; if (t) { var s = qX("Resistant Skin", 1); s.textDescription = "The experiments rendered your skin tougher and resilient to a particular type of damage. You gain resistance equal to half your level (minimum resistance 1) against two of the following types of energy damage, one chosen by you and the other chosen by the GM: acid, cold, electricity, fire, or sonic. "; var l = c(); for (r = T([TX().RESISTANCE_COLD, TX().RESISTANCE_ACID, TX().RESISTANCE_ELECTRICITY, TX().RESISTANCE_FIRE, TX().RESISTANCE_SONIC]).iterator(); r.hasNext();) { var p = r.next(), h = qX(p, 1); h.specialEffect = new qs(p, n), l.put_xwzc9p$(p, h) } s.hashMapSpecialChoices.put_xwzc9p$("Select Resistance 1", l), s.hashMapSpecialChoices.put_xwzc9p$("Select Resistance 2", l), o(i.hashMapSpecialInformation[0]).put_xwzc9p$(n, s) } else { var d = o(i.hashMapSpecialInformation[0]).get_11rb$(n); null != d && e.managerSpecials.activateSpecial_2yti0t$(e, i, !1, n, d), o(i.hashMapSpecialInformation[0]).remove_11rb$(n) } }, Hs.$metadata$ = { kind: p, interfaces: [Is] }, Us.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r = DK(a.id, 3, null, null, 1); r.loresOnly = !0, r.title = "Background", re().addTrainedOnlySkillChoice_b4bmjk$(t, e, i, a.id, r), re().addSpecialFromSpecificClass_sqtpfg$(t, e, i, "BACKGROUND_Time Traveler", 1, BK().SPECIALS_UNIVERSAL, "Bend Time") }, Us.$metadata$ = { kind: p, interfaces: [Is] }, Gs.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r = DK(a.id, 2, null, null, 1); r.loresOnly = !0, r.title = "Background", re().addTrainedOnlySkillChoice_b4bmjk$(t, e, i, a.id, r) }, Gs.$metadata$ = { kind: p, interfaces: [Is] }, Ys.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapResistances, o = this.closure$reference + this.closure$resistance, s = RX(a, this.closure$resistance, !0); n.put_xwzc9p$(o, s) } else e.hashMapResistances.remove_11rb$(this.closure$reference + this.closure$resistance); re().addLoreAndTrained_k5t0i3$(i, t, e, a, "Energy Scarred", this.closure$resistance) }, Ys.$metadata$ = { kind: p, interfaces: [xX] }, Ws.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r, n = "BACKGROUND_Energy Scarred"; if (t) { var s = qX("Energy Scarred", 1); s.textDescription = "Your innate magical trait is primal. Choose acid, cold, electricity, fire, force, negative, positive, or sonic. You are trained in a Lore skill associated with the chosen energy (such as Fire Lore) and you gain resistance to that energy type equal to half your level (minimum 1)."; var l = c(); for (r = T([TX().RESISTANCE_COLD, TX().RESISTANCE_ACID, TX().RESISTANCE_ELECTRICITY, TX().RESISTANCE_FIRE, TX().RESISTANCE_SONIC, TX().RESISTANCE_NEGATIVE, TX().RESISTANCE_POSITIVE, TX().RESISTANCE_FORCE]).iterator(); r.hasNext();) { var p = r.next(), h = qX(p, 1); h.specialEffect = new Ys(p, n), l.put_xwzc9p$(p, h) } s.hashMapSpecialChoices.put_xwzc9p$("Select Resistance", l), o(i.hashMapSpecialInformation[0]).put_xwzc9p$(n, s) } else { var d = o(i.hashMapSpecialInformation[0]).get_11rb$(n); null != d && e.managerSpecials.activateSpecial_2yti0t$(e, i, !1, n, d), o(i.hashMapSpecialInformation[0]).remove_11rb$(n) } }, Ws.$metadata$ = { kind: p, interfaces: [Is] }, Vs.prototype.activateBackgroud_z0ojgs$ = function (t, e, i, a) { var r = a.id, n = DK(r, 1, null, null, 1); n.loresOnly = !0, n.title = "Background", re().addTrainedOnlySkillChoice_b4bmjk$(t, e, i, r, n) }, Vs.$metadata$ = { kind: p, interfaces: [Is] }, bs.prototype.setHashMapBackgroundEffects_0 = function () { var t = this.hashMapBackgroundEffects_0, e = new ws; t.put_xwzc9p$("BACKGROUND_Cursed", e); var i = this.hashMapBackgroundEffects_0, a = new Ls; i.put_xwzc9p$("BACKGROUND_Haunted", a); var r = this.hashMapBackgroundEffects_0, n = new Ts; r.put_xwzc9p$("BACKGROUND_Returned", n); var o = this.hashMapBackgroundEffects_0, s = new ks; o.put_xwzc9p$("BACKGROUND_Feybound", s); var l = this.hashMapBackgroundEffects_0, c = new Rs; l.put_xwzc9p$("BACKGROUND_Feral Child", c); var p = this.hashMapBackgroundEffects_0, h = new Ps; p.put_xwzc9p$("BACKGROUND_Undercover Lotus Guard", h); var d = this.hashMapBackgroundEffects_0, u = new Ms; d.put_xwzc9p$("BACKGROUND_Eidolon Contact", u); var _ = this.hashMapBackgroundEffects_0, f = new Ds; _.put_xwzc9p$("BACKGROUND_Student Of Magic", f); var y = this.hashMapBackgroundEffects_0, m = new xs; y.put_xwzc9p$("BACKGROUND_Anti-Magical", m); var $ = this.hashMapBackgroundEffects_0, g = new zs; $.put_xwzc9p$("BACKGROUND_Chosen One", g); var v = this.hashMapBackgroundEffects_0, S = new Os; v.put_xwzc9p$("BACKGROUND_Mechanical Symbiosis", S); var C = this.hashMapBackgroundEffects_0, E = new Fs; C.put_xwzc9p$("BACKGROUND_Saved By Clockwork", E); var A = this.hashMapBackgroundEffects_0, b = new Bs; A.put_xwzc9p$("BACKGROUND_Genie-Blessed", b); var I = this.hashMapBackgroundEffects_0, w = new js; I.put_xwzc9p$("BACKGROUND_Magical Experiment (Enhanced Senses)", w); var L = this.hashMapBackgroundEffects_0, T = new Hs; L.put_xwzc9p$("BACKGROUND_Magical Experiment (Resistant Skin)", T); var k = this.hashMapBackgroundEffects_0, R = new Us; k.put_xwzc9p$("BACKGROUND_Time Traveler", R); var P = this.hashMapBackgroundEffects_0, M = new Gs; P.put_xwzc9p$("BACKGROUND_Ruby Phoenix Fanatic", M); var N = this.hashMapBackgroundEffects_0, D = new Ws; N.put_xwzc9p$("BACKGROUND_Energy Scarred", D); var x = this.hashMapBackgroundEffects_0, z = new Vs; x.put_xwzc9p$("BACKGROUND_Post Guard of All Trade", z) }, bs.$metadata$ = { kind: p, simpleName: "BackgroundEffectMethods", interfaces: [] }, Ks.prototype.getLimitedBoosts = function () { var t, i; return null != this.limitedBoosts_0 ? e.isIntArray(t = this.limitedBoosts_0) ? t : d() : (m(this.boost_ref_1, "-1") ? this.limitedBoosts_0 = new Int32Array([0, 1, 2, 3, 4, 5]) : null != this.boost_ref_3 ? this.limitedBoosts_0 = new Int32Array([V(o(this.boost_ref_1)), V(o(this.boost_ref_2)), V(o(this.boost_ref_3))]) : null == this.boost_ref_2 ? this.limitedBoosts_0 = new Int32Array([V(o(this.boost_ref_1))]) : this.limitedBoosts_0 = new Int32Array([V(o(this.boost_ref_1)), V(o(this.boost_ref_2))]), e.isIntArray(i = this.limitedBoosts_0) ? i : d()) }, Object.defineProperty(Ks.prototype, "limitedAbilitySelection", { configurable: !0, get: function () { return m(this.boost_ref_1, "-1") ? se().ARRAY_ABILITIES : null != this.boost_ref_3 ? [se().ARRAY_ABILITIES[o(this.getLimitedBoosts())[0]], se().ARRAY_ABILITIES[o(this.getLimitedBoosts())[1]], se().ARRAY_ABILITIES[o(this.getLimitedBoosts())[2]]] : null == this.boost_ref_2 ? [se().ARRAY_ABILITIES[o(this.getLimitedBoosts())[0]]] : [se().ARRAY_ABILITIES[o(this.getLimitedBoosts())[0]], se().ARRAY_ABILITIES[o(this.getLimitedBoosts())[1]]] } }), Ks.prototype.getAbilityRefOfSelection_za3lpa$ = function (t) { return this.getLimitedBoosts()[t] }, Ks.prototype.getSpinnerRefOfAbility_za3lpa$ = function (t) { var e = this.getLimitedBoosts(); return 6 === e.length ? t : t === e[0] ? 0 : t === e[1] ? 1 : 3 === e.length && t === e[2] ? 2 : 0 }, Ks.prototype.getDescription_sfkw43$ = function (t) { return -1 === this.databaseID ? this.description : this.description + "</br></br>" + this.getCustomBackgroundText_sfkw43$(t) }, Ks.prototype.getCustomBackgroundText_sfkw43$ = function (t) { var e = V(o(this.boost_ref_1)), i = V(o(this.boost_ref_2)), a = "<p>Choose two ability boosts. One must be to " + se().ARRAY_ABILITIES[e] + " or " + se().ARRAY_ABILITIES[i] + ", and the other is a free ability boost.</p>"; if (a += "<p>You're trained in the " + j(this.skill) + " skill and the " + j(this.lore) + " Lore skill.", null != this.freeFeatID) { var r = t.managerFeats.getFeatInformation_pdl1vj$(o(this.freeFeatID)); if (null != r) { var n = r.name; this.freeFeatDetail.length > 0 && (n += " (" + this.freeFeatDetail + ")"), a += " You gain the " + n + " skill feat." } } return a += "</p>" }, Object.defineProperty(Ks.prototype, "idCustom", { configurable: !0, get: function () { return Zs().ID_CUSTOM_0 + this.name } }), Xs.prototype.serializer = function () { return el() }, Xs.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Js = null; function Zs() { return null === Js && new Xs, Js } function Qs() { this.descriptor_2we64o$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerbackground.BackgroundInformation", this, 18), this.descriptor.addElement_ivxn3r$("databaseID", !0), this.descriptor.addElement_ivxn3r$("id", !0), this.descriptor.addElement_ivxn3r$("name", !0), this.descriptor.addElement_ivxn3r$("traits", !0), this.descriptor.addElement_ivxn3r$("boost_ref_1", !0), this.descriptor.addElement_ivxn3r$("boost_ref_2", !0), this.descriptor.addElement_ivxn3r$("boost_ref_3", !0), this.descriptor.addElement_ivxn3r$("numFreeBoosts", !0), this.descriptor.addElement_ivxn3r$("freeFeatID", !0), this.descriptor.addElement_ivxn3r$("freeFeatDetail", !0), this.descriptor.addElement_ivxn3r$("skill", !0), this.descriptor.addElement_ivxn3r$("skill2", !0), this.descriptor.addElement_ivxn3r$("lore", !0), this.descriptor.addElement_ivxn3r$("description", !0), this.descriptor.addElement_ivxn3r$("category", !0), this.descriptor.addElement_ivxn3r$("src", !0), this.descriptor.addElement_ivxn3r$("url", !0), this.descriptor.addElement_ivxn3r$("limitedBoosts", !0), tl = this } Object.defineProperty(Qs.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_2we64o$_0 } }), Qs.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.databaseID, -1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeIntElement_ptg7oe$(this.descriptor, 0, e.databaseID), m(e.id, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeStringElement_iij8qq$(this.descriptor, 1, e.id), m(e.name, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeStringElement_iij8qq$(this.descriptor, 2, e.name), m(e.traits, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, M.StringSerializer, e.traits), m(e.boost_ref_1, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 4, M.StringSerializer, e.boost_ref_1), m(e.boost_ref_2, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 5) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 5, M.StringSerializer, e.boost_ref_2), m(e.boost_ref_3, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 6) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 6, M.StringSerializer, e.boost_ref_3), m(e.numFreeBoosts, 1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || i.encodeIntElement_ptg7oe$(this.descriptor, 7, e.numFreeBoosts), m(e.freeFeatID, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 8) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 8, M.StringSerializer, e.freeFeatID), m(e.freeFeatDetail, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 9) || i.encodeStringElement_iij8qq$(this.descriptor, 9, e.freeFeatDetail), m(e.skill, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 10) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 10, M.StringSerializer, e.skill), m(e.skill2, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 11) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 11, M.StringSerializer, e.skill2), m(e.lore, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 12) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 12, M.StringSerializer, e.lore), m(e.description, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 13) || i.encodeStringElement_iij8qq$(this.descriptor, 13, e.description), m(e.category, 3) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 14) || i.encodeIntElement_ptg7oe$(this.descriptor, 14, e.category), m(e.src, Ic().BOOK_CRB) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 15) || i.encodeStringElement_iij8qq$(this.descriptor, 15, e.src), m(e.url, "https://2e.aonprd.com/Backgrounds.aspx") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 16) || i.encodeStringElement_iij8qq$(this.descriptor, 16, e.url), m(e.limitedBoosts_0, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 17) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 17, M.IntArraySerializer, e.limitedBoosts_0), i.endStructure_24f42q$(this.descriptor) }, Qs.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v = 0, S = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = S.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = S.decodeIntElement_szpzho$(this.descriptor, 0), v |= 1; break; case 1: a = S.decodeStringElement_szpzho$(this.descriptor, 1), v |= 2; break; case 2: r = S.decodeStringElement_szpzho$(this.descriptor, 2), v |= 4; break; case 3: n = S.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, M.StringSerializer, n), v |= 8; break; case 4: o = S.decodeNullableSerializableElement_8viuyw$(this.descriptor, 4, M.StringSerializer, o), v |= 16; break; case 5: s = S.decodeNullableSerializableElement_8viuyw$(this.descriptor, 5, M.StringSerializer, s), v |= 32; break; case 6: l = S.decodeNullableSerializableElement_8viuyw$(this.descriptor, 6, M.StringSerializer, l), v |= 64; break; case 7: c = S.decodeIntElement_szpzho$(this.descriptor, 7), v |= 128; break; case 8: p = S.decodeNullableSerializableElement_8viuyw$(this.descriptor, 8, M.StringSerializer, p), v |= 256; break; case 9: h = S.decodeStringElement_szpzho$(this.descriptor, 9), v |= 512; break; case 10: d = S.decodeNullableSerializableElement_8viuyw$(this.descriptor, 10, M.StringSerializer, d), v |= 1024; break; case 11: u = S.decodeNullableSerializableElement_8viuyw$(this.descriptor, 11, M.StringSerializer, u), v |= 2048; break; case 12: _ = S.decodeNullableSerializableElement_8viuyw$(this.descriptor, 12, M.StringSerializer, _), v |= 4096; break; case 13: f = S.decodeStringElement_szpzho$(this.descriptor, 13), v |= 8192; break; case 14: y = S.decodeIntElement_szpzho$(this.descriptor, 14), v |= 16384; break; case 15: m = S.decodeStringElement_szpzho$(this.descriptor, 15), v |= 32768; break; case 16: $ = S.decodeStringElement_szpzho$(this.descriptor, 16), v |= 65536; break; case 17: g = S.decodeNullableSerializableElement_8viuyw$(this.descriptor, 17, M.IntArraySerializer, g), v |= 131072; break; case -1: break t; default: throw new O(e) }return S.endStructure_24f42q$(this.descriptor), il(v, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, null) }, Qs.prototype.childSerializers = function () { return [M.IntSerializer, M.StringSerializer, M.StringSerializer, new R(M.StringSerializer), new R(M.StringSerializer), new R(M.StringSerializer), new R(M.StringSerializer), M.IntSerializer, new R(M.StringSerializer), M.StringSerializer, new R(M.StringSerializer), new R(M.StringSerializer), new R(M.StringSerializer), M.StringSerializer, M.IntSerializer, M.StringSerializer, M.StringSerializer, new R(M.IntArraySerializer)] }, Qs.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var tl = null; function el() { return null === tl && new Qs, tl } function il(t, e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g) { var v = g || Object.create(Ks.prototype); return v.databaseID = 0 == (1 & t) ? -1 : e, v.id = 0 == (2 & t) ? "" : i, v.name = 0 == (4 & t) ? "" : a, v.traits = 0 == (8 & t) ? null : r, v.boost_ref_1 = 0 == (16 & t) ? null : n, v.boost_ref_2 = 0 == (32 & t) ? null : o, v.boost_ref_3 = 0 == (64 & t) ? null : s, v.numFreeBoosts = 0 == (128 & t) ? 1 : l, v.freeFeatID = 0 == (256 & t) ? null : c, v.freeFeatDetail = 0 == (512 & t) ? "" : p, v.skill = 0 == (1024 & t) ? null : h, v.skill2 = 0 == (2048 & t) ? null : d, v.lore = 0 == (4096 & t) ? null : u, v.description = 0 == (8192 & t) ? "" : _, v.category = 0 == (16384 & t) ? 3 : f, v.src = 0 == (32768 & t) ? Ic().BOOK_CRB : y, v.url = 0 == (65536 & t) ? "https://2e.aonprd.com/Backgrounds.aspx" : m, v.limitedBoosts_0 = 0 == (131072 & t) ? null : $, v } function al() { ol(), this.list = u(), this.hashMap = c() } function rl() { nl = this, this.BACKGROUND_TYPE_CORE = 0, this.BACKGROUND_TYPE_CAMPAIGN = 1, this.BACKGROUND_TYPE_EXPANSION = 2, this.BACKGROUND_TYPE_CUSTOM = 3 } Ks.$metadata$ = { kind: p, simpleName: "BackgroundInformation", interfaces: [] }, al.prototype.createHashMap = function () { var t; for (t = this.list.iterator(); t.hasNext();) { var e = t.next(); this.hashMap.put_xwzc9p$(e.id, e) } }, rl.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var nl = null; function ol() { return null === nl && new rl, nl } function sl(t, e) { pl(), W0.call(this, t), this.backgroundSet = null, this.backgroundEffectMethods_0 = null, this.backgroundSet = e.getBackgroundSet(), this.backgroundEffectMethods_0 = new bs } function ll() { cl = this, this.BACKGROUND_FILTER_GENERAL = 0, this.BACKGROUND_FILTER_REGIONAL = 1, this.BACKGROUND_FILTER_CAMPAIGN = 2, this.BACKGROUND_FILTER_CUSTOM = 3, this.BACKGROUND_FILTER_THIRD = 4, this.BACKGROUND_FILTER_ALL = 5, this.BACKGROUND_SKILL_CHOICE = "Background Skill Choice", this.BACKGROUND_SKILL_CHOICE_2 = "Background Skill Choice 2" } al.$metadata$ = { kind: p, simpleName: "BackgroundSet", interfaces: [] }, sl.prototype.getListFilteredBackgrounds_qert39$ = function (t, e) { var i, a = u(); for (i = this.backgroundSet.list.iterator(); i.hasNext();) { var r = i.next(); Ic().isEnabled_kc4y8q$(t, r.src) && (r.category !== e && 5 !== e || a.add_11rb$(r)) } return a }, sl.prototype.activateNewBackground_zeszdv$ = function (t, e) { null != e && (Lq().hasFeatByLevel_w0akbr$(t, "no ref", 20, "GNOME_Gnome Obsession") && this.dataControl.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(t, "GNOME_Gnome Obsession"), this.deactivateBackground_5btbp7$(t), t.getCharacterData().setBackground_61zpoe$(e.id), this.activateBackground_5btbp7$(t)) }, sl.prototype.deactivateBackground_5btbp7$ = function (t) { var i = this.backgroundSet.hashMap.get_11rb$(t.getCharacterData().getBackground()); if (this.backgroundEffectMethods_0.activateBackground_z0ojgs$(!1, this.dataControl, t, o(i)), m(i.freeFeatID, "GENERAL_Assurance")) t.removeFreeFeat_bm4lxs$("Background Feat", 1); else if (m(i.freeFeatID, "GENERAL_Additional Lore")) { var a = t.getFeatChoice_19mbxw$(1, "Background Feat Choice"); null != a && (this.dataControl.managerFeats.deactivateFeat_8fzv80$(t, 1, a, "Background Feat Choice"), o(t.hashMapFeatChoices[0]).remove_11rb$("Background Feat Choice")) } else null != i.freeFeatID && this.dataControl.managerFeats.activateAndAddFreeFeat_ubuv6q$(t, !1, "Background Feat", o(i.freeFeatID), se().FEATS_GENERAL, 1); var r = t.getClassTemplate(), n = this.dataControl.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(t); if (null != i.skill) if (r.getListAllClassTrainedSkills_5btbp7$(t).contains_11rb$(i.skill)) { var c = NK(pl().BACKGROUND_SKILL_CHOICE, 1, n, n, 1, "Background"); re().addTrainedOnlySkillChoice_b4bmjk$(!1, this.dataControl, t, pl().BACKGROUND_SKILL_CHOICE, c) } else re().setProficiencyAtLevel_8d16k4$(!1, t, pl().BACKGROUND_SKILL_CHOICE, 1, o(i.skill), 2); if (null != i.skill2) if (r.getListAllClassTrainedSkills_5btbp7$(t).contains_11rb$(i.skill2)) { var p = NK(pl().BACKGROUND_SKILL_CHOICE_2, 1, n, n, 1, "Background 2"); re().addTrainedOnlySkillChoice_b4bmjk$(!1, this.dataControl, t, pl().BACKGROUND_SKILL_CHOICE_2, p) } else re().setProficiencyAtLevel_8d16k4$(!1, t, pl().BACKGROUND_SKILL_CHOICE_2, 1, o(i.skill2), 2); if (null != i.freeFeatDetail && i.freeFeatDetail.length > 0 && t.getCharacterData().hashMapFeatExtraSelections.remove_11rb$("Background Feat"), null != i.lore && o(i.lore).length > 0) { var h = this.getBackgroundLoreNameAsProficiencyReference_5btbp7$(t); re().setProficiencyAtLevel_8d16k4$(!1, t, "Increase 1", 1, h, 2); try { 0 === o(t.getProficiency_61zpoe$(h)).getProficiencyAtLevel_za3lpa$(20) && (t.hashMapSkillProficiencies.remove_11rb$(h), t.hashMapProficiencies.remove_11rb$(h)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } }, sl.prototype.getBackgroundLoreNameAsProficiencyReference_5btbp7$ = function (t) { var e = this.getBackground_5btbp7$(t); return "Lore: " + o(e).lore }, sl.prototype.activateBackground_5btbp7$ = function (t) { var e, i, a, r; if (null != (e = this.backgroundSet.hashMap.get_11rb$(t.getCharacterData().getBackground()))) { var n = e; if (this.backgroundEffectMethods_0.activateBackground_z0ojgs$(!0, this.dataControl, t, n), null == n.freeFeatID && (n.freeFeatID = "General_Battle Medicine"), null != n.freeFeatDetail && n.freeFeatDetail.length > 0) { var s = t.getCharacterData().hashMapFeatExtraSelections, l = n.freeFeatDetail; s.put_xwzc9p$("Background Feat", l) } if (m(n.freeFeatID, "GENERAL_Assurance")) { var c = new AW("GENERAL_Assurance", 1); c.extraInformation = n.freeFeatDetail, t.addFreeFeat_1e1ni6$("Background Feat", c) } else if (m(n.freeFeatID, "GENERAL_Terrain Expertise")) { var p = new AW("GENERAL_Terrain Expertise", 1), h = null != n.freeFeatDetail; h && (h = n.freeFeatDetail.length > 0), h && (p.extraInformation = n.freeFeatDetail), t.addFreeFeat_1e1ni6$("Background Feat", p) } else if (m(n.freeFeatID, "GENERAL_Additional Lore")) { var d = Mu(se().FEATS_GENERAL, 1); d.listFeatIDs.add_11rb$("GENERAL_Additional Lore"), d.specificHeader = "Background Feat", o(t.hashMapFeatChoices[0]).put_xwzc9p$("Background Feat Choice", d) } else this.dataControl.managerFeats.activateAndAddFreeFeat_ubuv6q$(t, !0, "Background Feat", o(n.freeFeatID), se().FEATS_GENERAL, 1); var u = t.getClassTemplate(), _ = this.dataControl.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(t); if (null != n.skill) if (u.getListAllClassTrainedSkills_5btbp7$(t).contains_11rb$(n.skill)) { if (!t.hashMapTrainedOnlySkillChoices.containsKey_11rb$(pl().BACKGROUND_SKILL_CHOICE)) { var f = NK(pl().BACKGROUND_SKILL_CHOICE, 1, _, _, 1, "Background"), y = t.hashMapTrainedOnlySkillChoices, $ = pl().BACKGROUND_SKILL_CHOICE; if (y.put_xwzc9p$($, f), t.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(pl().BACKGROUND_SKILL_CHOICE)) for (i = o(t.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(pl().BACKGROUND_SKILL_CHOICE)).iterator(); i.hasNext();) { var g = i.next(); o(t.getProficiency_61zpoe$(g)).setProficiencyAtLevel_3m52m6$(pl().BACKGROUND_SKILL_CHOICE, f.level, 2) } } } else re().setProficiencyAtLevel_8d16k4$(!0, t, pl().BACKGROUND_SKILL_CHOICE, 1, o(n.skill), 2); if (null != n.skill2) if (u.getListAllClassTrainedSkills_5btbp7$(t).contains_11rb$(n.skill2)) { if (!t.hashMapTrainedOnlySkillChoices.containsKey_11rb$(pl().BACKGROUND_SKILL_CHOICE_2)) { var v = NK(pl().BACKGROUND_SKILL_CHOICE_2, 1, _, _, 1, "Background 2"), S = t.hashMapTrainedOnlySkillChoices, C = pl().BACKGROUND_SKILL_CHOICE_2; if (S.put_xwzc9p$(C, v), t.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(pl().BACKGROUND_SKILL_CHOICE_2)) for (a = o(t.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(pl().BACKGROUND_SKILL_CHOICE_2)).iterator(); a.hasNext();) { var E = a.next(); o(t.getProficiency_61zpoe$(E)).setProficiencyAtLevel_3m52m6$(pl().BACKGROUND_SKILL_CHOICE_2, v.level, 2) } } } else re().setProficiencyAtLevel_8d16k4$(!0, t, pl().BACKGROUND_SKILL_CHOICE_2, 1, o(n.skill2), 2); null != n.lore && o(n.lore).length > 0 && (re().addCustomLoreToBuild_41jgcs$(!0, this.dataControl, t, 1, o(n.lore)), re().setProficiencyAtLevel_8d16k4$(!0, t, "Increase 1", 1, this.getBackgroundLoreNameAsProficiencyReference_5btbp7$(t), 2)); var A = n.getLimitedBoosts(), b = !1; if (null != A) { for (r = 0; r !== A.length; ++r)A[r] === t.getCharacterData().getBackgroundBoostLimitedSelection() && (b = !0); var I = !b; I && (I = !(0 === A.length)), I && t.getCharacterData().setBackgroundBoostLimitedSelection_za3lpa$(A[0]) } } }, sl.prototype.getBackground_5btbp7$ = function (t) { return this.getBackground_g7kqbx$(t.getCharacterData()) }, sl.prototype.getBackground_g7kqbx$ = function (t) { var i, a = this.backgroundSet.hashMap.get_11rb$(t.getBackground()); return null == a && (t.setBackground_61zpoe$(se().DEFAULT_BACKGROUND), a = this.backgroundSet.hashMap.get_11rb$(t.getBackground())), e.isType(i = a, Ks) ? i : d() }, ll.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var cl = null; function pl() { return null === cl && new ll, cl } function hl(t, e) { var i, a; for (_l(), W0.call(this, t), this.classInformationSet = null, this.conditionInformationSet = null, this.conditionEffects = null, this.customBuffSet = null, this.classInformationSet = e.getClassInformation(), this.conditionInformationSet = e.getConditionInformation(), this.conditionEffects = new xl(t), this.customBuffSet = e.getCustomBuffSet(), i = this.customBuffSet.hashMap.values.iterator(); i.hasNext();) { var r = i.next(); for (a = o(r.listCustomEffects).iterator(); a.hasNext();) { var n = a.next(), s = t.hashMapBuffIDsToNames, l = n.getReference_sfkw43$(t), c = r.name; s.put_xwzc9p$(l, c) } } } function dl() { ul = this, this.DUAL_CLASS_REF_SINGLE_CLASS = 0, this.DUAL_CLASS_REF_MAIN_CLASS = 1, this.DUAL_CLASS_REF_SECOND_CLASS = 2, this.CLASS_ARCHETYPE_NONE = "CLASS_ARCHETYPE_None" } sl.$metadata$ = { kind: p, simpleName: "ManagerBackgrounds", interfaces: [W0] }, hl.prototype.activateDualClass_o7np2w$ = function (t, e) { t.getClassTemplate().deactivateClass_fhac18$(this.dataControl, t), t.getCharacterData().setDualClass_pdl1vj$(e), t.getCharacterData().setClassDualOptionalTrainedSkill_pdl1vj$(null), this.dataControl.buildCharacter_5btbp7$(t) }, hl.prototype.activateNewClass_cyt1w7$ = function (t, e) { t.getClassTemplate().deactivateClass_fhac18$(this.dataControl, t), t.getCharacterData().setClassName_61zpoe$(e), t.getCharacterData().setClassOptionalTrainedSkill_pdl1vj$(null); var i = t.getCharacterData().getClassKeyAbility(), a = t.getClassTemplate().getKeyAbility(); Z(a, i) || t.getCharacterData().setClassKeyAbility_za3lpa$(a[0]), this.dataControl.buildCharacter_5btbp7$(t) }, hl.prototype.deactivateClassSkill_0 = function (t, e) { if (null != e) { var i = t.getProficiency_61zpoe$(e); null != i && i.removeProficiencyAtLevel_61zpoe$(pK().INCREASE_TYPE_CLASS_SKILL) } }, hl.prototype.getMaxHP_5btbp7$ = function (t) { var i = t.getCharacterData(), a = this.dataControl.managerAncestry.getAncestryTemplate_5btbp7$(t).HP, r = e.imul(t.getClassTemplate().hp, i.getCharacterLevel()), n = e.imul(pe().getAbilityMod_za3lpa$(o(t.getPlayReportAbilityScores_sfkw43$(this.dataControl)).abilityScoresBuffed[2]), i.getCharacterLevel()), s = 0; if (i.hashMapActiveConditions.containsKey_11rb$("Drained") && !i.listCurrentlyInactiveBuffs.contains_11rb$("Drained")) { var l = o(i.hashMapActiveConditions.get_11rb$("Drained")); s = s - e.imul(l, i.getCharacterLevel()) | 0 } var c = this.getBonusHP_5btbp7$(t); return c = c + e.imul(this.getBonusHPPerLevel_5btbp7$(t), i.getCharacterLevel()) | 0, i.isUseStamina() ? a + (r / 2 | 0) + s + c | 0 : a + r + n + s + c | 0 }, hl.prototype.getBonusHP_5btbp7$ = function (t) { var e, i = 0; for (e = t.hashMapHitPointIncreaseItems.values.iterator(); e.hasNext();) { var a = e.next(); t.getCharacterData().getCharacterLevel() >= a.level && (i = i + a.increase | 0) } for (var r = ["Barbarian", "Fighter", "Monk", "Champion", "Ranger"], n = 0; n !== r.length; ++n) { var s, l, c = "ARCHETYPE_" + r[n] + " Resiliency", p = "ARCHETYPE_" + r[n] + " Dedication"; if (Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), c)) { var h = 1; for (l = o(null != (s = this.dataControl.managerFeats.getHashMapFeats_61zpoe$(se().FEATS_ARCHETYPE)) ? s.values : null).iterator(); l.hasNext();) { var d = l.next(); null != d.reqFeats && X(o(d.reqFeats), p) && (h = h + Lq().getNumTimesFeatSelectByLevelExcludingChoiceRef_uf1787$(t, "no ref", t.getCharacterData().getCharacterLevel(), d.id) | 0) } i = i + (3 * h | 0) | 0 } } return i }, hl.prototype.getBonusHPPerLevel_5btbp7$ = function (t) { var e = 0; return Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), "GENERAL_Toughness") && (e = e + 1 | 0), Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), "SPRITE_Fey Skin") && (e = e + 1 | 0), Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), "LIZARDFOLK_Scion Transformation") && (e = e + 1 | 0), Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), "ARCHETYPE_Unbreakable") && (e = e + 1 | 0), Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), "DWARF_Mountain's Stoutness") && (e = e + 1 | 0), Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), "ARCHETYPE_Golem Grafter Dedication") && (e = e + 1 | 0), e }, hl.prototype.setNewCharacterLevel_vy76y1$ = function (t, i) { var a, r, n; try { if (i < t.getCharacterData().getCharacterLevel()) for (t.getCharacterData().setDamageTaken_za3lpa$(0), a = t.getCharacterData().hashMapPetData.values.iterator(); a.hasNext();)a.next().setDamageTaken_za3lpa$(0) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } for (t.getCharacterData().getHashMapRepertoireOverride().clear(), this.dataControl.managerPets.buildAllAnimalCompanions_ryqv3o$(!1, t), this.dataControl.managerPets.activateAllSelectedFamiliarAbilities_ryqv3o$(!1, t), this.dataControl.managerEquipment.activateAllSelectedConstructModifications_ryqv3o$(!1, t), t.getCharacterData().setCharacterLevel_za3lpa$(i), r = t.hashMapPetCharacterBuilds.values.iterator(); r.hasNext();) { var o = r.next(); (e.isType(n = o.getCharacterData(), YV) ? n : d()).setCharacterLevel_za3lpa$(i) } this.dataControl.managerPets.buildAllAnimalCompanions_ryqv3o$(!0, t), this.dataControl.managerPets.activateAllSelectedFamiliarAbilities_ryqv3o$(!0, t), this.dataControl.managerEquipment.activateAllSelectedConstructModifications_ryqv3o$(!0, t), t.getCharacterData().isABP() && this.dataControl.managerArmor.setArmorSaveBonusesOnLoad_5btbp7$(t) }, hl.prototype.isSpellShot_0 = function (t, e) { return !(!m(e, "Gunslinger") || null == t.getCharacterData().getClassArchetype() || !m(t.getCharacterData().getClassArchetype(), "CLASS_ARCHETYPE_Spellshot")) }, hl.prototype.getKeyAbilityRef_qll6wu$ = function (t, i, a) { var r, n; if (1 === i) try { if (!a) { if (m(t.getCharacterData().getClassName(), an().CLASS_MONK)) return 4; if (m(t.getCharacterData().getClassName(), yr().CLASS_CHAMPION)) return 5; if (m(t.getCharacterData().getClassName(), un().CLASS_RANGER)) return 4; if (m(t.getCharacterData().getClassName(), Jr().CLASS_NAME)) return 3; if (this.isSpellShot_0(t, t.getCharacterData().getClassName())) return 3 } return (e.isType(r = t.getClassTemplate(), Wn) ? r : d()).getMainDualClassKeyAbility_5btbp7$(t) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } else if (2 === i) try { if (!a) { if (m(t.getCharacterData().getDualClass(), an().CLASS_MONK)) return 4; if (m(t.getCharacterData().getDualClass(), yr().CLASS_CHAMPION)) return 5; if (m(t.getCharacterData().getDualClass(), un().CLASS_RANGER)) return 4; if (m(t.getCharacterData().getDualClass(), Jr().CLASS_NAME)) return 3; if (this.isSpellShot_0(t, t.getCharacterData().getDualClass())) return 3 } return (e.isType(n = t.getClassTemplate(), Wn) ? n : d()).getSecondaryDualClassKeyAbility_5btbp7$(t) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } var o = t.getClassTemplate(); if (!a) { if (m(t.getCharacterData().getClassName(), an().CLASS_MONK)) return 4; if (m(t.getCharacterData().getClassName(), yr().CLASS_CHAMPION)) return 5; if (m(t.getCharacterData().getClassName(), un().CLASS_RANGER)) return 4; if (m(t.getCharacterData().getClassName(), Jr().CLASS_NAME)) return 3; if (this.isSpellShot_0(t, t.getCharacterData().getClassName())) return 3 } return this.isSpellShot_0(t, t.getCharacterData().getClassName()) ? 3 : 1 === o.getKeyAbility().length ? o.getKeyAbility()[0] : t.getCharacterData().getClassKeyAbility() }, hl.prototype.getKeyAbilityBonusNoAdjustmentsForCasters_5btbp7$ = function (t) { var e = 0; null != t.getCharacterData().getDualClass() && (e = 1); var i = this.dataControl.managerClasses.getKeyAbilityRef_qll6wu$(t, e, !0); return pe().getAbilityMod_za3lpa$(o(t.getPlayReportAbilityScores_sfkw43$(this.dataControl)).abilityScoresBuffed[i]) }, hl.prototype.getClassMasteryLevel_vy76y1$ = function (t, i) { var a, r, n, c, p, h, u, _, f = 0; try { if (1 === i) { var m = e.isType(a = t.getClassTemplate(), Wn) ? a : d(); if (null != m.mainClassMasteryLevels) for (r = o(m.mainClassMasteryLevels), n = 0; n !== r.length; ++n) { var $ = r[n]; t.getCharacterData().getCharacterLevel() >= $ && (f = pe().getIncreasedProficiency_za3lpa$(f)) } else if (t.hashMapSpellCasters.containsKey_11rb$(t.getCharacterData().getClassName())) try { var g = t.hashMapSpellCasters.get_11rb$(t.getCharacterData().getClassName()), v = pK().ARRAY_SPELL_PROFICIENCIES[o(g).spellList], S = t.getProficiency_61zpoe$(v); f = o(S).getProficiencyAtLevel_za3lpa$(t.getCharacterData().getCharacterLevel()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return f } if (2 === i) { var C = e.isType(c = t.getClassTemplate(), Wn) ? c : d(); if (null != C.secondaryClassMasteryLevels) for (p = o(C.secondaryClassMasteryLevels), h = 0; h !== p.length; ++h) { var E = p[h]; t.getCharacterData().getCharacterLevel() >= E && (f = pe().getIncreasedProficiency_za3lpa$(f)) } else { var A, b = t.hashMapSpellCasters, I = t.getCharacterData().getDualClass(); if ((e.isType(A = b, y) ? A : d()).containsKey_11rb$(I)) try { var w, L = t.hashMapSpellCasters, T = t.getCharacterData().getDualClass(), k = (e.isType(w = L, y) ? w : d()).get_11rb$(T), R = pK().ARRAY_SPELL_PROFICIENCIES[o(k).spellList], P = t.getProficiency_61zpoe$(R); f = o(P).getProficiencyAtLevel_za3lpa$(t.getCharacterData().getCharacterLevel()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } return f } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } var M = t.getClassTemplate(); if (null != M.classMasteryLevels) for (u = o(M.classMasteryLevels), _ = 0; _ !== u.length; ++_) { var N = u[_]; t.getCharacterData().getCharacterLevel() >= N && (f = pe().getIncreasedProficiency_za3lpa$(f)) } else if (t.hashMapSpellCasters.containsKey_11rb$(M.className)) try { var D = t.hashMapSpellCasters.get_11rb$(M.className), x = pK().ARRAY_SPELL_PROFICIENCIES[o(D).spellList], z = t.getProficiency_61zpoe$(x); f = o(z).getProficiencyAtLevel_za3lpa$(t.getCharacterData().getCharacterLevel()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return f }, hl.prototype.applyConditionEffect_q0qzv0$ = function (t, i, a, r) { var n, s = this.conditionEffects.hashMapConditionEffects; if ((e.isType(n = s, y) ? n : d()).containsKey_11rb$(a)) { var l, c = this.conditionEffects.hashMapConditionEffects; o((e.isType(l = c, y) ? l : d()).get_11rb$(a)).applyEffect_i0ezl2$(o(i), t, o(a), r) } }, hl.prototype.getInitiaitveBonus_5btbp7$ = function (t) { var e, i, a, r = 0, n = c(); for (e = t.hashMapInitiativeIncreases.values.iterator(); e.hasNext();) { var s = e.next(); if (t.getCharacterData().getCharacterLevel() >= s.level) if (m(s.bonusType, se().BONUS_TYPE_NAME_UNTYPED)) r = r + s.increase | 0; else { if (!n.containsKey_11rb$(s.bonusType)) { var l = s.bonusType, p = u(); n.put_xwzc9p$(l, p) } o(n.get_11rb$(s.bonusType)).add_11rb$(s) } } for (i = n.keys.iterator(); i.hasNext();) { var h = i.next(), d = 0; for (a = o(n.get_11rb$(h)).iterator(); a.hasNext();) { var _ = a.next(); _.increase > d && (d = _.increase) } r = r + d | 0 } return r }, hl.prototype.applyCustomBuff_hqcflu$ = function (t, e, i) { var a; for (a = o(i.listCustomEffects).iterator(); a.hasNext();)a.next().applyBonus_s8e943$(t, this.dataControl, o(e)) }, hl.prototype.refreshCustomBuffToCharacterAndPets_9vio1a$ = function (t, i, a, r) { var n, o; if (null != a) { if (null == (n = this.customBuffSet.hashMap.get_11rb$(a))) return; var s, l = n, c = i.getCharacterData().hashMapActiveCustomBuffs, p = l.uniqueIdentifier; for ((e.isType(s = c, y) ? s : d()).containsKey_11rb$(p) && (B(i.getCharacterData().listCurrentlyInactiveBuffs, l.uniqueIdentifier) || this.applyCustomBuff_hqcflu$(t, i, l), r && i.getCharacterData().hashMapActiveCustomBuffs.remove_11rb$(a)), o = i.hashMapPetCharacterBuilds.keys.iterator(); o.hasNext();) { var h = o.next(), u = i.hashMapPetCharacterBuilds.get_11rb$(h); if (null != u) { var _, f = u.getCharacterData().hashMapActiveCustomBuffs, m = l.uniqueIdentifier; (e.isType(_ = f, y) ? _ : d()).containsKey_11rb$(m) && (B(u.getPetData().listCurrentlyInactiveBuffs, l.uniqueIdentifier) || this.applyCustomBuff_hqcflu$(t, u, l), r && u.getCharacterData().hashMapActiveCustomBuffs.remove_11rb$(a)) } } } }, hl.prototype.getDamageResistance_qvxlip$ = function (t, e) { var i, a = t.getCharacterData(), r = e.amount; if (a.getCharacterLevel() >= e.levelStart) { if (a.getCharacterLevel() >= e.fullLevelFrom) r = r + a.getCharacterLevel() | 0; else if (e.isHalfLevel || a.getCharacterLevel() >= e.halfLevelFrom) { var n = r, s = a.getCharacterLevel() / 2; (r = n + C(I.floor(s)) | 0) < 1 && (r = 1) } for (i = e.increaseAmountFromLevek.keys.iterator(); i.hasNext();) { var l = i.next(); a.getCharacterLevel() >= l && (r = r + o(e.increaseAmountFromLevek.get_11rb$(l)) | 0) } return e.resistanceType + " " + j(r) } return "" }, hl.prototype.getMaxStamina_5btbp7$ = function (t) { var i = t.getCharacterData().getCharacterLevel(), a = (t.getClassTemplate().hp / 2 | 0) + pe().getAbilityMod_za3lpa$(o(t.getPlayReportAbilityScores_sfkw43$(this.dataControl)).abilityScoresBuffed[2]) | 0; return e.imul(a, i) }, hl.prototype.getMaxResolve_5btbp7$ = function (t) { return this.getKeyAbilityBonusNoAdjustmentsForCasters_5btbp7$(t) }, dl.prototype.getLanguagesAsString_5btbp7$ = function (t) { var i; Q(t.getCharacterData().listLanguages); var a = ""; for (i = t.getCharacterData().listLanguages.iterator(); i.hasNext();) { var r = i.next(); if (a.length > 0 && (a += ", "), _(r, $X().DIALECT_TRIGGER)) { var n = L(r, $X().DIALECT_TRIGGER, ""); try { var o = V(n), c = t.getCharacterData().dialects[o]; null != c && (a += c) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } else a += r } return 0 === a.length && (a = "None selected"), a }, dl.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ul = null; function _l() { return null === ul && new dl, ul } function fl() { Cl = this, this.ABP_SKILL_1 = "1st ABP Skill +1", this.ABP_SKILL_2 = "2nd ABP Skill +1", this.ABP_SKILL_3 = "3rd ABP Skill +1", this.ABP_SKILL_4 = "4th ABP Skill +1", this.ABP_SKILL_5 = "5th ABP Skill +1", this.ABP_SKILL_6 = "6th ABP Skill +1", this.ABP_SKILL_GREATER_1 = "1st ABP Skill +2", this.ABP_SKILL_GREATER_2 = "2nd ABP Skill +2", this.ABP_SKILL_GREATER_3 = "3rd ABP Skill +2", this.ABP_SKILL_GREATER_4 = "4th ABP Skill +2", this.ABP_SKILL_MAJOR_1 = "1st ABP Skill +3", this.ABP_SKILL_MAJOR_2 = "2nd ABP Skill +3", this.ABP_SKILL_CHOICE = "Select Skill", this.ABP_APEX_ABILITY = "ABP Apex Ability", this.ABP_APEX_CHOICE = "Select Ability" } function yl() { } function ml(t, e) { this.closure$levelOfChoice = t, this.closure$skillName = e } function $l(t, e) { this.closure$characterBuild = t, this.closure$levelOfChoice = e } function gl(t, e) { this.closure$levelOfChoice = t, this.closure$skillName = e } function vl(t, e) { this.closure$characterBuild = t, this.closure$levelOfChoice = e } function Sl(t, e) { this.closure$levelOfChoice = t, this.closure$skillName = e } hl.$metadata$ = { kind: p, simpleName: "ManagerClasses", interfaces: [W0] }, fl.prototype.getAttackPotencyOverride_5btbp7$ = function (t) { var e = t.getCharacterData().getCharacterLevel(); return e >= 16 ? 3 : e >= 10 ? 2 : e >= 2 ? 1 : 0 }, fl.prototype.getAttackStrikingOverride_5btbp7$ = function (t) { var e = t.getCharacterData().getCharacterLevel(); return e >= 19 ? 3 : e >= 12 ? 2 : e >= 4 ? 1 : 0 }, fl.prototype.getArmorPotencyOverride_5btbp7$ = function (t) { var e = t.getCharacterData().getCharacterLevel(); return e >= 18 ? 3 : e >= 11 ? 2 : e >= 5 ? 1 : 0 }, fl.prototype.getArmorResilientOverride_5btbp7$ = function (t) { var e = t.getCharacterData().getCharacterLevel(); return 20 === e ? 3 : e >= 14 ? 2 : e >= 8 ? 1 : 0 }, fl.prototype.activateABP_syiyjf$ = function (t, e, i) { this.addBasicSkillPotencyChoice_0(t, e, this.ABP_SKILL_1, 3, i), this.addBasicSkillPotencyChoice_0(t, e, this.ABP_SKILL_2, 6, i), this.addBasicSkillPotencyChoice_0(t, e, this.ABP_SKILL_3, 13, i), this.addBasicSkillPotencyChoice_0(t, e, this.ABP_SKILL_4, 15, i), this.addBasicSkillPotencyChoice_0(t, e, this.ABP_SKILL_5, 17, i), this.addBasicSkillPotencyChoice_0(t, e, this.ABP_SKILL_6, 20, i), this.addGreaterSkillChoice_0(t, e, this.ABP_SKILL_GREATER_1, 9, i), this.addGreaterSkillChoice_0(t, e, this.ABP_SKILL_GREATER_2, 13, i), this.addGreaterSkillChoice_0(t, e, this.ABP_SKILL_GREATER_3, 15, i), this.addGreaterSkillChoice_0(t, e, this.ABP_SKILL_GREATER_4, 20, i), this.addMajorSkillChoice_0(t, e, this.ABP_SKILL_MAJOR_1, 17, i), this.addMajorSkillChoice_0(t, e, this.ABP_SKILL_MAJOR_2, 20, i), re().addProficiencyBonus_jn833q$(i, e, 0, 7, "ABP Skill+1", pK().PROFICIENCY_PERCEPTION, 1), re().addProficiencyBonus_jn833q$(i, e, 0, 13, "ABP Skill+2", pK().PROFICIENCY_PERCEPTION, 2), re().addProficiencyBonus_jn833q$(i, e, 0, 19, "ABP Skill+3", pK().PROFICIENCY_PERCEPTION, 3), this.addApexAbilityChoice_0(t, e, i) }, yl.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { e.updateReportAbilityScores_vvjzl1$(t, e.getCharacterData().getCharacterLevel()) }, yl.$metadata$ = { kind: p, interfaces: [xX] }, fl.prototype.addApexAbilityChoice_0 = function (t, e, i) { if (i) { for (var a = qX(this.ABP_APEX_ABILITY, 17), r = c(), n = 0; n <= 5; n++) { var s = se().ARRAY_ABILITIES[n], l = qX(s, 17); r.put_xwzc9p$(s, l), l.textDescription = "Choose one ability score to either increase by 2 or increase to 18 (whichever grants the higher score).", l.specialEffect = new yl } var p = a.hashMapSpecialChoices, h = this.ABP_APEX_CHOICE; p.put_xwzc9p$(h, r); var d = o(e.hashMapSpecialInformation[16]), u = this.ABP_APEX_ABILITY; d.put_xwzc9p$(u, a) } else { var _ = o(e.hashMapSpecialInformation[16]).get_11rb$(this.ABP_APEX_ABILITY); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, this.ABP_APEX_ABILITY, _), o(e.hashMapSpecialInformation[16]).remove_11rb$(this.ABP_APEX_ABILITY) } }, ml.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addProficiencyBonus_jn833q$(i, e, 0, this.closure$levelOfChoice, "ABP Skill+1", this.closure$skillName, 1) }, ml.$metadata$ = { kind: p, interfaces: [xX] }, fl.prototype.addBasicSkillPotencyChoice_0 = function (t, e, i, a, r) { var n, s; if (r) { var l = qX(i, a), p = c(); for (n = t.managerProficiencies.getAllSkillsAsArray_5btbp7$(e), s = 0; s !== n.length; ++s) { var h = n[s], d = qX(h, a); p.put_xwzc9p$(h, d), d.textDescription = "Choose a skill to gain a +1 potency bonus.", d.specialEffect = new ml(a, h) } var u = l.hashMapSpecialChoices, _ = this.ABP_SKILL_CHOICE; u.put_xwzc9p$(_, p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(i, l) } else { var f = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(i); null != f && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, i, f), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(i) } }, gl.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addProficiencyBonus_jn833q$(i, e, 0, this.closure$levelOfChoice, "ABP Skill+2", this.closure$skillName, 2) }, gl.$metadata$ = { kind: p, interfaces: [xX] }, $l.prototype.generateHashMap = function () { var t, e = c(); for (t = El().getListMinorSkillChoices_0(this.closure$characterBuild, this.closure$levelOfChoice).iterator(); t.hasNext();) { var i = t.next(), a = qX(i, this.closure$levelOfChoice); e.put_xwzc9p$(i, a), a.textDescription = "Choose a skill to gain a +2 potency bonus.", a.specialEffect = new gl(this.closure$levelOfChoice, i) } return e }, $l.$metadata$ = { kind: p, interfaces: [OX] }, fl.prototype.addGreaterSkillChoice_0 = function (t, e, i, a, r) { if (r) { var n = qX(i, a); n.hashMapSpecialChoices.put_xwzc9p$(this.ABP_SKILL_CHOICE, c()); var s = new $l(e, a); n.addOnTheFlyGenerator_f0hpa4$(this.ABP_SKILL_CHOICE, s), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(i, n) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(i); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, i, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(i) } }, Sl.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addProficiencyBonus_jn833q$(i, e, 0, this.closure$levelOfChoice, "ABP Skill+3", this.closure$skillName, 3) }, Sl.$metadata$ = { kind: p, interfaces: [xX] }, vl.prototype.generateHashMap = function () { var t, e = c(); for (t = El().getListGreaterSkillChoices_0(this.closure$characterBuild, this.closure$levelOfChoice).iterator(); t.hasNext();) { var i = t.next(), a = qX(i, this.closure$levelOfChoice); e.put_xwzc9p$(i, a), a.textDescription = "Choose a skill to gain a +3 potency bonus.", a.specialEffect = new Sl(this.closure$levelOfChoice, i) } return e }, vl.$metadata$ = { kind: p, interfaces: [OX] }, fl.prototype.addMajorSkillChoice_0 = function (t, e, i, a, r) { if (r) { var n = qX(i, a); n.hashMapSpecialChoices.put_xwzc9p$(this.ABP_SKILL_CHOICE, c()); var s = new vl(e, a); n.addOnTheFlyGenerator_f0hpa4$(this.ABP_SKILL_CHOICE, s), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(i, n) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(i); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, i, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(i) } }, fl.prototype.getListMinorSkillChoices_0 = function (t, e) { var i = u(); return e >= 3 && (this.addSkillChoiceIfNotNull_0(t, i, this.ABP_SKILL_1), e >= 6 && (this.addSkillChoiceIfNotNull_0(t, i, this.ABP_SKILL_2), e >= 13 && (this.addSkillChoiceIfNotNull_0(t, i, this.ABP_SKILL_3), e >= 15 && (this.addSkillChoiceIfNotNull_0(t, i, this.ABP_SKILL_4), e >= 17 && (this.addSkillChoiceIfNotNull_0(t, i, this.ABP_SKILL_5), e >= 20 && this.addSkillChoiceIfNotNull_0(t, i, this.ABP_SKILL_6)))))), i }, fl.prototype.getListGreaterSkillChoices_0 = function (t, e) { var i = u(); return e >= 9 && (this.addSkillChoiceIfNotNull_0(t, i, this.ABP_SKILL_GREATER_1), e >= 13 && (this.addSkillChoiceIfNotNull_0(t, i, this.ABP_SKILL_GREATER_2), e >= 15 && (this.addSkillChoiceIfNotNull_0(t, i, this.ABP_SKILL_GREATER_3), e >= 20 && this.addSkillChoiceIfNotNull_0(t, i, this.ABP_SKILL_GREATER_4)))), i }, fl.prototype.addSkillChoiceIfNotNull_0 = function (t, e, i) { var a = t.getCharacterData().getSpecialSelection_puj7f4$(i, this.ABP_SKILL_CHOICE); null != a && e.add_11rb$(a) }, fl.$metadata$ = { kind: f, simpleName: "ABPHelper", interfaces: [] }; var Cl = null; function El() { return null === Cl && new fl, Cl } function Al() { this.buffAttack = !1, this.buffDamage = !1, this.abilityRef = 0, this.bonus = 0, this.type = 1, this.reference = null, this.listDamTraits = null, this.listExcludeDamTraits = null } function bl(t, e, i, a, r, n, o) { return o = o || Object.create(Al.prototype), Al.call(o), o.buffAttack = t, o.buffDamage = e, o.abilityRef = i, o.bonus = a, o.type = r, o.reference = n, o } function Il(t, e, i, a, r, n, o, s, l) { return l = l || Object.create(Al.prototype), Al.call(l), l.buffAttack = t, l.buffDamage = e, l.abilityRef = i, l.bonus = a, l.type = r, l.reference = n, l.listDamTraits = o, l.listExcludeDamTraits = s, l } function wl() { kl(), this.name = "", this.traits = "", this.description = "", this.src = Ic().BOOK_CRB, this.url = "https://2e.aonprd.com/Classes.aspx" } function Ll() { Tl = this, this.TABLE_NAME = "classes", this.COLUMN_NAME = "name", this.COLUMN_TRAITS = "traits", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SRC = "src", this.COLUMN_URL = "url" } Al.$metadata$ = { kind: p, simpleName: "AttackDamageBuff", interfaces: [] }, Ll.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Tl = null; function kl() { return null === Tl && new Ll, Tl } function Rl() { this.list = u(), this.hashMap = c() } function Pl() { Ml = this } wl.$metadata$ = { kind: p, simpleName: "ClassInformation", interfaces: [] }, Rl.prototype.createHashMap = function () { var t; for (t = this.list.iterator(); t.hasNext();) { var e = t.next(), i = this.hashMap, a = e.name; i.put_xwzc9p$(a, e) } }, Rl.$metadata$ = { kind: p, simpleName: "ClassInformationSet", interfaces: [] }, Pl.prototype.getClassTemplate_g7kqbx$ = function (t) { var e = t.getClassName(); return null != t.getDualClass() ? new Wn(this.getClassTemplate_0(e), this.getClassTemplate_0(t.getDualClass())) : this.getClassTemplate_0(e) }, Pl.prototype.getClassTemplate_0 = function (t) { switch (t) { case "Alchemist": return new Ja; case "Barbarian": return new ir; case "Bard": return new sr; case "Champion": return new dr; case "Cleric": return new mr; case "Druid": return new Cr; case "Fighter": return new wr; case "Monk": return new Zr; case "Ranger": return new cn; case "Rogue": return new _n; case "Sorcerer": return new gn; case "Wizard": return new jn; case "Investigator": return new Hr; case "Oracle": return new rn; case "Swashbuckler": return new Tn; case "Witch": return new xn; case "Magus": return new Yr; case "Summoner": return new An; case "Inventor": return new zr; case "Gunslinger": return new Pr }return new wr }, Pl.$metadata$ = { kind: f, simpleName: "ClassTemplateFactory", interfaces: [] }; var Ml = null; function Nl() { return null === Ml && new Pl, Ml } function Dl() { } function xl(t) { W0.call(this, t), this.hashMapConditionEffects = c(), this.setHashMapConditionEffects_0() } function zl() { } function Ol() { } function Fl() { } function Bl(t) { this.this$ConditionEffects = t } function jl() { } function Hl(t) { this.this$ConditionEffects = t } function ql() { } function Ul() { } function Gl() { } function Wl(t) { this.this$ConditionEffects = t } function Yl(t) { this.this$ConditionEffects = t } function Vl(t) { this.this$ConditionEffects = t } function Kl(t) { this.this$ConditionEffects = t } function Xl() { } function Jl() { } function Zl(t) { this.this$ConditionEffects = t } function Ql() { ic(), this.condition = "", this.value = !1, this.description = "" } function tc() { ec = this, this.COLUMN_CONDITION = "condition", this.COLUMN_VALUE = "value", this.COLUMN_DESCRIPTION = "description" } Dl.$metadata$ = { kind: H, simpleName: "ConditionEffect", interfaces: [] }, zl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { re().addProficiencyBonus_jn4iy8$(e, t, 1, i, pK().PROFICIENCY_PERCEPTION, -4) }, zl.$metadata$ = { kind: p, interfaces: [Dl] }, Ol.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { var r, n = [pK().PROFICIENCY_UNARMORED, pK().PROFICIENCY_LIGHT_ARMOR, pK().PROFICIENCY_MEDIUM_ARMOR, pK().PROFICIENCY_HEAVY_ARMOR, pK().PROFICIENCY_REFLEX, pK().ACROBATICS, pK().STEALTH, pK().THIEVERY]; for (r = 0; r !== n.length; ++r) { var o = n[r]; re().addProficiencyBonus_jn4iy8$(e, t, 1, i, o, 0 | -a) } if (e) { var s = bl(!0, !0, 1, 0 | -a, 1, i); t.hashMapAttackDamageBuffs.put_xwzc9p$(i, s) } else t.hashMapAttackDamageBuffs.remove_11rb$(i) }, Ol.$metadata$ = { kind: p, interfaces: [Dl] }, Fl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { var r; for (r = T([pK().PROFICIENCY_FORTITUDE]).iterator(); r.hasNext();) { var n = r.next(); re().addProficiencyBonus_jn4iy8$(e, t, 1, i, n, 0 | -a) } }, Fl.$metadata$ = { kind: p, interfaces: [Dl] }, Bl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { o(this.this$ConditionEffects.hashMapConditionEffects.get_11rb$("Clumsy")).applyEffect_i0ezl2$(t, e, "Clumsy (Encumbered)", 1), re().addSpeedIncreaseItem_xs3ggp$(e, t, i, UW(t.getCharacterData().getCharacterLevel(), -10, 3, 5)) }, Bl.$metadata$ = { kind: p, interfaces: [Dl] }, jl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { var r; for (r = T([pK().ATHELTICS]).iterator(); r.hasNext();) { var n = r.next(); re().addProficiencyBonus_jn4iy8$(e, t, 1, i, n, 0 | -a) } if (e) { var o = bl(!0, !0, 0, 0 | -a, 1, i); t.hashMapAttackDamageBuffs.put_xwzc9p$(i, o) } else t.hashMapAttackDamageBuffs.remove_11rb$(i) }, jl.$metadata$ = { kind: p, interfaces: [Dl] }, Hl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { var r; for (r = this.this$ConditionEffects.dataControl.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(t).iterator(); r.hasNext();) { var n = r.next(); re().addProficiencyBonus_jn4iy8$(e, t, 1, i, n, -2) } re().addProficiencyBonus_jn4iy8$(e, t, 1, i, pK().PROFICIENCY_PERCEPTION, -2) }, Hl.$metadata$ = { kind: p, interfaces: [Dl] }, ql.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { var r, n = [pK().PROFICIENCY_UNARMORED, pK().PROFICIENCY_LIGHT_ARMOR, pK().PROFICIENCY_MEDIUM_ARMOR, pK().PROFICIENCY_HEAVY_ARMOR, pK().PROFICIENCY_REFLEX, pK().PROFICIENCY_FORTITUDE, pK().PROFICIENCY_WILL]; for (r = 0; r !== n.length; ++r) { var o = n[r]; re().addProficiencyBonus_jn4iy8$(e, t, 1, i, o, -1) } }, ql.$metadata$ = { kind: p, interfaces: [Dl] }, Ul.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { var r, n = [pK().PROFICIENCY_UNARMORED, pK().PROFICIENCY_LIGHT_ARMOR, pK().PROFICIENCY_MEDIUM_ARMOR, pK().PROFICIENCY_HEAVY_ARMOR]; for (r = 0; r !== n.length; ++r) { var o = n[r]; re().addProficiencyBonus_jn4iy8$(e, t, 2, i, o, -2) } }, Ul.$metadata$ = { kind: p, interfaces: [Dl] }, Gl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { var r; for (r = t.listAllProficiencies.iterator(); r.hasNext();) { var n = r.next(); re().addProficiencyBonus_jn4iy8$(e, t, 1, i, n, 0 | -a) } }, Gl.$metadata$ = { kind: p, interfaces: [Dl] }, Wl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { o(this.this$ConditionEffects.hashMapConditionEffects.get_11rb$("Flat-Footed")).applyEffect_i0ezl2$(t, e, "Flat-Footed", a) }, Wl.$metadata$ = { kind: p, interfaces: [Dl] }, Yl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { o(this.this$ConditionEffects.hashMapConditionEffects.get_11rb$("Flat-Footed")).applyEffect_i0ezl2$(t, e, "Flat-Footed", a) }, Yl.$metadata$ = { kind: p, interfaces: [Dl] }, Vl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { if (e) { var r = bl(!0, !1, -1, -2, 2, i); t.hashMapAttackDamageBuffs.put_xwzc9p$(i, r) } else t.hashMapAttackDamageBuffs.remove_11rb$(i); o(this.this$ConditionEffects.hashMapConditionEffects.get_11rb$("Flat-Footed")).applyEffect_i0ezl2$(t, e, "Flat-Footed", a) }, Vl.$metadata$ = { kind: p, interfaces: [Dl] }, Kl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { o(this.this$ConditionEffects.hashMapConditionEffects.get_11rb$("Flat-Footed")).applyEffect_i0ezl2$(t, e, "Flat-Footed", a) }, Kl.$metadata$ = { kind: p, interfaces: [Dl] }, Xl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { var r; for (r = t.listAllProficiencies.iterator(); r.hasNext();) { var n = r.next(); re().addProficiencyBonus_jn4iy8$(e, t, 1, i, n, 0 | -a) } }, Xl.$metadata$ = { kind: p, interfaces: [Dl] }, Jl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { var r, n, o = u(); for (r = t.listAllSkillProficiencies.iterator(); r.hasNext();) { var s = r.next(), l = t.getSkillProficiency_61zpoe$(s); null != l && l.abilityRef >= 3 && o.add_11rb$(s) } for (o.add_11rb$(pK().PROFICIENCY_PERCEPTION), o.add_11rb$(pK().PROFICIENCY_WILL), o.add_11rb$(pK().PROFICIENCY_SPELLS_ARCANE), o.add_11rb$(pK().PROFICIENCY_SPELLS_DIVINE), o.add_11rb$(pK().PROFICIENCY_SPELLS_OCCULT), o.add_11rb$(pK().PROFICIENCY_SPELLS_PRIMAL), n = o.iterator(); n.hasNext();) { var c = n.next(); re().addProficiencyBonus_jn4iy8$(e, t, 1, i, c, 0 | -a) } }, Jl.$metadata$ = { kind: p, interfaces: [Dl] }, Zl.prototype.applyEffect_i0ezl2$ = function (t, e, i, a) { var r; o(this.this$ConditionEffects.hashMapConditionEffects.get_11rb$("Flat-Footed")).applyEffect_i0ezl2$(t, e, "Flat-Footed", a); var n = [pK().PROFICIENCY_UNARMORED, pK().PROFICIENCY_LIGHT_ARMOR, pK().PROFICIENCY_MEDIUM_ARMOR, pK().PROFICIENCY_HEAVY_ARMOR]; for (r = 0; r !== n.length; ++r) { var s = n[r]; re().addProficiencyBonus_jn4iy8$(e, t, 1, i, s, -4) } re().addProficiencyBonus_jn4iy8$(e, t, 1, i, pK().PROFICIENCY_PERCEPTION, -4), re().addProficiencyBonus_jn4iy8$(e, t, 1, i, pK().PROFICIENCY_REFLEX, -4) }, Zl.$metadata$ = { kind: p, interfaces: [Dl] }, xl.prototype.setHashMapConditionEffects_0 = function () { this.hashMapConditionEffects.put_xwzc9p$("Blinded", new zl); var t = this.hashMapConditionEffects, e = new Ol; t.put_xwzc9p$("Clumsy", e); var i = this.hashMapConditionEffects, a = new Fl; i.put_xwzc9p$("Drained", a); var r = this.hashMapConditionEffects, n = new Bl(this); r.put_xwzc9p$("Encumbered", n); var o = this.hashMapConditionEffects, s = new jl; o.put_xwzc9p$("Enfeebled", s); var l = this.hashMapConditionEffects, c = new Hl(this); l.put_xwzc9p$("Fascinated", c); var p = this.hashMapConditionEffects, h = new ql; p.put_xwzc9p$("Fatigued", h); var d = this.hashMapConditionEffects, u = new Ul; d.put_xwzc9p$("Flat-Footed", u); var _ = this.hashMapConditionEffects, f = new Gl; _.put_xwzc9p$("Frightened", f); var y = this.hashMapConditionEffects, m = new Wl(this); y.put_xwzc9p$("Grabbed", m); var $ = this.hashMapConditionEffects, g = new Yl(this); $.put_xwzc9p$("Paralyze", g); var v = this.hashMapConditionEffects, S = new Vl(this); v.put_xwzc9p$("Prone", S); var C = this.hashMapConditionEffects, E = new Kl(this); C.put_xwzc9p$("Restrained", E); var A = this.hashMapConditionEffects, b = new Xl; A.put_xwzc9p$("Sickened", b); var I = this.hashMapConditionEffects, w = new Jl; I.put_xwzc9p$("Stupefied", w); var L = this.hashMapConditionEffects, T = new Zl(this); L.put_xwzc9p$("Unconscious", T) }, xl.$metadata$ = { kind: p, simpleName: "ConditionEffects", interfaces: [W0] }, tc.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ec = null; function ic() { return null === ec && new tc, ec } function ac() { this.list = u(), this.hashMap = c() } function rc() { sc(), this.action = -2, this.name = "", this.traits = "", this.description = "", this.extra = "", this.encounterActionType = 0, this.url = "https://2e.aonprd.com/Rules.aspx?ID=429" } function nc() { oc = this, this.ENCOUNTER_ACTION_FEATS_SPECIALS = 0, this.ENCOUNTER_ACTION_SKILLS = 1, this.ENCOUNTER_ACTION_EQUIPMENT = 2, this.ENCOUNTER_ACTION_BASIC = 3, this.ENCOUNTER_ACTION_PETS = 4 } Ql.$metadata$ = { kind: p, simpleName: "ConditionInformation", interfaces: [] }, ac.prototype.createHashMap = function () { var t; for (t = this.list.iterator(); t.hasNext();) { var e = t.next(), i = this.hashMap, a = e.condition; i.put_xwzc9p$(a, e) } }, ac.$metadata$ = { kind: p, simpleName: "ConditionInformationSet", interfaces: [] }, nc.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var oc = null; function sc() { return null === oc && new nc, oc } function lc(t, e, i, a, r, n) { return n = n || Object.create(rc.prototype), rc.call(n), n.name = t, n.action = e, n.traits = null != i ? i : "", n.description = a, n.url = r, n } function cc(t, e, i, a, r, n) { return n = n || Object.create(rc.prototype), rc.call(n), n.name = t, n.action = e, n.traits = null != i ? i : "", n.description = a, n.encounterActionType = r, n } function pc(t, e, i, a, r, n, o) { return o = o || Object.create(rc.prototype), rc.call(o), o.name = t, o.action = e, o.traits = null != i ? i : "", o.description = a, o.url = r, o.encounterActionType = n, o } function hc(t, e, i, a, r) { _c(), this.type = t, this.name = e, this.level = i, this.ref = a, this.reqCharacterLevel = r } function dc() { uc = this, this.TYPE_ARMOR = 0, this.TYPE_WEAPON = 1, this.TYPE_CONSTRUCT = 2, this.CHOICE_REF = "Select Modification" } rc.$metadata$ = { kind: p, simpleName: "EncounterAction", interfaces: [] }, dc.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var uc = null; function _c() { return null === uc && new dc, uc } function fc() { $c(), this.flaw0 = 0, this.flaw1 = 1, this.boost = 2 } function yc() { mc = this } hc.$metadata$ = { kind: p, simpleName: "InventorModification", interfaces: [] }, yc.prototype.serializer = function () { return Sc() }, yc.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var mc = null; function $c() { return null === mc && new yc, mc } function gc() { this.descriptor_md39v2$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerclasses.OptionalFlaw", this, 3), this.descriptor.addElement_ivxn3r$("flaw0", !0), this.descriptor.addElement_ivxn3r$("flaw1", !0), this.descriptor.addElement_ivxn3r$("boost", !0), vc = this } Object.defineProperty(gc.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_md39v2$_0 } }), gc.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.flaw0, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeIntElement_ptg7oe$(this.descriptor, 0, e.flaw0), m(e.flaw1, 1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeIntElement_ptg7oe$(this.descriptor, 1, e.flaw1), m(e.boost, 2) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.boost), i.endStructure_24f42q$(this.descriptor) }, gc.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n = 0, o = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = o.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = o.decodeIntElement_szpzho$(this.descriptor, 0), n |= 1; break; case 1: a = o.decodeIntElement_szpzho$(this.descriptor, 1), n |= 2; break; case 2: r = o.decodeIntElement_szpzho$(this.descriptor, 2), n |= 4; break; case -1: break t; default: throw new O(e) }return o.endStructure_24f42q$(this.descriptor), Cc(n, i, a, r, null) }, gc.prototype.childSerializers = function () { return [M.IntSerializer, M.IntSerializer, M.IntSerializer] }, gc.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var vc = null; function Sc() { return null === vc && new gc, vc } function Cc(t, e, i, a, r) { var n = r || Object.create(fc.prototype); return n.flaw0 = 0 == (1 & t) ? 0 : e, n.flaw1 = 0 == (2 & t) ? 1 : i, n.boost = 0 == (4 & t) ? 2 : a, n } function Ec(t) { Ic(), this.hashMapCopyrightInformation = null, this.hashMapCopyrightInformation = t.getCopyrightInformation() } function Ac() { bc = this, this.BOOKS_APS = "ZZAPs", this.BOOK_CRB = "CRB", this.BOOK_LOST_OMENS_CHARACTER_GUIDE = "Lost Omens Character Guide" } fc.$metadata$ = { kind: p, simpleName: "OptionalFlaw", interfaces: [] }, Ec.prototype.getCopyrightDetails_pdl1vj$ = function (t) { var i, a = this.hashMapCopyrightInformation; if ((e.isType(i = a, y) ? i : d()).containsKey_11rb$(t)) { var r, n = this.hashMapCopyrightInformation; return o(o((e.isType(r = n, y) ? r : d()).get_11rb$(t)).shortDesc) } return Ic().BOOK_CRB }, Ec.prototype.getCopyrightTitle_pdl1vj$ = function (t) { var i, a = this.hashMapCopyrightInformation; if ((e.isType(i = a, y) ? i : d()).containsKey_11rb$(t)) { var r, n = this.hashMapCopyrightInformation; return o(o((e.isType(r = n, y) ? r : d()).get_11rb$(t)).title) } return "Error" }, Ec.prototype.getCopyrightDescription_pdl1vj$ = function (t) { var i, a = this.hashMapCopyrightInformation; if ((e.isType(i = a, y) ? i : d()).containsKey_11rb$(t)) { var r, n = this.hashMapCopyrightInformation; return o(o((e.isType(r = n, y) ? r : d()).get_11rb$(t)).description) } return "Error" }, Ac.prototype.isEnabled_kc4y8q$ = function (t, e) { return !(null != e && !m(e, this.BOOK_CRB) && !t.listDisabledRulebooks.isEmpty() && t.listDisabledRulebooks.contains_11rb$(e)) }, Ac.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var bc = null; function Ic() { return null === bc && new Ac, bc } function wc(t, e) { var i, a, r, n, s; for (kc(), W0.call(this, t), this.hashMapEquipmentCategoryNames = c(), this.hashMapAllEquipmentByCategory = c(), this.hashMapShields = c(), this.hashMapMaterialArmor = c(), this.hashMapMaterialWeapons = c(), this.hashMapAllEquipmentByName = c(), this.equipmentEffectMethods_0 = null, this.inventorModificationEffectMethods_0 = null, this.inventorModificationRequirementEffects_0 = null, this.hashMapEquipmentCategoryNames.put_xwzc9p$("All", -1), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Adventuring Gear", 0), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Consumables", 1), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Alchemical", 2), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Magic Items (Worn)", 3), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Magic Items (Held)", 4), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Staves", 5), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Wands", 6), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Snares", 7), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Custom", 8), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Companion", 9), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Artifacts", 10), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Scrolls", 11), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Eidolon", 12), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Weapon Attachments", 13), this.hashMapEquipmentCategoryNames.put_xwzc9p$("Miscellaneous", 14), this.hashMapAllEquipmentByCategory = e.getAllEquipment(), this.hashMapShields = e.getAllShields(), this.hashMapMaterialArmor = e.getMaterialArmor(), this.hashMapMaterialWeapons = e.getMaterialWeapons(), i = this.hashMapAllEquipmentByCategory.values.iterator(); i.hasNext();) { var l = i.next(); this.hashMapAllEquipmentByName.putAll_a2k3zr$(l) } for (a = this.hashMapAllEquipmentByName.values.iterator(); a.hasNext();) { var p = a.next(); if (p.databaseID > -1 && null != p.listCustomEffects) for (r = o(p.listCustomEffects).iterator(); r.hasNext();) { var h = r.next(), d = t.hashMapBuffIDsToNames, u = h.getReference_sfkw43$(t), _ = p.name; d.put_xwzc9p$(u, _) } } for (n = this.hashMapShields.values.iterator(); n.hasNext();) { var f = n.next(); if (f.databaseID > -1 && null != f.listCustomEffects) for (s = o(f.listCustomEffects).iterator(); s.hasNext();) { var y = s.next(), m = t.hashMapBuffIDsToNames, $ = y.getReference_sfkw43$(t), g = f.name; m.put_xwzc9p$($, g) } } this.equipmentEffectMethods_0 = new Uc(t), this.inventorModificationEffectMethods_0 = new lh, this.inventorModificationRequirementEffects_0 = new cd } function Lc() { Tc = this, this.ARRAY_EQUIPMENT_CATEGORIES = ["Adventuring Gear", "Consumables", "Alchemical", "Magic Items (Worn)", "Magic Items (Held)", "Staves", "Wands", "Scrolls", "Snares", "Artifacts", "Weapon Attachments", "Miscellaneous", "All", "Custom"], this.ARRAY_EQUIPMENT_CATEGORIES_PETS = ["Adventuring Gear", "Consumables", "Alchemical", "Magic Items (Worn)", "Magic Items (Held)", "Staves", "Wands", "Snares", "Custom", "Companion"], this.EQUIPMENT_CATEGORY_ALL = -1, this.EQUIPMENT_CATEGORY_GEAR = 0, this.EQUIPMENT_CATEGORY_CONSUMABLE = 1, this.EQUIPMENT_CATEGORY_ALCHEMICAL = 2, this.EQUIPMENT_CATEGORY_WORN_ITEMS = 3, this.EQUIPMENT_CATEGORY_HELD_ITEMS = 4, this.EQUIPMENT_CATEGORY_STAVES = 5, this.EQUIPMENT_CATEGORY_WANDS = 6, this.EQUIPMENT_CATEGORY_SNARES = 7, this.EQUIPMENT_CATEGORY_CUSTOM = 8, this.EQUIPMENT_CATEGORY_COMPANION = 9, this.EQUIPMENT_CATEGORY_ARCTIFACTS = 10, this.EQUIPMENT_CATEGORY_SCROLLS = 11, this.EQUIPMENT_CATEGORY_EIDOLON = 12, this.EQUIPMENT_CATEGORY_WEAPON_ATTACHMENTS = 13, this.EQUIPMENT_CATEGORY_MISC = 14, this.EQUIPMENT_CATEGORY_PROPERTY_RUNES_ARMOR = 101, this.EQUIPMENT_CATEGORY_PROPERTY_RUNES_WEAPON = 102, this.EQUIPMENT_CATEGORY_PROPERTY_RUNES_SHIELDS = 103, this.EQUIPMENT_CATEGORY_FUNDAMENTAL_RUNES = 104, this.AMMUNITION_NAMES = ["ammunition", "round", "arrow", "bolt", "bullet"] } Ec.$metadata$ = { kind: p, simpleName: "ManagerCopyright", interfaces: [] }, wc.prototype.getListAllowInventorMods_qmgi3v$ = function (t, e, i, a) { var r, n = u(); for (r = a.iterator(); r.hasNext();) { var o = r.next(); this.inventorModificationRequirementEffects_0.meetsRequirement_qf1zoh$(this.dataControl, t, e, o, i) && n.add_11rb$(o) } return n }, wc.prototype.getListAllowInventorConstruct_f23gbp$ = function (t, e, i, a, r) { var n, o = u(); for (n = a.iterator(); n.hasNext();) { var s = n.next(); this.inventorModificationRequirementEffects_0.meetsRequirementConstruct_wbgrtb$(this.dataControl, t, e, s, i, r) && o.add_11rb$(s) } return o }, wc.prototype.activateAllSelectedConstructModifications_ryqv3o$ = function (t, e) { var i, a = yZ().getInnovation_5btbp7$(e); if (null != a && m(a, yZ().INNOVATION_CONSTRUCT)) for (i = e.hashMapInventorModifications.keys.iterator(); i.hasNext();) { var r = i.next(); this.activateInventorModifications_rvs3un$(t, e, r, !1) } }, wc.prototype.activateInventorModifications_rvs3un$ = function (t, e, i, a) { var r, n = e.hashMapInventorModifications.get_11rb$(i), s = e.getCharacterData(); if (null != n) switch (n.type) { case 0: if (null != s.getPlayerArmor().mapInvModSel) { var l = o(s.getPlayerArmor().mapInvModSel).get_11rb$(i); null != l && this.activateInventorModEffect_9lywn0$(e, t, n, l, s.getPlayerArmor()), !t && a && null != s.getPlayerArmor().mapInvModSel && o(s.getPlayerArmor().mapInvModSel).remove_11rb$(n.ref) } break; case 1: for (r = s.listPlayerWeapons.iterator(); r.hasNext();) { var c = r.next(); if (null != c.mapInvModSel) { var p = o(c.mapInvModSel).get_11rb$(i); null != p && this.activateInventorModEffect_9lywn0$(e, t, n, p, c), !t && a && null != c.mapInvModSel && o(c.mapInvModSel).remove_11rb$(n.ref) } } break; case 2: var h = e.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_CONSTRUCT); if (null != h) { var d = h.getCharacterData().getSpecialSelection_puj7f4$(i, "No ref"); null != d && this.activateInventorModEffect_9lywn0$(e, t, n, d, null), !t && a && null != s.getPlayerArmor().mapInvModSel && h.getCharacterData().removeSpecialSelection_puj7f4$(i, "No ref") } } }, wc.prototype.activateInventorModificationsInPlayerItem_hihe8v$ = function (t, e, i) { var a; if (null != i.mapInvModSel) for (a = o(i.mapInvModSel).keys.iterator(); a.hasNext();) { var r = a.next(), n = o(i.mapInvModSel).get_11rb$(r), s = e.hashMapInventorModifications.get_11rb$(r); null != s && null != n && this.activateInventorModEffect_9lywn0$(e, t, s, n, i) } }, wc.prototype.changeInventorModificationConstruct_5jnxnw$ = function (t, e, i, a) { var r = a.getCharacterData().getSpecialSelection_puj7f4$(e.ref, "No ref"); null != r && this.activateInventorModEffect_9lywn0$(t, !1, e, r, null), a.getCharacterData().addSpecialSelection_6hosri$(e.ref, "No ref", i), this.activateInventorModEffect_9lywn0$(t, !0, e, i, null) }, wc.prototype.changeInventorModification_bc7vnm$ = function (t, e, i, a) { var r = a.getInvModSelection_61zpoe$(e.ref); null != r && this.activateInventorModEffect_9lywn0$(t, !1, e, r, a), a.addInvModSelection_puj7f4$(e.ref, i), this.activateInventorModEffect_9lywn0$(t, !0, e, i, a) }, wc.prototype.activateInventorModEffect_9lywn0$ = function (t, i, a, r, n) { var o, c; switch (a.type) { case 0: try { var p = e.isType(o = n, cs) ? o : d(); this.inventorModificationEffectMethods_0.activateArmorModificationEffect_w64t21$(this.dataControl, t, i, p, a, r) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } break; case 1: try { var h = e.isType(c = n, i1) ? c : d(); this.inventorModificationEffectMethods_0.activateWeaponModificationEffect_a9lvck$(this.dataControl, t, i, h, a, r) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } break; case 2: try { var u = t.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_CONSTRUCT); null != u && this.inventorModificationEffectMethods_0.activateConstructModificationEffect_5z7kmi$(this.dataControl, t, i, u, a, r) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } }, wc.prototype.getEquipmentByCategory_za3lpa$ = function (t) { var e; return -1 === t ? this.hashMapAllEquipmentByName : 12 === t ? this.getEidolonEquipment_0() : null != (e = this.hashMapAllEquipmentByCategory.get_11rb$(t)) ? e : c() }, wc.prototype.getEidolonEquipment_0 = function () { var t, e = c(); for (t = this.getEquipmentByCategory_za3lpa$(9).values.iterator(); t.hasNext();) { var i = t.next(); _(i.traits, "Eidolon") && e.put_xwzc9p$(o(i.uniqueIdentiier), i) } return e }, wc.prototype.removeShieldFromCharacterAndPets_t0kavo$ = function (t, e) { var i; this.activateShieldEffects_ejs4i3$(!1, t); var a = o(t).getCharacterData().getPlayerShieldNew(); for (null != a && m(a.shieldName, e) && t.getCharacterData().setPlayerShieldNew_hbhz1b$(null), i = t.hashMapPetCharacterBuilds.keys.iterator(); i.hasNext();) { var r = i.next(), n = t.hashMapPetCharacterBuilds.get_11rb$(r); this.removeShieldFromCharacterAndPets_t0kavo$(n, e) } }, wc.prototype.hasEquipment_cyt1w7$ = function (t, e) { var i; for (i = t.getCharacterData().listPlayerEquipment.iterator(); i.hasNext();) { var a = i.next(); if (m(a.name, e)) return !0 } return !1 }, wc.prototype.getPossbilyNullPlayerEquipment_0 = function (t, e) { var i; for (i = o(t).getCharacterData().listPlayerEquipment.iterator(); i.hasNext();) { var a = i.next(); if (m(a.name, e)) return a } return null }, wc.prototype.refreshEquipmentInCharacterAndPets_1waocl$ = function (t, e, i, a) { var r; if (null != i) { var n = this.getPossbilyNullPlayerEquipment_0(e, i); for (null != n && (t ? this.applyEquipmentBonus_qumra2$(e, n) : this.removeEquipmentBonus_qumra2$(e, n), a && o(e).getCharacterData().listPlayerEquipment.remove_11rb$(n)), r = o(e).hashMapPetCharacterBuilds.keys.iterator(); r.hasNext();) { var s = r.next(), l = e.hashMapPetCharacterBuilds.get_11rb$(s); this.refreshEquipmentInCharacterAndPets_1waocl$(t, l, i, a) } } }, wc.prototype.getSpeed_5btbp7$ = function (t) { var i, a, r, n = this.dataControl.managerAncestry.getAncestryTemplate_5btbp7$(t).speed; try { var p = t.getPlayReportAbilityScores_sfkw43$(this.dataControl), u = this.dataControl.managerArmor.getWornArmorInformation_5btbp7$(t); if (null != o(u).speedPenalty) { var _ = o(u.speedPenalty), f = t.getCharacterData().getPlayerArmor(); if (null != f.material) { var m, $ = this.hashMapMaterialArmor, g = f.material, v = (e.isType(m = $, y) ? m : d()).get_11rb$(g); _ = _ - o(v).speed | 0 } o(p).abilityScoresBuffed[0] >= this.dataControl.managerArmor.getArmorReqStrength_wy0w74$(f, u) && (Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), "ARCHETYPE_Armiger's Mobility") || this.hasHeavyConstructionInventorMod_0(t) ? _ = _ - 10 | 0 : _ > 0 && (_ = _ - 5 | 0)), Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), "DWARF_Unburdened Iron") && (_ = 0, Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), "ARCHETYPE_Armiger's Mobility") && (n = n + 5 | 0)), _ < 0 && (_ = 0), n = n - _ | 0 } try { var S = 0; if (null != t.getCharacterData().getPlayerShieldNew()) { var C = this.hashMapShields.get_11rb$(o(t.getCharacterData().getPlayerShieldNew()).shieldName); null != C && 0 !== (S = C.speed) && (Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), "DWARF_Unburdened Iron") && (S = 0, Lq().hasFeatByLevel_w0akbr$(t, "No ref", t.getCharacterData().getCharacterLevel(), "ARCHETYPE_Armiger's Mobility") && (n = n + 5 | 0)), S < 0 && (S = 0), n = n - S | 0) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } var E = c(), A = c(); for (i = t.hashMapSpeedIncreases.values.iterator(); i.hasNext();) { var b = i.next(); if (t.getCharacterData().getCharacterLevel() >= b.level && b.isWearingLegalArmor_za3lpa$(u.proficiencyType) && b.isLandSpeedBonus()) if (3 === b.bonusTypeUnused) n = n + b.increase | 0; else if (b.increase > 0) if (E.containsKey_11rb$(b.bonusTypeUnused)) { if (b.increase > o(E.get_11rb$(b.bonusTypeUnused))) { var I = b.bonusTypeUnused, w = b.increase; E.put_xwzc9p$(I, w) } } else { var L = b.bonusTypeUnused, T = b.increase; E.put_xwzc9p$(L, T) } else { var k = b.increase; A.containsKey_11rb$(b.bonusTypeUnused) && (k = k + o(E.get_11rb$(b.bonusTypeUnused)) | 0); var R = b.bonusTypeUnused, P = k; A.put_xwzc9p$(R, P) } } for (a = E.values.iterator(); a.hasNext();)n = n + a.next() | 0; for (r = A.values.iterator(); r.hasNext();)n = n + r.next() | 0 } catch (t) { if (!e.isType(t, h)) throw t; s(t) } return n < 5 && (n = 5), n }, wc.prototype.hasHeavyConstructionInventorMod_0 = function (t) { var e; if (null != t.getCharacterData().getPlayerArmor().mapInvModSel) for (e = t.hashMapInventorModifications.values.iterator(); e.hasNext();) { var i = e.next(); if (t.getCharacterData().getCharacterLevel() >= i.level) { var a = t.getCharacterData().getPlayerArmor().getInvModSelection_61zpoe$(i.ref); if (null != a && m(a, "Heavy Construction")) return !0 } } return !1 }, wc.prototype.applyEquipmentBonus_qumra2$ = function (t, e) { var i, a; if (this.hashMapAllEquipmentByName.containsKey_11rb$(e.name)) { var r = this.hashMapAllEquipmentByName.get_11rb$(e.name); if (null != o(r).hashMapProficiencyBonus) for (i = o(r.hashMapProficiencyBonus).keys.iterator(); i.hasNext();) { var n = i.next(); if (o(t).proficiencyExists_61zpoe$(n)) { var s = o(o(r.hashMapProficiencyBonus).get_11rb$(n)); o(t.getProficiency_61zpoe$(n)).addBonus_rpybz1$(0, e.name, s) } } if (this.equipmentEffectMethods_0.hashMapEquipmentEffects.containsKey_11rb$(e.name) && o(this.equipmentEffectMethods_0.hashMapEquipmentEffects.get_11rb$(e.name)).applyEffect_4oqgq6$(o(t), !0, e), r.speed > 0) { var l = o(t).hashMapSpeedIncreases, c = r.name, p = BW(t.getCharacterData().getCharacterLevel(), r.speed); l.put_xwzc9p$(c, p) } if (null != r.listCustomEffects) for (a = o(r.listCustomEffects).iterator(); a.hasNext();)a.next().applyBonus_s8e943$(!0, this.dataControl, o(t)) } }, wc.prototype.removeEquipmentBonus_qumra2$ = function (t, e) { var i, a; if (this.hashMapAllEquipmentByName.containsKey_11rb$(e.name)) { var r = this.hashMapAllEquipmentByName.get_11rb$(e.name); if (null != o(r).hashMapProficiencyBonus) for (i = o(r.hashMapProficiencyBonus).keys.iterator(); i.hasNext();) { var n = i.next(); o(t).proficiencyExists_61zpoe$(n) && o(t.getProficiency_61zpoe$(n)).removeBonus_vqvrqt$(0, e.name) } if (this.equipmentEffectMethods_0.hashMapEquipmentEffects.containsKey_11rb$(e.name) && o(this.equipmentEffectMethods_0.hashMapEquipmentEffects.get_11rb$(e.name)).applyEffect_4oqgq6$(o(t), !1, e), r.speed > 0 && o(t).hashMapSpeedIncreases.remove_11rb$(r.name), null != r.listCustomEffects) for (a = o(r.listCustomEffects).iterator(); a.hasNext();)a.next().applyBonus_s8e943$(!1, this.dataControl, o(t)) } }, wc.prototype.activateAllEquipmentOnLoad_5btbp7$ = function (t) { var i, a, r = u(); for (r.addAll_brywnq$(t.getCharacterData().listPlayerEquipment), i = r.iterator(); i.hasNext();) { var n = i.next(); if (n.invested) try { this.applyEquipmentBonus_qumra2$(t, n) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } for (this.activateShieldEffects_ejs4i3$(!0, t), a = t.hashMapInventorModifications.keys.iterator(); a.hasNext();) { var o = a.next(); this.activateInventorModifications_rvs3un$(!0, t, o, !1) } }, wc.prototype.activateShieldEffects_ejs4i3$ = function (t, e) { var i; if (null != o(e).getCharacterData().getPlayerShieldNew()) { var a = this.hashMapShields.get_11rb$(o(e.getCharacterData().getPlayerShieldNew()).shieldName); if (null != a && null != a.listCustomEffects) for (i = o(a.listCustomEffects).iterator(); i.hasNext();)i.next().applyBonus_s8e943$(t, this.dataControl, e) } }, wc.prototype.getMaxBulk_vy76y1$ = function (t, e) { var i, a = e + pe().getAbilityMod_za3lpa$(o(t.getPlayReportAbilityScores_sfkw43$(this.dataControl)).abilityScoresBuffed[0]) | 0; for (i = t.hashMapMaxBulkIncreases.values.iterator(); i.hasNext();) { var r = i.next(); t.getCharacterData().getCharacterLevel() >= r.level && (a = a + r.increase | 0) } return m(this.dataControl.managerAncestry.getSize_5btbp7$(t), "Tiny") && (a = C(S(a / 2))), a }, wc.prototype.getCurrentBulk_n40yp2$ = function (t) { return new Rc(this.dataControl, o(t)) }, wc.prototype.removeEquipmentFromPlayerByName_cyt1w7$ = function (t, e) { var i, a, r = u(); for (i = t.getCharacterData().listPlayerEquipment.iterator(); i.hasNext();) { var n = i.next(); m(n.name, e) && r.add_11rb$(n) } for (a = r.iterator(); a.hasNext();) { var o = a.next(); t.getCharacterData().listPlayerEquipment.remove_11rb$(o) } }, wc.prototype.activateAllArmorRunesOnLoad_5btbp7$ = function (t) { var e; for (e = t.getCharacterData().getPlayerArmor().getListPropertyRunes().iterator(); e.hasNext();) { var i = e.next(); this.activateArmorRune_gg017k$(t, !0, i) } }, wc.prototype.activateArmorRune_gg017k$ = function (t, i, a) { var r, n = this.equipmentEffectMethods_0.hashMapRuneEfects; if ((e.isType(r = n, y) ? r : d()).containsKey_11rb$(a)) { var s, l = this.equipmentEffectMethods_0.hashMapRuneEfects; o((e.isType(s = l, y) ? s : d()).get_11rb$(a)).applyEffect_6dfp70$(o(t), i, o(a)) } }, wc.prototype.canAffordItem_5sfiqf$ = function (t, e) { var i = 0; return i += t.getCharacterData().getGold(), i += 10 * t.getCharacterData().getPlatinum() | 0, i += t.getCharacterData().getSilver() / 10, (i += t.getCharacterData().getCopper() / 100) >= e }, wc.prototype.deductCost_5sfiqf$ = function (t, e) { var i = 0; if (i = (i = (i = (i = (i = i + t.getCharacterData().getCopper() | 0) + (10 * t.getCharacterData().getSilver() | 0) | 0) + (100 * t.getCharacterData().getGold() | 0) | 0) + (1e3 * t.getCharacterData().getPlatinum() | 0) | 0) - C(S(100 * e)) | 0, t.getCharacterData().setPlatinum_za3lpa$(0), i >= 100) { var a = i / 100, r = C(I.floor(a)); t.getCharacterData().setGold_za3lpa$(r), i = i - (100 * r | 0) | 0 } else t.getCharacterData().setGold_za3lpa$(0); if (i >= 10) { var n = i / 10, o = C(I.floor(n)); t.getCharacterData().setSilver_za3lpa$(o), i = i - (10 * o | 0) | 0 } else t.getCharacterData().setSilver_za3lpa$(0); t.getCharacterData().setCopper_za3lpa$(i) }, wc.prototype.getEquipmentCategoryFromName_61zpoe$ = function (t) { var e; for (e = this.hashMapEquipmentCategoryNames.keys.iterator(); e.hasNext();) { var i = e.next(); if (m(i, t)) return o(this.hashMapEquipmentCategoryNames.get_11rb$(i)) } return 0 }, Lc.prototype.isItemAmmunition_whuh8d$ = function (t) { var e, i; for (e = this.AMMUNITION_NAMES, i = 0; i !== e.length; ++i) { var a = e[i]; if (_(t.usage, a)) return !0 } return !1 }, Lc.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Tc = null; function kc() { return null === Tc && new Lc, Tc } function Rc(t, i) { Nc(), this.currentBulk = 0, this.hashMapActualBulkByContainerID = c(), this.hashMapAlteredBulkByContainerID = c(), this.hashMapContainedBulk_0 = c(); try { var a = t.managerAncestry.getSize_5btbp7$(i); this.addPlayerArmorToBulk_0(t, i, a), this.addPlayerWeaponsToBulk_0(t, i, a), this.addPlayerEquipmentToBulk_0(t, i, a), this.addItemsInContainers_0(t, i), this.addShieldBulk_0(t, i, a), this.addAlchemistFormula_0(t, i, a) } catch (t) { if (!e.isType(t, h)) throw t; s(t) } } function Pc() { Mc = this } wc.$metadata$ = { kind: p, simpleName: "ManagerEquipment", interfaces: [W0] }, Rc.prototype.addPlayerArmorToBulk_0 = function (t, e, i) { var a, r; for (a = e.getCharacterData().listStowedPlayerArmor.iterator(); a.hasNext();) { var n = a.next(), o = null != (r = t.managerArmor.hashMapArmor) ? r.get_11rb$(n.armorName) : null; null != o && (null != n.inContainerID ? this.addEquipmentBulkToContainedBulk_0(n.inContainerID, n.getBulk_lrvmev$(t, o, i)) : this.currentBulk += n.getBulk_lrvmev$(t, o, i)) } var s = e.getCharacterData().getPlayerArmor(), l = t.managerArmor.getWornArmorInformation_5btbp7$(e); this.currentBulk += s.getBulk_lrvmev$(t, l, i) }, Rc.prototype.addPlayerWeaponsToBulk_0 = function (t, e, i) { var a; for (a = e.getCharacterData().listPlayerWeapons.iterator(); a.hasNext();) { var r = a.next(); if (null != r.bulkOverride) { var n = t.managerWeapons.hashMapWeapons.get_11rb$(r.weaponName); null != n && 3 !== n.proficiencyType && (this.currentBulk += pe().getBulkValueWithSizeAdjust_h6sd2a$(o(r.bulkOverride), r.amount, i)) } else { var s = t.managerWeapons.hashMapWeapons.get_11rb$(r.weaponName); r.stowed && null != r.inContainerID ? this.addEquipmentBulkToContainedBulk_0(r.inContainerID, r.getBulk_nw4zkx$(t, o(s), i)) : this.currentBulk += r.getBulk_nw4zkx$(t, o(s), i) } } }, Rc.prototype.addShieldBulk_0 = function (t, e, i) { var a; for (a = e.getCharacterData().listStowedPlayerShields.iterator(); a.hasNext();) { var r = a.next(), n = t.managerEquipment.hashMapShields.get_11rb$(r.shieldName); if (null != n) { var o = Nc().adjustWornEquipmentForSize_t0es5s$(pe().getBulkValue_bm4lxs$(n.bulk, r.amount), i); null != r.inContainerID ? this.addEquipmentBulkToContainedBulk_0(r.inContainerID, o) : this.currentBulk += o } } var s = t.managerArmor.getWornShieldInformation_5btbp7$(e); if (null != s) { var l = Nc().adjustWornEquipmentForSize_t0es5s$(pe().getBulkValue_bm4lxs$(s.bulk, 1), i); this.currentBulk += l } }, Rc.prototype.addPlayerEquipmentToBulk_0 = function (t, e, i) { var a; for (a = e.getCharacterData().listPlayerEquipment.iterator(); a.hasNext();) { var r = a.next(), n = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$(r.name); null != n && (null == r.inContainerID ? this.currentBulk += n.getBundleBulk_96blzu$(r, i) : this.addEquipmentBulkToContainedBulk_0(r.inContainerID, n.getBundleBulk_96blzu$(r, i))) } }, Rc.prototype.addEquipmentBulkToContainedBulk_0 = function (t, e) { this.hashMapContainedBulk_0.containsKey_11rb$(t) || this.hashMapContainedBulk_0.put_xwzc9p$(t, 0); var i = this.hashMapContainedBulk_0, a = o(this.hashMapContainedBulk_0.get_11rb$(t)) + e; i.put_xwzc9p$(t, a) }, Rc.prototype.addItemsInContainers_0 = function (t, i) { var a; for (a = this.hashMapContainedBulk_0.keys.iterator(); a.hasNext();) { var r = a.next(), n = o(this.hashMapContainedBulk_0.get_11rb$(r)); this.hashMapActualBulkByContainerID.put_xwzc9p$(r, n); var s, l = n, c = i.getCharacterData().getHashMapEquipmentContainers(), p = (e.isType(s = c, y) ? s : d()).get_11rb$(r); null != p && (p.bagOfHolding || p.backpack && (l -= 2) < 0) && (l = 0); var h = l; this.hashMapAlteredBulkByContainerID.put_xwzc9p$(r, h), this.currentBulk += l } }, Rc.prototype.addAlchemistFormula_0 = function (t, i, a) { var r, n; try { for (r = i.getCharacterData().getHashMapFormulaBookByCaster().keys.iterator(); r.hasNext();) { var c = r.next(), p = i.getCharacterData().getHashMapFormulaBookByCaster().get_11rb$(c); if (null != p) for (n = p.keys.iterator(); n.hasNext();) { var h = n.next(), d = o(p.get_11rb$(h)), u = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$(h); null != u && (this.currentBulk += Nc().adjustForSize_t0es5s$(pe().getBulkValue_bm4lxs$(u.bulk, d), a)) } } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Pc.prototype.adjustForSize_t0es5s$ = function (t, e) { return m(e, "Tiny") && t < .1 ? .1 : t }, Pc.prototype.adjustWornEquipmentForSize_t0es5s$ = function (t, e) { if (m(e, "Tiny")) { var i = t / 2, a = I.floor(i); return 0 === a && (a = .1), a } return t }, Pc.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Mc = null; function Nc() { return null === Mc && new Pc, Mc } function Dc() { Oc(), this.containerName = Oc().UNNAMED_CONTAINER, this.bagOfHolding = !1, this.backpack = !1 } function xc() { zc = this, this.UNNAMED_CONTAINER = "Unnamed Container", this.MAIN_INVENTORY = "Main Inventory" } Rc.$metadata$ = { kind: p, simpleName: "BulkReport", interfaces: [] }, xc.prototype.serializer = function () { return jc() }, xc.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var zc = null; function Oc() { return null === zc && new xc, zc } function Fc() { this.descriptor_6caar$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerequipment.EquipmentContainer", this, 3), this.descriptor.addElement_ivxn3r$("containerName", !0), this.descriptor.addElement_ivxn3r$("bagOfHolding", !0), this.descriptor.addElement_ivxn3r$("backpack", !0), Bc = this } Object.defineProperty(Fc.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_6caar$_0 } }), Fc.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.containerName, Oc().UNNAMED_CONTAINER) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeStringElement_iij8qq$(this.descriptor, 0, e.containerName), m(e.bagOfHolding, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 1, e.bagOfHolding), m(e.backpack, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 2, e.backpack), i.endStructure_24f42q$(this.descriptor) }, Fc.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n = 0, o = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = o.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = o.decodeStringElement_szpzho$(this.descriptor, 0), n |= 1; break; case 1: a = o.decodeBooleanElement_szpzho$(this.descriptor, 1), n |= 2; break; case 2: r = o.decodeBooleanElement_szpzho$(this.descriptor, 2), n |= 4; break; case -1: break t; default: throw new O(e) }return o.endStructure_24f42q$(this.descriptor), Hc(n, i, a, r, null) }, Fc.prototype.childSerializers = function () { return [M.StringSerializer, M.BooleanSerializer, M.BooleanSerializer] }, Fc.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var Bc = null; function jc() { return null === Bc && new Fc, Bc } function Hc(t, e, i, a, r) { var n = r || Object.create(Dc.prototype); return n.containerName = 0 == (1 & t) ? Oc().UNNAMED_CONTAINER : e, n.bagOfHolding = 0 != (2 & t) && i, n.backpack = 0 != (4 & t) && a, n } function qc() { } function Uc(t) { W0.call(this, t), this.hashMapEquipmentEffects = c(), this.hashMapRuneEfects = c(), this.setHashMapEquipmentEffects_0(), this.setHashMapRuneEfects_0() } function Gc() { } function Wc() { } function Yc() { } function Vc(t) { this.this$EquipmentEffectMethods = t } function Kc(t) { this.this$EquipmentEffectMethods = t } function Xc(t) { this.this$EquipmentEffectMethods = t } function Jc(t) { this.this$EquipmentEffectMethods = t } function Zc(t) { this.this$EquipmentEffectMethods = t } function Qc(t) { this.this$EquipmentEffectMethods = t } function tp(t) { this.this$EquipmentEffectMethods = t } function ep(t) { this.this$EquipmentEffectMethods = t } function ip(t) { this.this$EquipmentEffectMethods = t } function ap(t) { this.this$EquipmentEffectMethods = t } function rp(t) { this.this$EquipmentEffectMethods = t } function np(t) { this.this$EquipmentEffectMethods = t } function op(t) { this.this$EquipmentEffectMethods = t } function sp(t) { this.this$EquipmentEffectMethods = t } function lp(t) { this.this$EquipmentEffectMethods = t } function cp(t) { this.this$EquipmentEffectMethods = t } function pp(t) { this.this$EquipmentEffectMethods = t } function hp() { } function dp() { } function up() { } function _p() { } function fp() { } function yp() { } function mp() { } function $p() { } function gp() { } function vp() { } function Sp() { } function Cp() { } function Ep() { } function Ap() { } function bp() { } function Ip() { } function wp() { } function Lp() { } function Tp() { } function kp() { } function Rp() { } function Pp() { } function Mp() { } function Np() { } function Dp() { } function xp() { } function zp() { } function Op() { } function Fp() { } function Bp() { } function jp() { } function Hp() { } function qp() { } function Up() { } function Gp() { } function Wp() { Kp(), this.databaseID = -1, this.timestamp = null, this.listCustomEffects = null, this.uniqueIdentiier = null, this.category = 0, this.name = "", this.itemLevel = 0, this.amount = null, this.price = 0, this.hands = "", this.bulk = "0", this.traits = "", this.usage = "", this.description = "", this.speed = 0, this.hashMapProficiencyBonus = null, this.src = Ic().BOOK_CRB, this.url = "https://2e.aonprd.com", this.action0 = -2, this.action0desc = null, this.action1 = -2, this.action1desc = null, this.contains = null } function Yp() { Vp = this, this.COLUMN_TYPE = "type", this.COLUMN_NAME = "name", this.COLUMN_LEVEL = "level", this.COLUMN_TRAITS = "traits", this.COLUMN_PRICE = "price", this.COLUMN_HANDS = "hands", this.COLUMN_BULK = "bulk", this.COLUMN_USAGE = "usage", this.COLUMN_CONTAINS = "contains", this.COLUMN_AMOUNT = "amount", this.COLUMN_ACTION0 = "action0", this.COLUMN_ACTION0DESC = "action0desc", this.COLUMN_ACTION1 = "action1", this.COLUMN_ACTION1DESC = "action1desc", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SRC = "src", this.COLUMN_URL = "url", this.COLUMN_SKILL_NAME = "skillname", this.COLUMN_SKILL_BONUS = "skillbonus", this.COLUMN_SPEED = "speed", this.COLUMN_ARCANA = "arcana", this.COLUMN_ACROBATICS = "acrobatics", this.COLUMN_ATHLETICS = "athletics", this.COLUMN_DECEPTION = "deception", this.COLUMN_DIPLOMACY = "diplomacy", this.COLUMN_INTIMIDATION = "intimidation", this.COLUMN_MEDICINE = "medicine", this.COLUMN_OCCULTISM = "occultism", this.COLUMN_RELIGION = "religion", this.COLUMN_SOCIETY = "society", this.COLUMN_STEALTH = "stealth", this.COLUMN_SURVIVAL = "survival", this.COLUMN_CRAFTING = "crafting", this.COLUMN_NATURE = "nature", this.COLUMN_PERCEPTION = "perception" } Dc.$metadata$ = { kind: p, simpleName: "EquipmentContainer", interfaces: [] }, qc.$metadata$ = { kind: H, simpleName: "EquipmentEffect", interfaces: [] }, Gc.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addMiscIndividualWeaponItemBonus_8d16k4$(e, t, "Alchemist Goggles", t.getCharacterData().getCharacterLevel(), "Bomb", 1) }, Gc.$metadata$ = { kind: p, interfaces: [qc] }, Wc.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addMiscIndividualWeaponItemBonus_8d16k4$(e, t, "Alchemist Goggles (Greater)", t.getCharacterData().getCharacterLevel(), "Bomb", 2) }, Wc.$metadata$ = { kind: p, interfaces: [qc] }, Yc.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addMiscIndividualWeaponItemBonus_8d16k4$(e, t, "Alchemist Goggles (Major)", t.getCharacterData().getCharacterLevel(), "Bomb", 3) }, Yc.$metadata$ = { kind: p, interfaces: [qc] }, Vc.prototype.applyEffect_4oqgq6$ = function (t, e, i) { if (t.getCharacterData().isSeparateAdventurersKit()) { var a = new Dc, r = this.this$EquipmentEffectMethods.dataControl.getGuiUpdateControl().getPlatformUUID(); a.backpack = !0, a.containerName = "Backpack", t.getCharacterData().getHashMapEquipmentContainers().put_xwzc9p$(r, a), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Backpack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_1(t, "Bedroll", 1, r), this.this$EquipmentEffectMethods.addPlayerEquipment_1(t, "Chalk", 10, r), this.this$EquipmentEffectMethods.addPlayerEquipment_1(t, "Flint and Steel", 1, r), this.this$EquipmentEffectMethods.addPlayerEquipment_1(t, "Rope", 1, r), this.this$EquipmentEffectMethods.addPlayerEquipment_1(t, "Rations", 2, r), this.this$EquipmentEffectMethods.addPlayerEquipment_1(t, "Torch", 5, r), this.this$EquipmentEffectMethods.addPlayerEquipment_1(t, "Waterskin", 1, r), this.this$EquipmentEffectMethods.addPlayerEquipment_1(t, "Soap", 1, r), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Adventurer's Pack") } }, Vc.$metadata$ = { kind: p, interfaces: [qc] }, Kc.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Sling Bullets", 20), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Caltrops", 2), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Alchemist's Tools", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Basic Crafter's Book", 1), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Studded Leather"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Dagger", 0), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Sling", 1), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Alchemist") }, Kc.$metadata$ = { kind: p, interfaces: [qc] }, Xc.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Grappling Hook", 1), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Hide"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Javelin", 1, 4), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Barbarian") }, Xc.$metadata$ = { kind: p, interfaces: [qc] }, Jc.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Sling Bullets", 20), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Musical Instrument (Handheld)", 1), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Studded Leather"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Dagger", 0), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Sling", 1), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Rapier", 0), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Bard") }, Jc.$metadata$ = { kind: p, interfaces: [qc] }, Zc.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Crowbar", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Grappling Hook", 1), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Hide"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Javelin", 1, 4), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Dagger", 0), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Champion") }, Zc.$metadata$ = { kind: p, interfaces: [qc] }, Qc.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Caltrops", 2), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Religious Symbol (Wooden)", 1), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Cleric") }, Qc.$metadata$ = { kind: p, interfaces: [qc] }, tp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Holly and Mistletoe", 1), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Leather"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Javelin", 1, 4), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Longspear", 0), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Druid") }, tp.$metadata$ = { kind: p, interfaces: [qc] }, ep.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Grappling Hook", 1), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Hide"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Dagger", 0), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Fighter") }, ep.$metadata$ = { kind: p, interfaces: [qc] }, ip.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Climbing Kit", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Grappling Hook", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Smokestick (Lesser)", 1), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Dart", 1, 10), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Monk") }, ip.$metadata$ = { kind: p, interfaces: [qc] }, ap.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Leather"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Dagger", 0), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Ranger") }, ap.$metadata$ = { kind: p, interfaces: [qc] }, rp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Climbing Kit", 1), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Leather"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Dagger", 0), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Rapier", 0), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Rogue") }, rp.$metadata$ = { kind: p, interfaces: [qc] }, np.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Sling Bullets", 20), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Caltrops", 2), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Dagger", 0), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Sling", 1), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Sorcerer") }, np.$metadata$ = { kind: p, interfaces: [qc] }, op.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Material Component Pouch", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Writing Set", 1), t.getCharacterData().listPlayerWeapons.add_11rb$(new i1("Staff", 0)), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Wizard") }, op.$metadata$ = { kind: p, interfaces: [qc] }, sp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Bolts", 20), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Crowbar", 1), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Studded Leather"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Shortsword", 0), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Crossbow", 1), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Sap", 0), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Investigator") }, sp.$metadata$ = { kind: p, interfaces: [qc] }, lp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Bolts", 20), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Leather"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Rapier", 0), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Hand Crossbow", 1), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Swashbuckler") }, lp.$metadata$ = { kind: p, interfaces: [qc] }, cp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Sling Bullets", 20), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Studded Leather"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Mace", 0), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Sling", 1), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Oracle") }, cp.$metadata$ = { kind: p, interfaces: [qc] }, pp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Adventurer's Pack", 1), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Sling Bullets", 20), this.this$EquipmentEffectMethods.addPlayerEquipment_0(t, i, "Material Component Pouch", 1), this.this$EquipmentEffectMethods.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(t, "Explorer's Clothing"), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Sickle", 0), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Staff", 0), this.this$EquipmentEffectMethods.addPlayerWeapon_0(t, "Sling", 1), this.this$EquipmentEffectMethods.dataControl.managerEquipment.removeEquipmentFromPlayerByName_cyt1w7$(t, "Kit, Witch") }, pp.$metadata$ = { kind: p, interfaces: [qc] }, hp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addSpeedIncreaseItem_xs3ggp$(e, t, "Boots of Bounding", BW(1, 5)) }, hp.$metadata$ = { kind: p, interfaces: [qc] }, dp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addSpeedIncreaseItem_xs3ggp$(e, t, "Boots of Bounding (Greater)", BW(1, 10)) }, dp.$metadata$ = { kind: p, interfaces: [qc] }, up.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, t, "Heartstone", pK().PROFICIENCY_WILL, 2), re().addProficiencyItemBonus_cgow6u$(e, t, "Heartstone", pK().PROFICIENCY_REFLEX, 2), re().addProficiencyItemBonus_cgow6u$(e, t, "Heartstone", pK().PROFICIENCY_FORTITUDE, 2) }, up.$metadata$ = { kind: p, interfaces: [qc] }, _p.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addMaxBulkIncreaseItem_sfpo92$(e, t, "Lifting Belt", DW(t.getCharacterData().getCharacterLevel(), 1)) }, _p.$metadata$ = { kind: p, interfaces: [qc] }, fp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_FIRE, 5) }, fp.$metadata$ = { kind: p, interfaces: [qc] }, yp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_FIRE, 10) }, yp.$metadata$ = { kind: p, interfaces: [qc] }, mp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_FIRE, 15) }, mp.$metadata$ = { kind: p, interfaces: [qc] }, $p.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_COLD, 5) }, $p.$metadata$ = { kind: p, interfaces: [qc] }, gp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_COLD, 10) }, gp.$metadata$ = { kind: p, interfaces: [qc] }, vp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_COLD, 15) }, vp.$metadata$ = { kind: p, interfaces: [qc] }, Sp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_ELECTRICITY, 5) }, Sp.$metadata$ = { kind: p, interfaces: [qc] }, Cp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_ELECTRICITY, 10) }, Cp.$metadata$ = { kind: p, interfaces: [qc] }, Ep.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_ELECTRICITY, 15) }, Ep.$metadata$ = { kind: p, interfaces: [qc] }, Ap.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_ACID, 5) }, Ap.$metadata$ = { kind: p, interfaces: [qc] }, bp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_ACID, 10) }, bp.$metadata$ = { kind: p, interfaces: [qc] }, Ip.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_ACID, 15) }, Ip.$metadata$ = { kind: p, interfaces: [qc] }, wp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_SONIC, 5) }, wp.$metadata$ = { kind: p, interfaces: [qc] }, Lp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_SONIC, 10) }, Lp.$metadata$ = { kind: p, interfaces: [qc] }, Tp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i.name, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_SONIC, 15) }, Tp.$metadata$ = { kind: p, interfaces: [qc] }, kp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { var a = UW(1, 5, 0, 0); re().addSpeedIncreaseItem_xs3ggp$(e, t, i.name, a) }, kp.$metadata$ = { kind: p, interfaces: [qc] }, Rp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { var a = UW(1, 10, 0, 0); re().addSpeedIncreaseItem_xs3ggp$(e, t, i.name, a) }, Rp.$metadata$ = { kind: p, interfaces: [qc] }, Pp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { var a = UW(1, 5, 0, 0); re().addSpeedIncreaseItem_xs3ggp$(e, t, i.name + "land", a), a = UW(1, 5, 0, 2), re().addSpeedIncreaseItem_xs3ggp$(e, t, i.name + "climb", a), a = UW(1, 5, 0, 4), re().addSpeedIncreaseItem_xs3ggp$(e, t, i.name + "swim", a) }, Pp.$metadata$ = { kind: p, interfaces: [qc] }, Mp.prototype.applyEffect_4oqgq6$ = function (t, e, i) { re().addHitPointIncreaseItem_sfpo92$(e, t, "Belt of Good Health", DW(1, 4)) }, Mp.$metadata$ = { kind: p, interfaces: [qc] }, Uc.prototype.setHashMapEquipmentEffects_0 = function () { var t = this.hashMapEquipmentEffects, e = new Gc; t.put_xwzc9p$("Alchemist Goggles", e); var i = this.hashMapEquipmentEffects, a = new Wc; i.put_xwzc9p$("Alchemist Goggles (Greater)", a); var r = this.hashMapEquipmentEffects, n = new Yc; r.put_xwzc9p$("Alchemist Goggles (Major)", n); var o = this.hashMapEquipmentEffects, s = new Vc(this); o.put_xwzc9p$("Adventurer's Pack", s); var l = this.hashMapEquipmentEffects, c = new Kc(this); l.put_xwzc9p$("Kit, Alchemist", c); var p = this.hashMapEquipmentEffects, h = new Xc(this); p.put_xwzc9p$("Kit, Barbarian", h); var d = this.hashMapEquipmentEffects, u = new Jc(this); d.put_xwzc9p$("Kit, Bard", u); var _ = this.hashMapEquipmentEffects, f = new Zc(this); _.put_xwzc9p$("Kit, Champion", f); var y = this.hashMapEquipmentEffects, m = new Qc(this); y.put_xwzc9p$("Kit, Cleric", m); var $ = this.hashMapEquipmentEffects, g = new tp(this); $.put_xwzc9p$("Kit, Druid", g); var v = this.hashMapEquipmentEffects, S = new ep(this); v.put_xwzc9p$("Kit, Fighter", S); var C = this.hashMapEquipmentEffects, E = new ip(this); C.put_xwzc9p$("Kit, Monk", E); var A = this.hashMapEquipmentEffects, b = new ap(this); A.put_xwzc9p$("Kit, Ranger", b); var I = this.hashMapEquipmentEffects, w = new rp(this); I.put_xwzc9p$("Kit, Rogue", w); var L = this.hashMapEquipmentEffects, T = new np(this); L.put_xwzc9p$("Kit, Sorcerer", T); var k = this.hashMapEquipmentEffects, R = new op(this); k.put_xwzc9p$("Kit, Wizard", R); var P = this.hashMapEquipmentEffects, M = new sp(this); P.put_xwzc9p$("Kit, Investigator", M); var N = this.hashMapEquipmentEffects, D = new lp(this); N.put_xwzc9p$("Kit, Swashbuckler", D); var x = this.hashMapEquipmentEffects, z = new cp(this); x.put_xwzc9p$("Kit, Oracle", z); var O = this.hashMapEquipmentEffects, F = new pp(this); O.put_xwzc9p$("Kit, Witch", F); var B = this.hashMapEquipmentEffects, j = new hp; B.put_xwzc9p$("Boots of Bounding", j); var H = this.hashMapEquipmentEffects, q = new dp; H.put_xwzc9p$("Boots of Bounding (Greater)", q); var U = this.hashMapEquipmentEffects, G = new up; U.put_xwzc9p$("Heartstone", G); var W = this.hashMapEquipmentEffects, Y = new _p; W.put_xwzc9p$("Lifting Belt", Y); var V = this.hashMapEquipmentEffects, K = new fp; V.put_xwzc9p$("Ring of Energy Resistance - Fire", K); var X = this.hashMapEquipmentEffects, J = new yp; X.put_xwzc9p$("Ring of Energy Resistance  (Greater) - Fire", J); var Z = this.hashMapEquipmentEffects, Q = new mp; Z.put_xwzc9p$("Ring of Energy Resistance (Major) - Fire", Q); var tt = this.hashMapEquipmentEffects, et = new $p; tt.put_xwzc9p$("Ring of Energy Resistance - Cold", et); var it = this.hashMapEquipmentEffects, at = new gp; it.put_xwzc9p$("Ring of Energy Resistance (Greater) - Cold", at); var rt = this.hashMapEquipmentEffects, nt = new vp; rt.put_xwzc9p$("Ring of Energy Resistance (Major) - Cold", nt); var ot = this.hashMapEquipmentEffects, st = new Sp; ot.put_xwzc9p$("Ring of Energy Resistance - Electricity", st); var lt = this.hashMapEquipmentEffects, ct = new Cp; lt.put_xwzc9p$("Ring of Energy Resistance (Greater) - Electricity", ct); var pt = this.hashMapEquipmentEffects, ht = new Ep; pt.put_xwzc9p$("Ring of Energy Resistance (Major) - Electricity", ht); var dt = this.hashMapEquipmentEffects, ut = new Ap; dt.put_xwzc9p$("Ring of Energy Resistance - Acid", ut); var _t = this.hashMapEquipmentEffects, ft = new bp; _t.put_xwzc9p$("Ring of Energy Resistance (Greater) - Acid", ft); var yt = this.hashMapEquipmentEffects, mt = new Ip; yt.put_xwzc9p$("Ring of Energy Resistance (Major) - Acid", mt); var $t = this.hashMapEquipmentEffects, gt = new wp; $t.put_xwzc9p$("Ring of Energy Resistance - Sonic", gt); var vt = this.hashMapEquipmentEffects, St = new Lp; vt.put_xwzc9p$("Ring of Energy Resistance (Greater) - Sonic", St); var Ct = this.hashMapEquipmentEffects, Et = new Tp; Ct.put_xwzc9p$("Ring of Energy Resistance (Major) - Sonic", Et); var At = this.hashMapEquipmentEffects, bt = new kp; At.put_xwzc9p$("Horseshoes of Speed", bt); var It = this.hashMapEquipmentEffects, wt = new Rp; It.put_xwzc9p$("Horseshoes of Speed (Greater)", wt); var Lt = this.hashMapEquipmentEffects, Tt = new Pp; Lt.put_xwzc9p$("Boots of Speed", Tt); var kt = this.hashMapEquipmentEffects, Rt = new Mp; kt.put_xwzc9p$("Belt of Good Health", Rt) }, Uc.prototype.addPlayerEquipment_0 = function (t, e, i, a) { var r; if (this.dataControl.managerEquipment.hashMapAllEquipmentByName.containsKey_11rb$(i)) { var n = !1; for (r = t.getCharacterData().listPlayerEquipment.iterator(); r.hasNext();) { var o = r.next(); m(o.name, i) && (n = !0, o.quantity = o.quantity + a | 0) } if (!n) { var s = new Vd(i); s.inContainerID = e.inContainerID, s.quantity = a, t.getCharacterData().listPlayerEquipment.add_11rb$(s), this.dataControl.managerEquipment.applyEquipmentBonus_qumra2$(t, s) } } else k(se().TAG + "NOT FOUND ADDING PLAYER EQUIPMENT: " + i) }, Uc.prototype.addPlayerEquipment_1 = function (t, e, i, a) { if (this.dataControl.managerEquipment.hashMapAllEquipmentByName.containsKey_11rb$(e)) { var r = new Vd(e); r.inContainerID = a, r.quantity = i, t.getCharacterData().listPlayerEquipment.add_11rb$(r), this.dataControl.managerEquipment.applyEquipmentBonus_qumra2$(t, r) } else k(se().TAG + "NOT FOUND ADDING PLAYER EQUIPMENT: " + e) }, Uc.prototype.addPlayerWeapon_0 = function (t, e, i, a) { var r, n; if (void 0 === a && (a = 1), !0 === (null != (r = this.dataControl.managerWeapons.hashMapWeapons) ? r.containsKey_11rb$(e) : null)) { var s = new i1(e, i); s.amount = a; var l = null != (n = this.dataControl.managerWeapons.hashMapWeapons) ? n.get_11rb$(e) : null; s.setDefaultAttack_fha2vo$(this.dataControl, t, o(l)), t.getCharacterData().listPlayerWeapons.add_11rb$(s) } else k(se().TAG + "weapon name not found: " + e) }, Np.prototype.applyEffect_6dfp70$ = function (t, e, i) { k(se().TAG + "ADDING STEALTH BONUS"), re().addProficiencyItemBonus_cgow6u$(e, t, i, pK().STEALTH, 1) }, Np.$metadata$ = { kind: p, interfaces: [su] }, Dp.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, t, i, pK().STEALTH, 2) }, Dp.$metadata$ = { kind: p, interfaces: [su] }, xp.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, t, i, pK().STEALTH, 3) }, xp.$metadata$ = { kind: p, interfaces: [su] }, zp.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_ACID, 5) }, zp.$metadata$ = { kind: p, interfaces: [su] }, Op.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_ACID, 10) }, Op.$metadata$ = { kind: p, interfaces: [su] }, Fp.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_FIRE, 5) }, Fp.$metadata$ = { kind: p, interfaces: [su] }, Bp.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_FIRE, 10) }, Bp.$metadata$ = { kind: p, interfaces: [su] }, jp.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_COLD, 5) }, jp.$metadata$ = { kind: p, interfaces: [su] }, Hp.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_COLD, 10) }, Hp.$metadata$ = { kind: p, interfaces: [su] }, qp.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_ELECTRICITY, 5) }, qp.$metadata$ = { kind: p, interfaces: [su] }, Up.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addEnergyResistance_8d16k4$(e, t, i, t.getCharacterData().getCharacterLevel(), TX().RESISTANCE_ELECTRICITY, 10) }, Up.$metadata$ = { kind: p, interfaces: [su] }, Gp.prototype.applyEffect_6dfp70$ = function (t, e, i) { re().addProficiencyItemBonus_cgow6u$(e, t, "Sinister Knight", pK().DECEPTION, 1) }, Gp.$metadata$ = { kind: p, interfaces: [su] }, Uc.prototype.setHashMapRuneEfects_0 = function () { var t = this.hashMapRuneEfects, e = new Np; t.put_xwzc9p$("Shadow", e); var i = this.hashMapRuneEfects, a = new Dp; i.put_xwzc9p$("Shadow (Greater)", a); var r = this.hashMapRuneEfects, n = new xp; r.put_xwzc9p$("Shadow (Major)", n); var o = this.hashMapRuneEfects, s = new zp; o.put_xwzc9p$("Energy Resistant - Acid", s); var l = this.hashMapRuneEfects, c = new Op; l.put_xwzc9p$("Energy Resistant (Greater) - Acid", c); var p = this.hashMapRuneEfects, h = new Fp; p.put_xwzc9p$("Energy Resistant - Fire", h); var d = this.hashMapRuneEfects, u = new Bp; d.put_xwzc9p$("Energy Resistant (Greater) - Fire", u); var _ = this.hashMapRuneEfects, f = new jp; _.put_xwzc9p$("Energy Resistant - Cold", f); var y = this.hashMapRuneEfects, m = new Hp; y.put_xwzc9p$("Energy Resistant (Greater) - Cold", m); var $ = this.hashMapRuneEfects, g = new qp; $.put_xwzc9p$("Energy Resistant - Electricity", g); var v = this.hashMapRuneEfects, S = new Up; v.put_xwzc9p$("Energy Resistant (Greater) - Electricity", S); var C = this.hashMapRuneEfects, E = new Gp; C.put_xwzc9p$("Sinister Knight", E) }, Uc.$metadata$ = { kind: p, simpleName: "EquipmentEffectMethods", interfaces: [W0] }, Wp.prototype.getFullDescription = function () { var t, e = ""; if (null != this.listCustomEffects) for (t = o(this.listCustomEffects).iterator(); t.hasNext();)e += t.next().effectDescription + "<br>"; return e += this.description, null != this.action0desc && (e += "<br><br><b>Activate</b> (" + pe().getStringFromActionSymbol_za3lpa$(this.action0) + ") " + this.action0desc), null != this.action1desc && (e += "<br><br><b>Activate</b> (" + pe().getStringFromActionSymbol_za3lpa$(this.action1) + ") " + this.action1desc), e }, Wp.prototype.getBundleBulk_96blzu$ = function (t, e) { var i, a = 1; null != this.amount && (a = "number" == typeof (i = this.amount) ? i : d()); var r = t.quantity / a, n = C(I.ceil(r)), s = this.bulk; return null != t.bulkOverride && (s = o(t.bulkOverride)), pe().getBulkValueWithSizeAdjust_h6sd2a$(s, n, e) }, Wp.prototype.getItemFullDetails = function () { var t = ""; return this.price > 0 && (t += "Price: " + pe().getPriceString_14dthe$(this.price).toString() + "<br>"), m(this.bulk, "0") || (t += "Bulk: " + this.bulk + "<br>"), this.hands.length > 0 && (t += "Hands: " + this.hands + "<br>"), this.usage.length > 0 && (t += "Usage: " + this.usage + "<br>"), t += "<br>" + this.getFullDescription() }, Yp.prototype.serializer = function () { return Zp() }, Yp.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Vp = null; function Kp() { return null === Vp && new Yp, Vp } function Xp() { this.descriptor_cgc91k$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerequipment.EquipmentInformation", this, 23), this.descriptor.addElement_ivxn3r$("databaseID", !0), this.descriptor.addElement_ivxn3r$("timestamp", !0), this.descriptor.addElement_ivxn3r$("listCustomEffects", !0), this.descriptor.addElement_ivxn3r$("uniqueIdentiier", !0), this.descriptor.addElement_ivxn3r$("category", !0), this.descriptor.addElement_ivxn3r$("name", !0), this.descriptor.addElement_ivxn3r$("itemLevel", !0), this.descriptor.addElement_ivxn3r$("amount", !0), this.descriptor.addElement_ivxn3r$("price", !0), this.descriptor.addElement_ivxn3r$("hands", !0), this.descriptor.addElement_ivxn3r$("bulk", !0), this.descriptor.addElement_ivxn3r$("traits", !0), this.descriptor.addElement_ivxn3r$("usage", !0), this.descriptor.addElement_ivxn3r$("description", !0), this.descriptor.addElement_ivxn3r$("speed", !0), this.descriptor.addElement_ivxn3r$("hashMapProficiencyBonus", !0), this.descriptor.addElement_ivxn3r$("src", !0), this.descriptor.addElement_ivxn3r$("url", !0), this.descriptor.addElement_ivxn3r$("action0", !0), this.descriptor.addElement_ivxn3r$("action0desc", !0), this.descriptor.addElement_ivxn3r$("action1", !0), this.descriptor.addElement_ivxn3r$("action1desc", !0), this.descriptor.addElement_ivxn3r$("contains", !0), Jp = this } Object.defineProperty(Xp.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_cgc91k$_0 } }), Xp.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.databaseID, -1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeIntElement_ptg7oe$(this.descriptor, 0, e.databaseID), m(e.timestamp, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 1, M.StringSerializer, e.timestamp), m(e.listCustomEffects, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 2, new D(mo()), e.listCustomEffects), m(e.uniqueIdentiier, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, M.StringSerializer, e.uniqueIdentiier), m(e.category, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeIntElement_ptg7oe$(this.descriptor, 4, e.category), m(e.name, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 5) || i.encodeStringElement_iij8qq$(this.descriptor, 5, e.name), m(e.itemLevel, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 6) || i.encodeIntElement_ptg7oe$(this.descriptor, 6, e.itemLevel), m(e.amount, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 7, M.IntSerializer, e.amount), m(e.price, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 8) || i.encodeDoubleElement_powrwi$(this.descriptor, 8, e.price), m(e.hands, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 9) || i.encodeStringElement_iij8qq$(this.descriptor, 9, e.hands), m(e.bulk, "0") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 10) || i.encodeStringElement_iij8qq$(this.descriptor, 10, e.bulk), m(e.traits, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 11) || i.encodeStringElement_iij8qq$(this.descriptor, 11, e.traits), m(e.usage, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 12) || i.encodeStringElement_iij8qq$(this.descriptor, 12, e.usage), m(e.description, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 13) || i.encodeStringElement_iij8qq$(this.descriptor, 13, e.description), m(e.speed, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 14) || i.encodeIntElement_ptg7oe$(this.descriptor, 14, e.speed), m(e.hashMapProficiencyBonus, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 15) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 15, new N(M.StringSerializer, M.IntSerializer), e.hashMapProficiencyBonus), m(e.src, Ic().BOOK_CRB) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 16) || i.encodeStringElement_iij8qq$(this.descriptor, 16, e.src), m(e.url, "https://2e.aonprd.com") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 17) || i.encodeStringElement_iij8qq$(this.descriptor, 17, e.url), m(e.action0, -2) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 18) || i.encodeIntElement_ptg7oe$(this.descriptor, 18, e.action0), m(e.action0desc, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 19) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 19, M.StringSerializer, e.action0desc), m(e.action1, -2) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 20) || i.encodeIntElement_ptg7oe$(this.descriptor, 20, e.action1), m(e.action1desc, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 21) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 21, M.StringSerializer, e.action1desc), m(e.contains, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 22) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 22, M.DoubleSerializer, e.contains), i.endStructure_24f42q$(this.descriptor) }, Xp.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b = 0, I = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = I.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = I.decodeIntElement_szpzho$(this.descriptor, 0), b |= 1; break; case 1: a = I.decodeNullableSerializableElement_8viuyw$(this.descriptor, 1, M.StringSerializer, a), b |= 2; break; case 2: r = I.decodeNullableSerializableElement_8viuyw$(this.descriptor, 2, new D(mo()), r), b |= 4; break; case 3: n = I.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, M.StringSerializer, n), b |= 8; break; case 4: o = I.decodeIntElement_szpzho$(this.descriptor, 4), b |= 16; break; case 5: s = I.decodeStringElement_szpzho$(this.descriptor, 5), b |= 32; break; case 6: l = I.decodeIntElement_szpzho$(this.descriptor, 6), b |= 64; break; case 7: c = I.decodeNullableSerializableElement_8viuyw$(this.descriptor, 7, M.IntSerializer, c), b |= 128; break; case 8: p = I.decodeDoubleElement_szpzho$(this.descriptor, 8), b |= 256; break; case 9: h = I.decodeStringElement_szpzho$(this.descriptor, 9), b |= 512; break; case 10: d = I.decodeStringElement_szpzho$(this.descriptor, 10), b |= 1024; break; case 11: u = I.decodeStringElement_szpzho$(this.descriptor, 11), b |= 2048; break; case 12: _ = I.decodeStringElement_szpzho$(this.descriptor, 12), b |= 4096; break; case 13: f = I.decodeStringElement_szpzho$(this.descriptor, 13), b |= 8192; break; case 14: y = I.decodeIntElement_szpzho$(this.descriptor, 14), b |= 16384; break; case 15: m = I.decodeNullableSerializableElement_8viuyw$(this.descriptor, 15, new N(M.StringSerializer, M.IntSerializer), m), b |= 32768; break; case 16: $ = I.decodeStringElement_szpzho$(this.descriptor, 16), b |= 65536; break; case 17: g = I.decodeStringElement_szpzho$(this.descriptor, 17), b |= 131072; break; case 18: v = I.decodeIntElement_szpzho$(this.descriptor, 18), b |= 262144; break; case 19: S = I.decodeNullableSerializableElement_8viuyw$(this.descriptor, 19, M.StringSerializer, S), b |= 524288; break; case 20: C = I.decodeIntElement_szpzho$(this.descriptor, 20), b |= 1048576; break; case 21: E = I.decodeNullableSerializableElement_8viuyw$(this.descriptor, 21, M.StringSerializer, E), b |= 2097152; break; case 22: A = I.decodeNullableSerializableElement_8viuyw$(this.descriptor, 22, M.DoubleSerializer, A), b |= 4194304; break; case -1: break t; default: throw new O(e) }return I.endStructure_24f42q$(this.descriptor), Qp(b, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, null) }, Xp.prototype.childSerializers = function () { return [M.IntSerializer, new R(M.StringSerializer), new R(new D(mo())), new R(M.StringSerializer), M.IntSerializer, M.StringSerializer, M.IntSerializer, new R(M.IntSerializer), M.DoubleSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.IntSerializer, new R(new N(M.StringSerializer, M.IntSerializer)), M.StringSerializer, M.StringSerializer, M.IntSerializer, new R(M.StringSerializer), M.IntSerializer, new R(M.StringSerializer), new R(M.DoubleSerializer)] }, Xp.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var Jp = null; function Zp() { return null === Jp && new Xp, Jp } function Qp(t, e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A) { var b = A || Object.create(Wp.prototype); return b.databaseID = 0 == (1 & t) ? -1 : e, b.timestamp = 0 == (2 & t) ? null : i, b.listCustomEffects = 0 == (4 & t) ? null : a, b.uniqueIdentiier = 0 == (8 & t) ? null : r, b.category = 0 == (16 & t) ? 0 : n, b.name = 0 == (32 & t) ? "" : o, b.itemLevel = 0 == (64 & t) ? 0 : s, b.amount = 0 == (128 & t) ? null : l, b.price = 0 == (256 & t) ? 0 : c, b.hands = 0 == (512 & t) ? "" : p, b.bulk = 0 == (1024 & t) ? "0" : h, b.traits = 0 == (2048 & t) ? "" : d, b.usage = 0 == (4096 & t) ? "" : u, b.description = 0 == (8192 & t) ? "" : _, b.speed = 0 == (16384 & t) ? 0 : f, b.hashMapProficiencyBonus = 0 == (32768 & t) ? null : y, b.src = 0 == (65536 & t) ? Ic().BOOK_CRB : m, b.url = 0 == (131072 & t) ? "https://2e.aonprd.com" : $, b.action0 = 0 == (262144 & t) ? -2 : g, b.action0desc = 0 == (524288 & t) ? null : v, b.action1 = 0 == (1048576 & t) ? -2 : S, b.action1desc = 0 == (2097152 & t) ? null : C, b.contains = 0 == (4194304 & t) ? null : E, b } function th(t, e, i) { return i = i || Object.create(Wp.prototype), Wp.call(i), i.name = t, i.category = e, i } function eh(t, e) { return e = e || Object.create(Wp.prototype), Wp.call(e), e.name = t, e } function ih(t, e) { var i; if (e = e || Object.create(Wp.prototype), Wp.call(e), e.action1desc = t.action1desc, e.action1 = t.action1, e.action0desc = t.action0desc, e.action0 = t.action0, e.description = t.description, e.usage = t.usage, e.traits = t.traits, e.bulk = t.bulk, e.hands = t.hands, e.price = t.price, e.amount = t.amount, e.itemLevel = t.itemLevel, e.name = t.name, e.category = t.category, e.uniqueIdentiier = t.uniqueIdentiier, e.speed = t.speed, e.timestamp = t.timestamp, e.databaseID = t.databaseID, null != t.listCustomEffects) for (e.listCustomEffects = u(), i = o(t.listCustomEffects).iterator(); i.hasNext();) { var a = i.next(); o(e.listCustomEffects).add_11rb$(vo(a)) } return e } function ah() { oh(), this.level = 0, this.reducesBulk = 0, this.strengthAdj = 0, this.speed = 0, this.ac = 0, this.base = 0, this.description = "", this.src = "CRB", this.url = "https://www.aonsrd.com", this.name = "", this.traits = "" } function rh() { nh = this, this.COLUMN_NAME = "name", this.COLUMN_LEVEL = "level", this.COLUMN_REDUCES_BULK = "reducesBulk", this.COLUMN_STRENGTH_ADJ = "strengthAdj", this.COLUMN_SPEED = "speed", this.COLUMN_AC = "ac", this.COLUMN_BASE = "base", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SRC = "src", this.COLUMN_URL = "url" } Wp.$metadata$ = { kind: p, simpleName: "EquipmentInformation", interfaces: [] }, rh.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var nh = null; function oh() { return null === nh && new rh, nh } function sh(t, e) { this.level = t, this.listTraits = e } function lh() { this.hashMapArmorEffectMethods = c(), this.hashMapWeaponEffectMethods = c(), this.hashMapConstructEffectMethods = c(), this.setArmorEffectMethods_0(), this.setWeaponEffectMethods_0(), this.setConstructEffectMethods_0() } function ch() { } function ph() { } function hh() { } function dh(t) { this.this$InventorModificationEffectMethods = t } function uh(t) { this.this$InventorModificationEffectMethods = t } function _h(t) { this.this$InventorModificationEffectMethods = t } function fh(t) { this.this$InventorModificationEffectMethods = t } function yh(t) { this.this$InventorModificationEffectMethods = t } function mh(t) { this.this$InventorModificationEffectMethods = t } function $h(t) { this.this$InventorModificationEffectMethods = t } function gh(t) { this.this$InventorModificationEffectMethods = t } function vh(t) { this.this$InventorModificationEffectMethods = t } function Sh(t) { this.this$InventorModificationEffectMethods = t } function Ch(t) { this.this$InventorModificationEffectMethods = t } function Eh(t) { this.this$InventorModificationEffectMethods = t } function Ah(t) { this.this$InventorModificationEffectMethods = t } function bh(t) { this.this$InventorModificationEffectMethods = t } function Ih(t) { this.this$InventorModificationEffectMethods = t } function wh(t) { this.this$InventorModificationEffectMethods = t } function Lh(t) { this.this$InventorModificationEffectMethods = t } function Th(t) { this.this$InventorModificationEffectMethods = t } function kh(t) { this.this$InventorModificationEffectMethods = t } function Rh(t) { this.this$InventorModificationEffectMethods = t } function Ph() { } function Mh(t) { this.this$InventorModificationEffectMethods = t } function Nh(t) { this.this$InventorModificationEffectMethods = t } function Dh() { } function xh() { } function zh() { } function Oh() { } function Fh() { } function Bh() { } function jh() { } function Hh() { } function qh() { } function Uh() { } function Gh() { } function Wh() { } function Yh() { } function Vh() { } function Kh() { } function Xh() { } function Jh() { } function Zh() { } function Qh() { } function td() { } function ed() { } function id() { } function ad() { } function rd() { } function nd() { } function od() { } function sd() { } function ld() { } function cd() { this.hashMapArmorRequirementMethods_0 = c(), this.hashMapWeaponRequirementMethods_0 = c(), this.hashMapConstructRequirementMethods_0 = c(), this.setArmorRequirements_0(), this.setWeaponRequirements_0(), this.setConstructRequirements_0() } function pd() { } function hd() { } function dd() { } function ud(t) { this.this$InventorModificationRequirementEffects = t } function _d(t) { this.this$InventorModificationRequirementEffects = t } function fd(t) { this.this$InventorModificationRequirementEffects = t } function yd(t) { this.this$InventorModificationRequirementEffects = t } function md(t) { this.this$InventorModificationRequirementEffects = t } function $d(t) { this.this$InventorModificationRequirementEffects = t } function gd(t) { this.this$InventorModificationRequirementEffects = t } function vd(t) { this.this$InventorModificationRequirementEffects = t } function Sd(t) { this.this$InventorModificationRequirementEffects = t } function Cd(t) { this.this$InventorModificationRequirementEffects = t } function Ed(t) { this.this$InventorModificationRequirementEffects = t } function Ad(t) { this.this$InventorModificationRequirementEffects = t } function bd(t) { this.this$InventorModificationRequirementEffects = t } function Id(t) { this.this$InventorModificationRequirementEffects = t } function wd(t) { this.this$InventorModificationRequirementEffects = t } function Ld(t) { this.this$InventorModificationRequirementEffects = t } function Td(t) { this.this$InventorModificationRequirementEffects = t } function kd(t) { this.this$InventorModificationRequirementEffects = t } function Rd(t) { this.this$InventorModificationRequirementEffects = t } function Pd(t) { this.this$InventorModificationRequirementEffects = t } function Md(t) { this.this$InventorModificationRequirementEffects = t } function Nd(t) { this.this$InventorModificationRequirementEffects = t } function Dd(t) { this.this$InventorModificationRequirementEffects = t } function xd(t) { this.this$InventorModificationRequirementEffects = t } function zd(t) { this.this$InventorModificationRequirementEffects = t } function Od(t) { this.this$InventorModificationRequirementEffects = t } function Fd(t) { this.this$InventorModificationRequirementEffects = t } function Bd(t) { this.this$InventorModificationRequirementEffects = t } function jd(t) { this.this$InventorModificationRequirementEffects = t } function Hd(t) { this.this$InventorModificationRequirementEffects = t } function qd(t) { this.this$InventorModificationRequirementEffects = t } function Ud(t) { this.this$InventorModificationRequirementEffects = t } function Gd(t) { this.this$InventorModificationRequirementEffects = t } function Wd() { } function Yd() { } function Vd(t) { Jd(), iu.call(this), this.name = t, this.quantity = 1, this.invested = !0 } function Kd() { Xd = this } ah.prototype.getPriceString = function () { return pe().getPriceString_14dthe$(this.base) + " plus " + pe().getPriceString_14dthe$(this.base / 10) + " per bulk" }, ah.$metadata$ = { kind: p, simpleName: "EquipmentMaterial", interfaces: [] }, sh.$metadata$ = { kind: p, simpleName: "ExtraTraitsAtLevel", interfaces: [] }, ch.$metadata$ = { kind: H, simpleName: "InventorArmorEffect", interfaces: [] }, ph.$metadata$ = { kind: H, simpleName: "InventorWeaponEffect", interfaces: [] }, hh.$metadata$ = { kind: H, simpleName: "InventorConstructEffect", interfaces: [] }, lh.prototype.activateArmorModificationEffect_w64t21$ = function (t, e, i, a, r, n) { this.hashMapArmorEffectMethods.containsKey_11rb$(n) && o(this.hashMapArmorEffectMethods.get_11rb$(n)).applyEffect_qi2d91$(t, e, i, a, r) }, lh.prototype.activateWeaponModificationEffect_a9lvck$ = function (t, e, i, a, r, n) { this.hashMapWeaponEffectMethods.containsKey_11rb$(n) && o(this.hashMapWeaponEffectMethods.get_11rb$(n)).applyEffect_jypoke$(t, e, i, a, r) }, lh.prototype.activateConstructModificationEffect_5z7kmi$ = function (t, e, i, a, r, n) { this.hashMapConstructEffectMethods.containsKey_11rb$(n) && o(this.hashMapConstructEffectMethods.get_11rb$(n)).applyEffect_69ga3c$(t, e, i, a, r) }, lh.prototype.addTraitsToPlayerWeapon_0 = function (t, e, i, a, r) { i ? (t.hashMapFreePlayerWeaponTraits.containsKey_11rb$(r) || t.hashMapFreePlayerWeaponTraits.put_xwzc9p$(r, c()), o(t.hashMapFreePlayerWeaponTraits.get_11rb$(r)).put_xwzc9p$(e.ref, new sh(e.level, a))) : t.hashMapFreePlayerWeaponTraits.containsKey_11rb$(r) && o(t.hashMapFreePlayerWeaponTraits.get_11rb$(r)).remove_11rb$(e.ref) }, dh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Nonlethal", "Versatile B"], a) }, dh.$metadata$ = { kind: p, interfaces: [ph] }, uh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { a.increasedDice = i, this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Versatile S"], a) }, uh.$metadata$ = { kind: p, interfaces: [ph] }, _h.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { a.increasedDice = i, this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Versatile B"], a) }, _h.$metadata$ = { kind: p, interfaces: [ph] }, fh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { a.increasedDice = i, this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Versatile P"], a) }, fh.$metadata$ = { kind: p, interfaces: [ph] }, yh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Two-Hand +", "Versatile B"], a) }, yh.$metadata$ = { kind: p, interfaces: [ph] }, mh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Grapple", "Trip"], a) }, mh.$metadata$ = { kind: p, interfaces: [ph] }, $h.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Hampering", "Versatile P"], a) }, $h.$metadata$ = { kind: p, interfaces: [ph] }, gh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Shove", "Versatile B"], a) }, gh.$metadata$ = { kind: p, interfaces: [ph] }, vh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Modular B P and S"], a) }, vh.$metadata$ = { kind: p, interfaces: [ph] }, Sh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Disarm", "Nonlethal"], a) }, Sh.$metadata$ = { kind: p, interfaces: [ph] }, Ch.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Trip", "Versatile S"], a) }, Ch.$metadata$ = { kind: p, interfaces: [ph] }, Eh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Modular B P and S"], a) }, Eh.$metadata$ = { kind: p, interfaces: [ph] }, Ah.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Backstabber"], a) }, Ah.$metadata$ = { kind: p, interfaces: [ph] }, bh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Sweep", "Versatile S"], a) }, bh.$metadata$ = { kind: p, interfaces: [ph] }, Ih.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Backstabber", "Versatile P"], a) }, Ih.$metadata$ = { kind: p, interfaces: [ph] }, wh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Free-Hand"], a) }, wh.$metadata$ = { kind: p, interfaces: [ph] }, Lh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Climbing", "Ranged Trip"], a) }, Lh.$metadata$ = { kind: p, interfaces: [ph] }, Th.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Tethered", "Ranged Trip"], a) }, Th.$metadata$ = { kind: p, interfaces: [ph] }, kh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Backswing", "Shove"], a) }, kh.$metadata$ = { kind: p, interfaces: [ph] }, Rh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { var n = t.managerWeapons.hashMapWeapons.get_11rb$(a.weaponName), o = null != n; o && (o = _(n.traits.toLowerCase(), "deadly")), o ? this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Deadly d12"], a) : this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Deadly d8"], a) }, Rh.$metadata$ = { kind: p, interfaces: [ph] }, Ph.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { a.increasedDice = i }, Ph.$metadata$ = { kind: p, interfaces: [ph] }, Mh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Reach"], a) }, Mh.$metadata$ = { kind: p, interfaces: [ph] }, Nh.prototype.applyEffect_jypoke$ = function (t, e, i, a, r) { this.this$InventorModificationEffectMethods.addTraitsToPlayerWeapon_0(e, r, i, ["Forceful", "Versatile B"], a) }, Nh.$metadata$ = { kind: p, interfaces: [ph] }, lh.prototype.setWeaponEffectMethods_0 = function () { var t = this.hashMapWeaponEffectMethods, e = new dh(this); t.put_xwzc9p$("Blunt Shot", e); var i = this.hashMapWeaponEffectMethods, a = new uh(this); i.put_xwzc9p$("Complex Simplicity - Versatile S", a); var r = this.hashMapWeaponEffectMethods, n = new _h(this); r.put_xwzc9p$("Complex Simplicity - Versatile B", n); var o = this.hashMapWeaponEffectMethods, s = new fh(this); o.put_xwzc9p$("Complex Simplicity - Versatile P", s); var l = this.hashMapWeaponEffectMethods, c = new yh(this); l.put_xwzc9p$("Dynamic Weighting", c); var p = this.hashMapWeaponEffectMethods, h = new mh(this); p.put_xwzc9p$("Entangling Form", h); var d = this.hashMapWeaponEffectMethods, u = new $h(this); d.put_xwzc9p$("Hampering Spikes", u); var _ = this.hashMapWeaponEffectMethods, f = new gh(this); _.put_xwzc9p$("Hefty Composition", f); var y = this.hashMapWeaponEffectMethods, m = new vh(this); y.put_xwzc9p$("Modular Head", m); var $ = this.hashMapWeaponEffectMethods, g = new Sh(this); $.put_xwzc9p$("Pacification Tools", g); var v = this.hashMapWeaponEffectMethods, S = new Ch(this); v.put_xwzc9p$("Razor Prongs", S); var C = this.hashMapWeaponEffectMethods, E = new Eh(this); C.put_xwzc9p$("Segmented Frame", E); var A = this.hashMapWeaponEffectMethods, b = new Ah(this); A.put_xwzc9p$("Advanced Rangefinder", b); var I = this.hashMapWeaponEffectMethods, w = new bh(this); I.put_xwzc9p$("Aerodynamic Construction", w); var L = this.hashMapWeaponEffectMethods, T = new Ih(this); L.put_xwzc9p$("Inconspicuous Appearance", T); var k = this.hashMapWeaponEffectMethods, R = new wh(this); k.put_xwzc9p$("Integrated Gauntlet", R); var P = this.hashMapWeaponEffectMethods, M = new Lh(this); P.put_xwzc9p$("Rope Shot", M); var N = this.hashMapWeaponEffectMethods, D = new Th(this); N.put_xwzc9p$("Tangle Line", D); var x = this.hashMapWeaponEffectMethods, z = new kh(this); x.put_xwzc9p$("Attack Refiner", z); var O = this.hashMapWeaponEffectMethods, F = new Rh(this); O.put_xwzc9p$("Deadly Strike", F); var B = this.hashMapWeaponEffectMethods, j = new Ph; B.put_xwzc9p$("Enhanced Damage", j); var H = this.hashMapWeaponEffectMethods, q = new Mh(this); H.put_xwzc9p$("Extensible Weapon", q); var U = this.hashMapWeaponEffectMethods, G = new Nh(this); U.put_xwzc9p$("Momentum Retainer", G) }, Dh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { re().addEnergyResistance_vqsetu$(i, e, "Harmonic Oscillator 1", PX(r.level, TX().RESISTANCE_FORCE, !0, 3)), re().addEnergyResistance_vqsetu$(i, e, "Harmonic Oscillator 2", PX(r.level, TX().RESISTANCE_SONIC, !0, 3)) }, Dh.$metadata$ = { kind: p, interfaces: [ch] }, xh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { re().addEnergyResistance_vqsetu$(i, e, "Metallic Reactance 1", PX(r.level, TX().RESISTANCE_ACID, !0, 3)), re().addEnergyResistance_vqsetu$(i, e, "Metallic Reactance 2", PX(r.level, TX().RESISTANCE_ELECTRICITY, !0, 3)) }, xh.$metadata$ = { kind: p, interfaces: [ch] }, zh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { re().addEnergyResistance_vqsetu$(i, e, "Otherworldly Protection 1", PX(r.level, TX().RESISTANCE_NEGATIVE, !0, 3)), re().addEnergyResistance_vqsetu$(i, e, "Otherworldly Protection 2", PX(r.level, "Alignment", !0, 3)) }, zh.$metadata$ = { kind: p, interfaces: [ch] }, Oh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { re().addEnergyResistance_vqsetu$(i, e, "Phlogistonic Regulator 1", PX(r.level, TX().RESISTANCE_COLD, !0, 0)), re().addEnergyResistance_vqsetu$(i, e, "Phlogistonic Regulator 2", PX(r.level, TX().RESISTANCE_FIRE, !0, 0)) }, Oh.$metadata$ = { kind: p, interfaces: [ch] }, Fh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { re().addSpeedIncreaseItem_xs3ggp$(i, e, "Speed Boosters", jW(r.level, 5, 1)) }, Fh.$metadata$ = { kind: p, interfaces: [ch] }, Bh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { re().addEnergyResistance_vqsetu$(i, e, "Dense Plating 1", RX(r.level, TX().RESISTANCE_SLASHING, !0)) }, Bh.$metadata$ = { kind: p, interfaces: [ch] }, jh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { var n = e.hashMapResistances.get_11rb$("Harmonic Oscillator 1"), o = e.hashMapResistances.get_11rb$("Harmonic Oscillator 2"); null != n && null != o && (i ? (n.fullLevelFrom = r.level, o.fullLevelFrom = r.level) : (n.fullLevelFrom = 21, o.fullLevelFrom = 21)) }, jh.$metadata$ = { kind: p, interfaces: [ch] }, Hh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { var n = e.hashMapResistances.get_11rb$("Metallic Reactance 1"), o = e.hashMapResistances.get_11rb$("Metallic Reactance 2"); null != n && null != o && (i ? (n.fullLevelFrom = r.level, o.fullLevelFrom = r.level) : (n.fullLevelFrom = 21, o.fullLevelFrom = 21)) }, Hh.$metadata$ = { kind: p, interfaces: [ch] }, qh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { var n = e.hashMapResistances.get_11rb$("Otherworldly Protection 1"), o = e.hashMapResistances.get_11rb$("Otherworldly Protection 2"); null != n && null != o && (i ? (n.fullLevelFrom = r.level, o.fullLevelFrom = r.level) : (n.fullLevelFrom = 21, o.fullLevelFrom = 21)) }, qh.$metadata$ = { kind: p, interfaces: [ch] }, Uh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { var n = e.hashMapResistances.get_11rb$("Phlogistonic Regulator 1"), o = e.hashMapResistances.get_11rb$("Phlogistonic Regulator 2"); null != n && null != o && (i ? (n.fullLevelFrom = r.level, o.fullLevelFrom = r.level) : (n.fullLevelFrom = 21, o.fullLevelFrom = 21)) }, Uh.$metadata$ = { kind: p, interfaces: [ch] }, Gh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { i ? e.hashMapSpecificArmorTrainings.put_xwzc9p$("Heavy Construction", new PW(r.level, ["Inventor Power Suit (Heavy)"], null)) : e.hashMapSpecificArmorTrainings.remove_11rb$("Heavy Construction") }, Gh.$metadata$ = { kind: p, interfaces: [ch] }, Wh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { re().addSpeedIncreaseItem_xs3ggp$(i, e, "Hyper Boosters", jW(r.level, 10, 1)) }, Wh.$metadata$ = { kind: p, interfaces: [ch] }, Yh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { re().addEnergyResistance_vqsetu$(i, e, "Layered Mesh 1", RX(r.level, TX().RESISTANCE_PIERCING, !0)) }, Yh.$metadata$ = { kind: p, interfaces: [ch] }, Vh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { re().addEnergyResistance_vqsetu$(i, e, "Tensile Absorption 1", RX(r.level, TX().RESISTANCE_BLUDGEONING, !0)) }, Vh.$metadata$ = { kind: p, interfaces: [ch] }, Kh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { var n, o = [TX().RESISTANCE_ACID, TX().RESISTANCE_COLD, TX().RESISTANCE_ELECTRICITY, TX().RESISTANCE_FIRE, TX().RESISTANCE_FORCE, TX().RESISTANCE_NEGATIVE, TX().RESISTANCE_POSITIVE]; for (n = 0; n !== o.length; ++n) { var s = o[n]; re().addEnergyResistance_vqsetu$(i, e, "Energy Barrier " + s, PX(r.level, s, !0, 2)) } }, Kh.$metadata$ = { kind: p, interfaces: [ch] }, Xh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { var n = e.hashMapResistances.get_11rb$("Dense Plating 1"); null != n && (n.fullLevelFrom = i ? r.level : 21) }, Xh.$metadata$ = { kind: p, interfaces: [ch] }, Jh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { var n = e.hashMapResistances.get_11rb$("Layered Mesh 1"); null != n && (n.fullLevelFrom = i ? r.level : 21) }, Jh.$metadata$ = { kind: p, interfaces: [ch] }, Zh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { var n = e.hashMapResistances.get_11rb$("Tensile Absorption 1"); null != n && (n.fullLevelFrom = i ? r.level : 21) }, Zh.$metadata$ = { kind: p, interfaces: [ch] }, Qh.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { re().addEnergyResistance_vqsetu$(i, e, "Perfect Fortification (Power Suit Only)", PX(r.level, TX().RESISTANCE_PRECISION, !0, 2)) }, Qh.$metadata$ = { kind: p, interfaces: [ch] }, td.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { var n, o = [TX().RESISTANCE_SLASHING, TX().RESISTANCE_PIERCING, TX().RESISTANCE_BLUDGEONING]; for (n = 0; n !== o.length; ++n) { var s = o[n]; re().addEnergyResistance_vqsetu$(i, e, "Physical Protections " + s, RX(r.level, s, !0)) } }, td.$metadata$ = { kind: p, interfaces: [ch] }, ed.prototype.applyEffect_qi2d91$ = function (t, e, i, a, r) { var n = [pK().PROFICIENCY_HEAVY_ARMOR]; re().addAncestralArmorExpertise_ebvrhe$(i, e, "Heavy Construction", r.level, n, "no keyword") }, ed.$metadata$ = { kind: p, interfaces: [ch] }, lh.prototype.setArmorEffectMethods_0 = function () { var t = this.hashMapArmorEffectMethods, e = new Dh; t.put_xwzc9p$("Harmonic Oscillator", e); var i = this.hashMapArmorEffectMethods, a = new xh; i.put_xwzc9p$("Metallic Reactance", a); var r = this.hashMapArmorEffectMethods, n = new zh; r.put_xwzc9p$("Otherworldly Protection", n); var o = this.hashMapArmorEffectMethods, s = new Oh; o.put_xwzc9p$("Phlogistonic Regulator", s); var l = this.hashMapArmorEffectMethods, c = new Fh; l.put_xwzc9p$("Speed Boosters", c); var p = this.hashMapArmorEffectMethods, h = new Bh; p.put_xwzc9p$("Dense Plating", h); var d = this.hashMapArmorEffectMethods, u = new jh; d.put_xwzc9p$("Enhanced Resistance - Harmonic Oscillator", u); var _ = this.hashMapArmorEffectMethods, f = new Hh; _.put_xwzc9p$("Enhanced Resistance - Metallic Reactance", f); var y = this.hashMapArmorEffectMethods, m = new qh; y.put_xwzc9p$("Enhanced Resistance - Otherworldly Protection", m); var $ = this.hashMapArmorEffectMethods, g = new Uh; $.put_xwzc9p$("Enhanced Resistance - Phlogistonic Regulator", g); var v = this.hashMapArmorEffectMethods, S = new Gh; v.put_xwzc9p$("Heavy Construction (Power Suit Only)", S); var C = this.hashMapArmorEffectMethods, E = new Wh; C.put_xwzc9p$("Hyper Boosters", E); var A = this.hashMapArmorEffectMethods, b = new Yh; A.put_xwzc9p$("Layered Mesh", b); var I = this.hashMapArmorEffectMethods, w = new Vh; I.put_xwzc9p$("Tensile Absorption", w); var L = this.hashMapArmorEffectMethods, T = new Kh; L.put_xwzc9p$("Energy Barrier", T); var k = this.hashMapArmorEffectMethods, R = new Xh; k.put_xwzc9p$("Incredible Resistance - Dense Plating", R); var P = this.hashMapArmorEffectMethods, M = new Jh; P.put_xwzc9p$("Incredible Resistance - Layered Mesh", M); var N = this.hashMapArmorEffectMethods, D = new Zh; N.put_xwzc9p$("Incredible Resistance - Tensile Absorption", D); var x = this.hashMapArmorEffectMethods, z = new Qh; x.put_xwzc9p$("Perfect Fortification (Power Suit Only)", z); var O = this.hashMapArmorEffectMethods, F = new td; O.put_xwzc9p$("Physical Protections", F); var B = this.hashMapArmorEffectMethods, j = new ed; B.put_xwzc9p$("Heavy Construction", j) }, id.prototype.applyEffect_69ga3c$ = function (t, e, i, a, r) { re().addSpeedIncreaseItem_xs3ggp$(i, a, "Accelerated Mobility", BW(r.level, 15)) }, id.$metadata$ = { kind: p, interfaces: [hh] }, ad.prototype.applyEffect_69ga3c$ = function (t, e, i, a, r) { re().addSpeedIncreaseItem_xs3ggp$(i, a, "Amphibious Construction", UW(r.level, 25, 3, 4)) }, ad.$metadata$ = { kind: p, interfaces: [hh] }, rd.prototype.applyEffect_69ga3c$ = function (t, e, i, a, r) { if (i && t.getGuiUpdateControl().finishedLoading_n40yp2$(e)) { var n = new FY; n.weaponName = "Projectile Launcher", a.getPetData().getHashMapEidolonAttacks().put_xwzc9p$(2, n) } else i || a.getPetData().getHashMapEidolonAttacks().remove_11rb$(2) }, rd.$metadata$ = { kind: p, interfaces: [hh] }, nd.prototype.applyEffect_69ga3c$ = function (t, e, i, a, r) { re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, "Wonder Gears", 1, pK().INTIMIDATION, 4), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, "Wonder Gears", 1, pK().STEALTH, 4), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, "Wonder Gears", 1, pK().SURVIVAL, 4) }, nd.$metadata$ = { kind: p, interfaces: [hh] }, od.prototype.applyEffect_69ga3c$ = function (t, e, i, a, r) { var n = "Marvelous Gears"; BK().hasSpecialByLevel_o7aqax$(e, "Revolutionary Innovation", e.getCharacterData().getCharacterLevel()) ? (re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, n + "1", r.level, pK().INTIMIDATION, 8), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, n + "2", r.level, pK().INTIMIDATION, 8), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, n + "1", r.level, pK().STEALTH, 8), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, n + "2", r.level, pK().STEALTH, 8), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, n + "1", r.level, pK().SURVIVAL, 8), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, n + "2", r.level, pK().SURVIVAL, 8)) : (re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, n, r.level, pK().INTIMIDATION, 6), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, n, r.level, pK().STEALTH, 6), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, a, n, r.level, pK().SURVIVAL, 6)) }, od.$metadata$ = { kind: p, interfaces: [hh] }, sd.prototype.applyEffect_69ga3c$ = function (t, e, i, a, r) { re().addSpeedIncreaseItem_xs3ggp$(i, a, "Flight Chassis", UW(r.level, 25, 3, 3)) }, sd.$metadata$ = { kind: p, interfaces: [hh] }, ld.prototype.applyEffect_69ga3c$ = function (t, e, i, a, r) { i && t.getGuiUpdateControl().finishedLoading_n40yp2$(e) ? (a.getPetData().hashMapAbilityBoosts.put_xwzc9p$(r.level, u()), o(a.getPetData().hashMapAbilityBoosts.get_11rb$(r.level)).add_11rb$(3)) : a.getPetData().hashMapAbilityBoosts.remove_11rb$(r.level) }, ld.$metadata$ = { kind: p, interfaces: [hh] }, lh.prototype.setConstructEffectMethods_0 = function () { var t = this.hashMapConstructEffectMethods, e = new id; t.put_xwzc9p$("Accelerated Mobility", e); var i = this.hashMapConstructEffectMethods, a = new ad; i.put_xwzc9p$("Amphibious Construction", a); var r = this.hashMapConstructEffectMethods, n = new rd; r.put_xwzc9p$("Projectile Launcher", n); var o = this.hashMapConstructEffectMethods, s = new nd; o.put_xwzc9p$("Wonder Gears", s); var l = this.hashMapConstructEffectMethods, c = new od; l.put_xwzc9p$("Marvelous Gears", c); var p = this.hashMapConstructEffectMethods, h = new sd; p.put_xwzc9p$("Flight Chassis", h); var d = this.hashMapConstructEffectMethods, u = new ld; d.put_xwzc9p$("Miracle Gears", u) }, lh.$metadata$ = { kind: p, simpleName: "InventorModificationEffectMethods", interfaces: [] }, pd.$metadata$ = { kind: H, simpleName: "ArmorModRequirement", interfaces: [] }, hd.$metadata$ = { kind: H, simpleName: "WeaponModRequirement", interfaces: [] }, dd.$metadata$ = { kind: H, simpleName: "ConstructModRequirement", interfaces: [] }, cd.prototype.meetsRequirement_qf1zoh$ = function (t, i, a, r, n) { var s, l; return 0 === a ? !this.hashMapArmorRequirementMethods_0.containsKey_11rb$(r) || o(this.hashMapArmorRequirementMethods_0.get_11rb$(r)).available_tmfbrq$(t, i, e.isType(s = n, cs) ? s : d()) : 1 !== a || !this.hashMapWeaponRequirementMethods_0.containsKey_11rb$(r) || o(this.hashMapWeaponRequirementMethods_0.get_11rb$(r)).available_5o1jb$(t, i, e.isType(l = n, i1) ? l : d()) }, cd.prototype.meetsRequirementConstruct_wbgrtb$ = function (t, e, i, a, r, n) { if (this.hashMapConstructRequirementMethods_0.containsKey_11rb$(a)) { var s = e.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_CONSTRUCT); if (null != s) return o(this.hashMapConstructRequirementMethods_0.get_11rb$(a)).available_yh4wbb$(t, e, s, n) } return !0 }, cd.prototype.isPowerSuit_0 = function (t) { return m(t.armorName, "Inventor Power Suit") || m(t.armorName, "Inventor Power Suit (Heavy)") }, cd.prototype.isSubterfugeSuit_0 = function (t) { return m(t.armorName, "Inventor Subterfuge Suit") }, cd.prototype.hasMod_0 = function (t, e) { var i; if (null != t.mapInvModSel) for (i = o(t.mapInvModSel).values.iterator(); i.hasNext();) { var a = i.next(); if (m(a, e)) return !0 } return !1 }, ud.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isPowerSuit_0(i) }, ud.$metadata$ = { kind: p, interfaces: [pd] }, _d.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isSubterfugeSuit_0(i) }, _d.$metadata$ = { kind: p, interfaces: [pd] }, fd.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isSubterfugeSuit_0(i) }, fd.$metadata$ = { kind: p, interfaces: [pd] }, yd.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isPowerSuit_0(i) }, yd.$metadata$ = { kind: p, interfaces: [pd] }, md.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isSubterfugeSuit_0(i) }, md.$metadata$ = { kind: p, interfaces: [pd] }, $d.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isPowerSuit_0(i) }, $d.$metadata$ = { kind: p, interfaces: [pd] }, gd.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.hasMod_0(i, "Harmonic Oscillator") }, gd.$metadata$ = { kind: p, interfaces: [pd] }, vd.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.hasMod_0(i, "Dense Plating") }, vd.$metadata$ = { kind: p, interfaces: [pd] }, Sd.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.hasMod_0(i, "Metallic Reactance") }, Sd.$metadata$ = { kind: p, interfaces: [pd] }, Cd.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.hasMod_0(i, "Dense Plating") }, Cd.$metadata$ = { kind: p, interfaces: [pd] }, Ed.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.hasMod_0(i, "Otherworldly Protection") }, Ed.$metadata$ = { kind: p, interfaces: [pd] }, Ad.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.hasMod_0(i, "Phlogistonic Regulator") }, Ad.$metadata$ = { kind: p, interfaces: [pd] }, bd.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.hasMod_0(i, "Layered Mesh") }, bd.$metadata$ = { kind: p, interfaces: [pd] }, Id.prototype.available_tmfbrq$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.hasMod_0(i, "Tensile Absorption") }, Id.$metadata$ = { kind: p, interfaces: [pd] }, cd.prototype.setArmorRequirements_0 = function () { var t = this.hashMapArmorRequirementMethods_0, e = new ud(this); t.put_xwzc9p$("Muscular Exoskeleton", e); var i = this.hashMapArmorRequirementMethods_0, a = new _d(this); i.put_xwzc9p$("Subtle Dampeners", a); var r = this.hashMapArmorRequirementMethods_0, n = new fd(this); r.put_xwzc9p$("Camouflage Pigmentation", n); var o = this.hashMapArmorRequirementMethods_0, s = new yd(this); o.put_xwzc9p$("Heavy Construction", s); var l = this.hashMapArmorRequirementMethods_0, c = new md(this); l.put_xwzc9p$("Multisensory Mask", c); var p = this.hashMapArmorRequirementMethods_0, h = new $d(this); p.put_xwzc9p$("Perfect Fortification", h); var d = this.hashMapArmorRequirementMethods_0, u = new gd(this); d.put_xwzc9p$("Enhanced Resistance - Harmonic Oscillator", u); var _ = this.hashMapArmorRequirementMethods_0, f = new vd(this); _.put_xwzc9p$("Incredible Resistance - Dense Plating", f); var y = this.hashMapArmorRequirementMethods_0, m = new Sd(this); y.put_xwzc9p$("Enhanced Resistance - Metallic Reactance", m); var $ = this.hashMapArmorRequirementMethods_0, g = new Cd(this); $.put_xwzc9p$("Incredible Resistance - Dense Plating", g); var v = this.hashMapArmorRequirementMethods_0, S = new Ed(this); v.put_xwzc9p$("Enhanced Resistance - Otherworldly Protection", S); var C = this.hashMapArmorRequirementMethods_0, E = new Ad(this); C.put_xwzc9p$("Enhanced Resistance - Phlogistonic Regulator", E); var A = this.hashMapArmorRequirementMethods_0, b = new bd(this); A.put_xwzc9p$("Incredible Resistance - Layered Mesh", b); var I = this.hashMapArmorRequirementMethods_0, w = new Id(this); I.put_xwzc9p$("Incredible Resistance - Tensile Absorption", w) }, wd.prototype.available_5o1jb$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, wd.$metadata$ = { kind: p, interfaces: [hd] }, Ld.prototype.available_5o1jb$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isSimple_0(t, i) }, Ld.$metadata$ = { kind: p, interfaces: [hd] }, Td.prototype.available_5o1jb$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isSimple_0(t, i) }, Td.$metadata$ = { kind: p, interfaces: [hd] }, kd.prototype.available_5o1jb$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isSimple_0(t, i) }, kd.$metadata$ = { kind: p, interfaces: [hd] }, Rd.prototype.available_5o1jb$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isOneHandedMelee_0(t, i) }, Rd.$metadata$ = { kind: p, interfaces: [hd] }, Pd.prototype.available_5o1jb$ = function (t, e, i) { return !this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, Pd.$metadata$ = { kind: p, interfaces: [hd] }, Md.prototype.available_5o1jb$ = function (t, e, i) { return !this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, Md.$metadata$ = { kind: p, interfaces: [hd] }, Nd.prototype.available_5o1jb$ = function (t, e, i) { return !this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, Nd.$metadata$ = { kind: p, interfaces: [hd] }, Dd.prototype.available_5o1jb$ = function (t, e, i) { return !this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, Dd.$metadata$ = { kind: p, interfaces: [hd] }, xd.prototype.available_5o1jb$ = function (t, e, i) { return !this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, xd.$metadata$ = { kind: p, interfaces: [hd] }, zd.prototype.available_5o1jb$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, zd.$metadata$ = { kind: p, interfaces: [hd] }, Od.prototype.available_5o1jb$ = function (t, e, i) { return !this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, Od.$metadata$ = { kind: p, interfaces: [hd] }, Fd.prototype.available_5o1jb$ = function (t, e, i) { return !this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, Fd.$metadata$ = { kind: p, interfaces: [hd] }, Bd.prototype.available_5o1jb$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isOneHandedMelee_0(t, i) }, Bd.$metadata$ = { kind: p, interfaces: [hd] }, jd.prototype.available_5o1jb$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, jd.$metadata$ = { kind: p, interfaces: [hd] }, Hd.prototype.available_5o1jb$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isThrown_0(t, i) }, Hd.$metadata$ = { kind: p, interfaces: [hd] }, qd.prototype.available_5o1jb$ = function (t, e, i) { return !this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, qd.$metadata$ = { kind: p, interfaces: [hd] }, Ud.prototype.available_5o1jb$ = function (t, e, i) { return !this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, Ud.$metadata$ = { kind: p, interfaces: [hd] }, Gd.prototype.available_5o1jb$ = function (t, e, i) { return this.this$InventorModificationRequirementEffects.isRanged_0(t, i) }, Gd.$metadata$ = { kind: p, interfaces: [hd] }, cd.prototype.setWeaponRequirements_0 = function () { var t = this.hashMapWeaponRequirementMethods_0, e = new wd(this); t.put_xwzc9p$("Blunt Shot", e); var i = this.hashMapWeaponRequirementMethods_0, a = new Ld(this); i.put_xwzc9p$("Complex Simplicity - Versatile S", a); var r = this.hashMapWeaponRequirementMethods_0, n = new Td(this); r.put_xwzc9p$("Complex Simplicity - Versatile P", n); var o = this.hashMapWeaponRequirementMethods_0, s = new kd(this); o.put_xwzc9p$("Complex Simplicity - Versatile B", s); var l = this.hashMapWeaponRequirementMethods_0, c = new Rd(this); l.put_xwzc9p$("Dynamic Weighting", c); var p = this.hashMapWeaponRequirementMethods_0, h = new Pd(this); p.put_xwzc9p$("Entangling Form", h); var d = this.hashMapWeaponRequirementMethods_0, u = new Md(this); d.put_xwzc9p$("Hampering Spikes", u); var _ = this.hashMapWeaponRequirementMethods_0, f = new Nd(this); _.put_xwzc9p$("Hefty Composition", f); var y = this.hashMapWeaponRequirementMethods_0, m = new Dd(this); y.put_xwzc9p$("Pacification Tools", m); var $ = this.hashMapWeaponRequirementMethods_0, g = new xd(this); $.put_xwzc9p$("Razor Prongs", g); var v = this.hashMapWeaponRequirementMethods_0, S = new zd(this); v.put_xwzc9p$("Advanced Rangefinder", S); var C = this.hashMapWeaponRequirementMethods_0, E = new Od(this); C.put_xwzc9p$("Aerodynamic Construction", E); var A = this.hashMapWeaponRequirementMethods_0, b = new Fd(this); A.put_xwzc9p$("Inconspicuous Appearance", b); var I = this.hashMapWeaponRequirementMethods_0, w = new Bd(this); I.put_xwzc9p$("Integrated Gauntlet", w); var L = this.hashMapWeaponRequirementMethods_0, T = new jd(this); L.put_xwzc9p$("Rope Shot", T); var k = this.hashMapWeaponRequirementMethods_0, R = new Hd(this); k.put_xwzc9p$("Tangle Line", R); var P = this.hashMapWeaponRequirementMethods_0, M = new qd(this); P.put_xwzc9p$("Extensible Weapon", M); var N = this.hashMapWeaponRequirementMethods_0, D = new Ud(this); N.put_xwzc9p$("Momentum Retainer", D); var x = this.hashMapWeaponRequirementMethods_0, z = new Gd(this); x.put_xwzc9p$("Omnirange Stabilizers", z) }, cd.prototype.isRanged_0 = function (t, e) { var i = t.managerWeapons.hashMapWeapons.get_11rb$(e.weaponName); return !(null == i || !i.isRangedOrFirearm()) }, cd.prototype.isSimple_0 = function (t, e) { var i = t.managerWeapons.hashMapWeapons.get_11rb$(e.weaponName); return null != i && 0 === i.proficiencyType }, cd.prototype.isOneHandedMelee_0 = function (t, e) { var i = t.managerWeapons.hashMapWeapons.get_11rb$(e.weaponName); return !(null == i || !m(i.hands, "1") || i.isRangedOrFirearm()) }, cd.prototype.isThrown_0 = function (t, e) { var i = t.managerWeapons.hashMapWeapons.get_11rb$(e.weaponName); return !(null == i || !_(i.weaponTraits.toLowerCase(), "thrown")) }, Wd.prototype.available_yh4wbb$ = function (t, e, i, a) { return zY().hasSelectedModification_q8fthw$(e, i, "Wonder Gears", a.ref) }, Wd.$metadata$ = { kind: p, interfaces: [dd] }, Yd.prototype.available_yh4wbb$ = function (t, e, i, a) { return zY().hasSelectedModification_q8fthw$(e, i, "Marvelous Gears", a.ref) }, Yd.$metadata$ = { kind: p, interfaces: [dd] }, cd.prototype.setConstructRequirements_0 = function () { var t = this.hashMapConstructRequirementMethods_0, e = new Wd; t.put_xwzc9p$("Marvelous Gears", e); var i = this.hashMapConstructRequirementMethods_0, a = new Yd; i.put_xwzc9p$("Miracle Gears", a) }, cd.$metadata$ = { kind: p, simpleName: "InventorModificationRequirementEffects", interfaces: [] }, Vd.prototype.getDisplayName_fhac18$ = function (t, e) { var i, a = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$(this.name); return null != (i = null != a ? a.name : null) ? i : this.name }, Vd.prototype.getBasePlayerEquipment_sfkw43$ = function (t) { var e; return null == (e = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$(this.name)) ? th("Not found", 0) : e }, Vd.prototype.getTraits_fhac18$ = function (t, e) { var i; return null == (i = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$(this.name)) ? "" : i.traits }, Vd.prototype.getItemLevel_fhac18$ = function (t, e) { var i; return null == (i = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$(this.name)) ? 0 : i.itemLevel }, Vd.prototype.getDescription_fhac18$ = function (t, e) { var i; return null == (i = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$(this.name)) ? "" : i.getFullDescription() }, Vd.prototype.removeItem_fhac18$ = function (t, e) { }, Vd.prototype.restoreItem_fhac18$ = function (t, e) { }, Vd.prototype.restoreSwapItem_fhac18$ = function (t, e) { }, Vd.prototype.getRestoreSwapCurrent_fhac18$ = function (t, e) { return null }, Vd.prototype.canRestore_fhac18$ = function (t, e) { return !0 }, Vd.prototype.getRestoreErrorMessage = function () { return "" }, Kd.prototype.serializer = function () { return tu() }, Kd.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Xd = null; function Jd() { return null === Xd && new Kd, Xd } function Zd() { this.descriptor_d5hvn7$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerequipment.PlayerEquipment", this, 8), this.descriptor.addElement_ivxn3r$("stowed", !0), this.descriptor.addElement_ivxn3r$("inContainerID", !0), this.descriptor.addElement_ivxn3r$("amount", !0), this.descriptor.addElement_ivxn3r$("mapInvModSel", !0), this.descriptor.addElement_ivxn3r$("bulkOverride", !0), this.descriptor.addElement_ivxn3r$("name", !1), this.descriptor.addElement_ivxn3r$("quantity", !0), this.descriptor.addElement_ivxn3r$("invested", !0), Qd = this } Object.defineProperty(Zd.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_d5hvn7$_0 } }), Zd.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.stowed, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 0, e.stowed), m(e.inContainerID, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 1, M.StringSerializer, e.inContainerID), m(e.amount, 1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.amount), m(e.mapInvModSel, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, new N(M.StringSerializer, M.StringSerializer), e.mapInvModSel), m(e.bulkOverride, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 4, M.StringSerializer, e.bulkOverride), i.encodeStringElement_iij8qq$(this.descriptor, 5, e.name), m(e.quantity, 1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 6) || i.encodeIntElement_ptg7oe$(this.descriptor, 6, e.quantity), m(e.invested, !0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 7, e.invested), i.endStructure_24f42q$(this.descriptor) }, Zd.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p = 0, h = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = h.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = h.decodeBooleanElement_szpzho$(this.descriptor, 0), p |= 1; break; case 1: a = h.decodeNullableSerializableElement_8viuyw$(this.descriptor, 1, M.StringSerializer, a), p |= 2; break; case 2: r = h.decodeIntElement_szpzho$(this.descriptor, 2), p |= 4; break; case 3: n = h.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, new N(M.StringSerializer, M.StringSerializer), n), p |= 8; break; case 4: o = h.decodeNullableSerializableElement_8viuyw$(this.descriptor, 4, M.StringSerializer, o), p |= 16; break; case 5: s = h.decodeStringElement_szpzho$(this.descriptor, 5), p |= 32; break; case 6: l = h.decodeIntElement_szpzho$(this.descriptor, 6), p |= 64; break; case 7: c = h.decodeBooleanElement_szpzho$(this.descriptor, 7), p |= 128; break; case -1: break t; default: throw new O(e) }return h.endStructure_24f42q$(this.descriptor), eu(p, i, a, r, n, o, s, l, c, null) }, Zd.prototype.childSerializers = function () { return [M.BooleanSerializer, new R(M.StringSerializer), M.IntSerializer, new R(new N(M.StringSerializer, M.StringSerializer)), new R(M.StringSerializer), M.StringSerializer, M.IntSerializer, M.BooleanSerializer] }, Zd.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var Qd = null; function tu() { return null === Qd && new Zd, Qd } function eu(t, e, i, a, r, n, o, s, l, c) { var p = c || Object.create(Vd.prototype); if (p = ou(t, e, i, a, r, n, p), 0 == (32 & t)) throw J("name"); return p.name = o, p.quantity = 0 == (64 & t) ? 1 : s, p.invested = 0 == (128 & t) || l, p } function iu() { nu(), this.stowed = !1, this.inContainerID = null, this.amount = 1, this.mapInvModSel = null, this.bulkOverride = null } function au() { ru = this } Vd.$metadata$ = { kind: p, simpleName: "PlayerEquipment", interfaces: [iu] }, iu.prototype.getInvModSelection_61zpoe$ = function (t) { return null == this.mapInvModSel ? null : o(this.mapInvModSel).get_11rb$(t) }, iu.prototype.addInvModSelection_puj7f4$ = function (t, e) { null == this.mapInvModSel && (this.mapInvModSel = c()), o(this.mapInvModSel).put_xwzc9p$(t, e) }, au.prototype.serializer = function () { return new et(tt(iu)) }, au.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [it] }; var ru = null; function nu() { return null === ru && new au, ru } function ou(t, e, i, a, r, n, o) { var s = o || Object.create(iu.prototype); return s.stowed = 0 != (1 & t) && e, s.inContainerID = 0 == (2 & t) ? null : i, s.amount = 0 == (4 & t) ? 1 : a, s.mapInvModSel = 0 == (8 & t) ? null : r, s.bulkOverride = 0 == (16 & t) ? null : n, s } function su() { } function lu() { hu(), this.ac = "2", this.hardness = 0, this.hp = 0 } function cu() { pu = this, this.COLUMN_NAME = "name", this.COLUMN_LEVEL = "level", this.COLUMN_TRAITS = "traits", this.COLUMN_ACTIONS = "actions", this.COLUMN_PRICE = "price", this.COLUMN_HANDS = "hands", this.COLUMN_BULK = "bulk", this.COLUMN_USAGE = "usage", this.COLUMN_AC = "ac", this.COLUMN_SPEED = "speed", this.COLUMN_HARDNESS = "hardness", this.COLUMN_HP = "hp", this.COLUMN_ACTION0 = "action0", this.COLUMN_ACTION0DESC = "action0desc", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SRC = "src", this.COLUMN_URL = "url" } iu.$metadata$ = { kind: p, simpleName: "PlayerItem", interfaces: [] }, su.$metadata$ = { kind: H, simpleName: "RuneEffect", interfaces: [] }, lu.prototype.getHardness_9khk5$ = function (t, e) { return BK().hasSpecialByLevel_o7aqax$(e, "Divine Ally (Shield)", e.getCharacterData().getCharacterLevel()) ? this.hardness + 2 | 0 : this.hardness }, lu.prototype.getHp_9khk5$ = function (t, e) { if (Lq().hasFeatByLevel_w0akbr$(e, "No feat ref", e.getCharacterData().getCharacterLevel(), "CHAMPION_Shield Paragon")) return 2 * this.hp | 0; if (BK().hasSpecialByLevel_o7aqax$(e, "Divine Ally (Shield)", e.getCharacterData().getCharacterLevel())) { var i = this.hp / 2, a = C(I.floor(i)); return this.hp + a | 0 } return this.hp }, lu.prototype.getBT_za3lpa$ = function (t) { var e = t / 2; return C(I.floor(e)) }, cu.prototype.serializer = function () { return _u() }, cu.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var pu = null; function hu() { return null === pu && new cu, pu } function du() { this.descriptor_dfgzdv$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerequipment.ShieldInformation", this, 26), this.descriptor.addElement_ivxn3r$("databaseID", !0), this.descriptor.addElement_ivxn3r$("timestamp", !0), this.descriptor.addElement_ivxn3r$("listCustomEffects", !0), this.descriptor.addElement_ivxn3r$("uniqueIdentiier", !0), this.descriptor.addElement_ivxn3r$("category", !0), this.descriptor.addElement_ivxn3r$("name", !0), this.descriptor.addElement_ivxn3r$("itemLevel", !0), this.descriptor.addElement_ivxn3r$("amount", !0), this.descriptor.addElement_ivxn3r$("price", !0), this.descriptor.addElement_ivxn3r$("hands", !0), this.descriptor.addElement_ivxn3r$("bulk", !0), this.descriptor.addElement_ivxn3r$("traits", !0), this.descriptor.addElement_ivxn3r$("usage", !0), this.descriptor.addElement_ivxn3r$("description", !0), this.descriptor.addElement_ivxn3r$("speed", !0), this.descriptor.addElement_ivxn3r$("hashMapProficiencyBonus", !0), this.descriptor.addElement_ivxn3r$("src", !0), this.descriptor.addElement_ivxn3r$("url", !0), this.descriptor.addElement_ivxn3r$("action0", !0), this.descriptor.addElement_ivxn3r$("action0desc", !0), this.descriptor.addElement_ivxn3r$("action1", !0), this.descriptor.addElement_ivxn3r$("action1desc", !0), this.descriptor.addElement_ivxn3r$("contains", !0), this.descriptor.addElement_ivxn3r$("ac", !0), this.descriptor.addElement_ivxn3r$("hardness", !0), this.descriptor.addElement_ivxn3r$("hp", !0), uu = this } Object.defineProperty(du.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_dfgzdv$_0 } }), du.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.databaseID, -1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeIntElement_ptg7oe$(this.descriptor, 0, e.databaseID), m(e.timestamp, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 1, M.StringSerializer, e.timestamp), m(e.listCustomEffects, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 2, new D(mo()), e.listCustomEffects), m(e.uniqueIdentiier, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, M.StringSerializer, e.uniqueIdentiier), m(e.category, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeIntElement_ptg7oe$(this.descriptor, 4, e.category), m(e.name, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 5) || i.encodeStringElement_iij8qq$(this.descriptor, 5, e.name), m(e.itemLevel, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 6) || i.encodeIntElement_ptg7oe$(this.descriptor, 6, e.itemLevel), m(e.amount, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 7, M.IntSerializer, e.amount), m(e.price, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 8) || i.encodeDoubleElement_powrwi$(this.descriptor, 8, e.price), m(e.hands, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 9) || i.encodeStringElement_iij8qq$(this.descriptor, 9, e.hands), m(e.bulk, "0") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 10) || i.encodeStringElement_iij8qq$(this.descriptor, 10, e.bulk), m(e.traits, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 11) || i.encodeStringElement_iij8qq$(this.descriptor, 11, e.traits), m(e.usage, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 12) || i.encodeStringElement_iij8qq$(this.descriptor, 12, e.usage), m(e.description, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 13) || i.encodeStringElement_iij8qq$(this.descriptor, 13, e.description), m(e.speed, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 14) || i.encodeIntElement_ptg7oe$(this.descriptor, 14, e.speed), m(e.hashMapProficiencyBonus, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 15) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 15, new N(M.StringSerializer, M.IntSerializer), e.hashMapProficiencyBonus), m(e.src, Ic().BOOK_CRB) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 16) || i.encodeStringElement_iij8qq$(this.descriptor, 16, e.src), m(e.url, "https://2e.aonprd.com") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 17) || i.encodeStringElement_iij8qq$(this.descriptor, 17, e.url), m(e.action0, -2) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 18) || i.encodeIntElement_ptg7oe$(this.descriptor, 18, e.action0), m(e.action0desc, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 19) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 19, M.StringSerializer, e.action0desc), m(e.action1, -2) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 20) || i.encodeIntElement_ptg7oe$(this.descriptor, 20, e.action1), m(e.action1desc, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 21) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 21, M.StringSerializer, e.action1desc), m(e.contains, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 22) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 22, M.DoubleSerializer, e.contains), m(e.ac, "2") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 23) || i.encodeStringElement_iij8qq$(this.descriptor, 23, e.ac), m(e.hardness, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 24) || i.encodeIntElement_ptg7oe$(this.descriptor, 24, e.hardness), m(e.hp, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 25) || i.encodeIntElement_ptg7oe$(this.descriptor, 25, e.hp), i.endStructure_24f42q$(this.descriptor) }, du.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L = 0, T = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = T.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = T.decodeIntElement_szpzho$(this.descriptor, 0), L |= 1; break; case 1: a = T.decodeNullableSerializableElement_8viuyw$(this.descriptor, 1, M.StringSerializer, a), L |= 2; break; case 2: r = T.decodeNullableSerializableElement_8viuyw$(this.descriptor, 2, new D(mo()), r), L |= 4; break; case 3: n = T.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, M.StringSerializer, n), L |= 8; break; case 4: o = T.decodeIntElement_szpzho$(this.descriptor, 4), L |= 16; break; case 5: s = T.decodeStringElement_szpzho$(this.descriptor, 5), L |= 32; break; case 6: l = T.decodeIntElement_szpzho$(this.descriptor, 6), L |= 64; break; case 7: c = T.decodeNullableSerializableElement_8viuyw$(this.descriptor, 7, M.IntSerializer, c), L |= 128; break; case 8: p = T.decodeDoubleElement_szpzho$(this.descriptor, 8), L |= 256; break; case 9: h = T.decodeStringElement_szpzho$(this.descriptor, 9), L |= 512; break; case 10: d = T.decodeStringElement_szpzho$(this.descriptor, 10), L |= 1024; break; case 11: u = T.decodeStringElement_szpzho$(this.descriptor, 11), L |= 2048; break; case 12: _ = T.decodeStringElement_szpzho$(this.descriptor, 12), L |= 4096; break; case 13: f = T.decodeStringElement_szpzho$(this.descriptor, 13), L |= 8192; break; case 14: y = T.decodeIntElement_szpzho$(this.descriptor, 14), L |= 16384; break; case 15: m = T.decodeNullableSerializableElement_8viuyw$(this.descriptor, 15, new N(M.StringSerializer, M.IntSerializer), m), L |= 32768; break; case 16: $ = T.decodeStringElement_szpzho$(this.descriptor, 16), L |= 65536; break; case 17: g = T.decodeStringElement_szpzho$(this.descriptor, 17), L |= 131072; break; case 18: v = T.decodeIntElement_szpzho$(this.descriptor, 18), L |= 262144; break; case 19: S = T.decodeNullableSerializableElement_8viuyw$(this.descriptor, 19, M.StringSerializer, S), L |= 524288; break; case 20: C = T.decodeIntElement_szpzho$(this.descriptor, 20), L |= 1048576; break; case 21: E = T.decodeNullableSerializableElement_8viuyw$(this.descriptor, 21, M.StringSerializer, E), L |= 2097152; break; case 22: A = T.decodeNullableSerializableElement_8viuyw$(this.descriptor, 22, M.DoubleSerializer, A), L |= 4194304; break; case 23: b = T.decodeStringElement_szpzho$(this.descriptor, 23), L |= 8388608; break; case 24: I = T.decodeIntElement_szpzho$(this.descriptor, 24), L |= 16777216; break; case 25: w = T.decodeIntElement_szpzho$(this.descriptor, 25), L |= 33554432; break; case -1: break t; default: throw new O(e) }return T.endStructure_24f42q$(this.descriptor), fu(L, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, null) }, du.prototype.childSerializers = function () { return [M.IntSerializer, new R(M.StringSerializer), new R(new D(mo())), new R(M.StringSerializer), M.IntSerializer, M.StringSerializer, M.IntSerializer, new R(M.IntSerializer), M.DoubleSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.IntSerializer, new R(new N(M.StringSerializer, M.IntSerializer)), M.StringSerializer, M.StringSerializer, M.IntSerializer, new R(M.StringSerializer), M.IntSerializer, new R(M.StringSerializer), new R(M.DoubleSerializer), M.StringSerializer, M.IntSerializer, M.IntSerializer] }, du.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var uu = null; function _u() { return null === uu && new du, uu } function fu(t, e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w) { var L = w || Object.create(lu.prototype); return (L = Qp(t, e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, L)).ac = 0 == (8388608 & t) ? "2" : A, L.hardness = 0 == (16777216 & t) ? 0 : b, L.hp = 0 == (33554432 & t) ? 0 : I, L } function yu(t, e) { return th(t, -1, e = e || Object.create(lu.prototype)), lu.call(e), e } function mu(t, e) { return ih(t, e = e || Object.create(lu.prototype)), lu.call(e), e.hp = t.hp, e.hardness = t.hardness, e.ac = t.ac, e } function $u(t, e) { var i, a; for (Su(), W0.call(this, t), this.featPrereq = null, this.featEffectMethods = null, this.hashMapFAllFeats = c(), this.hashMapFeatsByCategory = c(), this.featPrereq = new bq(t), this.featEffectMethods = new Wu(t), this.hashMapFeatsByCategory = e.getAllFeats(), i = this.hashMapFeatsByCategory.keys.iterator(); i.hasNext();) { var r = i.next(); for (a = o(this.hashMapFeatsByCategory.get_11rb$(r)).keys.iterator(); a.hasNext();) { var n = a.next(), s = o(this.hashMapFeatsByCategory.get_11rb$(r)).get_11rb$(n); null != s && this.hashMapFAllFeats.put_xwzc9p$(n, s) } } this.loadArchetypeDupedFeats_0() } function gu() { vu = this, this.HERITAGE_HALF_ELF = "HUMAN_Half-Elf", this.HERITAGE_HALF_ORC = "HUMAN_Half-Orc" } lu.$metadata$ = { kind: p, simpleName: "ShieldInformation", interfaces: [Wp] }, $u.prototype.getFeatInformation_pdl1vj$ = function (t) { return null == t ? null : this.hashMapFAllFeats.get_11rb$(t) }, $u.prototype.getAllFeatsWithoutDuplicatesForBrowsing = function () { c(); var t, e, i, a = u(); for (t = this.hashMapFeatsByCategory.keys.iterator(); t.hasNext();) { var r = t.next(); if (!_(r, "Heritage") && !m(r, se().FEATS_ARCHETYPE) && !m(r, se().FEATS_CLASS_ARCHETYPE)) for (e = o(this.hashMapFeatsByCategory.get_11rb$(r)).values.iterator(); e.hasNext();) { var n = e.next(); this.nameAndTraitsAndLevelAreDuplicate_0(a, n) || a.add_11rb$(n) } } for (i = o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_ARCHETYPE)).values.iterator(); i.hasNext();) { var s = i.next(); if (this.nameIsDuplicate_0(a, s)) { var l = Aq(s); l.name = l.name + " (" + this.getArchetypeName_0(s) + ")", a.add_11rb$(l) } else a.add_11rb$(s) } return a }, $u.prototype.getArchetypeName_0 = function (t) { var e, i; if (null != t.reqFeats) for (e = o(t.reqFeats), i = 0; i !== e.length; ++i) { var a = e[i]; if (_(a, "Dedication")) { var r = v(a, ["_"]); return r.get_za3lpa$(r.size - 1 | 0) } } return "Archetype" }, $u.prototype.nameIsDuplicate_0 = function (t, e) { var i; for (i = t.iterator(); i.hasNext();) { var a = i.next(); if (m(a.name, e.name)) return !0 } return !1 }, $u.prototype.nameAndTraitsAndLevelAreDuplicate_0 = function (t, e) { var i; for (i = t.iterator(); i.hasNext();) { var a = i.next(); if (m(a.name, e.name) && a.level === e.level) return m(a.traits, e.traits) } return !1 }, $u.prototype.activateAndAddFreeFeat_ubuv6q$ = function (t, e, i, a, r, n) { if (e) { if (null != this.getFeatInformation_pdl1vj$(a)) { var s = new AW(a, n); t.addFreeFeat_1e1ni6$(o(i), s) } } else t.removeFreeFeat_bm4lxs$(o(i), n); this.featEffectMethods.hashMapFeatEffects.containsKey_11rb$(a) && o(this.featEffectMethods.hashMapFeatEffects.get_11rb$(a)).activateFeat_ow0n35$(this.dataControl, t, e, n, o(i), null) }, $u.prototype.activateAndAddFreeFeatWithExtraInformation_pw7w27$ = function (t, e, i, a, r, n, s) { if (e) { if (null != this.getFeatInformation_pdl1vj$(a)) { var l = new AW(a, n); l.extraInformation = s, t.addFreeFeat_1e1ni6$(o(i), l) } } else t.removeFreeFeat_bm4lxs$(o(i), n); this.featEffectMethods.hashMapFeatEffects.containsKey_11rb$(a) && o(this.featEffectMethods.hashMapFeatEffects.get_11rb$(a)).activateFeat_ow0n35$(this.dataControl, t, e, n, o(i), null) }, $u.prototype.addFreeArchetypeFeatsOnLoad_5btbp7$ = function (t) { if (t.getCharacterData().isFreeArchetype()) for (var e = 2; e <= 20;) { var i = "Free Archetype " + e, a = Nu(se().FEATS_ARCHETYPE, e, "Free Archetype"); t.getCharacterData().isIgnoreFreeArcheAbilityReq() && (a.ignoreAbilityRequirements = !0), t.getCharacterData().isIgnoreFreeArcheRest() && (a.allowDedication = !0), o(t.hashMapFeatChoices[e - 1 | 0]).put_xwzc9p$(i, a), e = e + 2 | 0 } }, $u.prototype.addClassArchetypeFeatsOnLoad_5btbp7$ = function (t) { null != t.getCharacterData().getClassArchetype() && this.addClassArchetypeFeatChoice_ryqv3o$(!0, t) }, $u.prototype.addAncestryParagonFeatsOnLoad_5btbp7$ = function (t) { t.getCharacterData().isAncestryParagon() && this.applyAncestryParagon_7z7xgi$(t, !0) }, $u.prototype.applyAncestryParagon_7z7xgi$ = function (t, e) { var i, a, r = [1, 3, 7, 11, 15, 19]; if (e) for (i = 0; i !== r.length; ++i) { var n = r[i], s = "Ancestry Paragon " + n, l = Nu(se().FEATS_ANCESTRY, n, "Ancestry Paragon"); o(t.hashMapFeatChoices[n - 1 | 0]).put_xwzc9p$(s, l) } else for (a = 0; a !== r.length; ++a) { var c = r[a], p = "Ancestry Paragon " + c, h = t.getFeatChoice_19mbxw$(c, p); null != h && (this.dataControl.managerFeats.deactivateFeat_8fzv80$(t, c, h, p), o(t.hashMapFeatChoices[c - 1 | 0]).remove_11rb$(p)) } }, $u.prototype.activateSelectedFeatsOnLoad_vy76y1$ = function (t, e) { var i, a; for (i = w(o(t.hashMapFeatChoices[e - 1 | 0]).keys).iterator(); i.hasNext();) { var r = i.next(); if (t.getCharacterData().hashMapFeatSelections.containsKey_11rb$(r)) { var n = t.getCharacterData().hashMapFeatSelections.get_11rb$(r), s = o(t.hashMapFeatChoices[e - 1 | 0]).get_11rb$(r); this.activateFeat_qe0g1p$(t, e, s, r, n) } } for (a = t.getCharacterData().listUserBonusFeats.iterator(); a.hasNext();) { var l = a.next(); this.activateAndAddFreeFeat_ubuv6q$(t, !0, "FREE FEAT" + l.featID, l.featID, se().FEATS_CLASS, l.level) } }, $u.prototype.getListEligibleFeats_oknxu0$ = function (t, e, i, a, r) { var n, o; if (null == (n = t.getFeatChoice_19mbxw$(a, i))) return u(); var s = n; if (s.ignorePrerequisites) return w(r.values); var l = this.isLegalDedication_k1ysgf$(t, e, i, s, a), c = u(); for (o = r.keys.iterator(); o.hasNext();) { var p = o.next(), h = r.get_11rb$(p); null != h && this.featPrereq.abstractCheck_4jy1nw$(t, e, s, i, a, p, h, l) && c.add_11rb$(h) } return c }, $u.prototype.isLegalDedication_k1ysgf$ = function (t, e, i, a, r) { var n; if (t.getCharacterData().hashMapFeatSelections.containsKey_11rb$(i)) { if (null == (n = t.getCharacterData().hashMapFeatSelections.get_11rb$(i))) return !1; var o = n, s = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(o); if (null != s) { var l = null != s.getTraits(); if (l && (l = _(s.getTraits().toLowerCase(), "dedication")), l) return this.featPrereq.abstractCheck_4jy1nw$(t, e, a, i, r, o, s, !0) } } return !1 }, $u.prototype.getFeatsOfType_e726qm$ = function (t, i, a, r, n, s) { var l, p, h, u, f, $, g; if (m(a, se().FEATS_ARCHETYPE)) return this.getRulebookFilteredFeatList_0(t, Au().getArchetypeFeats_tsbagi$(this.dataControl, t, i, n, s)); if (this.hashMapFeatsByCategory.containsKey_11rb$(a)) { if (m(a, se().FEATS_SKILL) || m(a, se().FEATS_GENERAL)) { var v = c(); return v.putAll_a2k3zr$(o(this.hashMapFeatsByCategory.get_11rb$(a))), v.putAll_a2k3zr$(this.getAdditionalSkillFeats_0(t, i, n, s)), this.getRulebookFilteredFeatList_0(t, v) } return null == (l = this.hashMapFeatsByCategory.get_11rb$(a)) ? c() : this.getRulebookFilteredFeatList_0(t, l) } if (m(a, se().FEATS_CLASS)) { var S = t.getClassTemplate(), C = c(); if (null != n) { var E, A = this.hashMapFeatsByCategory, b = S.getClassFeatReference_61zpoe$(n); C.putAll_a2k3zr$(o((e.isType(E = A, y) ? E : d()).get_11rb$(b))) } return r && C.putAll_a2k3zr$(Au().getArchetypeFeats_tsbagi$(this.dataControl, t, i, n, s)), this.getRulebookFilteredFeatList_0(t, C) } if (m(a, se().FEATS_ANCESTRY)) { var I = this.dataControl.managerAncestry.getAncestryTemplate_5btbp7$(t), w = c(); for (w.putAll_a2k3zr$(o(this.hashMapFeatsByCategory.get_11rb$(I.ancestryFeatReference))), p = t.hashMapAdditionalAncestries.values.iterator(); p.hasNext();) { var L = p.next(); if (s >= L.level && this.dataControl.managerAncestry.hashMapAncestries.containsKey_11rb$(L.valueRef)) { var T = this.dataControl.managerAncestry.hashMapAncestries.get_11rb$(L.valueRef); w.putAll_a2k3zr$(o(this.hashMapFeatsByCategory.get_11rb$(o(T).ancestryFeatReference))) } } if (Lq().hasFeatByLevel_w0akbr$(t, n, s, Su().HERITAGE_HALF_ELF)) { var k = this.dataControl.managerAncestry.hashMapAncestries.get_11rb$(De().ANCESTRY_ELF); if (w.putAll_a2k3zr$(o(this.hashMapFeatsByCategory.get_11rb$(o(k).ancestryFeatReference))), !m(t.getCharacterData().getAncestry(), pi().ANCESTRY_HUMAN)) for (h = o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_ANCESTRY_HUMAN)).keys.iterator(); h.hasNext();) { var R = h.next(), P = o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_ANCESTRY_HUMAN)).get_11rb$(R); _(o(P).getTraits(), "Half-Elf") && w.put_xwzc9p$(R, P) } } else if (Lq().hasFeatByLevel_w0akbr$(t, n, s, Su().HERITAGE_HALF_ORC) && (w.putAll_a2k3zr$(o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_ANCESTRY_ORC))), !m(t.getCharacterData().getAncestry(), pi().ANCESTRY_HUMAN))) for (u = o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_ANCESTRY_HUMAN)).keys.iterator(); u.hasNext();) { var M = u.next(), N = o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_ANCESTRY_HUMAN)).get_11rb$(M); _(o(N).getTraits(), "Orc") && w.put_xwzc9p$(M, N) } for (w.putAll_a2k3zr$(o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_ANCESTRY_GENERAL))), f = t.listVersatileHeritageFeats.iterator(); f.hasNext();) { var D = f.next(), x = D.id; w.put_xwzc9p$(x, D) } return this.getRulebookFilteredFeatList_0(t, w) } if (m(a, se().FEATS_HERITAGE)) { var z = this.dataControl.managerAncestry.getAncestryTemplate_5btbp7$(t), O = c(); if (O.putAll_a2k3zr$(o(this.hashMapFeatsByCategory.get_11rb$(z.ancestryHeritageReference))), t.getCharacterData().isAllowHalfHeritages() && !m(t.getCharacterData().getAncestry(), pi().ANCESTRY_HUMAN)) { var F = o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_HERITAGE_HUMAN)).get_11rb$(Su().HERITAGE_HALF_ELF); if (null != F) { var B = Su().HERITAGE_HALF_ELF, j = F; O.put_xwzc9p$(B, j) } if (null != (F = o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_HERITAGE_HUMAN)).get_11rb$(Su().HERITAGE_HALF_ORC))) { var H = Su().HERITAGE_HALF_ORC, q = F; O.put_xwzc9p$(H, q) } } for ($ = o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_HERITAGE_VERSATILE)).values.iterator(); $.hasNext();) { var U = $.next(); if (Ic().isEnabled_kc4y8q$(t.getCharacterData(), U.src)) { var G = U.id; O.put_xwzc9p$(G, U) } } return this.getRulebookFilteredFeatList_0(t, O) } if (m(a, se().FEATS_SUMMONER_EVOLUTION)) { var W = c(); for (g = o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_SUMMONER)).values.iterator(); g.hasNext();) { var Y = g.next(); _(Y.getTraits(), "Evolution") && W.put_xwzc9p$(Y.id, Y) } return this.getRulebookFilteredFeatList_0(t, W) } return c() }, $u.prototype.getFeatsFromList_mhpeer$ = function (t) { var e, i = c(); for (e = t.iterator(); e.hasNext();) { var a = e.next(), r = this.getFeatInformation_pdl1vj$(a); null != r && i.put_xwzc9p$(a, r) } return i }, $u.prototype.getFeatsOfType_xmn46k$ = function (t, e, i, a, r, n, s) { var l, p = c(), h = this.getFeatsOfType_e726qm$(t, e, i, a, r, n); for (l = h.keys.iterator(); l.hasNext();) { var d = l.next(), u = h.get_11rb$(d); o(u).level <= s && p.put_xwzc9p$(d, u) } return p }, $u.prototype.getRulebookFilteredFeatList_0 = function (t, i) { var a; if (t.getCharacterData().listDisabledRulebooks.isEmpty()) return i; var r = c(); for (a = i.keys.iterator(); a.hasNext();) { var n = a.next(), l = i.get_11rb$(n); try { Ic().isEnabled_kc4y8q$(t.getCharacterData(), o(l).src) && r.put_xwzc9p$(n, l) } catch (t) { if (!e.isType(t, h)) throw t; s(t) } } return r }, $u.prototype.getDedicationMulticlassFeats_5btbp7$ = function (t) { var e, i, a = c(); for (e = Au().DEDICATION_MULTICLASS_FEATS, i = 0; i !== e.length; ++i) { var r = e[i]; if (!_(r, t.getCharacterData().getClassName()) && null != this.hashMapFAllFeats.get_11rb$(r)) { var n = this.hashMapFAllFeats.get_11rb$(r); a.put_xwzc9p$(r, n) } } return a }, Object.defineProperty($u.prototype, "allDedicationFeats", { configurable: !0, get: function () { var t, e = c(); for (t = o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_ARCHETYPE)).values.iterator(); t.hasNext();) { var i = t.next(); if (_(i.getTraits().toLowerCase(), "dedication")) { var a = i.id; e.put_xwzc9p$(a, i) } } return e } }), $u.prototype.getAdditionalSkillFeats_0 = function (t, e, i, a) { return Au().getArchetypeSkillFeats_tsbagi$(this.dataControl, t, e, i, a) }, $u.prototype.activateFeatFoundAtAnyLevel_cyt1w7$ = function (t, i) { var a; for (a = w(t.getCharacterData().hashMapFeatSelections.keys).iterator(); a.hasNext();) { var r = a.next(), n = t.getCharacterData().hashMapFeatSelections.get_11rb$(r); if (m(n, i)) { var l = t.getFeatChoiceWithoutLevel_61zpoe$(r); try { this.activateFeat_qe0g1p$(t, o(l).level, l, r, i), this.dataControl.getGuiUpdateControl().addExtraFeatRefreshLevel_hdt6c$(t, l.level) } catch (t) { if (!e.isType(t, at)) throw t; s(t) } } } }, $u.prototype.deactivateExistingAndActivateNewFeat_x04vjk$ = function (t, e, i, a) { var r = t.getFeatChoice_19mbxw$(e, o(i)); if (null != r) { this.deactivateFeat_8fzv80$(t, e, r, i); var n = t.getCharacterData().hashMapFeatSelections, s = a.id; n.put_xwzc9p$(i, s), this.activateFeat_qe0g1p$(t, e, r, i, a.id) } this.dataControl.managerProficiencies.checkValidSelectedSkills_vy76y1$(t, e), this.resetArmorWeaponFeats_vy76y1$(t, e) }, $u.prototype.deactivateFeatFoundAtAnyLevel_cyt1w7$ = function (t, i) { var a; for (a = w(t.getCharacterData().hashMapFeatSelections.keys).iterator(); a.hasNext();) { var r = a.next(), n = t.getCharacterData().hashMapFeatSelections.get_11rb$(r); if (null != n && m(n, i)) { var c = t.getFeatChoiceWithoutLevel_61zpoe$(r); try { this.deactivateFeat_8fzv80$(t, o(c).level, c, r), this.dataControl.getGuiUpdateControl().addExtraFeatRefreshLevel_hdt6c$(t, c.level) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } } }, $u.prototype.activateAllFeatsWithTraits_3dve88$ = function (t, i, a, r) { for (var n, s = r; s <= 20; s++)for (n = o(i.getFeatChoicesAtLevel_za3lpa$(s)).keys.iterator(); n.hasNext();) { var l = n.next(); if (i.getCharacterData().hashMapFeatSelections.containsKey_11rb$(l)) { var c, p = i.getCharacterData().hashMapFeatSelections.get_11rb$(l), h = this.hashMapFAllFeats, u = (e.isType(c = h, y) ? c : d()).get_11rb$(p); if (null != u && _(u.getTraits().toLowerCase(), a)) { var f, m = o(i.getFeatChoicesAtLevel_za3lpa$(s)).get_11rb$(l), $ = this.featEffectMethods.hashMapFeatEffects; if ((e.isType(f = $, y) ? f : d()).containsKey_11rb$(p)) { var g, v = this.featEffectMethods.hashMapFeatEffects; o((e.isType(g = v, y) ? g : d()).get_11rb$(p)).activateFeat_ow0n35$(this.dataControl, i, t, s, l, m) } } } } }, $u.prototype.deactivateAllFeatsOfType_o7aqax$ = function (t, e, i) { for (var a, r = i; r <= 20; r++)for (a = o(t.getFeatChoicesAtLevel_za3lpa$(r)).keys.iterator(); a.hasNext();) { var n = a.next(), s = o(t.getFeatChoicesAtLevel_za3lpa$(r)).get_11rb$(n); m(o(s).featType, e) && this.deactivateFeat_8fzv80$(t, i, s, n) } }, $u.prototype.activateAllFeatsOfType_o7aqax$ = function (t, e, i) { for (var a, r = i; r <= 20; r++)for (a = o(t.getFeatChoicesAtLevel_za3lpa$(r)).keys.iterator(); a.hasNext();) { var n = a.next(), s = o(t.getFeatChoicesAtLevel_za3lpa$(r)).get_11rb$(n); if (m(o(s).featType, e) && t.getCharacterData().hashMapFeatSelections.containsKey_11rb$(n)) { var l = t.getCharacterData().hashMapFeatSelections.get_11rb$(n); this.activateFeat_qe0g1p$(t, i, s, n, l) } } }, $u.prototype.refreshClassArchetypeFeat_ryqv3o$ = function (t, e) { if (null != e.getCharacterData().getClassArchetype()) { var i = e.getFeatChoice_19mbxw$(1, "Class Archetype"), a = e.getCharacterData().hashMapFeatSelections.get_11rb$("Class Archetype"); null != i && null != a && this.featEffectMethods.hashMapFeatEffects.containsKey_11rb$(a) && (t ? o(this.featEffectMethods.hashMapFeatEffects.get_11rb$(a)).activateFeat_ow0n35$(this.dataControl, e, !0, 1, "Class Archetype", i) : o(this.featEffectMethods.hashMapFeatEffects.get_11rb$(a)).activateFeat_ow0n35$(this.dataControl, e, !1, 1, "Class Archetype", i)) } }, $u.prototype.deactivateFeat_8fzv80$ = function (t, i, a, r) { var n; if (null != a) { for (n = a.hashMapChildFeatChoices.keys.iterator(); n.hasNext();) { var s = n.next(), l = a.hashMapChildFeatChoices.get_11rb$(s); this.deactivateFeat_8fzv80$(t, i, l, s) } var c, p = t.getCharacterData().hashMapFeatSelections; if ((e.isType(c = p, y) ? c : d()).containsKey_11rb$(r)) { var h, u, _ = t.getCharacterData().hashMapFeatSelections, f = (e.isType(h = _, y) ? h : d()).get_11rb$(r), m = this.featEffectMethods.hashMapFeatEffects; if ((e.isType(u = m, y) ? u : d()).containsKey_11rb$(f)) { var $, g = this.featEffectMethods.hashMapFeatEffects; o((e.isType($ = g, y) ? $ : d()).get_11rb$(f)).activateFeat_ow0n35$(this.dataControl, t, !1, i, o(r), a) } var v, S = this.hashMapFAllFeats, C = (e.isType(v = S, y) ? v : d()).get_11rb$(f); if (null != C && null != C.copiedID) { var E, A = this.featEffectMethods.hashMapFeatEffects, b = C.copiedID; if ((e.isType(E = A, y) ? E : d()).containsKey_11rb$(b)) { var I, w = this.featEffectMethods.hashMapFeatEffects, L = C.copiedID; o((e.isType(I = w, y) ? I : d()).get_11rb$(L)).activateFeat_ow0n35$(this.dataControl, t, !1, i, o(r), a) } } } var T, k = t.getCharacterData().hashMapFeatSelections; (e.isType(T = k, rt) ? T : d()).remove_11rb$(r) } }, $u.prototype.activateFeat_qe0g1p$ = function (t, i, a, r, n) { var s, l, c = this.featEffectMethods.hashMapFeatEffects; if ((e.isType(l = c, y) ? l : d()).containsKey_11rb$(n)) { var p, h = this.featEffectMethods.hashMapFeatEffects; o((e.isType(p = h, y) ? p : d()).get_11rb$(n)).activateFeat_ow0n35$(this.dataControl, t, !0, i, o(r), a) } for (s = o(a).hashMapChildFeatChoices.keys.iterator(); s.hasNext();) { var u, _ = s.next(), f = t.getCharacterData().hashMapFeatSelections; if ((e.isType(u = f, y) ? u : d()).containsKey_11rb$(_)) { var m, $ = t.getCharacterData().hashMapFeatSelections, g = (e.isType(m = $, y) ? m : d()).get_11rb$(_), v = a.hashMapChildFeatChoices.get_11rb$(_); this.activateFeat_qe0g1p$(t, i, v, _, g) } } if (null != n) { var S = this.hashMapFAllFeats.get_11rb$(n); if (null != S && null != S.copiedID) { var C, E = this.featEffectMethods.hashMapFeatEffects, A = S.copiedID; if ((e.isType(C = E, y) ? C : d()).containsKey_11rb$(A)) { var b, I = this.featEffectMethods.hashMapFeatEffects, w = S.copiedID; o((e.isType(b = I, y) ? b : d()).get_11rb$(w)).activateFeat_ow0n35$(this.dataControl, t, !0, i, o(r), a) } } } }, $u.prototype.getHashMapFeats_61zpoe$ = function (t) { return this.hashMapFeatsByCategory.containsKey_11rb$(t) ? this.hashMapFeatsByCategory.get_11rb$(t) : c() }, $u.prototype.resetArmorWeaponFeats_vy76y1$ = function (t, i) { for (var a, r, n = i; n <= 20; n++) { var c = t.getFeatChoicesAtLevel_za3lpa$(n); for (a = o(c).keys.iterator(); a.hasNext();) { var p = a.next(), h = c.get_11rb$(p); if (t.getCharacterData().hashMapFeatSelections.containsKey_11rb$(p)) { var d = t.getCharacterData().hashMapFeatSelections.get_11rb$(p); (m(d, "GENERAL_Armor Proficiency") || m(d, "GENERAL_Weapon Proficiency")) && (o(this.featEffectMethods.hashMapFeatEffects.get_11rb$(d)).activateFeat_ow0n35$(this.dataControl, t, !1, o(h).level, p, h), o(this.featEffectMethods.hashMapFeatEffects.get_11rb$(d)).activateFeat_ow0n35$(this.dataControl, t, !0, h.level, p, h), m(d, "GENERAL_Weapon Proficiency") && this.dataControl.getGuiUpdateControl().addExtraFeatRefreshLevel_hdt6c$(t, n)) } this.refreshArmorWeaponFeatsInChild_0(t, h) } try { if (t.hashMapFreeFeats.containsKey_11rb$(n)) for (r = o(t.hashMapFreeFeats.get_11rb$(n)).keys.iterator(); r.hasNext();) { var u = r.next(), _ = o(t.hashMapFreeFeats.get_11rb$(n)).get_11rb$(u); (m(o(_).featID, "GENERAL_Armor Proficiency") || m(_.featID, "GENERAL_Weapon Proficiency")) && (o(this.featEffectMethods.hashMapFeatEffects.get_11rb$(_.featID)).activateFeat_ow0n35$(this.dataControl, t, !1, _.level, u, null), o(this.featEffectMethods.hashMapFeatEffects.get_11rb$(_.featID)).activateFeat_ow0n35$(this.dataControl, t, !0, _.level, u, null)) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } }, $u.prototype.refreshArmorWeaponFeatsInChild_0 = function (t, i) { var a; for (a = o(i).hashMapChildFeatChoices.keys.iterator(); a.hasNext();) { var r, n = a.next(), s = i.hashMapChildFeatChoices.get_11rb$(n), l = t.getCharacterData().hashMapFeatSelections; if ((e.isType(r = l, y) ? r : d()).containsKey_11rb$(n)) { var c, p = t.getCharacterData().hashMapFeatSelections, h = (e.isType(c = p, y) ? c : d()).get_11rb$(n); (m(h, "GENERAL_Armor Proficiency") || m(h, "GENERAL_Weapon Proficiency")) && (o(this.featEffectMethods.hashMapFeatEffects.get_11rb$(h)).activateFeat_ow0n35$(this.dataControl, t, !1, o(s).level, o(n), s), o(this.featEffectMethods.hashMapFeatEffects.get_11rb$(h)).activateFeat_ow0n35$(this.dataControl, t, !0, s.level, n, s)) } this.refreshArmorWeaponFeatsInChild_0(t, s) } }, $u.prototype.addFreeArchetypeFeats_ryqv3o$ = function (t, e) { if (t) for (var i = 2; i <= 20;) { var a = "Free Archetype " + i, r = Nu(se().FEATS_ARCHETYPE, i, "Free Archetype"); e.getCharacterData().isIgnoreFreeArcheAbilityReq() && (r.ignoreAbilityRequirements = !0), o(e.hashMapFeatChoices[i - 1 | 0]).put_xwzc9p$(a, r), i = i + 2 | 0 } else for (var n = 2; n <= 20; n++) { var s = "Free Archetype " + n, l = e.getFeatChoice_19mbxw$(n, s); null != l && (this.deactivateFeat_8fzv80$(e, n, l, s), o(e.hashMapFeatChoices[n - 1 | 0]).remove_11rb$(s)) } }, $u.prototype.setFreeArchetypeFeatsUnrestricted_ryqv3o$ = function (t, e) { for (var i = 2; i <= 20;) { var a = "Free Archetype " + i, r = o(e.hashMapFeatChoices[i - 1 | 0]).get_11rb$(a); null != r && (r.allowDedication = t), i = i + 2 | 0 } }, $u.prototype.setFreeArchetypeFeatsNoAbilityCheck_ryqv3o$ = function (t, e) { for (var i = 2; i <= 20;) { var a = "Free Archetype " + i, r = o(e.hashMapFeatChoices[i - 1 | 0]).get_11rb$(a); null != r && (r.ignoreAbilityRequirements = t), i = i + 2 | 0 } }, $u.prototype.addClassArchetypeFeatChoice_ryqv3o$ = function (t, e) { var i = Mu(se().FEATS_CLASS_ARCHETYPE, 1); re().addFeatChoice_afybq0$(t, this.dataControl, e, "Class Archetype", i) }, gu.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var vu = null; function Su() { return null === vu && new gu, vu } function Cu() { Eu = this, this.DEDICATION_FIGHTER = "ARCHETYPE_Fighter Dedication", this.DEDICATION_ROGUE = "ARCHETYPE_Rogue Dedication", this.DEDICATION_WIZARD = "ARCHETYPE_Wizard Dedication", this.DEDICATION_CLERIC = "ARCHETYPE_Cleric Dedication", this.DEDICATION_ALCHEMIST = "ARCHETYPE_Alchemist Dedication", this.DEDICATION_BARBARIAN = "ARCHETYPE_Barbarian Dedication", this.DEDICATION_BARD = "ARCHETYPE_Bard Dedication", this.DEDICATION_DRUID = "ARCHETYPE_Druid Dedication", this.DEDICATION_MONK = "ARCHETYPE_Monk Dedication", this.DEDICATION_CHAMPION = "ARCHETYPE_Champion Dedication", this.DEDICATION_RANGER = "ARCHETYPE_Ranger Dedication", this.DEDICATION_SORCERER = "ARCHETYPE_Sorcerer Dedication", this.DEDICATION_ORACLE = "ARCHETYPE_ORACLE_Oracle Dedication", this.DEDICATION_WITCH = "ARCHETYPE_WITCH_Witch Dedication", this.DEDICATION_INVESTIGATOR = "ARCHETYPE_INVESTIGATOR_Investigator Dedication", this.DEDICATION_SWASHBUCKLER = "ARCHETYPE_SWASHBUCKLER_Swashbuckler Dedication", this.DEDICATION_MAGUS = "ARCHETYPE_Magus Dedication", this.DEDICATION_SUMMONER = "ARCHETYPE_Summoner Dedication", this.DEDICATION_INVENTOR = "ARCHETYPE_Inventor Dedication", this.DEDICATION_GUNSLINGER = "ARCHETYPE_Gunslinger Dedication", this.DEDICATION_MULTICLASS_FEATS = [this.DEDICATION_FIGHTER, this.DEDICATION_ROGUE, this.DEDICATION_WIZARD, this.DEDICATION_CLERIC, this.DEDICATION_ALCHEMIST, this.DEDICATION_BARBARIAN, this.DEDICATION_BARD, this.DEDICATION_DRUID, this.DEDICATION_MONK, this.DEDICATION_CHAMPION, this.DEDICATION_RANGER, this.DEDICATION_SORCERER, this.DEDICATION_ORACLE, this.DEDICATION_WITCH, this.DEDICATION_SWASHBUCKLER, this.DEDICATION_INVESTIGATOR, this.DEDICATION_MAGUS, this.DEDICATION_SUMMONER, this.DEDICATION_INVENTOR, this.DEDICATION_GUNSLINGER], this.HASHMAP_CLASS_TO_CLASS_DEDICATIONS = g([$(Rr().CLASS_FIGHTER, this.DEDICATION_FIGHTER), $($n().CLASS_ROGUE, this.DEDICATION_ROGUE), $(Gn().CLASS_WIZARD, this.DEDICATION_WIZARD), $(Sr().CLASS_CLERIC, this.DEDICATION_CLERIC), $(er().CLASS_ALCHEMIST, this.DEDICATION_ALCHEMIST), $(or().CLASS_BARBARIAN, this.DEDICATION_BARBARIAN), $(hr().CLASS_BARD, this.DEDICATION_BARD), $(Ir().CLASS_DRUID, this.DEDICATION_DRUID), $(an().CLASS_MONK, this.DEDICATION_MONK), $(yr().CLASS_CHAMPION, this.DEDICATION_CHAMPION), $(un().CLASS_RANGER, this.DEDICATION_RANGER), $(En().CLASS_SORCERER, this.DEDICATION_SORCERER), $(ln().CLASS_NAME, this.DEDICATION_ORACLE), $(Bn().CLASS_NAME, this.DEDICATION_WITCH), $(Mn().CLASS_NAME, this.DEDICATION_SWASHBUCKLER), $(Wr().CLASS_NAME, this.DEDICATION_INVESTIGATOR), $(Jr().CLASS_NAME, this.DEDICATION_MAGUS), $(Ln().CLASS_NAME, this.DEDICATION_SUMMONER), $(jr().CLASS_NAME, this.DEDICATION_INVENTOR), $(xr().CLASS_NAME, this.DEDICATION_GUNSLINGER)]) } $u.prototype.loadArchetypeDupedFeats_0 = function () { var t, e; for (t = Lu().LIST_ARCHETYPE_DUPED_FEATS, e = 0; e !== t.length; ++e) { var i = t[e], a = this.hashMapFAllFeats.get_11rb$(i.originalFeatID); if (null != a) { var r = Eq(a, i), n = this.hashMapFAllFeats, s = i.newFeatID; n.put_xwzc9p$(s, r); var l = o(this.hashMapFeatsByCategory.get_11rb$(se().FEATS_ARCHETYPE)), c = i.newFeatID; l.put_xwzc9p$(c, r) } else this.dataControl.getGuiUpdateControl().logError_nwzcgj$(null, "ERROR LOADING DUPED FEAT " + i.newFeatID) } }, $u.$metadata$ = { kind: p, simpleName: "ManagerFeats", interfaces: [W0] }, Cu.prototype.getArchetypeFeats_tsbagi$ = function (t, e, i, a, r) { var n, s, l = c(), p = w(i.hashMapDedicationFeats.keys); for (p.addAll_brywnq$(i.hashMapDedicationFeatsUnrestrictedChannel.keys), n = o(t.managerFeats.getHashMapFeats_61zpoe$(se().FEATS_ARCHETYPE)).values.iterator(); n.hasNext();) { var h = n.next(); if (_(h.getTraits().toLowerCase(), "dedication")) { var d = h.id; l.put_xwzc9p$(d, h) } else { var u = _(h.getTraits().toLowerCase(), "archetype"); if (u && (u = !_(h.getTraits().toLowerCase(), "skill")), u) for (s = p.iterator(); s.hasNext();) { var f = s.next(); if (h.hasRequiredFeat_61zpoe$(f)) { var y = h.id; l.put_xwzc9p$(y, h) } } } } return l }, Cu.prototype.getArchetypeSkillFeats_tsbagi$ = function (t, e, i, a, r) { var n, s, l = c(), p = w(i.hashMapDedicationFeats.keys); for (p.addAll_brywnq$(i.hashMapDedicationFeatsUnrestrictedChannel.keys), n = o(t.managerFeats.getHashMapFeats_61zpoe$(se().FEATS_ARCHETYPE)).values.iterator(); n.hasNext();) { var h = n.next(), d = _(h.getTraits().toLowerCase(), "archetype"); if (d && (d = _(h.getTraits().toLowerCase(), "skill")), d) for (s = p.iterator(); s.hasNext();) { var u = s.next(); if (h.hasRequiredFeat_61zpoe$(u)) { var f = h.id; l.put_xwzc9p$(f, h) } } } return l }, Cu.prototype.isSameDedicationAsClass_o7np2w$ = function (t, e) { var i = this.HASHMAP_CLASS_TO_CLASS_DEDICATIONS.get_11rb$(t.getCharacterData().getClassName()); return !(null == i || !m(i, e)) }, Cu.$metadata$ = { kind: f, simpleName: "ArchetypeFeatLogic", interfaces: [] }; var Eu = null; function Au() { return null === Eu && new Cu, Eu } function bu() { wu = this, this.GROUP_DUELING_PARRY_0 = nt(["SWASHBUCKLER_Dueling Parry (Swashbuckler)", "ARCHETYPE_DUELIST_Dueling Parry", "FIGHTER_Dueling Parry"]), this.GROUP_DUELING_RIPOSE_0 = nt(["ARCHETYPE_DUELIST_Dueling Riposte", "FIGHTER_Dueling Riposte"]), this.GROUP_DOUBLE_SHOT_0 = nt(["FIGHTER_Double Shot", "ARCHETYPE_Double Shot"]), this.GROUP_TRIPLE_SHOT_0 = nt(["FIGHTER_Triple Shot", "ARCHETYPE_Triple Shot"]), this.GROUP_POISON_WEAPON_0 = nt(["ARCHETYPE_Poison Weapon", "ROGUE_Poison Weapon", "ARCHETYPE_POISONER_Poison Weapon", "ARCHETYPE_DROW SHOOTIST_Poison Weapon"]), this.GROUP_IMPROVED_POISON_WEAPON_0 = nt(["ARCHETYPE_Improved Poison Weapon", "ROGUE_Improved Poison Weapon", "ARCHETYPE_POISONER_Improved Poison Weapon"]), this.GROUP_MERCY_0 = nt(["CHAMPION_Mercy", "ARCHETYPE_BLESSED ONE_Mercy"]), this.GROUP_TWIN_PARRY_0 = nt(["ARCHETYPE_DUAL-WEAPON WARRIOR_Twin Parry", "FIGHTER_Twin Parry", "SWASHBUCKLER_Twin Parry", "RANGER_Twin Parry"]), this.GROUP_TWIN_RIPOSTE_0 = nt(["ARCHETYPE_DUAL-WEAPON WARRIOR_Twin Riposte", "FIGHTER_Twin Riposte", "RANGER_Twin Riposte"]), this.GROUP_TWIN_ENHANCED_FAMILIAR_0 = nt(["ARCHETYPE_FAMILIAR MASTER_Enhanced Familiar", "WIZARD_Enhanced Familiar", "SORCERER_Enhanced Familiar", "WITCH_Enhanced Familiar", "DRUID_Enhanced Familiar", "ARCHETYPE_Elementalist Enhanced Familiar", "ARCHETYPE_SHADOWCASTER_Enhanced Familiar"]), this.GROUP_KNOCKDOWN_0 = nt(["ARCHETYPE_MAULER_Knockdown", "FIGHTER_Knockdown"]), this.GROUP_SACRIFICE_ARMOR_0 = nt(["ARCHETYPE_SENTINEL_Sacrifice Armor", "CHAMPION_Sacrifice Armor"]), this.GROUP_REACTIVE_SHIELD_0 = nt(["ARCHETYPE_VIKING_Reactive Shield", "FIGHTER_Reactive Shield"]), this.GROUP_BARRELING_CHARGE_0 = nt(["FIGHTER_Barreling Charge", "BARBARIAN_Barreling Charge"]), this.GROUP_SHIELD_WARDEN_0 = nt(["CHAMPION_Shield Warden", "FIGHTER_Shield Warden", "ARCHETYPE_Shield Warden"]), this.GROUP_SHADOW_MAGIC_0 = nt(["ARCHETYPE_SHADOWDANCER_Shadow Magic", "ARCHETYPE_SHADOWCASTER_Shadow Magic"]), this.GROUP_POWER_ATTACK_0 = nt(["FIGHTER_Power Attack", "ARCHETYPE_MAULER_Power Attack"]), this.GROUP_MAGICAL_TRICKSTER_0 = nt(["ROGUE_Magical Trickster", "ROGUE_Magical Trickster Eldritch Trickster"]), this.DUPED_FEAT_GROUPS = g([$("Dueling Parry", this.GROUP_DUELING_PARRY_0), $("Dueling Riposte", this.GROUP_DUELING_RIPOSE_0), $("Double Shot", this.GROUP_DOUBLE_SHOT_0), $("Triple Shot", this.GROUP_TRIPLE_SHOT_0), $("Improved Poison Weapon", this.GROUP_IMPROVED_POISON_WEAPON_0), $("Poison Weapon", this.GROUP_POISON_WEAPON_0), $("Mercy", this.GROUP_MERCY_0), $("Twin Parry", this.GROUP_TWIN_PARRY_0), $("Twin Riposte", this.GROUP_TWIN_RIPOSTE_0), $("Enhanced Familiar", this.GROUP_TWIN_ENHANCED_FAMILIAR_0), $("Knockdown", this.GROUP_KNOCKDOWN_0), $("Sacrifice Armor", this.GROUP_SACRIFICE_ARMOR_0), $("Reactive Shield", this.GROUP_REACTIVE_SHIELD_0), $("Barreling Charge", this.GROUP_BARRELING_CHARGE_0), $("Shield Warden", this.GROUP_SHIELD_WARDEN_0), $("Shadow Magic", this.GROUP_SHADOW_MAGIC_0), $("Power Attack", this.GROUP_POWER_ATTACK_0), $("Magical Trickster", this.GROUP_MAGICAL_TRICKSTER_0)]), this.DED_WRESTLER_0 = "ARCHETYPE_Wrestler Dedication", this.DED_BULLET_DANCER_0 = "ARCHETYPE_Bullet Dancer Dedication", this.PREFIX_BULLET_DANCER_0 = "ARCHETYPE_BULLET_DANCER_", this.DED_DEMOLITIONIST_0 = "ARCHETYPE_Demolitionist Dedication", this.PREFIX_DEMOLITIONIST_0 = "ARCHETYPE_DEMOLITIONIST_", this.DED_PISTOL_PHENOM_0 = "ARCHETYPE_Pistol Phenom Dedication", this.PREFIX_PISTOL_PHENOM_0 = "ARCHETYPE_PISTOL_PHENOM_", this.DED_SNIPING_DUO_0 = "ARCHETYPE_Sniping Duo Dedication", this.PREFIX_SNIPING_DUO_0 = "ARCHETYPE_SNIPING_DUO_", this.DED_UNEXPECTED_SHARPSHOOTER_0 = "ARCHETYPE_Unexpected Sharpshooter Dedication", this.PREFIX_UNEXPECTED_SHARPSHOOTER_0 = "ARCHETYPE_UNEXPECTED_SHARPSHOOTER_", this.DED_GAME_HUNTER_0 = "ARCHETYPE_GAME HUNTER_Game Hunter Dedication", this.PREFIX_GAME_HUNTER_0 = "ARCHETYPE_GAME HUNTER_", this.LIST_ARCHETYPE_DUPED_FEATS = [new Iu("GUNSLINGER_Hit the Dirt!", this.PREFIX_UNEXPECTED_SHARPSHOOTER_0 + "Hit the Dirt!", 4, this.DED_UNEXPECTED_SHARPSHOOTER_0), new Iu("GUNSLINGER_Risky Reload", this.PREFIX_UNEXPECTED_SHARPSHOOTER_0 + "Risky Reload", 4, this.DED_UNEXPECTED_SHARPSHOOTER_0), new Iu("GUNSLINGER_Trick Shot", this.PREFIX_UNEXPECTED_SHARPSHOOTER_0 + "Trick Shot", 12, this.DED_UNEXPECTED_SHARPSHOOTER_0), new Iu("FIGHTER_Assisting Shot", this.PREFIX_SNIPING_DUO_0 + "Assisting Shot", 4, this.DED_SNIPING_DUO_0), new Iu("GUNSLINGER_Cover Fire", this.PREFIX_SNIPING_DUO_0 + "Cover Fire", 4, this.DED_SNIPING_DUO_0), new Iu("GUNSLINGER_Deflecting Shot", this.PREFIX_SNIPING_DUO_0 + "Deflecting Shot", 12, this.DED_SNIPING_DUO_0), new Iu("GUNSLINGER_Redirecting Shot", this.PREFIX_SNIPING_DUO_0 + "Redirecting Shot", 12, this.DED_SNIPING_DUO_0), new Iu("GUNSLINGER_Sword and Pistol", this.PREFIX_PISTOL_PHENOM_0 + "Sword and Pistol", 4, this.DED_PISTOL_PHENOM_0), new Iu("GUNSLINGER_Trick Shot", this.PREFIX_PISTOL_PHENOM_0 + "Trick Shot", 12, this.DED_PISTOL_PHENOM_0), new Iu("GUNSLINGER_Showstopper", this.PREFIX_PISTOL_PHENOM_0 + "Showstopper", 16, this.DED_PISTOL_PHENOM_0), new Iu("ALCHEMIST_Demolition Charge", this.PREFIX_DEMOLITIONIST_0 + "Demolition Charge", 4, this.DED_DEMOLITIONIST_0), new Iu("ALCHEMIST_Calculated Splash", this.PREFIX_DEMOLITIONIST_0 + "Calculated Splash", 6, this.DED_DEMOLITIONIST_0), new Iu("ALCHEMIST_Directional Bombs", this.PREFIX_DEMOLITIONIST_0 + "Directional Bombs", 8, this.DED_DEMOLITIONIST_0), new Iu("ALCHEMIST_Expanded Splash", this.PREFIX_DEMOLITIONIST_0 + "Expanded Splash", 12, this.DED_DEMOLITIONIST_0), new Iu("FIGHTER_Combat Grab", "ARCHETYPE_WRESTLER_Combat Grab", 4, this.DED_WRESTLER_0), new Iu("MONK_Crushing Grab", "ARCHETYPE_WRESTLER_Crushing Grab", 4, this.DED_WRESTLER_0), new Iu("FIGHTER_Snagging Strike", "ARCHETYPE_WRESTLER_Snagging Strike", 4, this.DED_WRESTLER_0), new Iu("MONK_Whirling Throw", "ARCHETYPE_WRESTLER_Whirling Throw", 8, this.DED_WRESTLER_0), new Iu("MONK_Brawling Focus", this.PREFIX_BULLET_DANCER_0 + "Brawling Focus", 4, this.DED_BULLET_DANCER_0), new Iu("GUNSLINGER_Pistol Twirl", this.PREFIX_BULLET_DANCER_0 + "GUNSLINGER_Pistol Twirl", 4, this.DED_BULLET_DANCER_0), new Iu("GUNSLINGER_Black Powder Boost", this.PREFIX_BULLET_DANCER_0 + "Black Powder Boost", 6, this.DED_BULLET_DANCER_0), new Iu("RANGER_Snap Shot", this.PREFIX_BULLET_DANCER_0 + "Snap Shot", 8, this.DED_BULLET_DANCER_0), new Iu("GUNSLINGER_Trick Shot", this.PREFIX_BULLET_DANCER_0 + "Trick Shot", 12, this.DED_BULLET_DANCER_0), new Iu("GUNSLINGER_Ricochet Shot", this.PREFIX_BULLET_DANCER_0 + "Ricochet Shot", 14, this.DED_BULLET_DANCER_0), new Iu("GUNSLINGER_Showstopper", this.PREFIX_BULLET_DANCER_0 + "Showstopper", 16, this.DED_BULLET_DANCER_0), new Iu("GUNSLINGER_Two-Weapon Fusillade", this.PREFIX_BULLET_DANCER_0 + "Two-Weapon Fusillade", 16, this.DED_BULLET_DANCER_0), new Iu("RANGER_Hunter's Aim", this.PREFIX_GAME_HUNTER_0 + "Hunter's Aim", 6, this.DED_GAME_HUNTER_0), new Iu("RANGER_Running Reload", this.PREFIX_GAME_HUNTER_0 + "Running Reload", 8, this.DED_GAME_HUNTER_0), new Iu("RANGER_Double Prey", this.PREFIX_GAME_HUNTER_0 + "Double Prey", 14, this.DED_GAME_HUNTER_0)] } function Iu(t, e, i, a) { this.originalFeatID = t, this.newFeatID = e, this.newFeatLevel = i, this.archetypeDedicationID = a } Iu.$metadata$ = { kind: p, simpleName: "DupedFeat", interfaces: [] }, bu.$metadata$ = { kind: f, simpleName: "DupedFeats", interfaces: [] }; var wu = null; function Lu() { return null === wu && new bu, wu } function Tu(t, e) { this.featID = t, this.level = e } function ku() { this.hashMapChildFeatChoices = c(), this.listFeatIDs = u(), this.ignorePrerequisites = !1, this.ignoreLevelRequirement = !1, this.ignoreAbilityRequirements = !1, this.maxLevel = 20, this.custom = !1, this.specificHeader = null, this.combinedClass = !1, this.allowDedication = !1, this.featsOnTheFlyGenerator = null } function Ru(t) { return qu(t = t || Object.create(ku.prototype)), ku.call(t), t } function Pu(t, e) { return qu(e = e || Object.create(ku.prototype)), ku.call(e), e.featType = t.featType, e.level = t.level, e } function Mu(t, e, i) { return qu(i = i || Object.create(ku.prototype)), ku.call(i), i.featType = o(t), i.level = e, i } function Nu(t, e, i, a) { return qu(a = a || Object.create(ku.prototype)), ku.call(a), a.featType = o(t), a.level = e, a.specificHeader = i, a } function Du() { Ou(), this.featType = se().FEATS_GENERAL, this.level = 1 } function xu() { zu = this } Tu.$metadata$ = { kind: p, simpleName: "EffectiveFeat", interfaces: [] }, ku.prototype.getListFeatIDs_rllpxe$ = function (t, e, i) { return null != this.featsOnTheFlyGenerator ? o(this.featsOnTheFlyGenerator).generateList_rci9f8$(t, e, this.level, i) : this.listFeatIDs }, ku.$metadata$ = { kind: p, simpleName: "FeatChoice", interfaces: [Du] }, xu.prototype.serializer = function () { return ju() }, xu.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var zu = null; function Ou() { return null === zu && new xu, zu } function Fu() { this.descriptor_dygkki$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerfeats.FeatChoiceSavable", this, 2), this.descriptor.addElement_ivxn3r$("featType", !0), this.descriptor.addElement_ivxn3r$("level", !0), Bu = this } Object.defineProperty(Fu.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_dygkki$_0 } }), Fu.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.featType, se().FEATS_GENERAL) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeStringElement_iij8qq$(this.descriptor, 0, e.featType), m(e.level, 1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeIntElement_ptg7oe$(this.descriptor, 1, e.level), i.endStructure_24f42q$(this.descriptor) }, Fu.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r = 0, n = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = n.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = n.decodeStringElement_szpzho$(this.descriptor, 0), r |= 1; break; case 1: a = n.decodeIntElement_szpzho$(this.descriptor, 1), r |= 2; break; case -1: break t; default: throw new O(e) }return n.endStructure_24f42q$(this.descriptor), Hu(r, i, a, null) }, Fu.prototype.childSerializers = function () { return [M.StringSerializer, M.IntSerializer] }, Fu.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var Bu = null; function ju() { return null === Bu && new Fu, Bu } function Hu(t, e, i, a) { var r = a || Object.create(Du.prototype); return r.featType = 0 == (1 & t) ? se().FEATS_GENERAL : e, r.level = 0 == (2 & t) ? 1 : i, r } function qu(t) { return t = t || Object.create(Du.prototype), Du.call(t), t } function Uu(t, e, i) { return i = i || Object.create(Du.prototype), Du.call(i), i.featType = t, i.level = e, i } function Gu() { } function Wu(t) { W0.call(this, t), this.hashMapFeatEffects = c(), this.setFeatEffects_0() } function Yu() { C_ = this } function Vu() { Gu.call(this) } function Ku() { Gu.call(this) } function Xu(t, e, i, a, r) { this.closure$characterBuild = t, this.closure$featRef = e, this.closure$activate = i, this.closure$level = a, this.closure$dataControl = r } function Ju() { Gu.call(this) } function Zu(t) { this.closure$featRef = t } function Qu() { Gu.call(this) } function t_() { Gu.call(this) } function e_() { Gu.call(this) } function i_(t) { this.closure$featRef = t } function a_() { Gu.call(this) } function r_(t) { this.closure$featRef = t } function n_() { Gu.call(this) } function o_() { Gu.call(this) } function s_(t, e) { this.closure$featRef = t, this.closure$option = e } function l_() { Gu.call(this) } function c_() { Gu.call(this) } function p_() { Gu.call(this) } function h_() { Gu.call(this) } function d_() { Gu.call(this) } function u_(t) { this.closure$featRef = t } function __() { Gu.call(this) } function f_(t) { this.closure$featRef = t } function y_() { Gu.call(this) } function m_(t) { this.closure$featRef = t } function $_() { Gu.call(this) } function g_(t) { this.closure$featRef = t } function v_() { Gu.call(this) } function S_(t) { this.closure$specialInformationRef = t } Du.$metadata$ = { kind: p, simpleName: "FeatChoiceSavable", interfaces: [] }, Gu.$metadata$ = { kind: p, simpleName: "FeatEffect", interfaces: [] }, Wu.prototype.setFeatEffects_0 = function () { E_().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), mF().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), HB().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), jF().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), FO().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), cO().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), AH().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), QF().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), mq().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), zB().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), lF().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), cH().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), iH().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), dj().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Dj().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), nq().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Cj().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), UH().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Q_().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), fv().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), dg().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Cm().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Um().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), x$().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Z$().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Ag().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), nS().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), vS().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), fC().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), qE().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), V_().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Ty().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), jy().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), em().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), wE().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), gy().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Uv().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), NS().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), pC().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), iE().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), py().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), pf().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), a$().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), _$().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Lv().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), bC().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), xC().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), ey().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), QA().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), DR().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), tD().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), ox().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Hk().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), bT().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), GT().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), ak().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), _R().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), bN().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Pk().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), UN().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), gD().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Jk().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), _N().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), tM().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), wD().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), oD().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), dP().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), DP().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), iR().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), NT().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), zN().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), zD().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), VD().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), yw().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Fw().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Qw().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), lL().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), EL().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), PL().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), FL().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), oT().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), yT().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), gP().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), bR().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), hb().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Cb().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Bb().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Xb().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), rI().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), $I().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Sk().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Uz().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Cz().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), aO().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Zx().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), nz().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), pz().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Iz().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), kI().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), DI().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), FI().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), sj().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Of().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), XB().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), YP().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), Mx().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), qI().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), KS().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), XR().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), _x().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), qx().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), fk().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects), AI().setFeatEffectMethods_3o6ljp$(this.hashMapFeatEffects) }, Wu.$metadata$ = { kind: p, simpleName: "FeatEffectMethods", interfaces: [W0] }, Vu.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Ancestral Paragon Feat" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_ANCESTRY, 1, o) }, Vu.$metadata$ = { kind: p, interfaces: [Gu] }, Xu.prototype.additionalInfo_61zpoe$ = function (t) { var e = this.closure$characterBuild.getCharacterData().hashMapFeatExtraSelections, i = this.closure$featRef; e.put_xwzc9p$(i, t), re().addAdditionalLoreWithAutomaticIncrease_5q64f9$(this.closure$activate, this.closure$characterBuild, this.closure$level, this.closure$featRef, t), this.closure$dataControl.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(this.closure$characterBuild, this.closure$level), this.closure$dataControl.getGuiUpdateControl().updateFeatText_wothqf$(this.closure$characterBuild, this.closure$level, this.closure$featRef) }, Xu.$metadata$ = { kind: p, interfaces: [v9] }, Ku.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) if (e.getCharacterData().hashMapFeatExtraSelections.containsKey_11rb$(r)) { var s = e.getCharacterData().hashMapFeatExtraSelections.get_11rb$(r); re().addAdditionalLoreWithAutomaticIncrease_5q64f9$(i, e, a, r, o(s)) } else { var l = new Xu(e, r, i, a, t); if (!t.getGuiUpdateControl().getAdditionalInfo_q8jdea$(e, "Select Additional Lore", "", l)) { var c = e.getCharacterData().hashMapFeatExtraSelections, p = se().NOT_SELECTED; c.put_xwzc9p$(r, p) } } else { if (e.getCharacterData().hashMapFeatExtraSelections.containsKey_11rb$(r)) { var h = e.getCharacterData().hashMapFeatExtraSelections.get_11rb$(r); e.getCharacterData().hashMapFeatExtraSelections.remove_11rb$(r), re().addAdditionalLoreWithAutomaticIncrease_5q64f9$(i, e, a, r, o(h)) } t.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(e, a) } }, Ku.$metadata$ = { kind: p, interfaces: [Gu] }, Zu.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapFeatExtraInformation, s = this.closure$featRef, l = o(o(r).name); n.put_xwzc9p$(s, l) } else e.hashMapFeatExtraInformation.remove_11rb$(this.closure$featRef); if (i) { var c = e.hashMapAdditionalAncestries, p = this.closure$featRef, h = new MW(o(o(r).name), a); c.put_xwzc9p$(p, h) } else e.hashMapAdditionalAncestries.remove_11rb$(this.closure$featRef) }, Zu.$metadata$ = { kind: p, interfaces: [xX] }, Ju.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (e.getCharacterData().hashMapSpecialSelections.containsKey_11rb$("Select Adopted Ancestry")) { var l = e.getCharacterData().hashMapSpecialSelections, p = o(e.getCharacterData().hashMapSpecialSelections.get_11rb$("Select Adopted Ancestry")); l.put_xwzc9p$(r, p), e.getCharacterData().hashMapSpecialSelections.remove_11rb$("Select Adopted Ancestry") } if (i) { var h = HX(); h.level = a, h.name = "Adopted Ancestry", h.textDescription = "Choose a <b>common</b> ancestry. You can select ancestry feats from the ancestry you chose, in addition to your character's own ancestry, as long as the ancestry feats don't require any physiological feature that you lack, as determined by the GM."; var d = h.hashMapSpecialChoices, u = c(); for (d.put_xwzc9p$("Select Adopted Ancestry", u), s = t.managerAncestry.hashMapAncestries.keys.iterator(); s.hasNext();) { var f = s.next(), y = t.managerAncestry.hashMapAncestries.get_11rb$(f), m = HX(); m.name = f, m.flags = o(y).traits, m.textDescription = h.textDescription, (_(y.traits, "Uncommon") || _(y.traits, "Rare")) && (m.textDescription = "This ancestry is uncommon or rare and is not eligible for the Adopted Ancestry feat."), m.level = a, m.specialEffect = new Zu(r), o(h.hashMapSpecialChoices.get_11rb$("Select Adopted Ancestry")).put_xwzc9p$(f, m) } o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, h) } else { var $ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != $ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, $), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, Ju.$metadata$ = { kind: p, interfaces: [Gu] }, Qu.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new R2("Caster Arcane Sense", 0, 5, a); e.hashMapSpellCasters.put_xwzc9p$("Caster Arcane Sense", o); var s = o.getSpellSlotReference_vux9f0$(0, 0), l = new S2(0, "Detect Magic", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(s, l) } else { var c = e.hashMapSpellCasters.get_11rb$("Caster Arcane Sense"); if (null != c) { var p = c.getSpellSlotReference_vux9f0$(0, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(p), e.hashMapSpellCasters.remove_11rb$("Caster Arcane Sense") } } re().setProficiencyAtLevel_8d16k4$(i, e, "Caster Arcane Sense", a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, Qu.$metadata$ = { kind: p, interfaces: [Gu] }, t_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = e.getProficiency_61zpoe$(pK().PROFICIENCY_LIGHT_ARMOR), l = e.getProficiency_61zpoe$(pK().PROFICIENCY_MEDIUM_ARMOR), c = e.getProficiency_61zpoe$(pK().PROFICIENCY_HEAVY_ARMOR); i ? o(s).getProficiencyAtLevel_za3lpa$(a) >= 2 ? o(l).getProficiencyAtLevel_za3lpa$(a) >= 2 ? o(c).setProficiencyAtLevel_3m52m6$(r, a, 2) : l.setProficiencyAtLevel_3m52m6$(r, a, 2) : s.setProficiencyAtLevel_3m52m6$(r, a, 2) : (o(s).removeProficiencyAtLevel_61zpoe$(r), o(l).removeProficiencyAtLevel_61zpoe$(r), o(c).removeProficiencyAtLevel_61zpoe$(r)) }, t_.$metadata$ = { kind: p, interfaces: [Gu] }, i_.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapFeatExtraInformation, s = this.closure$featRef, l = o(o(r).name); n.put_xwzc9p$(s, l) } else e.hashMapFeatExtraInformation.remove_11rb$(this.closure$featRef) }, i_.$metadata$ = { kind: p, interfaces: [xX] }, e_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Assurance", l.textDescription = "Even in the worst circumstances, you can perform basic tasks with your skill."; var p = c(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var h = s.next(), d = HX(); d.name = h, d.textDescription = "", d.level = a, d.specialEffect = new i_(r), p.put_xwzc9p$(h, d) } l.hashMapSpecialChoices.put_xwzc9p$("Select Assurance Skill", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, e_.$metadata$ = { kind: p, interfaces: [Gu] }, r_.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapFeatExtraInformation, s = this.closure$featRef, l = o(o(r).name); n.put_xwzc9p$(s, l) } else e.hashMapFeatExtraInformation.remove_11rb$(this.closure$featRef) }, r_.$metadata$ = { kind: p, interfaces: [xX] }, a_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Automatic Knowledge", l.textDescription = "You know basic facts off the top of your head. Choose a skill youre an expert in that has the Recall Knowledge action and for which you have the Assurance feat. You can use the Recall Knowledge action with that skill as a free action once per round. If you do, you must use Assurance on the skill check."; var p = c(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var h = s.next(), d = HX(); d.name = h, d.textDescription = "", d.level = a, d.specialEffect = new r_(r), p.put_xwzc9p$(h, d) } l.hashMapSpecialChoices.put_xwzc9p$("Select Automatic Knowledge Skill", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, a_.$metadata$ = { kind: p, interfaces: [Gu] }, n_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (i) { var p = HX(); p.level = a, p.name = "Consult the Spirits", p.textDescription = "Choose Nature, Occultism, or Religion when you select this feat."; var h = c(); for (s = [pK().NATURE, pK().OCCULTISM, pK().RELIGION], l = 0; l !== s.length; ++l) { var d = s[l], u = HX(); u.name = d, u.textDescription = p.textDescription, u.level = a, h.put_xwzc9p$(d, u) } p.hashMapSpecialChoices.put_xwzc9p$("Select Consult the Spirits Skill", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, p) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, n_.$metadata$ = { kind: p, interfaces: [Gu] }, s_.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapFeatExtraInformation, s = this.closure$featRef, l = o(o(r).name); n.put_xwzc9p$(s, l) } else e.hashMapFeatExtraInformation.remove_11rb$(this.closure$featRef); re().setProficiencyAtLevel_8d16k4$(i, e, "GENERAL_Canny Acument a", a, this.closure$option, 4); var c = 17; a > c && (c = a), re().setProficiencyAtLevel_8d16k4$(i, e, "GENERAL_Canny Acument b", c, this.closure$option, 6) }, s_.$metadata$ = { kind: p, interfaces: [xX] }, o_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Canny Acumen", l.textDescription = "Choose Fortitude saves, Reflex saves, Will saves, or Perception. You become an expert in your choice. At 17th level, you become a master in your choice."; var p = c(), h = [pK().PROFICIENCY_FORTITUDE, pK().PROFICIENCY_REFLEX, pK().PROFICIENCY_WILL, pK().PROFICIENCY_PERCEPTION]; for (s = 0; s !== h.length; ++s) { var d = h[s], u = HX(); u.name = d, u.textDescription = "You become an expert in your choice. At 17th level, you become a master in your choice.", u.level = a, u.specialEffect = new s_(r, d), p.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Acumen", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, o_.$metadata$ = { kind: p, interfaces: [Gu] }, l_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, BW(a, 5)) }, l_.$metadata$ = { kind: p, interfaces: [Gu] }, c_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addMaxBulkIncreaseItem_sfpo92$(i, e, r, DW(a, 2)) }, c_.$metadata$ = { kind: p, interfaces: [Gu] }, p_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addInitiativeIncreaseItem_sfpo92$(i, e, r, xW(a, 2, se().BONUS_TYPE_NAME_CIRCUMSTANCE)) }, p_.$metadata$ = { kind: p, interfaces: [Gu] }, h_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addInvestmentIncreaseItem_sfpo92$(i, e, r, DW(a, 2)) }, h_.$metadata$ = { kind: p, interfaces: [Gu] }, u_.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapFeatExtraInformation, s = this.closure$featRef, l = o(o(r).name); n.put_xwzc9p$(s, l) } else e.hashMapFeatExtraInformation.remove_11rb$(this.closure$featRef); var c = e.getSkillProficiency_61zpoe$(o(o(r).name)); i ? o(c).setProficiencyAtLevel_3m52m6$("Skill Training Feat", a, 2) : o(c).removeProficiencyAtLevel_61zpoe$("Skill Training Feat"), t.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(e, a) }, u_.$metadata$ = { kind: p, interfaces: [xX] }, d_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Skill Training", l.textDescription = "You become trained in the skill of your choice."; var p = c(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var h = s.next(), d = e.getSkillProficiency_61zpoe$(h); if (0 === o(d).getProficiencyAtLevel_za3lpa$(a)) { var u = HX(); u.name = h, u.textDescription = "", u.level = 1, u.specialEffect = new u_(r), p.put_xwzc9p$(h, u) } } l.hashMapSpecialChoices.put_xwzc9p$("Select Skill", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, d_.$metadata$ = { kind: p, interfaces: [Gu] }, f_.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapFeatExtraInformation, s = this.closure$featRef, l = o(o(r).name); n.put_xwzc9p$(s, l) } else e.hashMapFeatExtraInformation.remove_11rb$(this.closure$featRef) }, f_.$metadata$ = { kind: p, interfaces: [xX] }, __.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Terrain Stalker", l.textDescription = "Select one type of difficult terrain from the following list: rubble, snow, or underbrush."; var p = c(), h = ["Rubble", "Snow", "Underbrush"]; for (s = 0; s !== h.length; ++s) { var d = h[s], u = HX(); u.name = d, u.textDescription = "While undetected by all non-allies in that type of terrain, you can Sneak without attempting a Stealth check as long as you move no more than 5 feet and do not move within 10 feet of an enemy at any point during your movement.", u.level = a, l.specialEffect = new f_(r), p.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Terrain", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, __.$metadata$ = { kind: p, interfaces: [Gu] }, m_.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapFeatExtraInformation, s = this.closure$featRef, l = o(o(r).name); n.put_xwzc9p$(s, l) } else e.hashMapFeatExtraInformation.remove_11rb$(this.closure$featRef) }, m_.$metadata$ = { kind: p, interfaces: [xX] }, y_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Wilderness Spotter", l.textDescription = "Select one type of terrain from the following list: aquatic, arctic, desert, forest, mountain, plains, sky, swamp, or underground"; var p = c(), h = ["Aquatic", "Arctic", "Desert", "Forest", "Mountain", "Plains", "Sky", "Swamp", "Underground"]; for (s = 0; s !== h.length; ++s) { var d = h[s], u = HX(); u.name = d, u.textDescription = "You can use Survival in place of Perception to roll initiative when in the selected terrain in a natural location (not a structure) even if you werent tracking or otherwise using Survival before the encounter. You can also use Survival instead of Perception to notice traps in natural locations in the chosen terrain; if you find a snare in this way, you can also use Survival instead of Thievery to Disable the Device.", u.level = a, l.specialEffect = new m_(r), p.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Terrain", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, y_.$metadata$ = { kind: p, interfaces: [Gu] }, g_.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapFeatExtraInformation, s = this.closure$featRef, l = o(o(r).name); n.put_xwzc9p$(s, l) } else e.hashMapFeatExtraInformation.remove_11rb$(this.closure$featRef); re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef, a, o(o(r).name), 2) }, g_.$metadata$ = { kind: p, interfaces: [xX] }, $_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Different Worlds Skill", l.textDescription = "You gain the trained proficiency rank in the Lore skill from the second background you chose."; var p = c(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var h = s.next(); if (_(h, "Lore")) { var d = e.getSkillProficiency_61zpoe$(h); if (0 === o(d).getProficiencyAtLevel_za3lpa$(a)) { var u = HX(); u.name = h, u.textDescription = "", u.level = 1, u.specialEffect = new g_(r), p.put_xwzc9p$(h, u) } } } l.hashMapSpecialChoices.put_xwzc9p$("Select Skill", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var f = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != f && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, f), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, $_.$metadata$ = { kind: p, interfaces: [Gu] }, v_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = e.getProficiency_61zpoe$(pK().PROFICIENCY_SIMPLE_WEAPONS), l = e.getProficiency_61zpoe$(pK().PROFICIENCY_MARTIAL_WEAPONS); i ? o(s).getProficiencyAtLevel_za3lpa$(a) >= 2 ? o(l).getProficiencyAtLevel_za3lpa$(a) >= 2 ? E_().addExoticWeaponChoice_uy1pwk$(t, e, !0, r, a) : l.setProficiencyAtLevel_3m52m6$(r, a, 2) : s.setProficiencyAtLevel_3m52m6$(r, a, 2) : (o(s).removeProficiencyAtLevel_61zpoe$(r), o(l).removeProficiencyAtLevel_61zpoe$(r), E_().addExoticWeaponChoice_uy1pwk$(t, e, !1, r, a)) }, v_.$metadata$ = { kind: p, interfaces: [Gu] }, Yu.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Vu; t.put_xwzc9p$("GENERAL_Ancestral Paragon", e); var i = new Ku; t.put_xwzc9p$("GENERAL_Additional Lore", i); var a = new Ju; t.put_xwzc9p$("GENERAL_Adopted Ancestry", a); var r = new Qu; t.put_xwzc9p$("GENERAL_Arcane Sense", r); var n = new t_; t.put_xwzc9p$("GENERAL_Armor Proficiency", n); var o = new e_; t.put_xwzc9p$("GENERAL_Assurance", o); var s = new a_; t.put_xwzc9p$("GENERAL_Automatic Knowledge", s); var l = new n_; t.put_xwzc9p$("GENERAL_Consult the Spirits", l); var c = new o_; t.put_xwzc9p$("GENERAL_Canny Acumen", c); var p = new l_; t.put_xwzc9p$("GENERAL_Fleet", p); var h = new c_; t.put_xwzc9p$("GENERAL_Hefty Hauler", h); var d = new p_; t.put_xwzc9p$("GENERAL_Incredible Initiative", d); var u = new h_; t.put_xwzc9p$("GENERAL_Incredible Investiture", u); var _ = new d_; t.put_xwzc9p$("GENERAL_Skill Training", _); var f = new __; t.put_xwzc9p$("GENERAL_Terrain Stalker", f); var y = new y_; t.put_xwzc9p$("GENERAL_Wilderness Spotter", y); var m = new $_; t.put_xwzc9p$("GENERAL_Different Worlds", m); var $ = new v_; t.put_xwzc9p$("GENERAL_Weapon Proficiency", $) }, S_.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, this.closure$specialInformationRef, o(r).name, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, this.closure$specialInformationRef, o(r).name), t.getGuiUpdateControl().onWeaponProficiencyChanged_hdt6c$(e, a) }, S_.$metadata$ = { kind: p, interfaces: [xX] }, Yu.prototype.addExoticWeaponChoice_uy1pwk$ = function (t, e, i, a, r) { var n; if (i) { var s = HX(); s.level = r, s.name = "Advanced Weapon Choice", s.textDescription = "You become trained in one advanced weapon of your choice"; var l = c(), p = t.managerWeapons.hashMapExoticWeapons; for (n = p.keys.iterator(); n.hasNext();) { var h = n.next(), d = p.get_11rb$(h), u = qX(o(d).name, r), _ = o(p.get_11rb$(h)).group; t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS).containsKey_11rb$(_) && (u.textDescription = o(t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS).get_11rb$(_)).textDescription), u.specialEffect = new S_(a); var f = o(h); l.put_xwzc9p$(f, u) } s.hashMapSpecialChoices.put_xwzc9p$("Select Advanced Weapon", l); var y = o(e.hashMapSpecialInformation[r - 1 | 0]), m = o(a); y.put_xwzc9p$(m, s) } else { var $ = o(e.hashMapSpecialInformation[r - 1 | 0]).get_11rb$(o(a)); null != $ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, a, $), o(e.hashMapSpecialInformation[r - 1 | 0]).remove_11rb$(a) } }, Yu.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsGeneral", interfaces: [] }; var C_ = null; function E_() { return null === C_ && new Yu, C_ } function A_() { Y_ = this } function b_() { Gu.call(this) } function I_() { Gu.call(this) } function w_() { Gu.call(this) } function L_() { Gu.call(this) } function T_() { Gu.call(this) } function k_() { Gu.call(this) } function R_() { Gu.call(this) } function P_() { Gu.call(this) } function M_() { Gu.call(this) } function N_() { Gu.call(this) } function D_() { Gu.call(this) } function x_() { Gu.call(this) } function z_() { Gu.call(this) } function O_() { Gu.call(this) } function F_() { Gu.call(this) } function B_() { Gu.call(this) } function j_() { Gu.call(this) } function H_() { Gu.call(this) } function q_() { Gu.call(this) } function U_() { Gu.call(this) } function G_() { Gu.call(this) } function W_() { Gu.call(this) } b_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Light"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Halo", 1, 0, a, o, s) }, b_.$metadata$ = { kind: p, interfaces: [Gu] }, I_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Aasimar's Mercy"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 0, 0, 0, 2, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s) } else e.hashMapSpellCasters.get_11rb$(o), e.hashMapSpellCasters.remove_11rb$(o); re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, I_.$metadata$ = { kind: p, interfaces: [Gu] }, w_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Angelic Magic", 1, 5, a, new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Angelic Magic", o); var s = o.getSpellSlotReference_vux9f0$(2, 0), l = new S2(1, "Humanoid Form", 0), c = s, p = l; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p); var h = s = o.getSpellSlotReference_vux9f0$(2, 1), d = l = new S2(1, "Remove Fear", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d) } else { var u = e.hashMapSpellCasters.get_11rb$("Angelic Magic"); if (null != u) { var _ = u.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_), _ = u.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_) } e.hashMapSpellCasters.remove_11rb$("Angelic Magic") } re().setProficiencyAtLevel_8d16k4$(i, e, "Angelic Magic", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, w_.$metadata$ = { kind: p, interfaces: [Gu] }, L_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().DIPLOMACY]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().RELIGION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Celestial Realm") }, L_.$metadata$ = { kind: p, interfaces: [Gu] }, T_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, T_.$metadata$ = { kind: p, interfaces: [Gu] }, k_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().SOCIETY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Multilingual", se().FEATS_GENERAL, a), re().setLineage_51qqyu$(i, e, "AASIMAR_Angelkin") }, k_.$metadata$ = { kind: p, interfaces: [Gu] }, R_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "AASIMAR_Lawbringer") }, R_.$metadata$ = { kind: p, interfaces: [Gu] }, P_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "AASIMAR_Musetouched") }, P_.$metadata$ = { kind: p, interfaces: [Gu] }, M_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Summon Celestial Kin"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 0, 0, 0, 0, 1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(5, 0), c = new S2(1, "Summon Celestial", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(5, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, M_.$metadata$ = { kind: p, interfaces: [Gu] }, N_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addDamageIncreaseItem_dmcalk$(e, i, r, Q0(a, null, 1, se().DAMAGE_TYPE_GOOD, "Celstial Strikes applied")) }, N_.$metadata$ = { kind: p, interfaces: [Gu] }, D_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Celestial Word"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 0, 0, 0, 0, 0, 0, 1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(7, 0), c = new S2(1, "Divine Decree", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(7, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, D_.$metadata$ = { kind: p, interfaces: [Gu] }, x_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Empyreal Blessing"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(1, 0), c = new S2(1, "Bless", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(1, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, x_.$metadata$ = { kind: p, interfaces: [Gu] }, z_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Azata Magic", 1, 5, a, new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Azata Magic", o); var s = o.getSpellSlotReference_vux9f0$(2, 0), l = new S2(1, "Glitterdust", 0), c = s, p = l; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p); var h = s = o.getSpellSlotReference_vux9f0$(2, 1), d = l = new S2(1, "Remove Paralysis", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d) } else { var u = e.hashMapSpellCasters.get_11rb$("Azata Magic"); if (null != u) { var _ = u.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_), _ = u.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_) } e.hashMapSpellCasters.remove_11rb$("Azata Magic") } re().setProficiencyAtLevel_8d16k4$(i, e, "Azata Magic", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, z_.$metadata$ = { kind: p, interfaces: [Gu] }, O_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Archon Magic", 1, 5, a, new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Archon Magic", o); var s = o.getSpellSlotReference_vux9f0$(2, 0), l = new S2(1, "Continual Flame", 0), c = s, p = l; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p); var h = s = o.getSpellSlotReference_vux9f0$(2, 1), d = l = new S2(1, "Shield Other", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d) } else { var u = e.hashMapSpellCasters.get_11rb$("Archon Magic"); if (null != u) { var _ = u.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_), _ = u.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_) } e.hashMapSpellCasters.remove_11rb$("Archon Magic") } re().setProficiencyAtLevel_8d16k4$(i, e, "Archon Magic", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, O_.$metadata$ = { kind: p, interfaces: [Gu] }, F_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Sanctuary"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Tranquil Sanctuary", 1, 1, a, o, s) }, F_.$metadata$ = { kind: p, interfaces: [Gu] }, B_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Glitterdust", "Status"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Peri Magic", 1, 2, a, o, s) }, B_.$metadata$ = { kind: p, interfaces: [Gu] }, j_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Blur", "See Invisibility"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Garuda Magic", 1, 2, a, o, s) }, j_.$metadata$ = { kind: p, interfaces: [Gu] }, H_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Animal Form", "Calm Emotions"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Agathion Magic", 1, 2, a, o, s) }, H_.$metadata$ = { kind: p, interfaces: [Gu] }, q_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Tongues"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Truespeech", 1, 5, a, o, s) }, q_.$metadata$ = { kind: p, interfaces: [Gu] }, U_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, "Call of Elysium", jW(a, 5, 4)) }, U_.$metadata$ = { kind: p, interfaces: [Gu] }, G_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addDamageIncreaseItem_dmcalk$(e, i, r, Q0(a, null, 1, se().DAMAGE_TYPE_LAWFUL, "Enforced Order applied")) }, G_.$metadata$ = { kind: p, interfaces: [Gu] }, W_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().NATURE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Natural Medicine", se().FEATS_GENERAL, a) }, W_.$metadata$ = { kind: p, interfaces: [Gu] }, A_.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new b_; t.put_xwzc9p$("AASIMAR_Halo", e); var i = new I_; t.put_xwzc9p$("AASIMAR_Aasimar's Mercy", i); var a = new w_; t.put_xwzc9p$("AASIMAR_Angelic Magic", a); var r = new L_; t.put_xwzc9p$("AASIMAR_Celestial Lore", r); var n = new T_; t.put_xwzc9p$("AASIMAR_Celestial Eyes", n); var o = new k_; t.put_xwzc9p$("AASIMAR_Angelkin", o); var s = new R_; t.put_xwzc9p$("AASIMAR_Lawbringer", s); var l = new P_; t.put_xwzc9p$("AASIMAR_Musetouched", l); var c = new M_; t.put_xwzc9p$("AASIMAR_Summon Celestial Kin", c); var p = new N_; t.put_xwzc9p$("AASIMAR_Celestial Strikes", p); var h = new D_; t.put_xwzc9p$("AASIMAR_Celestial Word", h); var d = new x_; t.put_xwzc9p$("AASIMAR_Empyreal Blessing", d); var u = new z_; t.put_xwzc9p$("AASIMAR_Azata Magic", u); var _ = new O_; t.put_xwzc9p$("AASIMAR_Archon Magic", _); var f = new F_; t.put_xwzc9p$("AASIMAR_Tranquil Sanctuary", f); var y = new B_; t.put_xwzc9p$("AASIMAR_Peri Magic", y); var m = new j_; t.put_xwzc9p$("AASIMAR_Garuda Magic", m); var $ = new H_; t.put_xwzc9p$("AASIMAR_Agathion Magic", $); var g = new q_; t.put_xwzc9p$("AASIMAR_Truespeech", g); var v = new U_; t.put_xwzc9p$("AASIMAR_Call of Elysium", v); var S = new G_; t.put_xwzc9p$("AASIMAR_Enforced Order", S); var C = new W_; t.put_xwzc9p$("AASIMAR_Idyllkin", C) }, A_.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsAasimar", interfaces: [] }; var Y_ = null; function V_() { return null === Y_ && new A_, Y_ } function K_() { Z_ = this } function X_() { Gu.call(this) } function J_(t) { this.closure$spell = t } J_.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = new k2("Fey Influence", 3, 5, a, new Int32Array([0, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Fey Influence", n); var o = n.getSpellSlotReference_vux9f0$(1, 0), s = new S2(3, this.closure$spell, 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(o, s) } else { var l = e.hashMapSpellCasters.get_11rb$("Fey Influence"); if (null != l) { var c = l.getSpellSlotReference_vux9f0$(1, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(c) } e.hashMapSpellCasters.remove_11rb$("Fey Influence") } re().setProficiencyAtLevel_8d16k4$(i, e, "Fey Influence", a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, J_.$metadata$ = { kind: p, interfaces: [xX] }, X_.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Fey Influence", l.textDescription = "Select a fey influence spell"; var p = ["Grim Tendrils", "Summon Plant or Fungus", "Bane", "Spider Sting"], h = c(); for (s = 0; s !== p.length; ++s) { var d = p[s], u = qX(d, a); u.specialEffect = new J_(d), h.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select fey influence spell", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, X_.$metadata$ = { kind: p, interfaces: [Gu] }, K_.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new X_; t.put_xwzc9p$("ANCESTRY_GENERAL_Fey Influence", e) }, K_.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsAncestryGeneral", interfaces: [] }; var Z_ = null; function Q_() { return null === Z_ && new K_, Z_ } function tf() { cf = this } function ef() { Gu.call(this) } function af() { Gu.call(this) } function rf() { Gu.call(this) } function nf() { Gu.call(this) } function of() { Gu.call(this) } function sf() { Gu.call(this) } function lf() { Gu.call(this) } ef.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Specialty Crafting", se().FEATS_GENERAL, a) }, ef.$metadata$ = { kind: p, interfaces: [Gu] }, af.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().DECEPTION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, af.$metadata$ = { kind: p, interfaces: [Gu] }, rf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().ATHELTICS]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Hefty Hauler", se().FEATS_GENERAL, a) }, rf.$metadata$ = { kind: p, interfaces: [Gu] }, nf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r + "1", a, pK().PROFICIENCY_MARTIAL_WEAPONS, 2), re().setProficiencyAtLevel_8d16k4$(i, e, r + "1", a, pK().PROFICIENCY_SIMPLE_WEAPONS, 2) }, nf.$metadata$ = { kind: p, interfaces: [Gu] }, of.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, of.$metadata$ = { kind: p, interfaces: [Gu] }, sf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().CRAFTING]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().THIEVERY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Android") }, sf.$metadata$ = { kind: p, interfaces: [Gu] }, lf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["True Strike"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Advanced Targeting System", 0, 1, a, o, s) }, lf.$metadata$ = { kind: p, interfaces: [Gu] }, tf.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new ef; t.put_xwzc9p$("ANDROID_Artisan Android", e); var i = new af; t.put_xwzc9p$("ANDROID_Impersonator Android", i); var a = new rf; t.put_xwzc9p$("ANDROID_Laborer Android", a); var r = new nf; t.put_xwzc9p$("ANDROID_Warrior Android", r); var n = new of; t.put_xwzc9p$("ANDROID_Nightvision Adaptation", n); var o = new sf; t.put_xwzc9p$("ANDROID_Android Lore", o); var s = new lf; t.put_xwzc9p$("ANDROID_Advanced Targeting System", s) }, tf.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsAndroid", interfaces: [] }; var cf = null; function pf() { return null === cf && new tf, cf } function hf() { zf = this, this.SPECIAL_MAGICAL_RESISTANCE = "Automaton Magical Resistance", this.CHOICE_MAGICAL_RESISTANCE = "Select Resistance" } function df() { Gu.call(this) } function uf() { Gu.call(this) } function _f() { Gu.call(this) } function ff() { Gu.call(this) } function yf() { Gu.call(this) } function mf() { Gu.call(this) } function $f() { Gu.call(this) } function gf(t) { this.closure$damageType = t } function vf() { Gu.call(this) } function Sf() { Gu.call(this) } function Cf() { Gu.call(this) } function Ef(t, e) { this.closure$featRef = t, this.closure$movementType = e } function Af() { Gu.call(this) } function bf() { Gu.call(this) } function If() { Gu.call(this) } function wf() { } function Lf() { } function Tf() { } function kf() { } function Rf() { } function Pf() { } function Mf() { } function Nf() { } function Df() { } function xf() { } df.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, jW(a, 5, 3)) }, df.$metadata$ = { kind: p, interfaces: [Gu] }, uf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapSpellCasters, s = new R2("Mage Automaton", 0, 5, a); o.put_xwzc9p$("Mage Automaton", s) } else e.hashMapSpellCasters.remove_11rb$("Mage Automaton"); re().setProficiencyAtLevel_8d16k4$(i, e, "Mage Automaton", a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, uf.$metadata$ = { kind: p, interfaces: [Gu] }, _f.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Automaton Aim") }, _f.$metadata$ = { kind: p, interfaces: [Gu] }, ff.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, ff.$metadata$ = { kind: p, interfaces: [Gu] }, yf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().ARCANA]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Automaton") }, yf.$metadata$ = { kind: p, interfaces: [Gu] }, mf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Resist Magic") }, mf.$metadata$ = { kind: p, interfaces: [Gu] }, gf.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addEnergyResistance_8d16k4$(i, e, Of().SPECIAL_MAGICAL_RESISTANCE, a, this.closure$damageType, 5) }, gf.$metadata$ = { kind: p, interfaces: [xX] }, $f.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (i) { var p = qX(Of().SPECIAL_MAGICAL_RESISTANCE, a), h = c(); for (s = [TX().RESISTANCE_COLD, TX().RESISTANCE_ELECTRICITY, TX().RESISTANCE_SONIC], l = 0; l !== s.length; ++l) { var d = s[l], u = qX(d, a); u.specialEffect = new gf(d), h.put_xwzc9p$(d, u) } var _ = p.hashMapSpecialChoices, f = Of().CHOICE_MAGICAL_RESISTANCE; _.put_xwzc9p$(f, h); var y = o(e.hashMapSpecialInformation[a - 1 | 0]), m = Of().SPECIAL_MAGICAL_RESISTANCE; y.put_xwzc9p$(m, p) } else { var $ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(Of().SPECIAL_MAGICAL_RESISTANCE); null != $ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, Of().SPECIAL_MAGICAL_RESISTANCE, $), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(Of().SPECIAL_MAGICAL_RESISTANCE) } }, $f.$metadata$ = { kind: p, interfaces: [Gu] }, vf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Blur", "Invisibility"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Arcane Camouflage", 0, 2, a, o, s) }, vf.$metadata$ = { kind: p, interfaces: [Gu] }, Sf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Core Attunement"; if (i) { var s = new k2(o, 0, 5, a, new Int32Array([0, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s) } else e.hashMapSpellCasters.get_11rb$(o), e.hashMapSpellCasters.remove_11rb$(o); re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, Sf.$metadata$ = { kind: p, interfaces: [Gu] }, Ef.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpeedIncreaseItem_xs3ggp$(i, e, this.closure$featRef, UW(a, 20, 3, this.closure$movementType)) }, Ef.$metadata$ = { kind: p, interfaces: [xX] }, Cf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, p = "Arcane Locomotion"; if (i) { var h = qX(p, a), d = c(); for (s = [4, 2], l = 0; l !== s.length; ++l) { var u = s[l], _ = "Swim"; 2 === u && (_ = "Climb"); var f = qX(_, a); f.specialEffect = new Ef(r, u), d.put_xwzc9p$(_, f) } h.hashMapSpecialChoices.put_xwzc9p$("Select Movement Type", d), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(p, h) } else { var y = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(p); null != y && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, p, y), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(p) } }, Cf.$metadata$ = { kind: p, interfaces: [Gu] }, Af.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Dimension Door"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Astral Blink", 0, 4, a, o, s) }, Af.$metadata$ = { kind: p, interfaces: [Gu] }, bf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = "Lesser Augmentation"; if (i) { Of().setEnhancementEffects_0(t); var l = qX(s, a), c = l.hashMapSpecialChoices, p = Of().getEnhancementSpecials_0(t, 5); c.put_xwzc9p$("Select Augmentation", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(s, l) } else { var h = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(s); null != h && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, s, h), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(s) } }, bf.$metadata$ = { kind: p, interfaces: [Gu] }, If.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = "Greater Augmentation"; if (i) { Of().setEnhancementEffects_0(t); var l = qX(s, a), c = l.hashMapSpecialChoices, p = Of().getEnhancementSpecials_0(t, 13); c.put_xwzc9p$("Select Augmentation", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(s, l) } else { var h = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(s); null != h && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, s, h), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(s) } }, If.$metadata$ = { kind: p, interfaces: [Gu] }, hf.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new df; t.put_xwzc9p$("AUTOMATON_Hunter Automaton", e); var i = new uf; t.put_xwzc9p$("AUTOMATON_Mage Automaton", i); var a = new _f; t.put_xwzc9p$("AUTOMATON_Sharpshooter Automaton", a); var r = new ff; t.put_xwzc9p$("AUTOMATON_Arcane Eye", r); var n = new yf; t.put_xwzc9p$("AUTOMATON_Automaton Lore", n); var o = new mf; t.put_xwzc9p$("AUTOMATON_Arcane Safeguards", o); var s = new $f; t.put_xwzc9p$("AUTOMATON_Magical Resistance", s); var l = new vf; t.put_xwzc9p$("AUTOMATON_Arcane Camouflage", l); var c = new Sf; t.put_xwzc9p$("AUTOMATON_Core Attunement", c); var p = new Cf; t.put_xwzc9p$("AUTOMATON_Arcane Locomotion", p); var h = new Af; t.put_xwzc9p$("AUTOMATON_Astral Blink", h); var d = new bf; t.put_xwzc9p$("AUTOMATON_Lesser Augmentation", d); var u = new If; t.put_xwzc9p$("AUTOMATON_Greater Augmentation", u) }, hf.prototype.getEnhancementSpecials_0 = function (t, e) { var i, a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_AUTOMATON_ENHANCEMENTS), r = c(); for (i = a.keys.iterator(); i.hasNext();) { var n = i.next(), s = a.get_11rb$(n); o(s).level <= e && r.put_xwzc9p$(n, s) } return r }, wf.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = ["See Invisibility"], o = new Int32Array(n.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Arcane Eye", 0, 2, a, n, o) }, wf.$metadata$ = { kind: p, interfaces: [xX] }, Lf.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyExpertOrMaster_cgow6u$(i, e, pK().ARCANA, "E Auto Lore 1", a), re().setProficiencyExpertOrMaster_cgow6u$(i, e, pK().CRAFTING, "E Auto Lore 2", a), re().setLoreExpertOrMaster_cgow6u$(i, e, "Automaton", "E Auto Lore 3", a) }, Lf.$metadata$ = { kind: p, interfaces: [xX] }, Tf.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Reinforced Chassis", a, BK().SPECIALS_UNIVERSAL, "Chassis Deflection") }, Tf.$metadata$ = { kind: p, interfaces: [xX] }, Rf.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = e.hashMapResistances.get_11rb$(Of().SPECIAL_MAGICAL_RESISTANCE); null != n && (i ? (n.halfLevelFrom = 1, n.amount = 1) : (n.halfLevelFrom = 21, n.amount = 5)) }, Rf.$metadata$ = { kind: p, interfaces: [xX] }, Pf.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addEnergyResistance_8d16k4$(i, e, "Automaton Extra Resistance 1", a, TX().RESISTANCE_COLD, 5), re().addEnergyResistance_8d16k4$(i, e, "Automaton Extra Resistance 2", a, TX().RESISTANCE_ELECTRICITY, 5), re().addEnergyResistance_8d16k4$(i, e, "Automaton Extra Resistance 3", a, TX().RESISTANCE_SONIC, 5) }, Pf.$metadata$ = { kind: p, interfaces: [xX] }, kf.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = "Magical Resistance Enhancement"; if (i) { var s = qX(n, a), l = c(), p = qX("Improved Resistance", a); p.textDescription = "Your chosen resistance increases to a value equal to 1 + half your level.", p.specialEffect = new Rf, l.put_xwzc9p$("Improved Resistance", p), (p = qX("Extra Resistances", a)).textDescription = "You gain resistance 5 to the remaining two damage types from the above list.", p.specialEffect = new Pf, l.put_xwzc9p$("Extra Resistances", p), s.hashMapSpecialChoices.put_xwzc9p$("Select Enhancement Type", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(n, s) } else { var h = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(n); null != h && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, n, h), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(n) } }, kf.$metadata$ = { kind: p, interfaces: [xX] }, Mf.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = "Enhanced Core Attunement"; if (i) { var o = new k2(n, 0, 5, a, new Int32Array([0, 0, 0, 0, 0, 1, 1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(n, o) } else e.hashMapSpellCasters.remove_11rb$(n); re().setProficiencyAtLevel_8d16k4$(i, e, n, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, Mf.$metadata$ = { kind: p, interfaces: [xX] }, Nf.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = "Enhanced Lesser Augmentation"; if (i) { var s = qX(n, a), l = s.hashMapSpecialChoices, c = Of().getEnhancementSpecials_0(t, 5); l.put_xwzc9p$("Select Augmentation", c), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(n, s) } else { var p = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(n); null != p && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, n, p), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(n) } }, Nf.$metadata$ = { kind: p, interfaces: [xX] }, xf.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpeedIncreaseItem_xs3ggp$(i, e, "Enhanced Arcane Locomotion", jW(a, 5, 3)) }, xf.$metadata$ = { kind: p, interfaces: [xX] }, Df.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = "Enhanced Arcane Locomotion"; if (i) { var s = qX(n, a), l = c(), p = qX("Increased Land Speed", a); p.textDescription = "increase your land Speed by 5 feet and increase the Speed you chose from this feat increase to be equal to your adjusted land Speed.", p.specialEffect = new xf, l.put_xwzc9p$("Increased Land Speed", p), (p = qX("Improved Climb Speed", a)).textDescription = "Select the option from this feat you haven't chosen yet (climb Speed or swim Speed)", l.put_xwzc9p$("Improved Climb Speed", p), s.hashMapSpecialChoices.put_xwzc9p$("Select Movement Type", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(n, s), (p = qX("Improved Swim Speed", a)).textDescription = "Select the option from this feat you haven't chosen yet (climb Speed or swim Speed)", l.put_xwzc9p$("Improved Swim Speed", p), s.hashMapSpecialChoices.put_xwzc9p$("Select Movement Type", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(n, s) } else { var h = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(n); null != r && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, n, h), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(n) } }, Df.$metadata$ = { kind: p, interfaces: [xX] }, hf.prototype.setEnhancementEffects_0 = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_AUTOMATON_ENHANCEMENTS); o(e.get_11rb$("Arcane Eye")).specialEffect = new wf, o(e.get_11rb$("Automaton Lore")).specialEffect = new Lf, o(e.get_11rb$("Reinforced Chassis")).specialEffect = new Tf, o(e.get_11rb$("Magical Resistance")).specialEffect = new kf, o(e.get_11rb$("Core Attunement")).specialEffect = new Mf, o(e.get_11rb$("Lesser Augmentation")).specialEffect = new Nf, o(e.get_11rb$("Arcane Locomotion")).specialEffect = new Df }, hf.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsAutomaton", interfaces: [] }; var zf = null; function Of() { return null === zf && new hf, zf } function Ff() { ty = this, this.weapons_0 = ["Crossbow", "Hand Crossbow", "Longspear", "Spear", "Trident"] } function Bf() { Gu.call(this) } function jf() { Gu.call(this) } function Hf() { Gu.call(this) } function qf() { Gu.call(this) } function Uf() { Gu.call(this) } function Gf() { Gu.call(this) } function Wf() { Gu.call(this) } function Yf() { Gu.call(this) } function Vf() { Gu.call(this) } function Kf() { Gu.call(this) } function Xf() { Gu.call(this) } function Jf() { Gu.call(this) } function Zf() { Gu.call(this) } function Qf() { Gu.call(this) } Bf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_COLD, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, Bf.$metadata$ = { kind: p, interfaces: [Gu] }, jf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, jf.$metadata$ = { kind: p, interfaces: [Gu] }, Hf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r + "1", UW(a, 5, 3, 0)), re().addSpeedIncreaseItem_xs3ggp$(i, e, r + "2", UW(a, -15, 3, 4)) }, Hf.$metadata$ = { kind: p, interfaces: [Gu] }, qf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "a", "GENERAL_Underwater Marauder", se().FEATS_GENERAL, a) }, qf.$metadata$ = { kind: p, interfaces: [Gu] }, Uf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addLoreAndTrained_k5t0i3$(i, t, e, a, r + "a", "Alghollthu"), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r + "b", "Lost Empire") }, Uf.$metadata$ = { kind: p, interfaces: [Gu] }, Gf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().SURVIVAL, 2) }, Gf.$metadata$ = { kind: p, interfaces: [Gu] }, Wf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Create Water"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Water Conjuration", 3, 1, a, o, s) }, Wf.$metadata$ = { kind: p, interfaces: [Gu] }, Yf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, Yf.$metadata$ = { kind: p, interfaces: [Gu] }, Vf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Purify Food and Drink"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Azarketi Purification", 3, 1, a, o, s) }, Vf.$metadata$ = { kind: p, interfaces: [Gu] }, Kf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Volcanic Eruption"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Underwater Volcano", 3, 7, a, o, s) }, Kf.$metadata$ = { kind: p, interfaces: [Gu] }, Xf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c; for (s = ey().weapons_0, l = 0; l !== s.length; ++l) { var p = s[l]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, r, p, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, r, p) } for (c = t.managerWeapons.hashMapWeapons.values.iterator(); c.hasNext();) { var h = c.next(); _(o(h.weaponTraits).toLowerCase(), "azarketi") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, h, r + h.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, h.name, r + h.name)) } }, Xf.$metadata$ = { kind: p, interfaces: [Gu] }, Jf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ey().weapons_0, "azarketi") }, Jf.$metadata$ = { kind: p, interfaces: [Gu] }, Zf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Aboleth Transmutation"; if (i) { var s = new k2(o, 0, 5, a, new Int32Array([0, 0, 1, 1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(2, 0), c = new S2(0, "Water Breathing", 0), p = l, h = c; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(p, h); var d = l = s.getSpellSlotReference_vux9f0$(3, 0), u = c = new S2(0, "Feet to Fins", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u) } else { var _ = e.hashMapSpellCasters.get_11rb$(o); if (null != _) { var f = _.getSpellSlotReference_vux9f0$(3, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(f), f = _.getSpellSlotReference_vux9f0$(2, 0), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(f), e.hashMapSpellCasters.remove_11rb$(o) } } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, Zf.$metadata$ = { kind: p, interfaces: [Gu] }, Qf.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().ATHELTICS]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().NATURE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Azarketi") }, Qf.$metadata$ = { kind: p, interfaces: [Gu] }, Ff.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Bf; t.put_xwzc9p$("AZERKETI_Benthic Azarketi", e); var i = new jf; t.put_xwzc9p$("AZERKETI_Ancient Scale Azarketi", i); var a = new Hf; t.put_xwzc9p$("AZERKETI_Mistbreath Azarketi", a); var r = new qf; t.put_xwzc9p$("AZERKETI_Thalassic Azarketi", r); var n = new Uf; t.put_xwzc9p$("AZARKETI_Ancestral Insight", n); var o = new Gf; t.put_xwzc9p$("AZARKETI_Pelagic Aptitude", o); var s = new Wf; t.put_xwzc9p$("AZARKETI_Water Conjuration", s); var l = new Yf; t.put_xwzc9p$("AZARKETI_Marine Ally", l); var c = new Vf; t.put_xwzc9p$("AZARKETI_Azarketi Purification", c); var p = new Kf; t.put_xwzc9p$("AZARKETI_Underwater Volcano", p); var h = new Xf; t.put_xwzc9p$("AZARKETI_Azarketi Weapon Familiarity", h); var d = new Jf; t.put_xwzc9p$("AZARKETI_Azarketi Weapon Expertise", d); var u = new Zf; t.put_xwzc9p$("AZARKETI_Aboleth Transmutation", u); var _ = new Qf; t.put_xwzc9p$("AZARKETI_Azarketi Lore", _) }, Ff.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsAzarketi", interfaces: [] }; var ty = null; function ey() { return null === ty && new Ff, ty } function iy() { cy = this } function ay() { Gu.call(this) } function ry() { Gu.call(this) } function ny() { Gu.call(this) } function oy() { Gu.call(this) } function sy() { Gu.call(this) } function ly() { Gu.call(this) } ay.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Animal Senses", l.textDescription = "You gain one of the following senses available to your inherent animal: darkvision, low-light vision, or scent (imprecise) 30 feet. You must have low-light vision before you can gain darkvision with this feat. If your inherent animal doesn't typically have a specific type of sense, you can't gain that sense with this feat."; var p = ["Darkvision", "Low-Light Vision", "Scent (imprecise) 30 feet"], h = c(); for (s = 0; s !== p.length; ++s) { var d = p[s], u = qX(d, a); u.textDescription = l.textDescription, h.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Animal Sense", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, ay.$metadata$ = { kind: p, interfaces: [Gu] }, ry.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Greater Animal Senses", l.textDescription = "Your senses advance to match those of your animal aspect. You gain one of the following senses available to your inherent animal: echolocation (imprecise) 30 feet or tremorsense (imprecise) 30 feet. If your inherent animal doesn't typically have a specific type of sense, you can't gain the sense with this feat."; var p = ["Echolocation (imprecise) 30 feet", "Tremorsense (imprecise) 30 feet"], h = c(); for (s = 0; s !== p.length; ++s) { var d = p[s], u = qX(d, a); u.textDescription = l.textDescription, h.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Greater Animal Sense", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, ry.$metadata$ = { kind: p, interfaces: [Gu] }, ny.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Pest Form"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Critter Shape", 3, 1, a, o, s) }, ny.$metadata$ = { kind: p, interfaces: [Gu] }, oy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Animal Messenger", "Calm Emotions", "Speak with Animals"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Animal Magic", 3, 1, a, o, s) }, oy.$metadata$ = { kind: p, interfaces: [Gu] }, sy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Moon Frenzy"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Gift of the Moon", 3, 5, a, o, s) }, sy.$metadata$ = { kind: p, interfaces: [Gu] }, ly.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, BW(a, 5)) }, ly.$metadata$ = { kind: p, interfaces: [Gu] }, iy.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new ay; t.put_xwzc9p$("VERSATILE_Animal Senses", e); var i = new ry; t.put_xwzc9p$("VERSATILE_Greater Animal Senses", i); var a = new ny; t.put_xwzc9p$("VERSATILE_Critter Shape", a); var r = new oy; t.put_xwzc9p$("VERSATILE_Animal Magic", r); var n = new sy; t.put_xwzc9p$("VERSATILE_Gift of the Moon", n); var o = new ly; t.put_xwzc9p$("VERSATILE_Animal Swiftness", o) }, iy.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsBeastkin", interfaces: [] }; var cy = null; function py() { return null === cy && new iy, cy } function hy() { $y = this } function dy() { Gu.call(this) } function uy() { Gu.call(this) } function _y() { Gu.call(this) } function fy() { Gu.call(this) } function yy() { Gu.call(this) } function my() { Gu.call(this) } dy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().DIPLOMACY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Hobnobber", se().FEATS_GENERAL, a) }, dy.$metadata$ = { kind: p, interfaces: [Gu] }, uy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().ACROBATICS]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Catfolk") }, uy.$metadata$ = { kind: p, interfaces: [Gu] }, _y.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c = ["Hatchet", "Kukri", "Kama", "Scimitar", "Sickle"]; for (s = 0; s !== c.length; ++s) { var p = c[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, r, p, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, r, p) } for (l = t.managerWeapons.hashMapWeapons.values.iterator(); l.hasNext();) { var h = l.next(); _(o(h.weaponTraits).toLowerCase(), "catfolk") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, h, r + h.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, h.name, r + h.name)) } }, _y.$metadata$ = { kind: p, interfaces: [Gu] }, fy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Hatchet", "Kama", "Scimitar", "Sickle"], "Catfolk") }, fy.$metadata$ = { kind: p, interfaces: [Gu] }, yy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Detect Magic"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Liminal Catfolk", 2, 0, a, o, s) }, yy.$metadata$ = { kind: p, interfaces: [Gu] }, my.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Imprecise Scent") }, my.$metadata$ = { kind: p, interfaces: [Gu] }, hy.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new dy; t.put_xwzc9p$("CATFOLK_Well-Met Traveler", e); var i = new uy; t.put_xwzc9p$("CATFOLK_Catfolk Lore", i); var a = new _y; t.put_xwzc9p$("CATFOLK_Catfolk Weapon Familiarity", a); var r = new fy; t.put_xwzc9p$("CATFOLK_Catfolk Weapon Expertise", r); var n = new yy; t.put_xwzc9p$("CATFOLK_Liminal Catfolk", n); var o = new my; t.put_xwzc9p$("CATFOLK_Hunting Catfolk", o) }, hy.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsCatfolk", interfaces: [] }; var $y = null; function gy() { return null === $y && new hy, $y } function vy() { Ly = this } function Sy() { Gu.call(this) } function Cy() { Gu.call(this) } function Ey() { Gu.call(this) } function Ay() { Gu.call(this) } function by() { Gu.call(this) } function Iy() { Gu.call(this) } function wy() { Gu.call(this) } Sy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "CHANGELING_Callow May"), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Charming Liar", se().FEATS_GENERAL, a) }, Sy.$metadata$ = { kind: p, interfaces: [Gu] }, Cy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "CHANGELING_Dream May") }, Cy.$metadata$ = { kind: p, interfaces: [Gu] }, Ey.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "CHANGELING_Slag May") }, Ey.$metadata$ = { kind: p, interfaces: [Gu] }, Ay.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "CHANGELING_Brine May") }, Ay.$metadata$ = { kind: p, interfaces: [Gu] }, by.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().DECEPTION]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().OCCULTISM]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Hag") }, by.$metadata$ = { kind: p, interfaces: [Gu] }, Iy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, Iy.$metadata$ = { kind: p, interfaces: [Gu] }, wy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Hag Magic", 2, 5, a, new Int32Array([0, 0, 0, 0, 1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Hag Magic", o) } else e.hashMapSpellCasters.get_11rb$("Hag Magic"), e.hashMapSpellCasters.remove_11rb$("Hag Magic"); re().setProficiencyAtLevel_8d16k4$(i, e, "Hag Magic", a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, wy.$metadata$ = { kind: p, interfaces: [Gu] }, vy.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Sy; t.put_xwzc9p$("CHANGELING_Callow May", e); var i = new Cy; t.put_xwzc9p$("CHANGELING_Dream May", i); var a = new Ey; t.put_xwzc9p$("CHANGELING_Slag May", a); var r = new Ay; t.put_xwzc9p$("CHANGELING_Brine May", r); var n = new by; t.put_xwzc9p$("CHANGELING_Changeling Lore", n); var o = new Iy; t.put_xwzc9p$("CHANGELING_Hag's Sight", o); var s = new wy; t.put_xwzc9p$("CHANGELING_Hag Magic", s) }, vy.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsChangeling", interfaces: [] }; var Ly = null; function Ty() { return null === Ly && new vy, Ly } function ky() { By = this } function Ry() { Gu.call(this) } function Py() { Gu.call(this) } function My() { Gu.call(this) } function Ny() { Gu.call(this) } function Dy() { Gu.call(this) } function xy() { Gu.call(this) } function zy() { Gu.call(this) } function Oy() { Gu.call(this) } function Fy() { Gu.call(this) } Ry.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "DHAMPIR_Svetocher"); var o = MK(r + "a", 1, T([pK().DIPLOMACY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o) }, Ry.$metadata$ = { kind: p, interfaces: [Gu] }, Py.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "DHAMPIR_Straveika") }, Py.$metadata$ = { kind: p, interfaces: [Gu] }, My.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().RELIGION]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().SOCIETY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Vampire") }, My.$metadata$ = { kind: p, interfaces: [Gu] }, Ny.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, Ny.$metadata$ = { kind: p, interfaces: [Gu] }, Dy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Enthralling Allure"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(1, 0), c = new S2(0, "Charm", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(1, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, Dy.$metadata$ = { kind: p, interfaces: [Gu] }, xy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Night Magic", 1, 5, a, new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Night Magic", o); var s = o.getSpellSlotReference_vux9f0$(2, 0), l = new S2(0, "Animal Form", 0), c = s, p = l; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p); var h = s = o.getSpellSlotReference_vux9f0$(2, 1), d = l = new S2(0, "Obscuring Mist", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d) } else { var u = e.hashMapSpellCasters.get_11rb$("Night Magic"); if (null != u) { var _ = u.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_), _ = u.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_) } e.hashMapSpellCasters.remove_11rb$("Night Magic") } re().setProficiencyAtLevel_8d16k4$(i, e, "Night Magic", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, xy.$metadata$ = { kind: p, interfaces: [Gu] }, zy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Symphony of Blood"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 0, 0, 0, 0, 0, 0, 1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(7, 0), c = new S2(1, "Vampiric Exsanguination", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(7, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, zy.$metadata$ = { kind: p, interfaces: [Gu] }, Oy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), s = MK(r + "a", 1, o, o, a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o, o, a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s) }, Oy.$metadata$ = { kind: p, interfaces: [Gu] }, Fy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().SOCIETY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Eye for Numbers", se().FEATS_GENERAL, a) }, Fy.$metadata$ = { kind: p, interfaces: [Gu] }, ky.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Ry; t.put_xwzc9p$("DHAMPIR_Svetocher", e); var i = new Py; t.put_xwzc9p$("DHAMPIR_Straveika", i); var a = new My; t.put_xwzc9p$("DHAMPIR_Vampire Lore", a); var r = new Ny; t.put_xwzc9p$("DHAMPIR_Eyes of the Night", r); var n = new Dy; t.put_xwzc9p$("DHAMPIR_Enthralling Allure", n); var o = new xy; t.put_xwzc9p$("DHAMPIR_Night Magic", o); var s = new zy; t.put_xwzc9p$("DHAMPIR_Symphony of Blood", s); var l = new Oy; t.put_xwzc9p$("VERSATILE_Old Soul", l); var c = new Fy; t.put_xwzc9p$("VERSATILE_Ru-Shi", c) }, ky.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsDhampir", interfaces: [] }; var By = null; function jy() { return null === By && new ky, By } function Hy() { tm = this, this.weapons_0 = ["Bo Staff", "Longbow", "Composite Longbow", "Scythe", "Staff"] } function qy() { Gu.call(this) } function Uy() { Gu.call(this) } function Gy() { Gu.call(this) } function Wy() { Gu.call(this) } function Yy() { Gu.call(this) } function Vy() { Gu.call(this) } function Ky() { Gu.call(this) } function Xy() { Gu.call(this) } function Jy() { Gu.call(this) } function Zy() { Gu.call(this) } function Qy() { Gu.call(this) } qy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().RELIGION]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().MEDICINE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Boneyard") }, qy.$metadata$ = { kind: p, interfaces: [Gu] }, Uy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, Uy.$metadata$ = { kind: p, interfaces: [Gu] }, Gy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addDamageIncreaseItem_dmcalk$(e, i, r, Q0(a, null, 1, se().DAMAGE_TYPE_NEGATIVE, "Spirit Strikes applied")) }, Gy.$metadata$ = { kind: p, interfaces: [Gu] }, Wy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Duskwalker Magic"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(2, 0), c = new S2(1, "Augury", 0), p = l, h = c; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(p, h); var d = l = s.getSpellSlotReference_vux9f0$(2, 1), u = c = new S2(1, "Gentle Repose", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u) } else { var _ = e.hashMapSpellCasters.get_11rb$(o); if (null != _) { var f = _.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(f), f = _.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(f) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, Wy.$metadata$ = { kind: p, interfaces: [Gu] }, Yy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Resist Ruin", 1, 5, a, new Int32Array([0, 0, 0, 0, 0, 1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Resist Ruin", o); var s = o.getSpellSlotReference_vux9f0$(5, 0), l = new S2(1, "Death Ward", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(s, l) } else { var c = e.hashMapSpellCasters.get_11rb$("Resist Ruin"); if (null != c) { var p = c.getSpellSlotReference_vux9f0$(5, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(p) } e.hashMapSpellCasters.remove_11rb$("Resist Ruin") } re().setProficiencyAtLevel_8d16k4$(i, e, "Resist Ruin", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, Yy.$metadata$ = { kind: p, interfaces: [Gu] }, Vy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s; for (o = em().weapons_0, s = 0; s !== o.length; ++s) { var l = o[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, r, l, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, r, l) } }, Vy.$metadata$ = { kind: p, interfaces: [Gu] }, Ky.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, em().weapons_0, "Duskwalker") }, Ky.$metadata$ = { kind: p, interfaces: [Gu] }, Xy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().INTIMIDATION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Intimidating Glare", se().FEATS_GENERAL, a) }, Xy.$metadata$ = { kind: p, interfaces: [Gu] }, Jy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().DIPLOMACY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o); var s = ["Disrupt Undead"], l = new Int32Array(s.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Shoki's Argument", 1, 0, a, s, l) }, Jy.$metadata$ = { kind: p, interfaces: [Gu] }, Zy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Animal Messenger", "Speak with Animals", "Spider Climb"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Spider Affinity", 1, 2, a, o, s) }, Zy.$metadata$ = { kind: p, interfaces: [Gu] }, Qy.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Calm Emotions"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Catrina's Presence", 1, 2, a, o, s) }, Qy.$metadata$ = { kind: p, interfaces: [Gu] }, Hy.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new qy; t.put_xwzc9p$("DUSKWALKER_Duskwalker Lore", e); var i = new Uy; t.put_xwzc9p$("DUSKWALKER_Gravesight", i); var a = new Gy; t.put_xwzc9p$("DUSKWALKER_Spirit Strikes", a); var r = new Wy; t.put_xwzc9p$("DUSKWALKER_Duskwalker Magic", r); var n = new Yy; t.put_xwzc9p$("DUSKWALKER_Resist Ruin", n); var o = new Vy; t.put_xwzc9p$("VERSATILE_Vanth's Weapon Familiarity", o); var s = new Ky; t.put_xwzc9p$("VERSATILE_Vanth's Weapon Expertise", s); var l = new Xy; t.put_xwzc9p$("VERSATILE_Nosoi's Mask", l); var c = new Jy; t.put_xwzc9p$("VERSATILE_Shoki's Argument", c); var p = new Zy; t.put_xwzc9p$("VERSATILE_Morrigna's Spider Affinity", p); var h = new Qy; t.put_xwzc9p$("VERSATILE_Catrina's Presence", h) }, Hy.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsDuskwalker", interfaces: [] }; var tm = null; function em() { return null === tm && new Hy, tm } function im() { Sm = this, this.CASTER_STONEWALKER_0 = "Stonewalker", this.listLores = nt(["Engineering", "Explosive", "Firearm"]) } function am() { Gu.call(this) } function rm() { Gu.call(this) } function nm() { Gu.call(this) } function om() { Gu.call(this) } function sm() { Gu.call(this) } function lm() { Gu.call(this) } function cm() { Gu.call(this) } function pm() { Gu.call(this) } function hm() { Gu.call(this) } function dm() { Gu.call(this) } function um() { Gu.call(this) } function _m() { Gu.call(this) } function fm() { Gu.call(this) } function ym() { Gu.call(this) } function mm(t, e) { this.closure$featRef = t, this.closure$lore = e } function $m() { Gu.call(this) } function gm() { Gu.call(this) } function vm() { Gu.call(this) } am.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().CRAFTING]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().RELIGION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Dwarven Lore") }, am.$metadata$ = { kind: p, interfaces: [Gu] }, rm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = new Int32Array([0, 0, 0, 1, -1, -1, -1, -1, -1, -1, -1]), l = new k2(Cm().CASTER_STONEWALKER_0, 3, 5, a, s), c = e.hashMapSpellCasters, p = Cm().CASTER_STONEWALKER_0; c.put_xwzc9p$(p, l); var h = l.getSpellSlotReference_vux9f0$(3, 0), d = new S2(0, "Meld into Stone", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d) } else { var u = e.hashMapSpellCasters.get_11rb$(Cm().CASTER_STONEWALKER_0), _ = o(u).getSpellSlotReference_vux9f0$(3, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_), e.hashMapSpellCasters.remove_11rb$(Cm().CASTER_STONEWALKER_0) } re().setProficiencyAtLevel_8d16k4$(i, e, Cm().CASTER_STONEWALKER_0, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, rm.$metadata$ = { kind: p, interfaces: [Gu] }, nm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c = ["Battle Axe", "Pick", "Light Pick", "Warhammer"]; for (s = 0; s !== c.length; ++s) { var p = c[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, r, p, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, r, p) } for (l = t.managerWeapons.hashMapWeapons.values.iterator(); l.hasNext();) { var h = l.next(); _(o(h.weaponTraits).toLowerCase(), "dwarf") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, h, r + h.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, h.name, r + h.name)) } }, nm.$metadata$ = { kind: p, interfaces: [Gu] }, om.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = qX("Call on Ancient Blood", a); s.action = 0, s.textDescription = "Trigger: You attempt a saving thow against a magical effect, but you haven't rolled yet.<br><br>Your ancestors' innate resistance to magic surges, before slowly ebbing down. You gain a +1 circumstance bonus to the triggering saving throw and until the end of this turn.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) }, om.$metadata$ = { kind: p, interfaces: [Gu] }, sm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Battle Axe", "Pick", "Light Pick", "Warhammer"], "Dwarf") }, sm.$metadata$ = { kind: p, interfaces: [Gu] }, lm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_FIRE, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, lm.$metadata$ = { kind: p, interfaces: [Gu] }, cm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = new k2("Heroe's Call", 2, 5, a, new Int32Array([0, 0, 0, 1, -1, 1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Heroe's Call", s); var l = s.getSpellSlotReference_vux9f0$(3, 0), c = new S2(2, "Heroism", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$("Heroe's Call"), h = o(p).getSpellSlotReference_vux9f0$(3, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h), e.hashMapSpellCasters.remove_11rb$("Heroe's Call") } re().setProficiencyAtLevel_8d16k4$(i, e, "Heroe's Call", a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, cm.$metadata$ = { kind: p, interfaces: [Gu] }, pm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().SOCIETY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), i && e.getCharacterData().hashMapFeatExtraSelections.put_xwzc9p$(r, "Dwarven Sub Culture"), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Additional Lore", se().FEATS_GENERAL, a), i || e.getCharacterData().hashMapFeatExtraSelections.remove_11rb$(r) }, pm.$metadata$ = { kind: p, interfaces: [Gu] }, hm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Specialty Crafting", se().FEATS_GENERAL, a) }, hm.$metadata$ = { kind: p, interfaces: [Gu] }, dm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Energy Emanation") }, dm.$metadata$ = { kind: p, interfaces: [Gu] }, um.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Crafter's Appraisal", se().FEATS_GENERAL, a) }, um.$metadata$ = { kind: p, interfaces: [Gu] }, _m.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Stonegate", 1, 5, a, new Int32Array([0, 0, 0, 0, 0, 0, 0, 1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Stonegate", o); var s = o.getSpellSlotReference_vux9f0$(7, 0), l = new S2(0, "Passwall", 2); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(s, l) } else { var c = e.hashMapSpellCasters.get_11rb$("Stonegate"); if (null != c) { var p = c.getSpellSlotReference_vux9f0$(7, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(p) } e.hashMapSpellCasters.remove_11rb$("Stonegate") } re().setProficiencyAtLevel_8d16k4$(i, e, "Stonegate", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, _m.$metadata$ = { kind: p, interfaces: [Gu] }, fm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r, a, "Clan Pistol", 2) }, fm.$metadata$ = { kind: p, interfaces: [Gu] }, mm.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addLoreAndTrained_k5t0i3$(i, t, e, a, this.closure$featRef + "1", this.closure$lore); var n = "Lore: " + this.closure$lore; re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef + "2", pe().getLevelOrMin_vux9f0$(a, 2), n, 4), re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef + "3", pe().getLevelOrMin_vux9f0$(a, 7), n, 6), re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef + "4", pe().getLevelOrMin_vux9f0$(a, 15), n, 8) }, mm.$metadata$ = { kind: p, interfaces: [xX] }, ym.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = "Dwarven Hold Education"; if (i) { var p = qX(l, a), h = c(); s = Cm().listLores.size; for (var d = 0; d < s; d++) { var u = Cm().listLores.get_za3lpa$(d), _ = qX(u, a); h.put_xwzc9p$(u, _), _.specialEffect = new mm(r, u) } p.hashMapSpecialChoices.put_xwzc9p$("Select Lore 1", h), p.hashMapSpecialChoices.put_xwzc9p$("Select Lore 2", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(l, p) } else { var f = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(l); null != f && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, l, f), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(l) } }, ym.$metadata$ = { kind: p, interfaces: [Gu] }, $m.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o; for (re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r, a, "Bomb", 2), o = t.managerWeapons.hashMapWeapons.values.iterator(); o.hasNext();) { var s = o.next(); m(s.group, "Firearm") && s.proficiencyType <= 1 && re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r + s.uniqueIdentiier, a, s.name, 2) } }, $m.$metadata$ = { kind: p, interfaces: [Gu] }, gm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addEnergyResistance_8d16k4$(i, e, r, a, TX().RESISTANCE_SONIC, 3) }, gm.$metadata$ = { kind: p, interfaces: [Gu] }, vm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s = u(); for (s.add_11rb$("Bomb"), o = t.managerWeapons.hashMapWeapons.values.iterator(); o.hasNext();) { var l = o.next(); m(l.group, "Firearm") && l.proficiencyType <= 1 && s.add_11rb$(l.name) } re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, b(s), null) }, vm.$metadata$ = { kind: p, interfaces: [Gu] }, im.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new am; t.put_xwzc9p$("DWARF_Dwarven Lore", e); var i = new rm; t.put_xwzc9p$("DWARF_Stonewalker", i); var a = new nm; t.put_xwzc9p$("DWARF_Dwarven Weapon Familiarity", a); var r = new om; t.put_xwzc9p$("DWARF_Ancient-Blooded", r); var n = new sm; t.put_xwzc9p$("DWARF_Dwarven Weapon Expertise", n); var o = new lm; t.put_xwzc9p$("DWARF_Forge Dwarf", o); var s = new cm; t.put_xwzc9p$("DWARF_Heroes' Call", s); var l = new pm; t.put_xwzc9p$("DWARF_Surface Culture", l); var c = new hm; t.put_xwzc9p$("DWARF_Anvil Dwarf", c); var p = new dm; t.put_xwzc9p$("DWARF_Elemental Heart Dwarf", p); var h = new um; t.put_xwzc9p$("DWARF_Eye for Treasure", h); var d = new _m; t.put_xwzc9p$("DWARF_Stonegate", d); var u = new fm; t.put_xwzc9p$("DWARF_Clan Pistol", u); var _ = new ym; t.put_xwzc9p$("DWARF_Dongun Education", _); var f = new $m; t.put_xwzc9p$("DWARF_Explosive Savant", f); var y = new gm; t.put_xwzc9p$("DWARF_Blast Resistance", y); var m = new vm; t.put_xwzc9p$("DWARF_Explosive Expert", m) }, im.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsDwarf", interfaces: [] }; var Sm = null; function Cm() { return null === Sm && new im, Sm } function Em() { qm = this, this.CASTER_OTHERWORLDLY_MAGIC_0 = "Otherworldly Magic", this.CASTER_SEER_ELF_0 = "Seer Elf" } function Am() { Gu.call(this) } function bm() { Gu.call(this) } function Im() { Gu.call(this) } function wm() { Gu.call(this) } function Lm() { Gu.call(this) } function Tm() { Gu.call(this) } function km() { Gu.call(this) } function Rm() { Gu.call(this) } function Pm() { Gu.call(this) } function Mm() { Gu.call(this) } function Nm() { Gu.call(this) } function Dm() { Gu.call(this) } function xm() { Gu.call(this) } function zm() { Gu.call(this) } function Om() { Gu.call(this) } function Fm() { Gu.call(this) } function Bm() { Gu.call(this) } function jm() { Gu.call(this) } function Hm(t, e) { this.closure$casterName = t, this.closure$i = e } Am.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c = ["Longbow", "Composite Longbow", "Longsword", "Rapier", "Shortbow", "Composite Shortbow"]; for (s = 0; s !== c.length; ++s) { var p = c[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, "Elf Weapon Familiarity", p, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, "Elf Weapon Familiarity", p) } for (l = t.managerWeapons.hashMapWeapons.values.iterator(); l.hasNext();) { var h = l.next(); _(o(h.weaponTraits), "Elf") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, h, r + h.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, h.name, r + h.name)) } }, Am.$metadata$ = { kind: p, interfaces: [Gu] }, bm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, "Elven Speed", jW(a, 5, 4)) }, bm.$metadata$ = { kind: p, interfaces: [Gu] }, Im.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = 11; a > o && (o = a), re().setProficiencyAtLevel_8d16k4$(i, e, r + "1", o, pK().PROFICIENCY_SIMPLE_WEAPONS, 2), re().setProficiencyAtLevel_8d16k4$(i, e, r + "2", o, pK().PROFICIENCY_MARTIAL_WEAPONS, 2), re().setProficiencyAtLevel_8d16k4$(i, e, r + "3", o, pK().PROFICIENCY_ADVANCED_WEAPONS, 2) }, Im.$metadata$ = { kind: p, interfaces: [Gu] }, wm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().ARCANA]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().NATURE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Elven Lore") }, wm.$metadata$ = { kind: p, interfaces: [Gu] }, Lm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapSpellCasters, s = Um().CASTER_OTHERWORLDLY_MAGIC_0, l = new R2(Um().CASTER_OTHERWORLDLY_MAGIC_0, 0, 5, a); o.put_xwzc9p$(s, l) } else e.hashMapSpellCasters.remove_11rb$(Um().CASTER_OTHERWORLDLY_MAGIC_0); re().setProficiencyAtLevel_8d16k4$(i, e, Um().CASTER_OTHERWORLDLY_MAGIC_0, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, Lm.$metadata$ = { kind: p, interfaces: [Gu] }, Tm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Longbow", "Composite Longbow", "Longsword", "Rapier", "Shortbow", "Composite Shortbow"], "Elf") }, Tm.$metadata$ = { kind: p, interfaces: [Gu] }, km.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new R2(Um().CASTER_SEER_ELF_0, 0, 5, a), s = e.hashMapSpellCasters, l = Um().CASTER_SEER_ELF_0; s.put_xwzc9p$(l, o); var c = o.getSpellSlotReference_vux9f0$(0, 0), p = new S2(0, "Detect Magic", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p) } else { var h = e.hashMapSpellCasters.get_11rb$(Um().CASTER_SEER_ELF_0); if (null != h) { var d = h.getSpellSlotReference_vux9f0$(0, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(d) } e.hashMapSpellCasters.remove_11rb$(Um().CASTER_SEER_ELF_0) } re().setProficiencyAtLevel_8d16k4$(i, e, Um().CASTER_SEER_ELF_0, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, km.$metadata$ = { kind: p, interfaces: [Gu] }, Rm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Darkvision") }, Rm.$metadata$ = { kind: p, interfaces: [Gu] }, Pm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_COLD, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, Pm.$metadata$ = { kind: p, interfaces: [Gu] }, Mm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addInitiativeIncreaseItem_sfpo92$(i, e, r, xW(a, 2, se().BONUS_TYPE_NAME_CIRCUMSTANCE)) }, Mm.$metadata$ = { kind: p, interfaces: [Gu] }, Nm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Elemental Wrath"; if (i) { var s = new R2(o, 3, 5, a); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(0, 0), c = new S2(3, "Acid Splash", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(0, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h), e.hashMapSpellCasters.remove_11rb$(o) } } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, Nm.$metadata$ = { kind: p, interfaces: [Gu] }, Dm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Sense Thoughts"; if (i) { var s = new k2(o, 2, 5, a, new Int32Array([0, 0, 0, 1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(3, 0), c = new S2(2, "Mind Reading", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(3, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h), e.hashMapSpellCasters.remove_11rb$(o) } } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, Dm.$metadata$ = { kind: p, interfaces: [Gu] }, xm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Share Thoughts"; if (i) { var s = new k2(o, 2, 5, a, new Int32Array([0, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(1, 0), c = new S2(2, "Mindlink", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(1, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h), e.hashMapSpellCasters.remove_11rb$(o) } } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, xm.$metadata$ = { kind: p, interfaces: [Gu] }, zm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Wildborn Adept"; if (i) { var s = new k2(o, 3, 5, a, new Int32Array([3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(0, 0), c = new S2(3, "Disrupt Undead", 0), p = l, h = c; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(p, h); var d = l = s.getSpellSlotReference_vux9f0$(0, 1), u = c = new S2(3, "Dancing Lights", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u); var _ = l = s.getSpellSlotReference_vux9f0$(0, 2), f = c = new S2(3, "Tanglefoot", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(_, f) } else { var y = e.hashMapSpellCasters.get_11rb$(o); if (null != y) { var m = y.getSpellSlotReference_vux9f0$(0, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(0, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(0, 2), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), e.hashMapSpellCasters.remove_11rb$(o) } } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, zm.$metadata$ = { kind: p, interfaces: [Gu] }, Om.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new R2("Wildborn Magic", 3, 5, a); e.hashMapSpellCasters.put_xwzc9p$("Wildborn Magic", o) } else e.hashMapSpellCasters.remove_11rb$("Wildborn Magic"); re().setProficiencyAtLevel_8d16k4$(i, e, "Wildborn Magic", a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, Om.$metadata$ = { kind: p, interfaces: [Gu] }, Fm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = Mu(se().FEATS_ANCESTRY, a); for (l.ignoreLevelRequirement = !0, s = t.managerFeats.getDedicationMulticlassFeats_5btbp7$(e).values.iterator(); s.hasNext();) { var c = s.next(); l.listFeatIDs.add_11rb$(o(c).id) } re().addChildFeatChoice_j47kmb$(i, t, e, r + "Multitalented", o(n), l) }, Fm.$metadata$ = { kind: p, interfaces: [Gu] }, Bm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_FIRE, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, Bm.$metadata$ = { kind: p, interfaces: [Gu] }, Hm.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = new Int32Array([0, 0, 1, -1, -1, -1, -1, -1, -1, -1, -1]), o = new k2(this.closure$casterName, this.closure$i, 5, a, n), s = e.hashMapSpellCasters, l = this.closure$casterName; s.put_xwzc9p$(l, o) } else e.hashMapSpellCasters.remove_11rb$(this.closure$casterName); re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$casterName, a, k0().ARRAY_SPELL_LISTS[this.closure$i], 2) }, Hm.$metadata$ = { kind: p, interfaces: [xX] }, jm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = qX("Otherworldy Acument Type", a), p = c(); s = k0().ARRAY_SPELL_LISTS.length; for (var h = 0; h < s; h++) { var d = k0().ARRAY_SPELL_LISTS[h], u = qX(d, a); p.put_xwzc9p$(d, u), u.textDescription = "Choose the spell type.", u.specialEffect = new Hm("Otherworldly Acumen", h) } l.hashMapSpecialChoices.put_xwzc9p$("Otherworldly Acumen", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, jm.$metadata$ = { kind: p, interfaces: [Gu] }, Em.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Am; t.put_xwzc9p$("ELF_Elven Weapon Familiarity", e); var i = new bm; t.put_xwzc9p$("ELF_Nimble Elf", i); var a = new Im; t.put_xwzc9p$("ELF_Martial Experience", a); var r = new wm; t.put_xwzc9p$("ELF_Elven Lore", r); var n = new Lm; t.put_xwzc9p$("ELF_Otherworldly Magic", n); var o = new Tm; t.put_xwzc9p$("ELF_Elven Weapon Expertise", o); var s = new km; t.put_xwzc9p$("ELF_Seer Elf", s); var l = new Rm; t.put_xwzc9p$("ELF_Cavern Elf", l); var c = new Pm; t.put_xwzc9p$("ELF_Arctic Elf", c); var p = new Mm; t.put_xwzc9p$("ELF_Elven Instincts", p); var h = new Nm; t.put_xwzc9p$("ELF_Elemental Wrath", h); var d = new Dm; t.put_xwzc9p$("ELF_Sense Thoughts", d); var u = new xm; t.put_xwzc9p$("ELF_Share Thoughts", u); var _ = new zm; t.put_xwzc9p$("ELF_Wildborn Adept", _); var f = new Om; t.put_xwzc9p$("ELF_Wildborn Magic", f); var y = new Fm; t.put_xwzc9p$("ELF_Ancient Elf", y); var m = new Bm; t.put_xwzc9p$("ELF_Desert Elf", m); var $ = new jm; t.put_xwzc9p$("ELF_Otherworldly Acumen", $) }, Em.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsElf", interfaces: [] }; var qm = null; function Um() { return null === qm && new Em, qm } function Gm() { i$ = this } function Wm() { Gu.call(this) } function Ym() { Gu.call(this) } function Vm(t, e) { this.closure$resist = t, this.closure$featRef = e } function Km() { Gu.call(this) } function Xm() { Gu.call(this) } function Jm() { Gu.call(this) } function Zm() { Gu.call(this) } function Qm() { Gu.call(this) } function t$() { Gu.call(this) } function e$() { Gu.call(this) } Wm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Dancing Lights", "Light"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Bright Fetchling", 2, 0, a, o, s) }, Wm.$metadata$ = { kind: p, interfaces: [Gu] }, Vm.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = RX(a, this.closure$resist, !0); i ? e.hashMapResistances.put_xwzc9p$(this.closure$featRef, n) : e.hashMapResistances.remove_11rb$(this.closure$featRef) }, Vm.$metadata$ = { kind: p, interfaces: [xX] }, Ym.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Deep Fetchling Resistance", l.textDescription = "Select a resistance"; var p = [TX().RESISTANCE_COLD, TX().RESISTANCE_NEGATIVE], h = c(); for (s = 0; s !== p.length; ++s) { var d = p[s], u = qX(d, a); u.specialEffect = new Vm(d, r), h.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Resistance", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, Ym.$metadata$ = { kind: p, interfaces: [Gu] }, Km.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Quick Squeeze", se().FEATS_GENERAL, a); var o = MK(r, 1, T([pK().ACROBATICS]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), i ? e.hashMapSizeModifiders.put_xwzc9p$(r, DW(a, -1)) : e.hashMapSizeModifiders.remove_11rb$(r) }, Km.$metadata$ = { kind: p, interfaces: [Gu] }, Xm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapSpellCasters, s = new R2("Shrouded Magic", 2, 5, a); o.put_xwzc9p$("Shrouded Magic", s) } else e.hashMapSpellCasters.remove_11rb$("Shrouded Magic"); re().setProficiencyAtLevel_8d16k4$(i, e, "Shrouded Magic", a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, Xm.$metadata$ = { kind: p, interfaces: [Gu] }, Jm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().OCCULTISM]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().STEALTH]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Shadow Plane") }, Jm.$metadata$ = { kind: p, interfaces: [Gu] }, Zm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().DECEPTION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Lengthy Diversion", se().FEATS_GENERAL, a) }, Zm.$metadata$ = { kind: p, interfaces: [Gu] }, Qm.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Illusory Disguise"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Shadowy Disguise", 2, 1, a, o, s) }, Qm.$metadata$ = { kind: p, interfaces: [Gu] }, t$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Shadow Walk"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Skirt the Light", 2, 5, a, o, s) }, t$.$metadata$ = { kind: p, interfaces: [Gu] }, e$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Shadow's Assault"; if (i) { var s = new s2(o, a); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = new l2; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$("shadow assault spell", l) } else e.getCharacterData().getHashMapPlayerSpells().remove_11rb$("shadow assault spell"), e.hashMapSpellCasters.remove_11rb$(o); re().setProficiencyAtLevel_8d16k4$(i, e, o, a, k0().ARRAY_SPELL_LISTS[2], 2) }, e$.$metadata$ = { kind: p, interfaces: [Gu] }, Gm.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Wm; t.put_xwzc9p$("FETCHLING_Bright Fetchling", e); var i = new Ym; t.put_xwzc9p$("FETCHLING_Deep Fetchling", i); var a = new Km; t.put_xwzc9p$("FETCHLING_Wisp Fetchling", a); var r = new Xm; t.put_xwzc9p$("FETCHLING_Shrouded Magic", r); var n = new Jm; t.put_xwzc9p$("FETCHLING_Fetchling Lore", n); var o = new Zm; t.put_xwzc9p$("FETCHLING_Shrouded Mien", o); var s = new Qm; t.put_xwzc9p$("FETCHLING_Shadowy Disguise", s); var l = new t$; t.put_xwzc9p$("FETCHLING_Skirt the Light", l); var c = new e$; t.put_xwzc9p$("FETCHLING_Shadow's Assault", c) }, Gm.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsFetchling", interfaces: [] }; var i$ = null; function a$() { return null === i$ && new Gm, i$ } function r$() { u$ = this } function n$() { Gu.call(this) } function o$() { Gu.call(this) } function s$() { Gu.call(this) } function l$() { Gu.call(this) } function c$() { Gu.call(this) } function p$() { Gu.call(this) } function h$() { Gu.call(this) } function d$() { Gu.call(this) } n$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_MENTAL, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, n$.$metadata$ = { kind: p, interfaces: [Gu] }, o$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Mindlink"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Aberration Kinship", 2, 1, a, o, s) }, o$.$metadata$ = { kind: p, interfaces: [Gu] }, s$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Intimidating Glare", se().FEATS_GENERAL, a); var o = MK(r + "a", 1, T([pK().INTIMIDATION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o) }, s$.$metadata$ = { kind: p, interfaces: [Gu] }, l$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, l$.$metadata$ = { kind: p, interfaces: [Gu] }, c$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = UW(a, 15, 3, 4); re().addSpeedIncreaseItem_xs3ggp$(i, e, r, o) }, c$.$metadata$ = { kind: p, interfaces: [Gu] }, p$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = UW(a, 15, 3, 2); re().addSpeedIncreaseItem_xs3ggp$(i, e, r, o) }, p$.$metadata$ = { kind: p, interfaces: [Gu] }, h$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Enthrall"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Captivating Curosity", 2, 3, a, o, s) }, h$.$metadata$ = { kind: p, interfaces: [Gu] }, d$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Black Tentacles"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Spew Tentacles", 2, 5, a, o, s) }, d$.$metadata$ = { kind: p, interfaces: [Gu] }, r$.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new n$; t.put_xwzc9p$("FLESHWARP_Shapewrought Fleshwarp", e); var i = new o$; t.put_xwzc9p$("FLESHWARP_Aberration Kinship", i); var a = new s$; t.put_xwzc9p$("FLESHWARP_Startling Appearance", a); var r = new l$; t.put_xwzc9p$("FLESHWARP_Deepvision", r); var n = new c$; t.put_xwzc9p$("FLESHWARP_Finned Ridges", n); var o = new p$; t.put_xwzc9p$("FLESHWARP_Gripping Limbs", o); var s = new h$; t.put_xwzc9p$("FLESHWARP_Captivating Curosity", s); var l = new d$; t.put_xwzc9p$("FLESHWARP_Spew Tentacles", l) }, r$.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsFleshwarp", interfaces: [] }; var u$ = null; function _$() { return null === u$ && new r$, u$ } function f$() { D$ = this, this.CASTER_FIRST_WORLD_MAGIC_0 = "First World Magic", this.CASTER_FEY_TOUCHED_GNOME_0 = "Fey Touched Gnome", this.CASTER_WELLSPRING_GNOME_0 = "Wellspring Gnome", this.CASTER_FELL_GNOME_0 = "Fell Gnome", this.CASTER_FIRST_WORLD_ADEPT_0 = "First World Adept", this.SPECIAL_WELLSPRING_MAGIC_CHOICE_0 = "Wellspring Magic Type", this.SPECIAL_WELLSPRING_MAGIC_SPECIAL_REF_0 = "Wellspring Gnome Special Choice" } function y$() { Gu.call(this) } function m$() { Gu.call(this) } function $$() { Gu.call(this) } function g$(t, e, i, a, r) { this.closure$characterBuild = t, this.closure$featRef = e, this.closure$activate = i, this.closure$level = a, this.closure$dataControl = r } function v$() { Gu.call(this) } function S$() { Gu.call(this) } function C$() { Gu.call(this) } function E$() { Gu.call(this) } function A$() { Gu.call(this) } function b$() { Gu.call(this) } function I$(t) { this.closure$i = t } function w$() { Gu.call(this) } function L$() { Gu.call(this) } function T$(t, e) { this.closure$dataControl = t, S3(e, this) } function k$() { Gu.call(this) } function R$() { Gu.call(this) } function P$() { Gu.call(this) } function M$(t) { this.closure$casterName = t } function N$(t) { this.closure$casterName = t } f$.prototype.getWellSpringSpellList_fhac18$ = function (t, e) { var i; if (m(t.managerAncestry.getHeritageFeatID_5btbp7$(e), "GNOME_Wellspring Gnome")) { if (null == (i = e.getCharacterData().getSpecialSelection_puj7f4$(this.SPECIAL_WELLSPRING_MAGIC_SPECIAL_REF_0, this.SPECIAL_WELLSPRING_MAGIC_CHOICE_0))) return 3; for (var a = i, r = 0; r <= 3; r++)if (m(a, k0().ARRAY_SPELL_LISTS[r])) return r } return 3 }, y$.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { try { var c = x$().getWellSpringSpellList_fhac18$(t, i); if (a) { var p = i.hashMapSpellCasters, h = x$().CASTER_FIRST_WORLD_MAGIC_0, d = new R2(x$().CASTER_FIRST_WORLD_MAGIC_0, c, 5, r); p.put_xwzc9p$(h, d) } else i.hashMapSpellCasters.remove_11rb$(x$().CASTER_FIRST_WORLD_MAGIC_0); var u = pK().ARRAY_SPELL_PROFICIENCIES[c]; re().setProficiencyAtLevel_8d16k4$(a, i, x$().CASTER_FIRST_WORLD_MAGIC_0, r, u, 2) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, y$.$metadata$ = { kind: p, interfaces: [Gu] }, m$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapSpellCasters, s = x$().CASTER_FEY_TOUCHED_GNOME_0, l = new R2(x$().CASTER_FEY_TOUCHED_GNOME_0, 3, 5, a); o.put_xwzc9p$(s, l) } else e.hashMapSpellCasters.remove_11rb$(x$().CASTER_FEY_TOUCHED_GNOME_0); re().setProficiencyAtLevel_8d16k4$(i, e, x$().CASTER_FEY_TOUCHED_GNOME_0, a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, m$.$metadata$ = { kind: p, interfaces: [Gu] }, g$.prototype.additionalInfo_61zpoe$ = function (t) { var e = this.closure$characterBuild.getCharacterData().hashMapFeatExtraSelections, i = this.closure$featRef; e.put_xwzc9p$(i, t), x$().addGnomeObsessionLore_zh1p8a$(this.closure$activate, this.closure$characterBuild, this.closure$level, this.closure$featRef, t), this.closure$dataControl.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(this.closure$characterBuild, this.closure$level), this.closure$dataControl.getGuiUpdateControl().updateFeatText_wothqf$(this.closure$characterBuild, this.closure$level, this.closure$featRef) }, g$.$metadata$ = { kind: p, interfaces: [v9] }, $$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) if (e.getCharacterData().hashMapFeatExtraSelections.containsKey_11rb$(r)) { var o = e.getCharacterData().hashMapFeatExtraSelections.get_11rb$(r); x$().addGnomeObsessionLore_zh1p8a$(i, e, a, r, o) } else { var s = new g$(e, r, i, a, t); if (!t.getGuiUpdateControl().getAdditionalInfo_q8jdea$(e, "Select Additional Lore", "", s)) { var l = e.getCharacterData().hashMapFeatExtraSelections, c = se().NOT_SELECTED; l.put_xwzc9p$(r, c) } } else { if (e.getCharacterData().hashMapFeatExtraSelections.containsKey_11rb$(r)) { var p = e.getCharacterData().hashMapFeatExtraSelections.get_11rb$(r); e.getCharacterData().hashMapFeatExtraSelections.remove_11rb$(r), x$().addGnomeObsessionLore_zh1p8a$(i, e, a, r, p) } t.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(e, a) } re().setProficiencyAtLevel_8d16k4$(i, e, "Gnome Obsession 1", x$().getLevelMinned_0(2, a), t.managerBackgrounds.getBackgroundLoreNameAsProficiencyReference_5btbp7$(e), 4), re().setProficiencyAtLevel_8d16k4$(i, e, "Gnome Obsession 2", x$().getLevelMinned_0(7, a), t.managerBackgrounds.getBackgroundLoreNameAsProficiencyReference_5btbp7$(e), 6), re().setProficiencyAtLevel_8d16k4$(i, e, "Gnome Obsession 3", x$().getLevelMinned_0(15, a), t.managerBackgrounds.getBackgroundLoreNameAsProficiencyReference_5btbp7$(e), 8) }, $$.$metadata$ = { kind: p, interfaces: [Gu] }, v$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c = ["Glaive", "Kukri"]; for (s = 0; s !== c.length; ++s) { var p = c[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, r, p, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, r, p) } for (l = t.managerWeapons.hashMapWeapons.values.iterator(); l.hasNext();) { var h = l.next(); _(o(h.weaponTraits).toLowerCase(), "gnome") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, h, r + h.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, h.name, r + h.name)) } }, v$.$metadata$ = { kind: p, interfaces: [Gu] }, S$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GNOME_Animal Speaker", se().FEATS_ANCESTRY, a) }, S$.$metadata$ = { kind: p, interfaces: [Gu] }, C$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = x$().getWellSpringSpellList_fhac18$(t, e); if (i) { var s = new m2(x$().CASTER_FIRST_WORLD_ADEPT_0, o, 5, a), l = e.hashMapSpellCasters, c = x$().CASTER_FIRST_WORLD_ADEPT_0; l.put_xwzc9p$(c, s); var p = s.getSpellSlotReference_vux9f0$(2, 0), h = new S2(2, "Invisibility", 0), d = p, u = h; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u); var _ = p = s.getSpellSlotReference_vux9f0$(2, 1), f = h = new S2(3, "Faerie Fire", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(_, f) } else { var y = e.hashMapSpellCasters.get_11rb$(x$().CASTER_FIRST_WORLD_ADEPT_0); if (null != y) { var m = y.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m) } e.hashMapSpellCasters.remove_11rb$(x$().CASTER_FIRST_WORLD_ADEPT_0) } re().setProficiencyAtLevel_8d16k4$(i, e, x$().CASTER_FIRST_WORLD_ADEPT_0, a, k0().ARRAY_SPELL_LISTS[o], 2) }, C$.$metadata$ = { kind: p, interfaces: [Gu] }, E$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Glaive", "Kukri"], "Gnome") }, E$.$metadata$ = { kind: p, interfaces: [Gu] }, A$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, A$.$metadata$ = { kind: p, interfaces: [Gu] }, I$.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapSpellCasters, o = x$().CASTER_WELLSPRING_GNOME_0, s = new R2(x$().CASTER_WELLSPRING_GNOME_0, this.closure$i, 5, a); n.put_xwzc9p$(o, s) } else e.hashMapSpellCasters.remove_11rb$(x$().CASTER_WELLSPRING_GNOME_0); re().setProficiencyAtLevel_8d16k4$(i, e, x$().CASTER_WELLSPRING_GNOME_0, a, k0().ARRAY_SPELL_LISTS[this.closure$i], 2) }, I$.$metadata$ = { kind: p, interfaces: [xX] }, b$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { for (var s = qX("Wellspring Magic Type", a), l = c(), p = 0; p <= 2; p++) { var h = k0().ARRAY_SPELL_LISTS[p], d = qX(h, a); l.put_xwzc9p$(h, d), d.textDescription = "Choose arcane, divine, or occult. You gain one cantrip from that magical traditions spell list.", d.specialEffect = new I$(p) } var u = s.hashMapSpecialChoices, _ = x$().SPECIAL_WELLSPRING_MAGIC_CHOICE_0; u.put_xwzc9p$(_, l); var f = o(e.hashMapSpecialInformation[a - 1 | 0]), y = x$().SPECIAL_WELLSPRING_MAGIC_SPECIAL_REF_0; f.put_xwzc9p$(y, s) } else { var m = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(x$().SPECIAL_WELLSPRING_MAGIC_SPECIAL_REF_0); null != m && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, x$().SPECIAL_WELLSPRING_MAGIC_SPECIAL_REF_0, m), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(x$().SPECIAL_WELLSPRING_MAGIC_SPECIAL_REF_0) } t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 1, !0) }, b$.$metadata$ = { kind: p, interfaces: [Gu] }, w$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, w$.$metadata$ = { kind: p, interfaces: [Gu] }, T$.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { var i, a, r = u(); for (i = ["Illusory Disguise", "Item Facade", "Ventriloquism"], a = 0; a !== i.length; ++a) { var n = i[a], s = o(this.closure$dataControl.managerSpells.hashMapSpells.get_11rb$(n)); r.add_11rb$(s) } return r }, T$.$metadata$ = { kind: p, interfaces: [v3] }, L$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Natural Illusionist"; if (i) { var s = new g2(o, 3, 5, a, new Int32Array([0, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1])), l = new T$(t, 1); s.getHashMapBonusSpell_fhac18$(t, e).put_xwzc9p$("Limited Spell Selection", l), e.hashMapSpellCasters.put_xwzc9p$(o, s) } else e.hashMapSpellCasters.get_11rb$(o), e.hashMapSpellCasters.remove_11rb$(o); re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, L$.$metadata$ = { kind: p, interfaces: [Gu] }, k$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = MK(r, 1, T([pK().PERFORMANCE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, l); var c = u(), p = t.managerFeats.hashMapFeatsByCategory.get_11rb$(se().FEATS_GENERAL); for (s = o(p).keys.iterator(); s.hasNext();) { var h = s.next(), d = p.get_11rb$(h); null != o(d).hashMapRequiredProficiences && o(d.hashMapRequiredProficiences).containsKey_11rb$(pK().PERFORMANCE) && 1 === d.level && c.add_11rb$(h) } var _ = r + "natural performer feat"; re().addFeatSubChoice_gxiklp$(i, t, e, n, se().FEATS_SKILL, c, _) }, k$.$metadata$ = { kind: p, interfaces: [Gu] }, R$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_NEGATIVE, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, R$.$metadata$ = { kind: p, interfaces: [Gu] }, M$.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$casterName, a, pK().PROFICIENCY_SPELLS_ARCANE, 2), i) { var n = new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1]), s = new k2(this.closure$casterName, 0, 5, a, n), l = e.hashMapSpellCasters, c = this.closure$casterName; l.put_xwzc9p$(c, s); var p = s.getSpellSlotReference_vux9f0$(2, 0), h = new S2(0, "Misdirection", 0), d = p, u = h; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u); var _ = p = s.getSpellSlotReference_vux9f0$(2, 1), f = h = new S2(0, "Silence", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(_, f) } else { var y = e.hashMapSpellCasters.get_11rb$(this.closure$casterName), m = o(y).getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), e.hashMapSpellCasters.remove_11rb$(this.closure$casterName) } }, M$.$metadata$ = { kind: p, interfaces: [xX] }, N$.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$casterName, a, pK().PROFICIENCY_SPELLS_OCCULT, 2), i) { var n = new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1]), s = new k2(this.closure$casterName, 2, 5, a, n), l = e.hashMapSpellCasters, c = this.closure$casterName; l.put_xwzc9p$(c, s); var p = s.getSpellSlotReference_vux9f0$(2, 0), h = new S2(2, "Misdirection", 0), d = p, u = h; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u); var _ = p = s.getSpellSlotReference_vux9f0$(2, 1), f = h = new S2(2, "Silence", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(_, f) } else { var y = e.hashMapSpellCasters.get_11rb$(this.closure$casterName), m = o(y).getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), e.hashMapSpellCasters.remove_11rb$(this.closure$casterName) } }, N$.$metadata$ = { kind: p, interfaces: [xX] }, P$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = qX("Cautious Curiosity Type", a), l = c(), p = qX("Arcane", a), h = p; l.put_xwzc9p$("Arcane", h), p.textDescription = "Arcane Spells.", p.specialEffect = new M$("Cautious Curiosity"); var d = p = qX("Occult", a); l.put_xwzc9p$("Occult", d), p.textDescription = "Occult Spells.", p.specialEffect = new N$("Cautious Curiosity"), s.hashMapSpecialChoices.put_xwzc9p$("Cautious Curiosity", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, P$.$metadata$ = { kind: p, interfaces: [Gu] }, f$.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new y$; t.put_xwzc9p$("GNOME_First World Magic", e); var i = new m$; t.put_xwzc9p$("GNOME_Fey-Touched Gnome", i); var a = new $$; t.put_xwzc9p$("GNOME_Gnome Obsession", a); var r = new v$; t.put_xwzc9p$("GNOME_Gnome Weapon Familiarity", r); var n = new S$; t.put_xwzc9p$("GNOME_Bleachling", n); var o = new C$; t.put_xwzc9p$("GNOME_First World Adept", o); var s = new E$; t.put_xwzc9p$("GNOME_Gnome Weapon Expertise", s); var l = new A$; t.put_xwzc9p$("GNOME_Animal Accomplice", l); var c = new b$; t.put_xwzc9p$("GNOME_Wellspring Gnome", c); var p = new w$; t.put_xwzc9p$("GNOME_Umbral Gnome", p); var h = new L$; t.put_xwzc9p$("GNOME_Natural Illusionist", h); var d = new k$; t.put_xwzc9p$("GNOME_Natural Performer", d); var u = new R$; t.put_xwzc9p$("GNOME_Vivacious Gnome", u); var _ = new P$; t.put_xwzc9p$("GNOME_Cautious Curiosity", _) }, f$.prototype.addGnomeObsessionLore_zh1p8a$ = function (t, e, i, a, r) { var n = "Lore: " + j(r); if (t) { if (!e.skillProficiencyExists_61zpoe$(n)) { var o = LK(3, !1, i); e.addSkillProficiency_4z2sac$(n, o), e.addProficiency_gzayp1$(n, o), o.addProficiencyIncrease_bm4lxs$("Gnome Obsession 1", re().getSetLevelOfIncrease_vux9f0$(i, this.getLevelMinned_0(0, i))), o.addProficiencyIncrease_bm4lxs$("Gnome Obsession 2", re().getSetLevelOfIncrease_vux9f0$(i, this.getLevelMinned_0(2, i))), o.addProficiencyIncrease_bm4lxs$("Gnome Obsession 3", re().getSetLevelOfIncrease_vux9f0$(i, this.getLevelMinned_0(7, i))), o.addProficiencyIncrease_bm4lxs$("Gnome Obsession 4", re().getSetLevelOfIncrease_vux9f0$(i, this.getLevelMinned_0(15, i))) } } else e.removeSkillProficiency_61zpoe$(n), e.removeProficiency_61zpoe$(n) }, f$.prototype.getLevelMinned_0 = function (t, e) { return e > t ? e : t }, f$.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsGnome", interfaces: [] }; var D$ = null; function x$() { return null === D$ && new f$, D$ } function z$() { J$ = this } function O$() { Gu.call(this) } function F$() { Gu.call(this) } function B$() { Gu.call(this) } function j$() { Gu.call(this) } function H$() { Gu.call(this) } function q$() { Gu.call(this) } function U$() { Gu.call(this) } function G$() { Gu.call(this) } function W$() { Gu.call(this) } function Y$() { Gu.call(this) } function V$() { Gu.call(this) } function K$() { Gu.call(this) } function X$() { Gu.call(this) } O$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Ride", se().FEATS_GENERAL, a) }, O$.$metadata$ = { kind: p, interfaces: [Gu] }, F$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c = ["Dogslicer", "Horsechopper"]; for (s = 0; s !== c.length; ++s) { var p = c[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, r, p, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, r, p) } for (l = t.managerWeapons.hashMapWeapons.values.iterator(); l.hasNext();) { var h = l.next(); _(o(h.weaponTraits).toLowerCase(), "goblin") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, h, r + h.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, h.name, r + h.name)) } }, F$.$metadata$ = { kind: p, interfaces: [Gu] }, B$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Dogslicer", "Horsechopper"], "Goblin") }, B$.$metadata$ = { kind: p, interfaces: [Gu] }, j$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().NATURE]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().STEALTH]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Goblin Lore") }, j$.$metadata$ = { kind: p, interfaces: [Gu] }, H$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addHitPointIncreaseItem_sfpo92$(i, e, r, DW(a, 4)) }, H$.$metadata$ = { kind: p, interfaces: [Gu] }, q$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_FIRE, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, q$.$metadata$ = { kind: p, interfaces: [Gu] }, U$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().ACROBATICS]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, U$.$metadata$ = { kind: p, interfaces: [Gu] }, G$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "CHOSEN ONE CHOICE" + r; re().addFeatSubChoice_72asaf$(i, t, e, n, se().FEATS_HERITAGE_GOBLIN, o) }, G$.$metadata$ = { kind: p, interfaces: [Gu] }, W$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addHitPointIncreaseItem_sfpo92$(i, e, r, DW(a, 10)) }, W$.$metadata$ = { kind: p, interfaces: [Gu] }, Y$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Combat Climber", se().FEATS_GENERAL, a) }, Y$.$metadata$ = { kind: p, interfaces: [Gu] }, V$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().ACROBATICS]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, V$.$metadata$ = { kind: p, interfaces: [Gu] }, K$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addInitiativeIncreaseItem_sfpo92$(i, e, r, xW(a, 1, se().BONUS_TYPE_NAME_CIRCUMSTANCE)) }, K$.$metadata$ = { kind: p, interfaces: [Gu] }, X$.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().THIEVERY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, X$.$metadata$ = { kind: p, interfaces: [Gu] }, z$.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new O$; t.put_xwzc9p$("GOBLIN_Rough Rider", e); var i = new F$; t.put_xwzc9p$("GOBLIN_Goblin Weapon Familiarity", i); var a = new B$; t.put_xwzc9p$("GOBLIN_Goblin Weapon Expertise", a); var r = new j$; t.put_xwzc9p$("GOBLIN_Goblin Lore", r); var n = new H$; t.put_xwzc9p$("GOBLIN_Unbreakable Goblin", n); var o = new q$; t.put_xwzc9p$("GOBLIN_Charhide Goblin", o); var s = new U$; t.put_xwzc9p$("GOBLIN_Bouncy Goblin", s); var l = new G$; t.put_xwzc9p$("GOBLIN_Chosen One", l); var c = new W$; t.put_xwzc9p$("GOBLIN_Unbreakable-er Goblin", c); var p = new Y$; t.put_xwzc9p$("GOBLIN_Tailed Goblin", p); var h = new V$; t.put_xwzc9p$("GOBLIN_Extra Squishy", h); var d = new K$; t.put_xwzc9p$("GOBLIN_Twitchy", d); var u = new X$; t.put_xwzc9p$("GOBLIN_Vandal", u) }, z$.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsGoblin", interfaces: [] }; var J$ = null; function Z$() { return null === J$ && new z$, J$ } function Q$() { hg = this } function tg() { Gu.call(this) } function eg() { Gu.call(this) } function ig() { Gu.call(this) } function ag() { Gu.call(this) } function rg() { Gu.call(this) } function ng() { Gu.call(this) } function og() { Gu.call(this) } function sg() { Gu.call(this) } function lg() { Gu.call(this) } function cg() { Gu.call(this) } function pg() { Gu.call(this) } tg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Adopted Ancestry", se().FEATS_GENERAL, a); var s = Mu(se().FEATS_ANCESTRY, a); s.maxLevel = 1, re().addChildFeatChoice_j47kmb$(i, t, e, r + "Cultural Adaptability", o(n), s) }, tg.$metadata$ = { kind: p, interfaces: [Gu] }, eg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c = ["Sling", "Halfling Sling Staff", "Shortsword"]; for (s = 0; s !== c.length; ++s) { var p = c[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, r, p, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, r, p) } for (l = t.managerWeapons.hashMapWeapons.values.iterator(); l.hasNext();) { var h = l.next(); _(o(h.weaponTraits).toLowerCase(), "halfling") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, h, r + h.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, h.name, r + h.name)) } }, eg.$metadata$ = { kind: p, interfaces: [Gu] }, ig.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Sling", "Halfling Sling Staff", "Shortsword"], "Halfling") }, ig.$metadata$ = { kind: p, interfaces: [Gu] }, ag.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().ACROBATICS]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().STEALTH]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Halfling Lore") }, ag.$metadata$ = { kind: p, interfaces: [Gu] }, rg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().THIEVERY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, rg.$metadata$ = { kind: p, interfaces: [Gu] }, ng.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().DECEPTION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, ng.$metadata$ = { kind: p, interfaces: [Gu] }, og.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = new k2("Fade Away", 2, 5, a, new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Fade Away", s); var l = s.getSpellSlotReference_vux9f0$(2, 0), c = new S2(2, "Invisibility", 0), p = l, h = c; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(p, h); var d = l = s.getSpellSlotReference_vux9f0$(2, 1), u = c = new S2(2, "Misdirection", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u) } else { var _ = e.hashMapSpellCasters.get_11rb$("Fade Away"), f = o(_).getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(f), f = _.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(f), e.hashMapSpellCasters.remove_11rb$("Fade Away") } re().setProficiencyAtLevel_8d16k4$(i, e, "Fade Away", a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, og.$metadata$ = { kind: p, interfaces: [Gu] }, sg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().NATURE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, sg.$metadata$ = { kind: p, interfaces: [Gu] }, lg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Unhampered Passage"; if (i) { var s = new k2(o, 3, 5, a, new Int32Array([0, 0, 0, 0, 1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(4, 0), c = new S2(3, "Freedom of Movement", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(4, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, lg.$metadata$ = { kind: p, interfaces: [Gu] }, cg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Low-Light Vision") }, cg.$metadata$ = { kind: p, interfaces: [Gu] }, pg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Jinx") }, pg.$metadata$ = { kind: p, interfaces: [Gu] }, Q$.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new tg; t.put_xwzc9p$("HALFLING_Cultural Adaptability", e); var i = new eg; t.put_xwzc9p$("HALFLING_Halfling Weapon Familiarity", i); var a = new ig; t.put_xwzc9p$("HALFLING_Halfling Weapon Expertise", a); var r = new ag; t.put_xwzc9p$("HALFLING_Halfling Lore", r); var n = new rg; t.put_xwzc9p$("HALFLING_Adroit Manipulation", n); var o = new ng; t.put_xwzc9p$("HALFLING_Innocuous", o); var s = new og; t.put_xwzc9p$("HALFLING_Fade Away", s); var l = new sg; t.put_xwzc9p$("HALFLING_Prairie Rider", l); var c = new lg; t.put_xwzc9p$("HALFLING_Unhampered Passage", c); var p = new cg; t.put_xwzc9p$("HALFLING_Twilight Halfling", p); var h = new pg; t.put_xwzc9p$("HALFLING_Jinxed Halfling", h) }, Q$.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsHalfling", interfaces: [] }; var hg = null; function dg() { return null === hg && new Q$, hg } function ug() { Eg = this, this.trainedWeapons = ["Composite Longbow", "Composite Shortbow", "Glaive", "Longbow", "Longsword", "Shortbow"] } function _g() { Gu.call(this) } function fg() { Gu.call(this) } function yg() { Gu.call(this) } function mg() { Gu.call(this) } function $g() { Gu.call(this) } function gg() { Gu.call(this) } function vg() { Gu.call(this) } function Sg() { Gu.call(this) } function Cg() { Gu.call(this) } _g.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Resist Elf Magic") }, _g.$metadata$ = { kind: p, interfaces: [Gu] }, fg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Group Coercion", se().FEATS_GENERAL, a) }, fg.$metadata$ = { kind: p, interfaces: [Gu] }, yg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_FIRE, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, yg.$metadata$ = { kind: p, interfaces: [Gu] }, mg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c; for (s = Ag().trainedWeapons, l = 0; l !== s.length; ++l) { var p = s[l]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, r, p, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, r, p) } for (c = t.managerWeapons.hashMapWeapons.values.iterator(); c.hasNext();) { var h = c.next(); _(o(h.weaponTraits).toLowerCase(), "hobgoblin") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, h, r + h.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, h.name, r + h.name)) } }, mg.$metadata$ = { kind: p, interfaces: [Gu] }, $g.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, Ag().trainedWeapons, "Hobgoblin") }, $g.$metadata$ = { kind: p, interfaces: [Gu] }, gg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().CRAFTING]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().ATHELTICS]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Hobgoblin Lore") }, gg.$metadata$ = { kind: p, interfaces: [Gu] }, vg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Ride", se().FEATS_GENERAL, a) }, vg.$metadata$ = { kind: p, interfaces: [Gu] }, Sg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Adopted Ancestry", se().FEATS_GENERAL, a); var s = Mu(se().FEATS_ANCESTRY, a); s.maxLevel = 1, re().addChildFeatChoice_j47kmb$(i, t, e, r + "Runtsage Choice", o(n), s) }, Sg.$metadata$ = { kind: p, interfaces: [Gu] }, Cg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Caravan Leader", se().FEATS_GENERAL, a), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "2", "GENERAL_Pick up the Pace", se().FEATS_GENERAL, a) }, Cg.$metadata$ = { kind: p, interfaces: [Gu] }, ug.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new _g; t.put_xwzc9p$("HOBGOBLIN_Elfbane Hobgoblin", e); var i = new fg; t.put_xwzc9p$("HOBGOBLIN_Runtboss Hobgoblin", i); var a = new yg; t.put_xwzc9p$("HOBGOBLIN_Smokeworker Hobgoblin", a); var r = new mg; t.put_xwzc9p$("HOBGOBLIN_Hobgoblin Weapon Familiarity", r); var n = new $g; t.put_xwzc9p$("HOBGOBLIN_Hobgoblin Weapon Expertise", n); var o = new gg; t.put_xwzc9p$("HOBGOBLIN_Hobgoblin Lore", o); var s = new vg; t.put_xwzc9p$("HOBGOBLIN_Shortshanks Hobgoblin", s); var l = new Sg; t.put_xwzc9p$("HOBGOBLIN_Runtsage", l); var c = new Cg; t.put_xwzc9p$("HOBGOBLIN_We March On", c) }, ug.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsHobgoblin", interfaces: [] }; var Eg = null; function Ag() { return null === Eg && new ug, Eg } function bg() { _v = this, this.CASTER_SUPERNATURAL_CHARM_0 = "Supernatural Charm" } function Ig() { Gu.call(this) } function wg() { Gu.call(this) } function Lg() { Gu.call(this) } function Tg() { Gu.call(this) } function kg() { } function Rg() { Gu.call(this) } function Pg() { Gu.call(this) } function Mg() { Gu.call(this) } function Ng() { Gu.call(this) } function Dg() { Gu.call(this) } function xg() { Gu.call(this) } function zg() { Gu.call(this) } function Og() { Gu.call(this) } function Fg() { Gu.call(this) } function Bg() { Gu.call(this) } function jg(t) { this.closure$featRef = t } function Hg() { Gu.call(this) } function qg() { Gu.call(this) } function Ug(t) { this.closure$featRef = t } function Gg() { Gu.call(this) } function Wg() { Gu.call(this) } function Yg() { Gu.call(this) } function Vg() { Gu.call(this) } function Kg() { Gu.call(this) } function Xg() { } function Jg() { Gu.call(this) } function Zg() { Gu.call(this) } function Qg() { Gu.call(this) } function tv() { } function ev() { Gu.call(this) } function iv() { Gu.call(this) } function av() { Gu.call(this) } function rv() { Gu.call(this) } function nv() { Gu.call(this) } function ov() { Gu.call(this) } function sv(t) { this.closure$featRef = t } function lv() { Gu.call(this) } function cv() { Gu.call(this) } function pv() { Gu.call(this) } function hv() { Gu.call(this) } function dv() { Gu.call(this) } function uv() { Gu.call(this) } Ig.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = u(); for (s = o(t.managerFeats.hashMapFeatsByCategory.get_11rb$(se().FEATS_HERITAGE_ELF)).values.iterator(); s.hasNext();) { var c = s.next(); _(c.name, "Ancient Elf") || l.add_11rb$(c.id) } re().addFeatSubChoice_gxiklp$(i, t, e, n, se().FEATS_HERITAGE_ELF, l, r + "heritage choice") }, Ig.$metadata$ = { kind: p, interfaces: [Gu] }, wg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "General Training Feat" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_GENERAL, 1, o) }, wg.$metadata$ = { kind: p, interfaces: [Gu] }, Lg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = "Natural Ambition Class Feat" + r; if (i) { var l = Ru(); l.maxLevel = 1, l.featType = se().FEATS_CLASS, l.level = o(n).level, l.combinedClass = !0, n.hashMapChildFeatChoices.put_xwzc9p$(s, l) } else if (o(n).hashMapChildFeatChoices.containsKey_11rb$(s)) { var c = n.hashMapChildFeatChoices.get_11rb$(s); t.managerFeats.deactivateFeat_8fzv80$(e, n.level, c, s), n.hashMapChildFeatChoices.remove_11rb$(s) } }, Lg.$metadata$ = { kind: p, interfaces: [Gu] }, kg.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, "Human Skilled Feat", a, o(o(r).name), 2) }, kg.$metadata$ = { kind: p, interfaces: [xX] }, Tg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Skilled", l.textDescription = " You become trained in two skills of your choice."; var p = c(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var h = s.next(), d = qX(h, a); d.specialEffect = new kg, p.put_xwzc9p$(h, d) } l.hashMapSpecialChoices.put_xwzc9p$("Select Skill 1", p), l.hashMapSpecialChoices.put_xwzc9p$("Select Skill 2", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, Tg.$metadata$ = { kind: p, interfaces: [Gu] }, Rg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, Rg.$metadata$ = { kind: p, interfaces: [Gu] }, Pg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { }, Pg.$metadata$ = { kind: p, interfaces: [Gu] }, Mg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c = ["Greataxe", "Falchion"]; for (s = 0; s !== c.length; ++s) { var p = c[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, "Orc Weapon Familiarity", p, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, "Orc Weapon Familiarity", p) } for (l = t.managerWeapons.hashMapWeapons.values.iterator(); l.hasNext();) { var h = l.next(); _(o(h.weaponTraits), "Orc") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, h, r + h.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, h.name, r + h.name)) } }, Mg.$metadata$ = { kind: p, interfaces: [Gu] }, Ng.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "clever imp", "GENERAL_Untrained Improvisation", se().FEATS_GENERAL, a) }, Ng.$metadata$ = { kind: p, interfaces: [Gu] }, Dg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new P2(fv().CASTER_SUPERNATURAL_CHARM_0, 0, 5, a), s = e.hashMapSpellCasters, l = fv().CASTER_SUPERNATURAL_CHARM_0; s.put_xwzc9p$(l, o); var c = o.getSpellSlotReference_vux9f0$(1, 0), p = new S2(0, "Charm", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p) } else { var h = e.hashMapSpellCasters.get_11rb$(fv().CASTER_SUPERNATURAL_CHARM_0); if (null != h) { var d = h.getSpellSlotReference_vux9f0$(1, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(d) } e.hashMapSpellCasters.remove_11rb$(fv().CASTER_SUPERNATURAL_CHARM_0) } re().setProficiencyAtLevel_8d16k4$(i, e, fv().CASTER_SUPERNATURAL_CHARM_0, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, Dg.$metadata$ = { kind: p, interfaces: [Gu] }, xg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = Mu(se().FEATS_ANCESTRY, a); for (m(t.managerAncestry.getHeritageFeatID_5btbp7$(e), "HUMAN_Half-Elf") && (l.ignorePrerequisites = !0), s = t.managerFeats.getDedicationMulticlassFeats_5btbp7$(e).values.iterator(); s.hasNext();) { var c = s.next(); l.listFeatIDs.add_11rb$(o(c).id) } re().addChildFeatChoice_j47kmb$(i, t, e, r + "Multitalented", o(n), l) }, xg.$metadata$ = { kind: p, interfaces: [Gu] }, zg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Greataxe", "Falchion"], "Orc") }, zg.$metadata$ = { kind: p, interfaces: [Gu] }, Og.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_LOW_LIGHT_VISION) }, Og.$metadata$ = { kind: p, interfaces: [Gu] }, Fg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_LOW_LIGHT_VISION) }, Fg.$metadata$ = { kind: p, interfaces: [Gu] }, jg.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef + "1", 1, o(o(r).name), 2), re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef + "2", 5, o(r.name), 4) }, jg.$metadata$ = { kind: p, interfaces: [xX] }, Bg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Skilled Heritage", l.textDescription = "You become trained in one skill of your choice. At 5th level, you become an expert in the chosen skill"; var p = c(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var h = s.next(), d = qX(h, a); d.specialEffect = new jg(r), p.put_xwzc9p$(h, d) } l.hashMapSpecialChoices.put_xwzc9p$("Select Skill", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, Bg.$metadata$ = { kind: p, interfaces: [Gu] }, Hg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_GENERAL, 1, r + "versatile heritage") }, Hg.$metadata$ = { kind: p, interfaces: [Gu] }, Ug.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { try { var c, p = t.managerWeapons.hashMapWeapons, h = o(n).name, u = (e.isType(c = p, y) ? c : d()).get_11rb$(h); a ? (i.unconventionalWeapon = n.name, t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(i, o(u), this.closure$featRef + u.name, r)) : (t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(i, o(u).name, this.closure$featRef + u.name), t.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(i, "HUMAN_Unconventional Expertise"), i.unconventionalWeapon = null) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Ug.$metadata$ = { kind: p, interfaces: [xX] }, qg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = qX("Unconventional Weapon", a), p = c(), h = !1, d = e.getProficiency_61zpoe$(pK().PROFICIENCY_MARTIAL_WEAPONS); for (o(d).getProficiencyAtLevel_za3lpa$(a) > 0 && (h = !0), s = t.managerWeapons.hashMapWeapons.values.iterator(); s.hasNext();) { var u = s.next(); if (_(o(u.weaponTraits).toLowerCase(), "uncommon") && fv().isUnconventionalLegal_0(t, e, a, h, u)) { var f = qX(u.name, a); f.url = u.url, f.specialEffect = new Ug(r); var y = u.name; p.put_xwzc9p$(y, f) } } l.hashMapSpecialChoices.put_xwzc9p$("Select Weapon", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$("Unconventional Weapon", l) } else { var m = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$("Unconventional Weapon"); null != m && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, "Unconventional Weapon", m), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$("Unconventional Weapon") } }, qg.$metadata$ = { kind: p, interfaces: [Gu] }, Gg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { null != e.unconventionalWeapon && re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, [o(e.unconventionalWeapon)], null) }, Gg.$metadata$ = { kind: p, interfaces: [Gu] }, Wg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().DECEPTION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, Wg.$metadata$ = { kind: p, interfaces: [Gu] }, Yg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().DIPLOMACY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Hobnobber", se().FEATS_GENERAL, a) }, Yg.$metadata$ = { kind: p, interfaces: [Gu] }, Vg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().DECEPTION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, Vg.$metadata$ = { kind: p, interfaces: [Gu] }, Xg.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = "Caster Arcane Tattoos"; if (i) { var s = new R2(n, 0, 5, a); e.hashMapSpellCasters.put_xwzc9p$(n, s); var l = s.getSpellSlotReference_vux9f0$(0, 0), c = new S2(0, o(o(r).name), 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(n); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(0, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h), e.hashMapSpellCasters.remove_11rb$(n) } } re().setProficiencyAtLevel_8d16k4$(i, e, n, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, Xg.$metadata$ = { kind: p, interfaces: [xX] }, Kg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Arcane Tattoo", l.textDescription = "Select an arcane tattoo"; var p = ["Shield", "Tanglefoot", "Daze", "Electric Arc", "Ghost Sound", "Chill Touch", "Sigil"], h = c(); for (s = 0; s !== p.length; ++s) { var d = p[s], u = qX(d, a); u.specialEffect = new Xg, h.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select spell", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, Kg.$metadata$ = { kind: p, interfaces: [Gu] }, Jg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, Jg.$metadata$ = { kind: p, interfaces: [Gu] }, Zg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_LOW_LIGHT_VISION) }, Zg.$metadata$ = { kind: p, interfaces: [Gu] }, tv.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = "Caster Dragon Spit"; if (i) { var s = new R2(n, 0, 5, a); e.hashMapSpellCasters.put_xwzc9p$(n, s); var l = s.getSpellSlotReference_vux9f0$(0, 0), c = new S2(0, o(o(r).name), 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(n); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(0, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h), e.hashMapSpellCasters.remove_11rb$(n) } } re().setProficiencyAtLevel_8d16k4$(i, e, n, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, tv.$metadata$ = { kind: p, interfaces: [xX] }, Qg.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Dragon Spit", l.textDescription = "Select a spell"; var p = ["Acid Splash", "Electric Arc", "Produce Flame", "Ray of Frost"], h = c(); for (s = 0; s !== p.length; ++s) { var d = p[s], u = qX(d, a); u.specialEffect = new tv, h.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select spell", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, Qg.$metadata$ = { kind: p, interfaces: [Gu] }, ev.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new q3("Dragon Prince", a); e.hashMapSpellCasters.put_xwzc9p$("Dragon Prince", o); var s = new U3, l = e.getCharacterData().getHashMapPlayerSpells(), c = Y3().DRAGON_PRINCE_SPELL; l.put_xwzc9p$(c, s) } else e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(Y3().DRAGON_PRINCE_SPELL), e.hashMapSpellCasters.remove_11rb$("Dragon Prince"); re().setProficiencyAtLevel_8d16k4$(i, e, "Dragon Prince", a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, ev.$metadata$ = { kind: p, interfaces: [Gu] }, iv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = e.hashMapResistances, l = PX(a, TX().RESISTANCE_COLD, !0, 5); s.put_xwzc9p$(r, l) } else e.hashMapResistances.remove_11rb$(r); if (i) { var c = new k2("Ice Witch", 0, 5, a, new Int32Array([0, 0, 0, 0, 0, 1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Ice Witch", c); var p = c.getSpellSlotReference_vux9f0$(5, 0), h = new S2(0, "Ice Wall", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(p, h) } else { var d = e.hashMapSpellCasters.get_11rb$("Ice Witch"), u = o(d).getSpellSlotReference_vux9f0$(5, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(u), e.hashMapSpellCasters.remove_11rb$("Ice Witch") } re().setProficiencyAtLevel_8d16k4$(i, e, "Ice Witch", a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, iv.$metadata$ = { kind: p, interfaces: [Gu] }, av.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Ornate Tattoo", 0, 5, a, new Int32Array([0, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Ornate Tattoo", o) } else e.hashMapSpellCasters.remove_11rb$("Ornate Tattoo"); re().setProficiencyAtLevel_8d16k4$(i, e, "Ornate Tattoo", a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, av.$metadata$ = { kind: p, interfaces: [Gu] }, rv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().RELIGION, pK().ATHELTICS, pK().NATURE, pK().DIPLOMACY, pK().INTIMIDATION, pK().MEDICINE, pK().ACROBATICS]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Assurance", se().FEATS_GENERAL, a) }, rv.$metadata$ = { kind: p, interfaces: [Gu] }, nv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Aeromancer", 0, 5, a, new Int32Array([0, 0, 0, 0, 1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Aeromancer", o); var s = o.getSpellSlotReference_vux9f0$(4, 0), l = new S2(0, "Fly", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(s, l) } else { var c = e.hashMapSpellCasters.get_11rb$("Aeromancer"); if (null != c) { var p = c.getSpellSlotReference_vux9f0$(4, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(p) } e.hashMapSpellCasters.remove_11rb$("Aeromancer") } re().setProficiencyAtLevel_8d16k4$(i, e, "Aeromancer", a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, nv.$metadata$ = { kind: p, interfaces: [Gu] }, sv.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, this.closure$featRef, a, o(r).name, 2) }, sv.$metadata$ = { kind: p, interfaces: [xX] }, ov.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Shield Block", se().FEATS_GENERAL, a), i) { var l = HX(); l.level = a, l.name = "Viking Shieldbearer", l.textDescription = "Select a weapon"; var p = ["Longsword", "Battle Axe"], h = c(); for (s = 0; s !== p.length; ++s) { var d = p[s], u = qX(d, a); u.specialEffect = new sv(r), h.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select weapon", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, ov.$metadata$ = { kind: p, interfaces: [Gu] }, lv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Virtue-Forged Tattooed"; if (i) { var s = new k2(o, 0, 5, a, new Int32Array([0, 0, 0, 1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s) } else e.hashMapSpellCasters.remove_11rb$(o); re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, lv.$metadata$ = { kind: p, interfaces: [Gu] }, cv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_COLD, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, cv.$metadata$ = { kind: p, interfaces: [Gu] }, pv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().PERFORMANCE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Impressive Performance", se().FEATS_GENERAL, a) }, pv.$metadata$ = { kind: p, interfaces: [Gu] }, hv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Pinch Time", 0, 5, a, new Int32Array([0, 0, 0, 1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Pinch Time", o); var s = o.getSpellSlotReference_vux9f0$(3, 0), l = new S2(0, "Haste", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(s, l) } else { var c = e.hashMapSpellCasters.get_11rb$("Pinch Time"); if (null != c) { var p = c.getSpellSlotReference_vux9f0$(3, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(p) } e.hashMapSpellCasters.remove_11rb$("Pinch Time") } re().setProficiencyAtLevel_8d16k4$(i, e, "Pinch Time", a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, hv.$metadata$ = { kind: p, interfaces: [Gu] }, dv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced General Training Feat" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_GENERAL, 7, o) }, dv.$metadata$ = { kind: p, interfaces: [Gu] }, uv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addMaxBulkIncreaseItem_sfpo92$(i, e, "Hardy Traveller", DW(e.getCharacterData().getCharacterLevel(), 1)) }, uv.$metadata$ = { kind: p, interfaces: [Gu] }, bg.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Ig; t.put_xwzc9p$("HUMAN_Elf Atavism", e); var i = new wg; t.put_xwzc9p$("HUMAN_General Training", i); var a = new Lg; t.put_xwzc9p$("HUMAN_Natural Ambition", a); var r = new Tg; t.put_xwzc9p$("HUMAN_Natural Skill", r); var n = new Rg; t.put_xwzc9p$("HUMAN_Orc Sight", n); var o = new Pg; t.put_xwzc9p$("HUMAN_Adapted Cantrip", o); var s = new Mg; t.put_xwzc9p$("HUMAN_Orc Weapon Famailiarity", s); var l = new Ng; t.put_xwzc9p$("HUMAN_Clever Improviser", l); var c = new Dg; t.put_xwzc9p$("HUMAN_Supernatural Charm", c); var p = new xg; t.put_xwzc9p$("HUMAN_Multitalented", p); var h = new zg; t.put_xwzc9p$("HUMAN_Orc Weapon Expertise", h); var d = new Og; t.put_xwzc9p$("HUMAN_Half-Elf", d); var u = new Fg; t.put_xwzc9p$("HUMAN_Half-Orc", u); var _ = new Bg; t.put_xwzc9p$("HUMAN_Skilled Heritage", _); var f = new Hg; t.put_xwzc9p$("HUMAN_Versatile Heritage", f); var y = new qg; t.put_xwzc9p$("HUMAN_Unconventional Weaponry", y); var m = new Gg; t.put_xwzc9p$("HUMAN_Unconventional Expertise", m); var $ = new Wg; t.put_xwzc9p$("HUMAN_Round Ears", $); var g = new Yg; t.put_xwzc9p$("HUMAN_Sociable", g); var v = new Vg; t.put_xwzc9p$("HUMAN_Overlooked Mastermind", v); var S = new Kg; t.put_xwzc9p$("HUMAN_Arcane Tattoos", S); var C = new Jg; t.put_xwzc9p$("HUMAN_Darkseer", C); var E = new Zg; t.put_xwzc9p$("HUMAN_Gloomseer", E); var A = new Qg; t.put_xwzc9p$("HUMAN_Dragon Spit", A); var b = new ev; t.put_xwzc9p$("HUMAN_Dragon Prince", b); var I = new iv; t.put_xwzc9p$("HUMAN_Ice-Witch", I); var w = new av; t.put_xwzc9p$("HUMAN_Ornate Tattoo", w); var L = new rv; t.put_xwzc9p$("HUMAN_Tribal Bond", L); var T = new nv; t.put_xwzc9p$("HUMAN_Aeromancer", T); var k = new ov; t.put_xwzc9p$("HUMAN_Viking Shieldbearer", k); var R = new lv; t.put_xwzc9p$("HUMAN_Virtue-Forged Tattooed", R); var P = new cv; t.put_xwzc9p$("HUMAN_Wintertouched Human", P); var M = new pv; t.put_xwzc9p$("HUMAN_Earned Glory", M); var N = new hv; t.put_xwzc9p$("HUMAN_Pinch Time", N); var D = new dv; t.put_xwzc9p$("HUMAN_Advanced General Training", D); var x = new uv; t.put_xwzc9p$("HUMAN_Hardy Traveler", x) }, bg.prototype.isUnconventionalLegal_0 = function (t, e, i, a, r) { if (null == r.identity) { var n = t.managerWeapons.getWeaponProficiencyType_zici4a$(e, r.name, i); if (0 === n || 1 === n) return !0; if (2 === n && a) return !0 } return !1 }, bg.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsHuman", interfaces: [] }; var _v = null; function fv() { return null === _v && new bg, _v } function yv() { wv = this } function mv() { Gu.call(this) } function $v() { Gu.call(this) } function gv() { Gu.call(this) } function vv() { Gu.call(this) } function Sv() { Gu.call(this) } function Cv() { Gu.call(this) } function Ev() { Gu.call(this) } function Av() { Gu.call(this) } function bv() { Gu.call(this) } function Iv() { Gu.call(this) } mv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Invoke Celestial Privilege") }, mv.$metadata$ = { kind: p, interfaces: [Gu] }, $v.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Invigorating Fear") }, $v.$metadata$ = { kind: p, interfaces: [Gu] }, gv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "KITSUNE_Kitsune Spell Familiarity", se().FEATS_ANCESTRY, a) }, gv.$metadata$ = { kind: p, interfaces: [Gu] }, vv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_COLD, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, vv.$metadata$ = { kind: p, interfaces: [Gu] }, Sv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, Sv.$metadata$ = { kind: p, interfaces: [Gu] }, Cv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().DIPLOMACY]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().DECEPTION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Kitsune") }, Cv.$metadata$ = { kind: p, interfaces: [Gu] }, Ev.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Daze"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Kitsune Spell Familiarity", 1, 0, a, o, s) }, Ev.$metadata$ = { kind: p, interfaces: [Gu] }, Av.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Bane"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Kitsune Spell Mysteries", 1, 1, a, o, s) }, Av.$metadata$ = { kind: p, interfaces: [Gu] }, bv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([1]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Kitsune Spell Expertise", 1, 5, a, ["Confusion"], o), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_SPELLS_DIVINE, 4) }, bv.$metadata$ = { kind: p, interfaces: [Gu] }, Iv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Cloudkill"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Killing Stone", 1, 5, a, o, s), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_SPELLS_DIVINE, 4) }, Iv.$metadata$ = { kind: p, interfaces: [Gu] }, yv.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new mv; t.put_xwzc9p$("KITSUNE_Celestial Envoy Kitsune", e); var i = new $v; t.put_xwzc9p$("KITSUNE_Dark Fields Kitsune", i); var a = new gv; t.put_xwzc9p$("KITSUNE_Empty Sky Kitsune", a); var r = new vv; t.put_xwzc9p$("KITSUNE_Frozen Wind Kitsune", r); var n = new Sv; t.put_xwzc9p$("KITSUNE_Star Orb", n); var o = new Cv; t.put_xwzc9p$("KITSUNE_Kitsune Lore", o); var s = new Ev; t.put_xwzc9p$("KITSUNE_Kitsune Spell Familiarity", s); var l = new Av; t.put_xwzc9p$("KITSUNE_Kitsune Spell Mysteries", l); var c = new bv; t.put_xwzc9p$("KITSUNE_Kitsune Spell Expertise", c); var p = new Iv; t.put_xwzc9p$("KITSUNE_Killing Stone", p) }, yv.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsKitsune", interfaces: [] }; var wv = null; function Lv() { return null === wv && new yv, wv } function Tv() { qv = this, this.trainedWeapons_0 = ["Crossbow", "Greatpick", "Light Pick", "Pick", "Spear"] } function kv() { Gu.call(this) } function Rv() { Gu.call(this) } function Pv() { Gu.call(this) } function Mv() { Gu.call(this) } function Nv() { Gu.call(this) } function Dv() { Gu.call(this) } function xv() { Gu.call(this) } function zv() { Gu.call(this) } function Ov() { Gu.call(this) } function Fv() { Gu.call(this) } function Bv() { Gu.call(this) } function jv() { Gu.call(this) } function Hv(t, e) { this.closure$resist = t, this.closure$featRef = e } kv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Spellscale Kobold"; if (i) { var s = new k2(o, 0, 5, a, new Int32Array([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s) } else e.hashMapSpellCasters.remove_11rb$(o); re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, kv.$metadata$ = { kind: p, interfaces: [Gu] }, Rv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Tail Toxin") }, Rv.$metadata$ = { kind: p, interfaces: [Gu] }, Pv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Snare Crafting", se().FEATS_GENERAL, a) }, Pv.$metadata$ = { kind: p, interfaces: [Gu] }, Mv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().STEALTH]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().THIEVERY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Kobold") }, Mv.$metadata$ = { kind: p, interfaces: [Gu] }, Nv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Dracomancer", 0, 5, a, new Int32Array([0, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Dracomancer", o) } else e.hashMapSpellCasters.remove_11rb$("Dracomancer"); re().setProficiencyAtLevel_8d16k4$(i, e, "Dracomancer", a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, Nv.$metadata$ = { kind: p, interfaces: [Gu] }, Dv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Elite Dracomancer"; if (i) { var s = new k2(o, 0, 5, a, new Int32Array([0, 0, 0, 1, 1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s) } else e.hashMapSpellCasters.remove_11rb$(o); re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, Dv.$metadata$ = { kind: p, interfaces: [Gu] }, xv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Combat Climber", se().FEATS_GENERAL, a) }, xv.$metadata$ = { kind: p, interfaces: [Gu] }, zv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = UW(a, 15, 3, 4); re().addSpeedIncreaseItem_xs3ggp$(i, e, r, o) }, zv.$metadata$ = { kind: p, interfaces: [Gu] }, Ov.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c; for (s = Uv().trainedWeapons_0, l = 0; l !== s.length; ++l) { var p = s[l]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, "Kobold Weapon Familiarity", p, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, "Kobold Weapon Familiarity", p) } for (c = t.managerWeapons.hashMapWeapons.values.iterator(); c.hasNext();) { var h = c.next(); _(o(h.weaponTraits), "Kobold") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, h, r + h.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, h.name, r + h.name)) } }, Ov.$metadata$ = { kind: p, interfaces: [Gu] }, Fv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Quick Squeeze", se().FEATS_GENERAL, a) }, Fv.$metadata$ = { kind: p, interfaces: [Gu] }, Bv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, Uv().trainedWeapons_0, "Kobold") }, Bv.$metadata$ = { kind: p, interfaces: [Gu] }, Hv.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = RX(a, this.closure$resist, !0); i ? e.hashMapResistances.put_xwzc9p$(this.closure$featRef, n) : e.hashMapResistances.remove_11rb$(this.closure$featRef) }, Hv.$metadata$ = { kind: p, interfaces: [xX] }, jv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Dragonscaled Kobold Resistance", l.textDescription = "Select a resistance"; var p = [TX().RESISTANCE_ACID, TX().RESISTANCE_ELECTRICITY, TX().RESISTANCE_POISON, TX().RESISTANCE_FIRE, TX().RESISTANCE_COLD], h = c(); for (s = 0; s !== p.length; ++s) { var d = p[s], u = qX(d, a); u.specialEffect = new Hv(d, r), h.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Resistance", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, jv.$metadata$ = { kind: p, interfaces: [Gu] }, Tv.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new kv; t.put_xwzc9p$("KOBOLD_Spellscale Kobold", e); var i = new Rv; t.put_xwzc9p$("KOBOLD_Venomtail Kobold", i); var a = new Pv; t.put_xwzc9p$("KOBOLD_Snare Setter", a); var r = new Mv; t.put_xwzc9p$("KOBOLD_Kobold Lore", r); var n = new Nv; t.put_xwzc9p$("KOBOLD_Dracomancer", n); var o = new Dv; t.put_xwzc9p$("KOBOLD_Elite Dracomancer", o); var s = new xv; t.put_xwzc9p$("KOBOLD_Cave Climber Kobold", s); var l = new zv; t.put_xwzc9p$("KOBOLD_Tunnelflood Kobold", l); var c = new Ov; t.put_xwzc9p$("KOBOLD_Kobold Weapon Familiarity", c); var p = new Fv; t.put_xwzc9p$("KOBOLD_Slither", p); var h = new Bv; t.put_xwzc9p$("KOBOLD_Kobold Weapon Expertise", h); var d = new jv; t.put_xwzc9p$("KOBOLD_Dragonscaled Kobold", d) }, Tv.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsKobold", interfaces: [] }; var qv = null; function Uv() { return null === qv && new Tv, qv } function Gv() { rS = this, this.CASTER_BARK_AND_TENDRIL_0 = "Bark and Tendril" } function Wv() { Gu.call(this) } function Yv() { Gu.call(this) } function Vv() { Gu.call(this) } function Kv() { Gu.call(this) } function Xv() { Gu.call(this) } function Jv() { Gu.call(this) } function Zv() { Gu.call(this) } function Qv() { Gu.call(this) } function tS() { Gu.call(this) } function eS() { Gu.call(this) } function iS() { Gu.call(this) } function aS() { Gu.call(this) } Wv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, Wv.$metadata$ = { kind: p, interfaces: [Gu] }, Yv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().NATURE]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().STEALTH]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Leshy Lore") }, Yv.$metadata$ = { kind: p, interfaces: [Gu] }, Vv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Shameless Request", se().FEATS_GENERAL, a) }, Vv.$metadata$ = { kind: p, interfaces: [Gu] }, Kv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1]), s = new k2(nS().CASTER_BARK_AND_TENDRIL_0, 3, 5, a, o), l = e.hashMapSpellCasters, c = nS().CASTER_BARK_AND_TENDRIL_0; l.put_xwzc9p$(c, s); var p = s.getSpellSlotReference_vux9f0$(2, 0), h = new S2(3, "Barkskin", 0), d = p, u = h; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u); var _ = p = s.getSpellSlotReference_vux9f0$(2, 1), f = h = new S2(3, "Entangle", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(_, f) } else { var y = e.hashMapSpellCasters.get_11rb$(nS().CASTER_BARK_AND_TENDRIL_0); if (null != y) { var m = y.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m) } e.hashMapSpellCasters.remove_11rb$(nS().CASTER_BARK_AND_TENDRIL_0) } re().setProficiencyAtLevel_8d16k4$(i, e, nS().CASTER_BARK_AND_TENDRIL_0, a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, Kv.$metadata$ = { kind: p, interfaces: [Gu] }, Xv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addHitPointIncreaseItem_sfpo92$(i, e, r, DW(a, 2)) }, Xv.$metadata$ = { kind: p, interfaces: [Gu] }, Jv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = UW(a, 20, 3, 4); re().addSpeedIncreaseItem_xs3ggp$(i, e, r + "1", o); var s = UW(a, -5, 3, 0); re().addSpeedIncreaseItem_xs3ggp$(i, e, r + "2", s) }, Jv.$metadata$ = { kind: p, interfaces: [Gu] }, Zv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Steady Balance", se().FEATS_GENERAL, a), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Anchor") }, Zv.$metadata$ = { kind: p, interfaces: [Gu] }, Qv.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Regenerate"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Regrowth", 3, 7, a, o, s) }, Qv.$metadata$ = { kind: p, interfaces: [Gu] }, tS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Plant Form"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Call of the Green Man", 3, 5, a, o, s) }, tS.$metadata$ = { kind: p, interfaces: [Gu] }, eS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Field of Life", "Tangling Creepers"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Flourish and Ruin", 3, 6, a, o, s), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_SPELLS_PRIMAL, 4) }, eS.$metadata$ = { kind: p, interfaces: [Gu] }, iS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Combat Climber", se().FEATS_GENERAL, a) }, iS.$metadata$ = { kind: p, interfaces: [Gu] }, aS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Enlarge"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Towering Growth", 3, 2, a, o, s), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, aS.$metadata$ = { kind: p, interfaces: [Gu] }, Gv.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Wv; t.put_xwzc9p$("LESHY_Fungus Leshy", e); var i = new Yv; t.put_xwzc9p$("LESHY_Leshy Lore", i); var a = new Vv; t.put_xwzc9p$("LESHY_Harmlessly Cute", a); var r = new Kv; t.put_xwzc9p$("LESHY_Bark and Tendril", r); var n = new Xv; t.put_xwzc9p$("LESHY_Root Leshy", n); var o = new Jv; t.put_xwzc9p$("LESHY_Seaweed Leshy", o); var s = new Zv; t.put_xwzc9p$("LESHY_Anchoring Roots", s); var l = new Qv; t.put_xwzc9p$("LESHY_Regrowth", l); var c = new tS; t.put_xwzc9p$("LESHY_Call of the Green Man", c); var p = new eS; t.put_xwzc9p$("LESHY_Flourish and Ruin", p); var h = new iS; t.put_xwzc9p$("LESHY_Pine Leshy", h); var d = new aS; t.put_xwzc9p$("LESHY_Towering Growth", d) }, Gv.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsLeshy", interfaces: [] }; var rS = null; function nS() { return null === rS && new Gv, rS } function oS() { gS = this } function sS() { Gu.call(this) } function lS() { Gu.call(this) } function cS() { Gu.call(this) } function pS() { Gu.call(this) } function hS() { Gu.call(this) } function dS() { Gu.call(this) } function uS() { Gu.call(this) } function _S() { Gu.call(this) } function fS() { Gu.call(this) } function yS() { Gu.call(this) } function mS() { Gu.call(this) } function $S() { Gu.call(this) } sS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Combat Climber", se().FEATS_GENERAL, a) }, sS.$metadata$ = { kind: p, interfaces: [Gu] }, lS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Threatening Approach") }, lS.$metadata$ = { kind: p, interfaces: [Gu] }, cS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_FIRE, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, cS.$metadata$ = { kind: p, interfaces: [Gu] }, pS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Freedom of Movement", "Stoneskin"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Primal Rampage", 3, 4, a, o, s) }, pS.$metadata$ = { kind: p, interfaces: [Gu] }, hS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().NATURE]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Lizardfolk Lore") }, hS.$metadata$ = { kind: p, interfaces: [Gu] }, dS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeatWithExtraInformation_pw7w27$(e, i, r, "GENERAL_Terrain Stalker", se().FEATS_GENERAL, a, "Underbrush") }, dS.$metadata$ = { kind: p, interfaces: [Gu] }, uS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapSpellCasters, s = new R2("Bone Magic", 3, 5, a); o.put_xwzc9p$("Bone Magic", s) } else e.hashMapSpellCasters.remove_11rb$("Bone Magic"); re().setProficiencyAtLevel_8d16k4$(i, e, "Bone Magic", a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, uS.$metadata$ = { kind: p, interfaces: [Gu] }, _S.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Mask of Terror"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Bone Rider", 3, 7, a, o, s) }, _S.$metadata$ = { kind: p, interfaces: [Gu] }, fS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Ride", se().FEATS_GENERAL, a) }, fS.$metadata$ = { kind: p, interfaces: [Gu] }, yS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Animal Messenger", "Phantom Steed"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Bone Caller", 3, 2, a, o, s) }, yS.$metadata$ = { kind: p, interfaces: [Gu] }, mS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([1]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Bone Investiture", 3, 5, a, ["Dinosaur Form"], o) }, mS.$metadata$ = { kind: p, interfaces: [Gu] }, $S.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { i ? e.hashMapSizeModifiders.put_xwzc9p$(r, DW(a, 1)) : e.hashMapSizeModifiders.remove_11rb$(r) }, $S.$metadata$ = { kind: p, interfaces: [Gu] }, oS.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new sS; t.put_xwzc9p$("LIZARDFOLK_Cliffscale Lizardfolk", e); var i = new lS; t.put_xwzc9p$("LIZARDFOLK_Frilled Lizardfolk", i); var a = new cS; t.put_xwzc9p$("LIZARDFOLK_Sandstrider Lizardfolk", a); var r = new pS; t.put_xwzc9p$("LIZARDFOLK_Unarmed Expertise", r); var n = new hS; t.put_xwzc9p$("LIZARDFOLK_Lizardfolk Lore", n); var o = new dS; t.put_xwzc9p$("LIZARDFOLK_Woodstalker Lizardfolk", o); var s = new uS; t.put_xwzc9p$("LIZARDFOLK_Bone Magic", s); var l = new _S; t.put_xwzc9p$("LIZARDFOLK_Bone Rider", l); var c = new fS; t.put_xwzc9p$("LIZARDFOLK_Reptile Rider", c); var p = new yS; t.put_xwzc9p$("LIZARDFOLK_Bone Caller", p); var h = new mS; t.put_xwzc9p$("LIZARDFOLK_Bone Investiture", h); var d = new $S; t.put_xwzc9p$("LIZARDFOLK_Scion Transformation", d) }, oS.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsLizardfolk", interfaces: [] }; var gS = null; function vS() { return null === gS && new oS, gS } function SS() { MS = this, this.SPECIAL_WARMASK_MAGIC_CHOICE_0 = "Warmask Magic Type", this.SPECIAL_WARMASK_MAGIC_SPECIAL_REF_0 = "Warmask Special Choice", this.names_0 = ["Magic", "The Gods", "The Unknown", "The Land"] } function CS() { Gu.call(this) } function ES() { Gu.call(this) } function AS() { Gu.call(this) } function bS() { Gu.call(this) } function IS() { Gu.call(this) } function wS() { Gu.call(this) } function LS() { Gu.call(this) } function TS() { Gu.call(this) } function kS() { Gu.call(this) } function RS(t, e, i) { this.closure$featRef = t, this.closure$skills = e, this.closure$i = i } function PS() { Gu.call(this) } CS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeatWithExtraInformation_pw7w27$(e, i, r + "1", "GENERAL_Terrain Expertise", se().FEATS_GENERAL, a, "Underground"), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "2", "GENERAL_Combat Climber", se().FEATS_GENERAL, a) }, CS.$metadata$ = { kind: p, interfaces: [Gu] }, ES.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "2", "GENERAL_Diehard", se().FEATS_GENERAL, a), re().addHitPointIncreaseItem_sfpo92$(i, e, r, DW(a, 2)) }, ES.$metadata$ = { kind: p, interfaces: [Gu] }, AS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().ATHELTICS]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Orc") }, AS.$metadata$ = { kind: p, interfaces: [Gu] }, bS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().NATURE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Train Animal", se().FEATS_GENERAL, a) }, bS.$metadata$ = { kind: p, interfaces: [Gu] }, IS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Hold Mark", l.textDescription = "Select a Hold Mark"; var p = ["Axe", "Shield", "Torch"], h = c(); for (s = 0; s !== p.length; ++s) { var d = p[s], u = qX(d, a); u.textDescription = "<ul><li><b>Axe</b> axe or pick</li><li><b>Shield</b> hammer or shield</li><li><b>Torch</b> bomb or knife</li></ul>", h.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Hold Mark", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, IS.$metadata$ = { kind: p, interfaces: [Gu] }, wS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Intimidating Glare", se().FEATS_GENERAL, a), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().INTIMIDATION, 2) }, wS.$metadata$ = { kind: p, interfaces: [Gu] }, LS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_NEGATIVE, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, LS.$metadata$ = { kind: p, interfaces: [Gu] }, TS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().SURVIVAL, 2) }, TS.$metadata$ = { kind: p, interfaces: [Gu] }, RS.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef, a, this.closure$skills.v[this.closure$i], 2), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, this.closure$featRef + "1", "GENERAL_Dubious Knowledge", se().FEATS_ANCESTRY, a) }, RS.$metadata$ = { kind: p, interfaces: [xX] }, kS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = qX("Warmask Magic Type", a), p = c(), h = ["Arcana, arcane tradition", "Religion, divine tradition", "Occultism, occult tradition", "Nature, primal tradition"], d = { v: [pK().ARCANA, pK().RELIGION, pK().OCCULTISM, pK().NATURE] }; s = NS().names_0.length; for (var u = 0; u < s; u++) { var _ = k0().ARRAY_SPELL_LISTS[u], f = qX(_, a); p.put_xwzc9p$(_, f), f.textDescription = h[u], f.specialEffect = new RS(r, d, u) } var y = l.hashMapSpecialChoices, m = NS().SPECIAL_WARMASK_MAGIC_CHOICE_0; y.put_xwzc9p$(m, p); var $ = o(e.hashMapSpecialInformation[a - 1 | 0]), g = NS().SPECIAL_WARMASK_MAGIC_SPECIAL_REF_0; $.put_xwzc9p$(g, l) } else { var v = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(NS().SPECIAL_WARMASK_MAGIC_SPECIAL_REF_0); null != v && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, NS().SPECIAL_WARMASK_MAGIC_SPECIAL_REF_0, v), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(NS().SPECIAL_WARMASK_MAGIC_SPECIAL_REF_0) } t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 1, !0) }, kS.$metadata$ = { kind: p, interfaces: [Gu] }, PS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([0]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Mask of Power", NS().getWarmaksSpellList_fhac18$(t, e), 1, a, ["Fear"], o) }, PS.$metadata$ = { kind: p, interfaces: [Gu] }, SS.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new CS; t.put_xwzc9p$("ORC_Deep Orc", e); var i = new ES; t.put_xwzc9p$("ORC_Hold-Scarred Orc", i); var a = new AS; t.put_xwzc9p$("ORC_Orc Lore", a); var r = new bS; t.put_xwzc9p$("ORC_Beast Trainer", r); var n = new IS; t.put_xwzc9p$("ORC_Hold Mark", n); var o = new wS; t.put_xwzc9p$("ORC_Battle Ready", o); var s = new LS; t.put_xwzc9p$("ORC_Grave Orc", s); var l = new TS; t.put_xwzc9p$("ORC_Winter Orc", l); var c = new kS; t.put_xwzc9p$("ORC_Orc Warmask", c); var p = new PS; t.put_xwzc9p$("ORC_Mask of Power", p) }, SS.prototype.getWarmaksSpellList_fhac18$ = function (t, e) { var i, a = 0, r = e.getCharacterData().getSpecialSelection_puj7f4$(this.SPECIAL_WARMASK_MAGIC_SPECIAL_REF_0, this.SPECIAL_WARMASK_MAGIC_CHOICE_0); if (null != r) { i = this.names_0.length; for (var n = 0; n < i; n++)m(r, this.names_0[n]) && (a = n) } return a }, SS.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsOrc", interfaces: [] }; var MS = null; function NS() { return null === MS && new SS, MS } function DS() { VS = this } function xS() { Gu.call(this) } function zS() { Gu.call(this) } function OS() { Gu.call(this) } function FS() { Gu.call(this) } function BS() { Gu.call(this) } function jS() { Gu.call(this) } function HS() { Gu.call(this) } function qS() { Gu.call(this) } function US() { Gu.call(this) } function GS() { Gu.call(this) } function WS() { Gu.call(this) } function YS() { Gu.call(this) } xS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addEnergyResistance_vqsetu$(i, e, r, RX(a, TX().RESISTANCE_NEGATIVE, !0)) }, xS.$metadata$ = { kind: p, interfaces: [Gu] }, zS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { i ? e.hashMapSizeModifiders.put_xwzc9p$(r, DW(a, -1)) : e.hashMapSizeModifiders.remove_11rb$(r) }, zS.$metadata$ = { kind: p, interfaces: [Gu] }, OS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().DECEPTION, 2) }, OS.$metadata$ = { kind: p, interfaces: [Gu] }, FS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, jW(a, 5, 3)) }, FS.$metadata$ = { kind: p, interfaces: [Gu] }, BS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Canny Acumen", se().FEATS_GENERAL, a) }, BS.$metadata$ = { kind: p, interfaces: [Gu] }, jS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Mending"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Cunning Tinker", 0, 1, a, o, s) }, jS.$metadata$ = { kind: p, interfaces: [Gu] }, HS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addEnergyResistance_vqsetu$(i, e, r, RX(a, TX().RESISTANCE_PRECISION, !0)) }, HS.$metadata$ = { kind: p, interfaces: [Gu] }, qS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, UW(a, 15, 3, 4)) }, qS.$metadata$ = { kind: p, interfaces: [Gu] }, US.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, UW(a, 15, 3, 2)) }, US.$metadata$ = { kind: p, interfaces: [Gu] }, GS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Enthrall"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Wheedle and Jig", 0, 3, a, o, s) }, GS.$metadata$ = { kind: p, interfaces: [Gu] }, WS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Regenerate"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Restitch", 0, 7, a, o, s) }, WS.$metadata$ = { kind: p, interfaces: [Gu] }, YS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, UW(a, 15, 3, 3)) }, YS.$metadata$ = { kind: p, interfaces: [Gu] }, DS.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new xS; t.put_xwzc9p$("POPPET_Ghost Poppet", e); var i = new zS; t.put_xwzc9p$("POPPET_Toy Poppet", i); var a = new OS; t.put_xwzc9p$("POPPET_Harmless Doll", a); var r = new FS; t.put_xwzc9p$("POPPET_Quadruped", r); var n = new BS; t.put_xwzc9p$("POPPET_Shiny Button Eyes", n); var o = new jS; t.put_xwzc9p$("POPPET_Cunning Tinker", o); var s = new HS; t.put_xwzc9p$("POPPET_Nothing But Fluff", s); var l = new qS; t.put_xwzc9p$("POPPET_Swimming Poppet", l); var c = new US; t.put_xwzc9p$("POPPET_Scaling Poppet", c); var p = new GS; t.put_xwzc9p$("POPPET_Wheedle and Jig", p); var h = new WS; t.put_xwzc9p$("POPPET_Restitch", h); var d = new YS; t.put_xwzc9p$("POPPET_Soaring Poppet", d) }, DS.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsPoppet", interfaces: [] }; var VS = null; function KS() { return null === VS && new DS, VS } function XS() { cC = this } function JS() { Gu.call(this) } function ZS() { Gu.call(this) } function QS() { Gu.call(this) } function tC() { Gu.call(this) } function eC() { Gu.call(this) } function iC() { Gu.call(this) } function aC() { Gu.call(this) } function rC() { Gu.call(this) } function nC() { Gu.call(this) } function oC() { Gu.call(this) } function sC() { Gu.call(this) } function lC() { Gu.call(this) } JS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, JS.$metadata$ = { kind: p, interfaces: [Gu] }, ZS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().INTIMIDATION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o) }, ZS.$metadata$ = { kind: p, interfaces: [Gu] }, QS.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o) }, QS.$metadata$ = { kind: p, interfaces: [Gu] }, tC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, tC.$metadata$ = { kind: p, interfaces: [Gu] }, eC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o) }, eC.$metadata$ = { kind: p, interfaces: [Gu] }, iC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().ACROBATICS]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().STEALTH]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Ratfolk") }, iC.$metadata$ = { kind: p, interfaces: [Gu] }, aC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Rat Magic", 3, 5, a, new Int32Array([0, 0, 1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Rat Magic", o); var s = o.getSpellSlotReference_vux9f0$(2, 0), l = new S2(3, "Animal Messenger", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(s, l) } else { var c = e.hashMapSpellCasters.get_11rb$("Rat Magic"); if (null != c) { var p = c.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(p) } e.hashMapSpellCasters.remove_11rb$("Rat Magic") } re().setProficiencyAtLevel_8d16k4$(i, e, "Rat Magic", a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, aC.$metadata$ = { kind: p, interfaces: [Gu] }, rC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_COLD, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, rC.$metadata$ = { kind: p, interfaces: [Gu] }, nC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Quick Squeeze", se().FEATS_GENERAL, a) }, nC.$metadata$ = { kind: p, interfaces: [Gu] }, oC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().INTIMIDATION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Intimidating Glare", se().FEATS_GENERAL, a) }, oC.$metadata$ = { kind: p, interfaces: [Gu] }, sC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Prescient Planner", se().FEATS_GENERAL, a), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "2", "GENERAL_Prescient Consumable", se().FEATS_GENERAL, a) }, sC.$metadata$ = { kind: p, interfaces: [Gu] }, lC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([4]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Ratfolk Growth", 3, 6, a, ["Enlarge"], o) }, lC.$metadata$ = { kind: p, interfaces: [Gu] }, XS.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new JS; t.put_xwzc9p$("RATFOLK_Deep Rat", e); var i = new ZS; t.put_xwzc9p$("RATFOLK_Shadow Rat", i); var a = new QS; t.put_xwzc9p$("RATFOLK_Warren Navigator", a); var r = new tC; t.put_xwzc9p$("RATFOLK_Rat Familiar", r); var n = new eC; t.put_xwzc9p$("RATFOLK_Tinkering Fingers", n); var o = new iC; t.put_xwzc9p$("RATFOLK_Ratfolk Lore", o); var s = new aC; t.put_xwzc9p$("RATFOLK_Rat Magic", s); var l = new rC; t.put_xwzc9p$("RATFOLK_Snow Rat", l); var c = new nC; t.put_xwzc9p$("RATFOLK_Tunnel Rat", c); var p = new oC; t.put_xwzc9p$("RATFOLK_Skull Creeper", p); var h = new sC; t.put_xwzc9p$("RATFOLK_Uncanny Cheeks", h); var d = new lC; t.put_xwzc9p$("RATFOLK_Ratfolk Growth", d) }, XS.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsRatfolk", interfaces: [] }; var cC = null; function pC() { return null === cC && new XS, cC } function hC() { _C = this } function dC() { Gu.call(this) } function uC() { Gu.call(this) } dC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = "Unrivaled Builder"; if (i) { var l = new k2(s, 3, 5, a, new Int32Array([0, 0, 0, 0, 0, 1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(s, l); var c = l.getSpellSlotReference_vux9f0$(5, 0), p = new S2(3, "Creation", 1); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p) } else { var h = e.hashMapSpellCasters.get_11rb$(s), d = o(h).getSpellSlotReference_vux9f0$(5, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(d), e.hashMapSpellCasters.remove_11rb$(s) } re().setProficiencyAtLevel_8d16k4$(i, e, s, a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, dC.$metadata$ = { kind: p, interfaces: [Gu] }, uC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().DIPLOMACY]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Shoony Lore") }, uC.$metadata$ = { kind: p, interfaces: [Gu] }, hC.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new dC; t.put_xwzc9p$("SHOONY_Unrivaled Builder", e); var i = new uC; t.put_xwzc9p$("SHOONY_Shoony Lore", i) }, hC.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsShoony", interfaces: [] }; var _C = null; function fC() { return null === _C && new hC, _C } function yC() { AC = this } function mC() { Gu.call(this) } function $C() { Gu.call(this) } function gC() { Gu.call(this) } function vC() { Gu.call(this) } function SC() { Gu.call(this) } function CC() { Gu.call(this) } function EC() { Gu.call(this) } mC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { i ? e.hashMapSizeModifiders.put_xwzc9p$(r, DW(a, 1)) : e.hashMapSizeModifiders.remove_11rb$(r) }, mC.$metadata$ = { kind: p, interfaces: [Gu] }, $C.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Ghost Sound"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Grig", 3, 0, a, o, s) }, $C.$metadata$ = { kind: p, interfaces: [Gu] }, gC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = u(); o.add_11rb$("Dancing Lights"), o.add_11rb$("Ghost Sound"), m(t.managerAncestry.getHeritageFeatID_5btbp7$(e), "SPRITE_Grig") ? o.add_11rb$("Detect Magic") : m(t.managerAncestry.getHeritageFeatID_5btbp7$(e), "SPRITE_Draxie") && o.add_11rb$("Prestidigitation"); var s = new Int32Array(o.size); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Fey Cantrips", 3, 0, a, b(o), s) }, gC.$metadata$ = { kind: p, interfaces: [Gu] }, vC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, vC.$metadata$ = { kind: p, interfaces: [Gu] }, SC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new J3("Fey Disguise", a); e.hashMapSpellCasters.put_xwzc9p$("Fey Disguise", o); var s = new Z3; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$("fey disguise spell", s) } else e.getCharacterData().getHashMapPlayerSpells().remove_11rb$("fey disguise spell"), e.hashMapSpellCasters.remove_11rb$("Fey Disguise"); re().setProficiencyAtLevel_8d16k4$(i, e, "Fey Disguise", a, k0().ARRAY_SPELL_LISTS[3], 2) }, SC.$metadata$ = { kind: p, interfaces: [Gu] }, CC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Faerie Fire", "Invisibility"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Fey Magic", 3, 2, a, o, s) }, CC.$metadata$ = { kind: p, interfaces: [Gu] }, EC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([2]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Invisible Trickster", 3, 4, a, ["Invisibility"], o) }, EC.$metadata$ = { kind: p, interfaces: [Gu] }, yC.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new mC; t.put_xwzc9p$("SPRITE_Pixie", e); var i = new $C; t.put_xwzc9p$("SPRITE_Grig", i); var a = new gC; t.put_xwzc9p$("SPRITE_Fey Cantrips", a); var r = new vC; t.put_xwzc9p$("SPRITE_Corgi Mount", r); var n = new SC; t.put_xwzc9p$("SPRITE_Fey Disguise", n); var o = new CC; t.put_xwzc9p$("SPRITE_Fey Magic", o); var s = new EC; t.put_xwzc9p$("SPRITE_Invisible Trickster", s) }, yC.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsSprite", interfaces: [] }; var AC = null; function bC() { return null === AC && new yC, AC } function IC() { DC = this } function wC() { Gu.call(this) } function LC() { Gu.call(this) } function TC() { Gu.call(this) } function kC() { Gu.call(this) } function RC() { Gu.call(this) } function PC() { Gu.call(this) } function MC() { Gu.call(this) } function NC() { Gu.call(this) } wC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, wC.$metadata$ = { kind: p, interfaces: [Gu] }, LC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Forager", se().FEATS_GENERAL, a), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().SURVIVAL, 2) }, LC.$metadata$ = { kind: p, interfaces: [Gu] }, TC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Underwater Marauder", se().FEATS_GENERAL, a), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().ATHELTICS, 2) }, TC.$metadata$ = { kind: p, interfaces: [Gu] }, kC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().ACROBATICS]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().NATURE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Strix") }, kC.$metadata$ = { kind: p, interfaces: [Gu] }, RC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Impressive Performance", se().FEATS_GENERAL, a); var o = MK(r + "a", 1, T([pK().PERFORMANCE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o) }, RC.$metadata$ = { kind: p, interfaces: [Gu] }, PC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Ventriloquism"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Thrown Voice", 3, 1, a, o, s) }, PC.$metadata$ = { kind: p, interfaces: [Gu] }, MC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Speak with Animals", "Status"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Rkoan Arts", 3, 2, a, o, s) }, MC.$metadata$ = { kind: p, interfaces: [Gu] }, NC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([1]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Ancestor's Transformation", 3, 5, a, ["Aerial Form"], o) }, NC.$metadata$ = { kind: p, interfaces: [Gu] }, IC.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new wC; t.put_xwzc9p$("STRIX_Nightglider Strix", e); var i = new LC; t.put_xwzc9p$("STRIX_Scavenger Strix", i); var a = new TC; t.put_xwzc9p$("STRIX_Shoreline Strix", a); var r = new kC; t.put_xwzc9p$("STRIX_Strix Lore", r); var n = new RC; t.put_xwzc9p$("STRIX_Story Crooner", n); var o = new PC; t.put_xwzc9p$("STRIX_Thrown Voice", o); var s = new MC; t.put_xwzc9p$("STRIX_Rkoan Arts", s); var l = new NC; t.put_xwzc9p$("STRIX_Ancestor's Transformation", l) }, IC.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsStrix", interfaces: [] }; var DC = null; function xC() { return null === DC && new IC, DC } function zC() { eE = this } function OC() { Gu.call(this) } function FC() { Gu.call(this) } function BC() { Gu.call(this) } function jC(t, e) { this.closure$featRef = t, this.closure$weaponInformation = e } function HC() { Gu.call(this) } function qC() { Gu.call(this) } function UC() { Gu.call(this) } function GC() { Gu.call(this) } function WC() { Gu.call(this) } function YC() { Gu.call(this) } function VC() { Gu.call(this) } function KC() { Gu.call(this) } function XC() { Gu.call(this) } function JC() { Gu.call(this) } function ZC() { Gu.call(this) } function QC() { Gu.call(this) } function tE() { Gu.call(this) } OC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Mountainkeeper Tengu"; if (i) { var s = new k2(o, 3, 5, a, new Int32Array([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(0, 0), c = new S2(3, "Disrupt Undead", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(0, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, OC.$metadata$ = { kind: p, interfaces: [Gu] }, FC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().SOCIETY]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Tengu") }, FC.$metadata$ = { kind: p, interfaces: [Gu] }, jC.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, this.closure$featRef, this.closure$weaponInformation.name, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, this.closure$featRef, this.closure$weaponInformation.name), i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, this.closure$weaponInformation, this.closure$featRef + this.closure$weaponInformation.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, this.closure$weaponInformation.name, this.closure$featRef + this.closure$weaponInformation.name) }, jC.$metadata$ = { kind: p, interfaces: [xX] }, BC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, p, h, d = ["Khakkara"]; for (s = 0; s !== d.length; ++s) { var f = d[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, r, f, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, r, f) } for (l = t.managerWeapons.hashMapWeapons.values.iterator(); l.hasNext();) { var y = l.next(); _(o(y.weaponTraits).toLowerCase(), "tengu") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, y, r + y.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, y.name, r + y.name)) } if (i) { var m = HX(); m.level = a, m.name = "Tengu Weapon Familiarity", m.textDescription = "Select a weapon"; var $ = u(), g = c(); for (p = t.managerWeapons.hashMapWeapons.values.iterator(); p.hasNext();) { var v = p.next(); v.belongsToGroup_61zpoe$("Sword") && 1 === v.proficiencyType && !v.hasTrait_61zpoe$("Uncommon") && null == v.identity && $.add_11rb$(v) } for ($.add_11rb$(t.managerWeapons.hashMapWeapons.get_11rb$("Katana")), $.add_11rb$(t.managerWeapons.hashMapWeapons.get_11rb$("Temple Sword")), $.add_11rb$(t.managerWeapons.hashMapWeapons.get_11rb$("Wakizashi")), h = $.iterator(); h.hasNext();) { var S = h.next(); if (null != S) { var C = qX(S.name, a); C.textDescription = "For the purpose of determining your proficiency, that weapon is a simple weapon, and if the weapon isn't common, you gain access to it.", C.specialEffect = new jC(r, S); var E = S.name; g.put_xwzc9p$(E, C) } } m.hashMapSpecialChoices.put_xwzc9p$("Select Weapon 1", g), m.hashMapSpecialChoices.put_xwzc9p$("Select Weapon 2", g), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, m) } else { var A = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != A && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, A), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, BC.$metadata$ = { kind: p, interfaces: [Gu] }, HC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_ELECTRICITY, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, HC.$metadata$ = { kind: p, interfaces: [Gu] }, qC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Storm's Lash", 3, 5, a, new Int32Array([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Storm's Lash", o); var s = o.getSpellSlotReference_vux9f0$(0, 0), l = new S2(3, "Electric Arc", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(s, l) } else { var c = e.hashMapSpellCasters.get_11rb$("Storm's Lash"); if (null != c) { var p = c.getSpellSlotReference_vux9f0$(0, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(p) } e.hashMapSpellCasters.remove_11rb$("Storm's Lash") } re().setProficiencyAtLevel_8d16k4$(i, e, "Storm's Lash", a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, qC.$metadata$ = { kind: p, interfaces: [Gu] }, UC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c, p, h = u(); for (s = t.managerWeapons.hashMapWeapons.values.iterator(); s.hasNext();) { var d = s.next(); d.belongsToGroup_61zpoe$("Sword") && 1 === d.proficiencyType && !d.hasTrait_61zpoe$("Uncommon") && h.add_11rb$(o(d.uniqueIdentiier)) } null != (l = o(t.managerWeapons.hashMapWeapons.get_11rb$("Katana")).uniqueIdentiier) && h.add_11rb$(l), null != (c = o(t.managerWeapons.hashMapWeapons.get_11rb$("Temple Sword")).uniqueIdentiier) && h.add_11rb$(c), null != (p = o(t.managerWeapons.hashMapWeapons.get_11rb$("Wakizashi")).uniqueIdentiier) && h.add_11rb$(p), re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, b(h), "tengu") }, UC.$metadata$ = { kind: p, interfaces: [Gu] }, GC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_FIRE, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, GC.$metadata$ = { kind: p, interfaces: [Gu] }, WC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = new k2("Heroe's Call", 2, 5, a, new Int32Array([0, 0, 0, 1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Heroe's Call", s); var l = s.getSpellSlotReference_vux9f0$(3, 0), c = new S2(2, "Heroism", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$("Heroe's Call"); if (null != p) { var h = o(p).getSpellSlotReference_vux9f0$(3, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h), e.hashMapSpellCasters.remove_11rb$("Heroe's Call") } } re().setProficiencyAtLevel_8d16k4$(i, e, "Heroe's Call", a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, WC.$metadata$ = { kind: p, interfaces: [Gu] }, YC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().SOCIETY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), i && e.getCharacterData().hashMapFeatExtraSelections.put_xwzc9p$(r, "Dwarven Sub Culture"), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Additional Lore", se().FEATS_GENERAL, a), i || e.getCharacterData().hashMapFeatExtraSelections.remove_11rb$(r) }, YC.$metadata$ = { kind: p, interfaces: [Gu] }, VC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Specialty Crafting", se().FEATS_GENERAL, a) }, VC.$metadata$ = { kind: p, interfaces: [Gu] }, KC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Energy Emanation") }, KC.$metadata$ = { kind: p, interfaces: [Gu] }, XC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = UW(a, 15, 3, 4); re().addSpeedIncreaseItem_xs3ggp$(i, e, r, o) }, XC.$metadata$ = { kind: p, interfaces: [Gu] }, JC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Steady Balance", se().FEATS_GENERAL, a) }, JC.$metadata$ = { kind: p, interfaces: [Gu] }, ZC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Produce Flame"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Mariner's Fire", 3, 0, a, o, s) }, ZC.$metadata$ = { kind: p, interfaces: [Gu] }, QC.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Spirit Blast"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Favor of Heaven", 3, 6, a, o, s) }, QC.$metadata$ = { kind: p, interfaces: [Gu] }, tE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([3]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Trickster Tengu", 3, 7, a, ["Aerial Form"], o) }, tE.$metadata$ = { kind: p, interfaces: [Gu] }, zC.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new OC; t.put_xwzc9p$("TENGU_Mountainkeeper Tengu", e); var i = new FC; t.put_xwzc9p$("TENGU_Tengu Lore", i); var a = new BC; t.put_xwzc9p$("TENGU_Tengu Weapon Familiarity", a); var r = new HC; t.put_xwzc9p$("TENGU_Stormtossed Tengu", r); var n = new qC; t.put_xwzc9p$("TENGU_Storm's Lash", n); var o = new UC; t.put_xwzc9p$("TENGU_Tengu Weapon Expertise", o); var s = new GC; t.put_xwzc9p$("DWARF_Forge Dwarf", s); var l = new WC; t.put_xwzc9p$("DWARF_Heroes' Call", l); var c = new YC; t.put_xwzc9p$("DWARF_Surface Culture", c); var p = new VC; t.put_xwzc9p$("DWARF_Anvil Dwarf", p); var h = new KC; t.put_xwzc9p$("DWARF_Elemental Heart Dwarf", h); var d = new XC; t.put_xwzc9p$("TENGU_Wavediver Tengu", d); var u = new JC; t.put_xwzc9p$("TENGU_Uncanny Agility", u); var _ = new ZC; t.put_xwzc9p$("TENGU_Mariner's Fire", _); var f = new QC; t.put_xwzc9p$("TENGU_Favor of Heaven", f); var y = new tE; t.put_xwzc9p$("TENGU_Trickster Tengu", y) }, zC.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsTengu", interfaces: [] }; var eE = null; function iE() { return null === eE && new zC, eE } function aE() { IE = this } function rE() { Gu.call(this) } function nE() { Gu.call(this) } function oE() { Gu.call(this) } function sE() { Gu.call(this) } function lE() { Gu.call(this) } function cE() { Gu.call(this) } function pE() { Gu.call(this) } function hE() { Gu.call(this) } function dE() { Gu.call(this) } function uE() { Gu.call(this) } function _E() { Gu.call(this) } function fE() { Gu.call(this) } function yE() { Gu.call(this) } function mE() { Gu.call(this) } function $E() { Gu.call(this) } function gE() { Gu.call(this) } function vE() { Gu.call(this) } function SE() { Gu.call(this) } function CE() { Gu.call(this) } function EE() { Gu.call(this) } function AE() { Gu.call(this) } function bE() { Gu.call(this) } rE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "TIEFLING_Grimspawn"), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Diehard", se().FEATS_GENERAL, a) }, rE.$metadata$ = { kind: p, interfaces: [Gu] }, nE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c; re().setLineage_51qqyu$(i, e, "TIEFLING_Pitborn"); var p = MK(r + "a", 1, T([pK().ATHELTICS]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", p); var h = u(), d = t.managerFeats.hashMapFeatsByCategory.get_11rb$(se().FEATS_GENERAL); for (s = o(d).keys.iterator(); s.hasNext();) { var _ = s.next(), f = d.get_11rb$(_); null != o(f).hashMapRequiredProficiences && o(f.hashMapRequiredProficiences).containsKey_11rb$(pK().ATHELTICS) && 1 === f.level && h.add_11rb$(_) } if (h.addAll_brywnq$(LZ().listMissingGenericSkillFeats), o(LZ().SKILLS_DEPENDENT_MAP).containsKey_11rb$(pK().ATHELTICS)) for (l = o(LZ().SKILLS_DEPENDENT_MAP.get_11rb$(pK().ATHELTICS)), c = 0; c !== l.length; ++c) { var y = l[c]; h.add_11rb$(y) } var m = r + "pitborn feat"; re().addFeatSubChoice_gxiklp$(i, t, e, n, se().FEATS_SKILL, h, m) }, nE.$metadata$ = { kind: p, interfaces: [Gu] }, oE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "TIEFLING_Hellspawn"); var o = MK(r + "a", 1, T([pK().DECEPTION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Legal"), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Lie to Me", se().FEATS_GENERAL, a) }, oE.$metadata$ = { kind: p, interfaces: [Gu] }, sE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, "Nimble Hooves", jW(a, 5, 4)) }, sE.$metadata$ = { kind: p, interfaces: [Gu] }, lE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, lE.$metadata$ = { kind: p, interfaces: [Gu] }, cE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().INTIMIDATION]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().RELIGION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Fiendish Plane") }, cE.$metadata$ = { kind: p, interfaces: [Gu] }, pE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Malicious Bane"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(1, 0), c = new S2(1, "Bane", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(1, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, pE.$metadata$ = { kind: p, interfaces: [Gu] }, hE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Devil Magic", 1, 5, a, new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Devil Magic", o); var s = o.getSpellSlotReference_vux9f0$(2, 0), l = new S2(0, "Invisibility", 0), c = s, p = l; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p); var h = s = o.getSpellSlotReference_vux9f0$(2, 1), d = l = new S2(0, "Misdirection", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d) } else { var u = e.hashMapSpellCasters.get_11rb$("Devil Magic"); if (null != u) { var _ = u.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_), _ = u.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_) } e.hashMapSpellCasters.remove_11rb$("Devil Magic") } re().setProficiencyAtLevel_8d16k4$(i, e, "Devil Magic", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, hE.$metadata$ = { kind: p, interfaces: [Gu] }, dE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Demon Magic", 1, 5, a, new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Demon Magic", o); var s = o.getSpellSlotReference_vux9f0$(2, 0), l = new S2(2, "Paranoia", 0), c = s, p = l; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p); var h = s = o.getSpellSlotReference_vux9f0$(2, 1), d = l = new S2(2, "Shatter", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d) } else { var u = e.hashMapSpellCasters.get_11rb$("Demon Magic"); if (null != u) { var _ = u.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_), _ = u.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_) } e.hashMapSpellCasters.remove_11rb$("Demon Magic") } re().setProficiencyAtLevel_8d16k4$(i, e, "Demon Magic", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, dE.$metadata$ = { kind: p, interfaces: [Gu] }, uE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Daemon Magic", 1, 5, a, new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Daemon Magic", o); var s = o.getSpellSlotReference_vux9f0$(2, 0), l = new S2(2, "Death Knell", 0), c = s, p = l; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p); var h = s = o.getSpellSlotReference_vux9f0$(2, 1), d = l = new S2(2, "False Life", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d) } else { var u = e.hashMapSpellCasters.get_11rb$("Daemon Magic"); if (null != u) { var _ = u.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_), _ = u.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_) } e.hashMapSpellCasters.remove_11rb$("Daemon Magic") } re().setProficiencyAtLevel_8d16k4$(i, e, "Daemon Magic", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, uE.$metadata$ = { kind: p, interfaces: [Gu] }, _E.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Summon Fiendish Kin"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 0, 0, 0, 0, 1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(5, 0), c = new S2(1, "Summon Fiend", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(5, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, _E.$metadata$ = { kind: p, interfaces: [Gu] }, fE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Fiend's Door", 1, 5, a, new Int32Array([0, 0, 0, 0, 0, 1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Fiend's Door", o); var s = o.getSpellSlotReference_vux9f0$(5, 0), l = new S2(0, "Dimension Door", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(s, l) } else { var c = e.hashMapSpellCasters.get_11rb$("Fiend's Door"); if (null != c) { var p = c.getSpellSlotReference_vux9f0$(5, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(p) } e.hashMapSpellCasters.remove_11rb$("Fiend's Door") } re().setProficiencyAtLevel_8d16k4$(i, e, "Fiend's Door", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, fE.$metadata$ = { kind: p, interfaces: [Gu] }, yE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addDamageIncreaseItem_dmcalk$(e, i, r, Q0(a, null, 1, se().DAMAGE_TYPE_EVIL, "Fiendish Strikes applied")) }, yE.$metadata$ = { kind: p, interfaces: [Gu] }, mE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Fiendish Word", 1, 5, a, new Int32Array([0, 0, 0, 0, 0, 0, 0, 1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Fiendish Word", o); var s = o.getSpellSlotReference_vux9f0$(7, 0), l = new S2(1, "Divine Decree", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(s, l) } else { var c = e.hashMapSpellCasters.get_11rb$("Fiendish Word"); if (null != c) { var p = c.getSpellSlotReference_vux9f0$(7, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(p) } e.hashMapSpellCasters.remove_11rb$("Fiendish Word") } re().setProficiencyAtLevel_8d16k4$(i, e, "Fiendish Word", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, mE.$metadata$ = { kind: p, interfaces: [Gu] }, $E.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Aasimar's Mercy"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 0, 0, 0, 2, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s) } else e.hashMapSpellCasters.get_11rb$(o), e.hashMapSpellCasters.remove_11rb$(o); re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, $E.$metadata$ = { kind: p, interfaces: [Gu] }, gE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().SOCIETY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Multilingual", se().FEATS_GENERAL, a), re().setLineage_51qqyu$(i, e, "AASIMAR_Angelkin") }, gE.$metadata$ = { kind: p, interfaces: [Gu] }, vE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "AASIMAR_Lawbringer") }, vE.$metadata$ = { kind: p, interfaces: [Gu] }, SE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setLineage_51qqyu$(i, e, "AASIMAR_Musetouched") }, SE.$metadata$ = { kind: p, interfaces: [Gu] }, CE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Summon Celestial Kin"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 0, 0, 0, 0, 1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(5, 0), c = new S2(1, "Summon Celestial", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(5, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, CE.$metadata$ = { kind: p, interfaces: [Gu] }, EE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Celestial Word"; if (i) { var s = new k2(o, 1, 5, a, new Int32Array([0, 0, 0, 0, 0, 0, 0, 1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(7, 0), c = new S2(1, "Divine Decree", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(l, c) } else { var p = e.hashMapSpellCasters.get_11rb$(o); if (null != p) { var h = p.getSpellSlotReference_vux9f0$(7, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(h) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, EE.$metadata$ = { kind: p, interfaces: [Gu] }, AE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Azata Magic", 1, 5, a, new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Azata Magic", o); var s = o.getSpellSlotReference_vux9f0$(2, 0), l = new S2(1, "Glitterdust", 0), c = s, p = l; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p); var h = s = o.getSpellSlotReference_vux9f0$(2, 1), d = l = new S2(1, "Remove Paralysis", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d) } else { var u = e.hashMapSpellCasters.get_11rb$("Azata Magic"); if (null != u) { var _ = u.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_), _ = u.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_) } e.hashMapSpellCasters.remove_11rb$("Azata Magic") } re().setProficiencyAtLevel_8d16k4$(i, e, "Azata Magic", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, AE.$metadata$ = { kind: p, interfaces: [Gu] }, bE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Archon Magic", 1, 5, a, new Int32Array([0, 0, 2, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Archon Magic", o); var s = o.getSpellSlotReference_vux9f0$(2, 0), l = new S2(1, "Continual Flame", 0), c = s, p = l; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p); var h = s = o.getSpellSlotReference_vux9f0$(2, 1), d = l = new S2(1, "Shield Other", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d) } else { var u = e.hashMapSpellCasters.get_11rb$("Archon Magic"); if (null != u) { var _ = u.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_), _ = u.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_) } e.hashMapSpellCasters.remove_11rb$("Archon Magic") } re().setProficiencyAtLevel_8d16k4$(i, e, "Archon Magic", a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, bE.$metadata$ = { kind: p, interfaces: [Gu] }, aE.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new rE; t.put_xwzc9p$("TIEFLING_Grimspawn", e); var i = new nE; t.put_xwzc9p$("TIEFLING_Pitborn", i); var a = new oE; t.put_xwzc9p$("TIEFLING_Hellspawn", a); var r = new sE; t.put_xwzc9p$("TIEFLING_Nimble Hooves", r); var n = new lE; t.put_xwzc9p$("TIEFLING_Fiendish Eyes", n); var o = new cE; t.put_xwzc9p$("TIEFLING_Fiendish Lore", o); var s = new pE; t.put_xwzc9p$("TIEFLING_Malicious Bane", s); var l = new hE; t.put_xwzc9p$("TIEFLING_Devil Magic", l); var c = new dE; t.put_xwzc9p$("TIEFLING_Demon Magic", c); var p = new uE; t.put_xwzc9p$("TIEFLING_Daemon Magic", p); var h = new _E; t.put_xwzc9p$("TIEFLING_Summon Fiendish Kin", h); var d = new fE; t.put_xwzc9p$("TIEFLING_Fiend's Door", d); var u = new yE; t.put_xwzc9p$("TIEFLING_Fiendish Strikes", u); var _ = new mE; t.put_xwzc9p$("TIEFLING_Fiendish Word", _); var f = new $E; t.put_xwzc9p$("AASIMAR_Aasimar's Mercy", f); var y = new gE; t.put_xwzc9p$("AASIMAR_Angelkin", y); var m = new vE; t.put_xwzc9p$("AASIMAR_Lawbringer", m); var $ = new SE; t.put_xwzc9p$("AASIMAR_Musetouched", $); var g = new CE; t.put_xwzc9p$("AASIMAR_Summon Celestial Kin", g); var v = new EE; t.put_xwzc9p$("AASIMAR_Celestial Word", v); var S = new AE; t.put_xwzc9p$("AASIMAR_Azata Magic", S); var C = new bE; t.put_xwzc9p$("AASIMAR_Archon Magic", C) }, aE.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsTiefling", interfaces: [] }; var IE = null; function wE() { return null === IE && new aE, IE } function LE() { HE = this } function TE() { Gu.call(this) } function kE() { Gu.call(this) } function RE() { Gu.call(this) } function PE() { Gu.call(this) } function ME() { Gu.call(this) } function NE() { Gu.call(this) } function DE() { Gu.call(this) } function xE() { Gu.call(this) } function zE() { Gu.call(this) } function OE() { Gu.call(this) } function FE() { Gu.call(this) } function BE() { Gu.call(this) } function jE() { Gu.call(this) } TE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { qE().addVision_0(i, t, e, r, a), re().addVersatileHeritageFeats_tq0436$(t, e, i, "Aasimar") }, TE.$metadata$ = { kind: p, interfaces: [Gu] }, kE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { qE().addVision_0(i, t, e, r, a), re().addVersatileHeritageFeats_tq0436$(t, e, i, "Changeling") }, kE.$metadata$ = { kind: p, interfaces: [Gu] }, RE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { qE().addVision_0(i, t, e, r, a), re().addVersatileHeritageFeats_tq0436$(t, e, i, "Dhampir") }, RE.$metadata$ = { kind: p, interfaces: [Gu] }, PE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { qE().addVision_0(i, t, e, r, a), re().addVersatileHeritageFeats_tq0436$(t, e, i, "Duskwalker") }, PE.$metadata$ = { kind: p, interfaces: [Gu] }, ME.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { qE().addVision_0(i, t, e, r, a), re().addVersatileHeritageFeats_tq0436$(t, e, i, "Tiefling") }, ME.$metadata$ = { kind: p, interfaces: [Gu] }, NE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { qE().addVision_0(i, t, e, r, a), re().addVersatileHeritageFeats_tq0436$(t, e, i, "Aphorite") }, NE.$metadata$ = { kind: p, interfaces: [Gu] }, DE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addVersatileHeritageFeats_tq0436$(t, e, i, "Beastkin"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Change Shape (Beastkin)") }, DE.$metadata$ = { kind: p, interfaces: [Gu] }, xE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addVersatileHeritageFeats_tq0436$(t, e, i, "Ganzi") }, xE.$metadata$ = { kind: p, interfaces: [Gu] }, zE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().addVersatileHeritageFeats_tq0436$(t, e, i, "Ifrit"), i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_FIRE, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, zE.$metadata$ = { kind: p, interfaces: [Gu] }, OE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { qE().addVision_0(i, t, e, r, a), re().addVersatileHeritageFeats_tq0436$(t, e, i, "Oread") }, OE.$metadata$ = { kind: p, interfaces: [Gu] }, FE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { qE().addVision_0(i, t, e, r, a), re().addVersatileHeritageFeats_tq0436$(t, e, i, "Suli") }, FE.$metadata$ = { kind: p, interfaces: [Gu] }, BE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { qE().addVision_0(i, t, e, r, a), re().addVersatileHeritageFeats_tq0436$(t, e, i, "Sylph") }, BE.$metadata$ = { kind: p, interfaces: [Gu] }, jE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = UW(a, 10, 3, 4); re().addSpeedIncreaseItem_xs3ggp$(i, e, r, o), re().addVersatileHeritageFeats_tq0436$(t, e, i, "Undine") }, jE.$metadata$ = { kind: p, interfaces: [Gu] }, LE.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new TE; t.put_xwzc9p$("VERSATILE_Aasimar", e); var i = new kE; t.put_xwzc9p$("VERSATILE_Changeling", i); var a = new RE; t.put_xwzc9p$("VERSATILE_Dhampir", a); var r = new PE; t.put_xwzc9p$("VERSATILE_Duskwalker", r); var n = new ME; t.put_xwzc9p$("VERSATILE_Tiefling", n); var o = new NE; t.put_xwzc9p$("VERSATILE_Aphorite", o); var s = new DE; t.put_xwzc9p$("VERSATILE_Beastkin", s); var l = new xE; t.put_xwzc9p$("VERSATILE_Ganzi", l); var c = new zE; t.put_xwzc9p$("VERSATILE_Ifrit", c); var p = new OE; t.put_xwzc9p$("VERSATILE_Oread", p); var h = new FE; t.put_xwzc9p$("VERSATILE_Suli", h); var d = new BE; t.put_xwzc9p$("VERSATILE_Sylph", d); var u = new jE; t.put_xwzc9p$("VERSATILE_Undine", u) }, LE.prototype.addVision_0 = function (t, e, i, a, r) { var n = e.managerAncestry.getAncestryTemplate_5btbp7$(i); _(o(n.description), "Low-Light Vision") ? re().addSpecialFromSpecificClass_sqtpfg$(t, e, i, a, r, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) : re().addSpecialFromSpecificClass_sqtpfg$(t, e, i, a, r, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_LOW_LIGHT_VISION) }, LE.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsVersatile", interfaces: [] }; var HE = null; function qE() { return null === HE && new LE, HE } function UE() { ZA = this, this.genieWeapons_0 = ["Falchion", "Ranseur", "Scimitar", "Trident"] } function GE() { Gu.call(this) } function WE() { Gu.call(this) } function YE() { Gu.call(this) } function VE() { Gu.call(this) } function KE() { Gu.call(this) } function XE() { Gu.call(this) } function JE() { Gu.call(this) } function ZE() { Gu.call(this) } function QE() { Gu.call(this) } function tA() { Gu.call(this) } function eA() { Gu.call(this) } function iA() { Gu.call(this) } function aA() { Gu.call(this) } function rA() { Gu.call(this) } function nA() { Gu.call(this) } function oA() { Gu.call(this) } function sA() { Gu.call(this) } function lA() { Gu.call(this) } function cA() { Gu.call(this) } function pA() { Gu.call(this) } function hA() { Gu.call(this) } function dA() { Gu.call(this) } function uA() { Gu.call(this) } function _A() { Gu.call(this) } function fA() { Gu.call(this) } function yA() { Gu.call(this) } function mA() { Gu.call(this) } function $A() { Gu.call(this) } function gA() { Gu.call(this) } function vA() { Gu.call(this) } function SA() { Gu.call(this) } function CA() { Gu.call(this) } function EA() { Gu.call(this) } function AA() { Gu.call(this) } function bA() { Gu.call(this) } function IA() { Gu.call(this) } function wA() { Gu.call(this) } function LA() { Gu.call(this) } function TA() { Gu.call(this) } function kA() { Gu.call(this) } function RA() { Gu.call(this) } function PA() { Gu.call(this) } function MA() { Gu.call(this) } function NA() { Gu.call(this) } function DA() { Gu.call(this) } function xA() { Gu.call(this) } function zA() { Gu.call(this) } function OA() { Gu.call(this) } function FA() { Gu.call(this) } function BA() { Gu.call(this) } function jA() { Gu.call(this) } function HA() { Gu.call(this) } function qA() { Gu.call(this) } function UA() { Gu.call(this) } function GA() { Gu.call(this) } function WA() { Gu.call(this) } function YA() { Gu.call(this) } function VA() { Gu.call(this) } function KA() { Gu.call(this) } function XA() { Gu.call(this) } function JA() { Gu.call(this) } GE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, GE.$metadata$ = { kind: p, interfaces: [Gu] }, WE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().DIPLOMACY]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().SOCIETY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Axis") }, WE.$metadata$ = { kind: p, interfaces: [Gu] }, YE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Specialty Crafting", se().FEATS_GENERAL, a) }, YE.$metadata$ = { kind: p, interfaces: [Gu] }, VE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Truestrike"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Offensive Analysis", 1, 1, a, o, s) }, VE.$metadata$ = { kind: p, interfaces: [Gu] }, KE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Hypercognition"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Analyze Information", 1, 3, a, o, s) }, KE.$metadata$ = { kind: p, interfaces: [Gu] }, XE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Warp Mind"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Crone's Cruelty", 2, 7, a, o, s) }, XE.$metadata$ = { kind: p, interfaces: [Gu] }, JE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Electric Arc"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Virga May", 2, 0, a, o, s) }, JE.$metadata$ = { kind: p, interfaces: [Gu] }, ZE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Guidance"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Moon May", 2, 0, a, o, s) }, ZE.$metadata$ = { kind: p, interfaces: [Gu] }, QE.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Lie to Me", se().FEATS_GENERAL, a) }, QE.$metadata$ = { kind: p, interfaces: [Gu] }, tA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_LOW_LIGHT_VISION) }, tA.$metadata$ = { kind: p, interfaces: [Gu] }, eA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, eA.$metadata$ = { kind: p, interfaces: [Gu] }, iA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Steady Balance", se().FEATS_GENERAL, a), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "2", "GENERAL_Cat Fall", se().FEATS_GENERAL, a) }, iA.$metadata$ = { kind: p, interfaces: [Gu] }, aA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().DECEPTION]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().PERFORMANCE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Art") }, aA.$metadata$ = { kind: p, interfaces: [Gu] }, rA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Breath of Life"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Arise ye Worthy!", 1, 5, a, o, s) }, rA.$metadata$ = { kind: p, interfaces: [Gu] }, nA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Produce Flame"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Inner Fire", 0, 0, a, o, s) }, nA.$metadata$ = { kind: p, interfaces: [Gu] }, oA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_LOW_LIGHT_VISION) }, oA.$metadata$ = { kind: p, interfaces: [Gu] }, sA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, sA.$metadata$ = { kind: p, interfaces: [Gu] }, lA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().INTIMIDATION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Intimidating Glare", se().FEATS_GENERAL, a) }, lA.$metadata$ = { kind: p, interfaces: [Gu] }, cA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([0, 1]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Efreeti Magic", 0, 2, a, ["Enlarge", "Illusory Object"], o) }, cA.$metadata$ = { kind: p, interfaces: [Gu] }, pA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([3]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Summon Fire Elemental", 3, 5, a, ["Summon Elemental"], o) }, pA.$metadata$ = { kind: p, interfaces: [Gu] }, hA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([3]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Summon Water Elemental", 3, 5, a, ["Summon Elemental"], o) }, hA.$metadata$ = { kind: p, interfaces: [Gu] }, dA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([3]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Summon Air Elemental", 3, 5, a, ["Summon Elemental"], o) }, dA.$metadata$ = { kind: p, interfaces: [Gu] }, uA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([3]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Summon Earth Elemental", 3, 5, a, ["Summon Elemental"], o) }, uA.$metadata$ = { kind: p, interfaces: [Gu] }, _A.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, _A.$metadata$ = { kind: p, interfaces: [Gu] }, fA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c; for (s = QA().genieWeapons_0, l = 0; l !== s.length; ++l) { var p = s[l]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, r, p, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, r, p) } for (c = t.managerWeapons.hashMapWeapons.values.iterator(); c.hasNext();) { var h = c.next(); _(o(h.weaponTraits).toLowerCase(), "geniekin") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, h, r + h.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, h.name, r + h.name)) } }, fA.$metadata$ = { kind: p, interfaces: [Gu] }, yA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, QA().genieWeapons_0, "Geniekin") }, yA.$metadata$ = { kind: p, interfaces: [Gu] }, mA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().SURVIVAL]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().ARCANA, pK().NATURE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Plane of Origin") }, mA.$metadata$ = { kind: p, interfaces: [Gu] }, $A.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().ACROBATICS]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Quick Squeeze", se().FEATS_GENERAL, a) }, $A.$metadata$ = { kind: p, interfaces: [Gu] }, gA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, gA.$metadata$ = { kind: p, interfaces: [Gu] }, vA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().PERFORMANCE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Impressive Performance", se().FEATS_GENERAL, a) }, vA.$metadata$ = { kind: p, interfaces: [Gu] }, SA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (i) { var p = c(); for (s = ["Air", "Earth", "Fire", "Water"], l = 0; l !== s.length; ++l) { var h = s[l], d = qX(h, a); p.put_xwzc9p$(h, d), d.textDescription = "You gain resistance equal to half your level (minimum 1) to all damaging effects with the traits of either of your chosen elements." } var u = qX("Geniekin Ancestry 1", a); u.hashMapSpecialChoices.put_xwzc9p$("Select Geniekin Ancestry 1", p); var _ = r + "1"; o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(_, u); var f = qX("Geniekin Ancestry 2", a); f.hashMapSpecialChoices.put_xwzc9p$("Select Geniekin Ancestry 2", p); var y = r + "2"; o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(y, f) } else o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r + "1"), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r + "2") }, SA.$metadata$ = { kind: p, interfaces: [Gu] }, CA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Forager", se().FEATS_GENERAL, a) }, CA.$metadata$ = { kind: p, interfaces: [Gu] }, EA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_ELECTRICITY, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, EA.$metadata$ = { kind: p, interfaces: [Gu] }, AA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Smoke Blending") }, AA.$metadata$ = { kind: p, interfaces: [Gu] }, bA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_POISON, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, bA.$metadata$ = { kind: p, interfaces: [Gu] }, IA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().OCCULTISM]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Oddity Identification", se().FEATS_GENERAL, a) }, IA.$metadata$ = { kind: p, interfaces: [Gu] }, wA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().SOCIETY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Courtly Graces", se().FEATS_GENERAL, a) }, wA.$metadata$ = { kind: p, interfaces: [Gu] }, LA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Fast Recovery", se().FEATS_GENERAL, a) }, LA.$metadata$ = { kind: p, interfaces: [Gu] }, TA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Salt Wound") }, TA.$metadata$ = { kind: p, interfaces: [Gu] }, kA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_COLD, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, kA.$metadata$ = { kind: p, interfaces: [Gu] }, RA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Mist Blending") }, RA.$metadata$ = { kind: p, interfaces: [Gu] }, PA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeatWithExtraInformation_pw7w27$(e, i, r + "1", "GENERAL_Specialty Crafting", se().FEATS_GENERAL, a, "Stonemasonry"), t.managerFeats.activateAndAddFreeFeatWithExtraInformation_pw7w27$(e, i, r + "2", "GENERAL_Specialty Crafting", se().FEATS_GENERAL, a, "Blacksmithing") }, PA.$metadata$ = { kind: p, interfaces: [Gu] }, MA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Glitterdust", "Resist Energy"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Shaitan Magic", 0, 2, a, o, s) }, MA.$metadata$ = { kind: p, interfaces: [Gu] }, NA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Stoneskin"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Shaitan Skin", 0, 4, a, o, s) }, NA.$metadata$ = { kind: p, interfaces: [Gu] }, DA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([2]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Stone Form", 0, 7, a, ["Elemental Form"], o) }, DA.$metadata$ = { kind: p, interfaces: [Gu] }, xA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([2]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Storm Form", 0, 7, a, ["Elemental Form"], o) }, xA.$metadata$ = { kind: p, interfaces: [Gu] }, zA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Alchemical Crafting", se().FEATS_GENERAL, a) }, zA.$metadata$ = { kind: p, interfaces: [Gu] }, OA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().INTIMIDATION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, OA.$metadata$ = { kind: p, interfaces: [Gu] }, FA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Enlarge", "Speak with Animals"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Janni Magic", 0, 2, a, o, s) }, FA.$metadata$ = { kind: p, interfaces: [Gu] }, BA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Create Food", "Create Water"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Janni Hospitality", 0, 2, a, o, s) }, BA.$metadata$ = { kind: p, interfaces: [Gu] }, jA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, jW(a, 5, 4)) }, jA.$metadata$ = { kind: p, interfaces: [Gu] }, HA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Quick Jump", se().FEATS_GENERAL, a), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "2", "GENERAL_Powerful Leap", se().FEATS_GENERAL, a) }, HA.$metadata$ = { kind: p, interfaces: [Gu] }, qA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Gust of Wind", "Invisibility"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Djinni Magic", 0, 2, a, o, s) }, qA.$metadata$ = { kind: p, interfaces: [Gu] }, UA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Heal"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Devilish Wiles", 1, 1, a, o, s) }, UA.$metadata$ = { kind: p, interfaces: [Gu] }, GA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Humanoid Form", "Illusory Creature"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Rakshasa Magic", 1, 2, a, o, s) }, GA.$metadata$ = { kind: p, interfaces: [Gu] }, WA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Blur", "Silence"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Qlippoth Magic", 1, 2, a, o, s) }, WA.$metadata$ = { kind: p, interfaces: [Gu] }, YA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Telekinetic Maneuver", "Web"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Velstrac Magic", 1, 2, a, o, s) }, YA.$metadata$ = { kind: p, interfaces: [Gu] }, VA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([0, 2]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Suli Amir", 0, 4, a, ["Read Omens", "Invisibility"], o) }, VA.$metadata$ = { kind: p, interfaces: [Gu] }, KA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_LOW_LIGHT_VISION) }, KA.$metadata$ = { kind: p, interfaces: [Gu] }, XA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, XA.$metadata$ = { kind: p, interfaces: [Gu] }, JA.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([1, 0]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Marid Magic", 0, 2, a, ["Hydraulic Push", "Obscuring Mist"], o) }, JA.$metadata$ = { kind: p, interfaces: [Gu] }, UE.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new GE; t.put_xwzc9p$("VERSATILE_Lemma of Vision", e); var i = new WE; t.put_xwzc9p$("VERSATILE_Axiomatic Lore", i); var a = new YE; t.put_xwzc9p$("VERSATILE_Intuitive Crafting", a); var r = new VE; t.put_xwzc9p$("VERSATILE_Offensive Analysis", r); var n = new KE; t.put_xwzc9p$("VERSATILE_Analyze Information", n); var o = new XE; t.put_xwzc9p$("VERSATILE_Crone's Cruelty", o); var s = new JE; t.put_xwzc9p$("VERSATILE_Virga May", s); var l = new ZE; t.put_xwzc9p$("VERSATILE_Moon May", l); var c = new QE; t.put_xwzc9p$("VERSATILE_Veil May", c); var p = new tA; t.put_xwzc9p$("VERSATILE_Ganzi Gaze", p); var h = new eA; t.put_xwzc9p$("VERSATILE_Ganzi Gaze (Darkvision)", h); var d = new iA; t.put_xwzc9p$("VERSATILE_Vestigal Wings", d); var u = new aA; t.put_xwzc9p$("VERSATILE_Creative Prodigy", u); var _ = new rA; t.put_xwzc9p$("VERSATILE_Arise ye Worthy!", _); var f = new nA; t.put_xwzc9p$("VERSATILE_Inner Fire", f); var y = new oA; t.put_xwzc9p$("VERSATILE_Ember's Eyes", y); var m = new sA; t.put_xwzc9p$("VERSATILE_Ember's Eyes (Darkvision)", m); var $ = new lA; t.put_xwzc9p$("VERSATILE_Sinister Appearance", $); var g = new cA; t.put_xwzc9p$("VERSATILE_Efreeti Magic", g); var v = new pA; t.put_xwzc9p$("VERSATILE_Summon Fire Elemental", v); var S = new hA; t.put_xwzc9p$("VERSATILE_Summon Water Elemental", S); var C = new dA; t.put_xwzc9p$("VERSATILE_Summon Air Elemental", C); var E = new uA; t.put_xwzc9p$("VERSATILE_Summon Earth Elemental", E); var A = new _A; t.put_xwzc9p$("VERSATILE_Elemental Eyes", A); var b = new fA; t.put_xwzc9p$("VERSATILE_Genie Weapon Familiarity", b); var I = new yA; t.put_xwzc9p$("VERSATILE_Genie Weapon Expertise", I); var w = new mA; t.put_xwzc9p$("VERSATILE_Elemental Lore", w); var L = new $A; t.put_xwzc9p$("VERSATILE_Miresoul", L); var T = new gA; t.put_xwzc9p$("VERSATILE_Dustsoul", T); var k = new vA; t.put_xwzc9p$("VERSATILE_Gemsoul", k); var R = new SA; t.put_xwzc9p$("VERSATILE_Dualborn", R); var P = new CA; t.put_xwzc9p$("VERSATILE_Suli-Jann", P); var M = new EA; t.put_xwzc9p$("VERSATILE_Stormsoul", M); var N = new AA; t.put_xwzc9p$("VERSATILE_Smokesoul", N); var D = new bA; t.put_xwzc9p$("VERSATILE_Fumesoul", D); var x = new IA; t.put_xwzc9p$("VERSATILE_Riftmarked", x); var z = new wA; t.put_xwzc9p$("VERSATILE_Beastbrood", z); var O = new LA; t.put_xwzc9p$("VERSATILE_Shackleborn", O); var F = new TA; t.put_xwzc9p$("VERSATILE_Brinesoul", F); var B = new kA; t.put_xwzc9p$("VERSATILE_Rimesoul", B); var j = new RA; t.put_xwzc9p$("VERSATILE_Mistsoul", j); var H = new PA; t.put_xwzc9p$("VERSATILE_Elemental Trade", H); var q = new MA; t.put_xwzc9p$("VERSATILE_Shaitan Magic", q); var U = new NA; t.put_xwzc9p$("VERSATILE_Shaitan Skin", U); var G = new DA; t.put_xwzc9p$("VERSATILE_Stone Form", G); var W = new xA; t.put_xwzc9p$("VERSATILE_Storm Form", W); var Y = new zA; t.put_xwzc9p$("VERSATILE_Scholar's Inheritance", Y); var V = new OA; t.put_xwzc9p$("VERSATILE_Elemental Embellish", V); var K = new FA; t.put_xwzc9p$("VERSATILE_Janni Magic", K); var X = new BA; t.put_xwzc9p$("VERSATILE_Janni Hospitality", X); var J = new jA; t.put_xwzc9p$("VERSATILE_Swift", J); var Z = new HA; t.put_xwzc9p$("VERSATILE_Slip with the Breeze", Z); var Q = new qA; t.put_xwzc9p$("VERSATILE_Djinni Magic", Q); var tt = new UA; t.put_xwzc9p$("VERSATILE_Devilish Wiles", tt); var et = new GA; t.put_xwzc9p$("VERSATILE_Rakshasa Magic", et); var it = new WA; t.put_xwzc9p$("VERSATILE_Qlippoth Magic", it); var at = new YA; t.put_xwzc9p$("VERSATILE_Velstrac Magic", at); var rt = new VA; t.put_xwzc9p$("VERSATILE_Suli Amir", rt); var nt = new KA; t.put_xwzc9p$("VERSATILE_Aquatic Eyes", nt); var ot = new XA; t.put_xwzc9p$("VERSATILE_Aquatic Eyes (Darkvision)", ot); var st = new JA; t.put_xwzc9p$("VERSATILE_Marid Magic", st) }, UE.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsVersatileLostOmens", interfaces: [] }; var ZA = null; function QA() { return null === ZA && new UE, ZA } function tb() { pb = this } function eb() { Gu.call(this) } function ib() { Gu.call(this) } function ab() { Gu.call(this) } function rb() { Gu.call(this) } function nb() { Gu.call(this) } function ob() { Gu.call(this) } function sb() { Gu.call(this) } function lb() { Gu.call(this) } function cb() { Gu.call(this) } eb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Adopted Ancestry", se().FEATS_GENERAL, a) }, eb.$metadata$ = { kind: p, interfaces: [Gu] }, ib.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Impressive Performance", se().FEATS_GENERAL, a); var o = MK(r + "a", 1, T([pK().PERFORMANCE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o) }, ib.$metadata$ = { kind: p, interfaces: [Gu] }, ab.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, "Spindly Anadi", jW(a, 5, 4)) }, ab.$metadata$ = { kind: p, interfaces: [Gu] }, rb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Anadi Venom") }, rb.$metadata$ = { kind: p, interfaces: [Gu] }, nb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().CRAFTING]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Anadi") }, nb.$metadata$ = { kind: p, interfaces: [Gu] }, ob.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapSpellCasters, s = new R2("Studious Magic", 0, 5, a); o.put_xwzc9p$("Studious Magic", s) } else e.hashMapSpellCasters.remove_11rb$("Studious Magic"); re().setProficiencyAtLevel_8d16k4$(i, e, "Studious Magic", a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, ob.$metadata$ = { kind: p, interfaces: [Gu] }, sb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Specialty Crafting", se().FEATS_GENERAL, a) }, sb.$metadata$ = { kind: p, interfaces: [Gu] }, lb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Humanoid Form", "Mirror Image"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Studious Adept", 0, 2, a, o, s) }, lb.$metadata$ = { kind: p, interfaces: [Gu] }, cb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Web"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Webslinger", 0, 2, a, o, s) }, cb.$metadata$ = { kind: p, interfaces: [Gu] }, tb.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new eb; t.put_xwzc9p$("ANADI_Adaptive Anadi", e); var i = new ib; t.put_xwzc9p$("ANADI_Polychromatic Anadi", i); var a = new ab; t.put_xwzc9p$("ANADI_Spindly Anadi", a); var r = new rb; t.put_xwzc9p$("ANADI_Venomous Anadi", r); var n = new nb; t.put_xwzc9p$("ANADI_Anadi Lore", n); var o = new ob; t.put_xwzc9p$("ANADI_Studious Magic", o); var s = new sb; t.put_xwzc9p$("ANADI_Web Weaver", s); var l = new lb; t.put_xwzc9p$("ANADI_Studious Adept", l); var c = new cb; t.put_xwzc9p$("ANADI_Webslinger", c) }, tb.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsAnadi", interfaces: [] }; var pb = null; function hb() { return null === pb && new tb, pb } function db() { Sb = this, this.trainedWeapons = ["Shortbow", "Composite Shortbow", "Longsword", "Glaive", "Longspear", "Spear"] } function ub() { Gu.call(this) } function _b() { Gu.call(this) } function fb() { Gu.call(this) } function yb() { Gu.call(this) } function mb() { Gu.call(this) } function $b() { Gu.call(this) } function gb() { Gu.call(this) } function vb() { Gu.call(this) } ub.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Call to Axis") }, ub.$metadata$ = { kind: p, interfaces: [Gu] }, _b.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Rite of Invocation"; if (i) { var s = e.hashMapSpellCasters, l = new R2(o, 2, 5, a); s.put_xwzc9p$(o, l) } else e.hashMapSpellCasters.remove_11rb$(o); re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, _b.$metadata$ = { kind: p, interfaces: [Gu] }, fb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s, l; for (o = Cb().trainedWeapons, s = 0; s !== o.length; ++s) { var c = o[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, "Conrasu Weapon Familiarity", c, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, "Conrasu Weapon Familiarity", c) } for (l = t.managerWeapons.hashMapWeapons.values.iterator(); l.hasNext();) { var p = l.next(); _(p.weaponTraits, "Conrasu") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, p, r + p.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, p.name, r + p.name)) } }, fb.$metadata$ = { kind: p, interfaces: [Gu] }, yb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().CRAFTING]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().OCCULTISM]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Conrasu") }, yb.$metadata$ = { kind: p, interfaces: [Gu] }, mb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Untrained Improvisation", se().FEATS_GENERAL, a) }, mb.$metadata$ = { kind: p, interfaces: [Gu] }, $b.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Augury", "Calm Emotions"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Ceremony of Aeon's Guidance", 1, 2, a, o, s) }, $b.$metadata$ = { kind: p, interfaces: [Gu] }, gb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Resist Energy", "Shield Other"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Ceremony of Aeon's Shield", 1, 2, a, o, s) }, gb.$metadata$ = { kind: p, interfaces: [Gu] }, vb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, Cb().trainedWeapons, "Conrasu") }, vb.$metadata$ = { kind: p, interfaces: [Gu] }, db.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new ub; t.put_xwzc9p$("CONRASU_Rite of Knowing", e); var i = new _b; t.put_xwzc9p$("CONRASU_Rite of Invocation", i); var a = new fb; t.put_xwzc9p$("CONRASU_Conrasu Weapon Familiarity", a); var r = new yb; t.put_xwzc9p$("CONRASU_Conrasu Lore", r); var n = new mb; t.put_xwzc9p$("CONRASU_Ceremony of Knowledge", n); var o = new $b; t.put_xwzc9p$("CONRASU_Ceremony of Aeon's Guidance", o); var s = new gb; t.put_xwzc9p$("CONRASU_Ceremony of Aeon's Shield", s); var l = new vb; t.put_xwzc9p$("CONRASU_Conrasu Weapon Expertise", l) }, db.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsConrasu", interfaces: [] }; var Sb = null; function Cb() { return null === Sb && new db, Sb } function Eb() { Fb = this, this.trainedWeapons = ["Flail", "Khopesh", "Mambele", "Spear", "War Flail"] } function Ab() { Gu.call(this) } function bb() { Gu.call(this) } function Ib() { Gu.call(this) } function wb() { Gu.call(this) } function Lb() { Gu.call(this) } function Tb() { Gu.call(this) } function kb() { Gu.call(this) } function Rb() { Gu.call(this) } function Pb() { Gu.call(this) } function Mb() { Gu.call(this) } function Nb() { Gu.call(this) } function Db() { Gu.call(this) } function xb() { Gu.call(this) } function zb() { Gu.call(this) } function Ob() { Gu.call(this) } Ab.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { i ? e.hashMapSizeModifiders.put_xwzc9p$(r, DW(a, -1)) : e.hashMapSizeModifiders.remove_11rb$(r); var o = MK(r + "a", 1, T([pK().DECEPTION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o) }, Ab.$metadata$ = { kind: p, interfaces: [Gu] }, bb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addHitPointIncreaseItem_sfpo92$(i, e, r, DW(a, 2)) }, bb.$metadata$ = { kind: p, interfaces: [Gu] }, Ib.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().DIPLOMACY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o) }, Ib.$metadata$ = { kind: p, interfaces: [Gu] }, wb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Ghost Sound"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Witch Gnoll", 2, 0, a, o, s) }, wb.$metadata$ = { kind: p, interfaces: [Gu] }, Lb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().STEALTH]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Gnoll") }, Lb.$metadata$ = { kind: p, interfaces: [Gu] }, Tb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s; for (o = Bb().trainedWeapons, s = 0; s !== o.length; ++s) { var l = o[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, "Gnoll Weapon Familiarity", l, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, "Gnoll Weapon Familiarity", l) } }, Tb.$metadata$ = { kind: p, interfaces: [Gu] }, kb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, kb.$metadata$ = { kind: p, interfaces: [Gu] }, Rb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Imprecise Scent") }, Rb.$metadata$ = { kind: p, interfaces: [Gu] }, Pb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Ventriloquism"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Distant Cackle", 2, 1, a, o, s) }, Pb.$metadata$ = { kind: p, interfaces: [Gu] }, Mb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Terrain Stalker", se().FEATS_GENERAL, a) }, Mb.$metadata$ = { kind: p, interfaces: [Gu] }, Nb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Enthrall"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Breath Like Honey", 2, 3, a, o, s) }, Nb.$metadata$ = { kind: p, interfaces: [Gu] }, Db.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Augury", "Augury"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Grandmother's Wisdom", 2, 2, a, o, s) }, Db.$metadata$ = { kind: p, interfaces: [Gu] }, xb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Battle Cry", se().FEATS_GENERAL, a) }, xb.$metadata$ = { kind: p, interfaces: [Gu] }, zb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([3]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Ancestor's Rage", 2, 5, a, ["Animal Form"], o) }, zb.$metadata$ = { kind: p, interfaces: [Gu] }, Ob.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, Bb().trainedWeapons, "Gnoll") }, Ob.$metadata$ = { kind: p, interfaces: [Gu] }, Eb.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Ab; t.put_xwzc9p$("GNOLL_Ant Gnoll", e); var i = new bb; t.put_xwzc9p$("GNOLL_Great Gnoll", i); var a = new Ib; t.put_xwzc9p$("GNOLL_Sweetbreath Gnoll", a); var r = new wb; t.put_xwzc9p$("GNOLL_Witch Gnoll", r); var n = new Lb; t.put_xwzc9p$("GNOLL_Gnoll Lore", n); var o = new Tb; t.put_xwzc9p$("GNOLL_Gnoll Weapon Familiarity", o); var s = new kb; t.put_xwzc9p$("GNOLL_Hyena Familiar", s); var l = new Rb; t.put_xwzc9p$("GNOLL_Sensitive Nose", l); var c = new Pb; t.put_xwzc9p$("GNOLL_Distant Cackle", c); var p = new Mb; t.put_xwzc9p$("GNOLL_Pack Stalker", p); var h = new Nb; t.put_xwzc9p$("GNOLL_Breath Like Honey", h); var d = new Db; t.put_xwzc9p$("GNOLL_Grandmother's Wisdom", d); var u = new xb; t.put_xwzc9p$("GNOLL_Laughing Gnoll", u); var _ = new zb; t.put_xwzc9p$("GNOLL_Ancestor's Rage", _); var f = new Ob; t.put_xwzc9p$("GNOLL_Gnoll Weapon Expertise", f) }, Eb.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsGnoll", interfaces: [] }; var Fb = null; function Bb() { return null === Fb && new Eb, Fb } function jb() { Kb = this } function Hb() { Gu.call(this) } function qb() { Gu.call(this) } function Ub() { Gu.call(this) } function Gb() { Gu.call(this) } function Wb() { Gu.call(this) } function Yb() { Gu.call(this) } function Vb() { Gu.call(this) } Hb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_LOW_LIGHT_VISION) }, Hb.$metadata$ = { kind: p, interfaces: [Gu] }, qb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().INTIMIDATION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Intimidating Glare", se().FEATS_GENERAL, a) }, qb.$metadata$ = { kind: p, interfaces: [Gu] }, Ub.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Detect Magic"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Witch Gnoll", 0, 0, a, o, s) }, Ub.$metadata$ = { kind: p, interfaces: [Gu] }, Gb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r + "a", 1, T([pK().SOCIETY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", o), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Eye for Numbers", se().FEATS_GENERAL, a) }, Gb.$metadata$ = { kind: p, interfaces: [Gu] }, Wb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().STEALTH]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Goloma") }, Wb.$metadata$ = { kind: p, interfaces: [Gu] }, Yb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, Yb.$metadata$ = { kind: p, interfaces: [Gu] }, Vb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["True Seeing"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "True Gaze", 1, 6, a, o, s) }, Vb.$metadata$ = { kind: p, interfaces: [Gu] }, jb.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Hb; t.put_xwzc9p$("GOLOMA_Farsight Goloma", e); var i = new qb; t.put_xwzc9p$("GOLOMA_Frightful Goloma", i); var a = new Ub; t.put_xwzc9p$("GOLOMA_Vigilant Goloma", a); var r = new Gb; t.put_xwzc9p$("GOLOMA_Catch the Details", r); var n = new Wb; t.put_xwzc9p$("GOLOMA_Goloma Lore", n); var o = new Yb; t.put_xwzc9p$("GOLOMA_Pierce the Darkness", o); var s = new Vb; t.put_xwzc9p$("GOLOMA_True Gaze", s) }, jb.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsGoloma", interfaces: [] }; var Kb = null; function Xb() { return null === Kb && new jb, Kb } function Jb() { aI = this, this.trainedWeapons = ["Shortbow", "Composite Shortbow", "Blowgun", "Hatchet", "Scythe"] } function Zb() { Gu.call(this) } function Qb() { Gu.call(this) } function tI() { Gu.call(this) } function eI() { Gu.call(this) } function iI() { Gu.call(this) } Zb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Toxic Skin") }, Zb.$metadata$ = { kind: p, interfaces: [Gu] }, Qb.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = T([pK().NATURE]), s = MK(r + "a", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", s), s = MK(r + "b", 1, o = T([pK().STEALTH]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "b", s), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Grippli") }, Qb.$metadata$ = { kind: p, interfaces: [Gu] }, tI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s, l; for (o = rI().trainedWeapons, s = 0; s !== o.length; ++s) { var c = o[s]; i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, "Grippli Weapon Familiarity", c, a, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, "Grippli Weapon Familiarity", c) } for (l = t.managerWeapons.hashMapWeapons.values.iterator(); l.hasNext();) { var p = l.next(); _(p.weaponTraits, "Grippli") && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, p, r + p.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, p.name, r + p.name)) } }, tI.$metadata$ = { kind: p, interfaces: [Gu] }, eI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, eI.$metadata$ = { kind: p, interfaces: [Gu] }, iI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, rI().trainedWeapons, "Grippli") }, iI.$metadata$ = { kind: p, interfaces: [Gu] }, Jb.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Zb; t.put_xwzc9p$("GRIPPLI_Poisonhide Grippli", e); var i = new Qb; t.put_xwzc9p$("GRIPPLI_Grippli Lore", i); var a = new tI; t.put_xwzc9p$("GRIPPLI_Grippli Weapon Familiarity", a); var r = new eI; t.put_xwzc9p$("GRIPPLI_Nocturnal Grippli", r); var n = new iI; t.put_xwzc9p$("GRIPPLI_Grippli Weapon Expertise", n) }, Jb.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsGrippli", interfaces: [] }; var aI = null; function rI() { return null === aI && new Jb, aI } function nI() { mI = this, this.trainedWeapons = ["Shortbow", "Composite Shortbow", "Blowgun", "Hatchet", "Scythe"], this.CASTER_SPELLKEEPER_0 = "Spellkeeper", this.SPECIAL_SPELLKEEPER_MAGIC_CHOICE_0 = "Spellkeeper Magic Type", this.SPECIAL_SPELLKEEPER_MAGIC_SPECIAL_REF_0 = "Spellkeeper Special Choice" } function oI() { Gu.call(this) } function sI(t, e, i, a, r) { this.closure$characterBuild = t, this.closure$featRef = e, this.closure$activate = i, this.closure$dataControl = a, this.closure$level = r } function lI(t) { this.closure$skillName = t } function cI() { Gu.call(this) } function pI() { Gu.call(this) } function hI(t) { this.closure$i = t } function dI() { Gu.call(this) } function uI() { Gu.call(this) } function _I() { Gu.call(this) } function fI() { Gu.call(this) } function yI() { Gu.call(this) } sI.prototype.additionalInfo_61zpoe$ = function (t) { var e = this.closure$characterBuild.getCharacterData().hashMapFeatExtraSelections, i = this.closure$featRef; e.put_xwzc9p$(i, t), $I().addLorekeeperSkills_51qqyu$(this.closure$activate, this.closure$characterBuild, "Lore: " + t), this.closure$dataControl.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(this.closure$characterBuild, this.closure$level), this.closure$dataControl.getGuiUpdateControl().updateFeatText_wothqf$(this.closure$characterBuild, this.closure$level, this.closure$featRef) }, sI.$metadata$ = { kind: p, interfaces: [v9] }, lI.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { $I().addLorekeeperSkills_51qqyu$(i, e, this.closure$skillName) }, lI.$metadata$ = { kind: p, interfaces: [xX] }, oI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (i) if (e.getCharacterData().hashMapFeatExtraSelections.containsKey_11rb$(r)) { var p = e.getCharacterData().hashMapFeatExtraSelections.get_11rb$(r); $I().addLorekeeperSkills_51qqyu$(i, e, "Lore: " + j(p)) } else { var h = new sI(e, r, i, t, a); if (!t.getGuiUpdateControl().getAdditionalInfo_q8jdea$(e, "Select Shisk Lore", "", h)) { var d = e.getCharacterData().hashMapFeatExtraSelections, _ = se().NOT_SELECTED; d.put_xwzc9p$(r, _) } } else { if (e.getCharacterData().hashMapFeatExtraSelections.containsKey_11rb$(r)) { var f = e.getCharacterData().hashMapFeatExtraSelections.get_11rb$(r); e.getCharacterData().hashMapFeatExtraSelections.remove_11rb$(r), $I().addLorekeeperSkills_51qqyu$(i, e, "Lore: " + j(f)) } t.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(e, a) } if (i) { var y = HX(); y.level = a, y.name = "Lorekeeper Shisk Skill", y.textDescription = "Select an intelligence or wisdom based skill"; var m = u(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var $ = s.next(), g = e.getSkillProficiency_61zpoe$($); null == g || 3 !== g.abilityRef && 4 !== g.abilityRef || m.add_11rb$($) } var v = c(); for (l = m.iterator(); l.hasNext();) { var S = l.next(), C = qX(S, a); C.specialEffect = new lI(S), v.put_xwzc9p$(S, C) } y.hashMapSpecialChoices.put_xwzc9p$("Select Lorekeeper Skill", v), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, y) } else { var E = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != E && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, E), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, oI.$metadata$ = { kind: p, interfaces: [Gu] }, cI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Barbed Quills") }, cI.$metadata$ = { kind: p, interfaces: [Gu] }, hI.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapSpellCasters, o = $I().CASTER_SPELLKEEPER_0, s = new R2($I().CASTER_SPELLKEEPER_0, this.closure$i, 5, a); n.put_xwzc9p$(o, s) } else e.hashMapSpellCasters.remove_11rb$($I().CASTER_SPELLKEEPER_0); re().setProficiencyAtLevel_8d16k4$(i, e, $I().CASTER_SPELLKEEPER_0, a, k0().ARRAY_SPELL_LISTS[this.closure$i], 2) }, hI.$metadata$ = { kind: p, interfaces: [xX] }, pI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { for (var s = qX("Spellkeeper Magic Type", a), l = c(), p = 2; p <= 3; p++) { var h = k0().ARRAY_SPELL_LISTS[p], d = qX(h, a); l.put_xwzc9p$(h, d), d.textDescription = "Choose occult or primal. You gain one cantrip from that magical traditions spell list.", d.specialEffect = new hI(p) } var u = s.hashMapSpecialChoices, _ = $I().SPECIAL_SPELLKEEPER_MAGIC_CHOICE_0; u.put_xwzc9p$(_, l); var f = o(e.hashMapSpecialInformation[a - 1 | 0]), y = $I().SPECIAL_SPELLKEEPER_MAGIC_SPECIAL_REF_0; f.put_xwzc9p$(y, s) } else { var m = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$($I().SPECIAL_SPELLKEEPER_MAGIC_SPECIAL_REF_0); null != m && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, $I().SPECIAL_SPELLKEEPER_MAGIC_SPECIAL_REF_0, m), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$($I().SPECIAL_SPELLKEEPER_MAGIC_SPECIAL_REF_0) } t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 1, !0) }, pI.$metadata$ = { kind: p, interfaces: [Gu] }, dI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), l = u(); for (o = s.iterator(); o.hasNext();) { var c = o.next(); _(c, "Lore") && l.add_11rb$(c) } var p = MK(r + "a", 3, l, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "a", p), re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Shisk") }, dI.$metadata$ = { kind: p, interfaces: [Gu] }, uI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = kX(a, TX().RESISTANCE_FIRE, 4); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, uI.$metadata$ = { kind: p, interfaces: [Gu] }, _I.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Hypercognition"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Dig Up Secrets", 2, 3, a, o, s) }, _I.$metadata$ = { kind: p, interfaces: [Gu] }, fI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Nondetection"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "None Shall Know", 2, 3, a, o, s) }, fI.$metadata$ = { kind: p, interfaces: [Gu] }, yI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Prying Eye"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Secret Eyes", 2, 5, a, o, s) }, yI.$metadata$ = { kind: p, interfaces: [Gu] }, nI.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new oI; t.put_xwzc9p$("SHISK_Lorekeeper Shisk", e); var i = new cI; t.put_xwzc9p$("SHISK_Quillcoat Shisk", i); var a = new pI; t.put_xwzc9p$("SHISK_Spellkeeper Shisk", a); var r = new dI; t.put_xwzc9p$("SHISK_Shisk Lore", r); var n = new uI; t.put_xwzc9p$("SHISK_Inured to the Heat", n); var o = new _I; t.put_xwzc9p$("SHISK_Dig Up Secrets", o); var s = new fI; t.put_xwzc9p$("SHISK_None Shall Know", s); var l = new yI; t.put_xwzc9p$("SHISK_Secret Eyes", l) }, nI.prototype.addLorekeeperSkills_51qqyu$ = function (t, e, i) { if (t) if (e.skillProficiencyExists_61zpoe$(i)) { var a = e.getSkillProficiency_61zpoe$(i); null != a && (a.setProficiencyAtLevel_3m52m6$("Increase 1", 1, 2), a.setProficiencyAtLevel_3m52m6$("Increase 2", 5, 4)) } else { var r = LK(3, !1, 1); e.addSkillProficiency_4z2sac$(i, r), e.addProficiency_gzayp1$(i, r), r.setProficiencyAtLevel_3m52m6$("Increase 1", 1, 2), r.setProficiencyAtLevel_3m52m6$("Increase 2", 5, 4) } else { var n = e.getSkillProficiency_61zpoe$(i); null != n && (n.removeProficiencyAtLevel_61zpoe$("Increase 1"), n.removeProficiencyAtLevel_61zpoe$("Increase 2")) } }, nI.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsShisk", interfaces: [] }; var mI = null; function $I() { return null === mI && new nI, mI } function gI() { EI = this } function vI() { Gu.call(this) } function SI(t) { this.closure$featRef = t } function CI(t) { this.closure$featRef = t } SI.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, this.closure$featRef + "hunt prey", a, BK().SPECIALS_RANGER, "Hunt Prey") }, SI.$metadata$ = { kind: p, interfaces: [xX] }, CI.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef, a, pK().SURVIVAL, 4) }, CI.$metadata$ = { kind: p, interfaces: [xX] }, vI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = HX(); s.level = a, s.name = "Game Hunter", s.textDescription = "Select Hunt Prey or expert in Survival if you already have Hunt Prey."; var l = c(), p = qX("Hunt Prey", a); p.textDescription = s.textDescription, p.specialEffect = new SI(r), l.put_xwzc9p$("Hunt Prey", p), (p = qX("Survival Expert", a)).textDescription = s.textDescription, p.specialEffect = new CI(r), l.put_xwzc9p$("Survival Expert", p), s.hashMapSpecialChoices.put_xwzc9p$("Game Hunter", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var h = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != h && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, h), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, vI.$metadata$ = { kind: p, interfaces: [Gu] }, gI.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new vI; t.put_xwzc9p$("ARCHETYPE_GAME HUNTER_Game Hunter Dedication", e) }, gI.$metadata$ = { kind: f, simpleName: "FeatEffectsAP175to", interfaces: [] }; var EI = null; function AI() { return null === EI && new gI, EI } function bI() { TI = this, this.SPECIAL_REF_ARCANE_SCHOOL = "Arcane School", this.SPECIAL_CHOICE_ELEMENTAL_SCHOOL = "Select Elemental School" } function II() { Gu.call(this) } function wI(t) { this.closure$elementalSchool = t } function LI(t, e, i, a) { this.closure$dataControl = t, this.closure$characterBuild = e, this.closure$elementalSchool = i, S3(a, this) } II.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (t.getGuiUpdateControl().finishedLoading_n40yp2$(e)) { if (null != e.getCharacterData().getSpecialSelection_puj7f4$(XJ().SPECIAL_REF_DRUID_ORDER, XJ().SPECIAL_CHOICE_DRUID_ORDER)) { var s = o(e.hashMapSpecialInformation[0]).get_11rb$(XJ().SPECIAL_REF_DRUID_ORDER); null != s && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, XJ().SPECIAL_REF_DRUID_ORDER, s) } if (null != e.getCharacterData().getSpecialSelection_puj7f4$(bQ().SORCERER_BLOODLINE_SPECIAL_REF, bQ().SORCERER_BLOODLINE_SPECIAL_CHOICE)) { var l = o(e.hashMapSpecialInformation[0]).get_11rb$(bQ().SORCERER_BLOODLINE_SPECIAL_REF); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, bQ().SORCERER_BLOODLINE_SPECIAL_REF, l) } } if (e.isElementalist = i, i ? e.getCharacterData().setClassArchetype_pdl1vj$("CLASS_ARCHETYPE_Elemental Magic") : e.getCharacterData().setClassArchetype_pdl1vj$(_l().CLASS_ARCHETYPE_NONE), m(e.getCharacterData().getClassName(), Gn().CLASS_WIZARD)) if (i) { var c = e.getSpecialInformation_19mbxw$(1, A0().SPECIAL_REF_ARCANE_SCHOOL), p = e.getCharacterData().getSpecialSelection_puj7f4$(A0().SPECIAL_REF_ARCANE_SCHOOL, A0().SPECIAL_CHOICE_ARCANE_SCHOOL); null != p && null != c && (t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, p, c), e.getCharacterData().removeSpecialSelection_puj7f4$(A0().SPECIAL_REF_ARCANE_SCHOOL, A0().SPECIAL_CHOICE_ARCANE_SCHOOL)), null != c && t.getGuiUpdateControl().finishedLoading_n40yp2$(e) && c.hashMapSpecialChoices.remove_11rb$(A0().SPECIAL_CHOICE_ARCANE_SCHOOL), kI().setWizardSchoolElementalistSchools_fhac18$(t, e) } else { var h = e.getSpecialInformation_19mbxw$(1, kI().SPECIAL_REF_ARCANE_SCHOOL), d = e.getCharacterData().getSpecialSelection_puj7f4$(kI().SPECIAL_REF_ARCANE_SCHOOL, kI().SPECIAL_CHOICE_ELEMENTAL_SCHOOL); null != d && null != h && (t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, d, h), e.getCharacterData().removeSpecialSelection_puj7f4$(kI().SPECIAL_REF_ARCANE_SCHOOL, kI().SPECIAL_CHOICE_ELEMENTAL_SCHOOL)), null != h && h.hashMapSpecialChoices.remove_11rb$(kI().SPECIAL_CHOICE_ELEMENTAL_SCHOOL), A0().setWizardSchoolSpecials_sfkw43$(t) } }, II.$metadata$ = { kind: p, interfaces: [Gu] }, bI.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new II; t.put_xwzc9p$("CLASS_ARCHETYPE_Elemental Magic", e) }, LI.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { var i, a = this.closure$dataControl.managerSpells.getListSpellsAtLevel_bh8xs5$(this.closure$characterBuild, 5, e), r = u(); for (i = a.iterator(); i.hasNext();) { var n = i.next(); _(n.traits.toLowerCase(), this.closure$elementalSchool.toLowerCase()) && r.add_11rb$(n) } return r }, LI.$metadata$ = { kind: p, interfaces: [v3] }, wI.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { try { var l = VK().ELEMENTAL_SCHOOLS.get_11rb$(this.closure$elementalSchool); re().increaseFocusPoints_sfpo92$(a, i, "Wizard Arcane School", DW(r, 1)), re().addAwardedPower_ujte31$(a, i, "Wizard Arcane School", P0(o(l), r, 1)); for (var c = i.hashMapSpellCasters.get_11rb$(Gn().CLASS_WIZARD), p = 0; p <= 9; p++) { var d = Gn().CLASS_WIZARD + "Bonus" + p.toString(); if (a) { var u = new LI(t, i, this.closure$elementalSchool, p); u.header = "School Spell", o(c).getHashMapBonusSpell_fhac18$(t, i).put_xwzc9p$(d, u) } else o(c).getHashMapBonusSpell_fhac18$(t, i).remove_11rb$(d) } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, wI.$metadata$ = { kind: p, interfaces: [xX] }, bI.prototype.setWizardSchoolElementalistSchools_fhac18$ = function (t, e) { var i, a, r = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WIZARD).get_11rb$("Arcane School"), n = c(); o(r).hashMapSpecialChoices.remove_11rb$(A0().SPECIAL_CHOICE_ARCANE_SCHOOL); var s = o(r).hashMapSpecialChoices, l = this.SPECIAL_CHOICE_ELEMENTAL_SCHOOL; for (s.put_xwzc9p$(l, n), i = ["Air", "Earth", "Fire", "Water"], a = 0; a !== i.length; ++a) { var p = i[a], h = qX(p, 1); h.textDescription = "If youre a wizard with an arcane school, instead of specializing in a school of magic, you specialize in one of the four elements: air, earth, fire, or water.", n.put_xwzc9p$(p, h), h.specialEffect = new wI(p) } }, bI.$metadata$ = { kind: f, simpleName: "FeatEffectsClassArchetypeElementalist", interfaces: [] }; var TI = null; function kI() { return null === TI && new bI, TI } function RI() { NI = this } function PI() { Gu.call(this) } function MI() { Gu.call(this) } PI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { i ? e.getCharacterData().setClassArchetype_pdl1vj$("CLASS_ARCHETYPE_Flexible Spell Preparation") : e.getCharacterData().setClassArchetype_pdl1vj$(_l().CLASS_ARCHETYPE_NONE); var o = [Sr().CLASS_CLERIC, Ir().CLASS_DRUID, Bn().CLASS_NAME, Gn().CLASS_WIZARD], s = e.getCharacterData().getClassName(); if (X(o, s)) { var l = e.hashMapSpellCasters.get_11rb$(s); if (null != l) { l.flexibleCaster = i; var c = new O2(1, 0, -1); c.maxLevel = 1, l.addSpellsPerDayAdjustment_3dm4w3$(i, "Flexible Caster 1", c), (c = new O2(1, 0, -1)).maxLevel = 3, l.addSpellsPerDayAdjustment_3dm4w3$(i, "Flexible Caster 2", c) } } var p = e.getCharacterData().getDualClass(); if (null != p && X(o, p)) { var h = e.hashMapSpellCasters.get_11rb$(p); if (null != h) { h.flexibleCaster = i; var d = new O2(1, 0, -1); d.maxLevel = 1, h.addSpellsPerDayAdjustment_3dm4w3$(i, "Flexible Caster 1", d), (d = new O2(1, 0, -1)).maxLevel = 3, h.addSpellsPerDayAdjustment_3dm4w3$(i, "Flexible Caster 2", d) } } }, PI.$metadata$ = { kind: p, interfaces: [Gu] }, MI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { i ? e.getCharacterData().setClassArchetype_pdl1vj$("CLASS_ARCHETYPE_Wellspring Magic") : e.getCharacterData().setClassArchetype_pdl1vj$(_l().CLASS_ARCHETYPE_NONE); var o = [hr().CLASS_BARD, ln().CLASS_NAME, Ln().CLASS_NAME, En().CLASS_SORCERER], s = e.getCharacterData().getClassName(); if (X(o, s)) { var l = e.hashMapSpellCasters.get_11rb$(s); if (null != l) { l.wellspringMage = i; var c = new O2(1, 0, -1); l.addSpellsPerDayAdjustment_3dm4w3$(i, "Wellspring Mage 1", c) } } var p = e.getCharacterData().getDualClass(); if (null != p && X(o, p)) { var h = e.hashMapSpellCasters.get_11rb$(p); if (null != h) { h.wellspringMage = i; var d = new O2(1, 0, -1); h.addSpellsPerDayAdjustment_3dm4w3$(i, "Wellspring Mage 1", d) } } }, MI.$metadata$ = { kind: p, interfaces: [Gu] }, RI.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new PI; t.put_xwzc9p$("CLASS_ARCHETYPE_Flexible Spell Preparation", e); var i = new MI; t.put_xwzc9p$("CLASS_ARCHETYPE_Wellspring Magic", i) }, RI.$metadata$ = { kind: f, simpleName: "FeatEffectsClassArchetypeFlexibleSpellcaster", interfaces: [] }; var NI = null; function DI() { return null === NI && new RI, NI } function xI() { OI = this } function zI() { Gu.call(this) } zI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (t.getGuiUpdateControl().finishedLoading_n40yp2$(e) && null != e.getCharacterData().getSpecialSelection_puj7f4$(A0().SPECIAL_REF_ARCANE_SCHOOL, A0().SPECIAL_CHOICE_ARCANE_SCHOOL)) { var l = o(e.hashMapSpecialInformation[0]).get_11rb$(A0().SPECIAL_REF_ARCANE_SCHOOL); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, A0().SPECIAL_REF_ARCANE_SCHOOL, l) } for (e.isRunelord = i, i ? e.getCharacterData().setClassArchetype_pdl1vj$("CLASS_ARCHETYPE_Runelord Specialization") : e.getCharacterData().setClassArchetype_pdl1vj$(_l().CLASS_ARCHETYPE_NONE), s = t.managerWeapons.getAllWeaponsInGroup_61zpoe$("Polearm").iterator(); s.hasNext();) { var c = s.next(); re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, "Runelord 1", 1, c, 2), re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, "Runelord 2", 11, c, 4) } }, zI.$metadata$ = { kind: p, interfaces: [Gu] }, xI.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new zI; t.put_xwzc9p$("CLASS_ARCHETYPE_Runelord Specialization", e) }, xI.$metadata$ = { kind: f, simpleName: "FeatEffectsClassArchetypeRunelord", interfaces: [] }; var OI = null; function FI() { return null === OI && new xI, OI } function BI() { HI = this } function jI() { Gu.call(this) } jI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (t.getGuiUpdateControl().finishedLoading_n40yp2$(e) && null != e.getCharacterData().getSpecialSelection_puj7f4$(pZ().SPECIAL_REF_GUNSLINGER_WAY, pZ().CHOICE_GUNSLINGER_WAY)) { var s = o(e.hashMapSpecialInformation[0]).get_11rb$(pZ().SPECIAL_REF_GUNSLINGER_WAY); null != s && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, pZ().SPECIAL_REF_GUNSLINGER_WAY, s) } var l = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_GUNSLINGER_DEEDS_ACTIONS); if (pZ().addDeedActions_dgws0a$(i, e, "Thoughtful Reload", "Energy Shot", "Recall Ammunition", "Dispelling Bullet", l), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().ARCANA]), i) { e.getCharacterData().setClassArchetype_pdl1vj$("CLASS_ARCHETYPE_Spellshot"); var c = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_GUNSLINGER).get_11rb$(pZ().SPECIAL_REF_GUNSLINGER_WAY); o(c).hashMapSpecialChoices.clear() } else e.getCharacterData().setClassArchetype_pdl1vj$(_l().CLASS_ARCHETYPE_NONE), pZ().setDeedMethods_sfkw43$(t); t.getGuiUpdateControl().addExtraFeatRefreshLevel_hdt6c$(e, 9), t.getGuiUpdateControl().addExtraFeatRefreshLevel_hdt6c$(e, 15) }, jI.$metadata$ = { kind: p, interfaces: [Gu] }, BI.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new jI; t.put_xwzc9p$("CLASS_ARCHETYPE_Spellshot", e) }, BI.$metadata$ = { kind: f, simpleName: "FeatEffectsClassArchetypeSpellshot", interfaces: [] }; var HI = null; function qI() { return null === HI && new BI, HI } function UI() { fw = this } function GI() { Gu.call(this) } function WI() { Gu.call(this) } function YI() { Gu.call(this) } function VI() { Gu.call(this) } function KI() { Gu.call(this) } function XI() { Gu.call(this) } function JI() { Gu.call(this) } function ZI() { Gu.call(this) } function QI() { Gu.call(this) } function tw() { Gu.call(this) } function ew() { Gu.call(this) } function iw() { Gu.call(this) } function aw() { Gu.call(this) } function rw() { Gu.call(this) } function nw() { Gu.call(this) } function ow() { Gu.call(this) } function sw() { Gu.call(this) } function lw() { Gu.call(this) } function cw() { Gu.call(this) } function pw() { Gu.call(this) } function hw() { Gu.call(this) } function dw() { Gu.call(this) } function uw() { Gu.call(this) } function _w() { Gu.call(this) } GI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r + "1", a, pK().ACROBATICS, 4), re().setProficiencyAtLevel_8d16k4$(i, e, r + "2", pe().getLevelOrMin_vux9f0$(a, 7), pK().ACROBATICS, 6), re().setProficiencyAtLevel_8d16k4$(i, e, r + "3", pe().getLevelOrMin_vux9f0$(a, 15), pK().ACROBATICS, 8) }, GI.$metadata$ = { kind: p, interfaces: [Gu] }, WI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Quick Squeeze", se().FEATS_GENERAL, a) }, WI.$metadata$ = { kind: p, interfaces: [Gu] }, YI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Detect Magic", "Guidance", "Read Aura"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Magical Scholastics", 2, 0, a, o, s) }, YI.$metadata$ = { kind: p, interfaces: [Gu] }, VI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([1, 0, 0]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Greater Magical Scholastics", 2, 3, a, ["Augury", "Locate", "Nondetection"], o) }, VI.$metadata$ = { kind: p, interfaces: [Gu] }, KI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o; re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Archer Dedication Legend a", a, "Bow", 2, 1), re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Archer Dedication Legend b", a, "Bow", 2, 0); var s = t.managerWeapons.getAllWeaponsInGroup_61zpoe$("Bow"), l = u(); for (o = s.iterator(); o.hasNext();) { var c = o.next(); if (null != t.managerWeapons.hashMapWeapons.get_11rb$(c)) { var p = t.managerWeapons.getWeaponProficiencyType_zici4a$(e, c, a); 0 !== p && 1 !== p || l.add_11rb$(c) } } var h = b(l); re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, h, "No keyword") }, KI.$metadata$ = { kind: p, interfaces: [Gu] }, XI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = u(); for (s = t.managerWeapons.getAllWeaponsInGroup_61zpoe$("Bow").iterator(); s.hasNext();) { var c = s.next(), p = t.managerWeapons.hashMapWeapons.get_11rb$(c); null != p && 2 === p.proficiencyType && (l.add_11rb$(o(c)), i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, p, r + p.name, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, p.name, r + p.name)) } var h = b(l); re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, h, "No keyword") }, XI.$metadata$ = { kind: p, interfaces: [Gu] }, JI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s = u(); for (o = t.managerWeapons.hashMapWeapons.values.iterator(); o.hasNext();) { var l = o.next(); X0().isACrossbow_pdl1vj$(l.name) && s.add_11rb$(l.name) } var c = t1(a, b(s), null, 2, se().BONUS_TYPE_NAME_CIRCUMSTANCE, "Crossbow Terror applied"); re().addDamageIncreaseItem_dmcalk$(e, i, r, c) }, JI.$metadata$ = { kind: p, interfaces: [Gu] }, ZI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().SOCIETY, 4), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().THIEVERY, 4) }, ZI.$metadata$ = { kind: p, interfaces: [Gu] }, QI.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Marked for Death") }, QI.$metadata$ = { kind: p, interfaces: [Gu] }, tw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_ROGUE, "Sneak Attack"), i) { var o = new bX("Sneak Attack"); o.addSneakAttackAtLevel_qt1dr2$(a, 1, 4); var s = 6; a > s && (s = a), o.addSneakAttackAtLevel_qt1dr2$(s, 1, 6), e.hashMapSneakAttackTracks.put_xwzc9p$("ARCHETYPE_Sneak Attacker Assassin", o) } else e.hashMapSneakAttackTracks.remove_11rb$("ARCHETYPE_Sneak Attacker Assassin") }, tw.$metadata$ = { kind: p, interfaces: [Gu] }, ew.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "FIGHTER_Reactive Shield", se().FEATS_FIGHTER, a) }, ew.$metadata$ = { kind: p, interfaces: [Gu] }, iw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Call Companion"), re().addAdditionalAnimalCompanion_dlg1vj$(i, t, e, r, a) }, iw.$metadata$ = { kind: p, interfaces: [Gu] }, aw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAdditionalAnimalCompanion_dlg1vj$(i, t, e, r, a) }, aw.$metadata$ = { kind: p, interfaces: [Gu] }, rw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addCharacterFlag_cgow6u$(i, e, r, Wa().FLAG_WARDEN_SPELLS, a), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Heal Animal", a, 1)) }, rw.$metadata$ = { kind: p, interfaces: [Gu] }, nw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addCharacterFlag_cgow6u$(i, e, r, Wa().FLAG_WARDEN_SPELLS, a), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Beastmaster Trance", a, 1)) }, nw.$metadata$ = { kind: p, interfaces: [Gu] }, ow.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionMature_wifd5v$(i, t, e, r, DW(a, 0)) }, ow.$metadata$ = { kind: p, interfaces: [Gu] }, sw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionIncredible_wifd5v$(i, t, e, r, DW(a, 0)) }, sw.$metadata$ = { kind: p, interfaces: [Gu] }, lw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionSpecializationChoice_wifd5v$(i, t, e, r, DW(a, 0)) }, lw.$metadata$ = { kind: p, interfaces: [Gu] }, cw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Magic Hide", a, 1)) }, cw.$metadata$ = { kind: p, interfaces: [Gu] }, pw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Enlarge Companion", a, 1)) }, pw.$metadata$ = { kind: p, interfaces: [Gu] }, hw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Lay on Hands", a, 1)) }, hw.$metadata$ = { kind: p, interfaces: [Gu] }, dw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Protector's Sacrifice", a, 1)) }, dw.$metadata$ = { kind: p, interfaces: [Gu] }, uw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { yw().hasRangerClass_0(e) ? re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().SURVIVAL, 4) : re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_RANGER, "Hunt Prey") }, uw.$metadata$ = { kind: p, interfaces: [Gu] }, _w.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s = ["Bola", "Sap", "Whip"]; for (o = 0; o !== s.length; ++o) { var l = s[o]; re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r, a, l, 2) } re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, s, "No key word") }, _w.$metadata$ = { kind: p, interfaces: [Gu] }, UI.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new GI; t.put_xwzc9p$("ARCHETYPE_Acrobat Dedication", e); var i = new WI; t.put_xwzc9p$("ARCHETYPE_Contortionist", i); var a = new YI; t.put_xwzc9p$("ARCHETYPE_Magical Scholastics", a); var r = new VI; t.put_xwzc9p$("ARCHETYPE_Greater Magical Scholastics", r); var n = new KI; t.put_xwzc9p$("ARCHETYPE_Archer Dedication", n); var o = new XI; t.put_xwzc9p$("ARCHETYPE_Advanced Bow Training", o); var s = new JI; t.put_xwzc9p$("ARCHETYPE_Crossbow Terror", s); var l = new ZI; t.put_xwzc9p$("ARCHETYPE_Archeologist Dedication", l); var c = new QI; t.put_xwzc9p$("ARCHETYPE_Assassin Dedication", c); var p = new tw; t.put_xwzc9p$("ARCHETYPE_Sneak Attacker Assassin", p); var h = new ew; t.put_xwzc9p$("ARCHETYPE_Bastion Dedication", h); var d = new iw; t.put_xwzc9p$("ARCHETYPE_Beastmaster Dedication", d); var u = new aw; t.put_xwzc9p$("ARCHETYPE_Additional Companion", u); var _ = new rw; t.put_xwzc9p$("ARCHETYPE_Heal Animal", _); var f = new nw; t.put_xwzc9p$("ARCHETYPE_Beastmaster's Trance", f); var y = new ow; t.put_xwzc9p$("ARCHETYPE_Mature Beastmaster Companion", y); var m = new sw; t.put_xwzc9p$("ARCHETYPE_Incredible Beastmaster's Companion", m); var $ = new lw; t.put_xwzc9p$("ARCHETYPE_Specialized Beastmaster Companion", $); var g = new cw; t.put_xwzc9p$("ARCHETYPE_Magic Hide", g); var v = new pw; t.put_xwzc9p$("ARCHETYPE_Enlarge Companion", v); var S = new hw; t.put_xwzc9p$("ARCHETYPE_BLESSED ONE_Blessed One Dedication", S); var C = new dw; t.put_xwzc9p$("ARCHETYPE_BLESSED ONE_Blessed Sacrifice", C); var E = new uw; t.put_xwzc9p$("ARCHETYPE_BOUNTY HUNTER_Bounty Hunter Dedication", E); var A = new _w; t.put_xwzc9p$("ARCHETYPE_BOUNTY HUNTER_Tools of the Trade", A) }, UI.prototype.hasRangerClass_0 = function (t) { return !!m(t.getCharacterData().getClassName(), un().CLASS_RANGER) || !(null == t.getCharacterData().getDualClass() || !m(t.getCharacterData().getDualClass(), un().CLASS_RANGER)) }, UI.$metadata$ = { kind: f, simpleName: "FeatEffectsAPGAtoB", interfaces: [] }; var fw = null; function yw() { return null === fw && new UI, fw } function mw() { Ow = this, this.CASTER_CHIME_RINGER = "Chime Ringer", this.SPECIAL_REF_CHIME_RINGER = "Chime Ringer Tradition", this.SPECIAL_CHOICE_CHIME_RINGER = "Select Tradition" } function $w() { Gu.call(this) } function gw(t) { this.closure$i = t } function vw(t, e) { this.closure$skillName = t, this.closure$featRef = e } function Sw() { Gu.call(this) } function Cw() { Gu.call(this) } function Ew() { Gu.call(this) } function Aw() { Gu.call(this) } function bw() { Gu.call(this) } function Iw() { Gu.call(this) } function ww() { Gu.call(this) } function Lw() { Gu.call(this) } function Tw(t) { this.closure$type = t } function kw() { Gu.call(this) } function Rw() { Gu.call(this) } function Pw() { Gu.call(this) } function Mw() { Gu.call(this) } function Nw() { Gu.call(this) } function Dw() { Gu.call(this) } function xw() { Gu.call(this) } function zw() { Gu.call(this) } gw.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = 3; if (2 === this.closure$i && (n = 5), i) { var o = e.hashMapSpellCasters, s = Fw().CASTER_CHIME_RINGER, l = new R2(Fw().CASTER_CHIME_RINGER, this.closure$i, n, a); o.put_xwzc9p$(s, l) } else e.hashMapSpellCasters.remove_11rb$(Fw().CASTER_CHIME_RINGER); re().setProficiencyAtLevel_8d16k4$(i, e, Fw().CASTER_CHIME_RINGER, a, k0().ARRAY_SPELL_LISTS[this.closure$i], 2) }, gw.$metadata$ = { kind: p, interfaces: [xX] }, vw.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyTrainedOrExpert_cgow6u$(i, e, this.closure$skillName, this.closure$featRef + "2", a) }, vw.$metadata$ = { kind: p, interfaces: [xX] }, $w.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, p, h; if (i) { var d = qX(Fw().SPECIAL_REF_CHIME_RINGER, a), u = c(); for (s = new Int32Array([0, 2]), l = 0; l !== s.length; ++l) { var _ = s[l], f = k0().ARRAY_SPELL_LISTS[_], y = qX(f, a); u.put_xwzc9p$(f, y), y.textDescription = "You gain a single arcane or occult cantrip of your choice.", y.specialEffect = new gw(_) } var m = d.hashMapSpecialChoices, $ = Fw().SPECIAL_CHOICE_CHIME_RINGER; m.put_xwzc9p$($, u); var g = o(e.hashMapSpecialInformation[a - 1 | 0]), v = Fw().SPECIAL_REF_CHIME_RINGER; g.put_xwzc9p$(v, d) } else { var S = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(Fw().SPECIAL_REF_CHIME_RINGER); null != S && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, Fw().SPECIAL_REF_CHIME_RINGER, S), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(Fw().SPECIAL_REF_CHIME_RINGER) } var C = "Chime Ringer Skill Training"; if (i) { var E = qX(C, a), A = c(); for (p = [pK().ARCANA, pK().OCCULTISM], h = 0; h !== p.length; ++h) { var b = p[h], I = qX(b, a); A.put_xwzc9p$(b, I), I.textDescription = "you also either become trained in Arcana or Occultism, or an expert in one of these skills if you are already trained in both.", I.specialEffect = new vw(b, r) } E.hashMapSpecialChoices.put_xwzc9p$("Select Chime Ringer Skill", A), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(C, E) } else { var w = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(C); null != w && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, C, w), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(C) } }, $w.$metadata$ = { kind: p, interfaces: [Gu] }, Sw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.getCharacterData().getSpecialSelection_puj7f4$(Fw().SPECIAL_REF_CHIME_RINGER, Fw().SPECIAL_CHOICE_CHIME_RINGER), s = 0, l = 3; null != o && m(o, "Occult") && (s = 2, l = 5); var c = new Int32Array([2, 2]); re().addSetSpellsCasterWithAbilityRef_6gj7uf$(i, t, e, "Deny the Songs of War", s, 4, a, ["Deafness", "Silence"], c, l) }, Sw.$metadata$ = { kind: p, interfaces: [Gu] }, Cw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanion_dlg1vj$(i, t, e, r, a) }, Cw.$metadata$ = { kind: p, interfaces: [Gu] }, Ew.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionMature_wifd5v$(i, t, e, r, DW(a, 0)) }, Ew.$metadata$ = { kind: p, interfaces: [Gu] }, Aw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionIncredible_wifd5v$(i, t, e, r, DW(a, 0)) }, Aw.$metadata$ = { kind: p, interfaces: [Gu] }, bw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionSpecializationChoice_wifd5v$(i, t, e, r, DW(a, 0)) }, bw.$metadata$ = { kind: p, interfaces: [Gu] }, Iw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Upstage") }, Iw.$metadata$ = { kind: p, interfaces: [Gu] }, ww.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyTrainedOrExpert_cgow6u$(i, e, pK().DECEPTION, r + "1", a), re().setProficiencyTrainedOrExpert_cgow6u$(i, e, pK().SOCIETY, r + "2", a) }, ww.$metadata$ = { kind: p, interfaces: [Gu] }, Tw.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { try { if (a) { var o = RX(r, TX().RESISTANCE_ACID, !0); switch (this.closure$type) { case "Blue": case "Bronze": case "Cloud": case "Sky": o.resistanceType = TX().RESISTANCE_ELECTRICITY; break; case "Brass": case "Gold": case "Red": case "Underworld": o.resistanceType = TX().RESISTANCE_FIRE; break; case "Green": o.resistanceType = TX().RESISTANCE_POISON; break; case "Silver": case "White": o.resistanceType = TX().RESISTANCE_COLD; break; case "Crystal": case "Forest": o.resistanceType = TX().RESISTANCE_PIERCING; break; case "Sea": o.resistanceType = TX().RESISTANCE_BLUDGEONING; break; case "Sovereign": o.resistanceType = TX().RESISTANCE_MENTAL; break; case "Umbral": o.resistanceType = TX().RESISTANCE_NEGATIVE }i.hashMapResistances.put_xwzc9p$("Dragon Disciple Resistance", o) } else i.hashMapResistances.remove_11rb$("Dragon Disciple Resistance") } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Tw.$metadata$ = { kind: p, interfaces: [xX] }, Lw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (i) { var p = qX("Dragon Type", a); p.textDescription = "Choose one color of dragon when you select this feat; if you are a sorcerer with the draconic bloodline, this must be the same type as your bloodline. You gain resistance equal to half your level against one type of damage determined by the chosen dragon type."; var h = c(); for (s = se().DRAGON_TYPES, l = 0; l !== s.length; ++l) { var d = s[l], u = qX(d, a); u.specialEffect = new Tw(d), h.put_xwzc9p$(d, u) } p.hashMapSpecialChoices.put_xwzc9p$("Select Dragon Type", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$("Dragon Disciple Dragon Type", p) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$("Dragon Disciple Dragon Type"); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, "Dragon Disciple Dragon Type", _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$("Dragon Disciple Dragon Type") } }, Lw.$metadata$ = { kind: p, interfaces: [Gu] }, kw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Dragon Breath", a, 1)) }, kw.$metadata$ = { kind: p, interfaces: [Gu] }, Rw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (e.hashMapResistances.containsKey_11rb$("Dragon Disciple Resistance")) { var s = e.hashMapResistances.get_11rb$("Dragon Disciple Resistance"); i ? o(s).increaseAmountFromLevek.put_xwzc9p$(a, 3) : o(s).increaseAmountFromLevek.remove_11rb$(a) } }, Rw.$metadata$ = { kind: p, interfaces: [Gu] }, Pw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Dragon Wings", a, 1)) }, Pw.$metadata$ = { kind: p, interfaces: [Gu] }, Mw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Shape of the Dragon"; if (i) { var s = new V3(o, a); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = new K3; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$("dragon shape spell", l) } else e.getCharacterData().getHashMapPlayerSpells().remove_11rb$("dragon shape spell"), e.hashMapSpellCasters.remove_11rb$(o); re().setProficiencyAtLevel_8d16k4$(i, e, o, a, k0().ARRAY_SPELL_LISTS[0], 2) }, Mw.$metadata$ = { kind: p, interfaces: [Gu] }, Nw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array(1); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Shape of the Cloud Dragon", 2, 7, a, ["Dragon Form"], o) }, Nw.$metadata$ = { kind: p, interfaces: [Gu] }, Dw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array(0); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Cloud Walk", 2, 4, a, ["Air Walk"], o) }, Dw.$metadata$ = { kind: p, interfaces: [Gu] }, xw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "FIGHTER_Double Slice", se().FEATS_FIGHTER, a) }, xw.$metadata$ = { kind: p, interfaces: [Gu] }, zw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "RANGER_Quick Draw", se().FEATS_RANGER, a) }, zw.$metadata$ = { kind: p, interfaces: [Gu] }, mw.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new $w; t.put_xwzc9p$("ARCHETYPE_CHIME RINGER_Chime-Ringer Dedication", e); var i = new Sw; t.put_xwzc9p$("ARCHETYPE_CHIME RINGER_Deny the Songs of War", i); var a = new Cw; t.put_xwzc9p$("ARCHETYPE_CAVALIER_Cavalier Dedication", a); var r = new Ew; t.put_xwzc9p$("ARCHETYPE_CAVALIER_Impressive Mount", r); var n = new Aw; t.put_xwzc9p$("ARCHETYPE_CAVALIER_Incredible Mount", n); var o = new bw; t.put_xwzc9p$("ARCHETYPE_CAVALIER_Specialized Mount", o); var s = new Iw; t.put_xwzc9p$("ARCHETYPE_CELEBRITY_Celebrity Dedication", s); var l = new ww; t.put_xwzc9p$("ARCHETYPE_DANDY_Dandy Dedication", l); var c = new Lw; t.put_xwzc9p$("ARCHETYPE_DRAGON DISCIPLE_Dragon Disciple Dedication", c); var p = new kw; t.put_xwzc9p$("ARCHETYPE_DRAGON DISCIPLE_Breath of the Dragon", p); var h = new Rw; t.put_xwzc9p$("ARCHETYPE_DRAGON DISCIPLE_Scales of the Dragon", h); var d = new Pw; t.put_xwzc9p$("ARCHETYPE_DRAGON DISCIPLE_Wings of the Dragon", d); var u = new Mw; t.put_xwzc9p$("ARCHETYPE_DRAGON DISCIPLE_Shape of the Dragon", u); var _ = new Nw; t.put_xwzc9p$("ARCHETYPE_DRAGON DISCIPLE_Shape of the Cloud Dragon", _); var f = new Dw; t.put_xwzc9p$("ARCHETYPE_DRAGON DISCIPLE_Cloud Walk", f); var y = new xw; t.put_xwzc9p$("ARCHETYPE_DUAL-WEAPON WARRIOR_Dual-Weapon Warrior Dedication", y); var m = new zw; t.put_xwzc9p$("ARCHETYPE_DUELIST_Duelist Dedication", m) }, mw.$metadata$ = { kind: f, simpleName: "FeatEffectsAPGCtoD", interfaces: [] }; var Ow = null; function Fw() { return null === Ow && new mw, Ow } function Bw() { Zw = this } function jw() { Gu.call(this) } function Hw(t) { this.closure$spellList = t } function qw() { Gu.call(this) } function Uw() { Gu.call(this) } function Gw() { Gu.call(this) } function Ww() { Gu.call(this) } function Yw(t) { this.closure$featRef = t } function Vw(t) { this.closure$featRef = t } function Kw() { Gu.call(this) } function Xw() { Gu.call(this) } function Jw() { Gu.call(this) } Hw.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var o, s = null == (o = i.hashMapSpellCasters.get_11rb$(_3().CASTER_NAME)) || e.isType(o, h3) ? o : d(); if (null != s) { var l = ot(k0().ARRAY_SPELL_LISTS, this.closure$spellList); s.setTradition_vy76y1$(i, l) } }, Hw.$metadata$ = { kind: p, interfaces: [xX] }, jw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "es", a, BK().SPECIALS_UNIVERSAL, "Eldritch Shot"), i) { var p = e.hashMapSpellCasters, h = _3().CASTER_NAME, d = new h3(a); p.put_xwzc9p$(h, d) } else e.hashMapSpellCasters.remove_11rb$(_3().CASTER_NAME); if (i) { var u = HX(); u.level = a, u.name = "Eldritch Archer Spell List"; var _ = c(); for (s = k0().ARRAY_SPELL_LISTS, l = 0; l !== s.length; ++l) { var f = s[l], y = HX(); y.name = f, y.textDescription = "", y.level = a, y.specialEffect = new Hw(f), _.put_xwzc9p$(f, y) } u.hashMapSpecialChoices.put_xwzc9p$("Select Eldritch Archer Spell List", _), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, u) } else { var m = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != m && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, m), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, jw.$metadata$ = { kind: p, interfaces: [Gu] }, qw.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(_3().CASTER_NAME)) || e.isType(s, h3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, qw.$metadata$ = { kind: p, interfaces: [Gu] }, Uw.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(_3().CASTER_NAME)) || e.isType(s, h3) ? s : d(); if (null != l) { l.setExpert_eltk6l$(a, r); var c = k0().ARRAY_SPELL_LISTS[l.spellList]; re().setProficiencyAtLevel_8d16k4$(a, i, _3().CASTER_NAME + "Expert", r, c, 4) } }, Uw.$metadata$ = { kind: p, interfaces: [Gu] }, Gw.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(_3().CASTER_NAME)) || e.isType(s, h3) ? s : d(); if (null != l) { l.setMaster_eltk6l$(a, r); var c = k0().ARRAY_SPELL_LISTS[l.spellList]; re().setProficiencyAtLevel_8d16k4$(a, i, _3().CASTER_NAME + "Master", r, c, 6) } }, Gw.$metadata$ = { kind: p, interfaces: [Gu] }, Yw.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addFamiliar_dlg1vj$(i, t, e, this.closure$featRef, a) }, Yw.$metadata$ = { kind: p, interfaces: [xX] }, Vw.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, this.closure$featRef, "ARCHETYPE_FAMILIAR MASTER_Enhanced Familiar", se().FEATS_ARCHETYPE, a) }, Vw.$metadata$ = { kind: p, interfaces: [xX] }, Ww.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = qX("Familiar Master Selection", a); s.textDescription = "You gain a familiar. If you already have a familiar, you gain the Enhanced Familiar feat."; var l = c(), p = qX("Familiar", a); p.textDescription = "You gain a familiar", p.specialEffect = new Yw(r); var h = p; l.put_xwzc9p$("Familiar", h), (p = qX("Enhanced Familiar Feat", a)).textDescription = "You gain the Enhanced Familiar feat", p.specialEffect = new Vw(r); var d = p; l.put_xwzc9p$("Enhanced Familiar Feat", d), s.hashMapSpecialChoices.put_xwzc9p$("Familiar Master Selection", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, Ww.$metadata$ = { kind: p, interfaces: [Gu] }, Kw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "1", DW(a, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "2", DW(a, 1)) }, Kw.$metadata$ = { kind: p, interfaces: [Gu] }, Xw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "1", DW(a, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "2", DW(a, 1)) }, Xw.$metadata$ = { kind: p, interfaces: [Gu] }, Jw.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { }, Jw.$metadata$ = { kind: p, interfaces: [Gu] }, Bw.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new jw; t.put_xwzc9p$("ARCHETYPE_ELDRITCH ARCHER_Eldritch Archer Dedication", e); var i = new qw; t.put_xwzc9p$("ARCHETYPE_ELDRITCH ARCHER_Basic Eldritch Archer Spellcasting", i); var a = new Uw; t.put_xwzc9p$("ARCHETYPE_ELDRITCH ARCHER_Expert Eldritch Archer Spellcasting", a); var r = new Gw; t.put_xwzc9p$("ARCHETYPE_ELDRITCH ARCHER_Master Eldritch Archer Spellcasting", r); var n = new Ww; t.put_xwzc9p$("ARCHETYPE_FAMILIAR MASTER_Familiar Master Dedication", n); var o = new Kw; t.put_xwzc9p$("ARCHETYPE_FAMILIAR MASTER_Enhanced Familiar", o); var s = new Xw; t.put_xwzc9p$("ARCHETYPE_FAMILIAR MASTER_Incredible Familiar (Familiar Master)", s); var l = new Jw; t.put_xwzc9p$("", l) }, Bw.$metadata$ = { kind: f, simpleName: "FeatEffectsAPGEtoF", interfaces: [] }; var Zw = null; function Qw() { return null === Zw && new Bw, Zw } function tL() { sL = this } function eL() { Gu.call(this) } function iL() { Gu.call(this) } function aL() { Gu.call(this) } function rL() { Gu.call(this) } function nL() { Gu.call(this) } function oL() { Gu.call(this) } eL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = !1, l = e.getProficiency_61zpoe$("Lore: Gladiatorial"); if (null != l && l.getProficiencyAtLevelExcludingThisReference_19mbxw$(a, r) >= 2 && (s = !0), s) { var c = DK(r, 1, null, null, a); c.loresOnly = !0, c.title = "Gladiator", re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, c) } else re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Gladiatorial") } else if (re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Gladiatorial"), e.hashMapTrainedOnlySkillChoices.containsKey_11rb$(r)) { var p = e.hashMapTrainedOnlySkillChoices.get_11rb$(r); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o(p)) } }, eL.$metadata$ = { kind: p, interfaces: [Gu] }, iL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s = ["Bo Staff", "Spiked Chain", "Sword Cane", "Whip"]; for (o = 0; o !== s.length; ++o) { var l = s[o]; re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r, a, l, 2) } re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, s, "No key word") }, iL.$metadata$ = { kind: p, interfaces: [Gu] }, aL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Alchemical Crafting", se().FEATS_GENERAL, a), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().NATURE, 4); var o = new Q1(i3().ALCHEMY_HERBALIST, a); o.hasAdvanced = !0, o.setAlchemyLevelAtCharacterLevel_f9128j$(i, r, a, 1), re().addAlchemicalCaster_yk8txo$(i, e, o) }, aL.$metadata$ = { kind: p, interfaces: [Gu] }, rL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapAlchemicalCasters.get_11rb$(i3().ALCHEMY_HERBALIST); if (null != o) for (var s = a; s <= 20; s++)o.setAlchemyLevelAtCharacterLevel_f9128j$(i, r + j(s), s, s - 3 | 0) }, rL.$metadata$ = { kind: p, interfaces: [Gu] }, nL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "RANGER_Favored Terrain", se().FEATS_RANGER, a) }, nL.$metadata$ = { kind: p, interfaces: [Gu] }, oL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Magical Adaptation"; if (i) { var s = new k2(o, 3, 5, a, new Int32Array([0, 0, 2, 0, 1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(2, 0), c = new S2(3, "Darkvision", 0), p = l, h = c; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(p, h); var d = l = s.getSpellSlotReference_vux9f0$(2, 1), u = c = new S2(3, "Spider Climb", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u); var _ = l = s.getSpellSlotReference_vux9f0$(4, 0), f = c = new S2(3, "Water Breathing", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(_, f) } else { var y = e.hashMapSpellCasters.get_11rb$(o); if (null != y) { var m = y.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(4, 0), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, oL.$metadata$ = { kind: p, interfaces: [Gu] }, tL.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new eL; t.put_xwzc9p$("ARCHETYPE_GLADIATOR_Gladiator Dedication", e); var i = new iL; t.put_xwzc9p$("ARCHETYPE_GLADIATOR_Performative Weapons Training", i); var a = new aL; t.put_xwzc9p$("ARCHETYPE_HERBALIST_Herbalist Dedication", a); var r = new rL; t.put_xwzc9p$("ARCHETYPE_HERBALIST_Expert Herbalism", r); var n = new nL; t.put_xwzc9p$("ARCHETYPE_HORIZON WALKER_Horizon Walker Dedication", n); var o = new oL; t.put_xwzc9p$("ARCHETYPE_HORIZON WALKER_Magical Adaptation", o) }, tL.$metadata$ = { kind: f, simpleName: "FeatEffectsAPGGtoH", interfaces: [] }; var sL = null; function lL() { return null === sL && new tL, sL } function cL() { CL = this } function pL() { Gu.call(this) } function hL() { Gu.call(this) } function dL() { Gu.call(this) } function uL() { Gu.call(this) } function _L() { Gu.call(this) } function fL() { Gu.call(this) } function yL() { Gu.call(this) } function mL() { Gu.call(this) } function $L() { Gu.call(this) } function gL() { Gu.call(this) } function vL() { Gu.call(this) } function SL() { Gu.call(this) } pL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "1", a, BK().SPECIALS_INVESTIGATOR, "Clue In"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "2", a, BK().SPECIALS_INVESTIGATOR, "On the Case"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "3", a, BK().SPECIALS_INVESTIGATOR, "Pursue a Lead"); var o = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), s = MK(r + "1", 1, T([pK().SOCIETY]), o, a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "2", s), s = MK(r + "2", 1, o, o, a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, s) }, pL.$metadata$ = { kind: p, interfaces: [Gu] }, hL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Deduction" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_INVESTIGATOR, 2, o) }, hL.$metadata$ = { kind: p, interfaces: [Gu] }, dL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Deduction" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_INVESTIGATOR, l, o) }, dL.$metadata$ = { kind: p, interfaces: [Gu] }, uL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "1", a, BK().SPECIALS_INVESTIGATOR, "Keen Recollection") }, uL.$metadata$ = { kind: p, interfaces: [Gu] }, _L.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e); re().addSkillSetProficiencyAtLevelChoice_9zpztu$(i, t, e, "Master Skill", r + "1", a, o, 6), re().addSkillSetProficiencyAtLevelChoice_9zpztu$(i, t, e, "Expert Skill", r + "2", a, o, 4), re().addFeatSubChoice_72asaf$(i, t, e, n, se().FEATS_SKILL, r + " Skill Mastery") }, _L.$metadata$ = { kind: p, interfaces: [Gu] }, fL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_PERCEPTION, 6) }, fL.$metadata$ = { kind: p, interfaces: [Gu] }, yL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "1", a, BK().SPECIALS_INVESTIGATOR, "Devise a Stratagem") }, yL.$metadata$ = { kind: p, interfaces: [Gu] }, mL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = e.getProficiency_61zpoe$(pK().SOCIETY); i ? 2 === o(s).getProficiencyAtLevel_za3lpa$(a) ? s.setProficiencyAtLevel_3m52m6$(r, a, 4) : s.setProficiencyAtLevel_3m52m6$(r, a, 2) : o(s).removeProficiencyAtLevel_61zpoe$(r), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Multilingual", se().FEATS_GENERAL, a), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "2", "GENERAL_Multilingual", se().FEATS_GENERAL, a) }, mL.$metadata$ = { kind: p, interfaces: [Gu] }, $L.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = c(); o.put_xwzc9p$("ARCHETYPE_LOREMASTER_Assured Knowledge", "BARD_Assured Knowledge"), re().addDupedArchetypeFeats_vja046$(i, e, o) }, $L.$metadata$ = { kind: p, interfaces: [Gu] }, gL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Message", "Guidance", "Sigil"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Magical Edification", 2, 0, a, o, s) }, gL.$metadata$ = { kind: p, interfaces: [Gu] }, vL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Greater Magical Edification"; if (i) { var s = new k2(o, 2, 5, a, new Int32Array([0, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(1, 0), c = new S2(2, "Mindlink", 0), p = l, h = c; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(p, h); var d = l = s.getSpellSlotReference_vux9f0$(2, 0), u = c = new S2(2, "Comprehend Language", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u); var _ = l = s.getSpellSlotReference_vux9f0$(3, 0), f = c = new S2(2, "Secret Page", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(_, f) } else { var y = e.hashMapSpellCasters.get_11rb$(o); if (null != y) { var m = y.getSpellSlotReference_vux9f0$(1, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(2, 0), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(3, 0), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, vL.$metadata$ = { kind: p, interfaces: [Gu] }, SL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Loremaster's Etude", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, SL.$metadata$ = { kind: p, interfaces: [Gu] }, cL.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new pL; t.put_xwzc9p$("ARCHETYPE_INVESTIGATOR_Investigator Dedication", e); var i = new hL; t.put_xwzc9p$("ARCHETYPE_INVESTIGATOR_Basic Deduction", i); var a = new dL; t.put_xwzc9p$("ARCHETYPE_INVESTIGATOR_Advanced Deduction", a); var r = new uL; t.put_xwzc9p$("ARCHETYPE_INVESTIGATOR_Keen Recollection", r); var n = new _L; t.put_xwzc9p$("ARCHETYPE_INVESTIGATOR_Skill Mastery (Investigator)", n); var o = new fL; t.put_xwzc9p$("ARCHETYPE_INVESTIGATOR_Master Spotter (Investigator)", o); var s = new yL; t.put_xwzc9p$("ARCHETYPE_INVESTIGATOR_Investigator's Stratagem", s); var l = new mL; t.put_xwzc9p$("ARCHETYPE_LINGUIST_Linguist Dedication", l); var c = new $L; t.put_xwzc9p$("ARCHETYPE_LOREMASTER_Loremaster Dedication", c); var p = new gL; t.put_xwzc9p$("ARCHETYPE_LOREMASTER_Magical Edification", p); var h = new vL; t.put_xwzc9p$("ARCHETYPE_LOREMASTER_Greater Magical Edification", h); var d = new SL; t.put_xwzc9p$("ARCHETYPE_LOREMASTER_Loremaster's Etude", d) }, cL.$metadata$ = { kind: f, simpleName: "FeatEffectsAPGItoL", interfaces: [] }; var CL = null; function EL() { return null === CL && new cL, CL } function AL() { RL = this } function bL() { Gu.call(this) } function IL(t) { this.closure$featRef = t } function wL(t) { this.closure$featRef = t } function LL() { Gu.call(this) } function TL() { Gu.call(this) } function kL() { Gu.call(this) } IL.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { PL().setSkillTrainedOrExpert_0(i, e, pK().DIPLOMACY, this.closure$featRef, a) }, IL.$metadata$ = { kind: p, interfaces: [xX] }, wL.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { PL().setSkillTrainedOrExpert_0(i, e, pK().INTIMIDATION, this.closure$featRef, a) }, wL.$metadata$ = { kind: p, interfaces: [xX] }, bL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = qX("Marshal Dedication Skill", a); s.textDescription = "Choose Diplomacy or Intimidation. You become trained in that skill or become an expert if you were already trained in it.."; var l = c(), p = qX(pK().DIPLOMACY, a); p.specialEffect = new IL(r); var h = pK().DIPLOMACY, d = p; l.put_xwzc9p$(h, d), (p = qX(pK().INTIMIDATION, a)).specialEffect = new wL(r); var u = pK().INTIMIDATION, _ = p; l.put_xwzc9p$(u, _), s.hashMapSpecialChoices.put_xwzc9p$("Select Marshal Dedication Skill", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var f = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != f && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, f), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, bL.$metadata$ = { kind: p, interfaces: [Gu] }, LL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = c(); l.put_xwzc9p$("ARCHETYPE_MARTIAL ARTIST_Crane Stance", "MONK_Crane Stance"), l.put_xwzc9p$("ARCHETYPE_MARTIAL ARTIST_Dragon Stance", "MONK_Dragon Stance"), l.put_xwzc9p$("ARCHETYPE_MARTIAL ARTIST_Gorilla Stance", "MONK_Gorilla Stance"), l.put_xwzc9p$("ARCHETYPE_MARTIAL ARTIST_Mountain Stance", "MONK_Mountain Stance"), l.put_xwzc9p$("ARCHETYPE_MARTIAL ARTIST_Stumbling Stance", "MONK_Stumbling Stance"), l.put_xwzc9p$("ARCHETYPE_MARTIAL ARTIST_Tiger Stance", "MONK_Tiger Stance"), l.put_xwzc9p$("ARCHETYPE_MARTIAL ARTIST_Wolf Stance", "MONK_Wolf Stance"), re().addDupedArchetypeFeats_vja046$(i, e, l); var p = u(); for (s = t.managerWeapons.hashMapWeapons.values.iterator(); s.hasNext();) { var h = s.next(); 3 === h.proficiencyType && p.add_11rb$(o(h.uniqueIdentiier)) } var d = b(p); re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, d, "No key word") }, LL.$metadata$ = { kind: p, interfaces: [Gu] }, TL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c = u(); for (s = t.managerWeapons.hashMapWeapons.values.iterator(); s.hasNext();) { var p = s.next(); p.proficiencyType <= 1 && !p.ranged && (m(p.hands, "2") || _(p.weaponTraits.toLowerCase(), "two-hand")) && c.add_11rb$(o(p.uniqueIdentiier)) } var h = b(c); for (l = c.iterator(); l.hasNext();) { var d = l.next(); re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r, a, d, 2) } re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, h, "No key word") }, TL.$metadata$ = { kind: p, interfaces: [Gu] }, kL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().MEDICINE, 4) }, kL.$metadata$ = { kind: p, interfaces: [Gu] }, AL.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new bL; t.put_xwzc9p$("ARCHETYPE_MARSHAL_Marshal Dedication", e); var i = new LL; t.put_xwzc9p$("ARCHETYPE_MARTIAL ARTIST_Martial Artist Dedication", i); var a = new TL; t.put_xwzc9p$("ARCHETYPE_MAULER_Mauler Dedication", a); var r = new kL; t.put_xwzc9p$("ARCHETYPE_MEDIC_Medic Dedication", r) }, AL.prototype.setSkillTrainedOrExpert_0 = function (t, e, i, a, r) { var n = e.getProficiency_61zpoe$(i); t ? 2 === o(n).getProficiencyAtLevel_za3lpa$(r) ? n.setProficiencyAtLevel_3m52m6$(a, r, 4) : n.setProficiencyAtLevel_3m52m6$(a, r, 2) : o(n).removeProficiencyAtLevel_61zpoe$(a) }, AL.$metadata$ = { kind: f, simpleName: "FeatEffectsAPGMtoN", interfaces: [] }; var RL = null; function PL() { return null === RL && new AL, RL } function ML() { OL = this } function NL() { Gu.call(this) } function DL() { Gu.call(this) } function xL() { Gu.call(this) } function zL() { Gu.call(this) } NL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Sailing"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Boarding Assault") }, NL.$metadata$ = { kind: p, interfaces: [Gu] }, DL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s = ["Hatchet", "Rapier", "Scimitar", "Whip"]; for (o = 0; o !== s.length; ++o) { var l = s[o]; re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r, a, l, 2) } re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, s, "No key word") }, DL.$metadata$ = { kind: p, interfaces: [Gu] }, xL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Alchemical Crafting", se().FEATS_GENERAL, a); var o = new Q1(i3().ALCHEMY_POISONER, a); o.hasAdvanced = !0, o.setAlchemyLevelAtCharacterLevel_f9128j$(i, r, a, 1), re().addAlchemicalCaster_yk8txo$(i, e, o) }, xL.$metadata$ = { kind: p, interfaces: [Gu] }, zL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapAlchemicalCasters.get_11rb$(i3().ALCHEMY_POISONER); if (null != o) for (var s = a; s <= 20; s++)o.setAlchemyLevelAtCharacterLevel_f9128j$(i, r + j(s), s, s - 3 | 0) }, zL.$metadata$ = { kind: p, interfaces: [Gu] }, ML.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new NL; t.put_xwzc9p$("ARCHETYPE_PIRATE_Pirate Dedication", e); var i = new DL; t.put_xwzc9p$("ARCHETYPE_PIRATE_Pirate Weapon Training", i); var a = new xL; t.put_xwzc9p$("ARCHETYPE_POISONER_Poisoner Dedication", a); var r = new zL; t.put_xwzc9p$("ARCHETYPE_POISONER_Expert Poisoner", r) }, ML.$metadata$ = { kind: f, simpleName: "FeatEffectsAPGPtoR", interfaces: [] }; var OL = null; function FL() { return null === OL && new ML, OL } function BL() { nT = this } function jL() { Gu.call(this) } function HL() { Gu.call(this) } function qL() { Gu.call(this) } function UL() { Gu.call(this) } function GL() { Gu.call(this) } function WL() { Gu.call(this) } function YL() { Gu.call(this) } function VL(t) { this.closure$featRef = t } function KL(t) { this.closure$featRef = t } function XL() { Gu.call(this) } function JL(t) { this.closure$featRef = t } function ZL(t) { this.closure$featRef = t } function QL() { Gu.call(this) } function tT() { Gu.call(this) } function eT() { Gu.call(this) } function iT() { Gu.call(this) } function aT() { Gu.call(this) } function rT() { Gu.call(this) } jL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "RANGER_Scout's Warning", se().FEATS_RANGER, a) }, jL.$metadata$ = { kind: p, interfaces: [Gu] }, HL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Terrain Stalker", se().FEATS_GENERAL, a), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "2", "GENERAL_Terrain Stalker", se().FEATS_GENERAL, a) }, HL.$metadata$ = { kind: p, interfaces: [Gu] }, qL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, jW(a, 10, 1)) }, qL.$metadata$ = { kind: p, interfaces: [Gu] }, UL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Trick Magic Item", se().FEATS_GENERAL, a) }, UL.$metadata$ = { kind: p, interfaces: [Gu] }, GL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = u(); for (l.add_11rb$(pK().PROFICIENCY_LIGHT_ARMOR), l.add_11rb$(pK().PROFICIENCY_MEDIUM_ARMOR), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_MEDIUM_ARMOR)).getProficiencyAtLevel_za3lpa$(a) >= 2 && l.add_11rb$(pK().PROFICIENCY_HEAVY_ARMOR), s = l.iterator(); s.hasNext();) { var c = s.next(); re().setProficiencyAtLevel_8d16k4$(i, e, r, a, c, 2) } re().addAncestralArmorExpertise_ebvrhe$(i, e, r + "2", a, b(l), "No key word") }, GL.$metadata$ = { kind: p, interfaces: [Gu] }, WL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Greater Darkvision") }, WL.$metadata$ = { kind: p, interfaces: [Gu] }, VL.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().increaseFocusPoints_sfpo92$(i, e, this.closure$featRef, zW(a, 1, !0)), re().addAwardedPower_ujte31$(i, e, this.closure$featRef, P0(o(o(r).name), a, 1)) }, VL.$metadata$ = { kind: p, interfaces: [xX] }, KL.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().increaseFocusPoints_sfpo92$(i, e, this.closure$featRef, zW(a, 1, !0)), re().addAwardedPower_ujte31$(i, e, this.closure$featRef, P0(o(o(r).name), a, 1)) }, KL.$metadata$ = { kind: p, interfaces: [xX] }, YL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = qX("Shadow Magic", a); s.textDescription = "You learn a shadowdancer focus spell of your choice: <i>dance of darkness</i> or <i>shadow jump</i>."; var l = c(), p = qX("Dance of Darkness", a); p.specialEffect = new VL(r); var h = p; l.put_xwzc9p$("Dance of Darkness", h), (p = qX("Shadow Jump", a)).specialEffect = new KL(r); var d = p; l.put_xwzc9p$("Shadow Jump", d), s.hashMapSpecialChoices.put_xwzc9p$("Select Shadow Magic", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } re().setProficiencyAtLevel_8d16k4$(i, e, "Shadow Dancer", a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, YL.$metadata$ = { kind: p, interfaces: [Gu] }, JL.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$featRef, P0(o(o(r).name), a, 1)) }, JL.$metadata$ = { kind: p, interfaces: [xX] }, ZL.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$featRef, P0(o(o(r).name), a, 1)) }, ZL.$metadata$ = { kind: p, interfaces: [xX] }, XL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), i) { var s = qX("Shadow Magic", a); s.textDescription = "Choose an additional shadowdancer focus spell you haven't already selected from Shadow Magic. Increase the number of Focus Points in your pool by 1."; var l = c(), p = qX("Dance of Darkness", a); p.specialEffect = new JL(r); var h = p; l.put_xwzc9p$("Dance of Darkness", h), (p = qX("Shadow Jump", a)).specialEffect = new ZL(r); var d = p; l.put_xwzc9p$("Shadow Jump", d), s.hashMapSpecialChoices.put_xwzc9p$("Select Shadow Magic", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, XL.$metadata$ = { kind: p, interfaces: [Gu] }, QL.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_ROGUE, "Sneak Attack"), i) { var o = new bX("Sneak Attack"); o.addSneakAttackAtLevel_qt1dr2$(a, 1, 6), e.hashMapSneakAttackTracks.put_xwzc9p$("Archetype Shadow Dancer Sneak Attack", o) } else e.hashMapSneakAttackTracks.remove_11rb$("Archetype Shadow Dancer Sneak Attack") }, QL.$metadata$ = { kind: p, interfaces: [Gu] }, tT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Shadow Illusion", a, 1)), re().setProficiencyAtLevel_8d16k4$(i, e, "Shadow Dancer", a, pK().PROFICIENCY_SPELLS_OCCULT, 4) }, tT.$metadata$ = { kind: p, interfaces: [Gu] }, eT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Shadow Blast", a, 1)), re().setProficiencyAtLevel_8d16k4$(i, e, "Shadow Blast", a, pK().PROFICIENCY_SPELLS_OCCULT, 4) }, eT.$metadata$ = { kind: p, interfaces: [Gu] }, iT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_ROGUE, "Deny Advantage") }, iT.$metadata$ = { kind: p, interfaces: [Gu] }, aT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapEffectiveFeats, s = new Tu("RANGER_Snare Specialist", a); o.put_xwzc9p$(r, s) } else e.hashMapEffectiveFeats.remove_11rb$(r) }, aT.$metadata$ = { kind: p, interfaces: [Gu] }, rT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Rapid Affixture", se().FEATS_GENERAL, a) }, rT.$metadata$ = { kind: p, interfaces: [Gu] }, BL.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new jL; t.put_xwzc9p$("ARCHETYPE_SCOUT_Scout Dedication", e); var i = new HL; t.put_xwzc9p$("ARCHETYPE_SCOUT_Terrain Scout", i); var a = new qL; t.put_xwzc9p$("ARCHETYPE_SCOUT_Scout's Speed", a); var r = new UL; t.put_xwzc9p$("ARCHETYPE_SCROLL TRICKSTER_Scroll Trickster", r); var n = new GL; t.put_xwzc9p$("ARCHETYPE_SENTINEL_Sentinel Dedication", n); var o = new WL; t.put_xwzc9p$("ARCHETYPE_SHADOWDANCER_Shadowdancer Dedication", o); var s = new YL; t.put_xwzc9p$("ARCHETYPE_SHADOWDANCER_Shadow Magic", s); var l = new XL; t.put_xwzc9p$("ARCHETYPE_SHADOWDANCER_Additional Shadow Magic", l); var c = new QL; t.put_xwzc9p$("ARCHETYPE_SHADOWDANCER_Shadow Sneak Attack", c); var p = new tT; t.put_xwzc9p$("ARCHETYPE_SHADOWDANCER_Shadow Illusion", p); var h = new eT; t.put_xwzc9p$("ARCHETYPE_SHADOWDANCER_Shadow Power", h); var d = new iT; t.put_xwzc9p$("ARCHETYPE_SHADOWDANCER_Uncanny Dodge", d); var u = new aT; t.put_xwzc9p$("ARCHETYPE_SNARECRAFTER_Snarecrafter Dedication", u); var _ = new rT; t.put_xwzc9p$("ARCHETYPE_TALISMAN DABBLER_Quick Fix", _) }, BL.$metadata$ = { kind: f, simpleName: "FeatEffectsAPGStoT", interfaces: [] }; var nT = null; function oT() { return null === nT && new BL, nT } function sT() { fT = this } function lT() { Gu.call(this) } function cT() { Gu.call(this) } function pT() { Gu.call(this) } function hT() { Gu.call(this) } function dT() { Gu.call(this) } function uT() { Gu.call(this) } function _T() { Gu.call(this) } lT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = r + "purview"; if (i) { var l = Ru(); l.featType = se().FEATS_ARCHETYPE, l.listFeatIDs = w(t.managerFeats.allDedicationFeats.keys), l.specificHeader = "Social Purview Dedication", l.allowDedication = !0, o(n).hashMapChildFeatChoices.put_xwzc9p$(s, l) } else if (o(n).hashMapChildFeatChoices.containsKey_11rb$(s)) { var c = n.hashMapChildFeatChoices.get_11rb$(s); t.managerFeats.deactivateFeat_8fzv80$(e, n.level, c, s), n.hashMapChildFeatChoices.remove_11rb$(s) } }, lT.$metadata$ = { kind: p, interfaces: [Gu] }, cT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Battle Axe", "Falchion", "Greataxe", "Scimitar"], null) }, cT.$metadata$ = { kind: p, interfaces: [Gu] }, pT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array(0); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Strident Command", 2, 1, a, ["Command"], o), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, pT.$metadata$ = { kind: p, interfaces: [Gu] }, hT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array(0); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Terrifying Countenance", 2, 7, a, ["Mask of Terror"], o), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, hT.$metadata$ = { kind: p, interfaces: [Gu] }, dT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Sailing") }, dT.$metadata$ = { kind: p, interfaces: [Gu] }, uT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s = ["Battle Axe", "Hatchet", "Longsword", "Shortsword"]; for (o = 0; o !== s.length; ++o) { var l = s[o]; re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r, a, l, 2) } t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Shield Block", se().FEATS_GENERAL, a) }, uT.$metadata$ = { kind: p, interfaces: [Gu] }, _T.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Battle Axe", "Hatchet", "Longsword", "Shortsword"], "No keyword") }, _T.$metadata$ = { kind: p, interfaces: [Gu] }, sT.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new lT; t.put_xwzc9p$("ARCHETYPE_VIGILANTE_Social Purview", e); var i = new cT; t.put_xwzc9p$("ARCHETYPE_GRAY GARDENER_Executioner Weapon Training", i); var a = new pT; t.put_xwzc9p$("ARCHETYPE_GRAY GARDENER_Strident Command", a); var r = new hT; t.put_xwzc9p$("ARCHETYPE_GRAY GARDENER_Terrifying Countenance", r); var n = new dT; t.put_xwzc9p$("ARCHETYPE_VIKING_Viking Dedication", n); var o = new uT; t.put_xwzc9p$("ARCHETYPE_VIKING_Viking Weapon Familiarity", o); var s = new _T; t.put_xwzc9p$("ARCHETYPE_VIKING_Viking Weapon Specialist", s) }, sT.$metadata$ = { kind: f, simpleName: "FeatEffectsAPGUtoZ", interfaces: [] }; var fT = null; function yT() { return null === fT && new sT, fT } function mT() { AT = this } function $T() { Gu.call(this) } function gT() { Gu.call(this) } function vT() { Gu.call(this) } function ST() { Gu.call(this) } function CT() { Gu.call(this) } function ET() { Gu.call(this) } $T.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r, a, "Bomb", 2), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Alchemical Crafting", se().FEATS_GENERAL, a); var o = MK(r, 1, T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o); var s = new Q1(i3().ALCHEMY_ARCHETYPE_ALCHEMIST, a); s.hasAdvanced = !0, s.setAlchemyLevelAtCharacterLevel_f9128j$(i, r, a, 1), re().addAlchemicalCaster_yk8txo$(i, e, s), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_ALCHEMIST, "Infused Reagents") }, $T.$metadata$ = { kind: p, interfaces: [Gu] }, gT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Discovery" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_ALCHEMIST, 2, o) }, gT.$metadata$ = { kind: p, interfaces: [Gu] }, vT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Discovery" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_ALCHEMIST, l, o) }, vT.$metadata$ = { kind: p, interfaces: [Gu] }, ST.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_ALCHEMIST, "Quick Alchemy"); var o = e.hashMapAlchemicalCasters.get_11rb$(i3().ALCHEMY_ARCHETYPE_ALCHEMIST); null != o && (o.hasQuick = i) }, ST.$metadata$ = { kind: p, interfaces: [Gu] }, CT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapAlchemicalCasters.get_11rb$(i3().ALCHEMY_ARCHETYPE_ALCHEMIST); if (null != o) { o.setAlchemyLevelAtCharacterLevel_f9128j$(i, r + "1", a, 3); var s = 10; a > s && (s = a), o.setAlchemyLevelAtCharacterLevel_f9128j$(i, r + "2", s, 5) } }, CT.$metadata$ = { kind: p, interfaces: [Gu] }, ET.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapAlchemicalCasters.get_11rb$(i3().ALCHEMY_ARCHETYPE_ALCHEMIST); if (null != o) for (var s = a; s <= 20; s++)o.setAlchemyLevelAtCharacterLevel_f9128j$(i, r + j(s), s, s - 5 | 0) }, ET.$metadata$ = { kind: p, interfaces: [Gu] }, mT.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new $T; t.put_xwzc9p$("ARCHETYPE_Alchemist Dedication", e); var i = new gT; t.put_xwzc9p$("ARCHETYPE_Basic Concoction", i); var a = new vT; t.put_xwzc9p$("ARCHETYPE_Advanced Conoction", a); var r = new ST; t.put_xwzc9p$("ARCHETYPE_Quick Alchemy", r); var n = new CT; t.put_xwzc9p$("ARCHETYPE_Expert Alchemy", n); var o = new ET; t.put_xwzc9p$("ARCHETYPE_Mastery Alchemy", o) }, mT.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeAlchemist", interfaces: [] }; var AT = null; function bT() { return null === AT && new mT, AT } function IT() { MT = this, this.SPECIAL_CHOICE_REF_MATURE_0 = "Select Mature Companion Replacement Skill" } function wT() { Gu.call(this) } function LT() { Gu.call(this) } function TT() { } function kT() { Gu.call(this) } function RT() { Gu.call(this) } function PT() { } wT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { e.animalTrainer = i, re().addAnimalCompanion_dlg1vj$(i, t, e, r, a) }, wT.$metadata$ = { kind: p, interfaces: [Gu] }, TT.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i && (e.animalTrainerMatureSkill = o(o(r).name), t.managerPets.buildAllAnimalCompanions_ryqv3o$(!1, e), t.managerPets.buildAllAnimalCompanions_ryqv3o$(!0, e)) }, TT.$metadata$ = { kind: p, interfaces: [xX] }, LT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (re().addAnimalCompanionMature_wifd5v$(i, t, e, r, DW(a, 0)), i) { var l = qX("Mature Companion Replacement Skill", a); l.textDescription = "Select a skill to be replaced by performance for your animal companion"; var p = c(); for (s = T([pK().INTIMIDATION, pK().STEALTH, pK().SURVIVAL]).iterator(); s.hasNext();) { var h = s.next(), d = qX(h, a); d.textDescription = "Your animal companion will not receive a proficiency increase for " + h, d.specialEffect = new TT, p.put_xwzc9p$(h, d) } var u = l.hashMapSpecialChoices, _ = NT().SPECIAL_CHOICE_REF_MATURE_0; u.put_xwzc9p$(_, p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var f = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != f && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, f), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, LT.$metadata$ = { kind: p, interfaces: [Gu] }, kT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionIncredible_wifd5v$(i, t, e, r, DW(a, 0)) }, kT.$metadata$ = { kind: p, interfaces: [Gu] }, PT.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i && (e.animalTrainerSpecialisedSkill = o(o(r).name), t.managerPets.buildAllAnimalCompanions_ryqv3o$(!1, e), t.managerPets.buildAllAnimalCompanions_ryqv3o$(!0, e)) }, PT.$metadata$ = { kind: p, interfaces: [xX] }, RT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (re().addAnimalCompanionSpecializationChoice_wifd5v$(i, t, e, r, DW(a, 0)), i) { var l = qX("Specialized Companion Replacement Skill", a); l.textDescription = "Select a skill to be replaced by performance for your animal companion"; var p = c(), h = [pK().ACROBATICS, pK().ATHELTICS, pK().DECEPTION, pK().DIPLOMACY, pK().INTIMIDATION, pK().NATURE, pK().STEALTH, pK().SURVIVAL, pK().THIEVERY]; for (s = 0; s !== h.length; ++s) { var d = h[s], u = qX(d, a); u.textDescription = "Your animal companion will not receive a proficiency increase for " + d + " if it gains that skill from its specialization", u.specialEffect = new PT, p.put_xwzc9p$(d, u) } var _ = l.hashMapSpecialChoices, f = NT().SPECIAL_CHOICE_REF_MATURE_0; _.put_xwzc9p$(f, p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var y = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != y && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, y), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, RT.$metadata$ = { kind: p, interfaces: [Gu] }, IT.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new wT; t.put_xwzc9p$("ARCHETYPE_Animal Trainer Dedication", e); var i = new LT; t.put_xwzc9p$("ARCHETYPE_Mature Trained Companion", i); var a = new kT; t.put_xwzc9p$("ARCHETYPE_Splendid Companion", a); var r = new RT; t.put_xwzc9p$("ARCHETYPE_Specialized Companion", r) }, IT.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeAnimalTrainer", interfaces: [] }; var MT = null; function NT() { return null === MT && new IT, MT } function DT() { UT = this, this.SPECIAL_INFO_REF_INSTINCT = "Archetype Barbarian Instinct", this.SPECIAL_INFO_REF_INSTINCT_CHOICE = "Select Instinct", this.WARNING_TEXT_0 = "<b>Archetype Barbarian</b><br>Choose an instinct as you would if you were a barbarian. You have that instinct for all purposes and become bound by its anathema, <b>but you don't gain any of the other abilities it grants.</b><br><br>" } function xT() { Gu.call(this) } function zT() { } function OT(t) { this.closure$specialInformationParent = t } function FT(t) { this.closure$specialInformationParent = t } function BT() { Gu.call(this) } function jT() { Gu.call(this) } function HT() { Gu.call(this) } function qT() { Gu.call(this) } zT.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i || t.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(e, "ARCHETYPE_Instinct Ability") }, zT.$metadata$ = { kind: p, interfaces: [xX] }, OT.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_BARBARIAN_INSTINCT_ANIMAL); this.closure$specialInformationParent.hashMapSpecialChoices.put_xwzc9p$("Select Animal", n) } else this.closure$specialInformationParent.hashMapSpecialChoices.remove_11rb$("Select Animal") }, OT.$metadata$ = { kind: p, interfaces: [xX] }, FT.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_BARBARIAN_INSTINCT_DRAGON); this.closure$specialInformationParent.hashMapSpecialChoices.put_xwzc9p$("Select Dragon Type", n) } else this.closure$specialInformationParent.hashMapSpecialChoices.remove_11rb$("Select Dragon Type") }, FT.$metadata$ = { kind: p, interfaces: [xX] }, xT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = MK(r, 1, T([pK().ATHELTICS]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); if (re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, l), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_BARBARIAN, "Rage"), i) { var c = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_BARBARIAN_INSTINCTS); for (s = c.values.iterator(); s.hasNext();) { var p = s.next(); p.specialEffect = new zT, p.textDescription = GT().WARNING_TEXT_0 + p.textDescription } var h = qX("Instinct", a); o(c.get_11rb$("Animal Instinct")).specialEffect = new OT(h), o(c.get_11rb$("Dragon Instinct")).specialEffect = new FT(h), h.textDescription = "Choose an instinct as you would if you were a barbarian. You have that instinct for all purposes and become bound by its anathema, but you dont gain any of the other abilities it grants."; var d = h.hashMapSpecialChoices, u = GT().SPECIAL_INFO_REF_INSTINCT_CHOICE; d.put_xwzc9p$(u, c); var _ = o(e.hashMapSpecialInformation[a - 1 | 0]), f = GT().SPECIAL_INFO_REF_INSTINCT; _.put_xwzc9p$(f, h) } else { var y = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(GT().SPECIAL_INFO_REF_INSTINCT); null != y && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, GT().SPECIAL_INFO_REF_INSTINCT, y), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(GT().SPECIAL_INFO_REF_INSTINCT), t.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(e, "ARCHETYPE_Instinct Ability") } }, xT.$metadata$ = { kind: p, interfaces: [Gu] }, BT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Fury" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_BARBARIAN, 2, o) }, BT.$metadata$ = { kind: p, interfaces: [Gu] }, jT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Fury" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_BARBARIAN, l, o) }, jT.$metadata$ = { kind: p, interfaces: [Gu] }, HT.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, l) { var c = i.getCharacterData().getSpecialSelection_puj7f4$(GT().SPECIAL_INFO_REF_INSTINCT, GT().SPECIAL_INFO_REF_INSTINCT_CHOICE); if (null != c) { if (m(c, "Fury Instinct")) { var p = n + "fury instinct feat"; if (a) { var d = Ru(); d.maxLevel = 1, d.featType = se().FEATS_BARBARIAN, d.level = o(l).level, d.specificHeader = "Fury Barbarian Feat", l.hashMapChildFeatChoices.put_xwzc9p$(p, d) } else if (o(l).hashMapChildFeatChoices.containsKey_11rb$(p)) { var u = l.hashMapChildFeatChoices.get_11rb$(p); t.managerFeats.deactivateFeat_8fzv80$(i, l.level, u, p), l.hashMapChildFeatChoices.remove_11rb$(p) } } } else try { var _ = i.getFeatChoice_19mbxw$(o(l).level, "Fury Instinct"); t.managerFeats.deactivateFeat_8fzv80$(i, l.level, _, "Fury Instinct"), o(i.hashMapFeatChoices[l.level - 1 | 0]).remove_11rb$("Fury Instinct") } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, HT.$metadata$ = { kind: p, interfaces: [Gu] }, qT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_FORTITUDE, 6) }, qT.$metadata$ = { kind: p, interfaces: [Gu] }, DT.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new xT; t.put_xwzc9p$("ARCHETYPE_Barbarian Dedication", e); var i = new BT; t.put_xwzc9p$("ARCHETYPE_Basic Fury", i); var a = new jT; t.put_xwzc9p$("ARCHETYPE_Advanced Fury", a); var r = new HT; t.put_xwzc9p$("ARCHETYPE_Instinct Ability", r); var n = new qT; t.put_xwzc9p$("ARCHETYPE_Juggernaut's Fortitude", n) }, DT.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeBarbarian", interfaces: [] }; var UT = null; function GT() { return null === UT && new DT, UT } function WT() { ik = this, this.WARNING_TEXT_0 = "<b>Archetype Bard</b><br>Choose a muse as you would if you were a bard. You have that muse for all purposes, allowing you to take that muse's feats, <b>but you don't gain any of the other abilities it grants.</b><br><br>" } function YT() { Gu.call(this) } function VT() { Gu.call(this) } function KT() { Gu.call(this) } function XT() { Gu.call(this) } function JT() { Gu.call(this) } function ZT() { Gu.call(this) } function QT() { Gu.call(this) } function tk() { Gu.call(this) } function ek() { Gu.call(this) } YT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = T([pK().OCCULTISM]), c = MK(r, 1, l, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); if (re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, c), c = MK(r + "1", 1, l = T([pK().PERFORMANCE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "1", c), i) { var p = new a3(o3().ARCHETYPE_CASTER_BARD, 0, 2, !0, 5, !1, a), h = e.hashMapSpellCasters, d = o3().ARCHETYPE_CASTER_BARD; h.put_xwzc9p$(d, p) } else e.hashMapSpellCasters.remove_11rb$(o3().ARCHETYPE_CASTER_BARD); if (re().setProficiencyAtLevel_8d16k4$(i, e, o3().ARCHETYPE_CASTER_BARD, a, pK().PROFICIENCY_SPELLS_OCCULT, 2), i) { var u = qX("Bard Archetype Muse", a), _ = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_BARD_MUSES); for (s = _.values.iterator(); s.hasNext();) { var f = s.next(); f.specialEffect = null, f.textDescription = ak().WARNING_TEXT_0 + f.textDescription } u.hashMapSpecialChoices.put_xwzc9p$("Select Bard Archetype Muse", _), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$("Bard Archetype Muse", u) } else { var y = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$("Bard Archetype Muse"); null != y && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, "Bard Archetype Muse", y), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$("Bard Archetype Muse") } }, YT.$metadata$ = { kind: p, interfaces: [Gu] }, VT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_Basic Muse's Whispers" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_BARD, 2, o) }, VT.$metadata$ = { kind: p, interfaces: [Gu] }, KT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_Advanced Muse's Whispers" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_BARD, l, o) }, KT.$metadata$ = { kind: p, interfaces: [Gu] }, XT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, zW(a, 1, !0)), re().addAwardedPower_ujte31$(i, e, r, P0("Counter Performance", a, 1)) }, XT.$metadata$ = { kind: p, interfaces: [Gu] }, JT.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, M0("Inspire Courage", a, 0, !0)) }, JT.$metadata$ = { kind: p, interfaces: [Gu] }, ZT.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_BARD)) || e.isType(s, a3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, ZT.$metadata$ = { kind: p, interfaces: [Gu] }, QT.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_BARD)) || e.isType(s, a3) ? s : d(); null != l && l.setBreadth_eltk6l$(a, r) }, QT.$metadata$ = { kind: p, interfaces: [Gu] }, tk.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_BARD)) || e.isType(s, a3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_BARD + "Expert", r, pK().PROFICIENCY_SPELLS_OCCULT, 4) }, tk.$metadata$ = { kind: p, interfaces: [Gu] }, ek.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_BARD)) || e.isType(s, a3) ? s : d(); null != l && l.setMaster_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_BARD + "Master", r, pK().PROFICIENCY_SPELLS_OCCULT, 6) }, ek.$metadata$ = { kind: p, interfaces: [Gu] }, WT.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new YT; t.put_xwzc9p$("ARCHETYPE_Bard Dedication", e); var i = new VT; t.put_xwzc9p$("ARCHETYPE_Basic Muse's Whispers", i); var a = new KT; t.put_xwzc9p$("ARCHETYPE_Advanced Muse's Whispers", a); var r = new XT; t.put_xwzc9p$("ARCHETYPE_Counter Perform", r); var n = new JT; t.put_xwzc9p$("ARCHETYPE_Inspirational Performance", n); var o = new ZT; t.put_xwzc9p$("ARCHETYPE_Basic Bard Spellcasting", o); var s = new QT; t.put_xwzc9p$("ARCHETYPE_Occult Breadth", s); var l = new tk; t.put_xwzc9p$("ARCHETYPE_Expert Bard Spellcasting", l); var c = new ek; t.put_xwzc9p$("ARCHETYPE_Master Bard Spellcasting", c) }, WT.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeBard", interfaces: [] }; var ik = null; function ak() { return null === ik && new WT, ik } function rk() { _k = this } function nk() { Gu.call(this) } function ok() { Gu.call(this) } function sk() { Gu.call(this) } function lk() { Gu.call(this) } function ck() { Gu.call(this) } function pk() { Gu.call(this) } function hk() { Gu.call(this) } function dk(t) { this.closure$reference = t } function uk(t) { this.closure$reference = t } nk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new a3(o3().ARCHETYPE_CASTER_MONSTER_MAGE, 1, 0, !1, 4, !0, a); o.hideProficiencies = !0; var s = e.hashMapSpellCasters, l = o3().ARCHETYPE_CASTER_MONSTER_MAGE; s.put_xwzc9p$(l, o) } else e.hashMapSpellCasters.remove_11rb$(o3().ARCHETYPE_CASTER_MONSTER_MAGE); re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Create Token"); var c = u(); c.add_11rb$("GENERAL_Additional Lore"), re().addFeatSubChoice_gxiklp$(i, t, e, n, se().FEATS_GENERAL, c, r + "additional lore") }, nk.$metadata$ = { kind: p, interfaces: [Gu] }, ok.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_MONSTER_MAGE)) || e.isType(s, a3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, ok.$metadata$ = { kind: p, interfaces: [Gu] }, sk.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_MONSTER_MAGE)) || e.isType(s, a3) ? s : d(); null != l && l.setBreadth_eltk6l$(a, r) }, sk.$metadata$ = { kind: p, interfaces: [Gu] }, lk.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_MONSTER_MAGE)) || e.isType(s, a3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r) }, lk.$metadata$ = { kind: p, interfaces: [Gu] }, ck.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_MONSTER_MAGE)) || e.isType(s, a3) ? s : d(); null != l && l.setMaster_eltk6l$(a, r) }, ck.$metadata$ = { kind: p, interfaces: [Gu] }, pk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = "Vestige Hunter Sense"; if (i) { var l = o(e.hashMapSpecialInformation[a - 1 | 0]), c = fk().getVestigeSenseSpecial_0(r, a); l.put_xwzc9p$(s, c) } else { var p = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(s); null != p && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, s, p), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(s) } }, pk.$metadata$ = { kind: p, interfaces: [Gu] }, hk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = "Vestige's Senses"; if (i) { var l = o(e.hashMapSpecialInformation[a - 1 | 0]), c = fk().getVestigeSenseSpecial_0(r, a); l.put_xwzc9p$(s, c) } else { var p = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(s); null != p && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, s, p), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(s) } }, hk.$metadata$ = { kind: p, interfaces: [Gu] }, rk.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new nk; t.put_xwzc9p$("ARCHETYPE_Monster Mage Dedication", e); var i = new ok; t.put_xwzc9p$("ARCHETYPE_Basic Monster Mage Spellcasting", i); var a = new sk; t.put_xwzc9p$("ARCHETYPE_Monster Breadth", a); var r = new lk; t.put_xwzc9p$("ARCHETYPE_Expert Monster Mage Spellcasting", r); var n = new ck; t.put_xwzc9p$("ARCHETYPE_Master Monster Mage Spellcasting", n); var o = new pk; t.put_xwzc9p$("ARCHETYPE_Vestige Hunter Dedication", o); var s = new hk; t.put_xwzc9p$("ARCHETYPE_Vestige's Senses", s) }, dk.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, this.closure$reference + "1", a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_LOW_LIGHT_VISION), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, this.closure$reference + "2", a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, dk.$metadata$ = { kind: p, interfaces: [xX] }, uk.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, this.closure$reference + "1", a, BK().SPECIALS_UNIVERSAL, "Imprecise Scent") }, uk.$metadata$ = { kind: p, interfaces: [xX] }, rk.prototype.getVestigeSenseSpecial_0 = function (t, e) { var i = qX("Vestige Hunter Sense", e), a = c(), r = "Choose to either gain low-light vision and darkvision, or to gain imprecise scent with a range of 30 feet.", n = "Darkvision and Low-Light Vision", o = qX(n, e), s = n, l = o; a.put_xwzc9p$(s, l), o.textDescription = r, o.specialEffect = new dk(t); var p = n = "Imprecise Scent (30ft.)", h = o = qX(n, e); return a.put_xwzc9p$(p, h), o.textDescription = r, o.specialEffect = new uk(t), i.hashMapSpecialChoices.put_xwzc9p$("Select Vestige Hunter Sense", a), i }, rk.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeBattlezooBestiary", interfaces: [] }; var _k = null; function fk() { return null === _k && new rk, _k } function yk() { vk = this } function mk() { Gu.call(this) } function $k() { Gu.call(this) } function gk() { Gu.call(this) } mk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, e, r + "1", a, pK().STEALTH, 4), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, e, r + "1", a, pK().DECEPTION, 4), re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Butterfly Sword"], "No keyword") }, mk.$metadata$ = { kind: p, interfaces: [Gu] }, $k.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_ROGUE, "Sneak Attack"), i) { var o = new bX("Sneak Attack"); o.addSneakAttackAtLevel_qt1dr2$(a, 1, 6), e.hashMapSneakAttackTracks.put_xwzc9p$("Archetype Butterfly Blade Sneak Attack", o) } else e.hashMapSneakAttackTracks.remove_11rb$("Archetype Butterfly Blade Sneak Attack") }, $k.$metadata$ = { kind: p, interfaces: [Gu] }, gk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Aura of the Unremarkable"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Innocent Butterfly", 0, 6, a, o, s) }, gk.$metadata$ = { kind: p, interfaces: [Gu] }, yk.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new mk; t.put_xwzc9p$("ARCHETYPE_BUTTERFLY BLADE_Butterfly Blade Dedication", e); var i = new $k; t.put_xwzc9p$("ARCHETYPE_BUTTERFLY BLADE_Butterfly's Sting", i); var a = new gk; t.put_xwzc9p$("ARCHETYPE_BUTTERFLY BLADE_Innocent Butterfly", a) }, yk.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeButterflyBlade", interfaces: [] }; var vk = null; function Sk() { return null === vk && new yk, vk } function Ck() { Rk = this } function Ek() { Gu.call(this) } function Ak() { Gu.call(this) } function bk() { Gu.call(this) } function Ik() { Gu.call(this) } function wk() { Gu.call(this) } function Lk() { } function Tk() { Gu.call(this) } function kk() { Gu.call(this) } Ek.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, c, p = [pK().PROFICIENCY_LIGHT_ARMOR, pK().PROFICIENCY_MEDIUM_ARMOR, pK().PROFICIENCY_HEAVY_ARMOR]; for (s = 0; s !== p.length; ++s) { var h = p[s]; re().setProficiencyAtLevel_8d16k4$(i, e, r, a, h, 2) } var d = MK(r, 1, T([pK().RELIGION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, d), d = MK(r + "1", 1, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "1", d); var u = "Champion Archetype Cause"; if (i) { var _ = qX("Champion Archetype Cause", a), f = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_CHAMPION_CAUSES); for (l = f.values.iterator(); l.hasNext();)l.next().specialEffect = null; _.hashMapSpecialChoices.put_xwzc9p$("Select Champion Archetype Cause", f); var y = u; o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(y, _) } else { var m = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(u); null != m && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, u, m), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(u) } if (u = "Champion Archetype Tenets", i) { var $ = qX("Champion Archetype Tenets", a), g = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_CHAMPION_TENETS); for (c = g.values.iterator(); c.hasNext();)c.next().specialEffect = null; $.hashMapSpecialChoices.put_xwzc9p$("Select Champion Archetype Tenet", g); var v = u; o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(v, $) } else { var S = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(u); null != S && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, u, S), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(u) } }, Ek.$metadata$ = { kind: p, interfaces: [Gu] }, Ak.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_Basic Benediction" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_CHAMPION, 2, o) }, Ak.$metadata$ = { kind: p, interfaces: [Gu] }, bk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_Advanced Benediction" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_CHAMPION, l, o) }, bk.$metadata$ = { kind: p, interfaces: [Gu] }, Ik.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, zW(a, 1, !0)); var o = e.getCharacterData().getSpecialSelection_puj7f4$("Champion Archetype Cause", "Select Champion Archetype Cause"); null != o && (m(o, "Paladin Cause") || m(o, "Redeemer Cause") || m(o, "Liberator Cause") ? re().addAwardedPower_ujte31$(i, e, r, P0("Lay on Hands", a, 1)) : (m(o, "Antipaladin Cause") || m(o, "Desecrator Cause") || m(o, "Tyrant Cause")) && re().addAwardedPower_ujte31$(i, e, r, P0("Touch of Corruption", a, 1))) }, Ik.$metadata$ = { kind: p, interfaces: [Gu] }, Lk.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAnimalCompanion_dlg1vj$(i, t, e, "Divine Ally", a) }, Lk.$metadata$ = { kind: p, interfaces: [xX] }, wk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = qX("Divine Ally", a), l = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_CHAMPION_DIVINE_ALLY); o(l.get_11rb$("Divine Ally (Steed)")).specialEffect = new Lk, s.hashMapSpecialChoices.put_xwzc9p$("Select Divine Ally", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$("ARCHETYPE_Divine Ally", s) } else { var c = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$("ARCHETYPE_Divine Ally"); null != c && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, "ARCHETYPE_Divine Ally", c), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$("ARCHETYPE_Divine Ally") } }, wk.$metadata$ = { kind: p, interfaces: [Gu] }, Tk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_LIGHT_ARMOR, 4), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_MEDIUM_ARMOR, 4), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_HEAVY_ARMOR, 4), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_UNARMORED, 4) }, Tk.$metadata$ = { kind: p, interfaces: [Gu] }, kk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.getCharacterData().getSpecialSelection_puj7f4$("Champion Archetype Cause", "Select Champion Archetype Cause"); null != o && (m(o, "Paladin Cause") ? re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Retributive Strike") : m(o, "Redeemer Cause") ? re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Glimpse of Redemption") : m(o, "Liberator Cause") ? re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Liberating Step") : m(o, "Antipaladin Cause") ? re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Destructive Vengeance") : m(o, "Desecrator Cause") ? re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Selfish Shield") : m(o, "Tyrant Cause") && re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Iron Command")) }, kk.$metadata$ = { kind: p, interfaces: [Gu] }, Ck.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Ek; t.put_xwzc9p$("ARCHETYPE_Champion Dedication", e); var i = new Ak; t.put_xwzc9p$("ARCHETYPE_Basic Devotion", i); var a = new bk; t.put_xwzc9p$("ARCHETYPE_Advanced Devotion", a); var r = new Ik; t.put_xwzc9p$("ARCHETYPE_Healing Touch", r); var n = new wk; t.put_xwzc9p$("ARCHETYPE_Divine Ally", n); var o = new Tk; t.put_xwzc9p$("ARCHETYPE_Diverse Armor Expert", o); var s = new kk; t.put_xwzc9p$("ARCHETYPE_Champion's Reaction", s) }, Ck.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeChampion", interfaces: [] }; var Rk = null; function Pk() { return null === Rk && new Ck, Rk } function Mk() { jk = this } function Nk() { Gu.call(this) } function Dk() { Gu.call(this) } function xk() { Gu.call(this) } function zk() { Gu.call(this) } function Ok() { Gu.call(this) } function Fk() { Gu.call(this) } function Bk() { Gu.call(this) } Nk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().RELIGION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); if (re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), o = MK(r + "1", 1, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "1", o), i) { var s = new a3(o3().ARCHETYPE_CASTER_CLERIC, 1, 1, !0, 4, !1, a), l = e.hashMapSpellCasters, c = o3().ARCHETYPE_CASTER_CLERIC; l.put_xwzc9p$(c, s) } else e.hashMapSpellCasters.remove_11rb$(o3().ARCHETYPE_CASTER_CLERIC); re().setProficiencyAtLevel_8d16k4$(i, e, o3().ARCHETYPE_CASTER_CLERIC, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, Nk.$metadata$ = { kind: p, interfaces: [Gu] }, Dk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Dogma" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_CLERIC, 2, o) }, Dk.$metadata$ = { kind: p, interfaces: [Gu] }, xk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Dogma" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_CLERIC, l, o) }, xk.$metadata$ = { kind: p, interfaces: [Gu] }, zk.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_CLERIC)) || e.isType(s, a3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, zk.$metadata$ = { kind: p, interfaces: [Gu] }, Ok.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_CLERIC)) || e.isType(s, a3) ? s : d(); null != l && l.setBreadth_eltk6l$(a, r) }, Ok.$metadata$ = { kind: p, interfaces: [Gu] }, Fk.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_CLERIC)) || e.isType(s, a3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_CLERIC + "Expert", r, pK().PROFICIENCY_SPELLS_DIVINE, 4) }, Fk.$metadata$ = { kind: p, interfaces: [Gu] }, Bk.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_CLERIC)) || e.isType(s, a3) ? s : d(); null != l && l.setMaster_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_CLERIC + "Master", r, pK().PROFICIENCY_SPELLS_DIVINE, 6) }, Bk.$metadata$ = { kind: p, interfaces: [Gu] }, Mk.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Nk; t.put_xwzc9p$("ARCHETYPE_Cleric Dedication", e); var i = new Dk; t.put_xwzc9p$("ARCHETYPE_Basic Dogma", i); var a = new xk; t.put_xwzc9p$("ARCHETYPE_Advanced Dogma", a); var r = new zk; t.put_xwzc9p$("ARCHETYPE_Basic Cleric Spellcasting", r); var n = new Ok; t.put_xwzc9p$("ARCHETYPE_Divine Breadth", n); var o = new Fk; t.put_xwzc9p$("ARCHETYPE_Expert Cleric Spellcasting", o); var s = new Bk; t.put_xwzc9p$("ARCHETYPE_Master Cleric Spellcasting", s) }, Mk.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeCleric", interfaces: [] }; var jk = null; function Hk() { return null === jk && new Mk, jk } function qk() { Xk = this } function Uk() { Gu.call(this) } function Gk() { Gu.call(this) } function Wk() { Gu.call(this) } function Yk() { Gu.call(this) } function Vk() { Gu.call(this) } function Kk() { Gu.call(this) } Uk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(i, e, r, a, pK().STEALTH, 4), re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Assassin"), re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Sawtooth Saber"], "No keyword") }, Uk.$metadata$ = { kind: p, interfaces: [Gu] }, Gk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new H3(o3().ARCHETYPE_CASTER_CRIMSON_ASSASSIN, 1, 1, !1, 5, !0, a); o.setBasic_eltk6l$(i, a); var s = e.hashMapSpellCasters, l = o3().ARCHETYPE_CASTER_CRIMSON_ASSASSIN; s.put_xwzc9p$(l, o) } else e.hashMapSpellCasters.remove_11rb$(o3().ARCHETYPE_CASTER_CRIMSON_ASSASSIN); re().setProficiencyAtLevel_8d16k4$(i, e, o3().ARCHETYPE_CASTER_CRIMSON_ASSASSIN, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, Gk.$metadata$ = { kind: p, interfaces: [Gu] }, Wk.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_CRIMSON_ASSASSIN)) || e.isType(s, a3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r) }, Wk.$metadata$ = { kind: p, interfaces: [Gu] }, Yk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Mantis Form", a, 1)), i ? 0 === t.managerSpells.getMaxFocusPoints_5btbp7$(e) && re().increaseFocusPoints_sfpo92$(!0, e, r, DW(1, 1)) : e.hashMapFocusPointIncreaseItems.remove_11rb$(r) }, Yk.$metadata$ = { kind: p, interfaces: [Gu] }, Vk.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_CRIMSON_ASSASSIN)) || e.isType(s, H3) ? s : d(); null != l && l.setHighKiller_eltk6l$(a, r) }, Vk.$metadata$ = { kind: p, interfaces: [Gu] }, Kk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Mantis God's Clutch", a, 1)) }, Kk.$metadata$ = { kind: p, interfaces: [Gu] }, qk.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Uk; t.put_xwzc9p$("ARCHETYPE_Crimson Assassin Dedication", e); var i = new Gk; t.put_xwzc9p$("ARCHETYPE_Basic Crimson Magic", i); var a = new Wk; t.put_xwzc9p$("ARCHETYPE_Advanced Crimson Magic", a); var r = new Yk; t.put_xwzc9p$("ARCHETYPE_Mantis Form", r); var n = new Vk; t.put_xwzc9p$("ARCHETYPE_CRIMSON_ASSASSIN_High Killer Training", n); var o = new Kk; t.put_xwzc9p$("ARCHETYPE_CRIMSON_ASSASSIN_Mantis God's Grip", o) }, qk.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeCrimsonAssassin", interfaces: [] }; var Xk = null; function Jk() { return null === Xk && new qk, Xk } function Zk() { eR = this, this.CASTER_CRYSTAL_KEEPER_0 = "Crystal Keeper" } function Qk() { Gu.call(this) } function tR() { Gu.call(this) } Qk.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Electrified Crystal Ward", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().setProficiencyAtLevel_8d16k4$(i, e, iR().CASTER_CRYSTAL_KEEPER_0, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, Qk.$metadata$ = { kind: p, interfaces: [Gu] }, tR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new Int32Array([2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]), s = new k2(iR().CASTER_CRYSTAL_KEEPER_0, 0, 3, a, o), l = e.hashMapSpellCasters, c = iR().CASTER_CRYSTAL_KEEPER_0; l.put_xwzc9p$(c, s); var p = s.getSpellSlotReference_vux9f0$(0, 0), h = new S2(0, "Sigil", 0), d = p, u = h; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u); var _ = p = s.getSpellSlotReference_vux9f0$(0, 1), f = h = new S2(0, "Read Aura", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(_, f) } else e.hashMapSpellCasters.remove_11rb$(iR().CASTER_CRYSTAL_KEEPER_0) }, tR.$metadata$ = { kind: p, interfaces: [Gu] }, Zk.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Qk; t.put_xwzc9p$("ARCHETYPE_Crystal Ward Spells", e); var i = new tR; t.put_xwzc9p$("ARCHETYPE_Simple Crystal Magic", i) }, Zk.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeCrystalKeeper", interfaces: [] }; var eR = null; function iR() { return null === eR && new Zk, eR } function aR() { uR = this, this.SPECIAL_INFO_REF_ORDER = "Archetype Druid Order", this.SPECIAL_INFO_REF_ORDER_CHOICE = "Select Order", this.WARNING_TEXT_0 = "<b>Archetype Druid</b><br>You become a member of that order and are bound by its anathema, allowing you to take the order's feats. You become trained in Nature and your order's associated skill; for each of these skills in which you were already trained, you become trained in a skill of your choice. <b>You don't gain any other abilities from your choice of order.</b><br><br>" } function rR() { Gu.call(this) } function nR(t, e) { this.closure$orderSkill = t, this.closure$featRef = e } function oR() { Gu.call(this) } function sR() { Gu.call(this) } function lR() { Gu.call(this) } function cR() { Gu.call(this) } function pR() { Gu.call(this) } function hR() { Gu.call(this) } function dR() { Gu.call(this) } nR.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = T([this.closure$orderSkill]), o = MK(this.closure$featRef + "1", 1, n, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, this.closure$featRef + "1", o) }, nR.$metadata$ = { kind: p, interfaces: [xX] }, rR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = MK(r, 1, T([pK().NATURE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); if (re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, l), i) { var c = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_DRUID_ORDERS); for (s = c.values.iterator(); s.hasNext();) { var p = s.next(); p.specialEffect = null, p.textDescription = _R().WARNING_TEXT_0 + p.textDescription } for (var h = qX("Druid Order", a), d = ["Animal Order", "Leaf Order", "Storm Order", "Wild Order", "Flame Order", "Stone Order", "Wave Order"], u = [pK().ATHELTICS, pK().DIPLOMACY, pK().ACROBATICS, pK().INTIMIDATION, pK().ACROBATICS, pK().CRAFTING, pK().MEDICINE], _ = 0; _ !== d.length; ++_) { var f = d[_], y = u[_]; o(c.get_11rb$(f)).specialEffect = new nR(y, r) } h.textDescription = "Choose an order as you would if you were a druid. You become bound by that order's anathema and count as a member of the order. You become trained in Nature and your order's associated skill; for each of these skills in which you were already trained, you become trained in a skill of your choice. You don't gain any other abilities from your choice of order. "; var m = h.hashMapSpecialChoices, $ = _R().SPECIAL_INFO_REF_ORDER_CHOICE; m.put_xwzc9p$($, c); var g = o(e.hashMapSpecialInformation[a - 1 | 0]), v = _R().SPECIAL_INFO_REF_ORDER; g.put_xwzc9p$(v, h) } else { var S = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(_R().SPECIAL_INFO_REF_ORDER); null != S && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, _R().SPECIAL_INFO_REF_ORDER, S), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(_R().SPECIAL_INFO_REF_ORDER) } if (i) { var C = new a3(o3().ARCHETYPE_CASTER_DRUID, 1, 3, !0, 4, !1, a), E = e.hashMapSpellCasters, A = o3().ARCHETYPE_CASTER_DRUID; E.put_xwzc9p$(A, C) } else e.hashMapSpellCasters.remove_11rb$(o3().ARCHETYPE_CASTER_DRUID); re().setProficiencyAtLevel_8d16k4$(i, e, o3().ARCHETYPE_CASTER_DRUID, a, pK().PROFICIENCY_SPELLS_PRIMAL, 2) }, rR.$metadata$ = { kind: p, interfaces: [Gu] }, oR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, zW(a, 1, !0)); var o = e.getCharacterData().getSpecialSelection_puj7f4$(_R().SPECIAL_INFO_REF_ORDER, _R().SPECIAL_INFO_REF_ORDER_CHOICE); null != o && (m(o, "Animal Order") ? re().addAwardedPower_ujte31$(i, e, r, P0("Heal Animal", a, 1)) : m(o, "Leaf Order") ? re().addAwardedPower_ujte31$(i, e, r, P0("Goodberry", a, 1)) : m(o, "Storm Order") ? re().addAwardedPower_ujte31$(i, e, r, P0("Tempest Surge", a, 1)) : m(o, "Wild Order") ? re().addAwardedPower_ujte31$(i, e, r, P0("Wild Morph", a, 1)) : m(o, "Flame Order") ? re().addAwardedPower_ujte31$(i, e, r, P0("Wildfire", a, 1)) : m(o, "Stone Order") ? re().addAwardedPower_ujte31$(i, e, r, P0("Crushing Ground", a, 1)) : m(o, "Wave Order") && re().addAwardedPower_ujte31$(i, e, r, P0("Rising Surf", a, 1))) }, oR.$metadata$ = { kind: p, interfaces: [Gu] }, sR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_Basic Wilding" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_DRUID, 2, o) }, sR.$metadata$ = { kind: p, interfaces: [Gu] }, lR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_Advanced Wilding" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_DRUID, l, o) }, lR.$metadata$ = { kind: p, interfaces: [Gu] }, cR.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_DRUID)) || e.isType(s, a3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, cR.$metadata$ = { kind: p, interfaces: [Gu] }, pR.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_DRUID)) || e.isType(s, a3) ? s : d(); null != l && l.setBreadth_eltk6l$(a, r) }, pR.$metadata$ = { kind: p, interfaces: [Gu] }, hR.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_DRUID)) || e.isType(s, a3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_DRUID + "Expert", r, pK().PROFICIENCY_SPELLS_PRIMAL, 4) }, hR.$metadata$ = { kind: p, interfaces: [Gu] }, dR.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_DRUID)) || e.isType(s, a3) ? s : d(); null != l && l.setMaster_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_DRUID + "Master", r, pK().PROFICIENCY_SPELLS_PRIMAL, 6) }, dR.$metadata$ = { kind: p, interfaces: [Gu] }, aR.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new rR; t.put_xwzc9p$("ARCHETYPE_Druid Dedication", e); var i = new oR; t.put_xwzc9p$("ARCHETYPE_Order Spell", i); var a = new sR; t.put_xwzc9p$("ARCHETYPE_Basic Wilding", a); var r = new lR; t.put_xwzc9p$("ARCHETYPE_Advanced Wilding", r); var n = new cR; t.put_xwzc9p$("ARCHETYPE_Basic Druid Spellcasting", n); var o = new pR; t.put_xwzc9p$("ARCHETYPE_Primal Breadth", o); var s = new hR; t.put_xwzc9p$("ARCHETYPE_Expert Druid Spellcasting", s); var l = new dR; t.put_xwzc9p$("ARCHETYPE_Master Druid Spellcasting", l) }, aR.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeDruid", interfaces: [] }; var uR = null; function _R() { return null === uR && new aR, uR } function fR() { AR = this, this.MAGIC_CHOICE_ID_0 = "Select Magic Type", this.MAGIC_SPECIAL_REF_0 = "Eldritch Research Magic Type" } function yR() { Gu.call(this) } function mR(t, e, i) { this.closure$casterName = t, this.closure$spellList = e, this.closure$type = i } function $R(t, e) { this.closure$casterName = t, this.closure$profName = e } function gR() { Gu.call(this) } function vR() { Gu.call(this) } function SR() { Gu.call(this) } function CR() { Gu.call(this) } function ER() { Gu.call(this) } mR.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = new Int32Array([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]), o = new T2(this.closure$casterName, this.closure$spellList, 3, a, n), s = e.hashMapSpellCasters, l = this.closure$casterName; s.put_xwzc9p$(l, o) } else e.hashMapSpellCasters.remove_11rb$(this.closure$casterName); re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$casterName, a, this.closure$type, 2) }, mR.$metadata$ = { kind: p, interfaces: [xX] }, $R.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$casterName, a, this.closure$profName, 4) }, $R.$metadata$ = { kind: p, interfaces: [xX] }, yR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { for (var l = qX("Eldritch Researcher Magic Type", a), p = c(), h = [pK().PROFICIENCY_SPELLS_ARCANE, pK().PROFICIENCY_SPELLS_OCCULT], d = [0, 2], u = 0; u < h.length; u++) { var _ = h[u], f = d[u], y = qX(_, a); p.put_xwzc9p$(_, y), y.textDescription = "You gain the ability to cast a single arcane or occult cantrip of your choice.", y.specialEffect = new mR("Eldritch Researcher", f, _) } var m = l.hashMapSpecialChoices, $ = bR().MAGIC_SPECIAL_REF_0; m.put_xwzc9p$($, p); var g = o(e.hashMapSpecialInformation[a - 1 | 0]), v = bR().MAGIC_SPECIAL_REF_0; g.put_xwzc9p$(v, l) } else { var S = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(bR().MAGIC_SPECIAL_REF_0); null != S && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, bR().MAGIC_SPECIAL_REF_0, S), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(bR().MAGIC_SPECIAL_REF_0) } var C = "Eldritch Researcher Skill"; if (i) { var E = qX("Eldritch Researcher Skill", a), A = c(), b = [pK().ARCANA, pK().OCCULTISM]; for (s = 0; s !== b.length; ++s) { var I = b[s], w = qX(I, a); A.put_xwzc9p$(I, w), w.textDescription = "You also become an expert in your choice of either Arcana or Occultism.", w.specialEffect = new $R("Eldritch Researcher", I) } E.hashMapSpecialChoices.put_xwzc9p$("Select Eldritch Researcher Skill", A), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(C, E) } else { var L = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(C); null != L && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, C, L), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(C) } }, yR.$metadata$ = { kind: p, interfaces: [Gu] }, gR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "seeker of truths", "CLERIC_Domain Initiate", se().FEATS_CLERIC, a) }, gR.$metadata$ = { kind: p, interfaces: [Gu] }, vR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "advanced seeker of truths", "CLERIC_Advanced Domain", se().FEATS_CLERIC, a) }, vR.$metadata$ = { kind: p, interfaces: [Gu] }, SR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Locate"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Lorefinder", 2, 3, a, o, s) }, SR.$metadata$ = { kind: p, interfaces: [Gu] }, CR.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s; if (a) { var l = new k2("Words of Unraveling", 2, 3, r, new Int32Array([0, 0, 0, 0, 1, -1, -1, -1, -1, -1, -1])); i.hashMapSpellCasters.put_xwzc9p$("Words of Unraveling", l) } else i.hashMapSpellCasters.remove_11rb$("Words of Unraveling"); var c = e.isType(s = i.hashMapProficiencies.get_11rb$(pK().PROFICIENCY_SPELLS_OCCULT), nK) ? s : d(); a ? c.getProficiencyAtLevel_za3lpa$(r) > 0 ? c.setProficiencyAtLevel_3m52m6$(n, r, 4) : c.setProficiencyAtLevel_3m52m6$(n, r, 2) : c.removeProficiencyAtLevel_61zpoe$(n) }, CR.$metadata$ = { kind: p, interfaces: [Gu] }, ER.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = e.isType(s = i.hashMapProficiencies.get_11rb$(pK().PROFICIENCY_SPELLS_OCCULT), nK) ? s : d(); a ? l.getProficiencyAtLevel_za3lpa$(r) > 0 ? l.setProficiencyAtLevel_3m52m6$(n, r, 4) : l.setProficiencyAtLevel_3m52m6$(n, r, 2) : l.removeProficiencyAtLevel_61zpoe$(n); var c = ["Summon Entity"], p = new Int32Array(c.length); re().addSetSpellsCaster_wqj1gb$(a, t, i, "Entities from Afar", 2, 5, r, c, p) }, ER.$metadata$ = { kind: p, interfaces: [Gu] }, fR.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new yR; t.put_xwzc9p$("ARCHETYPE_ELDRITCH RESEARCHER_Eldritch Researcher Dedication", e); var i = new gR; t.put_xwzc9p$("ARCHETYPE_ELDRITCH RESEARCHER_Seeker of Truths", i); var a = new vR; t.put_xwzc9p$("ARCHETYPE_ELDRITCH RESEARCHER_Advanced Seeker of Truths", a); var r = new SR; t.put_xwzc9p$("ARCHETYPE_ELDRITCH RESEARCHER_Lorefinder", r); var n = new CR; t.put_xwzc9p$("ARCHETYPE_ELDRITCH RESEARCHER_Words of Unraveling", n); var o = new ER; t.put_xwzc9p$("ARCHETYPE_ELDRITCH RESEARCHER_Entities from Afar", o) }, fR.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeEldritchResearcher", interfaces: [] }; var AR = null; function bR() { return null === AR && new fR, AR } function IR() { NR = this } function wR() { Gu.call(this) } function LR() { Gu.call(this) } function TR() { Gu.call(this) } function kR() { Gu.call(this) } function RR() { Gu.call(this) } function PR() { Gu.call(this) } function MR() { } wR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, "Fighter Dedication", a, pK().PROFICIENCY_SIMPLE_WEAPONS, 2), re().setProficiencyAtLevel_8d16k4$(i, e, "Fighter Dedication", a, pK().PROFICIENCY_MARTIAL_WEAPONS, 2); var o = MK(r, 1, T([pK().ACROBATICS, pK().ATHELTICS]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, wR.$metadata$ = { kind: p, interfaces: [Gu] }, LR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_MARTIAL_WEAPONS, 4), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_ADVANCED_WEAPONS, 2) }, LR.$metadata$ = { kind: p, interfaces: [Gu] }, TR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_FIGHTER, "Attack of Opportunity") }, TR.$metadata$ = { kind: p, interfaces: [Gu] }, kR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Maneuver" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_FIGHTER, 2, o) }, kR.$metadata$ = { kind: p, interfaces: [Gu] }, RR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Maneuver" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_FIGHTER, l, o) }, RR.$metadata$ = { kind: p, interfaces: [Gu] }, MR.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n; if (B(t.managerWeapons.listWeaponGroups, o(r).name)) for (n = t.managerWeapons.getAllWeaponsInGroup_61zpoe$(o(r.name)).iterator(); n.hasNext();) { var s = n.next(); 0 !== t.managerWeapons.getWeaponProficiencyType_zici4a$(e, s, a) && 1 !== t.managerWeapons.getWeaponProficiencyType_zici4a$(e, s, a) || (i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, "Fighter Dedication Weapon Expert", s, a, 4) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, "Fighter Dedication Weapon Expert", s)) } }, MR.$metadata$ = { kind: p, interfaces: [xX] }, PR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Weapon Expert", l.textDescription = "Choose one fighter weapon group. You become an expert with all simple and martial weapons that belong to that group."; var c = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS); for (s = c.values.iterator(); s.hasNext();)s.next().specialEffect = new MR; l.hashMapSpecialChoices.put_xwzc9p$("Select Weapon Group", c), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var p = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != p && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, p), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, PR.$metadata$ = { kind: p, interfaces: [Gu] }, IR.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new wR; t.put_xwzc9p$("ARCHETYPE_Fighter Dedication", e); var i = new LR; t.put_xwzc9p$("ARCHETYPE_Diverse Weapon Expert", i); var a = new TR; t.put_xwzc9p$("ARCHETYPE_Opportunist", a); var r = new kR; t.put_xwzc9p$("ARCHETYPE_Basic Maneuver", r); var n = new RR; t.put_xwzc9p$("ARCHETYPE_Advanced Maneuver", n); var o = new PR; t.put_xwzc9p$("ARCHETYPE_Weapon Expert", o) }, IR.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeFighter", interfaces: [] }; var NR = null; function DR() { return null === NR && new IR, NR } function xR() { KR = this } function zR() { Gu.call(this) } function OR(t) { this.closure$featRef = t } function FR(t) { this.closure$featRef = t } function BR(t, e) { this.closure$skillName = t, this.closure$featRef = e } function jR(t) { this.closure$featRef = t } function HR(t) { this.closure$featRef = t } function qR() { Gu.call(this) } function UR() { Gu.call(this) } function GR() { Gu.call(this) } function WR() { Gu.call(this) } function YR() { Gu.call(this) } function VR() { Gu.call(this) } OR.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = T([pK().ACROBATICS]), o = MK(this.closure$featRef, 1, n, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, this.closure$featRef, o), XR().clearReloadDeedFeats_0(i, t, e) }, OR.$metadata$ = { kind: p, interfaces: [xX] }, BR.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = T([this.closure$skillName]), o = MK(this.closure$featRef, 1, n, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, this.closure$featRef, o) }, BR.$metadata$ = { kind: p, interfaces: [xX] }, FR.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n, s, l = "Way of the Pistolero Skill"; if (i) { var p = qX(l, a), h = c(); for (n = [pK().DECEPTION, pK().INTIMIDATION], s = 0; s !== n.length; ++s) { var d = n[s], u = qX(d, a); u.specialEffect = new BR(d, this.closure$featRef), h.put_xwzc9p$(d, u) } p.hashMapSpecialChoices.put_xwzc9p$("Select Skill", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(l, p) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(l); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, l, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(l) } XR().clearReloadDeedFeats_0(i, t, e) }, FR.$metadata$ = { kind: p, interfaces: [xX] }, jR.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = T([pK().STEALTH]), o = MK(this.closure$featRef, 1, n, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, this.closure$featRef, o), XR().clearReloadDeedFeats_0(i, t, e) }, jR.$metadata$ = { kind: p, interfaces: [xX] }, HR.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = T([pK().ATHELTICS]), o = MK(this.closure$featRef, 1, n, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, this.closure$featRef, o), XR().clearReloadDeedFeats_0(i, t, e) }, HR.$metadata$ = { kind: p, interfaces: [xX] }, zR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; for (re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Gunslinger Archetype 1", a, "Firearm", 2, 0), re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Gunslinger Archetype 2", a, "Firearm", 2, 1), s = t.managerWeapons.hashMapWeapons.values.iterator(); s.hasNext();) { var c = s.next(); X0().isACrossbow_pdl1vj$(c.name) && c.proficiencyType < 2 && re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, "Gunslinger 1", 1, c.name, 2) } if (i) { var p = qX(pZ().SPECIAL_REF_GUNSLINGER_WAY, a), h = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_GUNSLINGER_DEEDS); for (l = h.values.iterator(); l.hasNext();) { var d = l.next(); d.textDescription = v(d.textDescription, ["<br> <br>Choose"]).get_za3lpa$(0) } o(h.get_11rb$(pZ().WAY_DRIFTER)).specialEffect = new OR(r), o(h.get_11rb$(pZ().WAY_PISTELERO)).specialEffect = new FR(r), o(h.get_11rb$(pZ().WAY_SNIPER)).specialEffect = new jR(r), o(h.get_11rb$(pZ().WAY_VANGUARD)).specialEffect = new HR(r); var u = p.hashMapSpecialChoices, _ = pZ().CHOICE_GUNSLINGER_WAY; u.put_xwzc9p$(_, h); var f = o(e.hashMapSpecialInformation[a - 1 | 0]), y = pZ().SPECIAL_REF_GUNSLINGER_WAY; f.put_xwzc9p$(y, p) } else { var m = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(pZ().SPECIAL_REF_GUNSLINGER_WAY); null != m && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, pZ().SPECIAL_REF_GUNSLINGER_WAY, m), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(pZ().SPECIAL_REF_GUNSLINGER_WAY) } }, zR.$metadata$ = { kind: p, interfaces: [Gu] }, qR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Shooting" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_GUNSLINGER, 2, o) }, qR.$metadata$ = { kind: p, interfaces: [Gu] }, UR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Shooting" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_GUNSLINGER, l, o) }, UR.$metadata$ = { kind: p, interfaces: [Gu] }, GR.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, s) { var l = pZ().getWay_5btbp7$(i); if (a) { if (null != l) { var c, p = pZ().MAP_INITIAL_DEEDS.get_11rb$(l), h = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_GUNSLINGER_DEEDS_ACTIONS), u = (e.isType(c = h, y) ? c : d()).get_11rb$(p); null != p && null != u && o(i.hashMapSpecialInformation[r - 1 | 0]).put_xwzc9p$(n, u) } } else o(i.hashMapSpecialInformation[r - 1 | 0]).remove_11rb$(n) }, GR.$metadata$ = { kind: p, interfaces: [Gu] }, WR.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, s) { var l = pZ().getWay_5btbp7$(i); if (a) { if (null != l) { var c, p = pZ().MAP_RELOADS.get_11rb$(l), h = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_GUNSLINGER_DEEDS_ACTIONS), u = (e.isType(c = h, y) ? c : d()).get_11rb$(p); null != p && null != u && o(i.hashMapSpecialInformation[r - 1 | 0]).put_xwzc9p$(n, u) } } else o(i.hashMapSpecialInformation[r - 1 | 0]).remove_11rb$(n) }, WR.$metadata$ = { kind: p, interfaces: [Gu] }, YR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_PERCEPTION, 6) }, YR.$metadata$ = { kind: p, interfaces: [Gu] }, VR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o; for (re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Gunslinger Archetype Expert 1", a, "Firearm", 4, 0), re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Gunslinger Archetype Expert 2", a, "Firearm", 4, 1), o = t.managerWeapons.hashMapWeapons.values.iterator(); o.hasNext();) { var s = o.next(); X0().isACrossbow_pdl1vj$(s.name) && s.proficiencyType < 2 && re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, "Gunslinger 2", 1, s.name, 4) } }, VR.$metadata$ = { kind: p, interfaces: [Gu] }, xR.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new zR; t.put_xwzc9p$("ARCHETYPE_Gunslinger Dedication", e); var i = new qR; t.put_xwzc9p$("ARCHETYPE_Basic Shooting", i); var a = new UR; t.put_xwzc9p$("ARCHETYPE_Advanced Shooting", a); var r = new GR; t.put_xwzc9p$("ARCHETYPE_Slinger's Readiness", r); var n = new WR; t.put_xwzc9p$("ARCHETYPE_Practiced Reloads", n); var o = new YR; t.put_xwzc9p$("ARCHETYPE_Eagle Eye", o); var s = new VR; t.put_xwzc9p$("ARCHETYPE_Firearm Expert", s) }, xR.prototype.clearReloadDeedFeats_0 = function (t, e, i) { t || (e.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(i, "ARCHETYPE_Slinger's Readiness"), e.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(i, "ARCHETYPE_Practiced Reloads")) }, xR.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeGunslinger", interfaces: [] }; var KR = null; function XR() { return null === KR && new xR, KR } function JR() { hP = this } function ZR() { Gu.call(this) } function QR(t) { this.closure$spellCaster = t } function tP() { Gu.call(this) } function eP() { Gu.call(this) } function iP() { Gu.call(this) } function aP(t) { this.closure$featRef = t } function rP() { Gu.call(this) } function nP(t) { this.closure$featRef = t } function oP() { Gu.call(this) } function sP(t) { this.closure$casterName = t } function lP(t) { this.closure$featRef = t } function cP() { Gu.call(this) } function pP() { Gu.call(this) } QR.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var c = 3; null != this.closure$spellCaster && (c = this.closure$spellCaster.getSpellCasterAbilityRef_n40yp2$(i)); try { var p = i.hashMapSpellCasters.get_11rb$($3().ARCHETYPE_CASTER_HALCYON_SPEAKER); null != this.closure$spellCaster && (o(p).castingAbilityRef = a ? c : 3) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, QR.$metadata$ = { kind: p, interfaces: [xX] }, ZR.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = new f3($3().ARCHETYPE_CASTER_HALCYON_SPEAKER, 0, 0, !0, 3, !1, a), p = e.hashMapSpellCasters, h = $3().ARCHETYPE_CASTER_HALCYON_SPEAKER; p.put_xwzc9p$(h, l); var d = HX(); d.level = a, d.name = "Halcyon Speaker Spellcaster", d.textDescription = "Select a spellcasting class to align your casting ability with your spontaneous halcyon slots."; var u = c(); for (s = e.hashMapSpellCasters.keys.iterator(); s.hasNext();) { var _ = s.next(), f = e.hashMapSpellCasters.get_11rb$(_); if (null != f && !f.innate && !m(f.casterName, $3().ARCHETYPE_CASTER_HALCYON_SPEAKER)) { var y = qX(_, a); y.specialEffect = new QR(f), u.put_xwzc9p$(_, y) } } d.hashMapSpecialChoices.put_xwzc9p$("Select Halycon Speaker Spellcaster", u), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$("Halcyon Speaker Spellcaster", d) } else { var $ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$("Halcyon Speaker Spellcaster"); null != $ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, "Halcyon Speaker Spellcaster", $), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$("Halcyon Speaker Spellcaster"), e.hashMapSpellCasters.remove_11rb$($3().ARCHETYPE_CASTER_HALCYON_SPEAKER) } }, ZR.$metadata$ = { kind: p, interfaces: [Gu] }, tP.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var c; try { var p = null == (c = i.hashMapSpellCasters.get_11rb$($3().ARCHETYPE_CASTER_HALCYON_SPEAKER)) || e.isType(c, f3) ? c : d(); null != p ? p.setInitiate_eltk6l$(a, r) : t.getGuiUpdateControl().logError_nwzcgj$(i, "HALCON SPELLCASTER WAS NOT FOUND") } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, tP.$metadata$ = { kind: p, interfaces: [Gu] }, eP.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var c; try { var p = null == (c = i.hashMapSpellCasters.get_11rb$($3().ARCHETYPE_CASTER_HALCYON_SPEAKER)) || e.isType(c, f3) ? c : d(); null != p && p.setFlexible_eltk6l$(a, r) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, eP.$metadata$ = { kind: p, interfaces: [Gu] }, aP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef, a, o(o(r).name), 4) }, aP.$metadata$ = { kind: p, interfaces: [xX] }, iP.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, p) { var h, u; try { var _ = null == (h = i.hashMapSpellCasters.get_11rb$($3().ARCHETYPE_CASTER_HALCYON_SPEAKER)) || e.isType(h, f3) ? h : d(); null != _ && _.setAdept_eltk6l$(a, r) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } if (k("setting adept"), a) { var f = HX(); f.level = r, f.name = "Halcyon Speaker Spellcasting Adept Tradition", f.textDescription = "Select a tradition to increase to expert."; var y = c(); for (u = T([pK().PROFICIENCY_SPELLS_ARCANE, pK().PROFICIENCY_SPELLS_PRIMAL]).iterator(); u.hasNext();) { var m = u.next(), $ = qX(m, r); $.specialEffect = new aP(n), y.put_xwzc9p$(m, $) } f.hashMapSpecialChoices.put_xwzc9p$("Select Tradition", y), o(i.hashMapSpecialInformation[r - 1 | 0]).put_xwzc9p$(n, f) } else { var g = o(i.hashMapSpecialInformation[r - 1 | 0]).get_11rb$(n); null != g && t.managerSpecials.activateSpecial_2yti0t$(t, i, !1, n, g), o(i.hashMapSpecialInformation[r - 1 | 0]).remove_11rb$(n) } }, iP.$metadata$ = { kind: p, interfaces: [Gu] }, nP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef, a, o(o(r).name), 6) }, nP.$metadata$ = { kind: p, interfaces: [xX] }, rP.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, p) { var h, u; try { var _ = null == (h = i.hashMapSpellCasters.get_11rb$($3().ARCHETYPE_CASTER_HALCYON_SPEAKER)) || e.isType(h, f3) ? h : d(); null != _ && _.setSage_eltk6l$(a, r) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } if (a) { var f = HX(); f.level = r, f.name = "Halcyon Speaker Spellcasting Sage Tradition", f.textDescription = "Select a tradition to increase to master."; var y = c(); for (u = T([pK().PROFICIENCY_SPELLS_ARCANE, pK().PROFICIENCY_SPELLS_PRIMAL]).iterator(); u.hasNext();) { var m = u.next(), $ = qX(m, r); $.specialEffect = new nP(n), y.put_xwzc9p$(m, $) } f.hashMapSpecialChoices.put_xwzc9p$("Select Tradition", y), o(i.hashMapSpecialInformation[r - 1 | 0]).put_xwzc9p$(n, f) } else { var g = o(i.hashMapSpecialInformation[r - 1 | 0]).get_11rb$(n); null != g && t.managerSpecials.activateSpecial_2yti0t$(t, i, !1, n, g), o(i.hashMapSpecialInformation[r - 1 | 0]).remove_11rb$(n) } }, rP.$metadata$ = { kind: p, interfaces: [Gu] }, sP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n, s = 0; n = pK().ARRAY_SPELL_PROFICIENCIES.length; for (var l = 0; l < n; l++)if (m(o(r).name, pK().ARRAY_SPELL_PROFICIENCIES[l])) { s = l; break } var c = 3; if (3 === s && (c = 4), i) { var p = new Int32Array([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]), h = new T2(this.closure$casterName, s, c, a, p), d = e.hashMapSpellCasters, u = this.closure$casterName; d.put_xwzc9p$(u, h) } else e.hashMapSpellCasters.remove_11rb$(this.closure$casterName); re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$casterName, a, k0().ARRAY_SPELL_LISTS[s], 2) }, sP.$metadata$ = { kind: p, interfaces: [xX] }, lP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setSkillTrainedOrExpertIfAlreadyTrained_246m6y$(i, e, this.closure$featRef, a, o(o(r).name)) }, lP.$metadata$ = { kind: p, interfaces: [xX] }, oP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, p, h, d; if (i) { var u = HX(); u.level = a, u.name = "Collegiate Attendant Cantrip", u.textDescription = "Select a tradition"; var _ = c(); for (s = [pK().PROFICIENCY_SPELLS_ARCANE, pK().PROFICIENCY_SPELLS_PRIMAL], l = 0; l !== s.length; ++l) { var f = s[l], y = qX(f, a); y.specialEffect = new sP("Collegiate Attendant"), _.put_xwzc9p$(f, y) } u.hashMapSpecialChoices.put_xwzc9p$("Select Collegiate Attendant Tradition", _), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, u) } else { var m = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != m && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, m), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } if (i) { var $ = qX("Collegiate Attendant Skill", a), g = c(); for (p = [pK().ARCANA, pK().NATURE], h = 0; h !== p.length; ++h) { var v = p[h], S = HX(); S.name = v, S.textDescription = "You become trained in your choice of Arcana or Nature; if you were already trained in the skill, you become an expert instead.", S.src = "Lost Omens Character Guide", S.url = "https://2e.aonprd.com/Archetypes.aspx?ID=29", S.specialEffect = new lP(r), g.put_xwzc9p$(v, S) } $.hashMapSpecialChoices.put_xwzc9p$("Select Collegiate Attendant Skill", g); var C = r + "skill"; o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(C, $) } else { var E = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r + "skill"); null != E && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r + "skill", E), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r + "skill") } if (i) { var A = ["Spirit Affiliation", "Travel Affiliation", "Primal Affiliation", "Arcane Affiliation", "Scholar Affiliation"], b = HX(); b.level = a, b.name = "Collegiate Attendant Affiliation", b.textDescription = "Select an affiliation"; var I = c(); for (d = 0; d !== A.length; ++d) { var w = A[d], L = qX(w, a); L.src = Ic().BOOK_LOST_OMENS_CHARACTER_GUIDE, L.url = "https://2e.aonprd.com/Archetypes.aspx?ID=29", I.put_xwzc9p$(w, L) } b.hashMapSpecialChoices.put_xwzc9p$("Select Collegiate Attendant Affiliation", I); var T = r + "affiliation"; o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(T, b) } else o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r + "affiliation"), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r + "affiliation") }, oP.$metadata$ = { kind: p, interfaces: [Gu] }, cP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, cP.$metadata$ = { kind: p, interfaces: [Gu] }, pP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "1", DW(a, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "2", DW(a, 1)) }, pP.$metadata$ = { kind: p, interfaces: [Gu] }, JR.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new ZR; t.put_xwzc9p$("ARCHETYPE_Halcyon Speaker Dedication", e); var i = new tP; t.put_xwzc9p$("ARCHETYPE_Halcyon Spellcasting Initiate", i); var a = new eP; t.put_xwzc9p$("ARCHETYPE_Flexible Halcyon Spellcasting", a); var r = new iP; t.put_xwzc9p$("ARCHETYPE_Halcyon Spellcasting Adept", r); var n = new rP; t.put_xwzc9p$("ARCHETYPE_Halcyon Spellcasting Sage", n); var o = new oP; t.put_xwzc9p$("ARCHETYPE_Collegiate Attendant Dedication", o); var s = new cP; t.put_xwzc9p$("ARCHETYPE_Mask Familiar", s); var l = new pP; t.put_xwzc9p$("ARCHETYPE_Adaptive Mask Familiar", l) }, JR.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeHalcyonSpeaker", interfaces: [] }; var hP = null; function dP() { return null === hP && new JR, hP } function uP() { $P = this } function _P() { Gu.call(this) } function fP() { Gu.call(this) } function yP() { Gu.call(this) } function mP(t) { this.closure$featRef = t } _P.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Steal the Sky", a, 1)) }, _P.$metadata$ = { kind: p, interfaces: [Gu] }, fP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Speaking Sky", a, 1)) }, fP.$metadata$ = { kind: p, interfaces: [Gu] }, mP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef, a, o(o(r).name), 2) }, mP.$metadata$ = { kind: p, interfaces: [xX] }, yP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = Ru(); if (l.featType = se().FEATS_MONK, l.level = a, l.specificHeader = "Heavenseeker Monk Feat", re().addChildFeatChoice_j47kmb$(i, t, e, r + "child", o(n), l), i) { var p = qX("Heavenseeker Skill", a), h = T([pK().ACROBATICS, pK().OCCULTISM]), d = c(); for (s = h.iterator(); s.hasNext();) { var u = s.next(), _ = qX(u, a); _.specialEffect = new mP(r), d.put_xwzc9p$(u, _) } p.hashMapSpecialChoices.put_xwzc9p$("Select Heavenseeker Skill", d), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, p) } else { var f = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != f && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, f), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, yP.$metadata$ = { kind: p, interfaces: [Gu] }, uP.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new _P; t.put_xwzc9p$("ARCHETYPE_JALMERI HEAVENSEEKER_Steal the Sky", e); var i = new fP; t.put_xwzc9p$("ARCHETYPE_JALMERI HEAVENSEEKER_Speaking Sky", i); var a = new yP; t.put_xwzc9p$("ARCHETYPE_JALMERI HEAVENSEEKER_Jalmeri Heavenseeker Dedication", a) }, uP.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeHeavenseeker", interfaces: [] }; var $P = null; function gP() { return null === $P && new uP, $P } function vP() { NP = this, this.SPECIAL_INFORMATION_REF_HELLKNIGHT_ORDER = "Hellknight Order", this.SPECIAL_CHOICE_REF_HELLKNIGHT_ORDER = "Select Order" } function SP() { Gu.call(this) } function CP() { Gu.call(this) } function EP() { Gu.call(this) } function AP() { Gu.call(this) } function bP(t, e) { this.closure$featRef = t, this.closure$hellknightOrder = e } function IP() { Gu.call(this) } function wP(t) { this.closure$skillName = t } function LP() { Gu.call(this) } function TP() { Gu.call(this) } function kP(t, e) { this.closure$reference = t, this.closure$skill = e } function RP(t) { this.closure$featRef = t } function PP() { Gu.call(this) } function MP() { Gu.call(this) } SP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Hell"), re().setSkillTrainedOrExpertIfAlreadyTrained_246m6y$(i, e, r, a, pK().INTIMIDATION), i) { var l = qX("Hellknight Order", a), p = c(); for (s = t.managerSpecials.getHellknightOrderSet().hashMap.keys.iterator(); s.hasNext();) { var h = s.next(), d = t.managerSpecials.getHellknightOrderSet().hashMap.get_11rb$(h), u = qX(h, a); u.textDescription = o(d).description, u.src = d.src, u.url = d.url; var _ = o(h); p.put_xwzc9p$(_, u) } var f = l.hashMapSpecialChoices, y = DP().SPECIAL_CHOICE_REF_HELLKNIGHT_ORDER; f.put_xwzc9p$(y, p); var m = o(e.hashMapSpecialInformation[a - 1 | 0]), $ = DP().SPECIAL_INFORMATION_REF_HELLKNIGHT_ORDER; m.put_xwzc9p$($, l) } else { var g = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(DP().SPECIAL_INFORMATION_REF_HELLKNIGHT_ORDER); null != g && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, DP().SPECIAL_INFORMATION_REF_HELLKNIGHT_ORDER, g), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(DP().SPECIAL_INFORMATION_REF_HELLKNIGHT_ORDER) } }, SP.$metadata$ = { kind: p, interfaces: [Gu] }, CP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = DP().getHellknightOrder_0(t, e); if (null != s) if (i) { var l = qX(s.lesserName, a); l.src = s.src, l.url = s.url, l.textDescription = s.lesserDescription, l.action = s.lesserAction, l.flags = s.lesserTraits, l.specialEffect = t.managerSpecials.getHellknightOrderSet().hashMapLesserOrderAbilityEffects.get_11rb$(s.name), t.managerSpecials.activateSpecial_2yti0t$(t, e, !0, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var c = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != c && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, c), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, CP.$metadata$ = { kind: p, interfaces: [Gu] }, EP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = DP().getHellknightOrder_0(t, e); if (null != s) if (i) { var l = qX(s.greaterName, a); l.src = s.src, l.url = s.url, l.textDescription = s.greaterDescription, l.action = s.greaterAction, l.flags = s.greaterTraits, l.specialEffect = t.managerSpecials.getHellknightOrderSet().hashMapGreaterOrderAbilityEffects.get_11rb$(s.name), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var c = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != c && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, c), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, EP.$metadata$ = { kind: p, interfaces: [Gu] }, bP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = this.closure$featRef + "order ability"; if (i) { var s = qX(this.closure$hellknightOrder.lesserName, a); s.src = this.closure$hellknightOrder.src, s.url = this.closure$hellknightOrder.url, s.textDescription = this.closure$hellknightOrder.lesserDescription, s.action = this.closure$hellknightOrder.lesserAction, s.flags = this.closure$hellknightOrder.lesserTraits, s.specialEffect = t.managerSpecials.getHellknightOrderSet().hashMapLesserOrderAbilityEffects.get_11rb$(this.closure$hellknightOrder.name), t.managerSpecials.activateSpecial_2yti0t$(t, e, !0, this.closure$featRef, s), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(n, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(n); null != r && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, n, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(n) } }, bP.$metadata$ = { kind: p, interfaces: [xX] }, AP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = qX("Hellknight Order", a), p = c(); for (s = t.managerSpecials.getHellknightOrderSet().hashMap.keys.iterator(); s.hasNext();) { var h = s.next(), d = t.managerSpecials.getHellknightOrderSet().hashMap.get_11rb$(h), u = qX(h, a); u.textDescription = o(d).description, u.src = d.src, u.url = d.url, u.specialEffect = new bP(r, d); var _ = o(h); p.put_xwzc9p$(_, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Order", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var f = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != f && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, f), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, AP.$metadata$ = { kind: p, interfaces: [Gu] }, wP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, "Hellknight Skill", a, this.closure$skillName, 4) }, wP.$metadata$ = { kind: p, interfaces: [xX] }, IP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Hellknight Skill", l.textDescription = "You gain expert proficiency in Intimidation, or in another skill in which youre trained of your choice, if you were already an expert in Intimidation"; var p = c(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var h = s.next(), d = e.getProficiency_61zpoe$(h); if (2 === o(d).getProficiencyAtLevel_za3lpa$(a)) { var u = HX(); u.name = h, u.textDescription = "", u.level = a, u.specialEffect = new wP(h), p.put_xwzc9p$(h, u) } } l.hashMapSpecialChoices.put_xwzc9p$("Select Hellknight Skill", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, IP.$metadata$ = { kind: p, interfaces: [Gu] }, LP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = DP().getHellknightOrder_0(t, e); null != o && re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, b(o.listWeapons), "Hellknight"), re().addAncestralArmorExpertise_ebvrhe$(i, e, r, a, [pK().PROFICIENCY_HEAVY_ARMOR], "Hellknight") }, LP.$metadata$ = { kind: p, interfaces: [Gu] }, kP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$reference, a, this.closure$skill, 4) }, kP.$metadata$ = { kind: p, interfaces: [xX] }, RP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setSkillTrainedOrExpertIfAlreadyTrained_246m6y$(i, e, this.closure$featRef, a, o(o(r).name)) }, RP.$metadata$ = { kind: p, interfaces: [xX] }, TP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, p = r + "expert"; if (i) { var h = qX("Hellknight Skill", a), d = c(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var u = s.next(), _ = e.getProficiency_61zpoe$(u); if (2 === o(_).getProficiencyAtLevelExcludingThisReference_19mbxw$(a, p)) { var f = qX(u, a); f.textDescription = "", f.specialEffect = new kP(p, u), d.put_xwzc9p$(u, f) } } h.hashMapSpecialChoices.put_xwzc9p$("Select Hellknight Signifier Skill", d), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(p, h) } else { var y = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(p); null != y && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, p, y), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(p) } if (i) { var m = qX("Hellknight Signifier Additional Skill", a), $ = T([pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]), g = c(); for (l = $.iterator(); l.hasNext();) { var v = l.next(), S = qX(v, a); S.textDescription = "", S.specialEffect = new RP(r), g.put_xwzc9p$(v, S) } m.hashMapSpecialChoices.put_xwzc9p$("Select Hellknight Signifier Additional Skill", g), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, m) } else { var C = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != C && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, C), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, TP.$metadata$ = { kind: p, interfaces: [Gu] }, PP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Glimpse the Truth", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, PP.$metadata$ = { kind: p, interfaces: [Gu] }, MP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = [pK().PROFICIENCY_UNARMORED, pK().PROFICIENCY_LIGHT_ARMOR, pK().PROFICIENCY_MEDIUM_ARMOR]; for (s = 0; s !== l.length; ++s) { var c = l[s]; if (o(e.getProficiency_61zpoe$(c)).getProficiencyAtLevel_za3lpa$(a) >= 4) { o(e.getProficiency_61zpoe$(pK().PROFICIENCY_MEDIUM_ARMOR)).setProficiencyAtLevel_3m52m6$(r, a, 4), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_HEAVY_ARMOR)).setProficiencyAtLevel_3m52m6$(r, a, 4); break } } } }, MP.$metadata$ = { kind: p, interfaces: [Gu] }, vP.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new SP; t.put_xwzc9p$("ARCHETYPE_Hellknight Armiger Dedication", e); var i = new CP; t.put_xwzc9p$("ARCHETYPE_Order Training", i); var a = new EP; t.put_xwzc9p$("ARCHETYPE_Advanced Order Training", a); var r = new AP; t.put_xwzc9p$("ARCHETYPE_Hellknight Order Cross-Training", r); var n = new IP; t.put_xwzc9p$("ARCHETYPE_Hellknight Dedication", n); var o = new LP; t.put_xwzc9p$("ARCHETYPE_Hell's Armaments", o); var s = new TP; t.put_xwzc9p$("ARCHETYPE_Hellknight Signifer Dedication", s); var l = new PP; t.put_xwzc9p$("ARCHETYPE_Gaze of Veracity", l); var c = new MP; t.put_xwzc9p$("ARCHETYPE_Signifer Armor Expertise", c) }, vP.prototype.getHellknightOrder_0 = function (t, e) { var i = e.getCharacterData().getSpecialSelection_puj7f4$(this.SPECIAL_INFORMATION_REF_HELLKNIGHT_ORDER, this.SPECIAL_CHOICE_REF_HELLKNIGHT_ORDER); return t.managerSpecials.getHellknightOrderSet().hashMap.get_11rb$(i) }, vP.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeHellknight", interfaces: [] }; var NP = null; function DP() { return null === NP && new vP, NP } function xP() { WP = this } function zP() { Gu.call(this) } function OP() { } function FP() { } function BP() { } function jP() { Gu.call(this) } function HP() { Gu.call(this) } function qP() { Gu.call(this) } function UP() { Gu.call(this) } function GP() { Gu.call(this) } OP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i ? t.managerPets.addConstruct_yjt0at$(e, a, XV().CONSTRUCT_SOURCE_INNOVATION) : t.managerPets.removeConstruct_cyt1w7$(e, XV().CONSTRUCT_SOURCE_INNOVATION), YP().clearModificationFeats_0(i, t, e) }, OP.$metadata$ = { kind: p, interfaces: [xX] }, FP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { YP().clearModificationFeats_0(i, t, e) }, FP.$metadata$ = { kind: p, interfaces: [xX] }, BP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { YP().clearModificationFeats_0(i, t, e) }, BP.$metadata$ = { kind: p, interfaces: [xX] }, zP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Inventor", se().FEATS_GENERAL, a); var l = MK(r, 1, T([pK().CRAFTING]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); if (re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, l), i) { var c = qX(yZ().SPECIAL_REF_INNOVATION, a), p = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_INVENTOR_INNOVATIONS); for (s = p.values.iterator(); s.hasNext();) { var h = s.next(); h.textDescription = v(h.textDescription, ["<br> <br>Choose"]).get_za3lpa$(0) } o(p.get_11rb$("Construct Innovation")).specialEffect = new OP, o(p.get_11rb$("Armor Innovation")).specialEffect = new FP, o(p.get_11rb$("Weapon Innovation")).specialEffect = new BP; var d = c.hashMapSpecialChoices, u = yZ().CHOICE_INNOVATION; d.put_xwzc9p$(u, p); var _ = o(e.hashMapSpecialInformation[a - 1 | 0]), f = yZ().SPECIAL_REF_INNOVATION; _.put_xwzc9p$(f, c) } else { var y = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(yZ().SPECIAL_REF_INNOVATION); null != y && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, yZ().SPECIAL_REF_INNOVATION, y), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(yZ().SPECIAL_REF_INNOVATION) } }, zP.$metadata$ = { kind: p, interfaces: [Gu] }, jP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Breakthrough" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_INVENTOR, 2, o) }, jP.$metadata$ = { kind: p, interfaces: [Gu] }, HP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r + "1", a, pK().CRAFTING, 4), re().setProficiencyAtLevel_8d16k4$(i, e, r + "2", pe().getLevelOrMin_vux9f0$(a, 7), pK().CRAFTING, 6), re().setProficiencyAtLevel_8d16k4$(i, e, r + "3", pe().getLevelOrMin_vux9f0$(a, 15), pK().CRAFTING, 8) }, HP.$metadata$ = { kind: p, interfaces: [Gu] }, qP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Breakthrough" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_INVENTOR, l, o) }, qP.$metadata$ = { kind: p, interfaces: [Gu] }, UP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_INVENTOR, "Explode") }, UP.$metadata$ = { kind: p, interfaces: [Gu] }, GP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = yZ().getInnovation_5btbp7$(e); if (i) { if (null != o) { var s = 2; switch (o) { case "Armor Innovation": s = 0; break; case "Weapon Innovation": s = 1 }var l = new hc(s, "Basic Modification", 1, r, a); e.hashMapInventorModifications.put_xwzc9p$(r, l) } } else t.managerEquipment.activateInventorModifications_rvs3un$(!1, e, r, !0), e.hashMapInventorModifications.remove_11rb$(r) }, GP.$metadata$ = { kind: p, interfaces: [Gu] }, xP.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new zP; t.put_xwzc9p$("ARCHETYPE_Inventor Dedication", e); var i = new jP; t.put_xwzc9p$("ARCHETYPE_Basic Breakthrough", i); var a = new HP; t.put_xwzc9p$("ARCHETYPE_Brilliant Crafter", a); var r = new qP; t.put_xwzc9p$("ARCHETYPE_Advanced Breakthrough", r); var n = new UP; t.put_xwzc9p$("ARCHETYPE_Explosion", n); var o = new GP; t.put_xwzc9p$("ARCHETYPE_Basic Modification", o) }, xP.prototype.clearModificationFeats_0 = function (t, e, i) { t || e.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(i, "ARCHETYPE_Basic Modification") }, xP.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeInventor", interfaces: [] }; var WP = null; function YP() { return null === WP && new xP, WP } function VP() { QP = this } function KP() { Gu.call(this) } function XP(t) { this.closure$featRef = t } function JP() { Gu.call(this) } function ZP() { Gu.call(this) } XP.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setSkillTrainedOrExpertIfAlreadyTrained_246m6y$(i, e, this.closure$featRef, a, o(o(r).name)) }, XP.$metadata$ = { kind: p, interfaces: [xX] }, KP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (i) { var p = qX("Magic Warrior Skill", a), h = c(); for (s = [pK().ARCANA, pK().NATURE], l = 0; l !== s.length; ++l) { var d = s[l], u = HX(); u.name = d, u.textDescription = "You become trained in your choice of Arcana or Nature and in Magic Warrior Lore; if you were already trained in the skill, you become an expert instead.", u.src = "Lost Omens World Guide", u.url = "http://pf2.d20pfsrd.com/rules/magic-warrior-archetype/", u.specialEffect = new XP(r), h.put_xwzc9p$(d, u) } p.hashMapSpecialChoices.put_xwzc9p$("Select Magic Warrior Skill", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, p) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Magic Warrior") }, KP.$metadata$ = { kind: p, interfaces: [Gu] }, JP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Magic Warrior Aspect", a, 1)) }, JP.$metadata$ = { kind: p, interfaces: [Gu] }, ZP.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Magic Warrior Transformation", a, 1)) }, ZP.$metadata$ = { kind: p, interfaces: [Gu] }, VP.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new KP; t.put_xwzc9p$("ARCHETYPE_Magic Warrior Dedication", e); var i = new JP; t.put_xwzc9p$("ARCHETYPE_Magic Warrior Aspect", i); var a = new ZP; t.put_xwzc9p$("ARCHETYPE_Magic Warrior Transformation", a) }, VP.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeMagicWarrior", interfaces: [] }; var QP = null; function tM() { return null === QP && new VP, QP } function eM() { uN = this } function iM() { Gu.call(this) } function aM(t) { this.closure$featRef = t } function rM() { Gu.call(this) } function nM() { Gu.call(this) } function oM() { Gu.call(this) } function sM(t, e) { this.closure$skillName = t, this.closure$featRef = e } function lM() { Gu.call(this) } function cM(t) { this.closure$featRef = t } function pM() { Gu.call(this) } function hM() { Gu.call(this) } function dM() { Gu.call(this) } function uM() { Gu.call(this) } function _M() { Gu.call(this) } function fM() { Gu.call(this) } function yM() { Gu.call(this) } function mM() { Gu.call(this) } function $M() { Gu.call(this) } function gM() { Gu.call(this) } function vM() { Gu.call(this) } function SM() { Gu.call(this) } function CM(t) { this.closure$featRef = t } function EM() { Gu.call(this) } function AM(t) { this.closure$featRef = t } function bM() { Gu.call(this) } function IM() { Gu.call(this) } function wM() { Gu.call(this) } function LM() { Gu.call(this) } function TM() { Gu.call(this) } function kM() { Gu.call(this) } function RM() { Gu.call(this) } function PM() { Gu.call(this) } function MM() { Gu.call(this) } function NM() { Gu.call(this) } function DM() { Gu.call(this) } function xM() { Gu.call(this) } function zM() { Gu.call(this) } function OM() { Gu.call(this) } function FM() { Gu.call(this) } function BM(t, e) { this.closure$i = t, this.closure$skillName = e } function jM() { Gu.call(this) } function HM() { Gu.call(this) } function qM() { Gu.call(this) } function UM() { Gu.call(this) } function GM() { Gu.call(this) } function WM() { Gu.call(this) } function YM() { Gu.call(this) } function VM() { Gu.call(this) } function KM() { Gu.call(this) } function XM(t) { this.closure$featRef = t } function JM() { Gu.call(this) } function ZM() { Gu.call(this) } function QM(t) { this.closure$featRef = t } function tN() { Gu.call(this) } function eN(t) { this.closure$skillName = t } function iN() { Gu.call(this) } function aN() { Gu.call(this) } function rN() { Gu.call(this) } function nN() { Gu.call(this) } function oN() { Gu.call(this) } function sN(t) { this.closure$skillName = t } function lN() { Gu.call(this) } function cN() { Gu.call(this) } function pN() { Gu.call(this) } function hN() { Gu.call(this) } function dN() { Gu.call(this) } aM.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setSkillTrainedOrExpertIfAlreadyTrained_246m6y$(i, e, this.closure$featRef, a, o(o(r).name)) }, aM.$metadata$ = { kind: p, interfaces: [xX] }, iM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = qX("Guild Agent Skill", a), p = c(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var h = s.next(), d = HX(); d.name = h, d.textDescription = "You become trained in one skill of your choice, or expert in a skill of your choice in which you were trained.", d.src = "Lost Omens World Guide", d.url = "http://pf2.d20pfsrd.com/rules/guild-agent-archetype/", d.specialEffect = new aM(r), p.put_xwzc9p$(h, d) } l.hashMapSpecialChoices.put_xwzc9p$("Select Guild Agent Skill", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Guild Lore"), e.setAddLevelToUntrainedSkills_xvbo1r$(i, r, a) }, iM.$metadata$ = { kind: p, interfaces: [Gu] }, rM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = new Int32Array([1]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Wayfinder Resonance Infiltrator", 0, 2, a, ["Illusory Disguise"], o) }, rM.$metadata$ = { kind: p, interfaces: [Gu] }, nM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Wayfarer Resonance Tinkerer"; if (i) { var s = new R2(o, 0, 5, a); e.hashMapSpellCasters.put_xwzc9p$(o, s) } else { var l = e.hashMapSpellCasters.get_11rb$(o); if (null != l) { var c = l.getSpellSlotReference_vux9f0$(0, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(c), e.hashMapSpellCasters.remove_11rb$(o) } } }, nM.$metadata$ = { kind: p, interfaces: [Gu] }, sM.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyTrainedOrExpert_cgow6u$(i, e, this.closure$skillName, this.closure$featRef, a) }, sM.$metadata$ = { kind: p, interfaces: [xX] }, oM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = qX("Duelist Skill", a), p = c(), h = [pK().ACROBATICS, pK().ATHELTICS]; for (s = 0; s !== h.length; ++s) { var d = h[s], u = (e.getProficiency_61zpoe$(d), HX()); u.name = d, u.textDescription = " You become trained in your choice of Acrobatics or Athletics and in Dueling Lore; if you were already trained, you become an expert instead..", u.src = "Lost Omens World Guide", u.url = "https://2e.aonprd.com/Archetypes.aspx?ID=14", u.specialEffect = new sM(d, r), p.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Duelist Skill", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Dueling Lore"), re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Dueling Sword"], "No keyword") }, oM.$metadata$ = { kind: p, interfaces: [Gu] }, cM.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setSkillTrainedOrExpertIfAlreadyTrained_246m6y$(i, e, this.closure$featRef, a, o(o(r).name)) }, cM.$metadata$ = { kind: p, interfaces: [xX] }, lM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = qX("Lion Blade Skill", a), p = c(), h = [pK().DECEPTION, pK().STEALTH]; for (s = 0; s !== h.length; ++s) { var d = h[s], u = HX(); u.name = d, u.textDescription = "You become trained in your choice of Deception or Stealth and in Espionage Lore; if you were already trained, you become an expert instead..", u.src = "Lost Omens World Guide", u.url = "https://2e.aonprd.com/Archetypes.aspx?ID=22", u.specialEffect = new cM(r), p.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Lion Blade Skill", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Espionage") }, lM.$metadata$ = { kind: p, interfaces: [Gu] }, pM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, HW(a, 10, new Int32Array([1, 2]))) }, pM.$metadata$ = { kind: p, interfaces: [Gu] }, hM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Undead"), re().setSkillTrainedOrExpertIfAlreadyTrained_246m6y$(i, e, r, a, pK().ATHELTICS), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "FIGHTER_Reactive Shield", se().FEATS_FIGHTER, a) }, hM.$metadata$ = { kind: p, interfaces: [Gu] }, dM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_NEGATIVE, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, dM.$metadata$ = { kind: p, interfaces: [Gu] }, uM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, jW(a, 5, 1)) }, uM.$metadata$ = { kind: p, interfaces: [Gu] }, _M.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, jW(a, 10, 1)) }, _M.$metadata$ = { kind: p, interfaces: [Gu] }, fM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().STEALTH, 4), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().SURVIVAL, 4) }, fM.$metadata$ = { kind: p, interfaces: [Gu] }, yM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Invoke the Crimson Oath", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, yM.$metadata$ = { kind: p, interfaces: [Gu] }, mM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_HEAVY_ARMOR, 4) }, mM.$metadata$ = { kind: p, interfaces: [Gu] }, $M.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().RELIGION, 4) }, $M.$metadata$ = { kind: p, interfaces: [Gu] }, gM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_SPELLS_ARCANE, 2), i) { var s = new P2("Scrollmaster", 0, 3, a); e.hashMapSpellCasters.put_xwzc9p$("Scrollmaster", s); var l = s.getSpellSlotReference_vux9f0$(1, 0), c = new S2(0, "Comprehend Language", 0), p = l, h = c; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(p, h); var d = l = s.getSpellSlotReference_vux9f0$(1, 1), u = c = new S2(0, "Restore Senses", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u); var _ = l = s.getSpellSlotReference_vux9f0$(1, 2), f = c = new S2(0, "See Invisibility", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(_, f) } else { var y = e.hashMapSpellCasters.get_11rb$("Scrollmaster"), m = o(y).getSpellSlotReference_vux9f0$(1, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(1, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(1, 2), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), e.hashMapSpellCasters.remove_11rb$("Scrollmaster") } }, gM.$metadata$ = { kind: p, interfaces: [Gu] }, vM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "WIZARD_Conceal Spell", se().FEATS_WIZARD, a) }, vM.$metadata$ = { kind: p, interfaces: [Gu] }, CM.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setSkillTrainedOrExpertIfAlreadyTrained_246m6y$(i, e, this.closure$featRef, a, o(o(r).name)) }, CM.$metadata$ = { kind: p, interfaces: [xX] }, SM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = qX("Zephyr Guard Skill", a), p = c(), h = [pK().SOCIETY]; for (s = 0; s !== h.length; ++s) { var d = h[s], u = HX(); u.name = d, u.textDescription = "You become trained in Society and City Lore; if you were already trained, you become an expert instead.", u.src = "Against the Scarlet Triad", u.url = "https://2e.aonprd.com/Archetypes.aspx?ID=35", u.specialEffect = new CM(r), p.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Zephyr Guard Skill", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "City") }, SM.$metadata$ = { kind: p, interfaces: [Gu] }, AM.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, this.closure$featRef, o(o(r).name)) }, AM.$metadata$ = { kind: p, interfaces: [xX] }, EM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = qX("Know the Beat Lore", a), p = c(), h = ["Guild Lore", "Legal Lore", "Mercantile Lore", "Underworld Lore"]; for (s = 0; s !== h.length; ++s) { var d = h[s], u = HX(); u.name = d, u.textDescription = "You become trained in this lore.", u.src = "Against the Scarlet Triad", u.url = "https://2e.aonprd.com/Archetypes.aspx?ID=35", u.specialEffect = new AM(r), p.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select Know the Beat Lore", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, EM.$metadata$ = { kind: p, interfaces: [Gu] }, bM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Exhale Poison") }, bM.$metadata$ = { kind: p, interfaces: [Gu] }, IM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Milling"), re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Forest") }, IM.$metadata$ = { kind: p, interfaces: [Gu] }, wM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Juggle", se().FEATS_GENERAL, a); var o = MK(r, 1, T([pK().PERFORMANCE]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, wM.$metadata$ = { kind: p, interfaces: [Gu] }, LM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Ancient Regional") }, LM.$metadata$ = { kind: p, interfaces: [Gu] }, TM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyTrainedOrExpert_cgow6u$(i, e, pK().DECEPTION, r + "1", a), re().setProficiencyTrainedOrExpert_cgow6u$(i, e, pK().DIPLOMACY, r + "2", a), re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "City") }, TM.$metadata$ = { kind: p, interfaces: [Gu] }, kM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Light"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Warding Light", 1, 0, a, o, s) }, kM.$metadata$ = { kind: p, interfaces: [Gu] }, RM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Sun's Fury", a, 1)) }, RM.$metadata$ = { kind: p, interfaces: [Gu] }, PM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Slippery Secrets", se().FEATS_GENERAL, a) }, PM.$metadata$ = { kind: p, interfaces: [Gu] }, MM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().increaseFocusPoints_sfpo92$(i, e, r, zW(a, 1, !0)), i) { var s = QF().getDomainSelectionSpecialInformation_4i9pvb$(t, a, r, ["Ambition", "Cities", "Darkness", "Dreams", "Family", "Fire", "Freedom", "Healing", "Moon", "Passion", "Sun"]); s.name = "Blessing of the Sun Gods", s.textDescription = "Select one domain.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, MM.$metadata$ = { kind: p, interfaces: [Gu] }, NM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = QF().getAdvancedDomainSelectionSpecialInformation_a9t26q$(t, a, r, ["Ambition", "Cities", "Darkness", "Dreams", "Family", "Fire", "Freedom", "Healing", "Moon", "Passion", "Sun"]); s.name = "Greater Sun Blessing", s.textDescription = "You gain an advanced domain spell from a domain you chose with Blessing of the Sun Gods.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, NM.$metadata$ = { kind: p, interfaces: [Gu] }, DM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Lion Scythe", "Sun Sling"], null) }, DM.$metadata$ = { kind: p, interfaces: [Gu] }, xM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Shall Not Falter, Shall Not Rout", a, 1)) }, xM.$metadata$ = { kind: p, interfaces: [Gu] }, zM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyTrainedOrExpert_cgow6u$(i, e, pK().OCCULTISM, r, a), re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Ooze") }, zM.$metadata$ = { kind: p, interfaces: [Gu] }, OM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Experienced Tracker", se().FEATS_GENERAL, a); var o = MK(r, 1, T([pK().SOCIETY, pK().THIEVERY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o) }, OM.$metadata$ = { kind: p, interfaces: [Gu] }, BM.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, "Golden League Xun Skill Skill " + this.closure$i, a, this.closure$skillName, 4) }, BM.$metadata$ = { kind: p, interfaces: [xX] }, FM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (MK(r + "1", 1, T([pK().ATHELTICS, pK().DECEPTION, pK().INTIMIDATION, pK().STEALTH]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), i) { var l = HX(); l.level = a, l.name = "Golden League Xun Skill", l.textDescription = "You gain expert proficiency in two of the following skills (or in two other skills of your choice in which you're trained, if you were already an expert in the listed skills): Athletics, Deception, Intimidation, or Stealth."; for (var p = c(), h = 1; h <= 2; h++) { for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var d = s.next(), u = e.getProficiency_61zpoe$(d); if (2 === o(u).getProficiencyAtLevel_za3lpa$(a)) { var _ = HX(); _.name = d, _.textDescription = l.textDescription, _.level = a, _.specialEffect = new BM(h, d), p.put_xwzc9p$(d, _) } } var f = "Select Golden League Xun Skill Skill " + h; l.hashMapSpecialChoices.put_xwzc9p$(f, p) } o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var y = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != y && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, y), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, FM.$metadata$ = { kind: p, interfaces: [Gu] }, jM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Quick Disguise", se().FEATS_GENERAL, a), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "2", "GENERAL_Slippery Secrets", se().FEATS_GENERAL, a) }, jM.$metadata$ = { kind: p, interfaces: [Gu] }, HM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, zW(a, 1, !0)), re().addAwardedPower_ujte31$(i, e, r, P0("Transcribe Moment", a, 1)) }, HM.$metadata$ = { kind: p, interfaces: [Gu] }, qM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Magic Finder", 0, 3, a, new Int32Array([2, 0, 0, 1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Magic Finder", o); var s = o.getSpellSlotReference_vux9f0$(0, 0), l = new S2(0, "Detect Magic", 0), c = s, p = l; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(c, p); var h = s = o.getSpellSlotReference_vux9f0$(0, 1), d = l = new S2(0, "Read Aura", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d); var u = s = o.getSpellSlotReference_vux9f0$(3, 0), _ = l = new S2(0, "Locate", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(u, _) } else { var f = e.hashMapSpellCasters.get_11rb$("Magic Finder"); if (null != f) { var y = f.getSpellSlotReference_vux9f0$(0, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(y), y = f.getSpellSlotReference_vux9f0$(0, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(y), y = f.getSpellSlotReference_vux9f0$(3, 0), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(y) } e.hashMapSpellCasters.remove_11rb$("Magic Finder") } re().setProficiencyAtLevel_8d16k4$(i, e, "Magic Finder", a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, qM.$metadata$ = { kind: p, interfaces: [Gu] }, UM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Cautious Delver"; if (i) { var s = new k2(o, 0, 3, a, new Int32Array([0, 0, 3, -1, -1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$(o, s); var l = s.getSpellSlotReference_vux9f0$(2, 0), c = new S2(0, "Dispel Magic", 0), p = l, h = c; e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(p, h); var d = l = s.getSpellSlotReference_vux9f0$(2, 1), u = c = new S2(0, "Knock", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(d, u); var _ = l = s.getSpellSlotReference_vux9f0$(2, 2), f = c = new S2(0, "Resist Energy", 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(_, f) } else { var y = e.hashMapSpellCasters.get_11rb$(o); if (null != y) { var m = y.getSpellSlotReference_vux9f0$(2, 0); e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(2, 1), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m), m = y.getSpellSlotReference_vux9f0$(2, 2), e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(m) } e.hashMapSpellCasters.remove_11rb$(o) } re().setProficiencyAtLevel_8d16k4$(i, e, o, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, UM.$metadata$ = { kind: p, interfaces: [Gu] }, GM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Spellmaster's Ward", a, 1)) }, GM.$metadata$ = { kind: p, interfaces: [Gu] }, WM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Familiar Form", a, 1)) }, WM.$metadata$ = { kind: p, interfaces: [Gu] }, YM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r + "1", a, pK().ATHELTICS, 6), re().setProficiencyAtLevel_8d16k4$(i, e, r + "2", a, pK().ACROBATICS, 6) }, YM.$metadata$ = { kind: p, interfaces: [Gu] }, VM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = e.getProficiency_61zpoe$(pK().PROFICIENCY_LIGHT_ARMOR), l = e.getProficiency_61zpoe$(pK().PROFICIENCY_MEDIUM_ARMOR), c = e.getProficiency_61zpoe$(pK().PROFICIENCY_HEAVY_ARMOR); i ? (2 === o(s).getProficiencyAtLevelExcludingThisReference_19mbxw$(a, r) && s.setProficiencyAtLevel_3m52m6$(r, a, 4), 2 === o(l).getProficiencyAtLevelExcludingThisReference_19mbxw$(a, r) && l.setProficiencyAtLevel_3m52m6$(r, a, 4), 2 === o(c).getProficiencyAtLevelExcludingThisReference_19mbxw$(a, r) && c.setProficiencyAtLevel_3m52m6$(r, a, 4)) : (o(s).removeProficiencyAtLevel_61zpoe$(r), o(l).removeProficiencyAtLevel_61zpoe$(r), o(c).removeProficiencyAtLevel_61zpoe$(r)) }, VM.$metadata$ = { kind: p, interfaces: [Gu] }, XM.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n; if (B(t.managerWeapons.listWeaponGroups, o(r).name)) { var s = t.managerWeapons.getAllWeaponsInGroup_61zpoe$(o(r.name)), l = u(); for (n = s.iterator(); n.hasNext();) { var c = n.next(); l.add_11rb$(c) } re().addAncestralWeaponExpertise_i1oc2n$(i, e, this.closure$featRef, a, b(l), "no keyword") } }, XM.$metadata$ = { kind: p, interfaces: [xX] }, KM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.name = "Select Weapon Group", l.src = "PSG", l.textDescription = ""; var c = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS); for (s = c.values.iterator(); s.hasNext();)s.next().specialEffect = new XM(r); l.hashMapSpecialChoices.put_xwzc9p$("Select Weapon Group", c), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var p = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != p && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, p), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, KM.$metadata$ = { kind: p, interfaces: [Gu] }, JM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r + "1", a, pK().PROFICIENCY_SIMPLE_WEAPONS, 2), re().setProficiencyAtLevel_8d16k4$(i, e, r + "2", a, pK().PROFICIENCY_MARTIAL_WEAPONS, 2), E_().addExoticWeaponChoice_uy1pwk$(t, e, i, r + "advanced choice", a) }, JM.$metadata$ = { kind: p, interfaces: [Gu] }, QM.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, this.closure$featRef, o(r).name, a, 4) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, this.closure$featRef, o(r).name), t.getGuiUpdateControl().onWeaponProficiencyChanged_hdt6c$(e, a) }, QM.$metadata$ = { kind: p, interfaces: [xX] }, ZM.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (re().setProficiencyAtLevel_8d16k4$(i, e, r + "1", a, pK().PROFICIENCY_SIMPLE_WEAPONS, 4), re().setProficiencyAtLevel_8d16k4$(i, e, r + "2", a, pK().PROFICIENCY_MARTIAL_WEAPONS, 4), i) { var l = HX(); l.level = a, l.name = "Advanced Weapon Expert Choice", l.textDescription = "You become expert in the advanced weapon you selected when you chose the dedication."; var p = c(), h = t.managerWeapons.hashMapExoticWeapons; for (s = h.keys.iterator(); s.hasNext();) { var d = s.next(), u = h.get_11rb$(d), _ = qX(o(u).name, a), f = o(h.get_11rb$(d)).group; t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS).containsKey_11rb$(f) && (_.textDescription = o(t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS).get_11rb$(f)).textDescription), _.specialEffect = new QM(r); var y = o(d); p.put_xwzc9p$(y, _) } l.hashMapSpecialChoices.put_xwzc9p$("Select Advanced Weapon", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var m = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != m && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, m), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, ZM.$metadata$ = { kind: p, interfaces: [Gu] }, eN.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addLoreAndTrained_k5t0i3$(i, t, e, a, "Ghost Hunter Lore", this.closure$skillName) }, eN.$metadata$ = { kind: p, interfaces: [xX] }, tN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = new Q3(i2().CASTER_NAME, 1, 2, !0, 5, !1, a), p = e.hashMapSpellCasters, h = i2().CASTER_NAME; p.put_xwzc9p$(h, l) } else e.hashMapSpellCasters.remove_11rb$(i2().CASTER_NAME); if (re().setProficiencyAtLevel_8d16k4$(i, e, i2().CASTER_NAME, a, pK().PROFICIENCY_SPELLS_OCCULT, 2), i) { var d = qX("Ghost Hunter Lore", a), u = c(), _ = ["Spirit", "Haunt"]; for (s = 0; s !== _.length; ++s) { var f = _[s], y = HX(); y.name = f, y.textDescription = "Pick Spirit Lore or Haunt Lore; you become trained in this skill", y.src = "AP 163", y.url = "https://2e.aonprd.com/Archetypes.aspx?ID=88", y.specialEffect = new eN(f), u.put_xwzc9p$(f, y) } d.hashMapSpecialChoices.put_xwzc9p$("Select Ghost Hunter Lore", u), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, d) } else { var m = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != m && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, m), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, tN.$metadata$ = { kind: p, interfaces: [Gu] }, iN.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(i2().CASTER_NAME)) || e.isType(s, Q3) ? s : d(); null != l && l.setSpiritSpells_eltk6l$(a, r) }, iN.$metadata$ = { kind: p, interfaces: [Gu] }, aN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Hand Crossbow"], "no keyword"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Shootist's Draw") }, aN.$metadata$ = { kind: p, interfaces: [Gu] }, rN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r, a, "Repeating Hand Crossbow", 2), re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, ["Repeating Hand Crossbow"], "no keyword") }, rN.$metadata$ = { kind: p, interfaces: [Gu] }, nN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = ["Ethereal Jaunt"], s = new Int32Array(o.length); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Cross the Threshold", 0, 6, a, o, s) }, nN.$metadata$ = { kind: p, interfaces: [Gu] }, sN.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, "Sixth Pillar Skill", a, this.closure$skillName, 4) }, sN.$metadata$ = { kind: p, interfaces: [xX] }, oN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Sixth Pillar Skill", l.textDescription = "You gain expert proficiency in Athletics or in another skill in which youre trained of your choice, if you were already an expert in Athletics"; var p = c(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var h = s.next(), d = e.getProficiency_61zpoe$(h); if (2 === o(d).getProficiencyAtLevel_za3lpa$(a)) { var u = HX(); u.name = h, u.textDescription = "", u.level = a, u.specialEffect = new sN(h), p.put_xwzc9p$(h, u) } } l.hashMapSpecialChoices.put_xwzc9p$("Select Sixth Pillar Skill", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } i ? (o(e.hashMapProficiencies.get_11rb$(pK().PROFICIENCY_UNARMED_ATTACKS)).getProficiencyAtLevel_za3lpa$(a) >= 4 && e.hashMapSpellAttackOverrides.put_xwzc9p$("Sixth Pillar", DW(a, 4)), t.managerSpells.getHighestSpellCasterTraining_vy76y1$(e, a) >= 4 && re().setProficiencyAtLevel_8d16k4$(i, e, "Sixth Pillar", a, pK().PROFICIENCY_UNARMED_ATTACKS, 4)) : (e.hashMapSpellAttackOverrides.remove_11rb$("Sixth Pillar"), re().setProficiencyAtLevel_8d16k4$(i, e, "Sixth Pillar", a, pK().PROFICIENCY_UNARMED_ATTACKS, 4)) }, oN.$metadata$ = { kind: p, interfaces: [Gu] }, lN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { i ? (o(e.hashMapProficiencies.get_11rb$(pK().PROFICIENCY_UNARMED_ATTACKS)).getProficiencyAtLevel_za3lpa$(a) >= 6 && e.hashMapSpellAttackOverrides.put_xwzc9p$("Sixth Pillar Mastery", DW(a, 6)), t.managerSpells.getHighestSpellCasterTraining_vy76y1$(e, a) >= 6 && re().setProficiencyAtLevel_8d16k4$(i, e, "Sixth Pillar Mastery", a, pK().PROFICIENCY_UNARMED_ATTACKS, 6)) : (e.hashMapSpellAttackOverrides.remove_11rb$("Sixth Pillar Mastery"), re().setProficiencyAtLevel_8d16k4$(i, e, "Sixth Pillar Mastery", a, pK().PROFICIENCY_UNARMED_ATTACKS, 6)) }, lN.$metadata$ = { kind: p, interfaces: [Gu] }, cN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_COLD, !0); o.put_xwzc9p$("packbound", s) } else e.hashMapResistances.remove_11rb$("packbound") }, cN.$metadata$ = { kind: p, interfaces: [Gu] }, pN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyTrainedOrExpert_cgow6u$(i, e, pK().CRAFTING, r, a), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Magical Crafting", se().FEATS_GENERAL, a) }, pN.$metadata$ = { kind: p, interfaces: [Gu] }, hN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Scent") }, hN.$metadata$ = { kind: p, interfaces: [Gu] }, dN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_FIRE, !0); o.put_xwzc9p$(r, s); var l = e.hashMapSizeModifiders, c = DW(a, 1); l.put_xwzc9p$(r, c) } else e.hashMapResistances.remove_11rb$(r), e.hashMapSizeModifiders.remove_11rb$(r); var p = e.hashMapResistances.get_11rb$("packbound"); null != p && (p.fullLevelFrom = i ? a : 21), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Blizzard Evasion") }, dN.$metadata$ = { kind: p, interfaces: [Gu] }, eM.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new iM; t.put_xwzc9p$("ARCHETYPE_Guild Agent Dedication", e); var i = new rM; t.put_xwzc9p$("ARCHETYPE_GUILD_AGENT_Wayfinder Resonance Infiltrator", i); var a = new nM; t.put_xwzc9p$("ARCHETYPE_Wayfarer Resonance Tinkerer", a); var r = new oM; t.put_xwzc9p$("ARCHETYPE_Duelist Dedication", r); var n = new lM; t.put_xwzc9p$("ARCHETYPE_Lion Blade Dedication", n); var o = new pM; t.put_xwzc9p$("ARCHETYPE_Expeditious Advance", o); var s = new hM; t.put_xwzc9p$("ARCHETYPE_Sentry Dedication", s); var l = new dM; t.put_xwzc9p$("ARCHETYPE_Necromantic Resistance", l); var c = new uM; t.put_xwzc9p$("ARCHETYPE_Bellflower Dedication", c); var p = new _M; t.put_xwzc9p$("ARCHETYPE_Tiller's Drive", p); var h = new fM; t.put_xwzc9p$("ARCHETYPE_Knight Reclaimant Dedication", h); var d = new yM; t.put_xwzc9p$("ARCHETYPE_Invoke the Crimson Oath", d); var u = new mM; t.put_xwzc9p$("ARCHETYPE_Knight in Shining Armor", u); var _ = new $M; t.put_xwzc9p$("ARCHETYPE_Knight Vigilant", _); var f = new gM; t.put_xwzc9p$("ARCHETYPE_Lore Seeker", f); var y = new vM; t.put_xwzc9p$("ARCHETYPE_Surreptitious Spellcaster", y); var m = new SM; t.put_xwzc9p$("ARCHETYPE_Zephyr Guard Dedication", m); var $ = new EM; t.put_xwzc9p$("ARCHETYPE_Know the Beat", $); var g = new bM; t.put_xwzc9p$("ARCHETYPE_Iron Lung", g); var v = new IM; t.put_xwzc9p$("ARCHETYPE_Lumberjack Dedication", v); var S = new wM; t.put_xwzc9p$("ARCHETYPE_Juggler Dedication", S); var C = new LM; t.put_xwzc9p$("ARCHETYPE_Living Monolith Dedication", C); var E = new TM; t.put_xwzc9p$("ARCHETYPE_BRIGHT LION_Bright Lion Dedication", E); var A = new kM; t.put_xwzc9p$("ARCHETYPE_BRIGHT LION_Warding Light", A); var b = new RM; t.put_xwzc9p$("ARCHETYPE_BRIGHT LION_Sun's Fury", b); var I = new PM; t.put_xwzc9p$("ARCHETYPE_BRIGHT LION_Elude the Divine", I); var w = new MM; t.put_xwzc9p$("ARCHETYPE_BRIGHT LION_Blessing of the Sun Gods", w); var L = new NM; t.put_xwzc9p$("ARCHETYPE_BRIGHT LION_Greater Sun Blessing", L); var T = new DM; t.put_xwzc9p$("ARCHETYPE_BRIGHT LION_Lion's Might", T); var k = new xM; t.put_xwzc9p$("ARCHETYPE_Shall Not Falter", k); var R = new zM; t.put_xwzc9p$("ARCHETYPE_OOZEMORPH_Oozemorph Dedication", R); var P = new OM; t.put_xwzc9p$("ARCHETYPE_EDGEWATCH DETECTIVE_Edgewatch Detective Dedication", P); var M = new FM; t.put_xwzc9p$("ARCHETYPE_GOLDEN LEAGUE XUN_Golden League Xun Dedication", M); var N = new jM; t.put_xwzc9p$("ARCHETYPE_GOLDEN LEAGUE XUN_Beneath Notice", N); var D = new HM; t.put_xwzc9p$("ARCHETYPE_SCROLLMASTER_Transcribe Moment", D); var x = new qM; t.put_xwzc9p$("ARCHETYPE_SCROLLMASTER_Magic Finder", x); var z = new UM; t.put_xwzc9p$("ARCHETYPE_SCROLLMASTER_Cautious Delver", z); var O = new GM; t.put_xwzc9p$("ARCHETYPE_SPELLMASTER_Spellmaster's Ward", O); var F = new WM; t.put_xwzc9p$("ARCHETYPE_SPELLMASTER_Familiar Form", F); var B = new YM; t.put_xwzc9p$("ARCHETYPE_SWORDMASTER_Physical Training", B); var j = new VM; t.put_xwzc9p$("ARCHETYPE_SWORDMASTER_Armored Exercise", j); var H = new KM; t.put_xwzc9p$("ARCHETYPE_SWORDMASTER_Martial Exercise", H); var q = new JM; t.put_xwzc9p$("ARCHETYPE_PROVOCATOR_Provocator Dedication", q); var U = new ZM; t.put_xwzc9p$("ARCHETYPE_PROVOCATOR_Performance Weapon Expert", U); var G = new tN; t.put_xwzc9p$("ARCHETYPE_GHOST HUNTER_Ghost Hunter Dedication", G); var W = new iN; t.put_xwzc9p$("ARCHETYPE_GHOST HUNTER_Spirit Spells", W); var Y = new aN; t.put_xwzc9p$("ARCHETYPE_DROW SHOOTIST_Drow Shootist Dedication", Y); var V = new rN; t.put_xwzc9p$("ARCHETYPE_DROW SHOOTIST_Repeating Hand Crossbow Training", V); var K = new nN; t.put_xwzc9p$("ARCHETYPE_GHOST EASTER_Cross the Threshold", K); var X = new oN; t.put_xwzc9p$("ARCHETYPE_SIXTH PILLAR_Sixth Pillar Dedication", X); var J = new lN; t.put_xwzc9p$("ARCHETYPE_SIXTH PILLAR_Sixth Pillar Mastery", J); var Z = new cN; t.put_xwzc9p$("ARCHETYPE_PACTBOUND INITIATE_Pactbound Dedication", Z); var Q = new pN; t.put_xwzc9p$("ARCHETYPE_PACTBOUND INITIATE_Ice Crafter", Q); var tt = new hN; t.put_xwzc9p$("ARCHETYPE_PACTBOUND INITIATE_Crown of the Saumen Kar", tt); var et = new dN; t.put_xwzc9p$("ARCHETYPE_PACTBOUND INITIATE_Bound in Ice", et) }, eM.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeMiscArchetypes", interfaces: [] }; var uN = null; function _N() { return null === uN && new eM, uN } function fN() { AN = this } function yN() { Gu.call(this) } function mN() { Gu.call(this) } function $N() { Gu.call(this) } function gN() { Gu.call(this) } function vN() { Gu.call(this) } function SN() { Gu.call(this) } function CN() { Gu.call(this) } function EN() { } yN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().ACROBATICS, pK().ATHELTICS]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_MONK, "Powerful Fist"), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_UNARMED_ATTACKS, 2) }, yN.$metadata$ = { kind: p, interfaces: [Gu] }, mN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_Basic Kata" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_MONK, 2, o) }, mN.$metadata$ = { kind: p, interfaces: [Gu] }, $N.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_Advanced Kata" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_MONK, l, o) }, $N.$metadata$ = { kind: p, interfaces: [Gu] }, gN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_UNARMORED, 4) }, gN.$metadata$ = { kind: p, interfaces: [Gu] }, vN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, "ARCHETYPE_Monk Moves", qW(a, 10, new Int32Array([0, 1, 2]), 1)) }, vN.$metadata$ = { kind: p, interfaces: [Gu] }, SN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_MONK, "Flurry of Blows") }, SN.$metadata$ = { kind: p, interfaces: [Gu] }, EN.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, "Path to Perfection", a, o(o(r).name), 6) }, EN.$metadata$ = { kind: p, interfaces: [xX] }, CN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = qX("Archetype Perfection's Path", a), p = [pK().PROFICIENCY_FORTITUDE, pK().PROFICIENCY_REFLEX, pK().PROFICIENCY_WILL], h = c(); for (s = 0; s !== p.length; ++s) { var d = p[s]; if (o(e.getProficiency_61zpoe$(d)).getProficiencyAtLevel_za3lpa$(a) >= 4) { var u = qX(d, a); u.specialEffect = new EN, h.put_xwzc9p$(d, u) } } l.hashMapSpecialChoices.put_xwzc9p$("Select Monk Archetype Perfection's Path", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, CN.$metadata$ = { kind: p, interfaces: [Gu] }, fN.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new yN; t.put_xwzc9p$("ARCHETYPE_Monk Dedication", e); var i = new mN; t.put_xwzc9p$("ARCHETYPE_Basic Kata", i); var a = new $N; t.put_xwzc9p$("ARCHETYPE_Advanced Kata", a); var r = new gN; t.put_xwzc9p$("ARCHETYPE_Unarmored Expertise", r); var n = new vN; t.put_xwzc9p$("ARCHETYPE_Monk Moves", n); var o = new SN; t.put_xwzc9p$("ARCHETYPE_Monk's Flurry", o); var s = new CN; t.put_xwzc9p$("ARCHETYPE_Perfection's Path", s) }, fN.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeMonk", interfaces: [] }; var AN = null; function bN() { return null === AN && new fN, AN } function IN() { xN = this, this.ARCHETYPE_ORACLE_MYSTERY_SPECIAL_REF = "Mystery", this.ARCHETYPE_ORACLE_MYSTERY_SPECIAL_CHOICE = "Select Mystery", this.WARNING_TEXT_0 = "<b>Archetype Oracle</b><br>You do not gain the benefits list here as per the dedication feat.</b><br><br>" } function wN() { Gu.call(this) } function LN(t) { this.closure$featRef = t } function TN() { Gu.call(this) } function kN() { Gu.call(this) } function RN() { Gu.call(this) } function PN() { Gu.call(this) } function MN() { Gu.call(this) } function NN() { Gu.call(this) } function DN() { Gu.call(this) } LN.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var s, l = o(n).name, c = SX().MYSTERY_SKILLS; if ((e.isType(s = c, y) ? s : d()).containsKey_11rb$(l)) { var p, h = SX().MYSTERY_SKILLS, u = T([o((e.isType(p = h, y) ? p : d()).get_11rb$(l))]), _ = MK(this.closure$featRef + "2", 1, u, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(i), r); re().addTrainedOnlySkillChoice_b4bmjk$(a, t, i, this.closure$featRef + "2", _) } }, LN.$metadata$ = { kind: p, interfaces: [xX] }, wN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = MK(r + "1", 1, T([pK().RELIGION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); if (re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "1", l), i) { var c = qX(zN().ARCHETYPE_ORACLE_MYSTERY_SPECIAL_REF, a), p = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_ORACLE_MYSTERIES); for (s = p.values.iterator(); s.hasNext();) { var h = s.next(); h.specialEffect = null, h.textDescription = zN().WARNING_TEXT_0 + h.textDescription, h.level = a, h.specialEffect = new LN(r) } var d = c.hashMapSpecialChoices, u = zN().ARCHETYPE_ORACLE_MYSTERY_SPECIAL_CHOICE; d.put_xwzc9p$(u, p); var _ = o(e.hashMapSpecialInformation[a - 1 | 0]), f = zN().ARCHETYPE_ORACLE_MYSTERY_SPECIAL_REF; _.put_xwzc9p$(f, c) } else { var y = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(zN().ARCHETYPE_ORACLE_MYSTERY_SPECIAL_REF); null != y && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, zN().ARCHETYPE_ORACLE_MYSTERY_SPECIAL_REF, y), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(zN().ARCHETYPE_ORACLE_MYSTERY_SPECIAL_REF) } if (i) { var m = new a3(o3().ARCHETYPE_CASTER_ORACLE, 0, 1, !0, 5, !1, a), $ = e.hashMapSpellCasters, g = o3().ARCHETYPE_CASTER_ORACLE; $.put_xwzc9p$(g, m) } else e.hashMapSpellCasters.remove_11rb$(o3().ARCHETYPE_CASTER_ORACLE); re().setProficiencyAtLevel_8d16k4$(i, e, o3().ARCHETYPE_CASTER_ORACLE, a, pK().PROFICIENCY_SPELLS_DIVINE, 2) }, wN.$metadata$ = { kind: p, interfaces: [Gu] }, TN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_ORACLE_Basic Mysteries" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_ORACLE, 2, o) }, TN.$metadata$ = { kind: p, interfaces: [Gu] }, kN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_ORACLE_Advanced Mysteries" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_ORACLE, l, o) }, kN.$metadata$ = { kind: p, interfaces: [Gu] }, RN.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_ORACLE)) || e.isType(s, a3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, RN.$metadata$ = { kind: p, interfaces: [Gu] }, PN.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_ORACLE)) || e.isType(s, a3) ? s : d(); null != l && l.setBreadth_eltk6l$(a, r) }, PN.$metadata$ = { kind: p, interfaces: [Gu] }, MN.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_ORACLE)) || e.isType(s, a3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_ORACLE + "Expert", r, pK().PROFICIENCY_SPELLS_DIVINE, 4) }, MN.$metadata$ = { kind: p, interfaces: [Gu] }, NN.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_ORACLE)) || e.isType(s, a3) ? s : d(); null != l && l.setMaster_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_ORACLE + "Master", r, pK().PROFICIENCY_SPELLS_DIVINE, 6) }, NN.$metadata$ = { kind: p, interfaces: [Gu] }, DN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.getCharacterData().getSpecialSelection_puj7f4$(zN().ARCHETYPE_ORACLE_MYSTERY_SPECIAL_REF, zN().ARCHETYPE_ORACLE_MYSTERY_SPECIAL_CHOICE); if (null != o) { var s = SX().MYSTERY_INITIAL.get_11rb$(o); if (null != s) { var l = e.hashMapAwardedPowers, c = P0(s, a, 1); l.put_xwzc9p$(r, c) } } } else e.hashMapAwardedPowers.remove_11rb$(r) }, DN.$metadata$ = { kind: p, interfaces: [Gu] }, IN.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new wN; t.put_xwzc9p$("ARCHETYPE_ORACLE_Oracle Dedication", e); var i = new TN; t.put_xwzc9p$("ARCHETYPE_ORACLE_Basic Mysteries", i); var a = new kN; t.put_xwzc9p$("ARCHETYPE_ORACLE_Advanced Mysteries", a); var r = new RN; t.put_xwzc9p$("ARCHETYPE_ORACLE_Basic Oracle Spellcasting", r); var n = new PN; t.put_xwzc9p$("ARCHETYPE_ORACLE_Mysterious Breadth", n); var o = new MN; t.put_xwzc9p$("ARCHETYPE_ORACLE_Expert Oracle Spellcasting", o); var s = new NN; t.put_xwzc9p$("ARCHETYPE_ORACLE_Master Oracle Spellcasting", s); var l = new DN; t.put_xwzc9p$("ARCHETYPE_ORACLE_First Revelation", l) }, IN.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeOracle", interfaces: [] }; var xN = null; function zN() { return null === xN && new IN, xN } function ON() { qN = this } function FN() { Gu.call(this) } function BN() { Gu.call(this) } function jN() { Gu.call(this) } function HN() { Gu.call(this) } FN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = MK(r, 1, T([pK().SURVIVAL]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_RANGER, "Hunt Prey") }, FN.$metadata$ = { kind: p, interfaces: [Gu] }, BN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_Basic Hunter's Trick" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_RANGER, 2, o) }, BN.$metadata$ = { kind: p, interfaces: [Gu] }, jN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_Advanced Hunter's Trick" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_RANGER, l, o) }, jN.$metadata$ = { kind: p, interfaces: [Gu] }, HN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_PERCEPTION, 6) }, HN.$metadata$ = { kind: p, interfaces: [Gu] }, ON.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new FN; t.put_xwzc9p$("ARCHETYPE_Ranger Dedication", e); var i = new BN; t.put_xwzc9p$("ARCHETYPE_Basic Hunter's Trick", i); var a = new jN; t.put_xwzc9p$("ARCHETYPE_Advanced Hunter's Trick", a); var r = new HN; t.put_xwzc9p$("ARCHETYPE_Master Spotter", r) }, ON.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeRanger", interfaces: [] }; var qN = null; function UN() { return null === qN && new ON, qN } function GN() { QN = this } function WN() { Gu.call(this) } function YN() { Gu.call(this) } function VN() { Gu.call(this) } function KN() { Gu.call(this) } function XN() { Gu.call(this) } function JN() { Gu.call(this) } function ZN() { Gu.call(this) } WN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFeatSubChoice_72asaf$(i, t, e, n, se().FEATS_SKILL, "Rogue Dedication Skill Feat"); var o = MK(r, 1, T([pK().STEALTH, pK().THIEVERY]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, o), o = MK(r + "1", 1, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a), re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "1", o), re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_LIGHT_ARMOR, 2), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_ROGUE, "Surprise Attack") }, WN.$metadata$ = { kind: p, interfaces: [Gu] }, YN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e); re().addSkillSetProficiencyAtLevelChoice_9zpztu$(i, t, e, "Master Skill", r + "1", a, o, 6), re().addSkillSetProficiencyAtLevelChoice_9zpztu$(i, t, e, "Expert Skill", r + "2", a, o, 4), re().addFeatSubChoice_72asaf$(i, t, e, n, se().FEATS_SKILL, r + " Skill Mastery") }, YN.$metadata$ = { kind: p, interfaces: [Gu] }, VN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_ROGUE, "Deny Advantage") }, VN.$metadata$ = { kind: p, interfaces: [Gu] }, KN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_ROGUE, "Sneak Attack"), i) { var o = new bX("Sneak Attack"); o.addSneakAttackAtLevel_qt1dr2$(a, 1, 4); var s = 6; a > s && (s = a), o.addSneakAttackAtLevel_qt1dr2$(s, 1, 6), e.hashMapSneakAttackTracks.put_xwzc9p$("Archetype Rogue Sneak Attack", o) } else e.hashMapSneakAttackTracks.remove_11rb$("Archetype Rogue Sneak Attack") }, KN.$metadata$ = { kind: p, interfaces: [Gu] }, XN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_REFLEX, 6) }, XN.$metadata$ = { kind: p, interfaces: [Gu] }, JN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Trickery" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_ROGUE, 2, o) }, JN.$metadata$ = { kind: p, interfaces: [Gu] }, ZN.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Trickery" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_ROGUE, l, o) }, ZN.$metadata$ = { kind: p, interfaces: [Gu] }, GN.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new WN; t.put_xwzc9p$("ARCHETYPE_Rogue Dedication", e); var i = new YN; t.put_xwzc9p$("ARCHETYPE_Skill Mastery", i); var a = new VN; t.put_xwzc9p$("ARCHETYPE_Uncanny Dodge", a); var r = new KN; t.put_xwzc9p$("ARCHETYPE_Sneak Attacker", r); var n = new XN; t.put_xwzc9p$("ARCHETYPE_Evasiveness", n); var o = new JN; t.put_xwzc9p$("ARCHETYPE_Basic Trickery", o); var s = new ZN; t.put_xwzc9p$("ARCHETYPE_Advanced Trickery", s) }, GN.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeRogue", interfaces: [] }; var QN = null; function tD() { return null === QN && new GN, QN } function eD() { nD = this } function iD() { Gu.call(this) } function aD() { Gu.call(this) } function rD() { Gu.call(this) } iD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().ARCANA, 4), re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Ancient Empire"), i) { var o = new o2(o3().ARCHETYPE_CASTER_RUNESCARRED, 1, 0, !1, 5, !1, a); o.setBasic_eltk6l$(i, a); var s = e.hashMapSpellCasters, l = o3().ARCHETYPE_CASTER_RUNESCARRED; s.put_xwzc9p$(l, o) } else e.hashMapSpellCasters.remove_11rb$(o3().ARCHETYPE_CASTER_RUNESCARRED); re().setProficiencyAtLevel_8d16k4$(i, e, o3().ARCHETYPE_CASTER_RUNESCARRED, a, pK().PROFICIENCY_SPELLS_ARCANE, 2) }, iD.$metadata$ = { kind: p, interfaces: [Gu] }, aD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_RUNESCARRED)) || e.isType(s, a3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r) }, aD.$metadata$ = { kind: p, interfaces: [Gu] }, rD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_RUNESCARRED)) || e.isType(s, a3) ? s : d(); null != l && l.setMaster_eltk6l$(a, r) }, rD.$metadata$ = { kind: p, interfaces: [Gu] }, eD.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new iD; t.put_xwzc9p$("ARCHETYPE_Runescarred Dedication", e); var i = new aD; t.put_xwzc9p$("ARCHETYPE_Spell Runes", i); var a = new rD; t.put_xwzc9p$("ARCHETYPE_Greater Spell Runes", a) }, eD.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeRunescarred", interfaces: [] }; var nD = null; function oD() { return null === nD && new eD, nD } function sD() { $D = this, this.ARCHETYPE_SORCERER_BLOODLINE_SPECIAL_REF = "Archetype Sorcerer Bloodline", this.ARCHETYPE_SORCERER_BLOODLINE_SPECIAL_CHOICE = "Select Bloodline" } function lD() { Gu.call(this) } function cD(t) { this.closure$featRef = t } function pD() { Gu.call(this) } function hD() { Gu.call(this) } function dD() { Gu.call(this) } function uD() { Gu.call(this) } function _D() { Gu.call(this) } function fD() { Gu.call(this) } function yD() { Gu.call(this) } function mD() { Gu.call(this) } cD.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var s, l, c, p = t.managerSpecials.getBloodlineSet().hashMap, h = o(n).name, u = (e.isType(c = p, y) ? c : d()).get_11rb$(h), _ = [o(u).skill1, u.skill2], f = 0; for (s = 0; s !== _.length; ++s) { var m = T([_[s]]), $ = MK(this.closure$featRef + j(f), 1, m, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(i), r); re().addTrainedOnlySkillChoice_b4bmjk$(a, t, i, this.closure$featRef + j(f), $), f = f + 1 | 0 } a || (t.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(i, "ARCHETYPE_Basic Bloodline Power"), t.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(i, "ARCHETYPE_Advanced Bloodline Power")); var g = u.spellList, v = pK().ARRAY_SPELL_PROFICIENCIES[g]; if (a) { var S = new a3(o3().ARCHETYPE_CASTER_SORCERER, 0, g, !0, 5, !1, r), C = i.hashMapSpellCasters, E = o3().ARCHETYPE_CASTER_SORCERER; C.put_xwzc9p$(E, S), o(i.getProficiency_61zpoe$(v)).setProficiencyAtLevel_3m52m6$(o3().ARCHETYPE_CASTER_SORCERER, r, 2), t.managerFeats.activateFeatFoundAtAnyLevel_cyt1w7$(i, "ARCHETYPE_Basic Sorcerer Spellcasting"), t.managerFeats.activateFeatFoundAtAnyLevel_cyt1w7$(i, "ARCHETYPE_Bloodline Breadth"), t.managerFeats.activateFeatFoundAtAnyLevel_cyt1w7$(i, "ARCHETYPE_Expert Sorcerer Spellcasting"), t.managerFeats.activateFeatFoundAtAnyLevel_cyt1w7$(i, "ARCHETYPE_Master Sorcerer Spellcasting"), t.managerFeats.activateFeatFoundAtAnyLevel_cyt1w7$(i, "SORCERER_Bloodline Perfection"), t.managerFeats.activateFeatFoundAtAnyLevel_cyt1w7$(i, "SORCERER_Cantrip Expansion"), t.managerFeats.activateFeatFoundAtAnyLevel_cyt1w7$(i, "SORCERER_Greater Mental Evolution") } else { var A = ["ARCHETYPE_Basic Sorcerer Spellcasting", "ARCHETYPE_Bloodline Breadth", "ARCHETYPE_Expert Sorcerer Spellcasting", "ARCHETYPE_Master Sorcerer Spellcasting"]; for (l = 0; l !== A.length; ++l) { var b = A[l]; t.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(i, b) } i.hashMapSpellCasters.remove_11rb$(o3().ARCHETYPE_CASTER_SORCERER), o(i.getProficiency_61zpoe$(v)).removeProficiencyAtLevel_61zpoe$(o3().ARCHETYPE_CASTER_SORCERER) } }, cD.$metadata$ = { kind: p, interfaces: [xX] }, lD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (i) { var c = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_SORCERER_BLOODLINES); for (s = c.values.iterator(); s.hasNext();)s.next().specialEffect = null; var p = qX("Bloodline", a); for (l = c.values.iterator(); l.hasNext();)l.next().specialEffect = new cD(r); p.textDescription = "You become trained in the bloodlines two skills; for each of these skills in which you were already trained, you become trained in a skill of your choice.  (Note: Changing your bloodline will deactivate archetype spellcasting feats)", p.hashMapSpecialChoices.put_xwzc9p$("Select Bloodline", c); var h = o(e.hashMapSpecialInformation[a - 1 | 0]), d = gD().ARCHETYPE_SORCERER_BLOODLINE_SPECIAL_REF; h.put_xwzc9p$(d, p) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(gD().ARCHETYPE_SORCERER_BLOODLINE_SPECIAL_REF); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, gD().ARCHETYPE_SORCERER_BLOODLINE_SPECIAL_REF, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(gD().ARCHETYPE_SORCERER_BLOODLINE_SPECIAL_REF) } }, lD.$metadata$ = { kind: p, interfaces: [Gu] }, pD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Arcana" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_SORCERER, 2, o) }, pD.$metadata$ = { kind: p, interfaces: [Gu] }, hD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Arcana" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_SORCERER, l, o) }, hD.$metadata$ = { kind: p, interfaces: [Gu] }, dD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var l, c = i.getCharacterData().getSpecialSelection_puj7f4$("Archetype Sorcerer Bloodline", "Select Bloodline"), p = t.managerSpecials.getBloodlineSet().hashMap, u = (e.isType(l = p, y) ? l : d()).get_11rb$(c); if (null != u) try { var _ = u.initialSpell; re().addAwardedPower_ujte31$(a, i, n, P0(_, r, 1)), re().increaseFocusPoints_sfpo92$(a, i, n, DW(r, 1)) } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, dD.$metadata$ = { kind: p, interfaces: [Gu] }, uD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var l, c = i.getCharacterData().getSpecialSelection_puj7f4$("Archetype Sorcerer Bloodline", "Select Bloodline"), p = t.managerSpecials.getBloodlineSet().hashMap, u = (e.isType(l = p, y) ? l : d()).get_11rb$(c); if (null != u) try { var _ = u.advancedSpell; re().addAwardedPower_ujte31$(a, i, n, P0(_, r, 1)), re().increaseFocusPoints_sfpo92$(a, i, n, DW(r, 1)) } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, uD.$metadata$ = { kind: p, interfaces: [Gu] }, _D.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_SORCERER)) || e.isType(s, a3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, _D.$metadata$ = { kind: p, interfaces: [Gu] }, fD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_SORCERER)) || e.isType(s, a3) ? s : d(); null != l && l.setBreadth_eltk6l$(a, r) }, fD.$metadata$ = { kind: p, interfaces: [Gu] }, yD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_SORCERER)) || e.isType(s, a3) ? s : d(); if (null != l) { l.setExpert_eltk6l$(a, r); var c = pK().ARRAY_SPELL_PROFICIENCIES[l.spellList]; re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_SORCERER + "Expert", r, c, 4) } }, yD.$metadata$ = { kind: p, interfaces: [Gu] }, mD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_SORCERER)) || e.isType(s, a3) ? s : d(); if (null != l) { l.setMaster_eltk6l$(a, r); var c = pK().ARRAY_SPELL_PROFICIENCIES[l.spellList]; re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_SORCERER + "Master", r, c, 6) } }, mD.$metadata$ = { kind: p, interfaces: [Gu] }, sD.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new lD; t.put_xwzc9p$("ARCHETYPE_Sorcerer Dedication", e); var i = new pD; t.put_xwzc9p$("ARCHETYPE_Basic Blood Potency", i); var a = new hD; t.put_xwzc9p$("ARCHETYPE_Advanced Blood Potency", a); var r = new dD; t.put_xwzc9p$("ARCHETYPE_Basic Bloodline Spell", r); var n = new uD; t.put_xwzc9p$("ARCHETYPE_Advanced Bloodline Power", n); var o = new _D; t.put_xwzc9p$("ARCHETYPE_Basic Sorcerer Spellcasting", o); var s = new fD; t.put_xwzc9p$("ARCHETYPE_Bloodline Breadth", s); var l = new yD; t.put_xwzc9p$("ARCHETYPE_Expert Sorcerer Spellcasting", l); var c = new mD; t.put_xwzc9p$("ARCHETYPE_Master Sorcerer Spellcasting", c) }, sD.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeSorcerer", interfaces: [] }; var $D = null; function gD() { return null === $D && new sD, $D } function vD() { ID = this } function SD() { Gu.call(this) } function CD(t) { this.closure$featRef = t } function ED() { Gu.call(this) } function AD() { Gu.call(this) } function bD(t) { this.closure$featRef = t } CD.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setSkillTrainedOrExpertIfAlreadyTrained_246m6y$(i, e, this.closure$featRef, a, o(o(r).name)) }, CD.$metadata$ = { kind: p, interfaces: [xX] }, SD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (i) { var p = qX("Student of Perfection Skill", a), h = c(); for (s = [pK().ACROBATICS, pK().ATHELTICS], l = 0; l !== s.length; ++l) { var d = s[l], u = HX(); u.name = d, u.textDescription = "You become trained in your choice of Acrobatics or Athletics and Warfare Lore; if you were already trained, you become an expert instead.", u.src = "Lost Omens World Guide", u.url = "http://pf2.d20pfsrd.com/rules/student-of-perfection-archetype/", u.specialEffect = new CD(r), h.put_xwzc9p$(d, u) } p.hashMapSpecialChoices.put_xwzc9p$("Select Student of Perfection Skill", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, p) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Warfare"), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "MONK_Ki Strike", se().FEATS_MONK, a) }, SD.$metadata$ = { kind: p, interfaces: [Gu] }, ED.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Perfect Strike", a, 1)), re().increaseFocusPoints_sfpo92$(!0, e, r, DW(1, 1)) }, ED.$metadata$ = { kind: p, interfaces: [Gu] }, bD.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$featRef, P0(o(o(r).name), a, 1)), re().increaseFocusPoints_sfpo92$(!0, e, this.closure$featRef, DW(1, 1)) }, bD.$metadata$ = { kind: p, interfaces: [xX] }, AD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, p) { var h; if (a) { var d = qX("School of Perfection Focus Spell", r), u = ["Unblinking Flame Revelation", "Unbreaking Wave Advance", "Unfolding Wind Rush", "Untwisting Iron Buffer"], _ = c(); for (h = 0; h !== u.length; ++h) { var f = u[h], y = HX(); y.name = f; try { var m = t.managerSpells.hashMapSpells.get_11rb$(f); null != m && (y.textDescription = m.textOnlyDescription) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } y.src = "Lost Omens World Guide", y.url = "http://pf2.d20pfsrd.com/rules/student-of-perfection-archetype/", y.specialEffect = new bD(n), _.put_xwzc9p$(f, y) } d.hashMapSpecialChoices.put_xwzc9p$("Select School of Perfection Focus Spell", _), o(i.hashMapSpecialInformation[r - 1 | 0]).put_xwzc9p$(n, d) } else { var $ = o(i.hashMapSpecialInformation[r - 1 | 0]).get_11rb$(n); null != $ && t.managerSpecials.activateSpecial_2yti0t$(t, i, !1, n, $), o(i.hashMapSpecialInformation[r - 1 | 0]).remove_11rb$(n) } }, AD.$metadata$ = { kind: p, interfaces: [Gu] }, vD.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new SD; t.put_xwzc9p$("ARCHETYPE_Student of Perfection Dedication", e); var i = new ED; t.put_xwzc9p$("ARCHETYPE_Perfect Strike", i); var a = new AD; t.put_xwzc9p$("ARCHETYPE_Perfect Ki Adept", a) }, vD.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeStudentPerfection", interfaces: [] }; var ID = null; function wD() { return null === ID && new vD, ID } function LD() { xD = this, this.ARCHETYPE_SWASHBUCKLER_SPECIAL_REF = "Style", this.ARCHETYPE_SWASHBUCKLER_SPECIAL_CHOICE = "Select Style", this.WARNING_TEXT_0 = "<b>Archetype Swashbuckler</b><br>You do not gain all the benefits list here as per the dedication feat.<br><br>" } function TD() { Gu.call(this) } function kD() { Gu.call(this) } function RD() { Gu.call(this) } function PD() { Gu.call(this) } function MD() { Gu.call(this) } function ND() { Gu.call(this) } function DD() { Gu.call(this) } TD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), c = MK(r + "1", 1, l, l, a); if (re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r + "1", c), i) { var p = qX(zD().ARCHETYPE_SWASHBUCKLER_SPECIAL_REF, a), h = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_SWASHBUCKLER_STYLES); for (s = h.values.iterator(); s.hasNext();) { var d = s.next(); d.specialEffect = null, d.textDescription = zD().WARNING_TEXT_0 + d.textDescription, d.level = a } var u = p.hashMapSpecialChoices, _ = zD().ARCHETYPE_SWASHBUCKLER_SPECIAL_CHOICE; u.put_xwzc9p$(_, h); var f = o(e.hashMapSpecialInformation[a - 1 | 0]), y = zD().ARCHETYPE_SWASHBUCKLER_SPECIAL_REF; f.put_xwzc9p$(y, p) } else { var m = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(zD().ARCHETYPE_SWASHBUCKLER_SPECIAL_REF); null != m && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, zD().ARCHETYPE_SWASHBUCKLER_SPECIAL_REF, m), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(zD().ARCHETYPE_SWASHBUCKLER_SPECIAL_REF) } re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_SWASHBUCKLER, "Panache") }, TD.$metadata$ = { kind: p, interfaces: [Gu] }, kD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_SWASHBUCKLER_Basic Flair" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_SWASHBUCKLER, 2, o) }, kD.$metadata$ = { kind: p, interfaces: [Gu] }, RD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_SWASHBUCKLER_Advanced Flair" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_SWASHBUCKLER, l, o) }, RD.$metadata$ = { kind: p, interfaces: [Gu] }, PD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "1", a, BK().SPECIALS_UNIVERSAL, "Basic Finisher"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "2", a, BK().SPECIALS_SWASHBUCKLER, "Precise Strike") }, PD.$metadata$ = { kind: p, interfaces: [Gu] }, MD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpeedIncreaseItem_xs3ggp$(i, e, r, jW(a, 5, 1)) }, MD.$metadata$ = { kind: p, interfaces: [Gu] }, ND.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_REFLEX, 6) }, ND.$metadata$ = { kind: p, interfaces: [Gu] }, DD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_SWASHBUCKLER, "Opportune Riposte") }, DD.$metadata$ = { kind: p, interfaces: [Gu] }, LD.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new TD; t.put_xwzc9p$("ARCHETYPE_SWASHBUCKLER_Swashbuckler Dedication", e); var i = new kD; t.put_xwzc9p$("ARCHETYPE_SWASHBUCKLER_Basic Flair", i); var a = new RD; t.put_xwzc9p$("ARCHETYPE_SWASHBUCKLER_Advanced Flair", a); var r = new PD; t.put_xwzc9p$("ARCHETYPE_SWASHBUCKLER_Finishing Precision", r); var n = new MD; t.put_xwzc9p$("ARCHETYPE_SWASHBUCKLER_Swashbuckler's Speed", n); var o = new ND; t.put_xwzc9p$("ARCHETYPE_SWASHBUCKLER_Evasiveness (Swashbuckler)", o); var s = new DD; t.put_xwzc9p$("ARCHETYPE_SWASHBUCKLER_Swashbuckler's Riposte", s) }, LD.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeSwashbuckler", interfaces: [] }; var xD = null; function zD() { return null === xD && new LD, xD } function OD() { YD = this, this.ARCHETYPE_WITCH_PATRON_SPECIAL_REF = "Patron", this.ARCHETYPE_WITCH_PATRON_SPECIAL_CHOICE = "Select Patron", this.WARNING_TEXT_0 = "<b>Archetype Witch</b><br>You do not gain the benefits list here as per the dedication feat.</b><br><br>" } function FD() { Gu.call(this) } function BD(t) { this.closure$featRef = t } function jD() { Gu.call(this) } function HD() { Gu.call(this) } function qD() { Gu.call(this) } function UD() { Gu.call(this) } function GD() { Gu.call(this) } function WD() { Gu.call(this) } BD.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var s, l, c = o(n).name, p = AX().PATRON_SKILLS; if ((e.isType(l = p, y) ? l : d()).containsKey_11rb$(c)) { var h, u = AX().PATRON_SKILLS, _ = T([o((e.isType(h = u, y) ? h : d()).get_11rb$(c))]), f = MK(this.closure$featRef + "2", 1, _, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(i), r); re().addTrainedOnlySkillChoice_b4bmjk$(a, t, i, this.closure$featRef + "2", f) } var m, $ = AX().PATRON_SPELL_LISTS; if ((e.isType(m = $, y) ? m : d()).containsKey_11rb$(c)) { var g = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WITCH)) || e.isType(s, g3) ? s : d(); if (null != g) { var v, S = AX().PATRON_SPELL_LISTS; g.setTradition_vy76y1$(i, o((e.isType(v = S, y) ? v : d()).get_11rb$(c))) } } }, BD.$metadata$ = { kind: p, interfaces: [xX] }, FD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (re().addFamiliar_dlg1vj$(i, t, e, r, a), i) { var l = new g3(a), c = e.hashMapSpellCasters, p = o3().ARCHETYPE_CASTER_WITCH; c.put_xwzc9p$(p, l) } else e.hashMapSpellCasters.remove_11rb$(o3().ARCHETYPE_CASTER_WITCH); if (re().setProficiencyAtLevel_8d16k4$(i, e, o3().ARCHETYPE_CASTER_WITCH, a, pK().PROFICIENCY_SPELLS_ARCANE, 2), i) { var h = qX(VD().ARCHETYPE_WITCH_PATRON_SPECIAL_REF, a), d = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WITCH_PATRONS); for (s = d.values.iterator(); s.hasNext();) { var u = s.next(); u.specialEffect = null, u.textDescription = VD().WARNING_TEXT_0 + u.textDescription, u.level = a, u.specialEffect = new BD(r) } var _ = h.hashMapSpecialChoices, f = VD().ARCHETYPE_WITCH_PATRON_SPECIAL_CHOICE; _.put_xwzc9p$(f, d); var y = o(e.hashMapSpecialInformation[a - 1 | 0]), m = VD().ARCHETYPE_WITCH_PATRON_SPECIAL_REF; y.put_xwzc9p$(m, h) } else { var $ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(VD().ARCHETYPE_WITCH_PATRON_SPECIAL_REF); null != $ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, VD().ARCHETYPE_WITCH_PATRON_SPECIAL_REF, $), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(VD().ARCHETYPE_WITCH_PATRON_SPECIAL_REF) } }, FD.$metadata$ = { kind: p, interfaces: [Gu] }, jD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_WITCH_Basic Witchcraft" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_WITCH, 2, o) }, jD.$metadata$ = { kind: p, interfaces: [Gu] }, HD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "ARCHETYPE_WITCH_Advanced Witchcraft" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_WITCH, l, o) }, HD.$metadata$ = { kind: p, interfaces: [Gu] }, qD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WITCH)) || e.isType(s, a3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, qD.$metadata$ = { kind: p, interfaces: [Gu] }, UD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WITCH)) || e.isType(s, a3) ? s : d(); null != l && l.setBreadth_eltk6l$(a, r) }, UD.$metadata$ = { kind: p, interfaces: [Gu] }, GD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WITCH)) || e.isType(s, a3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_WITCH + "Expert", r, k0().ARRAY_SPELL_LISTS[VD().getPatronSpellList_0(i)], 4) }, GD.$metadata$ = { kind: p, interfaces: [Gu] }, WD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WITCH)) || e.isType(s, a3) ? s : d(); null != l && l.setMaster_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_WITCH + "Master", r, k0().ARRAY_SPELL_LISTS[VD().getPatronSpellList_0(i)], 6) }, WD.$metadata$ = { kind: p, interfaces: [Gu] }, OD.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new FD; t.put_xwzc9p$("ARCHETYPE_WITCH_Witch Dedication", e); var i = new jD; t.put_xwzc9p$("ARCHETYPE_WITCH_Basic Witchcraft", i); var a = new HD; t.put_xwzc9p$("ARCHETYPE_WITCH_Advanced Witchcraft", a); var r = new qD; t.put_xwzc9p$("ARCHETYPE_WITCH_Basic Witch Spellcasting", r); var n = new UD; t.put_xwzc9p$("ARCHETYPE_WITCH_Patron's Breadth", n); var o = new GD; t.put_xwzc9p$("ARCHETYPE_WITCH_Expert Witch Spellcasting", o); var s = new WD; t.put_xwzc9p$("ARCHETYPE_WITCH_Master Witch Spellcasting", s) }, OD.prototype.getPatronSpellList_0 = function (t) { var e = t.getCharacterData().getSpecialSelection_puj7f4$(this.ARCHETYPE_WITCH_PATRON_SPECIAL_REF, this.ARCHETYPE_WITCH_PATRON_SPECIAL_CHOICE); return null != e && AX().PATRON_SPELL_LISTS.containsKey_11rb$(e) ? o(AX().PATRON_SPELL_LISTS.get_11rb$(e)) : 0 }, OD.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeWitch", interfaces: [] }; var YD = null; function VD() { return null === YD && new OD, YD } function KD() { nx = this } function XD() { Gu.call(this) } function JD() { Gu.call(this) } function ZD() { Gu.call(this) } function QD() { Gu.call(this) } function tx(t) { this.closure$featRef = t } function ex() { Gu.call(this) } function ix() { Gu.call(this) } function ax() { Gu.call(this) } function rx() { Gu.call(this) } XD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new a3(o3().ARCHETYPE_CASTER_WIZARD, 1, 0, !1, 3, !0, a), s = e.hashMapSpellCasters, l = o3().ARCHETYPE_CASTER_WIZARD; s.put_xwzc9p$(l, o) } else e.hashMapSpellCasters.remove_11rb$(o3().ARCHETYPE_CASTER_WIZARD); re().setProficiencyAtLevel_8d16k4$(i, e, o3().ARCHETYPE_CASTER_WIZARD, a, pK().PROFICIENCY_SPELLS_ARCANE, 2); var c = MK(r, 1, T([pK().ARCANA]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, c) }, XD.$metadata$ = { kind: p, interfaces: [Gu] }, JD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Arcana" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_WIZARD, 2, o) }, JD.$metadata$ = { kind: p, interfaces: [Gu] }, ZD.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Arcana" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_WIZARD, l, o) }, ZD.$metadata$ = { kind: p, interfaces: [Gu] }, tx.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var s, l = VK().hashMapArcaneSchoolPowers, c = o(n).name, p = (e.isType(s = l, y) ? s : d()).get_11rb$(c); re().addAwardedPower_ujte31$(a, i, this.closure$featRef, P0(o(p), r, 1)) }, tx.$metadata$ = { kind: p, interfaces: [xX] }, QD.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, l) { var c; if (a) { var p = HX(); p.level = r, p.name = "Arcane School", p.textDescription = "Select one arcane school of magic. You gain the schools initial school spell. If you dont already have one, you gain a focus pool of 1 Focus Point, which you can Refocus by studying. "; var u = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_ARCANE_SCHOOLS); for (p.hashMapSpecialChoices.put_xwzc9p$("Select Arcane School", u), u.remove_11rb$("Universalist"), c = u.values.iterator(); c.hasNext();) { var _ = c.next(); try { var f, m, $ = VK().hashMapArcaneSchoolPowers, g = _.name, v = (e.isType(f = $, y) ? f : d()).get_11rb$(g), S = t.managerSpells.hashMapSpells, C = (e.isType(m = S, y) ? m : d()).get_11rb$(v); _.textDescription = "School Spell: " + o(C).name + "<br>", _.textDescription = _.textDescription + C.description } catch (t) { if (!e.isType(t, h)) throw t; s(t) } _.specialEffect = new tx(n) } o(i.hashMapSpecialInformation[r - 1 | 0]).put_xwzc9p$(n, p) } else { var E = o(i.hashMapSpecialInformation[r - 1 | 0]).get_11rb$(n); null != E && t.managerSpecials.activateSpecial_2yti0t$(t, i, !1, n, E), o(i.hashMapSpecialInformation[r - 1 | 0]).remove_11rb$(n) } re().increaseFocusPoints_sfpo92$(a, i, n, DW(r, 1)) }, QD.$metadata$ = { kind: p, interfaces: [Gu] }, ex.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WIZARD)) || e.isType(s, a3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, ex.$metadata$ = { kind: p, interfaces: [Gu] }, ix.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WIZARD)) || e.isType(s, a3) ? s : d(); null != l && l.setBreadth_eltk6l$(a, r) }, ix.$metadata$ = { kind: p, interfaces: [Gu] }, ax.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WIZARD)) || e.isType(s, a3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_WIZARD + "Expert", r, pK().PROFICIENCY_SPELLS_ARCANE, 4) }, ax.$metadata$ = { kind: p, interfaces: [Gu] }, rx.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WIZARD)) || e.isType(s, a3) ? s : d(); null != l && l.setMaster_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, o3().ARCHETYPE_CASTER_WIZARD + "Master", r, pK().PROFICIENCY_SPELLS_ARCANE, 6) }, rx.$metadata$ = { kind: p, interfaces: [Gu] }, KD.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new XD; t.put_xwzc9p$("ARCHETYPE_Wizard Dedication", e); var i = new JD; t.put_xwzc9p$("ARCHETYPE_Basic Arcana", i); var a = new ZD; t.put_xwzc9p$("ARCHETYPE_Advanced Arcana", a); var r = new QD; t.put_xwzc9p$("ARCHETYPE_Arcane School Spell", r); var n = new ex; t.put_xwzc9p$("ARCHETYPE_Basic Wizard Spellcasting", n); var o = new ix; t.put_xwzc9p$("ARCHETYPE_Arcane Breadth", o); var s = new ax; t.put_xwzc9p$("ARCHETYPE_Expert Wizard Spellcasting", s); var l = new rx; t.put_xwzc9p$("ARCHETYPE_Master Wizard Spellcasting", l) }, KD.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeWizard", interfaces: [] }; var nx = null; function ox() { return null === nx && new KD, nx } function sx() { ux = this, this.SPECIAL_BEASTGUNNER_MAGIC_TYPE = "Beastgunner Magic Type", this.CHOICE_BEASTGUNNER_MAGIC = "Select Magic Type", this.CASTER_BEASTGUNNER = "Archetype Beastgunner" } function lx() { Gu.call(this) } function cx(t, e) { this.closure$spellList = t, this.closure$type = e } function px() { Gu.call(this) } function hx() { Gu.call(this) } function dx() { Gu.call(this) } cx.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = new a3(_x().CASTER_BEASTGUNNER, 1, this.closure$spellList, !0, 5, !1, a); n.standardCantrips = 1; var o = e.hashMapSpellCasters, s = _x().CASTER_BEASTGUNNER; o.put_xwzc9p$(s, n) } else e.hashMapSpellCasters.remove_11rb$(_x().CASTER_BEASTGUNNER); re().setProficiencyAtLevel_8d16k4$(i, e, _x().CASTER_BEASTGUNNER, a, this.closure$type, 2), t.getGuiUpdateControl().finishedLoading_n40yp2$(e) || t.managerFeats.activateFeatFoundAtAnyLevel_cyt1w7$(e, "ARCHETYPE_Basic Beast Gunner Spellcasting") }, cx.$metadata$ = { kind: p, interfaces: [xX] }, lx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Spellsling"), i) { for (var s = qX(_x().SPECIAL_BEASTGUNNER_MAGIC_TYPE, a), l = c(), p = [pK().PROFICIENCY_SPELLS_ARCANE, pK().PROFICIENCY_SPELLS_PRIMAL], h = [0, 3], d = 0; d < p.length; d++) { var u = p[d], _ = h[d], f = qX(u, a); l.put_xwzc9p$(u, f), f.textDescription = "You gain a spell repertoire with one cantrip of your choice, from either the arcane or primal spell list", f.specialEffect = new cx(_, u) } var y = s.hashMapSpecialChoices, m = _x().CHOICE_BEASTGUNNER_MAGIC; y.put_xwzc9p$(m, l); var $ = o(e.hashMapSpecialInformation[a - 1 | 0]), g = _x().SPECIAL_BEASTGUNNER_MAGIC_TYPE; $.put_xwzc9p$(g, s) } else { var v = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(_x().SPECIAL_BEASTGUNNER_MAGIC_TYPE); null != v && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, _x().SPECIAL_BEASTGUNNER_MAGIC_TYPE, v), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(_x().SPECIAL_BEASTGUNNER_MAGIC_TYPE) } }, lx.$metadata$ = { kind: p, interfaces: [Gu] }, px.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(_x().CASTER_BEASTGUNNER)) || e.isType(s, a3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, px.$metadata$ = { kind: p, interfaces: [Gu] }, hx.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(_x().CASTER_BEASTGUNNER)) || e.isType(s, a3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r); var c = i.getCharacterData().getSpecialSelection_puj7f4$(_x().SPECIAL_BEASTGUNNER_MAGIC_TYPE, _x().CHOICE_BEASTGUNNER_MAGIC); null != c && re().setProficiencyAtLevel_8d16k4$(a, i, _x().CASTER_BEASTGUNNER + "Expert", r, c, 4) }, hx.$metadata$ = { kind: p, interfaces: [Gu] }, dx.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(_x().CASTER_BEASTGUNNER)) || e.isType(s, a3) ? s : d(); null != l && l.setMaster_eltk6l$(a, r); var c = i.getCharacterData().getSpecialSelection_puj7f4$(_x().SPECIAL_BEASTGUNNER_MAGIC_TYPE, _x().CHOICE_BEASTGUNNER_MAGIC); null != c && re().setProficiencyAtLevel_8d16k4$(a, i, _x().CASTER_BEASTGUNNER + "Master", r, c, 6) }, dx.$metadata$ = { kind: p, interfaces: [Gu] }, sx.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new lx; t.put_xwzc9p$("ARCHETYPE_Beast Gunner Dedication", e); var i = new px; t.put_xwzc9p$("ARCHETYPE_Basic Beast Gunner Spellcasting", i); var a = new hx; t.put_xwzc9p$("ARCHETYPE_Expert Beast Gunner Spellcasting", a); var r = new dx; t.put_xwzc9p$("ARCHETYPE_Master Beast Gunner Spellcasting", r) }, sx.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeBeastGunner", interfaces: [] }; var ux = null; function _x() { return null === ux && new sx, ux } function fx() { Px = this } function yx() { Gu.call(this) } function mx() { Gu.call(this) } function $x() { Gu.call(this) } function gx() { Gu.call(this) } function vx() { Gu.call(this) } function Sx() { Gu.call(this) } function Cx() { Gu.call(this) } function Ex() { Gu.call(this) } function Ax() { Gu.call(this) } function bx() { Gu.call(this) } function Ix() { Gu.call(this) } function wx() { Gu.call(this) } function Lx() { Gu.call(this) } function Tx() { Gu.call(this) } function kx() { Gu.call(this) } function Rx() { Gu.call(this) } yx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_PERCEPTION, 6) }, yx.$metadata$ = { kind: p, interfaces: [Gu] }, mx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { if (!e.skillProficiencyExists_61zpoe$("Lore: Driving")) { var o = LK(3, !1, a); e.addSkillProficiency_4z2sac$("Lore: Driving", o), e.addProficiency_gzayp1$("Lore: Driving", o) } var s = e.getProficiency_61zpoe$("Lore: Driving"); null != s && s.setProficiencyAtLevel_3m52m6$(r + "1", a, 4), null != s && s.setProficiencyAtLevel_3m52m6$(r + "2", pe().getLevelOrMin_vux9f0$(a, 7), 6), null != s && s.setProficiencyAtLevel_3m52m6$(r + "3", pe().getLevelOrMin_vux9f0$(a, 15), 8) } else { var l = e.getProficiency_61zpoe$("Lore: Driving"); null != l && (l.removeProficiencyAtLevel_61zpoe$(r + "1"), l.removeProficiencyAtLevel_61zpoe$(r + "2"), l.removeProficiencyAtLevel_61zpoe$(r + "3"), 0 === l.getProficiencyAtLevel_za3lpa$(20) && (e.removeSkillProficiency_61zpoe$("Lore: Driving"), e.removeProficiency_61zpoe$("Lore: Driving"))) } }, mx.$metadata$ = { kind: p, interfaces: [Gu] }, $x.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().CRAFTING, 4) }, $x.$metadata$ = { kind: p, interfaces: [Gu] }, gx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Improvised Repair", se().FEATS_GENERAL, a) }, gx.$metadata$ = { kind: p, interfaces: [Gu] }, vx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o; re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Bullet Dancer Stance"); var s = u(); for (s.add_11rb$("Reinforced Stock"), s.add_11rb$("Bayonet"), o = t.managerWeapons.hashMapWeapons.values.iterator(); o.hasNext();) { var l = o.next(); (m(l.group, "Firearm") && 0 === l.proficiencyType || 3 === l.proficiencyType) && s.add_11rb$(l.name) } re().addAncestralWeaponExpertise_i1oc2n$(i, e, r, a, b(s), null) }, vx.$metadata$ = { kind: p, interfaces: [Gu] }, Sx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Set Explosives"), re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Engineering") }, Sx.$metadata$ = { kind: p, interfaces: [Gu] }, Cx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s; re().addLoreAndTrainedOrExpert_gbrkv6$(i, t, e, a, r, "Fireworks"), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Alchemical Crafting", se().FEATS_GENERAL, a); var l = new Q1(i3().ALCHEMY_FIREWORK_TECHNICIAN, a); for (l.hasAdvanced = !0, l.setAlchemyLevelAtCharacterLevel_f9128j$(i, r, a, 1), re().addAlchemicalCaster_yk8txo$(i, e, l), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_ALCHEMIST, "Infused Reagents"), o = ["Launch Fireworks Display - Salute", "Launch Fireworks Display - Flower", "Launch Fireworks Display - Comet"], s = 0; s !== o.length; ++s) { var c = o[s]; re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + c, a, BK().SPECIALS_UNIVERSAL, c) } }, Cx.$metadata$ = { kind: p, interfaces: [Gu] }, Ex.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Coughing Dragon") }, Ex.$metadata$ = { kind: p, interfaces: [Gu] }, Ax.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapAlchemicalCasters.get_11rb$(i3().ALCHEMY_FIREWORK_TECHNICIAN); if (null != o) for (var s = a; s <= 20; s++)o.setAlchemyLevelAtCharacterLevel_f9128j$(i, r + j(s), s, s - 3 | 0) }, Ax.$metadata$ = { kind: p, interfaces: [Gu] }, bx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Jumping Jenny") }, bx.$metadata$ = { kind: p, interfaces: [Gu] }, Ix.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Goblin Jubilee") }, Ix.$metadata$ = { kind: p, interfaces: [Gu] }, wx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Banshee Cry") }, wx.$metadata$ = { kind: p, interfaces: [Gu] }, Lx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GUNSLINGER_Pistol Twirl", se().FEATS_GENERAL, a) }, Lx.$metadata$ = { kind: p, interfaces: [Gu] }, Tx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Conjure Bullet") }, Tx.$metadata$ = { kind: p, interfaces: [Gu] }, kx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Call Gun") }, kx.$metadata$ = { kind: p, interfaces: [Gu] }, Rx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Accidental Shot") }, Rx.$metadata$ = { kind: p, interfaces: [Gu] }, fx.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new yx; t.put_xwzc9p$("ARCHETYPE_OVERWATCH_Master Spotter", e); var i = new mx; t.put_xwzc9p$("ARCHETYPE_Trick Driver Dedication", i); var a = new $x; t.put_xwzc9p$("ARCHETYPE_Vehicle Mechanic Dedication", a); var r = new gx; t.put_xwzc9p$("ARCHETYPE_Patch Job", r); var n = new vx; t.put_xwzc9p$("ARCHETYPE_Bullet Dancer Dedication", n); var o = new Sx; t.put_xwzc9p$("ARCHETYPE_Demolitionist Dedication", o); var s = new Cx; t.put_xwzc9p$("ARCHETYPE_Firework Technician Dedication", s); var l = new Ex; t.put_xwzc9p$("ARCHETYPE_Coughing Dragon Display", l); var c = new Ax; t.put_xwzc9p$("ARCHETYPE_Expert Fireworks Crafter", c); var p = new bx; t.put_xwzc9p$("ARCHETYPE_Jumping Jenny Display", p); var h = new Ix; t.put_xwzc9p$("ARCHETYPE_Goblin Jubilee Display", h); var d = new wx; t.put_xwzc9p$("ARCHETYPE_Banshee Cry Display", d); var u = new Lx; t.put_xwzc9p$("ARCHETYPE_Pistol Phenom Dedication", u); var _ = new Tx; t.put_xwzc9p$("ARCHETYPE_Spellshot Dedication", _); var f = new kx; t.put_xwzc9p$("ARCHETYPE_SPELLSHOT_Call Gun", f); var y = new Rx; t.put_xwzc9p$("ARCHETYPE_Unexpected Sharpshooter Dedication", y) }, fx.$metadata$ = { kind: f, simpleName: "FeatEffectsGNGMisc", interfaces: [] }; var Px = null; function Mx() { return null === Px && new fx, Px } function Nx() { Hx = this, this.CASTER_CAPTIVATOR = "Archetype Captivator" } function Dx() { Gu.call(this) } function xx(t, e) { this.closure$skillName = t, this.closure$featRef = e } function zx() { Gu.call(this) } function Ox() { Gu.call(this) } function Fx() { Gu.call(this) } function Bx() { Gu.call(this) } function jx() { Gu.call(this) } xx.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyTrainedOrExpert_cgow6u$(i, e, this.closure$skillName, this.closure$featRef, a) }, xx.$metadata$ = { kind: p, interfaces: [xX] }, Dx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, p = "Captivator skill"; if (i) { var h = qX(p, a), d = c(); for (s = [pK().DECEPTION, pK().DIPLOMACY], l = 0; l !== s.length; ++l) { var u = s[l], _ = qX(u, a); d.put_xwzc9p$(u, _), _.specialEffect = new xx(u, r) } h.hashMapSpecialChoices.put_xwzc9p$("Select Skill", d), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(p, h) } else { var f = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(p); null != f && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, p, f), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(p) } if (i) { var y = new D3(qx().CASTER_CAPTIVATOR, a), m = e.hashMapSpellCasters, $ = qx().CASTER_CAPTIVATOR; m.put_xwzc9p$($, y) } else e.hashMapSpellCasters.remove_11rb$(qx().CASTER_CAPTIVATOR); re().setProficiencyAtLevel_8d16k4$(i, e, qx().CASTER_CAPTIVATOR, a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, Dx.$metadata$ = { kind: p, interfaces: [Gu] }, zx.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(qx().CASTER_CAPTIVATOR)) || e.isType(s, D3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, zx.$metadata$ = { kind: p, interfaces: [Gu] }, Ox.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(qx().CASTER_CAPTIVATOR)) || e.isType(s, D3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, qx().CASTER_CAPTIVATOR + "Expert", r, pK().PROFICIENCY_SPELLS_OCCULT, 4) }, Ox.$metadata$ = { kind: p, interfaces: [Gu] }, Fx.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(qx().CASTER_CAPTIVATOR)) || e.isType(s, D3) ? s : d(); null != l && l.setMaster_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, qx().CASTER_CAPTIVATOR + "Master", r, pK().PROFICIENCY_SPELLS_OCCULT, 6) }, Fx.$metadata$ = { kind: p, interfaces: [Gu] }, Bx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = u(); for (s = o(t.managerFeats.getHashMapFeats_61zpoe$(se().FEATS_ARCHETYPE)).values.iterator(); s.hasNext();) { var c = s.next(); null != c.reqFeats && X(o(c.reqFeats), "ARCHETYPE_Spell Trickster Dedication") && 4 === c.level && l.add_11rb$(c.id) } var p = "Spell Trickster Feat 1", h = "Spell Trickster Feat 2"; if (i) { var d = Mu("Spell Trickster", a); d.listFeatIDs = l, d.ignoreLevelRequirement = !0; var _ = Mu("Spell Trickster", a); _.listFeatIDs = l, _.ignoreLevelRequirement = !0, o(n).hashMapChildFeatChoices.put_xwzc9p$(p, d), n.hashMapChildFeatChoices.put_xwzc9p$(h, _) } else { if (o(n).hashMapChildFeatChoices.containsKey_11rb$(p)) { var f = n.hashMapChildFeatChoices.get_11rb$(p); t.managerFeats.deactivateFeat_8fzv80$(e, n.level, f, p), n.hashMapChildFeatChoices.remove_11rb$(p) } if (n.hashMapChildFeatChoices.containsKey_11rb$(h)) { var y = n.hashMapChildFeatChoices.get_11rb$(h); t.managerFeats.deactivateFeat_8fzv80$(e, n.level, y, h), n.hashMapChildFeatChoices.remove_11rb$(h) } } }, Bx.$metadata$ = { kind: p, interfaces: [Gu] }, jx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().ATHELTICS, 4), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Titan Wrestler", se().FEATS_GENERAL, a) }, jx.$metadata$ = { kind: p, interfaces: [Gu] }, Nx.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Dx; t.put_xwzc9p$("ARCHETYPE_Captivator Dedication", e); var i = new zx; t.put_xwzc9p$("ARCHETYPE_Basic Captivator Spellcasting", i); var a = new Ox; t.put_xwzc9p$("ARCHETYPE_Expert Captivator Spellcasting", a); var r = new Fx; t.put_xwzc9p$("ARCHETYPE_Master Captivator Spellcasting", r); var n = new Bx; t.put_xwzc9p$("ARCHETYPE_Spell Trickster Dedication", n); var o = new jx; t.put_xwzc9p$("ARCHETYPE_Wrestler Dedication", o) }, Nx.$metadata$ = { kind: f, simpleName: "FeatEffectsGrandBazaarMisc", interfaces: [] }; var Hx = null; function qx() { return null === Hx && new Nx, Hx } function Ux() { Jx = this, this.CATHARTIC_EMOTION_SPECIAL = "Cathartic Mage Emotion", this.CATHARTIC_EMOTION_CHOICE = "Select Cathartic Mage Emotion" } function Gx() { Gu.call(this) } function Wx(t) { this.closure$spellList = t } function Yx() { Gu.call(this) } function Vx() { Gu.call(this) } function Kx() { Gu.call(this) } function Xx() { Gu.call(this) } Wx.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = ot(k0().ARRAY_SPELL_LISTS, this.closure$spellList); i ? e.hashMapSpellCasters.put_xwzc9p$(p3().ARCHETYPE_CASTER_CATHARTIC_MAGE, new s3(n, a)) : e.hashMapSpellCasters.remove_11rb$(p3().ARCHETYPE_CASTER_CATHARTIC_MAGE), re().setProficiencyAtLevel_8d16k4$(i, e, "Cathartic Mage", a, this.closure$spellList, 2) }, Wx.$metadata$ = { kind: p, interfaces: [xX] }, Gx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "1", a, BK().SPECIALS_UNIVERSAL, "Catharsis"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "1", a, BK().SPECIALS_UNIVERSAL, "Settle Emotions"), i) { var p = qX(Zx().CATHARTIC_EMOTION_SPECIAL, a); p.textDescription = "Select your emotion."; var h = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_ARCHETYPE_CATHARTIC_MAGE), d = p.hashMapSpecialChoices, u = Zx().CATHARTIC_EMOTION_CHOICE; d.put_xwzc9p$(u, h); var _ = o(e.hashMapSpecialInformation[a - 1 | 0]), f = Zx().CATHARTIC_EMOTION_SPECIAL; _.put_xwzc9p$(f, p) } else { var y = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(Zx().CATHARTIC_EMOTION_SPECIAL); null != y && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, Zx().CATHARTIC_EMOTION_SPECIAL, y), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(Zx().CATHARTIC_EMOTION_SPECIAL) } if (i) { var m = HX(); m.level = a, m.name = "Cathartic Mage Tradition", m.textDescription = "Select your tradition."; var $ = c(); for (m.hashMapSpecialChoices.put_xwzc9p$("Select Cathartic Mage Tradition", $), s = k0().ARRAY_SPELL_LISTS, l = 0; l !== s.length; ++l) { var g = s[l], v = qX(g, a); v.specialEffect = new Wx(g), $.put_xwzc9p$(g, v) } o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, m) } else { var S = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != S && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, S), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, Gx.$metadata$ = { kind: p, interfaces: [Gu] }, Yx.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(p3().ARCHETYPE_CASTER_CATHARTIC_MAGE)) || e.isType(s, s3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, Yx.$metadata$ = { kind: p, interfaces: [Gu] }, Vx.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(p3().ARCHETYPE_CASTER_CATHARTIC_MAGE)) || e.isType(s, s3) ? s : d(); null != l && (l.setExpert_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, p3().ARCHETYPE_CASTER_CATHARTIC_MAGE + "Expert", r, k0().ARRAY_SPELL_LISTS[l.spellList], 4)) }, Vx.$metadata$ = { kind: p, interfaces: [Gu] }, Kx.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(p3().ARCHETYPE_CASTER_CATHARTIC_MAGE)) || e.isType(s, s3) ? s : d(); null != l && (l.setMaster_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, p3().ARCHETYPE_CASTER_CATHARTIC_MAGE + "Master", r, k0().ARRAY_SPELL_LISTS[l.spellList], 6)) }, Kx.$metadata$ = { kind: p, interfaces: [Gu] }, Xx.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.getCharacterData().getSpecialSelection_puj7f4$(Zx().CATHARTIC_EMOTION_SPECIAL, Zx().CATHARTIC_EMOTION_CHOICE); if (null != o) { var s = "Athletic Rush"; switch (o) { case "Anger": s = "Athletic Rush"; break; case "Awe": s = "Dazzling Flash"; break; case "Dedication": s = "Protector's Sacrifice"; break; case "Fear": s = "Waking Nightmare"; break; case "Hatred": s = "Cry of Destruction"; break; case "Joy": s = "Unimpeded Stride"; break; case "Love": s = "Soothing Words"; break; case "Misery": s = "Savor the Sting"; break; case "Pride": s = "Veil of Confidence"; break; case "Remorse": s = "Healer's Blessing" }re().addAwardedPower_ujte31$(i, e, r, P0(s, a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) } }, Xx.$metadata$ = { kind: p, interfaces: [Gu] }, Ux.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Gx; t.put_xwzc9p$("ARCHETYPE_Cathartic Mage Dedication", e); var i = new Yx; t.put_xwzc9p$("ARCHETYPE_Basic Cathartic Spellcasting", i); var a = new Vx; t.put_xwzc9p$("ARCHETYPE_Expert Cathartic Spellcasting", a); var r = new Kx; t.put_xwzc9p$("ARCHETYPE_Master Cathartic Spellcasting", r); var n = new Xx; t.put_xwzc9p$("ARCHETYPE_Cathartic Focus Spell", n) }, Ux.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeCatharticMage", interfaces: [] }; var Jx = null; function Zx() { return null === Jx && new Ux, Jx } function Qx() { rz = this, this.SPECIAL_REF_ARCANE_SCHOOL = "Arcane School", this.SPECIAL_CHOICE_ARCANE_SCHOOL = "Select Elemental School" } function tz() { Gu.call(this) } function ez() { Gu.call(this) } function iz() { Gu.call(this) } function az() { Gu.call(this) } tz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, tz.$metadata$ = { kind: p, interfaces: [Gu] }, ez.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "1", DW(a, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "2", DW(a, 1)) }, ez.$metadata$ = { kind: p, interfaces: [Gu] }, iz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r, DW(a, 1)) }, iz.$metadata$ = { kind: p, interfaces: [Gu] }, az.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { }, az.$metadata$ = { kind: p, interfaces: [Gu] }, Qx.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new tz; t.put_xwzc9p$("ARCHETYPE_Elementalist Familiar", e); var i = new ez; t.put_xwzc9p$("ARCHETYPE_Elementalist Enhanced Familiar", i); var a = new iz; t.put_xwzc9p$("ARCHETYPE_Elemental Familiar", a); var r = new az; t.put_xwzc9p$("ARCHETYPE_Elementalist Dedication", r) }, Qx.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeElementalist", interfaces: [] }; var rz = null; function nz() { return null === rz && new Qx, rz } function oz() { cz = this } function sz() { Gu.call(this) } function lz() { Gu.call(this) } sz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { }, sz.$metadata$ = { kind: p, interfaces: [Gu] }, lz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { }, lz.$metadata$ = { kind: p, interfaces: [Gu] }, oz.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new sz; t.put_xwzc9p$("ARCHETYPE_Flexible Spellcaster Dedication", e); var i = new lz; t.put_xwzc9p$("ARCHETYPE_Wellspring Mage Dedication", i) }, oz.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeFlexibleSpellcaster", interfaces: [] }; var cz = null; function pz() { return null === cz && new oz, cz } function hz() { Sz = this } function dz() { Gu.call(this) } function uz() { Gu.call(this) } function _z() { Gu.call(this) } function fz() { Gu.call(this) } function yz(t) { this.closure$confluxSpell = t } function mz() { Gu.call(this) } function $z() { Gu.call(this) } function gz() { Gu.call(this) } function vz() { Gu.call(this) } dz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new A3(w3().BOUNDED_ARCHETYPE_CASTER_MAGUS, 1, 0, !1, 3, !0, a), s = e.hashMapSpellCasters, l = w3().BOUNDED_ARCHETYPE_CASTER_MAGUS; s.put_xwzc9p$(l, o) } else e.hashMapSpellCasters.remove_11rb$(w3().BOUNDED_ARCHETYPE_CASTER_MAGUS); re().setProficiencyAtLevel_8d16k4$(i, e, w3().BOUNDED_ARCHETYPE_CASTER_MAGUS, a, pK().PROFICIENCY_SPELLS_ARCANE, 2); var c = MK(r, 1, T([pK().ARCANA]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, r, c) }, dz.$metadata$ = { kind: p, interfaces: [Gu] }, uz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Martial Magic" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_MAGUS, 2, o) }, uz.$metadata$ = { kind: p, interfaces: [Gu] }, _z.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Martial Magic" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_MAGUS, l, o) }, _z.$metadata$ = { kind: p, interfaces: [Gu] }, yz.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, "Hybrid Study", P0(this.closure$confluxSpell, a, 1)), re().increaseFocusPoints_sfpo92$(i, e, "Hybrid Study", DW(a, 1)) }, yz.$metadata$ = { kind: p, interfaces: [xX] }, fz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Conflux Spell", l.textDescription = "Gain the conflux spell from a hybrid study of your choice."; var p = c(); for (l.hashMapSpecialChoices.put_xwzc9p$("Select Conflux Spell", p), s = _X().HYBRID_STUDY_SPELLS.values.iterator(); s.hasNext();) { var h = s.next(), d = qX(h, a), u = t.managerSpells.hashMapSpells.get_11rb$(h); d.textDescription = o(u).textOnlyDescription, d.specialEffect = new yz(h), p.put_xwzc9p$(h, d) } o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, fz.$metadata$ = { kind: p, interfaces: [Gu] }, mz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_MAGUS, "Spellstrike") }, mz.$metadata$ = { kind: p, interfaces: [Gu] }, $z.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(w3().BOUNDED_ARCHETYPE_CASTER_MAGUS)) || e.isType(s, A3) ? s : d(); null != l && l.setBasic_eltk6l$(a, r) }, $z.$metadata$ = { kind: p, interfaces: [Gu] }, gz.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(w3().BOUNDED_ARCHETYPE_CASTER_MAGUS)) || e.isType(s, A3) ? s : d(); null != l && l.setExpert_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, w3().BOUNDED_ARCHETYPE_CASTER_MAGUS + "Expert", r, pK().PROFICIENCY_SPELLS_ARCANE, 4) }, gz.$metadata$ = { kind: p, interfaces: [Gu] }, vz.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(w3().BOUNDED_ARCHETYPE_CASTER_MAGUS)) || e.isType(s, A3) ? s : d(); null != l && l.setMaster_eltk6l$(a, r), re().setProficiencyAtLevel_8d16k4$(a, i, w3().BOUNDED_ARCHETYPE_CASTER_MAGUS + "Master", r, pK().PROFICIENCY_SPELLS_ARCANE, 6) }, vz.$metadata$ = { kind: p, interfaces: [Gu] }, hz.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new dz; t.put_xwzc9p$("ARCHETYPE_Magus Dedication", e); var i = new uz; t.put_xwzc9p$("ARCHETYPE_Basic Martial Magic", i); var a = new _z; t.put_xwzc9p$("ARCHETYPE_Advanced Martial Magic", a); var r = new fz; t.put_xwzc9p$("ARCHETYPE_Hybrid Study Spell", r); var n = new mz; t.put_xwzc9p$("ARCHETYPE_Spellstriker", n); var o = new $z; t.put_xwzc9p$("ARCHETYPE_Basic Magus Spellcasting", o); var s = new gz; t.put_xwzc9p$("ARCHETYPE_Expert Magus Spellcasting", s); var l = new vz; t.put_xwzc9p$("ARCHETYPE_Master Magus Spellcasting", l) }, hz.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeMagus", interfaces: [] }; var Sz = null; function Cz() { return null === Sz && new hz, Sz } function Ez() { bz = this } function Az() { Gu.call(this) } Az.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { }, Az.$metadata$ = { kind: p, interfaces: [Gu] }, Ez.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Az; t.put_xwzc9p$("ARCHETYPE_Runelord Dedication", e) }, Ez.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeRunelord", interfaces: [] }; var bz = null; function Iz() { return null === bz && new Ez, bz } function wz() { qz = this } function Lz() { Gu.call(this) } function Tz() { Gu.call(this) } function kz() { Gu.call(this) } function Rz() { Gu.call(this) } function Pz() { Gu.call(this) } function Mz() { Gu.call(this) } function Nz(t) { this.closure$featRef = t } function Dz(t) { this.closure$featRef = t } function xz() { Gu.call(this) } function zz(t) { this.closure$featRef = t } function Oz(t) { this.closure$featRef = t } function Fz() { Gu.call(this) } function Bz() { Gu.call(this) } function jz() { Gu.call(this) } function Hz() { Gu.call(this) } Lz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Cloak of Shadow", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Lz.$metadata$ = { kind: p, interfaces: [Gu] }, Tz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Inscrutable Mask", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Tz.$metadata$ = { kind: p, interfaces: [Gu] }, kz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Darklight", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, kz.$metadata$ = { kind: p, interfaces: [Gu] }, Rz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, Rz.$metadata$ = { kind: p, interfaces: [Gu] }, Pz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "1", DW(a, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "2", DW(a, 1)) }, Pz.$metadata$ = { kind: p, interfaces: [Gu] }, Nz.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().increaseFocusPoints_sfpo92$(i, e, this.closure$featRef, zW(a, 1, !0)), re().addAwardedPower_ujte31$(i, e, this.closure$featRef, P0(o(o(r).name), a, 1)) }, Nz.$metadata$ = { kind: p, interfaces: [xX] }, Dz.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().increaseFocusPoints_sfpo92$(i, e, this.closure$featRef, zW(a, 1, !0)), re().addAwardedPower_ujte31$(i, e, this.closure$featRef, P0(o(o(r).name), a, 1)) }, Dz.$metadata$ = { kind: p, interfaces: [xX] }, Mz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = qX("Shadow Magic", a); s.textDescription = "You learn a shadowdancer focus spell of your choice: <i>dance of darkness</i> or <i>shadow jump</i>."; var l = c(), p = qX("Dance of Darkness", a); p.specialEffect = new Nz(r); var h = p; l.put_xwzc9p$("Dance of Darkness", h), (p = qX("Shadow Jump", a)).specialEffect = new Dz(r); var d = p; l.put_xwzc9p$("Shadow Jump", d), s.hashMapSpecialChoices.put_xwzc9p$("Select Shadow Magic", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } re().setProficiencyAtLevel_8d16k4$(i, e, "Shadow Dancer", a, pK().PROFICIENCY_SPELLS_OCCULT, 2) }, Mz.$metadata$ = { kind: p, interfaces: [Gu] }, zz.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$featRef, P0(o(o(r).name), a, 1)) }, zz.$metadata$ = { kind: p, interfaces: [xX] }, Oz.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$featRef, P0(o(o(r).name), a, 1)) }, Oz.$metadata$ = { kind: p, interfaces: [xX] }, xz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), i) { var s = qX("Shadow Magic", a); s.textDescription = "Choose an additional shadowdancer focus spell you haven't already selected from Shadow Magic. Increase the number of Focus Points in your pool by 1."; var l = c(), p = qX("Dance of Darkness", a); p.specialEffect = new zz(r); var h = p; l.put_xwzc9p$("Dance of Darkness", h), (p = qX("Shadow Jump", a)).specialEffect = new Oz(r); var d = p; l.put_xwzc9p$("Shadow Jump", d), s.hashMapSpecialChoices.put_xwzc9p$("Select Shadow Magic", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, xz.$metadata$ = { kind: p, interfaces: [Gu] }, Fz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Shadow Illusion", a, 1)), re().setProficiencyAtLevel_8d16k4$(i, e, "Shadow Dancer", a, pK().PROFICIENCY_SPELLS_OCCULT, 4) }, Fz.$metadata$ = { kind: p, interfaces: [Gu] }, Bz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Shadow Blast", a, 1)), re().setProficiencyAtLevel_8d16k4$(i, e, "Shadow Blast", a, pK().PROFICIENCY_SPELLS_OCCULT, 4) }, Bz.$metadata$ = { kind: p, interfaces: [Gu] }, jz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Soulforger", a, BK().SPECIALS_UNIVERSAL, "Manifest Soulforged Armament"), i) { var s = qX("Essence Powers", a); s.textDescription = "Choose one essence power for the armament (below)."; var l = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_ARCHETYPE_SOULFORGER); s.hashMapSpecialChoices.put_xwzc9p$("Select Essence Power", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var c = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != c && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, c), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, jz.$metadata$ = { kind: p, interfaces: [Gu] }, Hz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = qX("Essence Powers", a); s.textDescription = "Choose one essence power for the armament (below)."; var l = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_ARCHETYPE_SOULFORGER); s.hashMapSpecialChoices.put_xwzc9p$("Select Essence Power", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var c = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != c && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, c), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, Hz.$metadata$ = { kind: p, interfaces: [Gu] }, wz.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Lz; t.put_xwzc9p$("ARCHETYPE_Shadowcaster Dedication", e); var i = new Tz; t.put_xwzc9p$("ARCHETYPE_Disciple Of Shade", i); var a = new kz; t.put_xwzc9p$("ARCHETYPE_Unending Emptiness", a); var r = new Rz; t.put_xwzc9p$("ARCHETYPE_SHADOWCASTER_Familiar", r); var n = new Pz; t.put_xwzc9p$("ARCHETYPE_SHADOWCASTER_Enhanced Familiar", n); var o = new Mz; t.put_xwzc9p$("ARCHETYPE_SHADOWCASTER_Shadow Magic", o); var s = new xz; t.put_xwzc9p$("ARCHETYPE_SHADOWCASTER_Additional Shadow Magic", s); var l = new Fz; t.put_xwzc9p$("ARCHETYPE_SHADOWCASTER_Shadow Illusion", l); var c = new Bz; t.put_xwzc9p$("ARCHETYPE_SHADOWCASTER_Shadow Power", c); var p = new jz; t.put_xwzc9p$("ARCHETYPE_Soulforger Dedication", p); var h = new Hz; t.put_xwzc9p$("ARCHETYPE_Soul Arsenal", h) }, wz.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeSOM", interfaces: [] }; var qz = null; function Uz() { return null === qz && new wz, qz } function Gz() { iO = this, this.ARCHETYPE_EIDOLON_SPECIAL_REF = "ArchetypeEidolon", this.ARCHETYPE_EIDOLON_CHOICE_REF = "Select Eidolon" } function Wz() { Gu.call(this) } function Yz(t, e) { this.closure$eidolonSpecial = t, this.closure$featRef = e } function Vz() { Gu.call(this) } function Kz() { Gu.call(this) } function Xz() { Gu.call(this) } function Jz() { Gu.call(this) } function Zz() { Gu.call(this) } function Qz() { Gu.call(this) } function tO() { Gu.call(this) } function eO() { Gu.call(this) } Yz.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var o, s, l = t.managerPets.hashMapEidolonInformation, c = this.closure$eidolonSpecial.name, p = (e.isType(s = l, y) ? s : d()).get_11rb$(c); if (null != p) { var h = T([p.skill1]), u = MK(this.closure$featRef, 1, h, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(i), r); re().addTrainedOnlySkillChoice_b4bmjk$(a, t, i, this.closure$featRef + "1", u), h = T([p.skill2]), u = MK(this.closure$featRef, 1, h, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(i), r), re().addTrainedOnlySkillChoice_b4bmjk$(a, t, i, this.closure$featRef + "2", u); var _ = null == (o = i.hashMapSpellCasters.get_11rb$(w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER)) || e.isType(o, L3) ? o : d(); null != _ && _.setTradition_vy76y1$(i, p.tradition), a ? (t.managerPets.addEidolon_uiys2w$(i, r, p, !0), t.getGuiUpdateControl().finishedLoading_n40yp2$(i) && t.managerFeats.activateAllFeatsWithTraits_3dve88$(!0, i, "evolution", 1)) : (t.managerFeats.activateAllFeatsWithTraits_3dve88$(!1, i, "evolution", 1), t.managerPets.removeEidolon_5btbp7$(i)), t.getGuiUpdateControl().updateBuildFragment_n40yp2$(i) } }, Yz.$metadata$ = { kind: p, interfaces: [xX] }, Wz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_SUMMONER, "Manifest Eidolon"), i) { var l = HX(); l.level = a, l.name = "Summoner Archetype Eidolon", l.textDescription = "You gain an eidolon (page 52) as well as the Manifest Eidolon activity. Due to your tenuous link, you can't gain or use tandem actions."; var c = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_SUMMONER_EIDOLONS), p = l.hashMapSpecialChoices, h = aO().ARCHETYPE_EIDOLON_CHOICE_REF; for (p.put_xwzc9p$(h, c), s = c.values.iterator(); s.hasNext();) { var d = s.next(); d.specialEffect = new Yz(d, r) } var u = o(e.hashMapSpecialInformation[a - 1 | 0]), _ = aO().ARCHETYPE_EIDOLON_SPECIAL_REF; u.put_xwzc9p$(_, l) } else { var f = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(aO().ARCHETYPE_EIDOLON_SPECIAL_REF); null != f && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, aO().ARCHETYPE_EIDOLON_SPECIAL_REF, f), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(aO().ARCHETYPE_EIDOLON_SPECIAL_REF) } }, Wz.$metadata$ = { kind: p, interfaces: [Gu] }, Vz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Basic Synergy" + r; re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_SUMMONER, 2, o) }, Vz.$metadata$ = { kind: p, interfaces: [Gu] }, Kz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = "Advanced Synergy" + r, s = a / 2, l = C(I.floor(s)); re().addFeatSubChoice_tmebmi$(i, t, e, n, se().FEATS_SUMMONER, l, o) }, Kz.$metadata$ = { kind: p, interfaces: [Gu] }, Xz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = e.getCharacterData().getSpecialSelection_puj7f4$(aO().ARCHETYPE_EIDOLON_SPECIAL_REF, aO().ARCHETYPE_EIDOLON_CHOICE_REF); if (null != s) { var l = t.managerPets.hashMapEidolonInformation.get_11rb$(s), c = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_EIDOLON_ABILTIIES); xQ().addEffectsToEidolonAbilities_ed3u7a$(c); var p = c.get_11rb$(o(l).ability1), h = "Summoner Eidolon Ability 1"; null != p && (p.level = a, i ? (o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(h, p), t.getGuiUpdateControl().finishedLoading_n40yp2$(e) && t.managerSpecials.activateSpecial_2yti0t$(t, e, i, h, p)) : (o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(h), t.managerSpecials.activateSpecial_2yti0t$(t, e, i, h, p))) } }, Xz.$metadata$ = { kind: p, interfaces: [Gu] }, Jz.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.getCharacterData().getSpecialSelection_puj7f4$(aO().ARCHETYPE_EIDOLON_SPECIAL_REF, aO().ARCHETYPE_EIDOLON_CHOICE_REF); if (null != o) { var s = t.managerPets.hashMapEidolonInformation.get_11rb$(o); if (null != s) { var l = new L3(a, s.tradition), c = e.hashMapSpellCasters, p = w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER; c.put_xwzc9p$(p, l), re().setProficiencyAtLevel_8d16k4$(i, e, w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER, a, k0().ARRAY_SPELL_LISTS[s.tradition], 2) } } } else e.hashMapSpellCasters.remove_11rb$(w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER), re().removeAllProficiencyReferencesFromSpellTraditions_cyt1w7$(e, w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER) }, Jz.$metadata$ = { kind: p, interfaces: [Gu] }, Zz.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER)) || e.isType(s, A3) ? s : d(); null != l && (l.setExpert_eltk6l$(a, r), a && re().setProficiencyAtLevel_8d16k4$(a, i, w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER + "Expert", r, k0().ARRAY_SPELL_LISTS[l.spellList], 4)), a || re().removeAllProficiencyReferencesFromSpellTraditions_cyt1w7$(i, w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER + "Expert") }, Zz.$metadata$ = { kind: p, interfaces: [Gu] }, Qz.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER)) || e.isType(s, A3) ? s : d(); null != l && (l.setMaster_eltk6l$(a, r), a && re().setProficiencyAtLevel_8d16k4$(a, i, w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER + "Master", r, k0().ARRAY_SPELL_LISTS[l.spellList], 6)), a || re().removeAllProficiencyReferencesFromSpellTraditions_cyt1w7$(i, w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER + "Master") }, Qz.$metadata$ = { kind: p, interfaces: [Gu] }, tO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = UH().getEidolonCharacterBuild_fhac18$(t, e); if (null != s) { re().setProficiencyAtLevel_8d16k4$(i, s, "Expert Combat Eidolon 1", a, pK().PROFICIENCY_UNARMED_ATTACKS, 4); for (var l = a; l <= 20; l++)if (o(e.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).getProficiencyAtLevel_za3lpa$(l) >= 4) { re().setProficiencyAtLevel_8d16k4$(i, s, "Expert Combat Eidolon 2", l, pK().PROFICIENCY_UNARMORED, 4); break } } }, tO.$metadata$ = { kind: p, interfaces: [Gu] }, eO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = Ru(); s.listFeatIDs = T(["SUMMONER_Airborne Form", "SUMMONER_Burrowing Form", "SUMMONER_Ever-Vigilant Senses", "SUMMONER_Hulking Size"]), s.maxLevel = a - 4 | 0, re().addChildFeatChoice_j47kmb$(i, t, e, r + "child", o(n), s) }, eO.$metadata$ = { kind: p, interfaces: [Gu] }, Gz.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Wz; t.put_xwzc9p$("ARCHETYPE_Summoner Dedication", e); var i = new Vz; t.put_xwzc9p$("ARCHETYPE_Basic Synergy", i); var a = new Kz; t.put_xwzc9p$("ARCHETYPE_Advanced Synergy", a); var r = new Xz; t.put_xwzc9p$("ARCHETYPE_Initial Eidolon Ability", r); var n = new Jz; t.put_xwzc9p$("ARCHETYPE_Basic Summoner Spellcasting", n); var o = new Zz; t.put_xwzc9p$("ARCHETYPE_Expert Summoner Spellcasting", o); var s = new Qz; t.put_xwzc9p$("ARCHETYPE_Master Summoner Spellcasting", s); var l = new tO; t.put_xwzc9p$("ARCHETYPE_Expert Combat Eidolon", l); var c = new eO; t.put_xwzc9p$("ARCHETYPE_Signature Synergy", c) }, Gz.$metadata$ = { kind: f, simpleName: "FeatEffectsArchetypeSummoner", interfaces: [] }; var iO = null; function aO() { return null === iO && new Gz, iO } function rO() { lO = this, this.FEAT_SCARE_TO_DEATH_0 = "GENERAL_Scare to Death", this.FEAT_INTIMIDATING_GLARE_0 = "GENERAL_Intimidating Glare" } function nO() { Gu.call(this) } function oO() { Gu.call(this) } function sO() { Gu.call(this) } nO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) for (var s = !1, l = a; l <= 20; l++) { var c = o(e.getProficiency_61zpoe$(pK().INTIMIDATION)).getProficiencyAtLevel_za3lpa$(l); if (c >= 2 && !s && (s = !0, t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, !0, r + cO().FEAT_INTIMIDATING_GLARE_0, cO().FEAT_INTIMIDATING_GLARE_0, se().FEATS_GENERAL, l)), c >= 8 && l >= 15) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, !0, r + cO().FEAT_SCARE_TO_DEATH_0, cO().FEAT_SCARE_TO_DEATH_0, se().FEATS_GENERAL, l), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, l, !1); break } } else { var p = e.getFreeFeatByReference_61zpoe$(r + cO().FEAT_INTIMIDATING_GLARE_0), h = e.getFreeFeatByReference_61zpoe$(r + cO().FEAT_SCARE_TO_DEATH_0); null != p && t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, !1, r + cO().FEAT_INTIMIDATING_GLARE_0, cO().FEAT_INTIMIDATING_GLARE_0, se().FEATS_GENERAL, p.level), null != h && (t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, !1, r + cO().FEAT_SCARE_TO_DEATH_0, cO().FEAT_SCARE_TO_DEATH_0, se().FEATS_GENERAL, h.level), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, h.level, !1)) } }, nO.$metadata$ = { kind: p, interfaces: [Gu] }, oO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_UNARMORED, 4) }, oO.$metadata$ = { kind: p, interfaces: [Gu] }, sO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addMaxBulkIncreaseItem_sfpo92$(i, e, "Adrenaline Rush", DW(e.getCharacterData().getCharacterLevel(), 2)) }, sO.$metadata$ = { kind: p, interfaces: [Gu] }, rO.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new nO; t.put_xwzc9p$("BARBARIAN_Raging Intimidation", e); var i = new oO; t.put_xwzc9p$("BARBARIAN_Animal Skin", i); var a = new sO; t.put_xwzc9p$("BARBARIAN_Adrenaline Rush", a) }, rO.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsBarbarian", interfaces: [] }; var lO = null; function cO() { return null === lO && new rO, lO } function pO() { OO = this } function hO() { Gu.call(this) } function dO() { Gu.call(this) } function uO() { Gu.call(this) } function _O() { Gu.call(this) } function fO() { Gu.call(this) } function yO() { Gu.call(this) } function mO() { Gu.call(this) } function $O() { Gu.call(this) } function gO() { Gu.call(this) } function vO() { Gu.call(this) } function SO() { Gu.call(this) } function CO() { Gu.call(this) } function EO() { Gu.call(this) } function AO() { Gu.call(this) } function bO() { Gu.call(this) } function IO() { Gu.call(this) } function wO() { Gu.call(this) } function LO() { Gu.call(this) } function TO() { Gu.call(this) } function kO() { Gu.call(this) } function RO() { Gu.call(this) } function PO() { Gu.call(this) } function MO() { Gu.call(this) } function NO() { Gu.call(this) } function DO() { Gu.call(this) } function xO() { Gu.call(this) } function zO() { Gu.call(this) } hO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = HX(); s.level = a, s.name = "Multifarious Muse", s.textDescription = "Choose a type of muse other than your own. You gain a 1st-level feat that requires that muse, and your muse is now also a muse of that type, allowing you to take feats with the other muse as a prerequisite."; var l = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_BARD_MUSES); SJ().setMuseSpecialEffects_9x91iy$(t, l), s.hashMapSpecialChoices.put_xwzc9p$("Select Muse", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var c = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != c && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, c), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, hO.$metadata$ = { kind: p, interfaces: [Gu] }, dO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_WILL, 6) }, dO.$metadata$ = { kind: p, interfaces: [Gu] }, uO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_WILL, 8) }, uO.$metadata$ = { kind: p, interfaces: [Gu] }, _O.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = t.managerSpells.getCasterOrArchetypeCaster_p1uyfg$(e, [hr().CLASS_BARD, o3().ARCHETYPE_CASTER_BARD]); null != o && o.addSpellsPerDayAdjustment_3dm4w3$(i, r, new O2(a, 0, 2)) }, _O.$metadata$ = { kind: p, interfaces: [Gu] }, fO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Lingering Composition", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, fO.$metadata$ = { kind: p, interfaces: [Gu] }, yO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, M0("Inspire Competence", a, 0, !0)) }, yO.$metadata$ = { kind: p, interfaces: [Gu] }, mO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Loremaster's Etude", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, mO.$metadata$ = { kind: p, interfaces: [Gu] }, $O.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, M0("Inspire Defense", a, 0, !0)) }, $O.$metadata$ = { kind: p, interfaces: [Gu] }, gO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, M0("Triple Time", a, 0, !0)) }, gO.$metadata$ = { kind: p, interfaces: [Gu] }, vO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, M0("Dirge of Doom", a, 0, !0)) }, vO.$metadata$ = { kind: p, interfaces: [Gu] }, SO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Inspire Heroics", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, SO.$metadata$ = { kind: p, interfaces: [Gu] }, CO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, M0("House of Imaginary Walls", a, 0, !0)) }, CO.$metadata$ = { kind: p, interfaces: [Gu] }, EO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, M0("Allegro", a, 0, !0)) }, EO.$metadata$ = { kind: p, interfaces: [Gu] }, AO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Soothing Ballad", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, AO.$metadata$ = { kind: p, interfaces: [Gu] }, bO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Fatal Aria", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, bO.$metadata$ = { kind: p, interfaces: [Gu] }, IO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { e.setAddLevelToUntrainedSkills_xvbo1r$(i, r, a) }, IO.$metadata$ = { kind: p, interfaces: [Gu] }, wO.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { try { if (i.hashMapSpellCasters.containsKey_11rb$(hr().CLASS_BARD)) { var c = i.hashMapSpellCasters.get_11rb$(hr().CLASS_BARD); if (null != c) for (var p = 1; p <= 10; p++)c.addSpellsPerDayAdjustment_3dm4w3$(a, n + j(p), new O2(r, p, 1)) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, wO.$metadata$ = { kind: p, interfaces: [Gu] }, LO.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { try { if (i.hashMapSpellCasters.containsKey_11rb$(hr().CLASS_BARD)) { var c = i.hashMapSpellCasters.get_11rb$(hr().CLASS_BARD); null != c && c.addSpontaneousSlotsAdjustment_3dm4w3$(a, n, new O2(r, 10, 1)) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, LO.$metadata$ = { kind: p, interfaces: [Gu] }, TO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, M0("Silver's Refrain", a, 1, !0)) }, TO.$metadata$ = { kind: p, interfaces: [Gu] }, kO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Song of the Fallen", a, 1)), re().increaseFocusPoints_sfpo92$(!0, e, r, DW(a, 1)) }, kO.$metadata$ = { kind: p, interfaces: [Gu] }, RO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Hymn of Healing", a, 1)) }, RO.$metadata$ = { kind: p, interfaces: [Gu] }, PO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Ode to Ouroboros", a, 1)) }, PO.$metadata$ = { kind: p, interfaces: [Gu] }, MO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Pied Piping", a, 1)) }, MO.$metadata$ = { kind: p, interfaces: [Gu] }, NO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, M0("Song of Marching", a, 1, !0)) }, NO.$metadata$ = { kind: p, interfaces: [Gu] }, DO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, M0("Song of Strength", a, 1, !0)) }, DO.$metadata$ = { kind: p, interfaces: [Gu] }, xO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Symphony of the Unfettered Heart", a, 1)) }, xO.$metadata$ = { kind: p, interfaces: [Gu] }, zO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i ? o(e.getProficiency_61zpoe$(pK().PROFICIENCY_MARTIAL_WEAPONS)).setProficiencyAtLevel_3m52m6$(r, a, 2) : o(e.getProficiency_61zpoe$(pK().PROFICIENCY_MARTIAL_WEAPONS)).removeProficiencyAtLevel_61zpoe$(r), m(e.getCharacterData().getClassName(), hr().CLASS_BARD)) { var s = 11; a > s && (s = a), i ? o(e.getProficiency_61zpoe$(pK().PROFICIENCY_MARTIAL_WEAPONS)).setProficiencyAtLevel_3m52m6$(r + "2", s, 4) : o(e.getProficiency_61zpoe$(pK().PROFICIENCY_MARTIAL_WEAPONS)).removeProficiencyAtLevel_61zpoe$(r + "2") } }, zO.$metadata$ = { kind: p, interfaces: [Gu] }, pO.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new hO; t.put_xwzc9p$("BARD_Multifarious Muse", e); var i = new dO; t.put_xwzc9p$("BARD_Mental Prowess", i); var a = new uO; t.put_xwzc9p$("BARD_Mental Stronghold", a); var r = new _O; t.put_xwzc9p$("BARD_Cantrip Expansion", r); var n = new fO; t.put_xwzc9p$("BARD_Lingering Composition", n); var o = new yO; t.put_xwzc9p$("BARD_Inspire Competence", o); var s = new mO; t.put_xwzc9p$("BARD_Loremaster's Etude", s); var l = new $O; t.put_xwzc9p$("BARD_Inspire Defense", l); var c = new gO; t.put_xwzc9p$("BARD_Triple Time", c); var p = new vO; t.put_xwzc9p$("BARD_Dirge of Doom", p); var h = new SO; t.put_xwzc9p$("BARD_Inspire Heroics", h); var d = new CO; t.put_xwzc9p$("BARD_House of Imaginary Walls", d); var u = new EO; t.put_xwzc9p$("BARD_Allegro", u); var _ = new AO; t.put_xwzc9p$("BARD_Soothing Ballad", _); var f = new bO; t.put_xwzc9p$("BARD_Fatal Aria", f); var y = new IO; t.put_xwzc9p$("BARD_Eclectic Skill", y); var m = new wO; t.put_xwzc9p$("BARD_Deep Lore", m); var $ = new LO; t.put_xwzc9p$("BARD_Perfect Encore", $); var g = new TO; t.put_xwzc9p$("BARD_Silver's Refrain", g); var v = new kO; t.put_xwzc9p$("BARD_Song of the Fallen", v); var S = new RO; t.put_xwzc9p$("BARD_Hymn of Healing", S); var C = new PO; t.put_xwzc9p$("BARD_Ode to Ouroboros", C); var E = new MO; t.put_xwzc9p$("BARD_Pied Piping", E); var A = new NO; t.put_xwzc9p$("BARD_Song of Marching", A); var b = new DO; t.put_xwzc9p$("BARD_Song of Strength", b); var I = new xO; t.put_xwzc9p$("BARD_Symphony of the Unfettered Heart", I); var w = new zO; t.put_xwzc9p$("BARD_Martial Performance", w) }, pO.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsBard", interfaces: [] }; var OO = null; function FO() { return null === OO && new pO, OO } function BO() { sF = this } function jO() { } function HO() { } function qO() { Gu.call(this) } function UO() { Gu.call(this) } function GO() { Gu.call(this) } function WO() { Gu.call(this) } function YO(t) { this.closure$traitName = t } function VO() { Gu.call(this) } function KO() { Gu.call(this) } function XO() { Gu.call(this) } function JO() { Gu.call(this) } function ZO() { Gu.call(this) } function QO() { Gu.call(this) } function tF() { Gu.call(this) } function eF() { Gu.call(this) } function iF() { Gu.call(this) } function aF() { Gu.call(this) } function rF() { Gu.call(this) } function nF() { Gu.call(this) } function oF() { Gu.call(this) } jO.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, an().CLASS_MONK, a, pK().PROFICIENCY_SPELLS_DIVINE, 2); var n = 9; a > n && (n = a), re().setProficiencyAtLevel_8d16k4$(i, e, an().CLASS_MONK + "1", n, pK().PROFICIENCY_SPELLS_DIVINE, 4), a > (n = 17) && (n = a), re().setProficiencyAtLevel_8d16k4$(i, e, an().CLASS_MONK + "2", n, pK().PROFICIENCY_SPELLS_DIVINE, 6) }, jO.$metadata$ = { kind: p, interfaces: [xX] }, HO.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, an().CLASS_MONK, a, pK().PROFICIENCY_SPELLS_OCCULT, 2); var n = 9; a > n && (n = a), re().setProficiencyAtLevel_8d16k4$(i, e, an().CLASS_MONK + "1", n, pK().PROFICIENCY_SPELLS_OCCULT, 4), a > (n = 17) && (n = a), re().setProficiencyAtLevel_8d16k4$(i, e, an().CLASS_MONK + "2", n, pK().PROFICIENCY_SPELLS_OCCULT, 6) }, HO.$metadata$ = { kind: p, interfaces: [xX] }, BO.prototype.addKiSpellsChoice_0 = function (t, e, i, a) { if (t) { if (!BK().hasSpecialByLevel_o7aqax$(i, "Monk Ki Spells Choice", a)) { var r = HX(); r.level = a, r.name = "Monk Ki Spells Choice", r.textDescription = "When you first gain a ki spell, decide whether your ki spells are divine spells or occult spells. You become trained in spell attacks and spell DCs of that tradition and your key spellcasting ability is Wisdom."; var n = c(), s = HX(); s.level = a, s.name = "Divine", s.textDescription = "Your Ki Spells are divine", s.specialEffect = new jO; var l = s; n.put_xwzc9p$("Divine", l), (s = HX()).level = a, s.name = "Occult", s.textDescription = "Your Ki Spells are occult", s.specialEffect = new HO; var p = s; n.put_xwzc9p$("Occult", p), r.hashMapSpecialChoices.put_xwzc9p$("Select Ki Spell Type", n), o(i.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$("Monk Ki Spells Choice", r) } } else { var h = o(i.hashMapSpecialInformation[a - 1 | 0]).get_11rb$("Monk Ki Spells Choice"); null != h && e.managerSpecials.activateSpecial_2yti0t$(e, i, !1, "Monk Ki Spells Choice", h), o(i.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$("Monk Ki Spells Choice") } }, qO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addCharacterFlag_cgow6u$(i, e, r, Wa().FLAG_KI_SPELLS, a), re().increaseFocusPoints_sfpo92$(i, e, r, zW(a, 1, !0)), re().addAwardedPower_ujte31$(i, e, r, P0("Ki Strike", a, 1)), lF().addKiSpellsChoice_0(i, t, e, a) }, qO.$metadata$ = { kind: p, interfaces: [Gu] }, UO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addCharacterFlag_cgow6u$(i, e, r, Wa().FLAG_KI_SPELLS, a), re().increaseFocusPoints_sfpo92$(i, e, r, zW(a, 1, !0)), re().addAwardedPower_ujte31$(i, e, r, P0("Ki Rush", a, 1)), lF().addKiSpellsChoice_0(i, t, e, a) }, UO.$metadata$ = { kind: p, interfaces: [Gu] }, GO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = u(); for (s = t.managerWeapons.hashMapWeapons.keys.iterator(); s.hasNext();) { var c = s.next(), p = t.managerWeapons.hashMapWeapons.get_11rb$(c); _(o(p).weaponTraits.toLowerCase(), "monk") && 2 !== p.proficiencyType && (l.add_11rb$(c), i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, "Monastic Weaponry 1", c, 1, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, "Monastic Weaponry 1", c), re().addAncestralWeaponExpertise_i1oc2n$(i, e, "Monastic Weaponry", a, b(l), "no key wor")) } }, GO.$metadata$ = { kind: p, interfaces: [Gu] }, YO.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n, s = u(); for (n = t.managerWeapons.hashMapWeapons.keys.iterator(); n.hasNext();) { var l = n.next(), c = t.managerWeapons.hashMapWeapons.get_11rb$(l); if (_(o(o(c).weaponTraits).toLowerCase(), this.closure$traitName.toLowerCase())) { var p = t.managerWeapons.getWeaponProficiencyType_zici4a$(e, l, a); 0 !== p && 1 !== p || (s.add_11rb$(l), i ? t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(e, "Monk Ancestral Weaponry 1", l, 1, 2) : t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(e, "Monk Ancestral Weaponry 1", l), re().addAncestralWeaponExpertise_i1oc2n$(i, e, "Monk Ancestral Weaponry", a, b(s), "no key wor")) } } }, YO.$metadata$ = { kind: p, interfaces: [xX] }, WO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (i) { if (!BK().hasSpecialByLevel_o7aqax$(e, "Ancestral Weapon Trait", a)) { var p = HX(); p.level = a, p.name = "Ancestral Weapon Trait", p.textDescription = "Choose an ancestry for which you have access to all weapons with that trait. For you,\n melee weapons with that ancestry trait and either the agile or finesse trait gain the monk trait."; var h = c(), d = u(); for (s = t.managerAncestry.hashMapAncestries.keys.iterator(); s.hasNext();) { var _ = s.next(); d.add_11rb$(_) } for (d.add_11rb$("Geniekin"), l = d.iterator(); l.hasNext();) { var f = l.next(), y = HX(); y.level = a, y.name = f, y.textDescription = p.textDescription, y.specialEffect = new YO(f), h.put_xwzc9p$(f, y) } p.hashMapSpecialChoices.put_xwzc9p$("Select Ancestry Trait", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$("Ancestral Weapon Trait", p) } } else { var m = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$("Ancestral Weapon Trait"); null != m && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, "Ancestral Weapon Trait", m), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$("Ancestral Weapon Trait") } }, WO.$metadata$ = { kind: p, interfaces: [Gu] }, VO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Wholeness of Body", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, VO.$metadata$ = { kind: p, interfaces: [Gu] }, KO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Abundant Step", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, KO.$metadata$ = { kind: p, interfaces: [Gu] }, XO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Ki Blast", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, XO.$metadata$ = { kind: p, interfaces: [Gu] }, JO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Wild Winds Stance", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, JO.$metadata$ = { kind: p, interfaces: [Gu] }, ZO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Wind Jump", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, ZO.$metadata$ = { kind: p, interfaces: [Gu] }, QO.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Quivering Palm", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, QO.$metadata$ = { kind: p, interfaces: [Gu] }, tF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Empty Body", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, tF.$metadata$ = { kind: p, interfaces: [Gu] }, eF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Clinging Shadows Stance", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, eF.$metadata$ = { kind: p, interfaces: [Gu] }, iF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Ki Form", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, iF.$metadata$ = { kind: p, interfaces: [Gu] }, aF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Medusa's Wrath", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, aF.$metadata$ = { kind: p, interfaces: [Gu] }, rF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Shadow's Web", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, rF.$metadata$ = { kind: p, interfaces: [Gu] }, nF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o, s, l, c, p = u(); for (p.add_11rb$("Composite Shortbow"), p.add_11rb$("Shortbow"), p.add_11rb$("Composite Longbow"), p.add_11rb$("Longbow"), o = t.managerWeapons.hashMapWeapons.values.iterator(); o.hasNext();) { var h = o.next(); h.belongsToGroup_61zpoe$("Bow") && h.hasTrait_61zpoe$("Monk") && p.add_11rb$(h.name) } for (s = p.iterator(); s.hasNext();) { var d = s.next(); re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r + d, a, d, 2) } if (m(e.getCharacterData().getClassName(), an().CLASS_MONK)) { var _ = 5; for (a > _ && (_ = a), l = p.iterator(); l.hasNext();) { var f = l.next(); re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r + f + "2", _, f, 4) } for (a > (_ = 13) && (_ = a), c = p.iterator(); c.hasNext();) { var y = c.next(); re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, r + y + "3", _, y, 6) } } }, nF.$metadata$ = { kind: p, interfaces: [Gu] }, oF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Wronged Monk's Wrath", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, oF.$metadata$ = { kind: p, interfaces: [Gu] }, BO.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new qO; t.put_xwzc9p$("MONK_Ki Strike", e); var i = new UO; t.put_xwzc9p$("MONK_Ki Rush", i); var a = new GO; t.put_xwzc9p$("MONK_Monastic Weaponry", a); var r = new WO; t.put_xwzc9p$("MONK_Ancestral Weaponry", r); var n = new VO; t.put_xwzc9p$("MONK_Wholeness of Body", n); var o = new KO; t.put_xwzc9p$("MONK_Abundant Step", o); var s = new XO; t.put_xwzc9p$("MONK_Ki Blast", s); var l = new JO; t.put_xwzc9p$("MONK_Wild Winds Initiate", l); var c = new ZO; t.put_xwzc9p$("MONK_Wind Jump", c); var p = new QO; t.put_xwzc9p$("MONK_Quivering Palm", p); var h = new tF; t.put_xwzc9p$("MONK_Empty Body", h); var d = new eF; t.put_xwzc9p$("MONK_Clinging Shadows Initiate", d); var u = new iF; t.put_xwzc9p$("MONK_Ki Form", u); var _ = new aF; t.put_xwzc9p$("MONK_Medusa's Wrath", _); var f = new rF; t.put_xwzc9p$("MONK_Shadow's Web", f); var y = new nF; t.put_xwzc9p$("MONK_Monastic Archer Stance", y); var m = new oF; t.put_xwzc9p$("MONK_Wronged Monk's Wrath", m) }, BO.$metadata$ = { kind: f, simpleName: "FeatEffecsMethodsMonk", interfaces: [] }; var sF = null; function lF() { return null === sF && new BO, sF } function cF() { yF = this } function pF() { Gu.call(this) } function hF() { Gu.call(this) } function dF() { Gu.call(this) } function uF() { Gu.call(this) } function _F() { Gu.call(this) } function fF() { Gu.call(this) } pF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, pF.$metadata$ = { kind: p, interfaces: [Gu] }, hF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { }, hF.$metadata$ = { kind: p, interfaces: [Gu] }, dF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { }, dF.$metadata$ = { kind: p, interfaces: [Gu] }, uF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { }, uF.$metadata$ = { kind: p, interfaces: [Gu] }, _F.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, "Fire in the Hole") }, _F.$metadata$ = { kind: p, interfaces: [Gu] }, fF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_ALCHEMIST_RESEARCH_FIELDS); for (s = l.values.iterator(); s.hasNext();) { var c = s.next(); c.specialEffect = null, c.textDescription = "Choose a research field. Add one item from the list of options available to that field from perpetual infusions, or two items if you choose your own field." } var p = qX("Perpeptual Breadth Field", a); p.hashMapSpecialChoices.put_xwzc9p$("Select Perpetual Breath Field", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, p) } else { var h = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != h && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, h), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, fF.$metadata$ = { kind: p, interfaces: [Gu] }, cF.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new pF; t.put_xwzc9p$("ALCHEMIST_Alchemical Familiar", e); var i = new hF; t.put_xwzc9p$("ALCHEMIST_Tricky Tinker", i); var a = new dF; t.put_xwzc9p$("ALCHEMIST_Tricky Tinker", a); var r = new uF; t.put_xwzc9p$("ALCHEMIST_Awakened Intellect", r); var n = new _F; t.put_xwzc9p$("ALCHEMIST_Demolition Charge", n); var o = new fF; t.put_xwzc9p$("ALCHEMIST_Perpetual Breadth", o) }, cF.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsAlchemist", interfaces: [] }; var yF = null; function mF() { return null === yF && new cF, yF } function $F() { BF = this } function gF() { Gu.call(this) } function vF(t) { this.closure$featRef = t } function SF() { Gu.call(this) } function CF(t) { this.closure$featRef = t } function EF() { Gu.call(this) } function AF() { Gu.call(this) } function bF() { Gu.call(this) } function IF() { Gu.call(this) } function wF() { Gu.call(this) } function LF() { Gu.call(this) } function TF() { Gu.call(this) } function kF() { Gu.call(this) } function RF() { Gu.call(this) } function PF() { Gu.call(this) } function MF() { Gu.call(this) } function NF() { Gu.call(this) } function DF() { Gu.call(this) } function xF() { Gu.call(this) } function zF() { Gu.call(this) } function OF() { Gu.call(this) } function FF() { Gu.call(this) } vF.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var s, l = t.managerSpecials.getDomainPowers().hashMapInitialDomainPowers, c = o(n).name, p = (e.isType(s = l, y) ? s : d()).get_11rb$(c); re().addAwardedPower_ujte31$(a, i, this.closure$featRef, P0(o(p), r, 1)) }, vF.$metadata$ = { kind: p, interfaces: [xX] }, gF.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, l) { var c; if (a) { var p = HX(); p.level = r, p.name = "Deity's Domain", p.textDescription = "You embody an aspect of your deity. Choose one of your deity's domains from those listed on page 441. You gain the domain's initial domain spell as a devotion spell."; var u = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_DOMAINS); for (p.hashMapSpecialChoices.put_xwzc9p$("Select Domain", u), c = u.values.iterator(); c.hasNext();) { var _ = c.next(); try { var f, m, $ = t.managerSpecials.getDomainPowers().hashMapInitialDomainPowers, g = _.name, v = (e.isType(f = $, y) ? f : d()).get_11rb$(g), S = t.managerSpells.hashMapSpells, C = (e.isType(m = S, y) ? m : d()).get_11rb$(v); _.textDescription = "Initial Domain Power: " + o(C).name + "<br>", _.textDescription = _.textDescription + C.description } catch (t) { if (!e.isType(t, h)) throw t; s(t) } _.specialEffect = new vF(n) } o(i.hashMapSpecialInformation[r - 1 | 0]).put_xwzc9p$(n, p) } else { var E = o(i.hashMapSpecialInformation[r - 1 | 0]).get_11rb$(n); null != E && t.managerSpecials.activateSpecial_2yti0t$(t, i, !1, n, E), o(i.hashMapSpecialInformation[r - 1 | 0]).remove_11rb$(n) } }, gF.$metadata$ = { kind: p, interfaces: [Gu] }, CF.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { try { var l, c = t.managerSpecials.getDomainPowers().hashMapAdvancedDomainPowers, p = o(n).name, u = (e.isType(l = c, y) ? l : d()).get_11rb$(p); re().addAwardedPower_ujte31$(a, i, this.closure$featRef, P0(o(u), r, 1)), re().increaseFocusPoints_sfpo92$(a, i, this.closure$featRef, DW(r, 1)) } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, CF.$metadata$ = { kind: p, interfaces: [xX] }, SF.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, l) { var c; if (a) { var p = HX(); p.level = r, p.name = "Advanced Domain", p.textDescription = "You gain an advanced domain power from one of your domains."; var u = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_DOMAINS); for (p.hashMapSpecialChoices.put_xwzc9p$("Select Domain", u), c = u.values.iterator(); c.hasNext();) { var _ = c.next(); try { var f, m, $ = t.managerSpecials.getDomainPowers().hashMapAdvancedDomainPowers, g = _.name, v = (e.isType(f = $, y) ? f : d()).get_11rb$(g), S = t.managerSpells.hashMapSpells, C = (e.isType(m = S, y) ? m : d()).get_11rb$(v); null == C && k(se().TAG + " NULL ADVANCED POWER: " + v), _.textDescription = "Advanced Domain Power: " + o(C).name + "<br>" + C.description } catch (t) { if (!e.isType(t, h)) throw t; s(t) } _.specialEffect = new CF(n) } o(i.hashMapSpecialInformation[r - 1 | 0]).put_xwzc9p$(n, p) } else { var E = o(i.hashMapSpecialInformation[r - 1 | 0]).get_11rb$(n); null != E && t.managerSpecials.activateSpecial_2yti0t$(t, i, !1, n, E), o(i.hashMapSpecialInformation[r - 1 | 0]).remove_11rb$(n) } }, SF.$metadata$ = { kind: p, interfaces: [Gu] }, EF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().MEDICINE, 2) }, EF.$metadata$ = { kind: p, interfaces: [Gu] }, AF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = HX(); s.level = a, s.name = "Second Ally", s.textDescription = "Choose a second type of righteous ally and gain its benefits."; var l = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_CHAMPION_DIVINE_ALLY); s.hashMapSpecialChoices.put_xwzc9p$("Select Righteous Ally", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var c = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != c && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, c), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, AF.$metadata$ = { kind: p, interfaces: [Gu] }, bF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().PROFICIENCY_WILL, 6) }, bF.$metadata$ = { kind: p, interfaces: [Gu] }, IF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Litany against Wrath", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, IF.$metadata$ = { kind: p, interfaces: [Gu] }, wF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Heal", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, wF.$metadata$ = { kind: p, interfaces: [Gu] }, LF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Litany against Sloth", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, LF.$metadata$ = { kind: p, interfaces: [Gu] }, TF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Champion's Sacrifice", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, TF.$metadata$ = { kind: p, interfaces: [Gu] }, kF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Litany of Righteousness", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, kF.$metadata$ = { kind: p, interfaces: [Gu] }, RF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, RF.$metadata$ = { kind: p, interfaces: [Gu] }, PF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Light of Revelation", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, PF.$metadata$ = { kind: p, interfaces: [Gu] }, MF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Sun Blade", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, MF.$metadata$ = { kind: p, interfaces: [Gu] }, NF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Litany of Depravity", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, NF.$metadata$ = { kind: p, interfaces: [Gu] }, DF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Litany of Self-Interest", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, DF.$metadata$ = { kind: p, interfaces: [Gu] }, xF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionMature_wifd5v$(i, t, e, r, DW(a, 0)) }, xF.$metadata$ = { kind: p, interfaces: [Gu] }, zF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionIncredible_wifd5v$(i, t, e, r, DW(a, 0)) }, zF.$metadata$ = { kind: p, interfaces: [Gu] }, OF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionSpecializationChoice_wifd5v$(i, t, e, r, DW(a, 0)) }, OF.$metadata$ = { kind: p, interfaces: [Gu] }, FF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION) }, FF.$metadata$ = { kind: p, interfaces: [Gu] }, $F.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new gF; t.put_xwzc9p$("CHAMPION_Deity's Domain", e); var i = new SF; t.put_xwzc9p$("CHAMPION_Advanced Deity's Domain", i); var a = new EF; t.put_xwzc9p$("CHAMPION_Hospice Knight", a); var r = new AF; t.put_xwzc9p$("CHAMPION_Second Ally", r); var n = new bF; t.put_xwzc9p$("CHAMPION_Divine Will", n); var o = new IF; t.put_xwzc9p$("CHAMPION_Litany Against Wrath", o); var s = new wF; t.put_xwzc9p$("CHAMPION_Channel Life", s); var l = new LF; t.put_xwzc9p$("CHAMPION_Litany Against Sloth", l); var c = new TF; t.put_xwzc9p$("CHAMPION_Champion's Sacrifice", c); var p = new kF; t.put_xwzc9p$("CHAMPION_Litany of Righteousness", p); var h = new RF; t.put_xwzc9p$("CHAMPION_Celestial Form", h); var d = new PF; t.put_xwzc9p$("CHAMPION_Light of Revelation", d); var u = new MF; t.put_xwzc9p$("CHAMPION_Sun Blade", u); var _ = new NF; t.put_xwzc9p$("CHAMPION_Litany of Depravity", _); var f = new DF; t.put_xwzc9p$("CHAMPION_Litany of Self-Interest", f); var y = new xF; t.put_xwzc9p$("CHAMPION_Loyal Warhouse", y); var m = new zF; t.put_xwzc9p$("CHAMPION_Imposing Destrier", m); var $ = new OF; t.put_xwzc9p$("CHAMPION_Auspicious Mount", $); var g = new FF; t.put_xwzc9p$("CHAMPION_Fiendish Form", g) }, $F.$metadata$ = { kind: f, simpleName: "FeatEffectMethodsChampion", interfaces: [] }; var BF = null; function jF() { return null === BF && new $F, BF } function HF() { ZF = this } function qF() { Gu.call(this) } function UF() { Gu.call(this) } function GF() { Gu.call(this) } function WF() { Gu.call(this) } function YF() { Gu.call(this) } function VF() { Gu.call(this) } function KF(t) { this.closure$specialInformationRef = t } function XF(t) { this.closure$specialInformationRef = t } function JF(t) { this.closure$reference = t } qF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = QF().getDomainSelectionSpecialInformation_4i9pvb$(t, a, r, null); s.name = "Domain Initiate", s.textDescription = "Select one domaina subject of particular interest to you within your religionfrom your deitys list.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, qF.$metadata$ = { kind: p, interfaces: [Gu] }, UF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = QF().getDomainSelectionSpecialInformation_4i9pvb$(t, a, r, null); s.name = "Expanded Domain Initiate", s.textDescription = "Select one domain from your deitys alternate domains. You gain access to that domain and an initial domain spell for that domain.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, UF.$metadata$ = { kind: p, interfaces: [Gu] }, GF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = QF().getAdvancedDomainSelectionSpecialInformation_a9t26q$(t, a, r, null); o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, GF.$metadata$ = { kind: p, interfaces: [Gu] }, WF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = t.managerSpells.getCasterOrArchetypeCaster_p1uyfg$(e, [Sr().CLASS_CLERIC, o3().ARCHETYPE_CASTER_CLERIC]); null != o && o.addSpellsPerDayAdjustment_3dm4w3$(i, r, new O2(a, 0, 2)) }, WF.$metadata$ = { kind: p, interfaces: [Gu] }, YF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapSpellCasters.get_11rb$(Sr().CLASS_CLERIC); null != o && o.addSpellsPerDayAdjustment_3dm4w3$(i, r, new O2(a, 10, 1)) }, YF.$metadata$ = { kind: p, interfaces: [Gu] }, VF.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = e.getCharacterData().getSpecialSelection_puj7f4$(FJ().CLERIC_DOCTRINE_SPECIAL_REF, FJ().CLERIC_DOCTRINE_SPECIAL_CHOICE); if (null != s) if (m(s, "Warpriest")) if (i) { var l = QF().getFavoredWeaponChoiceSpecialInformation_0(t, a, r); l.name = "Warpriest Syncretism", l.textDescription = " If you are a warpriest, you gain the favored weapon of that deity as a second favored weapon, and it gains the benefits of feats and abilities you have that affect your deitys favored weapon, such as Deadly Simplicity.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var c = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != c && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, c), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } else if (m(s, "Cloistered Cleric")) if (i) { var p = QF().getDomainSelectionSpecialInformation_4i9pvb$(t, a, r, null); p.name = "Expanded Domain Initiate", p.textDescription = "Select one domain from your deitys alternate domains. You gain access to that domain and an initial domain spell for that domain.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, p) } else { var h = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != h && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, h), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, VF.$metadata$ = { kind: p, interfaces: [Gu] }, HF.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new qF; t.put_xwzc9p$("CLERIC_Domain Initiate", e); var i = new UF; t.put_xwzc9p$("CLERIC_Expanded Domain Initiate", i); var a = new GF; t.put_xwzc9p$("CLERIC_Advanced Domain", a); var r = new WF; t.put_xwzc9p$("CLERIC_Cantrip Expansion", r); var n = new YF; t.put_xwzc9p$("CLERIC_Maker of Miracles", n); var o = new VF; t.put_xwzc9p$("CLERIC_Syncretism", o) }, KF.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var s, l = t.managerSpecials.getDomainPowers().hashMapInitialDomainPowers, c = o(n).name, p = (e.isType(s = l, y) ? s : d()).get_11rb$(c); re().addAwardedPower_ujte31$(a, i, this.closure$specialInformationRef + "1", P0(o(p), r, 1)) }, KF.$metadata$ = { kind: p, interfaces: [xX] }, HF.prototype.getDomainSelectionSpecialInformation_4i9pvb$ = function (t, i, a, r) { var n, l, c, p = HX(); p.level = i; var _ = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_DOMAINS); for (p.hashMapSpecialChoices.put_xwzc9p$("Select Domain", _), n = _.values.iterator(); n.hasNext();) { var f, m = n.next(), $ = t.managerSpecials.getDomainPowers().hashMapInitialDomainPowers, g = m.name, v = (e.isType(f = $, y) ? f : d()).get_11rb$(g); try { var S, C = t.managerSpells.hashMapSpells, E = v, A = (e.isType(S = C, y) ? S : d()).get_11rb$(E); m.textDescription = m.textDescription + "<br><br><b>Initial Domain Power</b>: " + o(A).name + "<br>", m.textDescription = m.textDescription + (A.description + "<br><br>"); var b, I = t.managerSpecials.getDomainPowers().hashMapAdvancedDomainPowers, w = m.name; v = (e.isType(b = I, y) ? b : d()).get_11rb$(w); var L, T = t.managerSpells.hashMapSpells, k = v; A = (e.isType(L = T, y) ? L : d()).get_11rb$(k), m.textDescription = m.textDescription + "<b>Advanced Domain Power</b>: " + o(A).name + "<br>", m.textDescription = m.textDescription + A.description, m.level = i } catch (t) { if (!e.isType(t, h)) throw t; s(t) } m.specialEffect = new KF(a) } if (null != r) { var R = u(); for (l = _.keys.iterator(); l.hasNext();) { var P = l.next(); X(r, P) || R.add_11rb$(P) } for (c = R.iterator(); c.hasNext();) { var M = c.next(); _.remove_11rb$(M) } } return p }, XF.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var s, l = t.managerSpecials.getDomainPowers().hashMapAdvancedDomainPowers, c = o(n).name, p = (e.isType(s = l, y) ? s : d()).get_11rb$(c); re().addAwardedPower_ujte31$(a, i, this.closure$specialInformationRef, P0(o(p), r, 1)), re().increaseFocusPoints_sfpo92$(a, i, this.closure$specialInformationRef, DW(r, 1)) }, XF.$metadata$ = { kind: p, interfaces: [xX] }, HF.prototype.getAdvancedDomainSelectionSpecialInformation_a9t26q$ = function (t, i, a, r) { var n, l, c, p = HX(); p.level = i, p.name = "Advanced Domain", p.textDescription = "Your studies or prayers have unlocked deeper secrets of your deitys domain. You gain an advanced domain spell from one of your domains (as listed in Table 82: Domains on page 441). Increase the number of Focus Points in your focus pool by 1.<"; var _ = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_DOMAINS); for (p.hashMapSpecialChoices.put_xwzc9p$("Select Domain", _), n = _.values.iterator(); n.hasNext();) { var f = n.next(); try { var m, $, g = t.managerSpecials.getDomainPowers().hashMapAdvancedDomainPowers, v = f.name, S = (e.isType(m = g, y) ? m : d()).get_11rb$(v), C = t.managerSpells.hashMapSpells, E = (e.isType($ = C, y) ? $ : d()).get_11rb$(S); f.textDescription = "Advanced Domain Power: " + o(E).name + "<br>", f.textDescription = f.textDescription + E.description, f.level = i } catch (t) { if (!e.isType(t, h)) throw t; s(t) } f.specialEffect = new XF(a) } if (null != r) { var A = u(); for (l = _.keys.iterator(); l.hasNext();) { var b = l.next(); X(r, b) || A.add_11rb$(b) } for (c = A.iterator(); c.hasNext();) { var I = c.next(); _.remove_11rb$(I) } } return p }, JF.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { re().setIndividualWeaponProficiency_ivgu3l$(a, t, i, this.closure$reference, r, o(n).name, 2); var c = 7; r > c && (c = r), re().setIndividualWeaponProficiency_ivgu3l$(a, t, i, this.closure$reference + "advanced", c, n.name, 4); try { 0 === t.managerWeapons.getWeaponProficiencyType_zici4a$(i, n.name, r) && t.managerFeats.activateAndAddFreeFeat_ubuv6q$(i, a, this.closure$reference, "CLERIC_Deadly Simplicity", se().FEATS_CLERIC, r) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, JF.$metadata$ = { kind: p, interfaces: [xX] }, HF.prototype.getFavoredWeaponChoiceSpecialInformation_0 = function (t, e, i) { var a, r = c(), n = HX(); for (n.level = e, n.hashMapSpecialChoices.put_xwzc9p$("Select Deity's Favored Weapon", r), a = t.managerWeapons.hashMapWeapons.values.iterator(); a.hasNext();) { var s = a.next(); if (null == s.identity) { var l = qX(s.name, 1); l.url = s.url, l.specialEffect = new JF(i); var p = o(s.uniqueIdentiier); r.put_xwzc9p$(p, l) } } return n }, HF.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsCleric", interfaces: [] }; var ZF = null; function QF() { return null === ZF && new HF, ZF } function tB() { xB = this, this.orderspells_0 = nt(["Stone Lance", "Combustion", "Powerful Inhalation", "Pulverizing Cascade"]), this.ORDER_EXPLORER_WARNING_0 = "<b>Order Explorer</b>  You gain a 1st-level feat that lists that order as a prerequisite, and you are now a member of that order for the purpose of meeting feat prerequisites. If you commit acts anathema to your new order, you lose all feats and abilities requiring that order but retain your other druid feats and abilities. <b>You don't gain any of the other benefits of the order you chose.</b><br><br>" } function eB() { Gu.call(this) } function iB() { Gu.call(this) } function aB() { Gu.call(this) } function rB() { Gu.call(this) } function nB() { Gu.call(this) } function oB() { Gu.call(this) } function sB() { Gu.call(this) } function lB() { Gu.call(this) } function cB() { Gu.call(this) } function pB() { Gu.call(this) } function hB() { Gu.call(this) } function dB() { Gu.call(this) } function uB(t) { this.closure$featRef = t } function _B(t) { this.closure$featRef = t } function fB(t) { this.closure$featRef = t } function yB(t) { this.closure$featRef = t } function mB(t) { this.closure$featRef = t } function $B(t) { this.closure$featRef = t } function gB(t) { this.closure$featRef = t } function vB() { Gu.call(this) } function SB(t, e) { this.closure$featRef = t, this.closure$choiceSpecial = e } function CB() { Gu.call(this) } function EB() { Gu.call(this) } function AB() { Gu.call(this) } function bB() { Gu.call(this) } function IB() { Gu.call(this) } function wB() { Gu.call(this) } function LB() { Gu.call(this) } function TB() { Gu.call(this) } function kB() { Gu.call(this) } function RB() { Gu.call(this) } function PB() { Gu.call(this) } function MB() { Gu.call(this) } function NB() { Gu.call(this) } function DB(t, e) { this.closure$featRef = t, this.closure$orderSpell = e } eB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanion_dlg1vj$(i, t, e, r, a) }, eB.$metadata$ = { kind: p, interfaces: [Gu] }, iB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, iB.$metadata$ = { kind: p, interfaces: [Gu] }, aB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r + "1", P0("Wild Shape", a, 1)), re().addAwardedPower_ujte31$(i, e, r + "2", P0("Pest Form", a, 1)); var o = 3; a > o && (o = a), re().addAwardedPower_ujte31$(i, e, r + "3", P0("Animal Form", o, 1)) }, aB.$metadata$ = { kind: p, interfaces: [Gu] }, rB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Insect Form", a, 1)) }, rB.$metadata$ = { kind: p, interfaces: [Gu] }, nB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Dinosaur Form", a, 1)) }, nB.$metadata$ = { kind: p, interfaces: [Gu] }, oB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Elemental Form", a, 1)) }, oB.$metadata$ = { kind: p, interfaces: [Gu] }, sB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Plant Form", a, 1)) }, sB.$metadata$ = { kind: p, interfaces: [Gu] }, lB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Humanoid Form", a, 1)) }, lB.$metadata$ = { kind: p, interfaces: [Gu] }, cB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Dragon Form", a, 1)) }, cB.$metadata$ = { kind: p, interfaces: [Gu] }, pB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Monstrosity Form", a, 1)) }, pB.$metadata$ = { kind: p, interfaces: [Gu] }, hB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Aerial Form", a, 1)) }, hB.$metadata$ = { kind: p, interfaces: [Gu] }, uB.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, this.closure$featRef, "DRUID_Animal Companion", se().FEATS_DRUID, a) }, uB.$metadata$ = { kind: p, interfaces: [xX] }, _B.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, this.closure$featRef, "DRUID_Leshy Familiar", se().FEATS_DRUID, a) }, _B.$metadata$ = { kind: p, interfaces: [xX] }, fB.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, this.closure$featRef, "DRUID_Storm Born", se().FEATS_DRUID, a) }, fB.$metadata$ = { kind: p, interfaces: [xX] }, yB.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, this.closure$featRef, "DRUID_Wild Shape", se().FEATS_DRUID, a) }, yB.$metadata$ = { kind: p, interfaces: [xX] }, mB.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, this.closure$featRef, "DRUID_Fire Lung", se().FEATS_DRUID, a) }, mB.$metadata$ = { kind: p, interfaces: [xX] }, $B.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, this.closure$featRef, "DRUID_Steadying Stone", se().FEATS_DRUID, a) }, $B.$metadata$ = { kind: p, interfaces: [xX] }, gB.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, this.closure$featRef, "DRUID_Shore Step", se().FEATS_DRUID, a) }, gB.$metadata$ = { kind: p, interfaces: [xX] }, dB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = HX(); s.name = "Order Explorer", s.src = "CRB", s.level = a, s.textDescription = "Select Order"; var l = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_DRUID_ORDERS); s.hashMapSpecialChoices.put_xwzc9p$("Select Order", l); var c = l.get_11rb$("Animal Order"); o(c).textDescription = zB().ORDER_EXPLORER_WARNING_0 + c.textDescription, c.specialEffect = new uB(r), c = l.get_11rb$("Leaf Order"), o(c).textDescription = zB().ORDER_EXPLORER_WARNING_0 + c.textDescription, c.specialEffect = new _B(r), c = l.get_11rb$("Storm Order"), o(c).textDescription = zB().ORDER_EXPLORER_WARNING_0 + c.textDescription, c.specialEffect = new fB(r), c = l.get_11rb$("Wild Order"), o(c).textDescription = zB().ORDER_EXPLORER_WARNING_0 + c.textDescription, c.specialEffect = new yB(r), c = l.get_11rb$("Flame Order"), o(c).textDescription = zB().ORDER_EXPLORER_WARNING_0 + c.textDescription, c.specialEffect = new mB(r), c = l.get_11rb$("Stone Order"), o(c).textDescription = zB().ORDER_EXPLORER_WARNING_0 + c.textDescription, c.specialEffect = new $B(r), c = l.get_11rb$("Wave Order"), o(c).textDescription = zB().ORDER_EXPLORER_WARNING_0 + c.textDescription, c.specialEffect = new gB(r), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var p = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != p && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, p), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, dB.$metadata$ = { kind: p, interfaces: [Gu] }, SB.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { re().increaseFocusPoints_sfpo92$(a, i, this.closure$featRef, DW(r, 1)); var o, s = XJ().ORDER_SPELLS, l = this.closure$choiceSpecial.name, c = (e.isType(o = s, y) ? o : d()).get_11rb$(l); null == c && (c = "Tempest Surge"), re().addAwardedPower_ujte31$(a, i, this.closure$featRef, P0(c, r, 1)) }, SB.$metadata$ = { kind: p, interfaces: [xX] }, vB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.name = "Order Magic", l.src = "CRB", l.level = a, l.textDescription = "Select an order you have previously selected with Order Explorer"; var c = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_DRUID_ORDERS); for (l.hashMapSpecialChoices.put_xwzc9p$("Select Order", c), s = c.values.iterator(); s.hasNext();) { var p = s.next(); p.specialEffect = new SB(r, p) } o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var h = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != h && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, h), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, vB.$metadata$ = { kind: p, interfaces: [Gu] }, CB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Stormwind Flight", a, 1)), re().increaseFocusPoints_sfpo92$(!0, e, r, DW(a, 1)) }, CB.$metadata$ = { kind: p, interfaces: [Gu] }, EB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Primal Summons", a, 1)), re().increaseFocusPoints_sfpo92$(!0, e, r, DW(a, 1)) }, EB.$metadata$ = { kind: p, interfaces: [Gu] }, AB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Impaling Briars", a, 1)), re().increaseFocusPoints_sfpo92$(!0, e, r, DW(a, 1)) }, AB.$metadata$ = { kind: p, interfaces: [Gu] }, bB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Storm Lord", a, 1)), re().increaseFocusPoints_sfpo92$(!0, e, r, DW(a, 1)) }, bB.$metadata$ = { kind: p, interfaces: [Gu] }, IB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapSpellCasters.get_11rb$(Ir().CLASS_DRUID); null != o && o.addSpellsPerDayAdjustment_3dm4w3$(i, r, new O2(a, 10, 1)) }, IB.$metadata$ = { kind: p, interfaces: [Gu] }, wB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionMature_wifd5v$(i, t, e, r, DW(a, 0)) }, wB.$metadata$ = { kind: p, interfaces: [Gu] }, LB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionIncredible_wifd5v$(i, t, e, r, DW(a, 0)) }, LB.$metadata$ = { kind: p, interfaces: [Gu] }, TB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionSpecializationChoice_wifd5v$(i, t, e, r, DW(a, 0)) }, TB.$metadata$ = { kind: p, interfaces: [Gu] }, kB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "1", DW(a, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "2", DW(a, 1)) }, kB.$metadata$ = { kind: p, interfaces: [Gu] }, RB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r, DW(a, 1)) }, RB.$metadata$ = { kind: p, interfaces: [Gu] }, PB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Apex Companion", a, 1)), re().increaseFocusPoints_sfpo92$(!0, e, r, DW(a, 1)) }, PB.$metadata$ = { kind: p, interfaces: [Gu] }, MB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = e.hashMapResistances, s = RX(a, TX().RESISTANCE_FIRE, !0); o.put_xwzc9p$(r, s) } else e.hashMapResistances.remove_11rb$(r) }, MB.$metadata$ = { kind: p, interfaces: [Gu] }, DB.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$featRef, P0(this.closure$orderSpell.v, a, 1)), re().increaseFocusPoints_sfpo92$(!0, e, this.closure$featRef, DW(a, 1)) }, DB.$metadata$ = { kind: p, interfaces: [xX] }, NB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l = XJ().getDruidOrderIncludingArchetyope_fhac18$(t, e); if (null != l) if (_(l, "Stone") || _(l, "Storm") || _(l, "Wave")) { var p = "Combustion"; switch (l) { case "Stone Order": p = "Stone Lance"; break; case "Storm Order": p = "Powerful Inhalation"; break; case "Wave Order": p = "Pulverizing Cascade" }re().addAwardedPower_ujte31$(i, e, r, P0(p, a, 1)), re().increaseFocusPoints_sfpo92$(!0, e, r, DW(a, 1)) } else if (i) { var h = qX("Advanced Elemental Spell", a), d = c(); s = zB().orderspells_0.size; for (var u = 0; u < s; u++) { var f = { v: zB().orderspells_0.get_za3lpa$(u) }, y = t.managerSpells.hashMapSpells.get_11rb$(f.v), m = qX(f.v, a); m.textDescription = o(y).textOnlyDescription, d.put_xwzc9p$(f.v, m), m.specialEffect = new DB(r, f) } h.hashMapSpecialChoices.put_xwzc9p$("Select Advanced Elemental Spell", d), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, h) } else { var $ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != $ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, $), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, NB.$metadata$ = { kind: p, interfaces: [Gu] }, tB.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new eB; t.put_xwzc9p$("DRUID_Animal Companion", e); var i = new iB; t.put_xwzc9p$("DRUID_Leshy Familiar", i); var a = new aB; t.put_xwzc9p$("DRUID_Wild Shape", a); var r = new rB; t.put_xwzc9p$("DRUID_Insect Shape", r); var n = new nB; t.put_xwzc9p$("DRUID_Ferocious Shape", n); var o = new oB; t.put_xwzc9p$("DRUID_Elemental Shape", o); var s = new sB; t.put_xwzc9p$("DRUID_Plant Shape", s); var l = new lB; t.put_xwzc9p$("DRUID_Thousand Faces", l); var c = new cB; t.put_xwzc9p$("DRUID_Dragon Shape", c); var p = new pB; t.put_xwzc9p$("DRUID_Monstrosity Shape", p); var h = new hB; t.put_xwzc9p$("DRUID_Soaring Shape", h); var d = new dB; t.put_xwzc9p$("DRUID_Order Explorer", d); var u = new vB; t.put_xwzc9p$("DRUID_Order Magic", u); var _ = new CB; t.put_xwzc9p$("DRUID_Wind Caller", _); var f = new EB; t.put_xwzc9p$("DRUID_Primal Summons", f); var y = new AB; t.put_xwzc9p$("DRUID_Impaling Briars", y); var m = new bB; t.put_xwzc9p$("DRUID_Invoke Disaster", m); var $ = new IB; t.put_xwzc9p$("DRUID_Hierophant's Power", $); var g = new wB; t.put_xwzc9p$("DRUID_Mature Animal Companion", g); var v = new LB; t.put_xwzc9p$("DRUID_Incredible Companion", v); var S = new TB; t.put_xwzc9p$("DRUID_Specialized Companion (Druid)", S); var C = new kB; t.put_xwzc9p$("DRUID_Enhanced Familiar", C); var E = new RB; t.put_xwzc9p$("DRUID_Leshy Familiar Secrets", E); var A = new PB; t.put_xwzc9p$("DRUID_Apex Companion", A); var b = new MB; t.put_xwzc9p$("DRUID_Fire Resistance", b); var I = new NB; t.put_xwzc9p$("DRUID_Advanced Elemental Spell", I) }, tB.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsDruid", interfaces: [] }; var xB = null; function zB() { return null === xB && new tB, xB } function OB() { jB = this } function FB() { Gu.call(this) } function BB(t) { this.closure$featRef = t } BB.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n; if (B(t.managerWeapons.listWeaponGroups, o(r).name)) for (n = t.managerWeapons.getAllWeaponsInGroup_61zpoe$(o(r.name)).iterator(); n.hasNext();) { var s = n.next(), l = t.managerWeapons.hashMapWeapons.get_11rb$(s); null != l && 2 === l.proficiencyType && (i ? t.managerWeapons.changedWeaponProficiencyFromExoticToMartial_p6us9o$(e, l, this.closure$featRef + s, a) : t.managerWeapons.removeChangedWeaponProficiency_6e5y5h$(e, s, this.closure$featRef + s)) } }, BB.$metadata$ = { kind: p, interfaces: [xX] }, FB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.name = "Select Advanced Weapon Group", l.src = "CRB", l.textDescription = ""; var c = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS); for (s = c.values.iterator(); s.hasNext();)s.next().specialEffect = new BB(r); l.hashMapSpecialChoices.put_xwzc9p$("Select Weapon Group", c), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var p = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != p && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, p), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, FB.$metadata$ = { kind: p, interfaces: [Gu] }, OB.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new FB; t.put_xwzc9p$("FIGHTER_Advanced Weapon Training", e) }, OB.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsFighter", interfaces: [] }; var jB = null; function HB() { return null === jB && new OB, jB } function qB() { KB = this } function UB() { Gu.call(this) } function GB() { Gu.call(this) } function WB() { Gu.call(this) } function YB(t) { this.closure$featRef = t } function VB(t) { this.closure$featRef = t } UB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().setProficiencyAtLevel_8d16k4$(i, e, r, a, pK().CRAFTING, 2), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r, "GENERAL_Alchemical Crafting", se().FEATS_GENERAL, a); var o = new Q1(i3().ALCHEMY_GUNSLINGER, a); o.hasAdvanced = !0, o.setAlchemyLevelAtCharacterLevel_f9128j$(i, r, a, 1), re().addAlchemicalCaster_yk8txo$(i, e, o), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r, a, BK().SPECIALS_ALCHEMIST, "Infused Reagents") }, UB.$metadata$ = { kind: p, interfaces: [Gu] }, GB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapAlchemicalCasters.get_11rb$(i3().ALCHEMY_GUNSLINGER); if (null != o) for (var s = a; s <= 20; s++)o.setAlchemyLevelAtCharacterLevel_f9128j$(i, r + j(s), s, s - 3 | 0) }, GB.$metadata$ = { kind: p, interfaces: [Gu] }, YB.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n, s = u(); for (n = t.managerWeapons.hashMapWeapons.values.iterator(); n.hasNext();) { var l = n.next(); 2 === l.proficiencyType && m(l.group, "Firearm") && null != l.uniqueIdentiier && s.add_11rb$(o(l.uniqueIdentiier)) } re().addAncestralWeaponExpertise_i1oc2n$(i, e, this.closure$featRef, a, b(s), null) }, YB.$metadata$ = { kind: p, interfaces: [xX] }, VB.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n, o = u(); for (n = t.managerWeapons.hashMapWeapons.values.iterator(); n.hasNext();) { var s = n.next(); 2 === s.proficiencyType && X0().isACrossbow_pdl1vj$(s.name) && o.add_11rb$(s.name) } re().addAncestralWeaponExpertise_i1oc2n$(i, e, this.closure$featRef, a, b(o), null) }, VB.$metadata$ = { kind: p, interfaces: [xX] }, WB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = "Advanced Shooter"; if (i) { var l = qX(s, a), p = c(), h = qX("Advanced Firearms", a); h.specialEffect = new YB(r), p.put_xwzc9p$("Advanced Firearms", h), (h = qX("Advanced Crossbows", a)).specialEffect = new VB(r), p.put_xwzc9p$("Advanced Crossbows", h), l.hashMapSpecialChoices.put_xwzc9p$("Select Advanced Shooter Weapons", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(s, l) } else { var d = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(s); null != d && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, s, d), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(s) } }, WB.$metadata$ = { kind: p, interfaces: [Gu] }, qB.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new UB; t.put_xwzc9p$("GUNSLINGER_Munitions Crafter", e); var i = new GB; t.put_xwzc9p$("GUNSLINGER_Munitions Machinist", i); var a = new WB; t.put_xwzc9p$("GUNSLINGER_Advanced Shooter", a) }, qB.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsGunslinger", interfaces: [] }; var KB = null; function XB() { return null === KB && new qB, KB } function JB() { oj = this } function ZB() { Gu.call(this) } function QB() { Gu.call(this) } function tj() { Gu.call(this) } function ej() { Gu.call(this) } function ij() { Gu.call(this) } function aj() { Gu.call(this) } function rj() { Gu.call(this) } function nj() { Gu.call(this) } ZB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { i ? t.managerPets.addConstruct_yjt0at$(e, a, XV().CONSTRUCT_SOURCE_FEAT) : t.managerPets.removeConstruct_cyt1w7$(e, XV().CONSTRUCT_SOURCE_FEAT) }, ZB.$metadata$ = { kind: p, interfaces: [Gu] }, QB.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, p = "Variable Core Damage Type"; if (i) { var h = qX(p, a), d = c(); for (s = [TX().RESISTANCE_ACID, TX().RESISTANCE_COLD, TX().RESISTANCE_ELECTRICITY], l = 0; l !== s.length; ++l) { var u = s[l], _ = qX(u, a); d.put_xwzc9p$(u, _) } h.hashMapSpecialChoices.put_xwzc9p$("Select Damage Type", d), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(p, h) } else { var f = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(p); null != f && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, p, f), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(p) } }, QB.$metadata$ = { kind: p, interfaces: [Gu] }, tj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addConstructAdvanced_wifd5v$(i, t, e, r, DW(a, 3)) }, tj.$metadata$ = { kind: p, interfaces: [Gu] }, ej.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addConstructIncredible_wifd5v$(i, t, e, r, DW(a, 3)) }, ej.$metadata$ = { kind: p, interfaces: [Gu] }, ij.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addConstructParagon_wifd5v$(i, t, e, r, DW(a, 3)) }, ij.$metadata$ = { kind: p, interfaces: [Gu] }, aj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "1", a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_DARKVISION), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, r + "2", a, BK().SPECIALS_UNIVERSAL, se().UNIVERSAL_LOW_LIGHT_VISION) }, aj.$metadata$ = { kind: p, interfaces: [Gu] }, rj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = yZ().getInnovation_5btbp7$(e); if (i) { if (null != o) { var s = 2; switch (o) { case "Armor Innovation": s = 0; break; case "Weapon Innovation": s = 1 }e.hashMapInventorModifications.put_xwzc9p$(r, new hc(s, "Manifold Modifications", 1, r, a)) } } else t.managerEquipment.activateInventorModifications_rvs3un$(!1, e, r, !0), e.hashMapInventorModifications.remove_11rb$(r) }, rj.$metadata$ = { kind: p, interfaces: [Gu] }, nj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = "Boost Modulation"; if (i) { var l = qX(s, a); l.hashMapSpecialChoices.put_xwzc9p$("Select Offensive Boost", t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_INVENTOR_OFFENSIVE_BOOSTS)), l.hashMapSpecialChoices.put_xwzc9p$("Select 2nd Offensive Boost", t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_INVENTOR_OFFENSIVE_BOOSTS)), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(s, l) } else { var c = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(s); null != c && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, s, c), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(s) } }, nj.$metadata$ = { kind: p, interfaces: [Gu] }, JB.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new ZB; t.put_xwzc9p$("INVENTOR_Prototype Companion", e); var i = new QB; t.put_xwzc9p$("INVENTOR_Variable Core", i); var a = new tj; t.put_xwzc9p$("INVENTOR_Advanced Construct Companion", a); var r = new ej; t.put_xwzc9p$("INVENTOR_Incredible Construct Companion", r); var n = new ij; t.put_xwzc9p$("INVENTOR_Paragon Companion", n); var o = new aj; t.put_xwzc9p$("INVENTOR_Visual Fidelity", o); var s = new rj; t.put_xwzc9p$("INVENTOR_Manifold Modifications", s); var l = new nj; t.put_xwzc9p$("INVENTOR_Boost Modulation", l) }, JB.prototype.getConstructCharacterBuild_fhac18$ = function (t, e) { if (e.hashMapPetCharacterBuilds.containsKey_11rb$(XV().PET_REFERENCE_CONSTRUCT)) return o(e.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_CONSTRUCT)); if (e.getCharacterData().hashMapPetData.containsKey_11rb$(XV().PET_REFERENCE_CONSTRUCT)) { var i = e.getCharacterData().hashMapPetData.get_11rb$(XV().PET_REFERENCE_CONSTRUCT), a = new qV; a.setCharacterData_g7kqbx$(o(i)); var r = e.hashMapPetCharacterBuilds, n = XV().PET_REFERENCE_CONSTRUCT; return r.put_xwzc9p$(n, a), t.managerPets.activateEidolon_vh77xp$(e, i), a } return null }, JB.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsInventor", interfaces: [] }; var oj = null; function sj() { return null === oj && new JB, oj } function lj() { hj = this } function cj() { Gu.call(this) } function pj() { Gu.call(this) } cj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addLoreAndTrained_k5t0i3$(i, t, e, a, r, "Underworld") }, cj.$metadata$ = { kind: p, interfaces: [Gu] }, pj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Prescient Planner", se().FEATS_GENERAL, a), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "2", "GENERAL_Prescient Consumable", se().FEATS_GENERAL, a) }, pj.$metadata$ = { kind: p, interfaces: [Gu] }, lj.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new cj; t.put_xwzc9p$("INVESTIGATOR_Underworld Investigator", e); var i = new pj; t.put_xwzc9p$("INVESTIGATOR_Predictive Purchase (Investigator)", i) }, lj.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsInvestigator", interfaces: [] }; var hj = null; function dj() { return null === hj && new lj, hj } function uj() { Sj = this } function _j() { Gu.call(this) } function fj() { Gu.call(this) } function yj() { Gu.call(this) } function mj() { Gu.call(this) } function $j() { Gu.call(this) } function gj() { Gu.call(this) } function vj() { Gu.call(this) } _j.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, _j.$metadata$ = { kind: p, interfaces: [Gu] }, fj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "1", DW(a, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "2", DW(a, 1)) }, fj.$metadata$ = { kind: p, interfaces: [Gu] }, yj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = Cj().getMagusOrArchetypeSpellCaster_0(e); null != o && o.addSpellsPerDayAdjustment_3dm4w3$(i, r, new O2(a, 0, 2)) }, yj.$metadata$ = { kind: p, interfaces: [Gu] }, mj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Force Fang", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, mj.$metadata$ = { kind: p, interfaces: [Gu] }, $j.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Cascade Countermeasure", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, $j.$metadata$ = { kind: p, interfaces: [Gu] }, gj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Runic Impression", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, gj.$metadata$ = { kind: p, interfaces: [Gu] }, vj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Hasted Assault", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, vj.$metadata$ = { kind: p, interfaces: [Gu] }, uj.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new _j; t.put_xwzc9p$("MAGUS_Familiar", e); var i = new fj; t.put_xwzc9p$("MAGUS_Enhanced Familiar", i); var a = new yj; t.put_xwzc9p$("MAGUS_Cantrip Expansion", a); var r = new mj; t.put_xwzc9p$("MAGUS_Force Fang", r); var n = new $j; t.put_xwzc9p$("MAGUS_Cascade Countermeasure", n); var o = new gj; t.put_xwzc9p$("MAGUS_Runic Impression", o); var s = new vj; t.put_xwzc9p$("MAGUS_Hasted Assault", s) }, uj.prototype.getMagusOrArchetypeSpellCaster_0 = function (t) { var e = t.hashMapSpellCasters.get_11rb$(Jr().CLASS_NAME); return null == e && (e = t.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_MAGUS)), e }, uj.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsMagus", interfaces: [] }; var Sj = null; function Cj() { return null === Sj && new uj, Sj } function Ej() { Nj = this } function Aj() { Gu.call(this) } function bj() { Gu.call(this) } function Ij() { Gu.call(this) } function wj() { Gu.call(this) } function Lj() { Gu.call(this) } function Tj() { Gu.call(this) } function kj() { Gu.call(this) } function Rj() { Gu.call(this) } function Pj(t, e) { this.closure$featRef = t, this.closure$spellName = e } function Mj() { Gu.call(this) } Aj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = t.managerSpells.getCasterOrArchetypeCaster_p1uyfg$(e, [ln().CLASS_NAME, o3().ARCHETYPE_CASTER_ORACLE]); null != o && o.addSpellsPerDayAdjustment_3dm4w3$(i, r, new O2(a, 0, 2)) }, Aj.$metadata$ = { kind: p, interfaces: [Gu] }, bj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), i) { var s = oQ().getDomainSelectionSpecialInformation_rci9f8$(t, e, a, r); s.name = "Domain Acumen", s.textDescription = "Choose one of the domains associated with your mystery for which you don't already have an initial domain spell.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, bj.$metadata$ = { kind: p, interfaces: [Gu] }, Ij.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Vision of Weakness", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Ij.$metadata$ = { kind: p, interfaces: [Gu] }, wj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Debilitating Dichotomy", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, wj.$metadata$ = { kind: p, interfaces: [Gu] }, Lj.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, c) { var p = ln().getMystery_5btbp7$(i); if (null != p) try { var h = o(SX().MYSTERY_ADVANCED_GREATER.get_11rb$(p)).left; re().addAwardedPower_ujte31$(a, i, n, P0(o(h), r, 1)), re().increaseFocusPoints_sfpo92$(a, i, n, DW(r, 1)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Lj.$metadata$ = { kind: p, interfaces: [Gu] }, Tj.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, c) { var p = ln().getMystery_5btbp7$(i); if (null != p) try { var h = o(SX().MYSTERY_ADVANCED_GREATER.get_11rb$(p)).right; re().addAwardedPower_ujte31$(a, i, n, P0(o(h), r, 1)), re().increaseFocusPoints_sfpo92$(a, i, n, DW(r, 1)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Tj.$metadata$ = { kind: p, interfaces: [Gu] }, kj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = oQ().getDomainAdvancedSelectionSpecialInformation_rci9f8$(t, e, a, "Domain Fluency"); s.name = "Mystery Advanced Domain Spell", s.textDescription = "You learn an advanced domain spell associated with your mystery.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$("Domain Fluency", s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$("Domain Fluency"); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, "Domain Fluency", l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$("Domain Fluency") } }, kj.$metadata$ = { kind: p, interfaces: [Gu] }, Pj.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$featRef + "1", P0(o(this.closure$spellName), a, 1)) }, Pj.$metadata$ = { kind: p, interfaces: [xX] }, Rj.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, l) { var p, d, _; if (a) { var f = qX("Diverse Mystery", r); f.name = "Diverse Mystery Spell", f.textDescription = "You learn an initial or advanced spell from any mystery other than your own.", o(i.hashMapSpecialInformation[r - 1 | 0]).put_xwzc9p$(n, f); var y = u(); for (p = SX().MYSTERY_INITIAL.keys.iterator(); p.hasNext();) { var m = p.next(); y.add_11rb$(SX().MYSTERY_INITIAL.get_11rb$(m)) } for (d = SX().MYSTERY_ADVANCED_GREATER.keys.iterator(); d.hasNext();) { var $ = d.next(); y.add_11rb$(o(SX().MYSTERY_ADVANCED_GREATER.get_11rb$($)).left) } var g = c(); for (_ = y.iterator(); _.hasNext();) { var v = _.next(), S = qX(v, r), C = o(v); g.put_xwzc9p$(C, S); try { var E = t.managerSpells.hashMapSpells.get_11rb$(v); S.textDescription = o(E).name + "<br>", S.textDescription = S.textDescription + E.textOnlyDescription, S.level = r } catch (t) { if (!e.isType(t, h)) throw t; s(t) } S.specialEffect = new Pj(n, v) } f.hashMapSpecialChoices.put_xwzc9p$("Select Mystery Spell", g) } else { var A = o(i.hashMapSpecialInformation[r - 1 | 0]).get_11rb$(n); null != A && t.managerSpecials.activateSpecial_2yti0t$(t, i, !1, n, A), o(i.hashMapSpecialInformation[r - 1 | 0]).remove_11rb$(n) } }, Rj.$metadata$ = { kind: p, interfaces: [Gu] }, Mj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapSpellCasters.get_11rb$(ln().CLASS_NAME); if (null != o) for (var s = a; s <= 20; s++)o.addSpontaneousSlotsAdjustment_3dm4w3$(i, r, new O2(a, 10, 1)) }, Mj.$metadata$ = { kind: p, interfaces: [Gu] }, Ej.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new Aj; t.put_xwzc9p$("ORACLE_Cantrip Expansion", e); var i = new bj; t.put_xwzc9p$("ORACLE_Domain Acumen", i); var a = new Ij; t.put_xwzc9p$("ORACLE_Vision of Weakness", a); var r = new wj; t.put_xwzc9p$("ORACLE_Debilitating Dichotomy", r); var n = new Lj; t.put_xwzc9p$("ORACLE_Advanced Revelation", n); var o = new Tj; t.put_xwzc9p$("ORACLE_Greater Revelation", o); var s = new kj; t.put_xwzc9p$("ORACLE_Domain Fluency", s); var l = new Rj; t.put_xwzc9p$("ORACLE_Diverse Mystery", l); var c = new Mj; t.put_xwzc9p$("ORACLE_Oracular Providence", c) }, Ej.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsOracle", interfaces: [] }; var Nj = null; function Dj() { return null === Nj && new Ej, Nj } function xj() { eH = this } function zj() { Gu.call(this) } function Oj() { Gu.call(this) } function Fj() { Gu.call(this) } function Bj() { Gu.call(this) } function jj() { Gu.call(this) } function Hj() { Gu.call(this) } function qj() { Gu.call(this) } function Uj() { Gu.call(this) } function Gj() { Gu.call(this) } function Wj() { Gu.call(this) } function Yj() { Gu.call(this) } function Vj() { Gu.call(this) } function Kj() { Gu.call(this) } function Xj() { Gu.call(this) } function Jj() { Gu.call(this) } function Zj() { Gu.call(this) } function Qj() { Gu.call(this) } function tH() { Gu.call(this) } zj.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l, c; for (s = i.hashMapPetCharacterBuilds.keys.iterator(); s.hasNext();) { var p = s.next(), h = e.isType(l = i.hashMapPetCharacterBuilds.get_11rb$(p), qV) ? l : d(), u = h.getPetData(); if (0 === u.getPetType() && i.getCharacterData().getCharacterLevel() >= r) for (c = u.getHashMapAnimalSpecializations().keys.iterator(); c.hasNext();) { var _ = c.next(); m(u.getHashMapAnimalSpecializations().get_11rb$(_), "Ambusher") && (t.managerPets.activateAnimalSpecialization_f8hr8l$(!1, i, h, "Ambusher", _), t.managerPets.activateAnimalSpecialization_f8hr8l$(!0, i, h, "Ambusher", _)) } } }, zj.$metadata$ = { kind: p, interfaces: [Gu] }, Oj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanion_dlg1vj$(i, t, e, r, a) }, Oj.$metadata$ = { kind: p, interfaces: [Gu] }, Fj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionMature_wifd5v$(i, t, e, r, DW(a, 0)) }, Fj.$metadata$ = { kind: p, interfaces: [Gu] }, Bj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionIncredible_wifd5v$(i, t, e, r, DW(a, 0)) }, Bj.$metadata$ = { kind: p, interfaces: [Gu] }, jj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAnimalCompanionSpecializationChoice_wifd5v$(i, t, e, r, DW(a, 0)) }, jj.$metadata$ = { kind: p, interfaces: [Gu] }, Hj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addProficiencyBonus_jn833q$(i, e, 2, a, r, pK().PROFICIENCY_PERCEPTION, 2) }, Hj.$metadata$ = { kind: p, interfaces: [Gu] }, qj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Animal Feature", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, qj.$metadata$ = { kind: p, interfaces: [Gu] }, Uj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Enlarge Companion", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Uj.$metadata$ = { kind: p, interfaces: [Gu] }, Gj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Ephemeral Tracking", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Gj.$metadata$ = { kind: p, interfaces: [Gu] }, Wj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addCharacterFlag_cgow6u$(i, e, r, Wa().FLAG_WARDEN_SPELLS, a), re().addAwardedPower_ujte31$(i, e, r, P0("Gravity Weapon", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Wj.$metadata$ = { kind: p, interfaces: [Gu] }, Yj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addCharacterFlag_cgow6u$(i, e, r, Wa().FLAG_WARDEN_SPELLS, a), re().addAwardedPower_ujte31$(i, e, r, P0("Heal Companion", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Yj.$metadata$ = { kind: p, interfaces: [Gu] }, Vj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Hunter's Luck", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Vj.$metadata$ = { kind: p, interfaces: [Gu] }, Kj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Hunter's Vision", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Kj.$metadata$ = { kind: p, interfaces: [Gu] }, Xj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Magic Hide", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Xj.$metadata$ = { kind: p, interfaces: [Gu] }, Jj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Ranger's Bramble", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Jj.$metadata$ = { kind: p, interfaces: [Gu] }, Zj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Snare Hopping", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Zj.$metadata$ = { kind: p, interfaces: [Gu] }, Qj.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Soothing Mist", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, Qj.$metadata$ = { kind: p, interfaces: [Gu] }, tH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Terrain Transposition", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, tH.$metadata$ = { kind: p, interfaces: [Gu] }, xj.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new zj; t.put_xwzc9p$("RANGER_Stealthy Companion", e); var i = new Oj; t.put_xwzc9p$("RANGER_Animal Companion", i); var a = new Fj; t.put_xwzc9p$("RANGER_Mature Animal Companion", a); var r = new Bj; t.put_xwzc9p$("RANGER_Incredible Companion", r); var n = new jj; t.put_xwzc9p$("RANGER_Specialized Companion (Ranger)", n); var o = new Hj; t.put_xwzc9p$("RANGER_Superior Sight", o); var s = new qj; t.put_xwzc9p$("RANGER_Animal Feature", s); var l = new Uj; t.put_xwzc9p$("RANGER_Enlarge Companion", l); var c = new Gj; t.put_xwzc9p$("RANGER_Ephemeral Tracking", c); var p = new Wj; t.put_xwzc9p$("RANGER_Gravity Weapon", p); var h = new Yj; t.put_xwzc9p$("RANGER_Heal Companion", h); var d = new Vj; t.put_xwzc9p$("RANGER_Hunter's Luck", d); var u = new Kj; t.put_xwzc9p$("RANGER_Hunter's Vision", u); var _ = new Xj; t.put_xwzc9p$("RANGER_Magic Hide", _); var f = new Jj; t.put_xwzc9p$("RANGER_Ranger's Bramble", f); var y = new Zj; t.put_xwzc9p$("RANGER_Snare Hopping", y); var m = new Qj; t.put_xwzc9p$("RANGER_Soothing Mist", m); var $ = new tH; t.put_xwzc9p$("RANGER_Terrain Transposition", $) }, xj.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsRanger", interfaces: [] }; var eH = null; function iH() { return null === eH && new xj, eH } function aH() { lH = this, this.CASTER_MINOR_MAGIC = "Minor Magic" } function rH() { Gu.call(this) } function nH(t) { this.closure$i = t } function oH() { Gu.call(this) } function sH() { Gu.call(this) } nH.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = e.hashMapSpellCasters, o = cH().CASTER_MINOR_MAGIC, s = new v2(cH().CASTER_MINOR_MAGIC, this.closure$i, 5, a); n.put_xwzc9p$(o, s) } else e.hashMapSpellCasters.remove_11rb$(cH().CASTER_MINOR_MAGIC); re().setProficiencyAtLevel_8d16k4$(i, e, cH().CASTER_MINOR_MAGIC, a, pK().ARRAY_SPELL_PROFICIENCIES[this.closure$i], 2) }, nH.$metadata$ = { kind: p, interfaces: [xX] }, rH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var s = HX(); s.level = a, s.name = "Minor Magic", s.textDescription = "Choose arcane, divine, occult, or primal magic, and gain two cantrips from the common cantrips available to that tradition."; for (var l = c(), p = 0; p <= 3; p++) { var h = k0().ARRAY_SPELL_LISTS[p], d = HX(); l.put_xwzc9p$(h, d), d.name = h, d.src = "CRB", d.textDescription = "Gain two cantrips from the common cantrips available to that tradition", d.specialEffect = new nH(p) } s.hashMapSpecialChoices.put_xwzc9p$("Select Tradition", l), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, rH.$metadata$ = { kind: p, interfaces: [Gu] }, oH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "1", "GENERAL_Prescient Planner", se().FEATS_GENERAL, a), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, r + "2", "GENERAL_Prescient Consumable", se().FEATS_GENERAL, a) }, oH.$metadata$ = { kind: p, interfaces: [Gu] }, sH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = new k2("Trickster's Ace", 0, 5, a, new Int32Array([0, 0, 0, 0, 1, -1, -1, -1, -1, -1, -1])); e.hashMapSpellCasters.put_xwzc9p$("Trickster's Ace", o) } else e.hashMapSpellCasters.get_11rb$("Trickster's Ace"), e.hashMapSpellCasters.remove_11rb$("Trickster's Ace") }, sH.$metadata$ = { kind: p, interfaces: [Gu] }, aH.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new rH; t.put_xwzc9p$("ROGUE_Minor Magic", e); var i = new oH; t.put_xwzc9p$("ROGUE_Predictive Purchase (Rogue)", i); var a = new sH; t.put_xwzc9p$("ROGUE_Trickster's Ace", a) }, aH.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsRogue", interfaces: [] }; var lH = null; function cH() { return null === lH && new aH, lH } function pH() { EH = this } function hH() { Gu.call(this) } function dH() { Gu.call(this) } function uH() { Gu.call(this) } function _H() { Gu.call(this) } function fH() { Gu.call(this) } function yH() { Gu.call(this) } function mH() { Gu.call(this) } function $H(t, e, i) { C3(t, e, i, this) } function gH() { Gu.call(this) } function vH() { Gu.call(this) } function SH() { Gu.call(this) } function CH(t) { this.closure$featRef = t } hH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSkillSetProficiencyAtLevelChoice_9zpztu$(i, t, e, "Select Arcane Evolution Skill", r, a, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), 2) }, hH.$metadata$ = { kind: p, interfaces: [Gu] }, dH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addSkillSetProficiencyAtLevelChoice_9zpztu$(i, t, e, "Select Occult Evolution Skill", r, a, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), 2) }, dH.$metadata$ = { kind: p, interfaces: [Gu] }, uH.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { try { var l = AH().getBloodline_fhac18$(t, i); if (null != l) { var c = l.advancedSpell; re().addAwardedPower_ujte31$(a, i, n, P0(c, r, 1)), re().increaseFocusPoints_sfpo92$(a, i, n, DW(r, 1)) } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, uH.$metadata$ = { kind: p, interfaces: [Gu] }, _H.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, _H.$metadata$ = { kind: p, interfaces: [Gu] }, fH.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { try { var l = AH().getBloodline_fhac18$(t, i); if (null != l) { var c = l.greaterSpell; re().addAwardedPower_ujte31$(a, i, n, P0(c, r, 1)), re().increaseFocusPoints_sfpo92$(a, i, n, DW(r, 1)) } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, fH.$metadata$ = { kind: p, interfaces: [Gu] }, yH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = t.managerSpells.getCasterOrArchetypeCaster_p1uyfg$(e, [En().CLASS_SORCERER, o3().ARCHETYPE_CASTER_SORCERER]); null != o && o.addSpellsPerDayAdjustment_3dm4w3$(i, r, new O2(a, 0, 2)) }, yH.$metadata$ = { kind: p, interfaces: [Gu] }, $H.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { return null }, $H.$metadata$ = { kind: p, interfaces: [v3] }, mH.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { try { var c = i.hashMapSpellCasters.get_11rb$(En().CLASS_SORCERER); if (null != c) for (var p = 1; p <= 10; p++) { var h = "Greater Mental Evolution " + p; if (a) { var d = new $H(p, !1, !0); d.reqCharacterLevel = r, d.header = "Greater Mental Evolution", c.getHashMapBonusSpell_fhac18$(t, i).put_xwzc9p$(h, d) } else c.getHashMapBonusSpell_fhac18$(t, i).remove_11rb$(h) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, mH.$metadata$ = { kind: p, interfaces: [Gu] }, gH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapSpellCasters.get_11rb$(En().CLASS_SORCERER); null != o && o.addSpontaneousSlotsAdjustment_3dm4w3$(i, r, new O2(a, 10, 1)) }, gH.$metadata$ = { kind: p, interfaces: [Gu] }, vH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "1", DW(a, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "2", DW(a, 1)) }, vH.$metadata$ = { kind: p, interfaces: [Gu] }, CH.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, this.closure$featRef, a, BK().SPECIALS_UNIVERSAL, o(r).name) }, CH.$metadata$ = { kind: p, interfaces: [xX] }, SH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (i) { var l = HX(); l.level = a, l.name = "Bloodline Mutation", l.textDescription = "Select vision"; var p = [se().UNIVERSAL_LOW_LIGHT_VISION, se().UNIVERSAL_DARKVISION], h = c(); for (s = 0; s !== p.length; ++s) { var d = p[s], u = qX(d, a); u.specialEffect = new CH(r), h.put_xwzc9p$(d, u) } l.hashMapSpecialChoices.put_xwzc9p$("Select vision", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, SH.$metadata$ = { kind: p, interfaces: [Gu] }, pH.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new hH; t.put_xwzc9p$("SORCERER_Arcane Evolution", e); var i = new dH; t.put_xwzc9p$("SORCERER_Occult Evolution", i); var a = new uH; t.put_xwzc9p$("SORCERER_Advanced Bloodline", a); var r = new _H; t.put_xwzc9p$("SORCERER_Familiar", r); var n = new fH; t.put_xwzc9p$("SORCERER_Greater Bloodline", n); var o = new yH; t.put_xwzc9p$("SORCERER_Cantrip Expansion", o); var s = new mH; t.put_xwzc9p$("SORCERER_Greater Mental Evolution", s); var l = new gH; t.put_xwzc9p$("SORCERER_Bloodline Perfection", l); var c = new vH; t.put_xwzc9p$("SORCERER_Enhanced Familiar", c); var p = new SH; t.put_xwzc9p$("SORCERER_Bloodline Mutation", p) }, pH.prototype.getBloodline_fhac18$ = function (t, i) { var a, r = i.getCharacterData().getSpecialSelection_puj7f4$(bQ().SORCERER_BLOODLINE_SPECIAL_REF, bQ().SORCERER_BLOODLINE_SPECIAL_CHOICE), n = t.managerSpecials.getBloodlineSet().hashMap, o = r, s = (e.isType(a = n, y) ? a : d()).get_11rb$(o); if (null != s) return s; r = i.getCharacterData().getSpecialSelection_puj7f4$(gD().ARCHETYPE_SORCERER_BLOODLINE_SPECIAL_REF, gD().ARCHETYPE_SORCERER_BLOODLINE_SPECIAL_CHOICE); var l, c = t.managerSpecials.getBloodlineSet().hashMap, p = r; return s = (e.isType(l = c, y) ? l : d()).get_11rb$(p) }, pH.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsSorcerer", interfaces: [] }; var EH = null; function AH() { return null === EH && new pH, EH } function bH() { qH = this, this.SPECIAL_DUAL_STUDIES = "Dual Studies", this.SPECIAL_CHOICE_DUAL_STUDIES_SUMMONER = "Select Summoner Skill", this.SPECIAL_CHOICE_DUAL_STUDIES_EIDOLON = "Select Eidolon Skill", this.SPECIAL_ENERGY_HEART = "Energy Heart", this.SPECIAL_CHOICE_ALL_ENERGY_HEART = "Select Energy Type", this.SPECIAL_DUAL_ENERGY_HEART = "Dual Energy Heart", this.arrayDamages_0 = [TX().RESISTANCE_ACID, TX().RESISTANCE_COLD, TX().RESISTANCE_FIRE, TX().RESISTANCE_ELECTRICITY, TX().RESISTANCE_SONIC, TX().RESISTANCE_NEGATIVE, TX().RESISTANCE_POSITIVE] } function IH() { Gu.call(this) } function wH(t, e) { this.closure$featRef = t, this.closure$skillName = e } function LH(t, e, i) { this.closure$petCharacterBuild = t, this.closure$featRef = e, this.closure$skillName = i } function TH() { Gu.call(this) } function kH() { Gu.call(this) } function RH() { Gu.call(this) } function PH() { Gu.call(this) } function MH() { Gu.call(this) } function NH() { Gu.call(this) } function DH() { Gu.call(this) } function xH() { Gu.call(this) } function zH() { Gu.call(this) } function OH() { Gu.call(this) } function FH() { Gu.call(this) } function BH() { Gu.call(this) } function jH() { Gu.call(this) } function HH() { Gu.call(this) } wH.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef + "1a", a, this.closure$skillName, 2), re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef + "1b", pe().getLevelOrMin_vux9f0$(a, 7), this.closure$skillName, 4) }, wH.$metadata$ = { kind: p, interfaces: [xX] }, LH.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { null != this.closure$petCharacterBuild && (re().setProficiencyAtLevel_8d16k4$(i, this.closure$petCharacterBuild, this.closure$featRef + "2a", a, this.closure$skillName, 2), re().setProficiencyAtLevel_8d16k4$(i, this.closure$petCharacterBuild, this.closure$featRef + "2b", pe().getLevelOrMin_vux9f0$(a, 7), this.closure$skillName, 4)) }, LH.$metadata$ = { kind: p, interfaces: [xX] }, IH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l, p = UH().getEidolonCharacterBuild_fhac18$(t, e); if (i) { var h = qX("Dual Studies", a); h.textDescription = "Your eidolon becomes trained in one of those skills and you become trained in the other skill. At 7th level, you each become an expert in the chosen skills."; var d = c(); for (s = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); s.hasNext();) { var u = s.next(), _ = qX(u, a); _.specialEffect = new wH(r, u), d.put_xwzc9p$(u, _) } var f = h.hashMapSpecialChoices, y = UH().SPECIAL_CHOICE_DUAL_STUDIES_SUMMONER, m = d; for (f.put_xwzc9p$(y, m), d = c(), l = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); l.hasNext();) { var $ = l.next(), g = qX($, a); g.specialEffect = new LH(p, r, $), d.put_xwzc9p$($, g) } var v = h.hashMapSpecialChoices, S = UH().SPECIAL_CHOICE_DUAL_STUDIES_EIDOLON, C = d; v.put_xwzc9p$(S, C); var E = o(e.hashMapSpecialInformation[a - 1 | 0]), A = UH().SPECIAL_DUAL_STUDIES; E.put_xwzc9p$(A, h) } else { var b = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(UH().SPECIAL_DUAL_STUDIES); null != b && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, UH().SPECIAL_DUAL_STUDIES, b), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(UH().SPECIAL_DUAL_STUDIES) } }, IH.$metadata$ = { kind: p, interfaces: [Gu] }, TH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (i) { var p = qX("Energy Heart", a); p.textDescription = "Choose an energy damage type other than force."; var h = c(); for (s = UH().arrayDamages_0, l = 0; l !== s.length; ++l) { var d = s[l], u = qX(d, a); h.put_xwzc9p$(d, u) } var _ = p.hashMapSpecialChoices, f = UH().SPECIAL_CHOICE_ALL_ENERGY_HEART; _.put_xwzc9p$(f, h); var y = o(e.hashMapSpecialInformation[a - 1 | 0]), m = UH().SPECIAL_ENERGY_HEART; y.put_xwzc9p$(m, p) } else o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(UH().SPECIAL_ENERGY_HEART) }, TH.$metadata$ = { kind: p, interfaces: [Gu] }, kH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Extend Boost", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, kH.$metadata$ = { kind: p, interfaces: [Gu] }, RH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Unfetter Eidolon", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, RH.$metadata$ = { kind: p, interfaces: [Gu] }, PH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (i) { var o = xQ().getEidolonSpellListIncludingArchetypeCaster_fhac18$(t, e); e.hashMapSpellCasters.put_xwzc9p$(y2().CASTER_EIDoLON, new u2(o, a)) } else e.hashMapSpellCasters.remove_11rb$(y2().CASTER_EIDoLON) }, PH.$metadata$ = { kind: p, interfaces: [Gu] }, MH.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(y2().CASTER_EIDoLON)) || e.isType(s, u2) ? s : d(); null != l && (a ? l.setMagicalAdept_za3lpa$(r) : l.setMagicalAdept_za3lpa$(21)) }, MH.$metadata$ = { kind: p, interfaces: [Gu] }, NH.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { var s, l = null == (s = i.hashMapSpellCasters.get_11rb$(y2().CASTER_EIDoLON)) || e.isType(s, u2) ? s : d(); null != l && (a ? l.setMagicalMaster_za3lpa$(r) : l.setMagicalMaster_za3lpa$(21)) }, NH.$metadata$ = { kind: p, interfaces: [Gu] }, DH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s = Nu(se().FEATS_SUMMONER_EVOLUTION, a, "Evolution Feat"); s.maxLevel = 6, re().addChildFeatChoice_j47kmb$(i, t, e, r + "child", o(n), s) }, DH.$metadata$ = { kind: p, interfaces: [Gu] }, xH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = UH().getEidolonCharacterBuild_fhac18$(t, e); null != o && re().addProficiencyBonus_jn833q$(i, o, 2, a, r, pK().PROFICIENCY_PERCEPTION, 2) }, xH.$metadata$ = { kind: p, interfaces: [Gu] }, zH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_EIDOLON); if (null != o) if (i && t.getGuiUpdateControl().finishedLoading_n40yp2$(e)) { var s = new FY; s.weaponName = "Flame Jet", o.getPetData().getHashMapEidolonAttacks().put_xwzc9p$(2, s) } else i || o.getPetData().getHashMapEidolonAttacks().remove_11rb$(2) }, zH.$metadata$ = { kind: p, interfaces: [Gu] }, OH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Reinforce Eidolon", a, 1)) }, OH.$metadata$ = { kind: p, interfaces: [Gu] }, FH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s, l; if (i) { var p = qX("Dual Energy Heart", a); p.textDescription = "Choose an energy damage type other than force."; var h = c(); for (s = UH().arrayDamages_0, l = 0; l !== s.length; ++l) { var d = s[l], u = qX(d, a); h.put_xwzc9p$(d, u) } var _ = p.hashMapSpecialChoices, f = UH().SPECIAL_CHOICE_ALL_ENERGY_HEART; _.put_xwzc9p$(f, h); var y = o(e.hashMapSpecialInformation[a - 1 | 0]), m = UH().SPECIAL_DUAL_ENERGY_HEART; y.put_xwzc9p$(m, p) } else { var $ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(UH().SPECIAL_DUAL_ENERGY_HEART); null != $ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, UH().SPECIAL_DUAL_ENERGY_HEART, $), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(UH().SPECIAL_DUAL_ENERGY_HEART) } }, FH.$metadata$ = { kind: p, interfaces: [Gu] }, BH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Lifelink Surge", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, BH.$metadata$ = { kind: p, interfaces: [Gu] }, jH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = UH().getEidolonCharacterBuild_fhac18$(t, e); if (null != o) { var s = "Eidolon Skill Feat Level 1", l = "Eidolon Skill Feat Level 2", c = "Eidolon Skill Feat Level 7", p = Mu(se().FEATS_SKILL, a); p.maxLevel = 1, p.specificHeader = s, re().addFeatChoice_afybq0$(i, t, o, s, p), (p = Mu(se().FEATS_SKILL, a)).maxLevel = 2, p.specificHeader = l, re().addFeatChoice_afybq0$(i, t, o, l, p), (p = Mu(se().FEATS_SKILL, pe().getLevelOrMin_vux9f0$(a, 7))).maxLevel = 7, p.specificHeader = c, re().addFeatChoice_afybq0$(i, t, o, c, p) } }, jH.$metadata$ = { kind: p, interfaces: [Gu] }, HH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Eidolon's Wrath", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, HH.$metadata$ = { kind: p, interfaces: [Gu] }, bH.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new IH; t.put_xwzc9p$("SUMMONER_Dual Studies", e); var i = new TH; t.put_xwzc9p$("SUMMONER_Energy Heart", i); var a = new kH; t.put_xwzc9p$("SUMMONER_Extend Boost", a); var r = new RH; t.put_xwzc9p$("SUMMONER_Unfetter Eidolon", r); var n = new PH; t.put_xwzc9p$("SUMMONER_Magical Understudy", n); var o = new MH; t.put_xwzc9p$("SUMMONER_Magical Adept", o); var s = new NH; t.put_xwzc9p$("SUMMONER_Magical Master", s); var l = new DH; t.put_xwzc9p$("SUMMONER_Flexible Transmogrification", l); var c = new xH; t.put_xwzc9p$("SUMMONER_Ever-Vigilant Senses", c); var p = new zH; t.put_xwzc9p$("SUMMONER_Ranged Combatant", p); var h = new OH; t.put_xwzc9p$("SUMMONER_Reinforce Eidolon", h); var d = new FH; t.put_xwzc9p$("SUMMONER_Dual Energy Heart", d); var u = new BH; t.put_xwzc9p$("SUMMONER_Lifelink Surge", u); var _ = new jH; t.put_xwzc9p$("SUMMONER_Skilled Partner", _); var f = new HH; t.put_xwzc9p$("SUMMONER_Eidolon's Wrath", f) }, bH.prototype.getEidolonCharacterBuild_fhac18$ = function (t, e) { if (e.hashMapPetCharacterBuilds.containsKey_11rb$(XV().PET_REFERENCE_EIDOLON)) return o(e.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_EIDOLON)); if (e.getCharacterData().hashMapPetData.containsKey_11rb$(XV().PET_REFERENCE_EIDOLON)) { var i = e.getCharacterData().hashMapPetData.get_11rb$(XV().PET_REFERENCE_EIDOLON), a = new qV; a.setCharacterData_g7kqbx$(o(i)); var r = e.hashMapPetCharacterBuilds, n = XV().PET_REFERENCE_EIDOLON; return r.put_xwzc9p$(n, a), t.managerPets.activateEidolon_vh77xp$(e, i), a } return null }, bH.prototype.getClonedCharacterBuild_iww7pb$ = function (t, e, i, a) { var r, n, o = new Na; t.managerProficiencies.addProficiencies_5btbp7$(o); var s = u(); for (Lq().hasFeatByLevel_w0akbr$(e, "no feat ref", e.getCharacterData().getCharacterLevel(), "SUMMONER_Dual Studies") && (s = this.getDualStudiesSkills_0(e)), r = t.managerProficiencies.getAllSkillsAsArray_5btbp7$(e), n = 0; n !== r.length; ++n) { var l = r[n]; if (s.contains_11rb$(l)) { var c = i.hashMapSkillProficiencies.get_11rb$(l), p = o.getSkillProficiency_61zpoe$(l); null != c && null != p && p.setProficiencyAtLevel_3m52m6$("Cloned", 1, c.getProficiencyAtLevel_za3lpa$(a)) } else { var h = e.hashMapSkillProficiencies.get_11rb$(l), d = o.getSkillProficiency_61zpoe$(l); null != h && null != d && d.setProficiencyAtLevel_3m52m6$("Cloned", 1, h.getProficiencyAtLevel_za3lpa$(a)) } } return o }, bH.prototype.getDualStudiesSkills_0 = function (t) { var e = u(), i = t.getCharacterData().getSpecialSelection_puj7f4$(this.SPECIAL_DUAL_STUDIES, this.SPECIAL_CHOICE_DUAL_STUDIES_SUMMONER); return null != i && e.add_11rb$(i), null != (i = this.getDualStudiesEidolonSelection_0(t)) && e.add_11rb$(i), e }, bH.prototype.getDualStudiesEidolonSelection_0 = function (t) { return t.getCharacterData().getSpecialSelection_puj7f4$(this.SPECIAL_DUAL_STUDIES, this.SPECIAL_CHOICE_DUAL_STUDIES_EIDOLON) }, bH.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsSummoner", interfaces: [] }; var qH = null; function UH() { return null === qH && new bH, qH } function GH() { rq = this } function WH() { Gu.call(this) } function YH() { Gu.call(this) } function VH() { Gu.call(this) } function KH() { Gu.call(this) } function XH() { Gu.call(this) } function JH() { Gu.call(this) } function ZH() { Gu.call(this) } function QH() { Gu.call(this) } function tq() { Gu.call(this) } function eq() { Gu.call(this) } function iq() { Gu.call(this) } function aq() { Gu.call(this) } WH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addAwardedPower_ujte31$(i, e, r, P0("Cackle", a, 1)), re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)) }, WH.$metadata$ = { kind: p, interfaces: [Gu] }, YH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = t.managerSpells.getCasterOrArchetypeCaster_p1uyfg$(e, [Bn().CLASS_NAME, o3().ARCHETYPE_CASTER_WITCH]); null != o && o.addSpellsPerDayAdjustment_3dm4w3$(i, r, new O2(a, 0, 2)) }, YH.$metadata$ = { kind: p, interfaces: [Gu] }, VH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), i) { var s = y0().getBasicLessons_4lmjjp$(t, e, a, r); s.name = "Basic Lesson", s.textDescription = "Select a basic lesson.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, VH.$metadata$ = { kind: p, interfaces: [Gu] }, KH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "1", DW(a, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "2", DW(a, 1)) }, KH.$metadata$ = { kind: p, interfaces: [Gu] }, XH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), i) { var s = y0().getGreaterLessons_4lmjjp$(t, e, a, r); s.name = "Greater Lesson", s.textDescription = "Select a greater lesson.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, XH.$metadata$ = { kind: p, interfaces: [Gu] }, JH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "1", DW(a, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "2", DW(a, 1)) }, JH.$metadata$ = { kind: p, interfaces: [Gu] }, ZH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), i) { var s = y0().getMajorLessons_4lmjjp$(t, e, a, r); s.name = "Major Lesson", s.textDescription = "Select a major lesson.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, ZH.$metadata$ = { kind: p, interfaces: [Gu] }, QH.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), i) { var s = y0().getMajorLessons_4lmjjp$(t, e, a, r); s.name = "Major Lesson", s.textDescription = "Select a major lesson.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, QH.$metadata$ = { kind: p, interfaces: [Gu] }, tq.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { if (re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), i) { var s = y0().getMajorLessons_4lmjjp$(t, e, a, r); s.name = "Major Lesson", s.textDescription = "Select a major lesson.", o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, s) } else { var l = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != l && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, l), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, tq.$metadata$ = { kind: p, interfaces: [Gu] }, eq.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { y0().addBonusSpell_9346a$(i, t, e, "Baleful Polymorph", a) }, eq.$metadata$ = { kind: p, interfaces: [Gu] }, iq.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapSpellCasters.get_11rb$(Bn().CLASS_NAME); null != o && o.addSpellsPerDayAdjustment_3dm4w3$(i, r, new O2(a, 10, 1)) }, iq.$metadata$ = { kind: p, interfaces: [Gu] }, aq.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { }, aq.$metadata$ = { kind: p, interfaces: [Gu] }, GH.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new WH; t.put_xwzc9p$("WITCH_Cackle", e); var i = new YH; t.put_xwzc9p$("WITCH_Cantrip Expansion", i); var a = new VH; t.put_xwzc9p$("WITCH_Basic Lesson", a); var r = new KH; t.put_xwzc9p$("WITCH_Enhanced Familiar", r); var n = new XH; t.put_xwzc9p$("WITCH_Greater Lesson", n); var o = new JH; t.put_xwzc9p$("WITCH_Incredible Familiar (Witch)", o); var s = new ZH; t.put_xwzc9p$("WITCH_Major Lesson I", s); var l = new QH; t.put_xwzc9p$("WITCH_Major Lesson II", l); var c = new tq; t.put_xwzc9p$("WITCH_Major Lesson III", c); var p = new eq; t.put_xwzc9p$("WITCH_Rites of Transfiguration", p); var h = new iq; t.put_xwzc9p$("WITCH_Patron's Truth", h); var d = new aq; t.put_xwzc9p$("WITCH_Cauldron", d) }, GH.prototype.getWitchOrArchetypeSpellCaster_0 = function (t) { var e = t.hashMapSpellCasters.get_11rb$(Bn().CLASS_NAME); return null == e && (e = t.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WITCH)), e }, GH.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsWitch", interfaces: [] }; var rq = null; function nq() { return null === rq && new GH, rq } function oq() { yq = this } function sq() { Gu.call(this) } function lq() { Gu.call(this) } function cq() { Gu.call(this) } function pq() { Gu.call(this) } function hq() { Gu.call(this) } function dq() { Gu.call(this) } function uq(t, e) { this.closure$featRef = t, this.closure$spell = e } function _q() { Gu.call(this) } function fq(t) { this.closure$featRef = t } sq.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliar_dlg1vj$(i, t, e, r, a) }, sq.$metadata$ = { kind: p, interfaces: [Gu] }, lq.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), re().addAwardedPower_ujte31$(i, e, r, P0("Hand of the Apprentice", a, 1)) }, lq.$metadata$ = { kind: p, interfaces: [Gu] }, cq.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = t.managerSpells.getCasterOrArchetypeCaster_p1uyfg$(e, [Gn().CLASS_WIZARD, o3().ARCHETYPE_CASTER_WIZARD]); null != o && o.addSpellsPerDayAdjustment_3dm4w3$(i, r, new O2(a, 0, 2)) }, cq.$metadata$ = { kind: p, interfaces: [Gu] }, pq.prototype.activateFeat_ow0n35$ = function (t, i, a, r, n, o) { if (i.isElementalist) { var c = i.getCharacterData().getSpecialSelection_puj7f4$(nz().SPECIAL_REF_ARCANE_SCHOOL, nz().SPECIAL_CHOICE_ARCANE_SCHOOL); if (null != c) { var p = VK().ELEMENTAL_SCHOOLS_ADVANCED.get_11rb$(c); null != p && re().addAwardedPower_ujte31$(a, i, n, P0(p, r, 1)) } } else { var h = i.getCharacterData().getSpecialSelection_puj7f4$("Arcane School", "Select Arcane School"); if (null != h) try { var d = VK().hashMapAdvancedArcaneSchoolPowers.get_11rb$(h); null != d && re().addAwardedPower_ujte31$(a, i, n, P0(d, r, 1)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } else mq().addAdvancedSchoolSpellForArchetype_0(a, t, i, n, r) } re().increaseFocusPoints_sfpo92$(a, i, n, DW(r, 1)) }, pq.$metadata$ = { kind: p, interfaces: [Gu] }, hq.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var o = e.hashMapSpellCasters.get_11rb$(Gn().CLASS_WIZARD); null != o && o.addSpellsPerDayAdjustment_3dm4w3$(i, r, new O2(a, 10, 1)) }, hq.$metadata$ = { kind: p, interfaces: [Gu] }, uq.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$featRef, P0(this.closure$spell, a, 1)) }, uq.$metadata$ = { kind: p, interfaces: [xX] }, dq.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { var s; if (re().increaseFocusPoints_sfpo92$(i, e, r, DW(a, 1)), i) { var l = HX(); l.level = a, l.name = "Universal Versatility Spell"; var p = c(); for (s = VK().hashMapArcaneSchoolPowers.values.iterator(); s.hasNext();) { var h = s.next(), d = HX(); d.name = h, d.textDescription = "", d.level = a, d.specialEffect = new uq(r, h), p.put_xwzc9p$(h, d) } l.hashMapSpecialChoices.put_xwzc9p$("Select Universal Versatility Spell", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(r, l) } else { var u = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, r, u), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(r) } }, dq.$metadata$ = { kind: p, interfaces: [Gu] }, _q.prototype.activateFeat_ow0n35$ = function (t, e, i, a, r, n) { re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "1", DW(a, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, r + "2", DW(a, 1)) }, _q.$metadata$ = { kind: p, interfaces: [Gu] }, oq.prototype.setFeatEffectMethods_3o6ljp$ = function (t) { var e = new sq; t.put_xwzc9p$("WIZARD_Familiar", e); var i = new lq; t.put_xwzc9p$("WIZARD_Hand of the Apprentice", i); var a = new cq; t.put_xwzc9p$("WIZARD_Cantrip Expansion", a); var r = new pq; t.put_xwzc9p$("WIZARD_Advanced School Spell", r); var n = new hq; t.put_xwzc9p$("WIZARD_Archwizard's Might", n); var o = new dq; t.put_xwzc9p$("WIZARD_Universal Versatility", o); var s = new _q; t.put_xwzc9p$("WIZARD_Enhanced Familiar", s) }, fq.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var s, l = VK().hashMapAdvancedArcaneSchoolPowers, c = o(n).name, p = (e.isType(s = l, y) ? s : d()).get_11rb$(c); null != p && re().addAwardedPower_ujte31$(a, i, this.closure$featRef, P0(p, r, 1)) }, fq.$metadata$ = { kind: p, interfaces: [xX] }, oq.prototype.addAdvancedSchoolSpellForArchetype_0 = function (t, i, a, r, n) { var l; if (t) { var c = HX(); c.level = n, c.name = "Advanced School Spell", c.textDescription = "You gain access to a powerful new school spell depending on your arcane school. "; var p = i.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_ARCANE_SCHOOLS); for (c.hashMapSpecialChoices.put_xwzc9p$("Select Arcane School", p), p.remove_11rb$("Universalist"), l = p.values.iterator(); l.hasNext();) { var u = l.next(); try { var _, f = VK().hashMapAdvancedArcaneSchoolPowers, m = u.name, $ = (e.isType(_ = f, y) ? _ : d()).get_11rb$(m); if (null != $) { var g = i.managerSpells.hashMapSpells.get_11rb$($); u.textDescription = "Advanced School Spell: " + o(g).name + "<br>", u.textDescription = u.textDescription + g.description } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } u.specialEffect = new fq(r) } o(a.hashMapSpecialInformation[n - 1 | 0]).put_xwzc9p$(r, c) } else { var v = o(a.hashMapSpecialInformation[n - 1 | 0]).get_11rb$(r); null != v && i.managerSpecials.activateSpecial_2yti0t$(i, a, !1, r, v), o(a.hashMapSpecialInformation[n - 1 | 0]).remove_11rb$(r) } }, oq.$metadata$ = { kind: f, simpleName: "FeatEffectsMethodsWizard", interfaces: [] }; var yq = null; function mq() { return null === yq && new oq, yq } function $q() { Sq(), this.id = null, this.name = "", this.level = 1, this.action = -2, this.selectable = 1, this.pet = 0, this.reqFeats = null, this.reqSpecials = null, this.textPrerequisites = null, this.textRequirements = null, this.textDescription = "", this.traits = null, this.profMagic = null, this.src = Ic().BOOK_CRB, this.url = "https://2e.aonprd.com/Feats.aspx", this.hashMapRequiredProficiences = null, this.hashMapRequiredAbilityScores = null, this.copiedID = null } function gq() { vq = this, this.COLUMN_ID = "id", this.COLUMN_NAME = "name", this.COLUMN_LEVEL = "level", this.COLUMN_TRAITS = "traits", this.COLUMN_ACTIONS = "actions", this.COLUMN_SELECTABLE = "selectable", this.COLUMN_REQ_ABILITIES = "req_abilities", this.COLUMN_PROF_TRAINED = "prof_trained", this.COLUMN_PROF_EXPERT = "prof_expert", this.COLUMN_PROF_MASTER = "prof_master", this.COLUMN_PROF_LEGENDARY = "prof_legendary", this.COLUMN_PROF_MAGIC = "prof_magic", this.COLUMN_PET = "pet", this.COLUMN_REQ_FEATS = "req_feats", this.COLUMN_REQ_SPECIALS = "req_specials", this.COLUMN_TEXT_PREREQ = "text_prereq", this.COLUMN_TEXT_REQ = "text_req", this.COLUMN_TEXT_DESCRIP = "text_descrip", this.COLUMN_SRC = "src", this.COLUMN_URL = "url", this.PET_NONE = 0, this.PET_ANIMAL_COMPANION = 1, this.PET_FAMILIAR = 2, this.PET_EIDOLON = 3, this.PET_CONSTRUCT = 4 } $q.prototype.hasRequiredFeat_61zpoe$ = function (t) { var e, i; if (null != this.reqFeats) for (e = o(this.reqFeats), i = 0; i !== e.length; ++i) { var a = e[i]; if (m(a.toLowerCase(), t.toLowerCase())) return !0 } return !1 }, $q.prototype.getTraits = function () { var t; return null != (t = this.traits) ? t : "" }, Object.defineProperty($q.prototype, "isSkillFeat", { configurable: !0, get: function () { return null != this.traits && !!_(o(this.traits), "Skill") } }), gq.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var vq = null; function Sq() { return null === vq && new gq, vq } function Cq(t, e) { return e = e || Object.create($q.prototype), $q.call(e), e.id = t, e } function Eq(t, e, i) { i = i || Object.create($q.prototype), $q.call(i), i.id = e.newFeatID, i.name = t.name, i.level = e.newFeatLevel, i.action = t.action, i.selectable = t.selectable, i.pet = t.pet, i.reqSpecials = t.reqSpecials, i.textDescription = t.textDescription, i.traits = t.traits, i.profMagic = t.profMagic, i.src = t.src, i.url = t.url, i.hashMapRequiredProficiences = t.hashMapRequiredProficiences, i.hashMapRequiredAbilityScores = t.hashMapRequiredAbilityScores; var a = u(); null != t.reqFeats && st(a, o(t.reqFeats)), a.add_11rb$(e.archetypeDedicationID), i.reqFeats = b(a); var r = i.traits; return null == r || 0 === r.length ? i.traits = "Archetype" : i.traits = i.traits + ", Archetype", i.copiedID = e.originalFeatID, i } function Aq(t, e) { if (e = e || Object.create($q.prototype), $q.call(e), e.id = t.id, e.name = t.name, e.level = t.level, e.action = t.action, e.selectable = t.selectable, e.pet = t.pet, e.reqSpecials = t.reqSpecials, e.textDescription = t.textDescription, e.traits = t.traits, e.profMagic = t.profMagic, e.src = t.src, e.url = t.url, e.hashMapRequiredProficiences = t.hashMapRequiredProficiences, e.hashMapRequiredAbilityScores = t.hashMapRequiredAbilityScores, null != t.reqFeats) { var i = u(); st(i, o(t.reqFeats)), e.reqFeats = b(i) } return e } function bq(t) { Lq(), W0.call(this, t), this.featRequirementMethods_0 = null, this.featRequirementMethods_0 = new kq(t) } function Iq() { wq = this, this.VERSAILT_PERFORMANCE_SKILLS_0 = [pK().DIPLOMACY, pK().DECEPTION, pK().INTIMIDATION] } $q.$metadata$ = { kind: p, simpleName: "FeatInformation", interfaces: [] }, bq.prototype.abstractCheck_4jy1nw$ = function (t, e, i, a, r, n, s, l) { return !(!this.levelCheck_0(i, r, s) || !this.isFeatSelectable_0(e, a, r, n, s) || !this.reqCheck_0(t, a, r, s) || !this.petCheck_0(e, s) || !this.proficiencyCheck_0(e, n, r, s) || !this.magicProficiencyCheck_0(e, a, r, s) || !this.abilityScoreCheck_0(e, i, a, r, s) || !this.checkReqSpecials_zavcz9$(t, r, s) || !this.dedicationCheck_0(this.dataControl, t, e, a, i, r, s, l) || this.featRequirementMethods_0.hashMapFeatRequirements.containsKey_11rb$(n) && !o(this.featRequirementMethods_0.hashMapFeatRequirements.get_11rb$(n)).available_i4q8y4$(t, e, r, a) || null != s.getTraits() && _(s.getTraits(), "Lineage") && (r > 1 || t.lineage.length > 0 && !m(t.lineage, n))) }, bq.prototype.dedicationCheck_0 = function (t, e, i, a, r, n, s, l) { var c; if (null == s.getTraits()) return !0; if (r.allowDedication) return !0; if (Au().isSameDedicationAsClass_o7np2w$(e, s.id)) return !1; if (l) return !0; if (!_(s.getTraits().toLowerCase(), "dedication")) return !0; if (i.canBeTakenAlongsideOtherDedications_swgm3m$(t, s.id)) return !0; for (c = i.hashMapDedicationFeats.keys.iterator(); c.hasNext();) { var p = c.next(); if (!m(p, s.id)) { if (_(a, "Multitalented")) return !0; if (o(i.hashMapDedicationFeats.get_11rb$(p)) < 2 && !m(p, "ARCHETYPE_Flexible Spellcaster Dedication")) return !1 } } return !0 }, bq.prototype.isFeatSelectable_0 = function (t, e, i, a, r) { var n, s, l = 0; for (t.hashMapFeatSelections.containsKey_11rb$(a) && (l = o(t.hashMapFeatSelections.get_11rb$(a)).size, o(t.hashMapFeatSelections.get_11rb$(a)).contains_11rb$(e) && (l = l - 1 | 0)), n = o(Lu().DUPED_FEAT_GROUPS).keys.iterator(); n.hasNext();) { var c = n.next(); if (_(a, o(c)) && o(Lu().DUPED_FEAT_GROUPS.get_11rb$(c)).contains_11rb$(a)) { for (s = o(Lu().DUPED_FEAT_GROUPS.get_11rb$(c)).iterator(); s.hasNext();) { var p = s.next(); m(p, a) || t.hashMapFeatSelections.containsKey_11rb$(p) && (l = o(t.hashMapFeatSelections.get_11rb$(p)).size, o(t.hashMapFeatSelections.get_11rb$(p)).contains_11rb$(e) && (l = l - 1 | 0)) } break } } return !(l >= r.selectable) }, bq.prototype.levelCheck_0 = function (t, e, i) { return !((null == t || !t.ignoreLevelRequirement) && e < i.level) }, bq.prototype.reqCheck_0 = function (t, e, i, a) { var r, n; if (null == a.reqFeats) return !0; for (r = o(a.reqFeats), n = 0; n !== r.length; ++n) { var s = r[n]; if (!Lq().hasFeatByLevel_w0akbr$(t, e, i, s)) return !1 } return !0 }, bq.prototype.petCheck_0 = function (t, e) { if (-1 === e.pet) return t.hasFamiliar || t.hasAnimalCompanion || t.hasConstructCompanion; if (e.pet > 0) { if (1 === e.pet) return t.hasAnimalCompanion; if (2 === e.pet) return t.hasFamiliar; if (4 === e.pet) return t.hasConstructCompanion } return !0 }, bq.prototype.proficiencyCheck_0 = function (t, i, a, r) { var n; if (null == r.hashMapRequiredProficiences) return !0; for (n = o(r.hashMapRequiredProficiences).keys.iterator(); n.hasNext();) { var l = n.next(), c = o(o(r.hashMapRequiredProficiences).get_11rb$(l)); try { var p, u = t.hashMapProficiencyLevels; if (c > o((e.isType(p = u, y) ? p : d()).get_11rb$(l)) && !this.versatilePerformanceCheck_0(t, l, c)) return !1 } catch (t) { if (!e.isType(t, h)) throw t; s(t), k(se().TAG + " NULL POINTER PROFICIENCY FOR FEAT " + i) } } return !0 }, bq.prototype.versatilePerformanceCheck_0 = function (t, e, i) { var a, r; if (t.hashMapFeatSelections.containsKey_11rb$("BARD_Versatile Performance")) for (a = Lq().VERSAILT_PERFORMANCE_SKILLS_0, r = 0; r !== a.length; ++r) { var n = a[r]; if (m(n, e) && o(t.hashMapProficiencyLevels.get_11rb$(pK().PERFORMANCE)) >= i) return !0 } return !1 }, bq.prototype.magicProficiencyCheck_0 = function (t, e, i, a) { var r, n; if (null == a.profMagic) return !0; var s = o(a.profMagic); for (r = IK().MAGIC_SKILLS, n = 0; n !== r.length; ++n) { var l = r[n]; if (o(t.hashMapProficiencyLevels.get_11rb$(l)) >= s) return !0 } return !1 }, bq.prototype.abilityScoreCheck_0 = function (t, e, i, a, r) { var n; if (null == r.hashMapRequiredAbilityScores) return !0; if (e.ignoreAbilityRequirements) return !0; for (n = o(r.hashMapRequiredAbilityScores).keys.iterator(); n.hasNext();) { var s = n.next(), l = o(o(r.hashMapRequiredAbilityScores).get_11rb$(s)); if (o(t.reportAbilityScores).abilityScoresBuffed[s] < l) return !1 } return !0 }, bq.prototype.isSpellCaser_vy76y1$ = function (t, e) { var i, a = ["Bard", "Wizard", "Cleric", "Sorcerer"]; for (i = 0; i !== a.length; ++i) { var r = a[i]; if (m(t.getCharacterData().getClassName(), r)) return !0 } return !(!Lq().hasFeatByLevel_w0akbr$(t, "", e, "ARCHETYPE_Wizard Dedication") && !Lq().hasFeatByLevel_w0akbr$(t, "", e, "ARCHETYPE_Cleric Dedication")) }, bq.prototype.checkReqSpecials_zavcz9$ = function (t, e, i) { var a, r; if (null != i.reqSpecials) for (a = o(i.reqSpecials), r = 0; r !== a.length; ++r) { var n = a[r]; if (!BK().hasSpecialByLevel_o7aqax$(t, n, e)) return !1 } return !0 }, bq.prototype.hasInnateMagicType_bh8xs5$ = function (t, e, i) { var a; for (a = t.hashMapSpellCasters.values.iterator(); a.hasNext();) { var r = a.next(); if (r.innate && r.spellList === e && r.level <= i) return !0 } return !1 }, Iq.prototype.hasFeatByLevel_w0akbr$ = function (t, e, i, a) { var r; if (this.checkFeatsByLevel_0(t, e, i, a)) return !0; if (this.checkDupedArchetypeFeats_0(t, e, i, a)) return !0; for (r = t.hashMapEffectiveFeats.values.iterator(); r.hasNext();) { var n = r.next(); if (m(n.featID, a) && i >= n.level) return !0 } return !1 }, Iq.prototype.checkFeatsByLevel_0 = function (t, e, i, a) { for (var r, n, s = 1; s <= i; s++) { var l = t.getFeatChoicesAtLevel_za3lpa$(s); for (r = o(l).keys.iterator(); r.hasNext();) { var c = r.next(); if (!m(c, e) && t.getCharacterData().hashMapFeatSelections.containsKey_11rb$(c)) { var p = t.getCharacterData().hashMapFeatSelections.get_11rb$(c); if (m(o(p).toLowerCase(), o(a).toLowerCase())) return !0 } var h = l.get_11rb$(c); if (this.hasFeatByLevelInChild_0(t, h, e, a)) return !0 } for (n = t.getListFreeFeatsAtLevel_za3lpa$(s).iterator(); n.hasNext();) { var d = n.next(); if (m(d.featID, a)) return !0 } } return !1 }, Iq.prototype.checkDupedArchetypeFeats_0 = function (t, e, i, a) { var r, n, s, l, c; for (r = t.hashMapDupedArchetypeFeats.keys.iterator(); r.hasNext();) { var p = r.next(), h = t.hashMapDupedArchetypeFeats.get_11rb$(p); if (m(a, p)) { if (this.checkFeatsByLevel_0(t, e, i, h)) return !0 } else if (m(a, h) && this.checkFeatsByLevel_0(t, e, i, p)) return !0 } for (n = Lu().DUPED_FEAT_GROUPS.keys.iterator(); n.hasNext();) { var d = n.next(); if (_(o(a), d) && o(Lu().DUPED_FEAT_GROUPS.get_11rb$(d)).contains_11rb$(a)) { for (s = o(Lu().DUPED_FEAT_GROUPS.get_11rb$(d)).iterator(); s.hasNext();) { var u = s.next(); if (!m(u, a) && this.checkFeatsByLevel_0(t, e, i, u)) return !0 } break } } for (l = Lu().LIST_ARCHETYPE_DUPED_FEATS, c = 0; c !== l.length; ++c) { var f = l[c]; if (m(a, f.originalFeatID)) { if (this.checkFeatsByLevel_0(t, e, i, f.newFeatID)) return !0 } else if (m(a, f.newFeatID) && this.checkFeatsByLevel_0(t, e, i, f.originalFeatID)) return !0 } return !1 }, Iq.prototype.hasFeatByLevelInChild_0 = function (t, i, a, r) { var n; if (null == a) return !1; for (n = o(i).hashMapChildFeatChoices.keys.iterator(); n.hasNext();) { var s = n.next(); if (!m(s, a)) { var l, c = t.getCharacterData().hashMapFeatSelections; if ((e.isType(l = c, y) ? l : d()).containsKey_11rb$(s)) { var p, h = t.getCharacterData().hashMapFeatSelections, u = (e.isType(p = h, y) ? p : d()).get_11rb$(s); if (m(o(u).toLowerCase(), o(r).toLowerCase())) return !0 } } var _ = i.hashMapChildFeatChoices.get_11rb$(s); if (this.hasFeatByLevelInChild_0(t, _, a, r)) return !0 } return !1 }, Iq.prototype.getNumTimesFeatSelectByLevelExcludingChoiceRef_uf1787$ = function (t, i, a, r) { for (var n, c, p, h = 0, d = 1; d <= a; d++) { var u = t.getFeatChoicesAtLevel_za3lpa$(d); for (n = o(u).keys.iterator(); n.hasNext();) { var _ = n.next(); if (!m(_, i) && t.getCharacterData().hashMapFeatSelections.containsKey_11rb$(_)) { var f = t.getCharacterData().hashMapFeatSelections.get_11rb$(_); m(o(f).toLowerCase(), r.toLowerCase()) && (h = h + 1 | 0) } var y = u.get_11rb$(_); h = h + this.getNumTimesFeatSelectByLevelInChild_0(t, y, i, r) | 0 } } for (c = t.hashMapFreeFeats.keys.iterator(); c.hasNext();) { var $ = c.next(); if (a >= $) try { for (p = o(t.hashMapFreeFeats.get_11rb$($)).keys.iterator(); p.hasNext();) { var g = p.next(); if (!m(g, i)) { var v = o(t.hashMapFreeFeats.get_11rb$($)).get_11rb$(g); m(o(v).featID, r) && (h = h + 1 | 0) } } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } return h }, Iq.prototype.getNumTimesFeatSelectByLevelInChild_0 = function (t, i, a, r) { var n, s = 0; for (n = o(i).hashMapChildFeatChoices.keys.iterator(); n.hasNext();) { var l = n.next(); if (!m(l, a)) { var c, p = t.getCharacterData().hashMapFeatSelections; if ((e.isType(c = p, y) ? c : d()).containsKey_11rb$(l)) { var h, u = t.getCharacterData().hashMapFeatSelections, _ = (e.isType(h = u, y) ? h : d()).get_11rb$(l); m(o(_).toLowerCase(), r.toLowerCase()) && (s = s + 1 | 0) } } var f = i.hashMapChildFeatChoices.get_11rb$(l); s = s + this.getNumTimesFeatSelectByLevelInChild_0(t, f, a, r) | 0 } return s }, Iq.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var wq = null; function Lq() { return null === wq && new Iq, wq } function Tq() { } function kq(t) { Mq(), W0.call(this, t), this.hashMapFeatRequirements = c(); var e = this.hashMapFeatRequirements, i = new Nq; e.put_xwzc9p$("BARBARIAN_Acute Scent", i); var a = this.hashMapFeatRequirements, r = new Dq; a.put_xwzc9p$("GENERAL_Automatic Knowledge", r); var n = this.hashMapFeatRequirements, o = new xq; n.put_xwzc9p$("GENERAL_Assured Identification", o); var s = this.hashMapFeatRequirements, l = new zq; s.put_xwzc9p$("GENERAL_Reveal True Name\n", l); var p = this.hashMapFeatRequirements, h = new Oq; p.put_xwzc9p$("ARCHETYPE_GHOST EASTER_Ghost Eater Dedication", h); var d = this.hashMapFeatRequirements, u = new Fq; d.put_xwzc9p$("ROGUE_Loaner Spell", u); var _ = this.hashMapFeatRequirements, f = new Bq; _.put_xwzc9p$("ARCHETYPE_SCROLL TRICKSTER_Scroll Trickster", f); var y = this.hashMapFeatRequirements, m = new jq; y.put_xwzc9p$("ARCHETYPE_GUILD_AGENT_Diverse Recognition", m); var $ = this.hashMapFeatRequirements, g = new Hq; $.put_xwzc9p$("ARCHETYPE_SCROLLMASTER_Masterful Obfuscation", g); var v = this.hashMapFeatRequirements, S = new qq; v.put_xwzc9p$("ARCHETYPE_SCROLLMASTER_Bestiary Scholar", S); var C = this.hashMapFeatRequirements, E = new Uq; C.put_xwzc9p$("ARCHETYPE_SWORDMASTER_Recollect Studies", E); var A = this.hashMapFeatRequirements, b = new Gq; A.put_xwzc9p$("ARCHETYPE_SWORDMASTER_Armored Rest", b); var I = this.hashMapFeatRequirements, w = new Wq; I.put_xwzc9p$("ARCHETYPE_SWORDMASTER_Armored Exercise", w); var L = this.hashMapFeatRequirements, T = new Yq; L.put_xwzc9p$("ARCHETYPE_RITUALIST_Ritualist Dedication", T); var k = this.hashMapFeatRequirements, R = new Vq; k.put_xwzc9p$("ARCHETYPE_VIGILANTE_Hidden Magic", R); var P = this.hashMapFeatRequirements, M = new Kq; P.put_xwzc9p$("ARCHETYPE_CAVALIER_Cavalier Dedication", M); var N = this.hashMapFeatRequirements, D = new Xq; N.put_xwzc9p$("ARCHETYPE_MARSHAL_Marshal Dedication", D); var x = this.hashMapFeatRequirements, z = new Jq; x.put_xwzc9p$("GENERAL_Consult the Spirits", z); var O = this.hashMapFeatRequirements, F = new Zq; O.put_xwzc9p$("GENERAL_Discreet Inquiry", F); var B = this.hashMapFeatRequirements, j = new Qq; B.put_xwzc9p$("GENERAL_Battle Planner", j); var H = this.hashMapFeatRequirements, q = new tU; H.put_xwzc9p$("GENERAL_Seasoned", q); var U = this.hashMapFeatRequirements, G = new eU; U.put_xwzc9p$("GENERAL_Armor Assist", G); var W = this.hashMapFeatRequirements, Y = new iU; W.put_xwzc9p$("GENERAL_Different Worlds", Y); var V = this.hashMapFeatRequirements, K = new aU(t); V.put_xwzc9p$("GENERAL_Unmistakable Lore", K); var X = this.hashMapFeatRequirements, J = new rU; X.put_xwzc9p$("ARCHETYPE_GOLDEN LEAGUE XUN_Golden League Xun Dedication", J); var Z = this.hashMapFeatRequirements, Q = new nU; Z.put_xwzc9p$("GENERAL_Legendary Professional", Q); var tt = this.hashMapFeatRequirements, et = new oU(this); tt.put_xwzc9p$("ARCHETYPE_SIXTH PILLAR_Sixth Pillar Dedication", et); var it = this.hashMapFeatRequirements, at = new sU; it.put_xwzc9p$("GENERAL_Legendary Climber", at); var rt = this.hashMapFeatRequirements, nt = new lU; rt.put_xwzc9p$("GENERAL_Quick Contacts", nt); var ot = this.hashMapFeatRequirements, st = new cU; ot.put_xwzc9p$("GENERAL_Connections", st); var lt = this.hashMapFeatRequirements, ct = new pU; lt.put_xwzc9p$("ARCHETYPE_Fighter Resiliency", ct); var pt = this.hashMapFeatRequirements, ht = new hU; pt.put_xwzc9p$("ARCHETYPE_Monk Resiliency", ht); var dt = this.hashMapFeatRequirements, ut = new dU; dt.put_xwzc9p$("ARCHETYPE_Champion Resiliency", ut); var _t = this.hashMapFeatRequirements, ft = new uU; _t.put_xwzc9p$("ARCHETYPE_Ranger Resiliency", ft); var yt = this.hashMapFeatRequirements, mt = new _U; yt.put_xwzc9p$("ARCHETYPE_Barbarian Resiliency", mt); var $t = this.hashMapFeatRequirements, gt = new fU; $t.put_xwzc9p$("ARCHETYPE_Diverse Armor Expert", gt); var vt = this.hashMapFeatRequirements, St = new yU; vt.put_xwzc9p$("ARCHETYPE_Diverse Weapon Expert", St); var Ct = this.hashMapFeatRequirements, Et = new mU; Ct.put_xwzc9p$("ARCHETYPE_Perfection's Path", Et); var At = this.hashMapFeatRequirements, bt = new $U; At.put_xwzc9p$("ALCHEMIST_Laboratory Safety", bt); var It = this.hashMapFeatRequirements, wt = new gU; It.put_xwzc9p$("GNOME_Energized Font", wt); var Lt = this.hashMapFeatRequirements, Tt = new vU(t); Lt.put_xwzc9p$("GNOME_First World Adept", Tt); var kt = this.hashMapFeatRequirements, Rt = new SU(t); kt.put_xwzc9p$("HUMAN_Adapted Spell", Rt); var Pt = this.hashMapFeatRequirements, Mt = new CU; Pt.put_xwzc9p$("HUMAN_Skill Mastery", Mt); var Nt = this.hashMapFeatRequirements, Dt = new EU; Nt.put_xwzc9p$("HUMAN_Adapted Cantrip", Dt); var xt = this.hashMapFeatRequirements, zt = new AU; xt.put_xwzc9p$("HUMAN_Orc Sight", zt); var Ot = this.hashMapFeatRequirements, Ft = new bU; Ot.put_xwzc9p$("AASIMAR_Celestial Eyes", Ft); var Bt = this.hashMapFeatRequirements, jt = new IU; Bt.put_xwzc9p$("DUSKWALKER_Gravesight", jt); var Ht = this.hashMapFeatRequirements, qt = new wU; Ht.put_xwzc9p$("TIEFLING_Fiendish Eyes", qt); var Ut = this.hashMapFeatRequirements, Gt = new LU; Ut.put_xwzc9p$("TIEFLING_Form of the Fiend", Gt); var Wt = this.hashMapFeatRequirements, Yt = new TU; Wt.put_xwzc9p$("HUMAN_Tusks", Yt); var Vt = this.hashMapFeatRequirements, Kt = new kU; Vt.put_xwzc9p$("GNOLL_Sensitive Nose", Kt); var Xt = this.hashMapFeatRequirements, Jt = new RU; Xt.put_xwzc9p$("GRIPPLI_Nocturnal Grippli", Jt); var Zt = this.hashMapFeatRequirements, Qt = new PU; Zt.put_xwzc9p$("GOLOMA_Pierce the Darkness", Qt); var te = this.hashMapFeatRequirements, ee = new MU; te.put_xwzc9p$("GOLOMA_Arcane Sight", ee); var ie = this.hashMapFeatRequirements, ae = new NU; ie.put_xwzc9p$("LESHY_Leshy Glide", ae); var re = this.hashMapFeatRequirements, ne = new DU; re.put_xwzc9p$("DRUID_Plant Shape", ne); var oe = this.hashMapFeatRequirements, se = new xU; oe.put_xwzc9p$("FIGHTER_Powerful Shove", se); var le = this.hashMapFeatRequirements, ce = new zU; le.put_xwzc9p$("FIGHTER_Flinging Shove", ce); var pe = this.hashMapFeatRequirements, he = new OU; pe.put_xwzc9p$("MONK_Wholeness of Body", he); var de = this.hashMapFeatRequirements, ue = new FU(t); de.put_xwzc9p$("SORCERER_Arcane Evolution", ue); var _e = this.hashMapFeatRequirements, fe = new BU(t); _e.put_xwzc9p$("SORCERER_Divine Evolution", fe); var ye = this.hashMapFeatRequirements, me = new jU(t); ye.put_xwzc9p$("SORCERER_Occult Evolution", me); var $e = this.hashMapFeatRequirements, ge = new HU(t); $e.put_xwzc9p$("SORCERER_Primal Evolution", ge); var ve = this.hashMapFeatRequirements, Se = new qU; ve.put_xwzc9p$("SORCERER_Greater Physical Evolution", Se); var Ce = this.hashMapFeatRequirements, Ee = new UU; Ce.put_xwzc9p$("SORCERER_Greater Spiritual Evolution", Ee); var Ae = this.hashMapFeatRequirements, be = new GU; Ae.put_xwzc9p$("SORCERER_Greater Vital Evolution", be); var Ie = this.hashMapFeatRequirements, we = new WU; Ie.put_xwzc9p$("SORCERER_Greater Mental Evolution", we); var Le = this.hashMapFeatRequirements, Te = new YU; Le.put_xwzc9p$("SORCERER_Swift Dispel", Te); var ke = this.hashMapFeatRequirements, Re = new VU(t); ke.put_xwzc9p$("SORCERER_Blessed Blood", Re); var Pe = this.hashMapFeatRequirements, Me = new KU; Pe.put_xwzc9p$("ARCHETYPE_Expert Sorcerer Spellcasting", Me); var Ne = this.hashMapFeatRequirements, De = new XU; Ne.put_xwzc9p$("ARCHETYPE_Master Sorcerer Spellcasting", De); var xe = this.hashMapFeatRequirements, ze = new JU(t); xe.put_xwzc9p$("ARCHETYPE_Crimson Assassin Dedication", ze); var Oe = this.hashMapFeatRequirements, Fe = new ZU(t); Oe.put_xwzc9p$("ARCHETYPE_BUTTERFLY BLADE_Butterfly Blade Dedication", Fe); var Be = this.hashMapFeatRequirements, je = new QU(t); Be.put_xwzc9p$("ARCHETYPE_Duelist Dedication", je); var He = this.hashMapFeatRequirements, qe = new tG; He.put_xwzc9p$("ARCHETYPE_Hellknight Armiger Dedication", qe); var Ue = this.hashMapFeatRequirements, Ge = new eG; Ue.put_xwzc9p$("ARCHETYPE_Magic Warrior Dedication", Ge); var We = this.hashMapFeatRequirements, Ye = new iG; We.put_xwzc9p$("ARCHETYPE_Student of Perfection Dedication", Ye); var Ve = this.hashMapFeatRequirements, Ke = new aG(t); Ve.put_xwzc9p$("ARCHETYPE_Cut the Bonds", Ke); var Xe = this.hashMapFeatRequirements, Je = new rG; Xe.put_xwzc9p$("ARCHETYPE_Boaster's Challenge", Je); var Ze = this.hashMapFeatRequirements, Qe = new nG; Ze.put_xwzc9p$("ARCHETYPE_Daring Act", Qe); var ti = this.hashMapFeatRequirements, ei = new oG; ti.put_xwzc9p$("ARCHETYPE_Halcyon Spellcasting Adept", ei); var ii = this.hashMapFeatRequirements, ai = new sG; ii.put_xwzc9p$("ARCHETYPE_Halcyon Spellcasting Sage", ai); var ri = this.hashMapFeatRequirements, ni = new lG; ri.put_xwzc9p$("ARCHETYPE_Hellknight Signifer Dedication", ni); var oi = this.hashMapFeatRequirements, si = new cG; oi.put_xwzc9p$("ARCHETYPE_Gaze of Veracity", si); var li = this.hashMapFeatRequirements, ci = new pG(t); li.put_xwzc9p$("ARCHETYPE_Reaper of Repose", ci); var pi = this.hashMapFeatRequirements, hi = new hG; pi.put_xwzc9p$("ARCHETYPE_Endure Death's Touch", hi); var di = this.hashMapFeatRequirements, ui = new dG; di.put_xwzc9p$("ARCHETYPE_Knight in Shining Armor", ui); var _i = this.hashMapFeatRequirements, fi = new uG; _i.put_xwzc9p$("ARCHETYPE_Collegiate Attendant Dedication", fi); var yi = this.hashMapFeatRequirements, mi = new _G; yi.put_xwzc9p$("ARCHETYPE_Scrollmaster Dedication", mi); var $i = this.hashMapFeatRequirements, gi = new fG; $i.put_xwzc9p$("ARCHETYPE_Unravel Mysteries", gi); var vi = this.hashMapFeatRequirements, Si = new yG; vi.put_xwzc9p$("ARCHETYPE_Spellmaster Dedication", Si); var Ci = this.hashMapFeatRequirements, Ei = new mG; Ci.put_xwzc9p$("ARCHETYPE_Swordmaster Dedication", Ei); var Ai = this.hashMapFeatRequirements, bi = new $G; Ai.put_xwzc9p$("CHAMPION_Impassable Wall Stance", bi); var Ii = this.hashMapFeatRequirements, wi = new gG; Ii.put_xwzc9p$("GOBLIN_Ankle Bite", wi); var Li = this.hashMapFeatRequirements, Ti = new vG; Li.put_xwzc9p$("GOBLIN_Fang Sharpener", Ti); var ki = this.hashMapFeatRequirements, Ri = new SG; ki.put_xwzc9p$("GOBLIN_Tree Climber", Ri); var Pi = this.hashMapFeatRequirements, Mi = new CG; Pi.put_xwzc9p$("HUMAN_Construct Carver", Mi); var Ni = this.hashMapFeatRequirements, Di = new EG; Ni.put_xwzc9p$("ARCHETYPE_Crystal Keeper Dedication", Di); var xi = this.hashMapFeatRequirements, zi = new AG(t); xi.put_xwzc9p$("ARCHETYPE_Whirlwind Stance", zi); var Oi = this.hashMapFeatRequirements, Fi = new bG; Oi.put_xwzc9p$("HUMAN_Wavetouched Paragon (2)", Fi); var Bi = this.hashMapFeatRequirements, ji = new IG; Bi.put_xwzc9p$("HUMAN_Wavetouched Paragon", ji); var Hi = this.hashMapFeatRequirements, qi = new wG; Hi.put_xwzc9p$("WIZARD_Linked Focus", qi); var Ui = this.hashMapFeatRequirements, Gi = new LG; Ui.put_xwzc9p$("INVESTIGATOR_Lie Detector", Gi); var Wi = this.hashMapFeatRequirements, Yi = new TG; Wi.put_xwzc9p$("ARCHETYPE_VIGILANTE_Minion Guise", Yi); var Vi = this.hashMapFeatRequirements, Ki = new kG; Vi.put_xwzc9p$("ARCHETYPE_EDGEWATCH DETECTIVE_Edgewatch Detective Dedication", Ki); var Xi = this.hashMapFeatRequirements, Ji = new RG(t); Xi.put_xwzc9p$("ARCHETYPE_ELDRITCH ARCHER_Eldritch Archer Dedication", Ji); var Zi = this.hashMapFeatRequirements, Qi = new PG; Zi.put_xwzc9p$("GENERAL_Steel Your Resolve", Qi); var ta = this.hashMapFeatRequirements, ea = new MG; ta.put_xwzc9p$("GENERAL_Encouraging Words", ea); var ia = this.hashMapFeatRequirements, aa = new NG; ia.put_xwzc9p$("CHAMPION_Enforce Oath", aa); var ra = this.hashMapFeatRequirements, na = new DG; ra.put_xwzc9p$("KITSUNE_Kitsune Spell Mysteries", na); var oa = this.hashMapFeatRequirements, sa = new xG(this); oa.put_xwzc9p$("KITSUNE_Shifting Faces", sa); var la = this.hashMapFeatRequirements, ca = new zG; la.put_xwzc9p$("KITSUNE_Rampaging Form", ca); var pa = this.hashMapFeatRequirements, ha = new OG; pa.put_xwzc9p$("KOBOLD_Dragonblood Paragon", ha); var da = this.hashMapFeatRequirements, ua = new FG; da.put_xwzc9p$("KOBOLD_Snare Commando", ua); var _a = this.hashMapFeatRequirements, fa = new BG; _a.put_xwzc9p$("KOBOLD_Snare Commando", fa); var ya = this.hashMapFeatRequirements, ma = new jG; ya.put_xwzc9p$("ARCHETYPE_Captivator Dedication", ma); var $a = this.hashMapFeatRequirements, ga = new HG; $a.put_xwzc9p$("ARCHETYPE_Spell Trickster Dedication", ga); var va = this.hashMapFeatRequirements, Sa = new qG; va.put_xwzc9p$("VERSATILE_Invoke the Elements", Sa); var Ca = this.hashMapFeatRequirements, Ea = new UG; Ca.put_xwzc9p$("VERSATILE_Deliberate Death", Ea); var Aa = this.hashMapFeatRequirements, ba = new GG; Aa.put_xwzc9p$("VERSATILE_Elemental Eyes", ba); var Ia = this.hashMapFeatRequirements, wa = new WG; Ia.put_xwzc9p$("POPPET_Quadruped", wa); var La = this.hashMapFeatRequirements, Ta = new YG; La.put_xwzc9p$("POPPET_Sealed Poppet", Ta); var ka = this.hashMapFeatRequirements, Ra = new VG(t); ka.put_xwzc9p$("VERSATILE_Beastkin", Ra); var Pa = this.hashMapFeatRequirements, Ma = new KG; Pa.put_xwzc9p$("ARCHETYPE_DROW SHOOTIST_Drow Shootist Dedication", Ma); var Na = this.hashMapFeatRequirements, Da = new XG; Na.put_xwzc9p$("FIGHTER_Reflecting Riposte", Da); var xa = this.hashMapFeatRequirements, za = new JG; xa.put_xwzc9p$("ARCHETYPE_Magus Dedication", za); var Oa = this.hashMapFeatRequirements, Fa = new ZG(t); Oa.put_xwzc9p$("ARCHETYPE_Expert Summoner Spellcasting", Fa); var Ba = this.hashMapFeatRequirements, ja = new QG(t); Ba.put_xwzc9p$("ARCHETYPE_Master Summoner Spellcasting", ja); var Ha = this.hashMapFeatRequirements, qa = new tW; Ha.put_xwzc9p$("ARCHETYPE_Cathartic Mage Dedication", qa); var Ua = this.hashMapFeatRequirements, Ga = new eW; Ua.put_xwzc9p$("DRUID_Advanced Elemental Spell", Ga); var Wa = this.hashMapFeatRequirements, Ya = new iW; Wa.put_xwzc9p$("ARCHETYPE_Geomancer Dedication", Ya); var Va = this.hashMapFeatRequirements, Ka = new aW; Va.put_xwzc9p$("ARCHETYPE_Shadow Reservoir", Ka); var Xa = this.hashMapFeatRequirements, Ja = new rW; Xa.put_xwzc9p$("ARCHETYPE_Unending Emptiness", Ja); var Za = this.hashMapFeatRequirements, Qa = new nW; Za.put_xwzc9p$("ARCHETYPE_Shadowcaster Dedication", Qa); var tr = this.hashMapFeatRequirements, er = new oW(this); tr.put_xwzc9p$("ARCHETYPE_Soulforger Dedication", er); var ir = this.hashMapFeatRequirements, ar = new sW; ir.put_xwzc9p$("CLASS_ARCHETYPE_Elemental Magic", ar); var rr = this.hashMapFeatRequirements, nr = new lW; rr.put_xwzc9p$("CLASS_ARCHETYPE_Flexible Spell Preparation", nr); var or = this.hashMapFeatRequirements, sr = new cW; or.put_xwzc9p$("CLASS_ARCHETYPE_Wellspring Magic", sr); var lr = this.hashMapFeatRequirements, cr = new pW; lr.put_xwzc9p$("CLASS_ARCHETYPE_Runelord Specialization", cr); var pr = this.hashMapFeatRequirements, hr = new hW; pr.put_xwzc9p$("CLASS_ARCHETYPE_Spellshot", hr); var dr = this.hashMapFeatRequirements, ur = new dW(this); dr.put_xwzc9p$("ARCHETYPE_Elementalist Dedication", ur); var _r = this.hashMapFeatRequirements, fr = new uW(this); _r.put_xwzc9p$("ARCHETYPE_Flexible Spellcaster Dedication", fr); var yr = this.hashMapFeatRequirements, mr = new _W(this); yr.put_xwzc9p$("ARCHETYPE_Spellshot Dedication", mr); var $r = this.hashMapFeatRequirements, gr = new fW(this); $r.put_xwzc9p$("ARCHETYPE_Wellspring Mage Dedication", gr); var vr = this.hashMapFeatRequirements, Sr = new yW(this); vr.put_xwzc9p$("ARCHETYPE_Runelord Dedication", Sr); var Cr = this.hashMapFeatRequirements, Er = new mW; Cr.put_xwzc9p$("ARCHETYPE_Trapsmith Dedication", Er); var Ar = this.hashMapFeatRequirements, br = new $W; Ar.put_xwzc9p$("INVENTOR_Prototype Companion", br); var Ir = this.hashMapFeatRequirements, wr = new gW; Ir.put_xwzc9p$("ARCHETYPE_Beast Gunner Dedication", wr); var Lr = this.hashMapFeatRequirements, Tr = new vW; Lr.put_xwzc9p$("ARCHETYPE_Controlled Blast", Tr); var kr = this.hashMapFeatRequirements, Rr = new SW; kr.put_xwzc9p$("LESHY_Defensive Needles", Rr); var Pr = this.hashMapFeatRequirements, Mr = new CW; Pr.put_xwzc9p$("ROGUE_Magical Trickster", Mr); var Nr = this.hashMapFeatRequirements, Dr = new EW; Nr.put_xwzc9p$("ROGUE_Magical Trickster Eldritch Trickster", Dr) } function Rq() { Pq = this } bq.$metadata$ = { kind: p, simpleName: "FeatPrereq", interfaces: [W0] }, Tq.$metadata$ = { kind: p, simpleName: "FeatRequirement", interfaces: [] }, Rq.prototype.hasAttackOfOpportunity_0 = function (t, e, i) { return e.hasFeatIgnoringExcludingFeatRef_puj7f4$(i, "CHAMPION_Attack of Opportunity") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(i, "BARBARIAN_Attack of Opportunity") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(i, "ARCHETYPE_Opportunist") || m(t.getCharacterData().getClassName(), Rr().CLASS_FIGHTER) }, Rq.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Pq = null; function Mq() { return null === Pq && new Rq, Pq } function Nq() { Tq.call(this) } function Dq() { Tq.call(this) } function xq() { Tq.call(this) } function zq() { Tq.call(this) } function Oq() { Tq.call(this) } function Fq() { Tq.call(this) } function Bq() { Tq.call(this) } function jq() { Tq.call(this) } function Hq() { Tq.call(this) } function qq() { Tq.call(this) } function Uq() { Tq.call(this) } function Gq() { Tq.call(this) } function Wq() { Tq.call(this) } function Yq() { Tq.call(this) } function Vq() { Tq.call(this) } function Kq() { Tq.call(this) } function Xq() { Tq.call(this) } function Jq() { Tq.call(this) } function Zq() { Tq.call(this) } function Qq() { Tq.call(this) } function tU() { Tq.call(this) } function eU() { Tq.call(this) } function iU() { Tq.call(this) } function aU(t) { this.closure$dataControl = t, Tq.call(this) } function rU() { Tq.call(this) } function nU() { Tq.call(this) } function oU(t) { this.this$FeatRequirementMethods = t, Tq.call(this) } function sU() { Tq.call(this) } function lU() { Tq.call(this) } function cU() { Tq.call(this) } function pU() { Tq.call(this) } function hU() { Tq.call(this) } function dU() { Tq.call(this) } function uU() { Tq.call(this) } function _U() { Tq.call(this) } function fU() { Tq.call(this) } function yU() { Tq.call(this) } function mU() { Tq.call(this) } function $U() { Tq.call(this) } function gU() { Tq.call(this) } function vU(t) { this.closure$dataControl = t, Tq.call(this) } function SU(t) { this.closure$dataControl = t, Tq.call(this) } function CU() { Tq.call(this) } function EU() { Tq.call(this) } function AU() { Tq.call(this) } function bU() { Tq.call(this) } function IU() { Tq.call(this) } function wU() { Tq.call(this) } function LU() { Tq.call(this) } function TU() { Tq.call(this) } function kU() { Tq.call(this) } function RU() { Tq.call(this) } function PU() { Tq.call(this) } function MU() { Tq.call(this) } function NU() { Tq.call(this) } function DU() { Tq.call(this) } function xU() { Tq.call(this) } function zU() { Tq.call(this) } function OU() { Tq.call(this) } function FU(t) { this.closure$dataControl = t, Tq.call(this) } function BU(t) { this.closure$dataControl = t, Tq.call(this) } function jU(t) { this.closure$dataControl = t, Tq.call(this) } function HU(t) { this.closure$dataControl = t, Tq.call(this) } function qU() { Tq.call(this) } function UU() { Tq.call(this) } function GU() { Tq.call(this) } function WU() { Tq.call(this) } function YU() { Tq.call(this) } function VU(t) { this.closure$dataControl = t, Tq.call(this) } function KU() { Tq.call(this) } function XU() { Tq.call(this) } function JU(t) { this.closure$dataControl = t, Tq.call(this) } function ZU(t) { this.closure$dataControl = t, Tq.call(this) } function QU(t) { this.closure$dataControl = t, Tq.call(this) } function tG() { Tq.call(this) } function eG() { Tq.call(this) } function iG() { Tq.call(this) } function aG(t) { this.closure$dataControl = t, Tq.call(this) } function rG() { Tq.call(this) } function nG() { Tq.call(this) } function oG() { Tq.call(this) } function sG() { Tq.call(this) } function lG() { Tq.call(this) } function cG() { Tq.call(this) } function pG(t) { this.closure$dataControl = t, Tq.call(this) } function hG() { Tq.call(this) } function dG() { Tq.call(this) } function uG() { Tq.call(this) } function _G() { Tq.call(this) } function fG() { Tq.call(this) } function yG() { Tq.call(this) } function mG() { Tq.call(this) } function $G() { Tq.call(this) } function gG() { Tq.call(this) } function vG() { Tq.call(this) } function SG() { Tq.call(this) } function CG() { Tq.call(this) } function EG() { Tq.call(this) } function AG(t) { this.closure$dataControl = t, Tq.call(this) } function bG() { Tq.call(this) } function IG() { Tq.call(this) } function wG() { Tq.call(this) } function LG() { Tq.call(this) } function TG() { Tq.call(this) } function kG() { Tq.call(this) } function RG(t) { this.closure$dataControl = t, Tq.call(this) } function PG() { Tq.call(this) } function MG() { Tq.call(this) } function NG() { Tq.call(this) } function DG() { Tq.call(this) } function xG(t) { this.this$FeatRequirementMethods = t, Tq.call(this) } function zG() { Tq.call(this) } function OG() { Tq.call(this) } function FG() { Tq.call(this) } function BG() { Tq.call(this) } function jG() { Tq.call(this) } function HG() { Tq.call(this) } function qG() { Tq.call(this) } function UG() { Tq.call(this) } function GG() { Tq.call(this) } function WG() { Tq.call(this) } function YG() { Tq.call(this) } function VG(t) { this.closure$dataControl = t, Tq.call(this) } function KG() { Tq.call(this) } function XG() { Tq.call(this) } function JG() { Tq.call(this) } function ZG(t) { this.closure$dataControl = t, Tq.call(this) } function QG(t) { this.closure$dataControl = t, Tq.call(this) } function tW() { Tq.call(this) } function eW() { Tq.call(this) } function iW() { Tq.call(this) } function aW() { Tq.call(this) } function rW() { Tq.call(this) } function nW() { Tq.call(this) } function oW(t) { this.this$FeatRequirementMethods = t, Tq.call(this) } function sW() { Tq.call(this) } function lW() { Tq.call(this) } function cW() { Tq.call(this) } function pW() { Tq.call(this) } function hW() { Tq.call(this) } function dW(t) { this.this$FeatRequirementMethods = t, Tq.call(this) } function uW(t) { this.this$FeatRequirementMethods = t, Tq.call(this) } function _W(t) { this.this$FeatRequirementMethods = t, Tq.call(this) } function fW(t) { this.this$FeatRequirementMethods = t, Tq.call(this) } function yW(t) { this.this$FeatRequirementMethods = t, Tq.call(this) } function mW() { Tq.call(this) } function $W() { Tq.call(this) } function gW() { Tq.call(this) } function vW() { Tq.call(this) } function SW() { Tq.call(this) } function CW() { Tq.call(this) } function EW() { Tq.call(this) } function AW(t, e) { wW(), this.featID = t, this.level = e, this.extraInformation = null } function bW() { IW = this } kq.prototype.hasClass_0 = function (t, e) { return !!m(t.getCharacterData().getClassName(), e) || !(null == t.getCharacterData().getDualClass() || !m(t.getCharacterData().getDualClass(), e)) }, kq.prototype.hassClassArchetype_0 = function (t, e) { return null != t.getCharacterData().getClassArchetype() && m(t.getCharacterData().getClassArchetype(), e) }, kq.prototype.hasSpellsByLevel_5btbp7$ = function (t) { var e, i, a = t.getCharacterData().getCharacterLevel(); for (e = t.hashMapSpellCasters.values.iterator(); e.hasNext();)if (e.next().level <= a) return !0; for (i = t.hashMapAwardedPowers.values.iterator(); i.hasNext();)if (i.next().level <= a) return !0; return !1 }, Nq.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "BARBARIAN_Acute Vision") && !BK().hasSpecialByLevel_o7aqax$(t, "Darkvision", i)) }, Nq.$metadata$ = { kind: p, interfaces: [Tq] }, Dq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n, s, l = [pK().ARCANA, pK().CRAFTING, pK().NATURE, pK().OCCULTISM, pK().RELIGION, pK().SOCIETY]; if (e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GENERAL_Assurance") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "ARCHETYPE_LOREMASTER_Assured Knowledge") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "BARD_Assured Knowledge")) { var c = u(); for (r = 0; r !== l.length; ++r) { var p = l[r]; c.add_11rb$(p) } for (n = e.hashMapProficiencyLevels.keys.iterator(); n.hasNext();) { var h = n.next(); _(h.toLowerCase(), "lore") && c.add_11rb$(h) } for (s = c.iterator(); s.hasNext();) { var d = s.next(); if (o(e.hashMapProficiencyLevels.get_11rb$(d)) >= 4) return !0 } } return !1 }, Dq.$metadata$ = { kind: p, interfaces: [Tq] }, xq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 4) return !0 } return !1 }, xq.$metadata$ = { kind: p, interfaces: [Tq] }, zq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 2) return !0 } return !1 }, zq.$metadata$ = { kind: p, interfaces: [Tq] }, Oq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 2) return !0 } return !1 }, Oq.$metadata$ = { kind: p, interfaces: [Tq] }, Fq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 2) return !0 } return !1 }, Fq.$metadata$ = { kind: p, interfaces: [Tq] }, Bq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 2) return !0 } return !1 }, Bq.$metadata$ = { kind: p, interfaces: [Tq] }, jq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 6) return !0 } return !1 }, jq.$metadata$ = { kind: p, interfaces: [Tq] }, Hq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 6) return !0 } return !1 }, Hq.$metadata$ = { kind: p, interfaces: [Tq] }, qq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().CRAFTING, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 6) return !0 } return !1 }, qq.$metadata$ = { kind: p, interfaces: [Tq] }, Uq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 4) return !0 } return !1 }, Uq.$metadata$ = { kind: p, interfaces: [Tq] }, Gq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().PROFICIENCY_LIGHT_ARMOR, pK().PROFICIENCY_MEDIUM_ARMOR, pK().PROFICIENCY_HEAVY_ARMOR]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 2) return !0 } return !1 }, Gq.$metadata$ = { kind: p, interfaces: [Tq] }, Wq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().PROFICIENCY_LIGHT_ARMOR, pK().PROFICIENCY_MEDIUM_ARMOR, pK().PROFICIENCY_HEAVY_ARMOR]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 2) return !0 } return !1 }, Wq.$metadata$ = { kind: p, interfaces: [Tq] }, Yq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 4) return !0 } return !1 }, Yq.$metadata$ = { kind: p, interfaces: [Tq] }, Vq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 4) return !0 } return !1 }, Vq.$metadata$ = { kind: p, interfaces: [Tq] }, Kq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().NATURE, pK().SOCIETY]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 2) return !0 } return !1 }, Kq.$metadata$ = { kind: p, interfaces: [Tq] }, Xq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().DIPLOMACY, pK().INTIMIDATION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 2) return !0 } return !1 }, Xq.$metadata$ = { kind: p, interfaces: [Tq] }, Jq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 6) return !0 } return !1 }, Jq.$metadata$ = { kind: p, interfaces: [Tq] }, Zq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().DECEPTION, pK().DIPLOMACY]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 4) return !0 } return !1 }, Zq.$metadata$ = { kind: p, interfaces: [Tq] }, Qq.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = e.hashMapProficiencyLevels.keys.iterator(); r.hasNext();) { var n = r.next(); if (_(n.toLowerCase(), "warfare") && o(e.hashMapProficiencyLevels.get_11rb$(n)) >= 4) return !0 } return !1 }, Qq.$metadata$ = { kind: p, interfaces: [Tq] }, tU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; if (o(e.hashMapProficiencyLevels.get_11rb$(pK().CRAFTING)) >= 2) return !0; for (r = e.hashMapProficiencyLevels.keys.iterator(); r.hasNext();) { var n = r.next(), s = _(n.toLowerCase(), "cooking"); if (s || (s = _(n.toLowerCase(), "alcohol")), s && o(e.hashMapProficiencyLevels.get_11rb$(n)) >= 2) return !0 } return !1 }, tU.$metadata$ = { kind: p, interfaces: [Tq] }, eU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; if (o(e.hashMapProficiencyLevels.get_11rb$(pK().ATHELTICS)) >= 2) return !0; for (r = e.hashMapProficiencyLevels.keys.iterator(); r.hasNext();) { var n = r.next(); if (_(n.toLowerCase(), "warfare") && o(e.hashMapProficiencyLevels.get_11rb$(n)) >= 2) return !0 } return !1 }, eU.$metadata$ = { kind: p, interfaces: [Tq] }, iU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = t.hashMapAdditionalAncestries.values.iterator(); r.hasNext();)if (i >= r.next().level) return !0; return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, Su().HERITAGE_HALF_ORC) && !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, Su().HERITAGE_HALF_ELF)) }, iU.$metadata$ = { kind: p, interfaces: [Tq] }, aU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = this.closure$dataControl.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(t).iterator(); r.hasNext();) { var n = r.next(); if (_(n.toLowerCase(), "lore")) { var s = t.getProficiency_61zpoe$(n); if (o(s).getProficiencyAtLevel_za3lpa$(i) >= 4) return !0 } } return !1 }, aU.$metadata$ = { kind: p, interfaces: [Tq] }, rU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = e.hashMapProficiencyLevels.keys.iterator(); r.hasNext();) { var n = r.next(); if (_(n, "Underworld") && o(e.hashMapProficiencyLevels.get_11rb$(n)) >= 6) return !0 } return !1 }, rU.$metadata$ = { kind: p, interfaces: [Tq] }, nU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = t.listAllSkillProficiencies.iterator(); r.hasNext();) { var n = r.next(); if (_(n.toLowerCase(), "lore")) { var s = t.getProficiency_61zpoe$(n); if (o(s).getProficiencyAtLevel_za3lpa$(i) >= 8) return !0 } } return !1 }, nU.$metadata$ = { kind: p, interfaces: [Tq] }, oU.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.this$FeatRequirementMethods.hasSpellsByLevel_5btbp7$(t) }, oU.$metadata$ = { kind: p, interfaces: [Tq] }, sU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GENERAL_Quick Climb") && !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GOBLIN_Cave Climber")) }, sU.$metadata$ = { kind: p, interfaces: [Tq] }, lU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GENERAL_Criminal Connections") && !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GENERAL_Connections")) }, lU.$metadata$ = { kind: p, interfaces: [Tq] }, cU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !!m(t.getCharacterData().getBackground(), "BACKGROUND_Tall Tale") || !!(e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GENERAL_Courtly Graces") && o(e.hashMapProficiencyLevels.get_11rb$(pK().SOCIETY)) >= 4) }, cU.$metadata$ = { kind: p, interfaces: [Tq] }, pU.prototype.available_i4q8y4$ = function (t, e, i, a) { return t.getClassTemplate().hp <= 8 }, pU.$metadata$ = { kind: p, interfaces: [Tq] }, hU.prototype.available_i4q8y4$ = function (t, e, i, a) { return t.getClassTemplate().hp <= 8 }, hU.$metadata$ = { kind: p, interfaces: [Tq] }, dU.prototype.available_i4q8y4$ = function (t, e, i, a) { return t.getClassTemplate().hp <= 8 }, dU.$metadata$ = { kind: p, interfaces: [Tq] }, uU.prototype.available_i4q8y4$ = function (t, e, i, a) { return t.getClassTemplate().hp <= 8 }, uU.$metadata$ = { kind: p, interfaces: [Tq] }, _U.prototype.available_i4q8y4$ = function (t, e, i, a) { return t.getClassTemplate().hp <= 10 }, _U.$metadata$ = { kind: p, interfaces: [Tq] }, fU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n; for (r = pK().ARRAY_ARMOR_PROFICIENCY_TYPES, n = 0; n !== r.length; ++n) { var s = r[n]; if (e.hashMapProficiencyLevels.containsKey_11rb$(s) && o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 4) return !0 } return !1 }, fU.$metadata$ = { kind: p, interfaces: [Tq] }, yU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n, s; for (r = pK().ARRAY_WEAPON_PROFICIENCY_TYPES, n = 0; n !== r.length; ++n) { var l = r[n]; if (e.hashMapProficiencyLevels.containsKey_11rb$(l) && o(e.hashMapProficiencyLevels.get_11rb$(l)) >= 4) return !0 } for (s = t.hashMapIndividualWeaponProficiencies.values.iterator(); s.hasNext();)if (s.next().getProficiencyAtLevel_za3lpa$(i) >= 4) return !0; return !1 }, yU.$metadata$ = { kind: p, interfaces: [Tq] }, mU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n; for (r = _K().ARRAY_SAVE_PROFICIENCIES, n = 0; n !== r.length; ++n) { var s = r[n]; if (e.hashMapProficiencyLevels.containsKey_11rb$(s) && o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 4) return !0 } return !1 }, mU.$metadata$ = { kind: p, interfaces: [Tq] }, $U.prototype.available_i4q8y4$ = function (t, e, i, a) { return 4 === e.hashMapProficiencyLevels.get_11rb$(pK().PROFICIENCY_REFLEX) || 4 === e.hashMapProficiencyLevels.get_11rb$(pK().PROFICIENCY_FORTITUDE) }, $U.$metadata$ = { kind: p, interfaces: [Tq] }, gU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !!(e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GNOME_First World Magic") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GNOME_Fey-Touched Gnome") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GNOME_Wellspring Gnome")) }, gU.$metadata$ = { kind: p, interfaces: [Tq] }, vU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = x$().getWellSpringSpellList_fhac18$(this.closure$dataControl, t); return !!this.closure$dataControl.managerFeats.featPrereq.hasInnateMagicType_bh8xs5$(t, r, i) }, vU.$metadata$ = { kind: p, interfaces: [Tq] }, SU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !!this.closure$dataControl.managerFeats.featPrereq.isSpellCaser_vy76y1$(t, i) }, SU.$metadata$ = { kind: p, interfaces: [Tq] }, CU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = !1, o = !1; for (r = e.hashMapProficiencyLevels.values.iterator(); r.hasNext();) { var s = r.next(); if (4 === s && (n = !0), 2 === s && (o = !0), n && o) return !0 } return !1 }, CU.$metadata$ = { kind: p, interfaces: [Tq] }, EU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = t.hashMapSpellCasters.values.iterator(); r.hasNext();)if (i >= r.next().level) return !0; return !1 }, EU.$metadata$ = { kind: p, interfaces: [Tq] }, AU.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i }, AU.$metadata$ = { kind: p, interfaces: [Tq] }, bU.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i }, bU.$metadata$ = { kind: p, interfaces: [Tq] }, IU.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i }, IU.$metadata$ = { kind: p, interfaces: [Tq] }, wU.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i }, wU.$metadata$ = { kind: p, interfaces: [Tq] }, LU.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i }, LU.$metadata$ = { kind: p, interfaces: [Tq] }, TU.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i }, TU.$metadata$ = { kind: p, interfaces: [Tq] }, kU.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i }, kU.$metadata$ = { kind: p, interfaces: [Tq] }, RU.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i }, RU.$metadata$ = { kind: p, interfaces: [Tq] }, PU.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i && BK().hasSpecialByLevel_o7aqax$(t, se().UNIVERSAL_LOW_LIGHT_VISION, i) }, PU.$metadata$ = { kind: p, interfaces: [Tq] }, MU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !t.hashMapSpellCasters.isEmpty() }, MU.$metadata$ = { kind: p, interfaces: [Tq] }, NU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "LESHY_Leaf Leshy") && !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GENERAL_Cat Fall")) }, NU.$metadata$ = { kind: p, interfaces: [Tq] }, DU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "DRUID_Wild Shape") && !BK().hasSpecialByLevel_o7aqax$(t, "Leaf Order", i)) }, DU.$metadata$ = { kind: p, interfaces: [Tq] }, xU.prototype.available_i4q8y4$ = function (t, e, i, a) { return e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "FIGHTER_Aggressive Block") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "FIGHTER_Brutish Shove") }, xU.$metadata$ = { kind: p, interfaces: [Tq] }, zU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "FIGHTER_Aggressive Block") && !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "FIGHTER_Brutish Shove")) }, zU.$metadata$ = { kind: p, interfaces: [Tq] }, OU.prototype.available_i4q8y4$ = function (t, e, i, a) { return e.maxFocusPoints > 0 }, OU.$metadata$ = { kind: p, interfaces: [Tq] }, FU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = AH().getBloodline_fhac18$(this.closure$dataControl, t); return null != r && 0 === r.spellList }, FU.$metadata$ = { kind: p, interfaces: [Tq] }, BU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = AH().getBloodline_fhac18$(this.closure$dataControl, t); return null != r && 1 === r.spellList }, BU.$metadata$ = { kind: p, interfaces: [Tq] }, jU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = AH().getBloodline_fhac18$(this.closure$dataControl, t); return null != r && 2 === r.spellList }, jU.$metadata$ = { kind: p, interfaces: [Tq] }, HU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = AH().getBloodline_fhac18$(this.closure$dataControl, t); return null != r && 3 === r.spellList }, HU.$metadata$ = { kind: p, interfaces: [Tq] }, qU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "SORCERER_Arcane Evolution") && !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "SORCERER_Primal Evolution")) }, qU.$metadata$ = { kind: p, interfaces: [Tq] }, UU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "SORCERER_Divine Evolution") && !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "SORCERER_Occult Evolution")) }, UU.$metadata$ = { kind: p, interfaces: [Tq] }, GU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "SORCERER_Divine Evolution") && !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "SORCERER_Primal Evolution")) }, GU.$metadata$ = { kind: p, interfaces: [Tq] }, WU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "SORCERER_Arcane Evolution") && !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "SORCERER_Occult Evolution")) }, WU.$metadata$ = { kind: p, interfaces: [Tq] }, YU.prototype.available_i4q8y4$ = function (t, e, i, a) { return !0 }, YU.$metadata$ = { kind: p, interfaces: [Tq] }, VU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = AH().getBloodline_fhac18$(this.closure$dataControl, t); return null != r && 1 === r.spellList }, VU.$metadata$ = { kind: p, interfaces: [Tq] }, KU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 6) return !0 } return !1 }, KU.$metadata$ = { kind: p, interfaces: [Tq] }, XU.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 8) return !0 } return !1 }, XU.$metadata$ = { kind: p, interfaces: [Tq] }, JU.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.closure$dataControl.managerWeapons.getWeaponTrainingLevel_zici4a$(t, "Sawtooth Saber", i) > 0 }, JU.$metadata$ = { kind: p, interfaces: [Tq] }, ZU.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.closure$dataControl.managerWeapons.getWeaponTrainingLevel_zici4a$(t, "Butterfly Sword", i) > 0 }, ZU.$metadata$ = { kind: p, interfaces: [Tq] }, QU.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.closure$dataControl.managerWeapons.getWeaponTrainingLevel_zici4a$(t, "Dueling Sword", i) > 0 }, QU.$metadata$ = { kind: p, interfaces: [Tq] }, tG.prototype.available_i4q8y4$ = function (t, e, i, a) { return o(t.getProficiency_61zpoe$(pK().PROFICIENCY_HEAVY_ARMOR)).getProficiencyAtLevel_za3lpa$(i) > 0 }, tG.$metadata$ = { kind: p, interfaces: [Tq] }, eG.prototype.available_i4q8y4$ = function (t, e, i, a) { return e.maxFocusPoints > 0 }, eG.$metadata$ = { kind: p, interfaces: [Tq] }, iG.prototype.available_i4q8y4$ = function (t, e, i, a) { return o(t.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS)).getProficiencyAtLevel_za3lpa$(i) > 2 || !!BK().hasSpecialByLevel_o7aqax$(t, "Powerful Fist", i) }, iG.$metadata$ = { kind: p, interfaces: [Tq] }, aG.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.closure$dataControl.managerWeapons.getHighestWeaponProficiency_5lafmk$(t, i, null) > 2 }, aG.$metadata$ = { kind: p, interfaces: [Tq] }, rG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = T([pK().DECEPTION, pK().DIPLOMACY, pK().INTIMIDATION]).iterator(); r.hasNext();) { var n = r.next(); if (o(e.hashMapProficiencyLevels.get_11rb$(n)) >= 4) return !0 } return !1 }, rG.$metadata$ = { kind: p, interfaces: [Tq] }, nG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = T([pK().ATHELTICS, pK().ACROBATICS]).iterator(); r.hasNext();) { var n = r.next(); if (o(e.hashMapProficiencyLevels.get_11rb$(n)) >= 2) return !0 } return !1 }, nG.$metadata$ = { kind: p, interfaces: [Tq] }, oG.prototype.available_i4q8y4$ = function (t, e, i, a) { return o(e.hashMapProficiencyLevels.get_11rb$(pK().ARCANA)) >= 6 && o(e.hashMapProficiencyLevels.get_11rb$(pK().NATURE)) >= 4 || o(e.hashMapProficiencyLevels.get_11rb$(pK().NATURE)) >= 6 && o(e.hashMapProficiencyLevels.get_11rb$(pK().ARCANA)) >= 4 }, oG.$metadata$ = { kind: p, interfaces: [Tq] }, sG.prototype.available_i4q8y4$ = function (t, e, i, a) { return o(e.hashMapProficiencyLevels.get_11rb$(pK().ARCANA)) >= 8 && o(e.hashMapProficiencyLevels.get_11rb$(pK().NATURE)) >= 6 || o(e.hashMapProficiencyLevels.get_11rb$(pK().NATURE)) >= 8 && o(e.hashMapProficiencyLevels.get_11rb$(pK().ARCANA)) >= 6 }, sG.$metadata$ = { kind: p, interfaces: [Tq] }, lG.prototype.available_i4q8y4$ = function (t, e, i, a) { return !t.hashMapSpellCasters.isEmpty() }, lG.$metadata$ = { kind: p, interfaces: [Tq] }, cG.prototype.available_i4q8y4$ = function (t, e, i, a) { return e.maxFocusPoints > 0 }, cG.$metadata$ = { kind: p, interfaces: [Tq] }, pG.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.closure$dataControl.managerWeapons.getHighestWeaponProficiency_5lafmk$(t, i, null) >= 6 }, pG.$metadata$ = { kind: p, interfaces: [Tq] }, hG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = T([pK().PROFICIENCY_LIGHT_ARMOR, pK().PROFICIENCY_MEDIUM_ARMOR]).iterator(); r.hasNext();) { var n = r.next(); if (o(e.hashMapProficiencyLevels.get_11rb$(n)) >= 4) return !0 } return !1 }, hG.$metadata$ = { kind: p, interfaces: [Tq] }, dG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = [pK().PROFICIENCY_LIGHT_ARMOR, pK().PROFICIENCY_MEDIUM_ARMOR, pK().PROFICIENCY_UNARMORED]; for (r = 0; r !== n.length; ++r) { var s = n[r]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 4) return !0 } return !1 }, dG.$metadata$ = { kind: p, interfaces: [Tq] }, uG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = T([pK().ARCANA, pK().NATURE]).iterator(); r.hasNext();) { var n = r.next(); if (o(e.hashMapProficiencyLevels.get_11rb$(n)) >= 2) return !0 } return !1 }, uG.$metadata$ = { kind: p, interfaces: [Tq] }, _G.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = e.hashMapProficiencyLevels.keys.iterator(); r.hasNext();) { var n = r.next(); if (_(n, "Lore") && o(e.hashMapProficiencyLevels.get_11rb$(n)) >= 4) return !0 } return !1 }, _G.$metadata$ = { kind: p, interfaces: [Tq] }, fG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n; for (r = [pK().ARCANA, pK().OCCULTISM, pK().RELIGION, pK().SOCIETY], n = 0; n !== r.length; ++n) { var s = r[n]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 6) return !0 } return !1 }, fG.$metadata$ = { kind: p, interfaces: [Tq] }, yG.prototype.available_i4q8y4$ = function (t, e, i, a) { return (o(e.reportAbilityScores).abilityScores[3] >= 14 || o(e.reportAbilityScores).abilityScores[4] >= 14 || o(e.reportAbilityScores).abilityScores[5] >= 14) && e.maxFocusPoints > 0 }, yG.$metadata$ = { kind: p, interfaces: [Tq] }, mG.prototype.available_i4q8y4$ = function (t, e, i, a) { return o(e.reportAbilityScores).abilityScores[0] >= 14 || o(e.reportAbilityScores).abilityScores[1] >= 14 || o(e.reportAbilityScores).abilityScores[2] >= 14 }, mG.$metadata$ = { kind: p, interfaces: [Tq] }, $G.prototype.available_i4q8y4$ = function (t, e, i, a) { return Mq().hasAttackOfOpportunity_0(t, e, a) }, $G.$metadata$ = { kind: p, interfaces: [Tq] }, gG.prototype.available_i4q8y4$ = function (t, e, i, a) { return e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GOBLIN_Razortooth Goblin") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GOBLIN_Fang Sharpener") }, gG.$metadata$ = { kind: p, interfaces: [Tq] }, vG.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GOBLIN_Razortooth Goblin") && !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GOBLIN_Irongut Goblin")) }, vG.$metadata$ = { kind: p, interfaces: [Tq] }, SG.prototype.available_i4q8y4$ = function (t, e, i, a) { return !(!e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GOBLIN_Tailed Goblin") && !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "GOBLIN_Treedweller Goblin")) }, SG.$metadata$ = { kind: p, interfaces: [Tq] }, CG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = t.hashMapSpellCasters.values.iterator(); r.hasNext();) { var n = r.next(); if (3 === n.spellList || 1 === n.spellList) return !0 } return !1 }, CG.$metadata$ = { kind: p, interfaces: [Tq] }, EG.prototype.available_i4q8y4$ = function (t, e, i, a) { return !!(e.hashMapProficiencyLevels.containsKey_11rb$(pK().SOCIETY) && o(e.hashMapProficiencyLevels.get_11rb$(pK().SOCIETY)) >= 2) || !!(e.hashMapProficiencyLevels.containsKey_11rb$("Lore: Elven Lore") && o(e.hashMapProficiencyLevels.get_11rb$("Lore: Elven Lore")) >= 2) }, EG.$metadata$ = { kind: p, interfaces: [Tq] }, AG.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.closure$dataControl.managerWeapons.getHighestWeaponProficiency_5lafmk$(t, i, null) >= 4 }, AG.$metadata$ = { kind: p, interfaces: [Tq] }, bG.prototype.available_i4q8y4$ = function (t, e, i, a) { return m(t.getCharacterData().getBackground(), "BACKGROUND_Wavetouched") }, bG.$metadata$ = { kind: p, interfaces: [Tq] }, IG.prototype.available_i4q8y4$ = function (t, e, i, a) { return !m(t.getCharacterData().getBackground(), "BACKGROUND_Wavetouched") }, IG.$metadata$ = { kind: p, interfaces: [Tq] }, wG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = t.getCharacterData().getSpecialSelection_puj7f4$("Arcane School", "Select Arcane School"); return null == r || !m(r, "Universalist") }, wG.$metadata$ = { kind: p, interfaces: [Tq] }, LG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = t.getCharacterData().getSpecialSelection_puj7f4$("Methodology", "Select Methodology"); return !(null == r || !m(r, "Empiricism") && !m(r, "Interrogation")) }, LG.$metadata$ = { kind: p, interfaces: [Tq] }, TG.prototype.available_i4q8y4$ = function (t, e, i, a) { return !t.hashMapPetCharacterBuilds.isEmpty() }, TG.$metadata$ = { kind: p, interfaces: [Tq] }, kG.prototype.available_i4q8y4$ = function (t, e, i, a) { return o(e.reportAbilityScores).abilityScores[3] >= 14 || o(e.reportAbilityScores).abilityScores[4] >= 14 }, kG.$metadata$ = { kind: p, interfaces: [Tq] }, RG.prototype.available_i4q8y4$ = function (t, i, a, r) { var n; for (n = this.closure$dataControl.managerWeapons.getAllWeaponsInGroup_61zpoe$("Bow").iterator(); n.hasNext();) { var c = n.next(); try { var p = this.closure$dataControl.managerWeapons.getWeaponProficiencyType_zici4a$(t, c, a), h = pK().ARRAY_WEAPON_PROFICIENCY_TYPES[p]; if (o(i.hashMapProficiencyLevels.get_11rb$(h)) >= 4) return !0; if (i.hashMapIndividualWeaponTraiinngLevels.containsKey_11rb$(c) && o(i.hashMapIndividualWeaponTraiinngLevels.get_11rb$(c)) >= 4) return !0 } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } return !1 }, RG.$metadata$ = { kind: p, interfaces: [Tq] }, PG.prototype.available_i4q8y4$ = function (t, e, i, a) { return t.getCharacterData().isUseStamina() }, PG.$metadata$ = { kind: p, interfaces: [Tq] }, MG.prototype.available_i4q8y4$ = function (t, e, i, a) { return t.getCharacterData().isUseStamina() }, MG.$metadata$ = { kind: p, interfaces: [Tq] }, NG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = e.hashMapFeatSelections.keys.iterator(); r.hasNext();) { var n = r.next(); if (_(n, "Oath")) return !0 } return !1 }, NG.$metadata$ = { kind: p, interfaces: [Tq] }, DG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = t.hashMapSpellCasters.values.iterator(); r.hasNext();) { var n = r.next(); if (n.level <= i && !0 === n.innate) return !0 } return !1 }, DG.$metadata$ = { kind: p, interfaces: [Tq] }, xG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; return !!(e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "KITSUNE_Celestial Envoy Kitsune") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "KITSUNE_Frozen Wind Kitsune") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "KITSUNE_Empty Sky Kitsune") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "KITSUNE_Myriad Forms")) || !o(null != (r = this.this$FeatRequirementMethods.hashMapFeatRequirements.get_11rb$("KITSUNE_Rampaging Form")) ? r.available_i4q8y4$(t, e, i, a) : null) }, xG.$metadata$ = { kind: p, interfaces: [Tq] }, zG.prototype.available_i4q8y4$ = function (t, e, i, a) { return e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "KITSUNE_Dark Fields Kitsune") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "KITSUNE_Earthly Wilds Kitsune") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "KITSUNE_Myriad Forms") }, zG.$metadata$ = { kind: p, interfaces: [Tq] }, OG.prototype.available_i4q8y4$ = function (t, e, i, a) { return e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "KOBOLD_Strongjaw Kobold") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "KOBOLD_Venomtail Kobold") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "KOBOLD_Kobold Breath") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "KOBOLD_Dracomancer") }, OG.$metadata$ = { kind: p, interfaces: [Tq] }, FG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n; for (r = [pK().INTIMIDATION, pK().DECEPTION], n = 0; n !== r.length; ++n) { var s = r[n]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 4) return !0 } return !1 }, FG.$metadata$ = { kind: p, interfaces: [Tq] }, BG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n; for (r = [pK().INTIMIDATION, pK().DECEPTION], n = 0; n !== r.length; ++n) { var s = r[n]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 4) return !0 } return !1 }, BG.$metadata$ = { kind: p, interfaces: [Tq] }, jG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n; for (r = [pK().DIPLOMACY, pK().DECEPTION], n = 0; n !== r.length; ++n) { var s = r[n]; if (o(e.hashMapProficiencyLevels.get_11rb$(s)) >= 2) return !0 } return !1 }, jG.$metadata$ = { kind: p, interfaces: [Tq] }, HG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n, s; for (r = t.hashMapSpellCasters.values.iterator(); r.hasNext();)if (i >= r.next().level) for (n = [pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION], s = 0; s !== n.length; ++s) { var l = n[s]; if (o(e.hashMapProficiencyLevels.get_11rb$(l)) >= 2) return !0 } return !1 }, HG.$metadata$ = { kind: p, interfaces: [Tq] }, qG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n; for (r = ["VERSATILE_Snow May", "CHANGELING_Brine May", "VERSATILE_Veil May", "VERSATILE_Virga May"], n = 0; n !== r.length; ++n) { var o = r[n]; if (e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, o)) return !0 } return !1 }, qG.$metadata$ = { kind: p, interfaces: [Tq] }, UG.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i }, UG.$metadata$ = { kind: p, interfaces: [Tq] }, GG.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i }, GG.$metadata$ = { kind: p, interfaces: [Tq] }, WG.prototype.available_i4q8y4$ = function (t, e, i, a) { return 1 === i }, WG.$metadata$ = { kind: p, interfaces: [Tq] }, YG.prototype.available_i4q8y4$ = function (t, e, i, a) { return !e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "POPPET_Stuffed Poppet") }, YG.$metadata$ = { kind: p, interfaces: [Tq] }, VG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = this.closure$dataControl.managerAncestry.getAncestryTemplate_5btbp7$(t); return _(r.traits.toLowerCase(), "humanoid") }, VG.$metadata$ = { kind: p, interfaces: [Tq] }, KG.prototype.available_i4q8y4$ = function (t, e, i, a) { return !!(e.hashMapProficiencyLevels.containsKey_11rb$(pK().PROFICIENCY_SIMPLE_WEAPONS) && o(e.hashMapProficiencyLevels.get_11rb$(pK().PROFICIENCY_SIMPLE_WEAPONS)) >= 2) || e.hashMapIndividualWeaponTraiinngLevels.containsKey_11rb$("Hand Crossbow") }, KG.$metadata$ = { kind: p, interfaces: [Tq] }, XG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n, o; for (r = ["Dueling Riposte", "Mirror Shield", "Twin Riposte"], n = 0; n !== r.length; ++n) { var s = r[n]; for (o = e.hashMapFeatSelections.keys.iterator(); o.hasNext();) { var l = o.next(); if (_(l, s)) return !0 } } return !1 }, XG.$metadata$ = { kind: p, interfaces: [Tq] }, JG.prototype.available_i4q8y4$ = function (t, e, i, a) { return o(e.reportAbilityScores).abilityScores[0] >= 14 || o(e.reportAbilityScores).abilityScores[1] >= 14 }, JG.$metadata$ = { kind: p, interfaces: [Tq] }, ZG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = t.getCharacterData().getSpecialSelection_puj7f4$(aO().ARCHETYPE_EIDOLON_SPECIAL_REF, aO().ARCHETYPE_EIDOLON_CHOICE_REF); if (null != r) { var n = this.closure$dataControl.managerPets.hashMapEidolonInformation.get_11rb$(r); if (null != n) switch (n.tradition) { case 0: return o(e.hashMapProficiencyLevels.get_11rb$(pK().ARCANA)) >= 6; case 1: return o(e.hashMapProficiencyLevels.get_11rb$(pK().RELIGION)) >= 6; case 2: return o(e.hashMapProficiencyLevels.get_11rb$(pK().OCCULTISM)) >= 6; case 3: return o(e.hashMapProficiencyLevels.get_11rb$(pK().NATURE)) >= 6 } } return !1 }, ZG.$metadata$ = { kind: p, interfaces: [Tq] }, QG.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = t.getCharacterData().getSpecialSelection_puj7f4$(aO().ARCHETYPE_EIDOLON_SPECIAL_REF, aO().ARCHETYPE_EIDOLON_CHOICE_REF); if (null != r) { var n = this.closure$dataControl.managerPets.hashMapEidolonInformation.get_11rb$(r); if (null != n) switch (n.tradition) { case 0: return o(e.hashMapProficiencyLevels.get_11rb$(pK().ARCANA)) >= 8; case 1: return o(e.hashMapProficiencyLevels.get_11rb$(pK().RELIGION)) >= 8; case 2: return o(e.hashMapProficiencyLevels.get_11rb$(pK().OCCULTISM)) >= 8; case 3: return o(e.hashMapProficiencyLevels.get_11rb$(pK().NATURE)) >= 8 } } return !1 }, QG.$metadata$ = { kind: p, interfaces: [Tq] }, tW.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; if (o(e.reportAbilityScores).abilityScores[5] >= 14) return !0; for (r = t.hashMapSpellCasters.values.iterator(); r.hasNext();) { var n = r.next(); if (i >= n.level && !n.innate) return !0 } return !1 }, tW.$metadata$ = { kind: p, interfaces: [Tq] }, eW.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n = ["Wave Order", "Flame Order", "Stone Order", "Storm Order"]; for (r = 0; r !== n.length; ++r) { var o = n[r]; if (BK().hasSpecialByLevel_o7aqax$(t, o, i)) return !0 } return !1 }, eW.$metadata$ = { kind: p, interfaces: [Tq] }, iW.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = t.hashMapSpellCasters.values.iterator(); r.hasNext();) { var n = r.next(); if (i >= n.level && !n.innate) return !0 } return !1 }, iW.$metadata$ = { kind: p, interfaces: [Tq] }, aW.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; for (r = t.hashMapSpellCasters.values.iterator(); r.hasNext();) { var n = r.next(); if (i >= n.level && !n.innate) return !0 } return !1 }, aW.$metadata$ = { kind: p, interfaces: [Tq] }, rW.prototype.available_i4q8y4$ = function (t, e, i, a) { return e.maxFocusPoints > 0 }, rW.$metadata$ = { kind: p, interfaces: [Tq] }, nW.prototype.available_i4q8y4$ = function (t, e, i, a) { var r, n; for (r = t.hashMapSpellCasters.values.iterator(); r.hasNext();)if (i >= r.next().level) return !0; for (n = t.hashMapAwardedPowers.values.iterator(); n.hasNext();)if (i >= n.next().level) return !0; return !1 }, nW.$metadata$ = { kind: p, interfaces: [Tq] }, oW.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; if (o(e.reportAbilityScores).abilityScores[4] >= 14) return !0; for (r = t.hashMapSpellCasters.values.iterator(); r.hasNext();) { var n = r.next(); if (i >= n.level && 1 === n.spellList) return !0 } return !(!this.this$FeatRequirementMethods.hasClass_0(t, yr().CLASS_CHAMPION) && !this.this$FeatRequirementMethods.hasClass_0(t, an().CLASS_MONK)) }, oW.$metadata$ = { kind: p, interfaces: [Tq] }, sW.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = t.getCharacterData().getClassName(); return m(r, Ln().CLASS_NAME) || m(r, Jr().CLASS_NAME) || m(r, Ir().CLASS_DRUID) || m(r, En().CLASS_SORCERER) || m(r, Bn().CLASS_NAME) || m(r, Gn().CLASS_WIZARD) }, sW.$metadata$ = { kind: p, interfaces: [Tq] }, lW.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = t.getCharacterData().getClassName(); return m(r, Sr().CLASS_CLERIC) || m(r, Ir().CLASS_DRUID) || m(r, Bn().CLASS_NAME) || m(r, Gn().CLASS_WIZARD) }, lW.$metadata$ = { kind: p, interfaces: [Tq] }, cW.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = t.getCharacterData().getClassName(); return m(r, hr().CLASS_BARD) || m(r, ln().CLASS_NAME) || m(r, Ln().CLASS_NAME) || m(r, En().CLASS_SORCERER) }, cW.$metadata$ = { kind: p, interfaces: [Tq] }, pW.prototype.available_i4q8y4$ = function (t, e, i, a) { return m(t.getCharacterData().getClassName(), Gn().CLASS_WIZARD) }, pW.$metadata$ = { kind: p, interfaces: [Tq] }, hW.prototype.available_i4q8y4$ = function (t, e, i, a) { return m(t.getCharacterData().getClassName(), xr().CLASS_NAME) }, hW.$metadata$ = { kind: p, interfaces: [Tq] }, dW.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.this$FeatRequirementMethods.hassClassArchetype_0(t, "CLASS_ARCHETYPE_Elemental Magic") }, dW.$metadata$ = { kind: p, interfaces: [Tq] }, uW.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.this$FeatRequirementMethods.hassClassArchetype_0(t, "CLASS_ARCHETYPE_Flexible Spell Preparation") }, uW.$metadata$ = { kind: p, interfaces: [Tq] }, _W.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.this$FeatRequirementMethods.hassClassArchetype_0(t, "CLASS_ARCHETYPE_Spellshot") }, _W.$metadata$ = { kind: p, interfaces: [Tq] }, fW.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.this$FeatRequirementMethods.hassClassArchetype_0(t, "CLASS_ARCHETYPE_Wellspring Magic") }, fW.$metadata$ = { kind: p, interfaces: [Tq] }, yW.prototype.available_i4q8y4$ = function (t, e, i, a) { return this.this$FeatRequirementMethods.hassClassArchetype_0(t, "CLASS_ARCHETYPE_Runelord Specialization") }, yW.$metadata$ = { kind: p, interfaces: [Tq] }, mW.prototype.available_i4q8y4$ = function (t, e, i, a) { return e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "ARCHETYPE_SNARECRAFTER_Snarecrafter Dedication") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "RANGER_Snare Specialist") }, mW.$metadata$ = { kind: p, interfaces: [Tq] }, $W.prototype.available_i4q8y4$ = function (t, e, i, a) { var r = yZ().getInnovation_5btbp7$(t); return null == r || !m(r, yZ().INNOVATION_CONSTRUCT) }, $W.$metadata$ = { kind: p, interfaces: [Tq] }, gW.prototype.available_i4q8y4$ = function (t, e, i, a) { var r; if (o(e.hashMapProficiencyLevels.get_11rb$(pK().CRAFTING)) >= 2 || o(e.hashMapProficiencyLevels.get_11rb$(pK().ARCANA)) >= 2) { if (o(e.hashMapProficiencyLevels.get_11rb$(pK().PROFICIENCY_SIMPLE_WEAPONS)) >= 4) return !0; for (r = e.hashMapIndividualWeaponTraiinngLevels.values.iterator(); r.hasNext();)if (r.next() >= 4) return !0 } return !1 }, gW.$metadata$ = { kind: p, interfaces: [Tq] }, vW.prototype.available_i4q8y4$ = function (t, e, i, a) { return e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "ALCHEMIST_Calculated Splash") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "ALCHEMIST_Directional Bombs") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "ALCHEMIST_Expanded Splash") }, vW.$metadata$ = { kind: p, interfaces: [Tq] }, SW.prototype.available_i4q8y4$ = function (t, e, i, a) { return e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "LESHY_Cactus Leshy") || e.hasFeatIgnoringExcludingFeatRef_puj7f4$(a, "LESHY_Pine Leshy") }, SW.$metadata$ = { kind: p, interfaces: [Tq] }, CW.prototype.available_i4q8y4$ = function (t, e, i, a) { return !BK().hasSpecialByLevel_o7aqax$(t, "Eldritch Trickster Racket", i) }, CW.$metadata$ = { kind: p, interfaces: [Tq] }, EW.prototype.available_i4q8y4$ = function (t, e, i, a) { return BK().hasSpecialByLevel_o7aqax$(t, "Eldritch Trickster Racket", i) }, EW.$metadata$ = { kind: p, interfaces: [Tq] }, kq.$metadata$ = { kind: p, simpleName: "FeatRequirementMethods", interfaces: [W0] }, bW.prototype.serializer = function () { return kW() }, bW.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var IW = null; function wW() { return null === IW && new bW, IW } function LW() { this.descriptor_y6pryj$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerfeats.FreeFeat", this, 3), this.descriptor.addElement_ivxn3r$("featID", !1), this.descriptor.addElement_ivxn3r$("level", !1), this.descriptor.addElement_ivxn3r$("extraInformation", !0), TW = this } Object.defineProperty(LW.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_y6pryj$_0 } }), LW.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); i.encodeStringElement_iij8qq$(this.descriptor, 0, e.featID), i.encodeIntElement_ptg7oe$(this.descriptor, 1, e.level), m(e.extraInformation, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 2, M.StringSerializer, e.extraInformation), i.endStructure_24f42q$(this.descriptor) }, LW.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n = 0, o = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = o.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = o.decodeStringElement_szpzho$(this.descriptor, 0), n |= 1; break; case 1: a = o.decodeIntElement_szpzho$(this.descriptor, 1), n |= 2; break; case 2: r = o.decodeNullableSerializableElement_8viuyw$(this.descriptor, 2, M.StringSerializer, r), n |= 4; break; case -1: break t; default: throw new O(e) }return o.endStructure_24f42q$(this.descriptor), RW(n, i, a, r, null) }, LW.prototype.childSerializers = function () { return [M.StringSerializer, M.IntSerializer, new R(M.StringSerializer)] }, LW.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var TW = null; function kW() { return null === TW && new LW, TW } function RW(t, e, i, a, r) { var n = r || Object.create(AW.prototype); if (0 == (1 & t)) throw J("featID"); if (n.featID = e, 0 == (2 & t)) throw J("level"); return n.level = i, n.extraInformation = 0 == (4 & t) ? null : a, n } function PW(t, e, i) { this.level = t, this.weaponNames = e, this.keyword = i } function MW(t, e) { this.valueRef = "", this.level = 1, this.valueRef = t, this.level = e } function NW() { this.level = 0, this.increase = 0, this.bonusType = se().BONUS_TYPE_NAME_UNTYPED, this.requiresNoPool = !1 } function DW(t, e, i) { return i = i || Object.create(NW.prototype), NW.call(i), i.level = t, i.increase = e, i } function xW(t, e, i, a) { return a = a || Object.create(NW.prototype), NW.call(a), a.level = t, a.increase = e, a.bonusType = i, a } function zW(t, e, i, a) { return a = a || Object.create(NW.prototype), NW.call(a), a.level = t, a.increase = e, a.requiresNoPool = i, a } function OW(t, e, i) { DW(e, i, this), this.itemName = t } function FW() { this.arrayProhibitedArmors = new Int32Array(0), this.bonusTypeUnused = 0, this.movementType = 0 } function BW(t, e, i) { return DW(t, e, i = i || Object.create(FW.prototype)), FW.call(i), i.bonusTypeUnused = 3, i } function jW(t, e, i, a) { return DW(t, e, a = a || Object.create(FW.prototype)), FW.call(a), a.bonusTypeUnused = i, a } function HW(t, e, i, a) { return DW(t, e, a = a || Object.create(FW.prototype)), FW.call(a), a.arrayProhibitedArmors = i, a } function qW(t, e, i, a, r) { return DW(t, e, r = r || Object.create(FW.prototype)), FW.call(r), r.arrayProhibitedArmors = i, r.bonusTypeUnused = a, r } function UW(t, e, i, a, r) { return DW(t, e, r = r || Object.create(FW.prototype)), FW.call(r), r.bonusTypeUnused = i, r.movementType = a, r } AW.$metadata$ = { kind: p, simpleName: "FreeFeat", interfaces: [] }, PW.$metadata$ = { kind: p, simpleName: "AncestryWeaponExpertiseItem", interfaces: [] }, MW.$metadata$ = { kind: p, simpleName: "EffectiveValue", interfaces: [] }, NW.$metadata$ = { kind: p, simpleName: "GeneralIncreaseItem", interfaces: [] }, OW.$metadata$ = { kind: p, simpleName: "ItemIncreaseItem", interfaces: [NW] }, FW.prototype.isWearingLegalArmor_za3lpa$ = function (t) { var e, i; for (e = this.arrayProhibitedArmors, i = 0; i !== e.length; ++i)if (t === e[i]) return !1; return !0 }, FW.prototype.isLandSpeedBonus = function () { return 0 === this.movementType || 5 === this.movementType }, FW.$metadata$ = { kind: p, simpleName: "SpeedIncreaseItem", interfaces: [NW] }; var GW = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function WW(t, e) { ZW(), W0.call(this, t), this.hashMapAnimalCompanions = c(), this.hashMapAnimalSpecializations = c(), this.hashMapAnimalAdvancements = null, this.hashMapFamiliarAbilities = c(), this.hashMapEidolonInformation = null, this.animalEffects_0 = null, this.familiarAbilityEffects_0 = null, this.hashMapSpecificFamiliars = null, this.hashMapAnimalCompanions = e.getAnimalCompanions(), this.hashMapAnimalSpecializations = e.getAnimalSpecializations(), this.hashMapSpecificFamiliars = e.getFamiliarSpecifics(), this.hashMapAnimalAdvancements = e.getAnimalAdvancements(), this.hashMapFamiliarAbilities = e.getFamiliarAbilities(), this.hashMapEidolonInformation = e.getEidolonInformation(), this.animalEffects_0 = new sY, this.familiarAbilityEffects_0 = new QY } function YW(t) { return o(t).name } function VW(t) { return o(t).name } function KW(t) { return o(t).name } function XW() { JW = this, this.SPECIALIZATION_NONE = "Unspecialized" } WW.prototype.getAnimalAttackDice_g05lc3$ = function (t, i, a) { var r, n = t.getCharacterData(), c = i.getPetData(), p = n.getCharacterLevel(), h = ""; if (_(a.name, "(")) try { h = lt(v(v(a.name, ["("]).get_za3lpa$(1), [")"]).get_za3lpa$(0)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } var d = i.abilityBonuses, u = i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS), f = o(u).getProficiencyAtLevel_za3lpa$(p), y = pK().getFinalProficiencyTotal_xek4lp$(n, f, p), m = this.dataControl.managerPets.getAttackAbilityRef_3ordfu$(i, a), $ = d[m], g = rK(this.dataControl, i, u); g.addAttackBuffs_cvmu72$(this.dataControl, i, m); var S = g.totalBuffExcludingItem, C = g.getTypedBuff_za3lpa$(0), E = y + $ + C + S | 0, A = a.damage, b = this.dataControl.managerPets.getAnimalDamageDice_f0wj8v$(i), I = new Co(pK().PROFICIENCY_UNARMED_ATTACKS, f, y, C, E, S, g, b, A, h), w = this.dataControl.managerPets.getDamageBonus_4vd6cw$(t, i, c), L = aK(); for (L.addPetDamageBuffs_fhac18$(this.dataControl, i), I.totalDamageBuff = L.totalBuffExcludingItem, I.damageType = a.type, I.flatBonus = w + I.totalDamageBuff | 0, r = i.hashMapDamageIncreaseItems.values.iterator(); r.hasNext();) { var T = r.next(); p >= T.level && (null != T.dice && I.addExtraDamageDice_vc39vg$(T.bonusType, o(T.dice)), 0 !== T.flatBonus && I.addExtraDamage_bm4lxs$(T.bonusType, T.flatBonus)) } return I }, WW.prototype.getEidolonAttackDice_g6uxpc$ = function (t, e, i, a, r) { var n, s, l, c = t.getCharacterData().getCharacterLevel(), p = e.getPetData(), h = e.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS), d = o(h).getProficiencyAtLevel_za3lpa$(p.getCharacterLevel()), u = a.getFullTraits_za3lpa$(i), f = rK(this.dataControl, e, h), y = 0; _(u.toLowerCase(), "finesse") && r.abilityScoresBuffed[1] > r.abilityScoresBuffed[0] && (y = 1), 2 === i && (y = 1), f.addAttackBuffs_cvmu72$(this.dataControl, e, y); var $ = f.totalBuffExcludingItem, g = a.getPotency_5btbp7$(e), v = pK().getFinalProficiencyTotalWeapons_bh8xs5$(t, d, c), S = v + pe().getAbilityMod_za3lpa$(r.abilityScoresBuffed[y]) + g + $ | 0, C = a.getEidolonDamageDiceSize_za3lpa$(i), E = 1 + a.getItemStriking_5btbp7$(e) | 0, A = new Co(pK().PROFICIENCY_UNARMED_ATTACKS, d, v, g, S, $, f, E, C, u), b = a.getEidolonDamageBonus_ju2cul$(c, d, r.abilityScoresBuffed, i, e, t), I = aK(); for (I.addPetDamageBuffs_fhac18$(this.dataControl, e), A.totalDamageBuff = I.totalBuffExcludingItem, A.flatBonus = b + A.totalDamageBuff | 0, A.damageType = a.damageType, n = e.hashMapDamageIncreaseItems.values.iterator(); n.hasNext();) { var w = n.next(); c >= w.level && (null != w.dice && A.addExtraDamageDice_vc39vg$(w.bonusType, o(w.dice)), 0 !== w.flatBonus && A.addExtraDamage_bm4lxs$(w.bonusType, w.flatBonus)) } for (s = e.hashMapDamageIncreaseItemsByPlayerWeapon.keys.iterator(); s.hasNext();) { var L = s.next(); if (m(a, L)) for (l = o(e.hashMapDamageIncreaseItemsByPlayerWeapon.get_11rb$(a)).values.iterator(); l.hasNext();) { var T = l.next(); c >= T.level && T.addDamageToAttackDice_p9pqaj$(a, g1("No weapon"), A) } } return A }, WW.prototype.getConstructAttackDice_g6uxpc$ = function (t, e, i, a, r) { var n, s, l, c = t.getCharacterData().getCharacterLevel(), p = e.getPetData(), h = e.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS), d = o(h).getProficiencyAtLevel_za3lpa$(p.getCharacterLevel()), u = a.getFullConstructTraits_jtsk75$(e, i), f = rK(this.dataControl, e, h), y = 0; _(u.toLowerCase(), "finesse") && r.abilityScoresBuffed[1] > r.abilityScoresBuffed[0] && (y = 1), 2 === i && (y = 1), f.addAttackBuffs_cvmu72$(this.dataControl, e, y); var $ = f.totalBuffExcludingItem, g = a.getPotency_5btbp7$(e), v = pK().getFinalProficiencyTotalWeapons_bh8xs5$(t, d, c), S = v + pe().getAbilityMod_za3lpa$(r.abilityScoresBuffed[y]) + g + $ | 0, C = a.getEidolonDamageDiceSize_za3lpa$(i), E = 1 + a.getConstructStriking_5btbp7$(t) | 0, A = new Co(pK().PROFICIENCY_UNARMED_ATTACKS, d, v, g, S, $, f, E, C, u), b = a.getConstructDamageBonus_ju2cul$(c, d, r.abilityScoresBuffed, i, e, t), I = aK(); for (I.addPetDamageBuffs_fhac18$(this.dataControl, e), A.totalDamageBuff = I.totalBuffExcludingItem, A.flatBonus = b + A.totalDamageBuff | 0, A.damageType = a.damageType, n = e.hashMapDamageIncreaseItems.values.iterator(); n.hasNext();) { var w = n.next(); c >= w.level && (null != w.dice && A.addExtraDamageDice_vc39vg$(w.bonusType, o(w.dice)), 0 !== w.flatBonus && A.addExtraDamage_bm4lxs$(w.bonusType, w.flatBonus)) } for (s = e.hashMapDamageIncreaseItemsByPlayerWeapon.keys.iterator(); s.hasNext();) { var L = s.next(); if (m(a, L)) for (l = o(e.hashMapDamageIncreaseItemsByPlayerWeapon.get_11rb$(a)).values.iterator(); l.hasNext();) { var T = l.next(); c >= T.level && T.addDamageToAttackDice_p9pqaj$(a, g1("No weapon"), A) } } return A }, WW.prototype.getListEnabledAdvancements_5btbp7$ = function (t) { var e, i = u(), a = u(); for (e = this.hashMapAnimalAdvancements.values.iterator(); e.hasNext();) { var r = e.next(); Ic().isEnabled_kc4y8q$(t.getCharacterData(), r.source) && (_(o(r.traits), "Rare") ? a.add_11rb$(r) : i.add_11rb$(r)) } return i.size > 1 && q(i, new G(GW(YW))), a.size > 1 && q(a, new G(GW(VW))), i.addAll_brywnq$(a), i }, WW.prototype.getListEnabledSpecializations_5btbp7$ = function (t) { var e, i = u(); for (e = this.hashMapAnimalSpecializations.values.iterator(); e.hasNext();) { var a = e.next(); Ic().isEnabled_kc4y8q$(t.getCharacterData(), a.src) && i.add_11rb$(a) } return i.size > 1 && q(i, new G(GW(KW))), i }, WW.prototype.getListEligibleSpecs_p92vx1$ = function (t, e, i) { var a, r, n = u(); for (a = i.iterator(); a.hasNext();) { var o = a.next(), s = !0; for (o.reqAdv > -1 && e.getIncredibleType() !== o.reqAdv && (s = !1), r = e.getHashMapAnimalSpecializations().keys.iterator(); r.hasNext();) { var l = r.next(); m(l, t) || m(e.getHashMapAnimalSpecializations().get_11rb$(l), o.name) && (s = !1) } s && n.add_11rb$(o) } return n }, WW.prototype.removeEidolon_5btbp7$ = function (t) { t.hashMapPetGainedLevel.remove_11rb$(2), t.hashMapPetCharacterBuilds.remove_11rb$(XV().PET_REFERENCE_EIDOLON), t.getCharacterData().hashMapPetData.remove_11rb$(XV().PET_REFERENCE_EIDOLON) }, WW.prototype.removeConstruct_cyt1w7$ = function (t, e) { t.hashMapPetGainedLevel.containsKey_11rb$(3) && (o(t.hashMapPetGainedLevel.get_11rb$(3)).remove_11rb$(e), o(t.hashMapPetGainedLevel.get_11rb$(3)).isEmpty() && (t.hashMapPetCharacterBuilds.remove_11rb$(XV().PET_REFERENCE_CONSTRUCT), t.getCharacterData().hashMapPetData.remove_11rb$(XV().PET_REFERENCE_CONSTRUCT))) }, WW.prototype.addConstruct_yjt0at$ = function (t, e, i) { var a; if (!t.hashMapPetGainedLevel.containsKey_11rb$(3)) { var r = t.hashMapPetGainedLevel, n = c(); r.put_xwzc9p$(3, n) } if (null != (a = t.hashMapPetGainedLevel.get_11rb$(3)) && a.put_xwzc9p$(i, e), t.getCharacterData().hashMapPetData.containsKey_11rb$(XV().PET_REFERENCE_CONSTRUCT)) { var s = t.getCharacterData().hashMapPetData.get_11rb$(XV().PET_REFERENCE_CONSTRUCT); o(s).setSpecificGainedLevel_za3lpa$(e), s.setCharacterLevel_za3lpa$(t.getCharacterData().getCharacterLevel()), s.setPetType_za3lpa$(3), s.setPetName_pdl1vj$("Construct") } else { var l = new YV; l.setSpecificGainedLevel_za3lpa$(e), l.setCharacterLevel_za3lpa$(t.getCharacterData().getCharacterLevel()), l.setPetType_za3lpa$(3), l.setPetName_pdl1vj$("Construct"); var p = new FY; p.weaponName = "Fist"; var h = p; l.getHashMapEidolonAttacks().put_xwzc9p$(0, h), (p = new FY).weaponName = "Spike"; var d = p; l.getHashMapEidolonAttacks().put_xwzc9p$(1, d); var u = t.getCharacterData().hashMapPetData, _ = XV().PET_REFERENCE_CONSTRUCT; u.put_xwzc9p$(_, l) } var f = t.getCharacterData().hashMapPetData.get_11rb$(XV().PET_REFERENCE_CONSTRUCT), y = new qV; y.setCharacterData_g7kqbx$(o(f)); var m = t.hashMapPetCharacterBuilds, $ = XV().PET_REFERENCE_CONSTRUCT; m.put_xwzc9p$($, y); var g = t.getCharacterData().hashMapPetData, v = XV().PET_REFERENCE_CONSTRUCT; g.put_xwzc9p$(v, f), NY().applyBasicProficiencies_u8a76w$(this.dataControl, !0, t, y, f) }, WW.prototype.addEidolon_uiys2w$ = function (t, e, i, a) { var r; if (!t.hashMapPetGainedLevel.containsKey_11rb$(2)) { var n = t.hashMapPetGainedLevel, s = c(); n.put_xwzc9p$(2, s) } if (null != (r = t.hashMapPetGainedLevel.get_11rb$(2))) { var l = XV().PET_REFERENCE_EIDOLON; r.put_xwzc9p$(l, e) } if (t.getCharacterData().hashMapPetData.containsKey_11rb$(XV().PET_REFERENCE_EIDOLON)) { var p = t.getCharacterData().hashMapPetData.get_11rb$(XV().PET_REFERENCE_EIDOLON); o(p).setSpecificGainedLevel_za3lpa$(e), p.setCharacterLevel_za3lpa$(t.getCharacterData().getCharacterLevel()), p.setPetType_za3lpa$(2), p.setPetName_pdl1vj$(i.name), p.setFreeArchetype_6taknv$(a) } else { var h = new YV; h.setSpecificGainedLevel_za3lpa$(e), h.setCharacterLevel_za3lpa$(t.getCharacterData().getCharacterLevel()), h.setPetType_za3lpa$(2), h.setPetName_pdl1vj$(i.name), h.setFreeArchetype_6taknv$(a); var d = h.getHashMapEidolonAttacks(), u = new FY; d.put_xwzc9p$(0, u); var _ = new FY; _.weaponName = "Wing", h.getHashMapEidolonAttacks().put_xwzc9p$(1, _); var f = t.getCharacterData().hashMapPetData, y = XV().PET_REFERENCE_EIDOLON; f.put_xwzc9p$(y, h) } var m = t.getCharacterData().hashMapPetData.get_11rb$(XV().PET_REFERENCE_EIDOLON), $ = new qV; $.setCharacterData_g7kqbx$(o(m)); var g = t.hashMapPetCharacterBuilds, v = XV().PET_REFERENCE_EIDOLON; g.put_xwzc9p$(v, $); var S = t.getCharacterData().hashMapPetData, C = XV().PET_REFERENCE_EIDOLON; S.put_xwzc9p$(C, m), this.activateEidolon_vh77xp$(t, m) }, WW.prototype.activateEidolon_vh77xp$ = function (t, i) { var a, r, n, s = this.hashMapEidolonInformation, l = i.getPetName(); if (null != (a = (e.isType(n = s, y) ? n : d()).get_11rb$(l))) { var c = a; if (null != (r = t.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_EIDOLON))) { var p = r; i.isSwitchB() ? p.setBaseAbilityBonuses_q5rwfd$(ct(c.array2)) : p.setBaseAbilityBonuses_q5rwfd$(ct(c.array1)), this.activateNewPetProficiencies_0(p), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), i.isFreeArchetype() || (o(p.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS)).setProficiencyAtLevel_3m52m6$("Eidolon Unarmed Expertise", 5, 4), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS)).setProficiencyAtLevel_3m52m6$("Eidolon Unarmed Mastery", 13, 6), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).setProficiencyAtLevel_3m52m6$("Eidolon Defensive Expertise", 11, 4), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).setProficiencyAtLevel_3m52m6$("Eidolon Defensive Mastery", 19, 6), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 4), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).setProficiencyAtLevel_3m52m6$("Twin Juggernauts", 11, 6), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX)).setProficiencyAtLevel_3m52m6$("Shared Reflexes", 9, 4), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_WILL)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 4), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_WILL)).setProficiencyAtLevel_3m52m6$("Shared Resolve", 15, 6), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), o(p.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)).setProficiencyAtLevel_3m52m6$("Shared Vigilance", 3, 4)), this.activateEidolonFeats_7ck1uf$(p, i) } } }, WW.prototype.activateEidolonFeats_7ck1uf$ = function (t, e) { var i; i = e.getCharacterLevel(); for (var a = 1; a <= i; a++)this.dataControl.managerFeats.activateSelectedFeatsOnLoad_vy76y1$(t, a) }, WW.prototype.addNewPet_k2ix8b$ = function (t, e, i, a) { var r = new YV; r.setPetType_za3lpa$(a), r.setPetName_pdl1vj$(e), r.setCharacterLevel_za3lpa$(t.getCharacterData().getCharacterLevel()); var n = new qV; n.setCharacterData_g7kqbx$(r), t.hashMapPetCharacterBuilds.put_xwzc9p$(i, n), t.getCharacterData().hashMapPetData.put_xwzc9p$(i, r), 0 === r.getPetType() ? this.activateNewAnimalCompanion_bhu2bl$(t, i, r) : 1 === r.getPetType() && this.activateNewPetProficiencies_0(n) }, WW.prototype.createPetCharacterBuildsOnLoad_5btbp7$ = function (t) { var e, i, a, r, n, s, l, c, p = t.getCharacterData(); for (e = p.hashMapPetData.keys.iterator(); e.hasNext();) { var h = e.next(), d = p.hashMapPetData.get_11rb$(h); if (null != d) { if (!t.hashMapPetCharacterBuilds.containsKey_11rb$(h)) { var _ = new qV; _.setCharacterData_g7kqbx$(d), t.hashMapPetCharacterBuilds.put_xwzc9p$(h, _), this.dataControl.verifyCharacterSelections_5btbp7$(_) } var f = null != (i = t.hashMapPetCharacterBuilds.get_11rb$(h)) ? i : new qV; if (3 === d.getPetType()) for (a = d.getHashMapEidolonAttacks().values.iterator(); a.hasNext();) { var y = a.next(); this.dataControl.managerWeapons.activatePlayerWeapon_clt9wi$(!0, f, y) } else if (0 === d.getPetType()) this.activateNewAnimalCompanion_bhu2bl$(t, h, d); else if (2 === d.getPetType()) for (this.activateEidolonFeats_7ck1uf$(f, d), r = d.getHashMapEidolonAttacks().values.iterator(); r.hasNext();) { var m = r.next(); this.dataControl.managerWeapons.activatePlayerWeapon_clt9wi$(!0, f, m) } else if (1 === d.getPetType() && (null != d.getFamiliarSpecific() && this.setSpecificFamiliar_xp8xqz$(t, f, d.getFamiliarSpecific()), this.activateNewPetProficiencies_0(f), this.hasPetTypeAtCharacterLevel_vy76y1$(t, 1))) for (n = o(d.getHashMapSelectedFamiliarAbilities()).keys.iterator(); n.hasNext();) { var $ = n.next(); if (!B(f.listOverrideFamiliarAbilities, $)) { var g = o(d.getHashMapSelectedFamiliarAbilities()).get_11rb$($); null != $ && null != g && this.activateFamiliarAbility_f8hr8l$(!0, t, f, g, $) } } for (this.dataControl.managerEquipment.activateAllEquipmentOnLoad_5btbp7$(f), s = d.hashMapActiveConditions.keys.iterator(); s.hasNext();) { var v = s.next(); if (!f.getPetData().listCurrentlyInactiveBuffs.contains_11rb$(v)) { var S = o(d.hashMapActiveConditions.get_11rb$(v)); this.dataControl.managerClasses.applyConditionEffect_q0qzv0$(!0, f, v, S) } } var C = u(); for (l = d.hashMapActiveCustomBuffs.keys.iterator(); l.hasNext();) { var E = l.next(), A = this.dataControl.managerClasses.customBuffSet.hashMap.get_11rb$(E); null == A ? C.add_11rb$(E) : f.getPetData().listCurrentlyInactiveBuffs.contains_11rb$(E) || this.dataControl.managerClasses.applyCustomBuff_hqcflu$(!0, f, A) } for (c = C.iterator(); c.hasNext();) { var b = c.next(); d.hashMapActiveCustomBuffs.remove_11rb$(b) } } } }, WW.prototype.activateNewPetProficiencies_0 = function (t) { this.dataControl.managerProficiencies.addProficiencies_5btbp7$(t), t.addProficiency_gzayp1$(pK().PROFICIENCY_BARDING, new nK) }, WW.prototype.activateNewAnimalCompanion_bhu2bl$ = function (t, i, a) { var r, n = t.hashMapPetCharacterBuilds.get_11rb$(i), s = this.hashMapAnimalCompanions, l = a.getPetName(), c = (e.isType(r = s, y) ? r : d()).get_11rb$(l); o(n).setBaseAbilityBonuses_q5rwfd$(o(c).baseAbilities), this.activateNewPetProficiencies_0(n), o(n.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), o(n.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), o(n.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), o(n.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), o(n.getProficiency_61zpoe$(pK().PROFICIENCY_WILL)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), o(n.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), o(n.getProficiency_61zpoe$(pK().ACROBATICS)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), o(n.getProficiency_61zpoe$(pK().ATHELTICS)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), o(n.getProficiency_61zpoe$(pK().PROFICIENCY_BARDING)).setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2), this.setAnimal_3dmheu$(t, n, o(a.getPetName())), this.buildAnimalCompanion_a999ig$(!0, t, n) }, Object.defineProperty(WW.prototype, "allAnimalNames", { configurable: !0, get: function () { var t = u(); return t.addAll_brywnq$(this.hashMapAnimalCompanions.keys), Q(t), t } }), WW.prototype.getAllAnimalSpecializations_5btbp7$ = function (t) { var e, i = u(); for (e = this.hashMapAnimalSpecializations.keys.iterator(); e.hasNext();) { var a = e.next(), r = this.hashMapAnimalSpecializations.get_11rb$(a); Ic().isEnabled_kc4y8q$(t.getCharacterData(), o(r).src) && i.add_11rb$(a) } return Q(i), i }, WW.prototype.getAllFamiliarAbilities_5btbp7$ = function (t) { var e, i = u(), a = u(); for (e = this.hashMapFamiliarAbilities.values.iterator(); e.hasNext();) { var r = e.next(); Ic().isEnabled_kc4y8q$(t.getCharacterData(), r.src) && (0 === r.type ? i.add_11rb$(r.name) : a.add_11rb$(r.name)) } return Q(i), Q(a), i.addAll_brywnq$(a), i }, WW.prototype.getListEligibleFamiliarAbilities_7bpcrd$ = function (t, e, i, a) { var r, n = u(), o = new tY(this.dataControl, e, t); for (r = a.iterator(); r.hasNext();) { var s = r.next(); this.isLegalFamiliarAbility_tz6mb$(t, e, i, s, o) && n.add_11rb$(s) } return n }, WW.prototype.isLegalFamiliarAbility_tz6mb$ = function (t, e, i, a, r) { return !(this.familiarAbilityEffects_0.hashMapFamiliarAbilityRequirements.containsKey_11rb$(a) && !o(this.familiarAbilityEffects_0.hashMapFamiliarAbilityRequirements.get_11rb$(a)).available_1hgb2q$(this.dataControl, t, e, r, i)) && this.notAlreadySelectedFamiliarAbility_0(e.getPetData(), i, a) }, WW.prototype.notAlreadySelectedFamiliarAbility_0 = function (t, e, i) { var a, r, n = 0; if (null == (a = this.hashMapFamiliarAbilities.get_11rb$(i))) return !0; var s = a; for (r = o(t.getHashMapSelectedFamiliarAbilities()).keys.iterator(); r.hasNext();) { var l = r.next(), c = o(t.getHashMapSelectedFamiliarAbilities()).get_11rb$(l); c = b(v(o(c), [" \\("]))[0], _(i, c) && !m(l, e) && (n = n + 1 | 0) } return n < s.selectable }, WW.prototype.setAnimal_3dmheu$ = function (t, i, a) { var r, n = e.isType(r = i.getCharacterData(), YV) ? r : d(); i.spawnedbyAnimalTrainer = t.animalTrainer; try { var c, p = this.hashMapAnimalCompanions, h = n.getPetName(), u = (e.isType(c = p, y) ? c : d()).get_11rb$(h), _ = i.getProficiency_61zpoe$(pK().PERFORMANCE); o(_).removeProficiencyAtLevel_61zpoe$("Pet Basic Proficiency"), _ = i.getProficiency_61zpoe$(o(u).skill), o(_).removeProficiencyIncrease_61zpoe$("Pet Basic Proficiency") } catch (t) { if (!e.isType(t, l)) throw t; s(t) } n.setPetName_pdl1vj$(a); var f = this.hashMapAnimalCompanions.get_11rb$(a); if (i.setBaseAbilityBonuses_q5rwfd$(o(f).baseAbilities), i.spawnedbyAnimalTrainer) { var m = i.getProficiency_61zpoe$(pK().PERFORMANCE); null != m && m.setProficiencyAtLevel_3m52m6$("Pet Basic Proficiency", 1, 2) } else { var $ = i.getProficiency_61zpoe$(f.skill); null != $ && $.addProficiencyIncrease_bm4lxs$("Pet Basic Proficiency", 1) } if (Lq().hasFeatByLevel_w0akbr$(t, "no feat ref", t.getCharacterData().getCharacterLevel(), "HOBGOBLIN_Fell Rider")) { var g = i.getProficiency_61zpoe$(pK().INTIMIDATION); null != g && g.setProficiencyAtLevel_3m52m6$("Fell Rider Proficiency", 1, 2) } }, WW.prototype.buildAllAnimalCompanions_ryqv3o$ = function (t, i) { var a, r; for (a = i.hashMapPetCharacterBuilds.values.iterator(); a.hasNext();) { var n = a.next(); if (0 === n.getPetData().getPetType()) this.buildAnimalCompanion_a999ig$(t, i, n); else if (3 === n.getPetData().getPetType()) this.buildConstruct_a999ig$(t, i, n); else if (1 === n.getPetData().getPetType() && null != n.getPetData().getFamiliarSpecific()) { var s, l = this.hashMapSpecificFamiliars, c = n.getPetData().getFamiliarSpecific(), p = (e.isType(s = l, y) ? s : d()).get_11rb$(c); if (null == p) { n.getPetData().setFamiliarSpecific_pdl1vj$(null); continue } if (!this.isSpecificFamiliarLegal_vy76y1$(i, p.req)) { for (n.getPetData().setFamiliarSpecific_pdl1vj$(null), r = o(n.getPetData().getHashMapSelectedFamiliarAbilities()).keys.iterator(); r.hasNext();) { var h = r.next(), u = o(n.getPetData().getHashMapSelectedFamiliarAbilities()).get_11rb$(h); null != h && null != u && this.activateFamiliarAbility_f8hr8l$(!1, i, n, u, h) } o(n.getPetData().getHashMapSelectedFamiliarAbilities()).clear() } } } }, WW.prototype.buildConstruct_a999ig$ = function (t, e, i) { o(i).getPetData(), WV().isParagonConstruct_5btbp7$(e) && NY().applyProgressionParagon_g5vt42$(t, i), WV().isIncredibleConstruct_5btbp7$(e) && NY().applyProgressionIncredible_g5vt42$(t, i), WV().isAdvancedConstruct_5btbp7$(e) && NY().applyProgressionAdvanced_rtrf07$(t, e, i) }, WW.prototype.buildAnimalCompanion_a999ig$ = function (t, e, i) { var a, r, n = o(i).getPetData(); if (WV().getListSpecializationReference_5btbp7$(e).isEmpty() || hY().applyProgressionSpecialized_g5vt42$(t, i), WV().isIncredible_5btbp7$(e)) { var s = i.getPetData().getIncredibleType(); 0 === s ? hY().applyProgressionNimble_g5vt42$(t, i) : 1 === s ? hY().applyProgressionSavage_g5vt42$(t, i) : 2 === s ? hY().applyProgressionIndomitable_g5vt42$(t, i) : 3 !== s && 4 !== s && 5 !== s && 6 !== s || hY().applyProgressionGenie_qx3yfk$(t, i, s) } if (WV().isMature_5btbp7$(e) && hY().applyProgressionMature_rtrf07$(t, e, i), t) for (a = w(n.getHashMapAnimalSpecializations().keys).iterator(); a.hasNext();) { var l = a.next(); if (e.hashMapSpecializedAnimalCompanion.containsKey_11rb$(l)) { var c = e.hashMapSpecializedAnimalCompanion.get_11rb$(l); e.getCharacterData().getCharacterLevel() < o(c).level && n.getHashMapAnimalSpecializations().remove_11rb$(l) } } for (r = n.getHashMapAnimalSpecializations().keys.iterator(); r.hasNext();) { var p = r.next(), h = n.getHashMapAnimalSpecializations().get_11rb$(p); null != h && this.activateAnimalSpecialization_f8hr8l$(t, e, i, h, p) } }, WW.prototype.activateNewAnimalSpecialization_q8fthw$ = function (t, e, i, a) { var r = e.getPetData(), n = r.getHashMapAnimalSpecializations().get_11rb$(a); null != n && this.activateAnimalSpecialization_f8hr8l$(!1, t, e, n, a), m(i, ZW().SPECIALIZATION_NONE) ? r.getHashMapAnimalSpecializations().remove_11rb$(a) : (r.getHashMapAnimalSpecializations().put_xwzc9p$(a, i), this.activateAnimalSpecialization_f8hr8l$(!0, t, e, i, a)) }, WW.prototype.activateAnimalSpecialization_f8hr8l$ = function (t, e, i, a, r) { this.animalEffects_0.hashMapAnimalSpecializationEffects.containsKey_11rb$(a) && o(this.animalEffects_0.hashMapAnimalSpecializationEffects.get_11rb$(a)).applyEffect_jxjo7e$(this.dataControl, e, i, t, r) }, WW.prototype.activateAllSelectedFamiliarAbilities_ryqv3o$ = function (t, i) { var a, r, n; for (a = i.hashMapPetCharacterBuilds.keys.iterator(); a.hasNext();) { var s = a.next(), l = i.hashMapPetCharacterBuilds.get_11rb$(s), c = o(l).getPetData(); if (1 === c.getPetType()) { if (t) for (r = w(o(c.getHashMapSelectedFamiliarAbilities()).keys).iterator(); r.hasNext();) { var p, h = r.next(), u = i.hashMapFamiliarAbilities; if ((e.isType(p = u, y) ? p : d()).containsKey_11rb$(h)) { var _, f = i.hashMapFamiliarAbilities, m = (e.isType(_ = f, y) ? _ : d()).get_11rb$(h); i.getCharacterData().getCharacterLevel() < o(m).level && o(c.getHashMapSelectedFamiliarAbilities()).remove_11rb$(h) } } if (this.hasPetTypeAtCharacterLevel_vy76y1$(i, 1)) for (n = o(c.getHashMapSelectedFamiliarAbilities()).keys.iterator(); n.hasNext();) { var $ = n.next(), g = o(c.getHashMapSelectedFamiliarAbilities()).get_11rb$($); null != $ && null != g && this.activateFamiliarAbility_f8hr8l$(t, i, l, g, $) } } } }, WW.prototype.activateFamiliarAbility_f8hr8l$ = function (t, e, i, a, r) { this.familiarAbilityEffects_0.hashMapFamiliaryAbilityEffects.containsKey_11rb$(a) && o(this.familiarAbilityEffects_0.hashMapFamiliaryAbilityEffects.get_11rb$(a)).applyEffect_rpynyp$(e, i, t, r) }, WW.prototype.getAnimalSize_krmj4$ = function (t, i, a) { var r = a.size; 1 === r && Lq().hasFeatByLevel_w0akbr$(t, "No feat ref", t.getCharacterData().getCharacterLevel(), "ARCHETYPE_CAVALIER_Cavalier Dedication") && (r = 2), i.isSwitchA() && (r = r + 1 | 0), WV().isMature_5btbp7$(t) && (r = r + 1 | 0), !WV().isIncredible_5btbp7$(t) || 1 !== i.getIncredibleType() && 2 !== i.getIncredibleType() || (r = r + 1 | 0), r > se().SIZE_LARGE && (r = se().SIZE_LARGE); var n = "Medium"; try { n = se().SIZES[r + 2 | 0] } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n }, WW.prototype.getAnimalAttackString_2zbcyx$ = function (t, e, i, a, r) { var n = r.listAnimalAttacks.get_za3lpa$(t), o = ""; o += n.name + ", <b>Damage</b> " + j(this.getAnimalDamageDice_f0wj8v$(i)) + "d" + j(n.damage); var s = this.getDamageBonus_4vd6cw$(e, i, a); return 0 !== s && (o += pe().getSignedValue_za3lpa$(s)), o }, WW.prototype.getAnimalDamageDice_f0wj8v$ = function (t) { var e, i = 1; for (e = t.hashMapDamageDiceIncrease.values.iterator(); e.hasNext();)i = i + e.next() | 0; return i }, WW.prototype.getDamageBonus_4vd6cw$ = function (t, e, i) { var a = 0; return WV().isIncredible_5btbp7$(t) && (a = 0 === i.getIncredibleType() ? a + 2 | 0 : a + 3 | 0), i.getHashMapAnimalSpecializations().isEmpty() || (a = 2 * a | 0), a = a + e.abilityBonuses[0] | 0 }, WW.prototype.getNumAnimalCompanions_5btbp7$ = function (t) { var e, i = 0; for (e = t.getCharacterData().hashMapPetData.values.iterator(); e.hasNext();)0 === e.next().getPetType() && (i = i + 1 | 0); return i }, WW.prototype.getNumFamiliars_5btbp7$ = function (t) { var e, i = 0; for (e = t.getCharacterData().hashMapPetData.values.iterator(); e.hasNext();)1 === e.next().getPetType() && (i = i + 1 | 0); return i }, WW.prototype.getAttackAbilityRef_3ordfu$ = function (t, e) { return _(e.name.toLowerCase(), "finesse") && t.abilityBonuses[1] > t.abilityBonuses[0] ? 1 : 0 }, WW.prototype.hasPetAtLevel_5btbp7$ = function (t) { var e, i; for (e = t.hashMapPetGainedLevel.keys.iterator(); e.hasNext();) { var a = e.next(); for (i = o(t.hashMapPetGainedLevel.get_11rb$(a)).values.iterator(); i.hasNext();) { var r = i.next(); if (t.getCharacterData().getCharacterLevel() >= r) return !0 } } return !1 }, WW.prototype.hasPetTypeAtCharacterLevel_vy76y1$ = function (t, e) { var i, a; for (i = t.hashMapPetGainedLevel.keys.iterator(); i.hasNext();) { var r = i.next(); if (r === e) for (a = o(t.hashMapPetGainedLevel.get_11rb$(r)).values.iterator(); a.hasNext();) { var n = a.next(); if (t.getCharacterData().getCharacterLevel() >= n) return !0 } } return !1 }, WW.prototype.getFamiliarSpellCastingAbilityMod_jn8rkh$ = function (t, e) { var i, a = 5, r = e.abilityScoresBuffed[a]; for (i = t.hashMapSpellCasters.values.iterator(); i.hasNext();) { var n = i.next(); n.level <= t.getCharacterData().getCharacterLevel() && n.getSpellCasterAbilityRef_n40yp2$(t) !== a && e.abilityScoresBuffed[n.getSpellCasterAbilityRef_n40yp2$(t)] > r && (a = n.getSpellCasterAbilityRef_n40yp2$(t)) } if (r = e.abilityScoresBuffed[a], Lq().hasFeatByLevel_w0akbr$(t, "No feat Ref", t.getCharacterData().getCharacterLevel(), "ALCHEMIST_Alchemical Familiar")) { var o = e.abilityScoresBuffed[3]; o > r && (r = o) } return pe().getAbilityMod_za3lpa$(r) }, WW.prototype.clearOldFamiliar_v0xutk$ = function (t, e) { var i; for (i = o(e.getPetData().getHashMapSelectedFamiliarAbilities()).keys.iterator(); i.hasNext();) { var a = i.next(), r = o(e.getPetData().getHashMapSelectedFamiliarAbilities()).get_11rb$(a); null != r && null != a && this.activateFamiliarAbility_f8hr8l$(!1, t, e, r, a) } o(e.getPetData().getHashMapSelectedFamiliarAbilities()).clear(), e.getPetData().getHashMapSelectedFamiliarSkilled().clear(), e.getPetData().getHashMapSelectedFamiliarResistances().clear(), e.listSkilledChoices.clear(), e.listResistanceChoices.clear(), e.hashMapOverrideSelections.clear(), e.listOverrideFamiliarAbilities.clear() }, WW.prototype.setSpecificFamiliar_xp8xqz$ = function (t, e, i) { var a; if (e.getPetData().setFamiliarSpecific_pdl1vj$(i), null != i) { var r = this.hashMapSpecificFamiliars.get_11rb$(i), n = WV().getListFamiliarAbilityReferences_38cnzz$(this.dataControl, t, e.getPetData().getFamiliarSpecific()); if (n.size >= o(r).listGranted.size) { a = r.listGranted; for (var s = 0; s !== a.size; ++s) { var l = r.listGranted.get_za3lpa$(s); e.listOverrideFamiliarAbilities.add_11rb$(n.get_za3lpa$(s)); var c = o(e.getPetData().getHashMapSelectedFamiliarAbilities()), p = n.get_za3lpa$(s), h = l.grantedAbility; if (c.put_xwzc9p$(p, h), null != l.grantedAbilityDetail) { var d = e.hashMapOverrideSelections, u = n.get_za3lpa$(s), _ = o(l.grantedAbilityDetail); d.put_xwzc9p$(u, _) } this.activateFamiliarAbility_f8hr8l$(!0, t, e, l.grantedAbility, n.get_za3lpa$(s)) } } else this.dataControl.getGuiUpdateControl().logError_nwzcgj$(e, "THERE WERE NOT ENOUGH ABILITIIES " + j(n.size)) } }, WW.prototype.isSpecificFamiliarLegal_vy76y1$ = function (t, e) { var i = WV().getListFamiliarAbilityReferences_38cnzz$(this.dataControl, t, null), a = t.getCharacterData().getCharacterLevel(), r = i.size; return (Lq().hasFeatByLevel_w0akbr$(t, "no feat ref", a, "WITCH_Improved Familiar (Witch)") || Lq().hasFeatByLevel_w0akbr$(t, "no feat ref", a, "ARCHETYPE_FAMILIAR MASTER_Improved Familiar (Familiar Master)")) && (r = r + 2 | 0), r >= e }, XW.prototype.hasPetTypeAtAnyLevel_vy76y1$ = function (t, e) { var i; for (i = t.getCharacterData().hashMapPetData.values.iterator(); i.hasNext();)if (i.next().getPetType() === e) return !0; return !1 }, XW.prototype.showPetType_vy76y1$ = function (t, e) { var i; if (t.hashMapPetGainedLevel.containsKey_11rb$(e)) for (i = o(t.hashMapPetGainedLevel.get_11rb$(e)).values.iterator(); i.hasNext();) { var a = i.next(); if (t.getCharacterData().getCharacterLevel() >= a) return !0 } return !1 }, XW.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var JW = null; function ZW() { return null === JW && new XW, JW } function QW(t, e) { this.baseSpeedType = 0, this.baseSpeed = 0, this.baseSpeedType = t, this.baseSpeed = e } function tY(t, i, a) { var r; if (this.dataControl_0 = t, this.petCharacterBuild_0 = i, this.masterCharacterBuild_0 = a, this.baseSpeeds = new Int32Array(5), this.speed = 0, this.climb = 0, this.burrow = 0, this.swim = 0, this.fly = 0, this.hasMatchedFlySpeed_0 = !1, this.petData_0 = null, this.petData_0 = this.petCharacterBuild_0.getPetData(), 0 === this.petData_0.getPetType()) { var n, s = o(this.dataControl_0.managerPets.hashMapAnimalCompanions), l = this.petData_0.getPetName(), c = (e.isType(n = s, y) ? n : d()).get_11rb$(l); this.setSpeedsAnimal_0(c) } else 1 === this.petData_0.getPetType() && this.setSpeedsFamiliar_0(); for (r = this.petCharacterBuild_0.hashMapBaseSpeeds.values.iterator(); r.hasNext();) { var p = r.next(); o(p).baseSpeed > this.baseSpeeds[p.baseSpeedType] && (this.baseSpeeds[p.baseSpeedType] = p.baseSpeed) } } function eY() { this.ref = 0, this.name = "", this.traits = null, this.description = "", this.source = Ic().BOOK_CRB, this.url = "" } function iY() { this.name = "", this.action = 1, this.damage = 8, this.type = "" } function aY() { oY(), this.name = "", this.traits = "", this.description = "", this.size = 1, this.larger = !1, this.listAnimalAttacks = u(), this.baseAbilities = new Int32Array(6), this.ancestryHP = 8, this.skill = "", this.senses = "", this.speed = 0, this.burrow = 0, this.climb = 0, this.swim = 0, this.fly = 0, this.special = "", this.support = "", this.advancedAction = null, this.src = "CRB", this.url = "https://2e.aonprd.com/AnimalCompanions.aspx" } function rY() { nY = this, this.COLUMN_NAME = "name", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SIZE = "size", this.COLUMN_LARGER = "larger", this.COLUMN_MELEE_1 = "melee1", this.COLUMN_MELEE_1_ACTION = "melee1Action", this.COLUMN_MELEE_1_DAM = "melee1Dam", this.COLUMN_MELEE_1_TYPE = "melee1Type", this.COLUMN_MELEE_2 = "melee2", this.COLUMN_MELEE_2_ACTION = "melee2Action", this.COLUMN_MELEE_2_DAM = "melee2Dam", this.COLUMN_MELEE_2_TYPE = "melee2Type", this.COLUMN_STR = "str", this.COLUMN_DEX = "dex", this.COLUMN_CON = "con", this.COLUMN_INT = "intel", this.COLUMN_WIS = "wis", this.COLUMN_CHA = "cha", this.COLUMN_HP = "hp", this.COLUMN_SKILL = "skill", this.COLUMN_SENSES = "senses", this.COLUMN_SPEED = "speed", this.COLUMN_BURROW = "burrow", this.COLUMN_CLIMB = "climb", this.COLUMN_SWIM = "swim", this.COLUMN_FLY = "fly", this.COLUMN_SPECIAL = "special", this.COLUMN_SUPPORT = "support", this.COLUMN_ADV_NAME = "advName", this.COLUMN_ADV_ACTION = "advAction", this.COLUMN_ADV_TRAITS = "advTraits", this.COLUMN_ADV_DESC = "advDesc", this.COLUMN_SRC = "src", this.COLUMN_URL = "url" } WW.$metadata$ = { kind: p, simpleName: "ManagerPets", interfaces: [W0] }, QW.$metadata$ = { kind: p, simpleName: "BaseSpeed", interfaces: [] }, Object.defineProperty(tY.prototype, "speedString", { configurable: !0, get: function () { var t = ""; if (0 === this.petData_0.getPetType()) { var i, a = o(this.dataControl_0.managerPets.hashMapAnimalCompanions), r = this.petData_0.getPetName(), n = (e.isType(i = a, y) ? i : d()).get_11rb$(r); this.setSpeedsAnimal_0(n), t = this.speed.toString() + " feet", o(n).burrow > 0 && (t += ", burrow " + this.burrow + " feet"), n.climb > 0 && (t += ", climb " + this.climb + " feet"), n.swim > 0 && (t += ", swim " + this.swim + " feet"), (n.fly > 0 || this.hasMatchedFlySpeed_0) && (t += ", fly " + this.fly + " feet") } else 1 === this.petData_0.getPetType() && (this.setSpeedsFamiliar_0(), t = this.speed.toString() + " feet", this.burrow > 0 && (t += ", burrow " + this.burrow + " feet"), this.climb > 0 && (t += ", climb " + this.climb + " feet"), this.swim > 0 && (t += ", swim " + this.swim + " feet"), this.fly > 0 && (t += ", fly " + this.fly + " feet")); return t } }), tY.prototype.setSpeedsFamiliar_0 = function () { var t, e, i; this.petData_0.isSwitchA() ? this.baseSpeeds[4] < 25 && (this.baseSpeeds[4] = 25) : this.baseSpeeds[0] < 25 && (this.baseSpeeds[0] = 25), this.speed = this.baseSpeeds[0], this.climb = this.baseSpeeds[2], this.burrow = this.baseSpeeds[1], this.swim = this.baseSpeeds[4], this.fly = this.baseSpeeds[3]; for (var a = u(), r = u(), n = 0; n <= 5; n++)a.add_11rb$(c()), r.add_11rb$(c()); for (t = this.petCharacterBuild_0.hashMapSpeedIncreases.values.iterator(); t.hasNext();) { var s = t.next(); if (this.petCharacterBuild_0.getCharacterData().getCharacterLevel() >= s.level) if (3 === s.bonusTypeUnused) this.adjustSpeedBasedOnType_0(s.movementType, s.increase); else if (s.increase > 0) if (a.get_za3lpa$(s.movementType).containsKey_11rb$(s.bonusTypeUnused)) { if (s.increase > o(a.get_za3lpa$(s.movementType).get_11rb$(s.bonusTypeUnused))) { var l = a.get_za3lpa$(s.movementType), p = s.bonusTypeUnused, h = s.increase; l.put_xwzc9p$(p, h) } } else { var d = a.get_za3lpa$(s.movementType), _ = s.bonusTypeUnused, f = s.increase; d.put_xwzc9p$(_, f) } else { var y = s.increase; r.get_za3lpa$(s.movementType).containsKey_11rb$(s.bonusTypeUnused) && (y = y + o(r.get_za3lpa$(s.movementType).get_11rb$(s.bonusTypeUnused)) | 0); var m = r.get_za3lpa$(s.movementType), $ = s.bonusTypeUnused, g = y; m.put_xwzc9p$($, g) } } for (var v = 0; v <= 5; v++) { for (e = a.get_za3lpa$(v).values.iterator(); e.hasNext();) { var S = e.next(); this.adjustSpeedBasedOnType_0(v, S) } for (i = r.get_za3lpa$(v).values.iterator(); i.hasNext();) { var C = i.next(); this.adjustSpeedBasedOnType_0(v, C) } } }, tY.prototype.setSpeedsAnimal_0 = function (t) { var i, a, r; this.speed = o(t).speed, this.climb = t.climb, this.burrow = t.burrow, this.swim = t.swim, this.fly = t.fly, 20 === this.masterCharacterBuild_0.getCharacterData().getCharacterLevel() && (Lq().hasFeatByLevel_w0akbr$(this.masterCharacterBuild_0, "no feat ref", this.masterCharacterBuild_0.getCharacterData().getCharacterLevel(), "CHAMPION_Celestial Mount") || Lq().hasFeatByLevel_w0akbr$(this.masterCharacterBuild_0, "no feat ref", this.masterCharacterBuild_0.getCharacterData().getCharacterLevel(), "CHAMPION_Fiendish Mount")) && this.fly < this.speed && (this.fly = this.speed, this.hasMatchedFlySpeed_0 = !0); try { var n = this.petCharacterBuild_0.getPlayReportAbilityScores_sfkw43$(this.dataControl_0), l = this.dataControl_0.managerArmor.getWornArmorInformation_5btbp7$(this.petCharacterBuild_0); if (null != o(l).speedPenalty) { var p = o(l.speedPenalty), _ = this.petCharacterBuild_0.getCharacterData().getPlayerArmor(); if (null != _.material) { var f, m = o(this.dataControl_0.managerEquipment.hashMapMaterialArmor), $ = _.material, g = (e.isType(f = m, y) ? f : d()).get_11rb$($); p = p - o(g).speed | 0 } o(n).abilityScoresBuffed[0] >= l.strength && (p = p - 5 | 0), p < 0 && (p = 0), this.adjustAllSpeeds_0(0 | -p) } for (var v = u(), S = u(), C = 0; C <= 5; C++)v.add_11rb$(c()), S.add_11rb$(c()); for (i = this.petCharacterBuild_0.hashMapSpeedIncreases.values.iterator(); i.hasNext();) { var E = i.next(); if (this.petCharacterBuild_0.getCharacterData().getCharacterLevel() >= E.level && E.isWearingLegalArmor_za3lpa$(l.proficiencyType)) if (3 === E.bonusTypeUnused) this.adjustSpeedBasedOnType_0(E.movementType, E.increase); else if (E.increase > 0) if (v.get_za3lpa$(E.movementType).containsKey_11rb$(E.bonusTypeUnused)) { if (E.increase > o(v.get_za3lpa$(E.movementType).get_11rb$(E.bonusTypeUnused))) { var A = v.get_za3lpa$(E.movementType), b = E.bonusTypeUnused, I = E.increase; A.put_xwzc9p$(b, I) } } else { var w = v.get_za3lpa$(E.movementType), L = E.bonusTypeUnused, T = E.increase; w.put_xwzc9p$(L, T) } else { var k = E.increase; S.get_za3lpa$(E.movementType).containsKey_11rb$(E.bonusTypeUnused) && (k = k + o(S.get_za3lpa$(E.movementType).get_11rb$(E.bonusTypeUnused)) | 0); var R = S.get_za3lpa$(E.movementType), P = E.bonusTypeUnused, M = k; R.put_xwzc9p$(P, M) } } for (var N = 0; N <= 5; N++) { for (a = v.get_za3lpa$(N).values.iterator(); a.hasNext();) { var D = a.next(); this.adjustSpeedBasedOnType_0(N, D) } for (r = S.get_za3lpa$(N).values.iterator(); r.hasNext();) { var x = r.next(); this.adjustSpeedBasedOnType_0(N, x) } } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } t.speed > 0 && this.speed < 5 && (this.speed = 5), t.burrow > 0 && this.burrow < 5 && (this.burrow = 5), t.climb > 0 && this.climb < 5 && (this.climb = 5), t.swim > 0 && this.swim < 5 && (this.swim = 5), t.fly > 0 && this.fly < 5 && (this.fly = 5) }, tY.prototype.adjustSpeedBasedOnType_0 = function (t, e) { switch (t) { case 0: this.speed = this.speed + e | 0; break; case 1: this.burrow = this.burrow + e | 0; break; case 2: this.climb = this.climb + e | 0; break; case 4: this.swim = this.swim + e | 0; break; case 3: this.fly = this.fly + e | 0; break; case 5: this.adjustAllSpeeds_0(e) } }, tY.prototype.adjustAllSpeeds_0 = function (t) { this.speed = this.speed + t | 0, this.climb = this.climb + t | 0, this.burrow = this.burrow + t | 0, this.swim = this.swim + t | 0, this.fly = this.fly + t | 0 }, tY.$metadata$ = { kind: p, simpleName: "SpeedsPets", interfaces: [] }, eY.$metadata$ = { kind: p, simpleName: "AnimalAdvancement", interfaces: [] }, iY.$metadata$ = { kind: p, simpleName: "AnimalAttack", interfaces: [] }, rY.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var nY = null; function oY() { return null === nY && new rY, nY } function sY() { hY(), this.hashMapAnimalSpecializationEffects = c(); var t = this.hashMapAnimalSpecializationEffects, e = new dY; t.put_xwzc9p$("Ambusher", e); var i = this.hashMapAnimalSpecializationEffects, a = new uY; i.put_xwzc9p$("Shade", a); var r = this.hashMapAnimalSpecializationEffects, n = new _Y; r.put_xwzc9p$("Bully", n); var o = this.hashMapAnimalSpecializationEffects, s = new fY; o.put_xwzc9p$("Daredevil", s); var l = this.hashMapAnimalSpecializationEffects, p = new yY; l.put_xwzc9p$("Racer", p); var h = this.hashMapAnimalSpecializationEffects, d = new mY; h.put_xwzc9p$("Racer (Swimming)", d); var u = this.hashMapAnimalSpecializationEffects, _ = new $Y; u.put_xwzc9p$("Racer (Flying)", _); var f = this.hashMapAnimalSpecializationEffects, y = new gY; f.put_xwzc9p$("Tracker", y); var m = this.hashMapAnimalSpecializationEffects, $ = new vY; m.put_xwzc9p$("Wrecker", $); var g = this.hashMapAnimalSpecializationEffects, v = new SY; g.put_xwzc9p$("Auspice", v); var S = this.hashMapAnimalSpecializationEffects, C = new CY; S.put_xwzc9p$("Deep Diver", C); var E = this.hashMapAnimalSpecializationEffects, A = new EY; E.put_xwzc9p$("Steadfast Strider", A); var b = this.hashMapAnimalSpecializationEffects, I = new AY; b.put_xwzc9p$("Wildfire Scorcher", I); var w = this.hashMapAnimalSpecializationEffects, L = new bY; w.put_xwzc9p$("Wind Chaser - Land", L); var T = this.hashMapAnimalSpecializationEffects, k = new IY; T.put_xwzc9p$("Wind Chaser - Fly", k) } function lY() { } function cY() { pY = this } aY.$metadata$ = { kind: p, simpleName: "AnimalCompanionInformation", interfaces: [] }, lY.$metadata$ = { kind: H, simpleName: "AnimalSpecializationEffect", interfaces: [] }, cY.prototype.applyAuspiciousMount_g5vt42$ = function (t, e) { e.addToAbilityBonusAdjustment_f9128j$(t, "Auspicious Mount", 3, 2), e.addToAbilityBonusAdjustment_f9128j$(t, "Auspicious Mount", 4, 1) }, cY.prototype.applyProgressionSpecialized_g5vt42$ = function (t, e) { var i = "Specialized"; e.addToAbilityBonusAdjustment_f9128j$(t, i, 1, 1), e.addToAbilityBonusAdjustment_f9128j$(t, i, 3, 2), t ? (o(e.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS)).setProficiencyAtLevel_3m52m6$(i, 1, 4), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)).addProficiencyIncrease_bm4lxs$(i, 1), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).addProficiencyIncrease_bm4lxs$(i, 1), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX)).addProficiencyIncrease_bm4lxs$(i, 1), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_WILL)).addProficiencyIncrease_bm4lxs$(i, 1), e.hashMapDamageDiceIncrease.put_xwzc9p$(i, 1)) : (o(e.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS)).removeProficiencyAtLevel_61zpoe$(i), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)).removeProficiencyIncrease_61zpoe$(i), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).removeProficiencyIncrease_61zpoe$(i), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX)).removeProficiencyIncrease_61zpoe$(i), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_WILL)).removeProficiencyIncrease_61zpoe$(i), e.hashMapDamageDiceIncrease.remove_11rb$(i)) }, cY.prototype.applyProgressionMature_rtrf07$ = function (t, e, i) { i.addToAbilityBonusAdjustment_f9128j$(t, "Mature", 0, 1), i.addToAbilityBonusAdjustment_f9128j$(t, "Mature", 1, 1), i.addToAbilityBonusAdjustment_f9128j$(t, "Mature", 2, 1), i.addToAbilityBonusAdjustment_f9128j$(t, "Mature", 4, 1), t ? (i.hashMapDamageDiceIncrease.put_xwzc9p$("Mature", 1), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)).addProficiencyIncrease_bm4lxs$("Mature", 1), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).addProficiencyIncrease_bm4lxs$("Mature", 1), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX)).addProficiencyIncrease_bm4lxs$("Mature", 1), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_WILL)).addProficiencyIncrease_bm4lxs$("Mature", 1), i.spawnedbyAnimalTrainer && o(i.getProficiency_61zpoe$(pK().PERFORMANCE)).setProficiencyAtLevel_3m52m6$("Mature", 1, 4)) : (i.hashMapDamageDiceIncrease.remove_11rb$("Mature"), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)).removeProficiencyIncrease_61zpoe$("Mature"), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).removeProficiencyIncrease_61zpoe$("Mature"), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX)).removeProficiencyIncrease_61zpoe$("Mature"), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_WILL)).removeProficiencyIncrease_61zpoe$("Mature"), i.spawnedbyAnimalTrainer && o(i.getProficiency_61zpoe$(pK().PERFORMANCE)).removeProficiencyAtLevel_61zpoe$("Mature")), this.addMatureSkill_0(t, e, i, "Mature", pK().INTIMIDATION), this.addMatureSkill_0(t, e, i, "Mature", pK().STEALTH), this.addMatureSkill_0(t, e, i, "Mature", pK().SURVIVAL) }, cY.prototype.addMatureSkill_0 = function (t, e, i, a, r) { if (t) { if (i.spawnedbyAnimalTrainer && m(r, e.animalTrainerMatureSkill)) return; o(i.getProficiency_61zpoe$(r)).addProficiencyIncrease_bm4lxs$(a, 1) } else o(i.getProficiency_61zpoe$(r)).removeProficiencyIncrease_61zpoe$(a) }, cY.prototype.addSpecializedSkillIncrease_0 = function (t, e, i, a, r) { if (t) { if (i.spawnedbyAnimalTrainer && m(r, e.animalTrainerSpecialisedSkill)) return; o(i.getProficiency_61zpoe$(r)).addProficiencyIncrease_bm4lxs$(a, 1) } else o(i.getProficiency_61zpoe$(r)).removeProficiencyIncrease_61zpoe$(a) }, cY.prototype.addSpecializedSkillSetAtLevel_0 = function (t, e, i, a, r, n) { if (t) { if (i.spawnedbyAnimalTrainer && m(r, e.animalTrainerSpecialisedSkill)) return; o(i.getProficiency_61zpoe$(r)).setProficiencyAtLevel_3m52m6$(a, 1, n) } else o(i.getProficiency_61zpoe$(r)).removeProficiencyAtLevel_61zpoe$(a) }, cY.prototype.applyProgressionNimble_g5vt42$ = function (t, e) { e.addToAbilityBonusAdjustment_f9128j$(t, "Nimble", 0, 1), e.addToAbilityBonusAdjustment_f9128j$(t, "Nimble", 1, 2), e.addToAbilityBonusAdjustment_f9128j$(t, "Nimble", 2, 1), e.addToAbilityBonusAdjustment_f9128j$(t, "Nimble", 4, 1), t ? (e.spawnedbyAnimalTrainer ? o(e.getProficiency_61zpoe$(pK().PERFORMANCE)).setProficiencyAtLevel_3m52m6$("Nimble", 1, 6) : o(e.getProficiency_61zpoe$(pK().ACROBATICS)).setProficiencyAtLevel_3m52m6$("Nimble", 1, 4), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).setProficiencyAtLevel_3m52m6$("Nimble", 1, 4)) : (e.spawnedbyAnimalTrainer ? o(e.getProficiency_61zpoe$(pK().PERFORMANCE)).removeProficiencyAtLevel_61zpoe$("Nimble") : o(e.getProficiency_61zpoe$(pK().ACROBATICS)).removeProficiencyAtLevel_61zpoe$("Nimble"), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).removeProficiencyAtLevel_61zpoe$("Nimble")) }, cY.prototype.applyProgressionSavage_g5vt42$ = function (t, e) { e.addToAbilityBonusAdjustment_f9128j$(t, "Savage", 0, 2), e.addToAbilityBonusAdjustment_f9128j$(t, "Savage", 1, 1), e.addToAbilityBonusAdjustment_f9128j$(t, "Savage", 2, 1), e.addToAbilityBonusAdjustment_f9128j$(t, "Savage", 4, 1), t ? e.spawnedbyAnimalTrainer ? o(e.getProficiency_61zpoe$(pK().PERFORMANCE)).setProficiencyAtLevel_3m52m6$("Savage", 1, 6) : o(e.getProficiency_61zpoe$(pK().ATHELTICS)).setProficiencyAtLevel_3m52m6$("Savage", 1, 4) : e.spawnedbyAnimalTrainer ? o(e.getProficiency_61zpoe$(pK().PERFORMANCE)).removeProficiencyAtLevel_61zpoe$("Savage") : o(e.getProficiency_61zpoe$(pK().ATHELTICS)).removeProficiencyAtLevel_61zpoe$("Savage") }, cY.prototype.applyProgressionIndomitable_g5vt42$ = function (t, e) { var i = "Indomitable"; e.addToAbilityBonusAdjustment_f9128j$(t, i, 0, 1), e.addToAbilityBonusAdjustment_f9128j$(t, i, 1, 1), e.addToAbilityBonusAdjustment_f9128j$(t, i, 2, 2), e.addToAbilityBonusAdjustment_f9128j$(t, i, 4, 1), t ? (e.spawnedbyAnimalTrainer ? o(e.getProficiency_61zpoe$(pK().PERFORMANCE)).setProficiencyAtLevel_3m52m6$(i, 1, 6) : o(e.getProficiency_61zpoe$(pK().ATHELTICS)).setProficiencyAtLevel_3m52m6$(i, 1, 4), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_BARDING)).addProficiencyIncrease_bm4lxs$(i, 1)) : (e.spawnedbyAnimalTrainer ? o(e.getProficiency_61zpoe$(pK().PERFORMANCE)).removeProficiencyAtLevel_61zpoe$(i) : o(e.getProficiency_61zpoe$(pK().ATHELTICS)).removeProficiencyAtLevel_61zpoe$(i), o(e.getProficiency_61zpoe$(pK().PROFICIENCY_BARDING)).removeProficiencyIncrease_61zpoe$(i)) }, cY.prototype.applyProgressionGenie_qx3yfk$ = function (t, e, i) { var a = "Genie-Touched"; e.addToAbilityBonusAdjustment_f9128j$(t, a, 4, 2), e.addToAbilityBonusAdjustment_f9128j$(t, a, 0, 1), e.addToAbilityBonusAdjustment_f9128j$(t, a, 1, 1), e.addToAbilityBonusAdjustment_f9128j$(t, a, 2, 1); var r = pK().ATHELTICS; 3 !== i && 4 !== i || (r = pK().ACROBATICS), t ? e.spawnedbyAnimalTrainer ? o(e.getProficiency_61zpoe$(pK().PERFORMANCE)).setProficiencyAtLevel_3m52m6$(a, 1, 6) : o(e.getProficiency_61zpoe$(r)).setProficiencyAtLevel_3m52m6$(a, 1, 4) : e.spawnedbyAnimalTrainer ? o(e.getProficiency_61zpoe$(pK().PERFORMANCE)).removeProficiencyAtLevel_61zpoe$(a) : o(e.getProficiency_61zpoe$(r)).removeProficiencyAtLevel_61zpoe$(a) }, cY.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var pY = null; function hY() { return null === pY && new cY, pY } function dY() { } function uY() { } function _Y() { } function fY() { } function yY() { } function mY() { } function $Y() { } function gY() { } function vY() { } function SY() { } function CY() { } function EY() { } function AY() { } function bY() { } function IY() { } function wY() { kY(), this.name = "", this.description = "", this.reqAdv = -1, this.src = Ic().BOOK_CRB } function LY() { TY = this, this.COLUMN_NAME = "name", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SRC = "srv" } dY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { Lq().hasFeatByLevel_w0akbr$(e, "none", e.getCharacterData().getCharacterLevel(), "RANGER_Stealthy Companion") && (a ? o(i.getProficiency_61zpoe$(pK().STEALTH)).addProficiencyIncrease_bm4lxs$(r + "Stealthy Companion", 1) : o(i.getProficiency_61zpoe$(pK().STEALTH)).removeProficiencyIncrease_61zpoe$(r + "Stealthy Companion")), i.addToAbilityBonusAdjustment_f9128j$(a, r, 1, 1), a ? (o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).addProficiencyIncrease_bm4lxs$(r, 1), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).hashMapMaxTrainingForReference.put_xwzc9p$(r, 6)) : (o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).removeProficiencyIncrease_61zpoe$(r), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).hashMapMaxTrainingForReference.remove_11rb$(r)), hY().addSpecializedSkillIncrease_0(a, e, i, r, pK().STEALTH) }, dY.$metadata$ = { kind: p, interfaces: [lY] }, uY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { a ? (o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).addProficiencyIncrease_bm4lxs$(r, 1), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).hashMapMaxTrainingForReference.put_xwzc9p$(r, 6)) : (o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).removeProficiencyIncrease_61zpoe$(r), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).hashMapMaxTrainingForReference.remove_11rb$(r)) }, uY.$metadata$ = { kind: p, interfaces: [lY] }, _Y.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { i.addToAbilityBonusAdjustment_f9128j$(a, r, 0, 1), i.addToAbilityBonusAdjustment_f9128j$(a, r, 5, 3), hY().addSpecializedSkillIncrease_0(a, e, i, r, pK().ATHELTICS), hY().addSpecializedSkillIncrease_0(a, e, i, r, pK().INTIMIDATION) }, _Y.$metadata$ = { kind: p, interfaces: [lY] }, fY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { i.addToAbilityBonusAdjustment_f9128j$(a, r, 1, 1), a ? (o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).addProficiencyIncrease_bm4lxs$(r, 1), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).hashMapMaxTrainingForReference.put_xwzc9p$(r, 6)) : (o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).removeProficiencyIncrease_61zpoe$(r), o(i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).hashMapMaxTrainingForReference.remove_11rb$(r)), hY().addSpecializedSkillSetAtLevel_0(a, e, i, r, pK().ACROBATICS, 6) }, fY.$metadata$ = { kind: p, interfaces: [lY] }, yY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { i.addToAbilityBonusAdjustment_f9128j$(a, r, 2, 1), a ? o(i.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).setProficiencyAtLevel_3m52m6$(r, 1, 8) : o(i.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).removeProficiencyAtLevel_61zpoe$(r), re().addSpeedIncreaseItem_xs3ggp$(a, i, r, UW(1, 10, 1, 0)) }, yY.$metadata$ = { kind: p, interfaces: [lY] }, mY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { i.addToAbilityBonusAdjustment_f9128j$(a, r, 2, 1), a ? o(i.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).setProficiencyAtLevel_3m52m6$(r, 1, 8) : o(i.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).removeProficiencyAtLevel_61zpoe$(r), re().addSpeedIncreaseItem_xs3ggp$(a, i, r, UW(1, 10, 1, 4)) }, mY.$metadata$ = { kind: p, interfaces: [lY] }, $Y.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { i.addToAbilityBonusAdjustment_f9128j$(a, r, 2, 1), a ? o(i.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).setProficiencyAtLevel_3m52m6$(r, 1, 8) : o(i.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).removeProficiencyAtLevel_61zpoe$(r), re().addSpeedIncreaseItem_xs3ggp$(a, i, r, UW(1, 10, 1, 3)) }, $Y.$metadata$ = { kind: p, interfaces: [lY] }, gY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { i.addToAbilityBonusAdjustment_f9128j$(a, r, 4, 1), hY().addSpecializedSkillIncrease_0(a, e, i, r, pK().SURVIVAL) }, gY.$metadata$ = { kind: p, interfaces: [lY] }, vY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { i.addToAbilityBonusAdjustment_f9128j$(a, r, 0, 1), hY().addSpecializedSkillSetAtLevel_0(a, e, i, r, pK().ATHELTICS, 6) }, vY.$metadata$ = { kind: p, interfaces: [lY] }, SY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { i.addToAbilityBonusAdjustment_f9128j$(a, r + "1", 3, 2), i.addToAbilityBonusAdjustment_f9128j$(a, r + "2", 4, 1), hY().addSpecializedSkillSetAtLevel_0(a, e, i, r, pK().RELIGION, 4) }, SY.$metadata$ = { kind: p, interfaces: [lY] }, CY.prototype.applyEffect_jxjo7e$ = function (t, i, a, r, n) { var s, l, c = o(t.managerPets.hashMapAnimalCompanions), p = a.getPetData().getPetName(); null != (s = (e.isType(l = c, y) ? l : d()).get_11rb$(p)) && (s.swim > 0 ? re().addSpeedIncreaseItem_xs3ggp$(r, a, n, UW(1, 10, 1, 4)) : re().addSpeedIncreaseItem_xs3ggp$(r, a, n, UW(1, 30, 3, 4)), a.addToAbilityBonusAdjustment_f9128j$(r, n + "1", 2, 1), hY().addSpecializedSkillSetAtLevel_0(r, i, a, n + "1", pK().ATHELTICS, 6), hY().addSpecializedSkillSetAtLevel_0(r, i, a, n + "2", pK().PROFICIENCY_BARDING, 4)) }, CY.$metadata$ = { kind: p, interfaces: [lY] }, EY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { i.addToAbilityBonusAdjustment_f9128j$(a, r + "2", 0, 1), hY().addSpecializedSkillSetAtLevel_0(a, e, i, r + "2", pK().PROFICIENCY_BARDING, 4) }, EY.$metadata$ = { kind: p, interfaces: [lY] }, AY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { i.addToAbilityBonusAdjustment_f9128j$(a, r + "2", 1, 1), hY().addSpecializedSkillSetAtLevel_0(a, e, i, r + "1", pK().PROFICIENCY_REFLEX, 8), hY().addSpecializedSkillSetAtLevel_0(a, e, i, r + "2", pK().PROFICIENCY_UNARMORED, 4) }, AY.$metadata$ = { kind: p, interfaces: [lY] }, bY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { re().addSpeedIncreaseItem_xs3ggp$(a, i, r, UW(1, 20, 1, 0)), i.addToAbilityBonusAdjustment_f9128j$(a, r + "2", 1, 1), hY().addSpecializedSkillSetAtLevel_0(a, e, i, r + "1", pK().PROFICIENCY_REFLEX, 8), hY().addSpecializedSkillSetAtLevel_0(a, e, i, r + "2", pK().PROFICIENCY_UNARMORED, 4) }, bY.$metadata$ = { kind: p, interfaces: [lY] }, IY.prototype.applyEffect_jxjo7e$ = function (t, e, i, a, r) { re().addSpeedIncreaseItem_xs3ggp$(a, i, r, UW(1, 20, 1, 3)), i.addToAbilityBonusAdjustment_f9128j$(a, r + "2", 1, 1), hY().addSpecializedSkillSetAtLevel_0(a, e, i, r + "1", pK().PROFICIENCY_REFLEX, 8), hY().addSpecializedSkillSetAtLevel_0(a, e, i, r + "2", pK().PROFICIENCY_UNARMORED, 4) }, IY.$metadata$ = { kind: p, interfaces: [lY] }, sY.$metadata$ = { kind: p, simpleName: "AnimalEffects", interfaces: [] }, LY.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var TY = null; function kY() { return null === TY && new LY, TY } function RY() { NY() } function PY() { MY = this } wY.$metadata$ = { kind: p, simpleName: "AnimalSpecialization", interfaces: [] }, PY.prototype.applyBasicProficiencies_u8a76w$ = function (t, e, i, a, r) { t.managerProficiencies.addProficiencies_5btbp7$(a), a.setBaseAbilityBonuses_q5rwfd$(new Int32Array([3, 3, 2, -4, 1, 0])), re().setProficiencyAtLevel_8d16k4$(e, a, "Basic Pet", 1, pK().PROFICIENCY_PERCEPTION, 2), re().setProficiencyAtLevel_8d16k4$(e, a, "Basic Pet", 1, pK().PROFICIENCY_FORTITUDE, 2), re().setProficiencyAtLevel_8d16k4$(e, a, "Basic Pet", 1, pK().PROFICIENCY_REFLEX, 2), re().setProficiencyAtLevel_8d16k4$(e, a, "Basic Pet", 1, pK().PROFICIENCY_WILL, 2), re().setProficiencyAtLevel_8d16k4$(e, a, "Basic Pet", 1, pK().PROFICIENCY_UNARMORED, 2), re().setProficiencyAtLevel_8d16k4$(e, a, "Basic Pet", 1, pK().PROFICIENCY_UNARMED_ATTACKS, 2), re().setProficiencyAtLevel_8d16k4$(e, a, "Basic Pet", 1, pK().ATHELTICS, 2), re().setProficiencyAtLevel_8d16k4$(e, a, "Basic Pet", 1, pK().ACROBATICS, 2) }, PY.prototype.applyProgressionAdvanced_rtrf07$ = function (t, e, i) { i.addToAbilityBonusAdjustment_f9128j$(t, "Advanced", 0, 1), i.addToAbilityBonusAdjustment_f9128j$(t, "Advanced", 1, 1), i.addToAbilityBonusAdjustment_f9128j$(t, "Advanced", 2, 1), i.addToAbilityBonusAdjustment_f9128j$(t, "Advanced", 4, 1), re().setProficiencyAtLevel_8d16k4$(t, i, "Advanced", 1, pK().PROFICIENCY_PERCEPTION, 4), re().setProficiencyAtLevel_8d16k4$(t, i, "Advanced", 1, pK().PROFICIENCY_FORTITUDE, 4), re().setProficiencyAtLevel_8d16k4$(t, i, "Advanced", 1, pK().PROFICIENCY_REFLEX, 4), re().setProficiencyAtLevel_8d16k4$(t, i, "Advanced", 1, pK().PROFICIENCY_WILL, 4), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(t, i, "Advanced", 1, pK().INTIMIDATION, 4), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(t, i, "Advanced", 1, pK().STEALTH, 4), re().addProficiencyIncreaseMaxTrainingLevel_8d16k4$(t, i, "Advanced", 1, pK().SURVIVAL, 4), t ? i.hashMapDamageDiceIncrease.put_xwzc9p$("Advanced", 1) : i.hashMapDamageDiceIncrease.remove_11rb$("Advanced") }, PY.prototype.applyProgressionIncredible_g5vt42$ = function (t, e) { e.addToAbilityBonusAdjustment_f9128j$(t, "Incredible", 0, 2), e.addToAbilityBonusAdjustment_f9128j$(t, "Incredible", 1, 2), e.addToAbilityBonusAdjustment_f9128j$(t, "Incredible", 2, 2), e.addToAbilityBonusAdjustment_f9128j$(t, "Incredible", 4, 2), re().setProficiencyAtLevel_8d16k4$(t, e, "Incredible", 1, pK().ATHELTICS, 4), re().setProficiencyAtLevel_8d16k4$(t, e, "Incredible", 1, pK().ACROBATICS, 4) }, PY.prototype.applyProgressionParagon_g5vt42$ = function (t, e) { var i = "Specialized"; e.addToAbilityBonusAdjustment_f9128j$(t, i, 0, 1), e.addToAbilityBonusAdjustment_f9128j$(t, i, 1, 1), e.addToAbilityBonusAdjustment_f9128j$(t, i, 2, 1), e.addToAbilityBonusAdjustment_f9128j$(t, i, 4, 1), re().setProficiencyAtLevel_8d16k4$(t, e, i, 1, pK().PROFICIENCY_UNARMED_ATTACKS, 4), re().setProficiencyAtLevel_8d16k4$(t, e, i, 1, pK().PROFICIENCY_UNARMORED, 4), re().setProficiencyAtLevel_8d16k4$(t, e, i, 1, pK().PROFICIENCY_PERCEPTION, 6), re().setProficiencyAtLevel_8d16k4$(t, e, i, 1, pK().PROFICIENCY_FORTITUDE, 6), re().setProficiencyAtLevel_8d16k4$(t, e, i, 1, pK().PROFICIENCY_REFLEX, 6), re().setProficiencyAtLevel_8d16k4$(t, e, i, 1, pK().PROFICIENCY_WILL, 6), re().setProficiencyAtLevel_8d16k4$(t, e, i, 1, pK().ATHELTICS, 6), re().setProficiencyAtLevel_8d16k4$(t, e, i, 1, pK().ACROBATICS, 6), t ? e.hashMapDamageDiceIncrease.put_xwzc9p$(i, 1) : e.hashMapDamageDiceIncrease.remove_11rb$(i) }, PY.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var MY = null; function NY() { return null === MY && new PY, MY } function DY() { xY = this } DY.prototype.hasSelectedModification_q8fthw$ = function (t, e, i, a) { var r, n; for (r = e.getCharacterData().hashMapSpecialSelections.keys.iterator(); r.hasNext();) { var s = r.next(); if (!m(s, a)) { var l = t.hashMapInventorModifications.get_11rb$(s); if (null != l && t.getCharacterData().getCharacterLevel() >= l.reqCharacterLevel) for (n = o(e.getCharacterData().hashMapSpecialSelections.get_11rb$(s)).values.iterator(); n.hasNext();) { var c = n.next(); if (m(c, i)) return !0 } } } return !1 }, DY.prototype.getSenses_7npgvs$ = function (t, e) { var i = ""; return this.hasSelectedModification_q8fthw$(e, t, "Sensory Array", "No mod ref") && (i = "Low-Light Vision, Darkvision, Imprecise Tremorsense"), i }, DY.prototype.getSize_v0xutk$ = function (t, e) { return e.getPetData().isSwitchB() ? "Large" : e.getPetData().isSwitchA() ? "Small" : "Medium" }, DY.prototype.getDR_x6w84g$ = function (t, e, i) { return this.hasSelectedModification_q8fthw$(t, e, "Resistant Coating", "No mod ref") ? "resistance 5 to all damage (except adamantine)" : "" }, DY.prototype.getEnergyResistance_x6w84g$ = function (t, e, i) { return "" }, DY.$metadata$ = { kind: f, simpleName: "ReportConstructMisc", interfaces: [] }; var xY = null; function zY() { return null === xY && new DY, xY } function OY(t, e, i) { var a; for (this.dataControl_0 = t, this.petCharacterBuild_0 = e, this.masterCharacterBuild_0 = i, this.baseSpeeds = new Int32Array(5), this.speed = 25, this.climb = 0, this.burrow = 0, this.swim = 0, this.fly = 0, this.hasMatchedFlySpeed_0 = !1, this.petData_0 = null, this.petData_0 = this.petCharacterBuild_0.getPetData(), this.setSpeeds_0(), a = this.petCharacterBuild_0.hashMapBaseSpeeds.values.iterator(); a.hasNext();) { var r = a.next(); o(r).baseSpeed > this.baseSpeeds[r.baseSpeedType] && (this.baseSpeeds[r.baseSpeedType] = r.baseSpeed) } } function FY() { HY(), i1.call(this, "Fist", 0), this.ref = 0, this.damageType = "B" } function BY() { jY = this } Object.defineProperty(OY.prototype, "speedString", { configurable: !0, get: function () { this.setSpeeds_0(); var t = this.speed.toString() + " ft."; return t = this.speed.toString() + " ft.", this.burrow > 0 && (t += ", burrow " + this.burrow + " ft."), this.climb > 0 && (t += ", climb " + this.climb + " ft."), this.swim > 0 && (t += ", swim " + this.swim + " ft."), (this.fly > 0 || this.hasMatchedFlySpeed_0) && (t += ", fly " + this.fly + " ft."), t } }), OY.prototype.setSpeeds_0 = function () { var t, e, i; this.baseSpeeds[0] = 25, this.speed = this.baseSpeeds[0], this.climb = this.baseSpeeds[2], this.burrow = this.baseSpeeds[1], this.swim = this.baseSpeeds[4], this.fly = this.baseSpeeds[3]; for (var a = u(), r = u(), n = 0; n <= 5; n++)a.add_11rb$(c()), r.add_11rb$(c()); for (t = this.petCharacterBuild_0.hashMapSpeedIncreases.values.iterator(); t.hasNext();) { var s = t.next(); if (this.petCharacterBuild_0.getCharacterData().getCharacterLevel() >= s.level) if (3 === s.bonusTypeUnused) this.adjustSpeedBasedOnType_0(s.movementType, s.increase); else if (s.increase > 0) if (a.get_za3lpa$(s.movementType).containsKey_11rb$(s.bonusTypeUnused)) { if (s.increase > o(a.get_za3lpa$(s.movementType).get_11rb$(s.bonusTypeUnused))) { var l = a.get_za3lpa$(s.movementType), p = s.bonusTypeUnused, h = s.increase; l.put_xwzc9p$(p, h) } } else { var d = a.get_za3lpa$(s.movementType), _ = s.bonusTypeUnused, f = s.increase; d.put_xwzc9p$(_, f) } else { var y = s.increase; r.get_za3lpa$(s.movementType).containsKey_11rb$(s.bonusTypeUnused) && (y = y + o(r.get_za3lpa$(s.movementType).get_11rb$(s.bonusTypeUnused)) | 0); var m = r.get_za3lpa$(s.movementType), $ = s.bonusTypeUnused, g = y; m.put_xwzc9p$($, g) } } for (var v = 0; v <= 5; v++) { for (e = a.get_za3lpa$(v).values.iterator(); e.hasNext();) { var S = e.next(); this.adjustSpeedBasedOnType_0(v, S) } for (i = r.get_za3lpa$(v).values.iterator(); i.hasNext();) { var E = i.next(); this.adjustSpeedBasedOnType_0(v, E) } } if (zY().hasSelectedModification_q8fthw$(this.masterCharacterBuild_0, this.petCharacterBuild_0, "Climbing Limbs", "No mod ref")) { var A = this.speed / 2, b = C(I.floor(A)); b > this.climb && (this.climb = b) } }, OY.prototype.adjustSpeedBasedOnType_0 = function (t, e) { switch (t) { case 0: this.speed = this.speed + e | 0; break; case 1: this.burrow = this.burrow + e | 0; break; case 2: this.climb = this.climb + e | 0; break; case 4: this.swim = this.swim + e | 0; break; case 3: this.fly = this.fly + e | 0; break; case 5: this.adjustAllSpeeds_0(e) } }, OY.prototype.adjustAllSpeeds_0 = function (t) { this.speed = this.speed + t | 0, this.climb = this.climb + t | 0, this.burrow = this.burrow + t | 0, this.swim = this.swim + t | 0, this.fly = this.fly + t | 0 }, OY.$metadata$ = { kind: p, simpleName: "SpeedsConstruct", interfaces: [] }, FY.prototype.getConstructStriking_5btbp7$ = function (t) { return WV().isParagonConstruct_5btbp7$(t) ? 2 : WV().isAdvancedConstruct_5btbp7$(t) ? 1 : 0 }, FY.prototype.getFullConstructTraits_jtsk75$ = function (t, e) { var i, a, r, n = ""; switch (e) { case 1: n = "Agile, Finesse"; break; case 2: n = "Propulsive" }var s = this.extraTraits; if (null != s && 0 !== s.length && (n.length > 0 && (n += ", "), n += this.extraTraits), t.hashMapFreePlayerWeaponTraits.containsKey_11rb$(this)) for (i = o(t.hashMapFreePlayerWeaponTraits.get_11rb$(this)).values.iterator(); i.hasNext();) { var l = i.next(); if (t.getCharacterData().getCharacterLevel() >= l.level) for (a = l.listTraits, r = 0; r !== a.length; ++r) { var c = a[r]; n.length > 0 && (n += ", "), n += c } } return n }, FY.prototype.getConstructDamageBonus_ju2cul$ = function (t, e, i, a, r, n) { var o = this.getEidlonAbilityDamageBonus_0(i, a); return WV().isIncredibleConstruct_5btbp7$(n) && (o = o + 2 | 0), WV().isParagonConstruct_5btbp7$(n) && (o = o + 2 | 0), o }, FY.prototype.getFullTraits_za3lpa$ = function (t) { var e = ""; switch (t) { case 0: switch (this.ref) { case 0: e = "Disarm"; break; case 1: e = "Nonlethal"; break; case 2: e = "Trip"; break; case 3: e = "Shove"; break; case 4: e = "Fatal d10"; break; case 5: e = "Forceful, Sweep"; break; case 6: e = "Deadly d8, Finesse" }break; case 1: e = "Agile, Finesse"; break; case 2: e = "Magical, Propulsive" }var i = this.extraTraits; return null != i && 0 !== i.length && (e += ", " + j(this.extraTraits)), e }, FY.prototype.getEidolonDamageDiceSize_za3lpa$ = function (t) { var e, i = 6; switch (t) { case 0: (e = this.ref) >= 0 && e <= 3 && (i = 8); break; case 2: i = 4 }return this.increasedDice && (i = X0().getIncreasedDamageDice_za3lpa$(i)), i }, FY.prototype.getEidolonDamageBonus_ju2cul$ = function (t, e, i, a, r, n) { return this.getEidlonAbilityDamageBonus_0(i, a) + this.getEidolonWeaponSpecBonus_0(t, e, r, n) | 0 }, FY.prototype.getEidlonAbilityDamageBonus_0 = function (t, e) { if (2 === e) { var i = pe().getAbilityMod_za3lpa$(t[0]) / 2; return C(I.floor(i)) } return pe().getAbilityMod_za3lpa$(t[0]) }, FY.prototype.getEidolonWeaponSpecBonus_0 = function (t, e, i, a) { var r = 0; if (i.getCharacterData().isFreeArchetype()) { if (Lq().hasFeatByLevel_w0akbr$(a, "No feat ref", a.getCharacterData().getCharacterLevel(), "ARCHETYPE_Expert Combat Eidolon") && BK().hasSpecialByLevel_o7aqax$(a, "Weapon Specialization", a.getCharacterData().getCharacterLevel())) switch (e) { case 4: r = r + 2 | 0; break; case 6: r = r + 3 | 0; break; case 8: r = r + 4 | 0 } } else if (t >= 15) switch (e) { case 4: r = r + 4 | 0; break; case 6: r = r + 6 | 0; break; case 8: r = r + 8 | 0 } else if (t >= 7) switch (e) { case 4: r = r + 2 | 0; break; case 6: r = r + 3 | 0; break; case 8: r = r + 4 | 0 }return r }, BY.prototype.serializer = function () { return GY() }, BY.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var jY = null; function HY() { return null === jY && new BY, jY } function qY() { this.descriptor_53gnvd$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerpets.eidolons.EidolonAttack", this, 21), this.descriptor.addElement_ivxn3r$("stowed", !0), this.descriptor.addElement_ivxn3r$("inContainerID", !0), this.descriptor.addElement_ivxn3r$("amount", !0), this.descriptor.addElement_ivxn3r$("mapInvModSel", !0), this.descriptor.addElement_ivxn3r$("bulkOverride", !0), this.descriptor.addElement_ivxn3r$("weaponName", !1), this.descriptor.addElement_ivxn3r$("attackAbilityRef", !1), this.descriptor.addElement_ivxn3r$("itemStriking", !0), this.descriptor.addElement_ivxn3r$("listPropertyRunes", !0), this.descriptor.addElement_ivxn3r$("damageAbilityRef", !0), this.descriptor.addElement_ivxn3r$("increasedDice", !0), this.descriptor.addElement_ivxn3r$("material", !0), this.descriptor.addElement_ivxn3r$("sizeChange", !0), this.descriptor.addElement_ivxn3r$("attackOverride", !0), this.descriptor.addElement_ivxn3r$("damageBonusOverride", !0), this.descriptor.addElement_ivxn3r$("extraTraits", !0), this.descriptor.addElement_ivxn3r$("nameOverride", !0), this.descriptor.addElement_ivxn3r$("listEnabledPrecisionKeys", !0), this.descriptor.addElement_ivxn3r$("potency", !0), this.descriptor.addElement_ivxn3r$("ref", !0), this.descriptor.addElement_ivxn3r$("damageType", !0), UY = this } Object.defineProperty(qY.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_53gnvd$_0 } }), qY.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.stowed, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 0, e.stowed), m(e.inContainerID, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 1, M.StringSerializer, e.inContainerID), m(e.amount, 1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.amount), m(e.mapInvModSel, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, new N(M.StringSerializer, M.StringSerializer), e.mapInvModSel), m(e.bulkOverride, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 4, M.StringSerializer, e.bulkOverride), i.encodeStringElement_iij8qq$(this.descriptor, 5, e.weaponName), i.encodeIntElement_ptg7oe$(this.descriptor, 6, e.attackAbilityRef), m(e.itemStriking_uopdul$_0, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || i.encodeIntElement_ptg7oe$(this.descriptor, 7, e.itemStriking_uopdul$_0), m(e.listPropertyRunes_9w4mi1$_0, u()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 8) || i.encodeSerializableElement_r4qlx7$(this.descriptor, 8, new D(M.StringSerializer), e.listPropertyRunes_9w4mi1$_0), m(e.damageAbilityRef, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 9) || i.encodeIntElement_ptg7oe$(this.descriptor, 9, e.damageAbilityRef), m(e.increasedDice, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 10) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 10, e.increasedDice), m(e.material, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 11) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 11, M.StringSerializer, e.material), m(e.sizeChange, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 12) || i.encodeIntElement_ptg7oe$(this.descriptor, 12, e.sizeChange), m(e.attackOverride, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 13) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 13, M.IntSerializer, e.attackOverride), m(e.damageBonusOverride, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 14) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 14, M.IntSerializer, e.damageBonusOverride), m(e.extraTraits, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 15) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 15, M.StringSerializer, e.extraTraits), m(e.nameOverride, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 16) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 16, M.StringSerializer, e.nameOverride), m(e.listEnabledPrecisionKeys, u()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 17) || i.encodeSerializableElement_r4qlx7$(this.descriptor, 17, new D(M.StringSerializer), e.listEnabledPrecisionKeys), m(e.potency_lnxd7p$_0, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 18) || i.encodeIntElement_ptg7oe$(this.descriptor, 18, e.potency_lnxd7p$_0), m(e.ref, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 19) || i.encodeIntElement_ptg7oe$(this.descriptor, 19, e.ref), m(e.damageType, "B") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 20) || i.encodeStringElement_iij8qq$(this.descriptor, 20, e.damageType), i.endStructure_24f42q$(this.descriptor) }, qY.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E = 0, A = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = A.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = A.decodeBooleanElement_szpzho$(this.descriptor, 0), E |= 1; break; case 1: a = A.decodeNullableSerializableElement_8viuyw$(this.descriptor, 1, M.StringSerializer, a), E |= 2; break; case 2: r = A.decodeIntElement_szpzho$(this.descriptor, 2), E |= 4; break; case 3: n = A.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, new N(M.StringSerializer, M.StringSerializer), n), E |= 8; break; case 4: o = A.decodeNullableSerializableElement_8viuyw$(this.descriptor, 4, M.StringSerializer, o), E |= 16; break; case 5: s = A.decodeStringElement_szpzho$(this.descriptor, 5), E |= 32; break; case 6: l = A.decodeIntElement_szpzho$(this.descriptor, 6), E |= 64; break; case 7: c = A.decodeIntElement_szpzho$(this.descriptor, 7), E |= 128; break; case 8: p = A.decodeSerializableElement_12e8id$(this.descriptor, 8, new D(M.StringSerializer), p), E |= 256; break; case 9: h = A.decodeIntElement_szpzho$(this.descriptor, 9), E |= 512; break; case 10: d = A.decodeBooleanElement_szpzho$(this.descriptor, 10), E |= 1024; break; case 11: u = A.decodeNullableSerializableElement_8viuyw$(this.descriptor, 11, M.StringSerializer, u), E |= 2048; break; case 12: _ = A.decodeIntElement_szpzho$(this.descriptor, 12), E |= 4096; break; case 13: f = A.decodeNullableSerializableElement_8viuyw$(this.descriptor, 13, M.IntSerializer, f), E |= 8192; break; case 14: y = A.decodeNullableSerializableElement_8viuyw$(this.descriptor, 14, M.IntSerializer, y), E |= 16384; break; case 15: m = A.decodeNullableSerializableElement_8viuyw$(this.descriptor, 15, M.StringSerializer, m), E |= 32768; break; case 16: $ = A.decodeNullableSerializableElement_8viuyw$(this.descriptor, 16, M.StringSerializer, $), E |= 65536; break; case 17: g = A.decodeSerializableElement_12e8id$(this.descriptor, 17, new D(M.StringSerializer), g), E |= 131072; break; case 18: v = A.decodeIntElement_szpzho$(this.descriptor, 18), E |= 262144; break; case 19: S = A.decodeIntElement_szpzho$(this.descriptor, 19), E |= 524288; break; case 20: C = A.decodeStringElement_szpzho$(this.descriptor, 20), E |= 1048576; break; case -1: break t; default: throw new O(e) }return A.endStructure_24f42q$(this.descriptor), WY(E, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, null) }, qY.prototype.childSerializers = function () { return [M.BooleanSerializer, new R(M.StringSerializer), M.IntSerializer, new R(new N(M.StringSerializer, M.StringSerializer)), new R(M.StringSerializer), M.StringSerializer, M.IntSerializer, M.IntSerializer, new D(M.StringSerializer), M.IntSerializer, M.BooleanSerializer, new R(M.StringSerializer), M.IntSerializer, new R(M.IntSerializer), new R(M.IntSerializer), new R(M.StringSerializer), new R(M.StringSerializer), new D(M.StringSerializer), M.IntSerializer, M.IntSerializer, M.StringSerializer] }, qY.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var UY = null; function GY() { return null === UY && new qY, UY } function WY(t, e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C) { var E = C || Object.create(FY.prototype); return (E = c1(t, e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, E)).ref = 0 == (524288 & t) ? 0 : v, E.damageType = 0 == (1048576 & t) ? "B" : S, E } function YY() { this.name = "", this.tradition = 0, this.canbeSmall = !0, this.traits = "", this.skill1 = "", this.skill2 = "", this.type1 = "", this.type2 = "", this.array1 = T([0, 0, 0, 0, 0, 0]), this.array2 = T([0, 0, 0, 0, 0, 0]), this.ac1 = 0, this.dexcap1 = 0, this.ac2 = 0, this.dexcap2 = 0, this.senses = "", this.speed = 25, this.ability1 = "", this.ability2 = "", this.ability3 = "" } function VY(t, e, i, a) { var r; for (this.dataControl_0 = t, this.petCharacterBuild_0 = e, this.masterCharacterBuild_0 = i, this.eidolonInformation_0 = a, this.baseSpeeds = new Int32Array(5), this.speed = 0, this.climb = 0, this.burrow = 0, this.swim = 0, this.fly = 0, this.hasMatchedFlySpeed_0 = !1, this.petData_0 = null, this.petData_0 = this.petCharacterBuild_0.getPetData(), this.setSpeeds_0(), r = this.petCharacterBuild_0.hashMapBaseSpeeds.values.iterator(); r.hasNext();) { var n = r.next(); o(n).baseSpeed > this.baseSpeeds[n.baseSpeedType] && (this.baseSpeeds[n.baseSpeedType] = n.baseSpeed) } } function KY() { ZY(), this.name = "", this.reqs = "", this.description = null, this.selectable = 1, this.url = "", this.src = Ic().BOOK_CRB, this.type = 0 } function XY() { JY = this, this.TYPE_FAMILIAR_ABILITY = 0, this.TYPE_MASTER_ABILITY = 1, this.COLUMN_NAME = "name", this.COLUMN_REQS = "reqs", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SRC = "src", this.COLUMN_TYPE = "type" } FY.$metadata$ = { kind: p, simpleName: "EidolonAttack", interfaces: [i1] }, YY.$metadata$ = { kind: p, simpleName: "EidolonInformation", interfaces: [] }, VY.prototype.getSpeedString = function () { var t = ""; return this.setSpeeds_0(), t = this.speed.toString() + " ft.", this.burrow > 0 && (t += ", burrow " + this.burrow + " ft."), this.climb > 0 && (t += ", climb " + this.climb + " ft."), this.swim > 0 && (t += ", swim " + this.swim + " ft."), (this.fly > 0 || this.hasMatchedFlySpeed_0) && (t += ", fly " + this.fly + " ft."), t }, VY.prototype.setSpeeds_0 = function () { var t, i, a, r, n, l, p, d; this.speed = this.eidolonInformation_0.speed, Lq().hasFeatByLevel_w0akbr$(this.masterCharacterBuild_0, "no feat ref", this.masterCharacterBuild_0.getCharacterData().getCharacterLevel(), "SUMMONER_Amphibious Form") && (this.speed < 25 ? this.swim = this.speed : this.swim = 25), Lq().hasFeatByLevel_w0akbr$(this.masterCharacterBuild_0, "no feat ref", this.masterCharacterBuild_0.getCharacterData().getCharacterLevel(), "SUMMONER_Burrowing Form") && (this.burrow = 15); try { for (var _ = u(), f = u(), y = 0; y <= 5; y++)_.add_11rb$(c()), f.add_11rb$(c()); for (t = this.petCharacterBuild_0.hashMapSpeedIncreases.values.iterator(); t.hasNext();) { var m = t.next(); if (this.petCharacterBuild_0.getCharacterData().getCharacterLevel() >= m.level) if (3 === m.bonusTypeUnused) this.adjustSpeedBasedOnType_0(m.movementType, m.increase); else if (m.increase > 0) if (_.get_za3lpa$(m.movementType).containsKey_11rb$(m.bonusTypeUnused)) { if (m.increase > o(_.get_za3lpa$(m.movementType).get_11rb$(m.bonusTypeUnused))) { var $ = _.get_za3lpa$(m.movementType), g = m.bonusTypeUnused, v = m.increase; $.put_xwzc9p$(g, v) } } else { var S = _.get_za3lpa$(m.movementType), C = m.bonusTypeUnused, E = m.increase; S.put_xwzc9p$(C, E) } else { var A = m.increase; f.get_za3lpa$(m.movementType).containsKey_11rb$(m.bonusTypeUnused) && (A = A + o(f.get_za3lpa$(m.movementType).get_11rb$(m.bonusTypeUnused)) | 0); var b = f.get_za3lpa$(m.movementType), I = m.bonusTypeUnused, w = A; b.put_xwzc9p$(I, w) } } Lq().hasFeatByLevel_w0akbr$(this.masterCharacterBuild_0, "no feat ref", this.masterCharacterBuild_0.getCharacterData().getCharacterLevel(), "SUMMONER_Alacritous Action") && (_.get_za3lpa$(0).containsKey_11rb$(1) ? 10 > o(_.get_za3lpa$(0).get_11rb$(1)) && _.get_za3lpa$(0).put_xwzc9p$(1, 10) : _.get_za3lpa$(0).put_xwzc9p$(1, 10)); for (var L = 0; L <= 5; L++) { for (i = _.get_za3lpa$(L).values.iterator(); i.hasNext();) { var T = i.next(); this.adjustSpeedBasedOnType_0(L, T) } for (a = f.get_za3lpa$(L).values.iterator(); a.hasNext();) { var k = a.next(); this.adjustSpeedBasedOnType_0(L, k) } } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } Lq().hasFeatByLevel_w0akbr$(this.masterCharacterBuild_0, "no feat ref", this.masterCharacterBuild_0.getCharacterData().getCharacterLevel(), "SUMMONER_Airborne Form") && (this.fly = this.speed), 1 <= (r = this.speed) && r <= 4 && (this.speed = 5), 1 <= (n = this.burrow) && n <= 4 && (this.burrow = 5), 1 <= (l = this.climb) && l <= 4 && (this.climb = 5), 1 <= (p = this.swim) && p <= 4 && (this.swim = 5), 1 <= (d = this.fly) && d <= 4 && (this.fly = 5) }, VY.prototype.adjustSpeedBasedOnType_0 = function (t, e) { switch (t) { case 0: this.speed = this.speed + e | 0; break; case 1: this.burrow = this.burrow + e | 0; break; case 2: this.climb = this.climb + e | 0; break; case 4: this.swim = this.swim + e | 0; break; case 3: this.fly = this.fly + e | 0; break; case 5: this.adjustAllSpeeds_0(e) } }, VY.prototype.adjustAllSpeeds_0 = function (t) { this.speed = this.speed + t | 0, this.climb = this.climb + t | 0, this.burrow = this.burrow + t | 0, this.swim = this.swim + t | 0, this.fly = this.fly + t | 0 }, VY.$metadata$ = { kind: p, simpleName: "SpeedsEidolons", interfaces: [] }, Object.defineProperty(KY.prototype, "adjustedName", { configurable: !0, get: function () { return 0 === this.type ? "Familiar Ability: " + this.name : 1 === this.type ? "Master Ability: " + this.name : this.name } }), XY.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var JY = null; function ZY() { return null === JY && new XY, JY } function QY() { xV(), this.hashMapFamiliaryAbilityEffects = c(), this.hashMapFamiliarAbilityRequirements = c(), this.setEffects_0(), this.setRequirements_0() } function tV(t) { PV.call(this, t) } function eV(t) { PV.call(this, t) } function iV(t) { PV.call(this, t) } function aV(t) { PV.call(this, t) } function rV(t) { PV.call(this, t) } function nV(t) { PV.call(this, t) } function oV(t) { PV.call(this, t) } function sV(t) { PV.call(this, t) } function lV(t) { PV.call(this, t) } function cV(t) { PV.call(this, t) } function pV(t) { PV.call(this, t) } function hV(t) { PV.call(this, t) } function dV(t) { PV.call(this, t) } function uV(t) { PV.call(this, t) } function _V(t) { PV.call(this, t) } function fV(t) { PV.call(this, t) } function yV(t) { MV.call(this, t) } function mV(t) { MV.call(this, t) } function $V(t) { MV.call(this, t) } function gV(t) { MV.call(this, t) } function vV(t) { MV.call(this, t) } function SV(t) { MV.call(this, t) } function CV(t) { MV.call(this, t) } function EV(t) { MV.call(this, t) } function AV(t) { MV.call(this, t) } function bV(t) { MV.call(this, t) } function IV(t) { MV.call(this, t) } function wV(t) { MV.call(this, t) } function LV(t) { MV.call(this, t) } function TV(t) { MV.call(this, t) } function kV(t) { MV.call(this, t) } function RV(t) { MV.call(this, t) } function PV(t) { this.$outer = t } function MV(t) { this.$outer = t } function NV() { DV = this } KY.$metadata$ = { kind: p, simpleName: "FamiliarAbility", interfaces: [] }, tV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { e.getPetData().isSwitchA() ? xV().addBaseSpeed_0(i, e, a, new QW(0, 25)) : xV().addBaseSpeed_0(i, e, a, new QW(4, 25)) }, tV.$metadata$ = { kind: p, interfaces: [PV] }, eV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { xV().addBaseSpeed_0(i, e, a, new QW(1, 5)) }, eV.$metadata$ = { kind: p, interfaces: [PV] }, iV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { xV().addBaseSpeed_0(i, e, a, new QW(2, 25)) }, iV.$metadata$ = { kind: p, interfaces: [PV] }, aV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { xV().addBaseSpeed_0(i, e, a, new QW(0, 40)) }, aV.$metadata$ = { kind: p, interfaces: [PV] }, rV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { xV().addBaseSpeed_0(i, e, a, new QW(4, 40)) }, rV.$metadata$ = { kind: p, interfaces: [PV] }, nV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { xV().addBaseSpeed_0(i, e, a, new QW(2, 40)) }, nV.$metadata$ = { kind: p, interfaces: [PV] }, oV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { xV().addBaseSpeed_0(i, e, a, new QW(3, 40)) }, oV.$metadata$ = { kind: p, interfaces: [PV] }, sV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { xV().addBaseSpeed_0(i, e, a, new QW(3, 25)) }, sV.$metadata$ = { kind: p, interfaces: [PV] }, lV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { if (i) { var r = e.hashMapAdditionalSenses, n = se().UNIVERSAL_DARKVISION; r.put_xwzc9p$(a, n) } else e.hashMapAdditionalSenses.remove_11rb$(a) }, lV.$metadata$ = { kind: p, interfaces: [PV] }, cV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { i ? e.hashMapAdditionalSenses.put_xwzc9p$(a, "Scent (imprecise, 30 feet)") : e.hashMapAdditionalSenses.remove_11rb$(a) }, cV.$metadata$ = { kind: p, interfaces: [PV] }, pV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { i ? e.listSkilledChoices.add_11rb$(a) : (e.listSkilledChoices.remove_11rb$(a), e.getPetData().getHashMapSelectedFamiliarSkilled().remove_11rb$(a)) }, pV.$metadata$ = { kind: p, interfaces: [PV] }, hV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { i ? (e.listResistanceChoices.add_11rb$(a), e.listResistanceChoices.add_11rb$(a + "2")) : (e.listResistanceChoices.remove_11rb$(a), e.listResistanceChoices.remove_11rb$(a + "2")) }, hV.$metadata$ = { kind: p, interfaces: [PV] }, dV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { }, dV.$metadata$ = { kind: p, interfaces: [PV] }, uV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { }, uV.$metadata$ = { kind: p, interfaces: [PV] }, _V.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { }, _V.$metadata$ = { kind: p, interfaces: [PV] }, fV.prototype.applyEffect_rpynyp$ = function (t, e, i, a) { if (i) { var r = t.hashMapExtraInfusedReagents, n = DW(1, 1); r.put_xwzc9p$(a, n) } else t.hashMapExtraInfusedReagents.remove_11rb$(a) }, fV.$metadata$ = { kind: p, interfaces: [PV] }, QY.prototype.setEffects_0 = function () { var t = this.hashMapFamiliaryAbilityEffects, e = new tV(this); t.put_xwzc9p$("Amphibious", e); var i = this.hashMapFamiliaryAbilityEffects, a = new eV(this); i.put_xwzc9p$("Burrower", a); var r = this.hashMapFamiliaryAbilityEffects, n = new iV(this); r.put_xwzc9p$("Climber", n); var o = this.hashMapFamiliaryAbilityEffects, s = new aV(this); o.put_xwzc9p$("Fast Movement (Land)", s); var l = this.hashMapFamiliaryAbilityEffects, c = new rV(this); l.put_xwzc9p$("Fast Movement (Swim)", c); var p = this.hashMapFamiliaryAbilityEffects, h = new nV(this); p.put_xwzc9p$("Fast Movement (Climb)", h); var d = this.hashMapFamiliaryAbilityEffects, u = new oV(this); d.put_xwzc9p$("Fast Movement (Fly)", u); var _ = this.hashMapFamiliaryAbilityEffects, f = new sV(this); _.put_xwzc9p$("Flier", f); var y = this.hashMapFamiliaryAbilityEffects, m = new lV(this); y.put_xwzc9p$("Darkvision", m); var $ = this.hashMapFamiliaryAbilityEffects, g = new cV(this); $.put_xwzc9p$("Scent", g); var v = this.hashMapFamiliaryAbilityEffects, S = new pV(this); v.put_xwzc9p$("Skilled", S); var C = this.hashMapFamiliaryAbilityEffects, E = new hV(this); C.put_xwzc9p$("Resistance", E); var A = this.hashMapFamiliaryAbilityEffects, b = new dV(this); A.put_xwzc9p$("Shadow Step", b); var I = this.hashMapFamiliaryAbilityEffects, w = new uV(this); I.put_xwzc9p$("Greater Resistance", w); var L = this.hashMapFamiliaryAbilityEffects, T = new _V(this); L.put_xwzc9p$("Major Resistance", T); var k = this.hashMapFamiliaryAbilityEffects, R = new fV(this); k.put_xwzc9p$("Extra Reagents", R) }, yV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return a.baseSpeeds[0] >= 25 }, yV.$metadata$ = { kind: p, interfaces: [MV] }, mV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return a.baseSpeeds[4] >= 25 }, mV.$metadata$ = { kind: p, interfaces: [MV] }, $V.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return a.baseSpeeds[2] >= 25 }, $V.$metadata$ = { kind: p, interfaces: [MV] }, gV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return a.baseSpeeds[3] >= 25 }, gV.$metadata$ = { kind: p, interfaces: [MV] }, vV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return e.getCharacterData().getCharacterLevel() >= 6 && xV().hasSelectedFamiliarAbility_jmcvbn$(i, "Speech", r) }, vV.$metadata$ = { kind: p, interfaces: [MV] }, SV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return xV().hasSelectedFamiliarAbility_jmcvbn$(i, "Manual Dexterity", r) }, SV.$metadata$ = { kind: p, interfaces: [MV] }, CV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return !e.hashMapSpellCasters.isEmpty() }, CV.$metadata$ = { kind: p, interfaces: [MV] }, EV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return t.managerSpells.getMaxInfusedReagents_5btbp7$(e) > 0 }, EV.$metadata$ = { kind: p, interfaces: [MV] }, AV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return t.managerSpells.getMaxFocusPoints_5btbp7$(e) > 0 }, AV.$metadata$ = { kind: p, interfaces: [MV] }, bV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return !e.hashMapSpellCasters.isEmpty() && e.getCharacterData().getCharacterLevel() >= 7 }, bV.$metadata$ = { kind: p, interfaces: [MV] }, IV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return xV().hasSelectedFamiliarAbility_jmcvbn$(i, "Manual Dexterity", r) && xV().hasSelectedFamiliarAbility_jmcvbn$(i, "Speech", r) }, IV.$metadata$ = { kind: p, interfaces: [MV] }, wV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return xV().hasSelectedFamiliarAbility_jmcvbn$(i, "Manual Dexterity", r) }, wV.$metadata$ = { kind: p, interfaces: [MV] }, LV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return e.getCharacterData().getCharacterLevel() >= 7 }, LV.$metadata$ = { kind: p, interfaces: [MV] }, TV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return xV().hasSelectedFamiliarAbility_jmcvbn$(i, "Resistance", r) }, TV.$metadata$ = { kind: p, interfaces: [MV] }, kV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return xV().hasSelectedFamiliarAbility_jmcvbn$(i, "Greater Resistance", r) }, kV.$metadata$ = { kind: p, interfaces: [MV] }, RV.prototype.available_1hgb2q$ = function (t, e, i, a, r) { return xV().hasSelectedFamiliarAbility_jmcvbn$(i, "Skilled", r) }, RV.$metadata$ = { kind: p, interfaces: [MV] }, QY.prototype.setRequirements_0 = function () { var t = this.hashMapFamiliarAbilityRequirements, e = new yV(this); t.put_xwzc9p$("Fast Movement (Land)", e); var i = this.hashMapFamiliarAbilityRequirements, a = new mV(this); i.put_xwzc9p$("Fast Movement (Swim)", a); var r = this.hashMapFamiliarAbilityRequirements, n = new $V(this); r.put_xwzc9p$("Fast Movement (Climb)", n); var o = this.hashMapFamiliarAbilityRequirements, s = new gV(this); o.put_xwzc9p$("Fast Movement (Fly)", s); var l = this.hashMapFamiliarAbilityRequirements, c = new vV(this); l.put_xwzc9p$("Kinspeech", c); var p = this.hashMapFamiliarAbilityRequirements, h = new SV(this); p.put_xwzc9p$("Lab Assistant", h); var d = this.hashMapFamiliarAbilityRequirements, u = new CV(this); d.put_xwzc9p$("Cantrip Connection", u); var _ = this.hashMapFamiliarAbilityRequirements, f = new EV(this); _.put_xwzc9p$("Extra Reagents", f); var y = this.hashMapFamiliarAbilityRequirements, m = new AV(this); y.put_xwzc9p$("Familiar Focus", m); var $ = this.hashMapFamiliarAbilityRequirements, g = new bV(this); $.put_xwzc9p$("Spell Battery", g); var v = this.hashMapFamiliarAbilityRequirements, S = new IV(this); v.put_xwzc9p$("Master's Form", S); var C = this.hashMapFamiliarAbilityRequirements, E = new wV(this); C.put_xwzc9p$("Toolbearer", E); var A = this.hashMapFamiliarAbilityRequirements, b = new LV(this); A.put_xwzc9p$("Shadow Step", b); var I = this.hashMapFamiliarAbilityRequirements, w = new TV(this); I.put_xwzc9p$("Greater Resistance", w); var L = this.hashMapFamiliarAbilityRequirements, T = new kV(this); L.put_xwzc9p$("Major Resistance", T); var k = this.hashMapFamiliarAbilityRequirements, R = new RV(this); k.put_xwzc9p$("Second Opinion", R) }, PV.$metadata$ = { kind: p, simpleName: "FamiliarAbilityEffect", interfaces: [] }, MV.$metadata$ = { kind: p, simpleName: "FamiliarAbilityRequirement", interfaces: [] }, NV.prototype.hasSelectedFamiliarAbility_jmcvbn$ = function (t, e, i) { var a; for (a = o(t.getPetData().getHashMapSelectedFamiliarAbilities()).keys.iterator(); a.hasNext();) { var r = a.next(); if (!m(r, i) && m(e, o(t.getPetData().getHashMapSelectedFamiliarAbilities()).get_11rb$(r))) return !0 } return !1 }, NV.prototype.addBaseSpeed_0 = function (t, e, i, a) { t ? e.hashMapBaseSpeeds.put_xwzc9p$(i, a) : e.hashMapBaseSpeeds.remove_11rb$(i) }, NV.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var DV = null; function xV() { return null === DV && new NV, DV } function zV() { FV = this } function OV(t, e, i) { this.total = t, this.totalBuff = e, this.trainingLevel = i } QY.$metadata$ = { kind: p, simpleName: "FamiliarAbilityEffects", interfaces: [] }, zV.prototype.getLevelPlusSpellCastingMod_rwoxnj$ = function (t, e, i, a, r, n, o) { var s = rK(t, e, a), l = s.getTypedBuff_za3lpa$(0); return o && (l = l + s.totalBuffExcludingItem | 0), this.shouldApplySpellCastingBonus_e0dl4x$(i, r) && (l = l + n | 0), e.getCharacterData().isAddLevelToProficiency() && (l = l + e.getCharacterData().getCharacterLevel() | 0), l }, zV.prototype.shouldApplySpellCastingBonus_e0dl4x$ = function (t, e) { return !(!t.getPetData().getHashMapSelectedFamiliarSkilled().containsValue_11rc$(e) && !t.hashMapOverrideSelections.containsValue_11rc$(e)) || m(e, pK().ACROBATICS) || m(e, pK().STEALTH) || m(e, pK().PROFICIENCY_PERCEPTION) }, zV.prototype.getProficiencyTotalBasedOnMaster_cub8r7$ = function (t, e, i, a, r) { var n = e.getPlayReportAbilityScores_sfkw43$(t), s = i.getCharacterData().getCharacterLevel(), l = e.getProficiency_61zpoe$(a), c = o(l).getProficiencyAtLevel_za3lpa$(s), p = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), c, s), h = pe().getAbilityMod_za3lpa$(n.abilityScoresBuffed[r]), d = i.getProficiency_61zpoe$(a), u = rK(t, i, o(d)).totalBuffExcludingItem; return new OV(p + h + rK(t, e, l).getTypedBuff_za3lpa$(0) + u | 0, u, c) }, OV.$metadata$ = { kind: p, simpleName: "FamiliarMasterBasedProf", interfaces: [] }, zV.$metadata$ = { kind: f, simpleName: "FamiliarMiscMethods", interfaces: [] }; var FV = null; function BV() { return null === FV && new zV, FV } function jV() { this.name = null, this.traits = null, this.req = 0, this.listGranted = u(), this.listSpecial = u(), this.source = "APG", this.url = "https://2e.aonprd.com/Familiars.aspx?Specific=true" } function HV(t, e, i) { this.$outer = t, this.grantedAbility = e, this.grantedAbilityDetail = i } function qV() { WV(), Na.call(this), this.baseAbilityBonuses_0 = new Int32Array(6), this.hashMapAbilityBonusAdjustments_0 = e.newArray(6, null), this.hashMapBaseSpeeds = c(), this.hashMapAdditionalSenses = c(), this.hashMapDamageDiceIncrease = c(), this.listSkilledChoices = u(), this.listResistanceChoices = u(), this.open = !0, this.hashMapOverrideSelections = c(), this.listOverrideFamiliarAbilities = u(), this.spawnedbyAnimalTrainer = !1; for (var t = 0; t <= 5; t++)this.hashMapAbilityBonusAdjustments_0[t] = c(); for (var i = 0; i <= 19; i++)this.hashMapFeatChoices[i] = c(), this.hashMapSpecialInformation[i] = c() } function UV() { GV = this, this.FAMILIAR_SPECIFIC_GRANTED_ABILITY_0 = "Familiar Specific Granted Ability " } jV.prototype.addGrantedAbility_jyasbz$ = function (t, e) { this.listGranted.add_11rb$(new HV(this, t, e)) }, HV.$metadata$ = { kind: p, simpleName: "GrantedAbility", interfaces: [] }, jV.$metadata$ = { kind: p, simpleName: "FamiliarSpecific", interfaces: [] }, qV.prototype.setBaseAbilityBonuses_q5rwfd$ = function (t) { this.baseAbilityBonuses_0 = t }, qV.prototype.getPetData = function () { var t; return e.isType(t = this.getCharacterData(), YV) ? t : d() }, Object.defineProperty(qV.prototype, "abilityBonuses", { configurable: !0, get: function () { e.isType(this.getCharacterData(), YV) || d(); for (var t, i, a = new Int32Array(6), r = 0; r <= 5; r++)for (a[r] = a[r] + this.baseAbilityBonuses_0[r] | 0, i = o(null != (t = this.hashMapAbilityBonusAdjustments_0[r]) ? t.values : null).iterator(); i.hasNext();) { var n = i.next(); a[r] = a[r] + n | 0 } return a } }), qV.prototype.getMaxHP_fhac18$ = function (t, i) { var a, r = this.getPetData(), n = 0, s = r.getCharacterLevel(); if (0 === r.getPetType()) { var l, c = o(t.managerPets.hashMapAnimalCompanions), p = r.getPetName(), h = (e.isType(l = c, y) ? l : d()).get_11rb$(p), u = 6 + this.abilityBonuses[2] | 0; n = (n = o(h).ancestryHP) + e.imul(s, u) | 0, 20 === i.getCharacterData().getCharacterLevel() && (Lq().hasFeatByLevel_w0akbr$(i, "no feat ref", i.getCharacterData().getCharacterLevel(), "CHAMPION_Celestial Mount") && (n = n + 40 | 0), Lq().hasFeatByLevel_w0akbr$(i, "no feat ref", i.getCharacterData().getCharacterLevel(), "CHAMPION_Fiendish Mount") && (n = n + 40 | 0)) } else if (1 === r.getPetType()) n = 5 * r.getCharacterLevel() | 0, xV().hasSelectedFamiliarAbility_jmcvbn$(this, "Tough", "no reference") && (n = n + (2 * i.getCharacterData().getCharacterLevel() | 0) | 0); else if (3 === r.getPetType()) { var _ = 6 + this.abilityBonuses[2] | 0; zY().hasSelectedModification_q8fthw$(i, this, "Durable Construction", "No mod ref") && (_ = _ + 1 | 0), n = 10 + e.imul(s, _) | 0 } for (a = this.hashMapHitPointIncreaseItems.values.iterator(); a.hasNext();) { var f = a.next(); this.getCharacterData().getCharacterLevel() >= f.level && (n = n + f.increase | 0) } var m = 0; if (r.hashMapActiveConditions.containsKey_11rb$("Drained") && !r.listCurrentlyInactiveBuffs.contains_11rb$("Drained")) { var $ = o(r.hashMapActiveConditions.get_11rb$("Drained")); m = m - e.imul($, i.getCharacterData().getCharacterLevel()) | 0 } return n + m | 0 }, Object.defineProperty(qV.prototype, "familiarSenses", { configurable: !0, get: function () { var t, e = se().UNIVERSAL_LOW_LIGHT_VISION; for (t = this.hashMapAdditionalSenses.values.iterator(); t.hasNext();) { var i = t.next(); _(e, o(i)) || (e += ", " + j(i)) } return e += ";" } }), qV.prototype.getPlayReportAbilityScores_sfkw43$ = function (t) { return new W1(t, this, this.getCharacterData().getCharacterLevel()) }, qV.prototype.addToAbilityBonusAdjustment_f9128j$ = function (t, e, i, a) { var r, n; t ? null != (r = this.hashMapAbilityBonusAdjustments_0[i]) && r.put_xwzc9p$(e, a) : null != (n = this.hashMapAbilityBonusAdjustments_0[i]) && n.remove_11rb$(e) }, UV.prototype.getListFamiliarAbilityReferences_38cnzz$ = function (t, e, i) { var a, r, n, s = u(); for (a = e.hashMapFamiliarAbilities.keys.iterator(); a.hasNext();) { var l = a.next(), c = e.hashMapFamiliarAbilities.get_11rb$(l); e.getCharacterData().getCharacterLevel() >= o(c).level && s.add_11rb$(l) } if (null != i) { var p = t.managerPets.hashMapSpecificFamiliars.get_11rb$(i); if (null != p && s.size < p.listGranted.size) { r = s.size, n = p.listGranted.size; for (var h = r; h < n; h++)s.add_11rb$(this.FAMILIAR_SPECIFIC_GRANTED_ABILITY_0 + j(h)) } } return s }, UV.prototype.isMature_5btbp7$ = function (t) { var e; for (e = t.hashMapMatureAnimalCompanion.values.iterator(); e.hasNext();) { var i = e.next(); if (t.getCharacterData().getCharacterLevel() >= i.level && 0 === i.increase) return !0 } return !1 }, UV.prototype.isIncredible_5btbp7$ = function (t) { var e; for (e = t.hashMapIncredibleAnimalCompanion.values.iterator(); e.hasNext();) { var i = e.next(); if (t.getCharacterData().getCharacterLevel() >= i.level && 0 === i.increase) return !0 } return !1 }, UV.prototype.getListSpecializationReference_5btbp7$ = function (t) { var e, i = u(); for (e = t.hashMapSpecializedAnimalCompanion.keys.iterator(); e.hasNext();) { var a = e.next(), r = t.hashMapSpecializedAnimalCompanion.get_11rb$(a); t.getCharacterData().getCharacterLevel() >= o(r).level && 0 === r.increase && i.add_11rb$(a) } return i }, UV.prototype.isAdvancedConstruct_5btbp7$ = function (t) { var e; for (e = t.hashMapMatureAnimalCompanion.values.iterator(); e.hasNext();) { var i = e.next(); if (t.getCharacterData().getCharacterLevel() >= i.level && 3 === i.increase) return !0 } return !1 }, UV.prototype.isIncredibleConstruct_5btbp7$ = function (t) { var e; for (e = t.hashMapIncredibleAnimalCompanion.values.iterator(); e.hasNext();) { var i = e.next(); if (t.getCharacterData().getCharacterLevel() >= i.level && 3 === i.increase) return !0 } return !1 }, UV.prototype.isParagonConstruct_5btbp7$ = function (t) { var e; for (e = t.hashMapSpecializedAnimalCompanion.keys.iterator(); e.hasNext();) { var i = e.next(), a = t.hashMapSpecializedAnimalCompanion.get_11rb$(i); if (t.getCharacterData().getCharacterLevel() >= o(a).level && 3 === a.increase) return !0 } return !1 }, UV.prototype.getAnimalTrainerEncounterAction = function () { return cc("Mesmerizing Performance", 1, "Uncommon, Concentrate, Emotion", pt("\n     <b>Requirements</b> The companion's last action was a successful Performance check to Perform.\n     <br>The companion maintains its performance to captivate a single target within 30 feet that witnessed its successful performance. The target must attempt a Will save.\n     <br><br><b>Success</b> The target is unaffected and temporarily immune for 1 hour<br><b>Failure</b> The target is fascinated by the companion for its next action and then is temporarily immune for 1 hour.\n     "), 4) }, UV.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var GV = null; function WV() { return null === GV && new UV, GV } function YV() { XV(), Da.call(this), this.petType_0 = 0, this.incredibleType_0 = 0, this.petName_0 = "", this.switchA_0 = !1, this.switchB_0 = !1, this.hashMapAnimalSpecializations_0 = c(), this.nickname_0 = "", this.hashMapSelectedFamiliarAbilities_0 = c(), this.hashMapSelectedFamiliarSkilled_0 = c(), this.hashMapSelectedFamiliarResistances_0 = c(), this.familiarSpecific_0 = null, this.specificGainedLevel_0 = 1, this.hashMapEidolonAttacks_0 = c() } function VV() { KV = this, this.PET_TYPE_ANIMAL_COMPANION = 0, this.PET_TYPE_FAMILIAR = 1, this.PET_TYPE_EIDOLON = 2, this.PET_TYPE_CONSTRUCT = 3, this.ARRAY_PET_TYPES_0 = ["Animal Companion", "Familiar", "Eidolon", "Construct"], this.GENIE_DJINNI = "Genie-Touched (Djinni)", this.GENIE_EFREETI = "Genie-Touched (Efreeti)", this.GENIE_MARID = "Genie-Touched (Marid)", this.GENIE_SHAITAN = "Genie-Touched (Shaitan)", this.ANIMAL_INCREDIBLE_NIMBLE = 0, this.ANIMAL_INCREDIBLE_SAVAGE = 1, this.ANIMAL_INCREDIBLE_INDOMITABLE = 2, this.ANIMAL_INCREDIBLE_GENIE_TOUCHED_DJINNI = 3, this.ANIMAL_INCREDIBLE_GENIE_TOUCHED_EFREETI = 4, this.ANIMAL_INCREDIBLE_GENIE_TOUCHED_MARID = 5, this.ANIMAL_INCREDIBLE_GENIE_TOUCHED_SHAITAN = 6, this.ARRAY_INCREDIBLE_TYPES = ["Nimble", "Savage", "Indomitable", this.GENIE_DJINNI, this.GENIE_EFREETI, this.GENIE_MARID, this.GENIE_SHAITAN], this.PET_REFERENCE_EIDOLON = "petEidolon", this.PET_REFERENCE_CONSTRUCT = "petConstruct", this.EIDOLON_ATTACK_PRIMARY = 0, this.EIDOLON_ATTACK_SECONDARY = 1, this.EIDOLON_ATTACK_RANGED = 2, this.CONSTRUCT_SOURCE_INNOVATION = "Innovation", this.CONSTRUCT_SOURCE_FEAT = "Inventor Feat" } qV.$metadata$ = { kind: p, simpleName: "PetCharacterBuild", interfaces: [Na] }, YV.prototype.getDisplayName_5btbp7$ = function (t) { if (0 === this.petType_0) { var e = "Young " + this.petName_0; return WV().isIncredible_5btbp7$(t) ? e = 0 === this.incredibleType_0 ? "Nimble " + this.petName_0 : 1 === this.incredibleType_0 ? "Savage " + this.petName_0 : 2 === this.incredibleType_0 ? "Indomitable " + this.petName_0 : "Genie-Touched " + this.petName_0 : WV().isMature_5btbp7$(t) && (e = "Mature " + this.petName_0), this.nickname_0.length > 0 && (e = this.nickname_0 + " - " + e), e } if (1 === this.petType_0) { var i = ""; return this.nickname_0.length > 0 && (i = " (" + this.nickname_0 + ")"), null != this.familiarSpecific_0 ? this.familiarSpecific_0 + i : "Familiar" + i } if (3 === this.petType_0) { var a = "Prototype Construct"; return WV().isParagonConstruct_5btbp7$(t) ? a = "Paragon Construct" : WV().isIncredibleConstruct_5btbp7$(t) ? a = "Incredible Construct" : WV().isAdvancedConstruct_5btbp7$(t) && (a = "Advanced Construct"), this.nickname_0.length > 0 && (a = this.nickname_0 + " - " + a), a } if (2 === this.petType_0) { var r = "Eidolon "; return this.nickname_0.length > 0 && (r += " (" + this.nickname_0 + ")"), r } return this.nickname_0 }, YV.prototype.getHashMapEidolonAttacks = function () { return this.hashMapEidolonAttacks_0 }, YV.prototype.getPetType = function () { return this.petType_0 }, YV.prototype.setPetType_za3lpa$ = function (t) { this.petType_0 = t }, YV.prototype.getPetName = function () { return this.petName_0 }, YV.prototype.setPetName_pdl1vj$ = function (t) { this.petName_0 = o(t) }, YV.prototype.isSwitchA = function () { return this.switchA_0 }, YV.prototype.setSwitchA_6taknv$ = function (t) { this.switchA_0 = t }, YV.prototype.getHashMapSelectedFamiliarAbilities = function () { return this.hashMapSelectedFamiliarAbilities_0 }, YV.prototype.getNickname = function () { return this.nickname_0 }, YV.prototype.setNickname_pdl1vj$ = function (t) { this.nickname_0 = o(t) }, YV.prototype.getHashMapAnimalSpecializations = function () { return this.hashMapAnimalSpecializations_0 }, YV.prototype.getIncredibleType = function () { return this.incredibleType_0 }, YV.prototype.setIncredibleType_za3lpa$ = function (t) { this.incredibleType_0 = t }, YV.prototype.getHashMapSelectedFamiliarSkilled = function () { return this.hashMapSelectedFamiliarSkilled_0 }, YV.prototype.getFamiliarSpecific = function () { return this.familiarSpecific_0 }, YV.prototype.setFamiliarSpecific_pdl1vj$ = function (t) { this.familiarSpecific_0 = t }, YV.prototype.isSwitchB = function () { return this.switchB_0 }, YV.prototype.setSwitchB_6taknv$ = function (t) { this.switchB_0 = t }, YV.prototype.getHashMapSelectedFamiliarResistances = function () { return this.hashMapSelectedFamiliarResistances_0 }, Object.defineProperty(YV.prototype, "petTypeString", { configurable: !0, get: function () { try { return XV().ARRAY_PET_TYPES_0[this.petType_0] } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return XV().ARRAY_PET_TYPES_0[0] } }), Object.defineProperty(YV.prototype, "incredibleTypeString", { configurable: !0, get: function () { try { return XV().ARRAY_INCREDIBLE_TYPES[this.incredibleType_0] } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return XV().ARRAY_INCREDIBLE_TYPES[0] } }), YV.prototype.getSpecificGainedLevel = function () { return this.specificGainedLevel_0 }, YV.prototype.setSpecificGainedLevel_za3lpa$ = function (t) { this.specificGainedLevel_0 = t }, VV.prototype.serializer = function () { return QV() }, VV.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var KV = null; function XV() { return null === KV && new VV, KV } function JV() { this.descriptor_o24ms9$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerpets.PetData", this, 120), this.descriptor.addElement_ivxn3r$("usedInfusedReagents", !0), this.descriptor.addElement_ivxn3r$("hashMapUsedInfusedReagentsByCaster", !0), this.descriptor.addElement_ivxn3r$("hashMapFormulaBook", !0), this.descriptor.addElement_ivxn3r$("hashMapFormulaBookByCaster", !0), this.descriptor.addElement_ivxn3r$("deprecatedLanguagesSelection", !0), this.descriptor.addElement_ivxn3r$("characterLevel", !0), this.descriptor.addElement_ivxn3r$("autoSave", !0), this.descriptor.addElement_ivxn3r$("showLevelWarnings", !0), this.descriptor.addElement_ivxn3r$("showSpellbookConfirmation", !0), this.descriptor.addElement_ivxn3r$("separateAdventurersKit", !0), this.descriptor.addElement_ivxn3r$("showDedicationFeats", !0), this.descriptor.addElement_ivxn3r$("listKnownSpells", !0), this.descriptor.addElement_ivxn3r$("hashMapKnownSpellsByCaster", !0), this.descriptor.addElement_ivxn3r$("hashMapSpontaneousSpellsCast", !0), this.descriptor.addElement_ivxn3r$("listSpentSpellSlots", !0), this.descriptor.addElement_ivxn3r$("hashMapBonusSpellSlots", !0), this.descriptor.addElement_ivxn3r$("hashMapBonusSpellPerDay", !0), this.descriptor.addElement_ivxn3r$("hashMapBonusSpellPrepared", !0), this.descriptor.addElement_ivxn3r$("hashMapPlayerSpells", !0), this.descriptor.addElement_ivxn3r$("currentHP", !0), this.descriptor.addElement_ivxn3r$("damageTaken", !0), this.descriptor.addElement_ivxn3r$("spentResonance", !0), this.descriptor.addElement_ivxn3r$("spentSpellPoints", !0), this.descriptor.addElement_ivxn3r$("heroPoints", !0), this.descriptor.addElement_ivxn3r$("characterRef", !0), this.descriptor.addElement_ivxn3r$("webID", !0), this.descriptor.addElement_ivxn3r$("folderID", !0), this.descriptor.addElement_ivxn3r$("characterName", !0), this.descriptor.addElement_ivxn3r$("age", !0), this.descriptor.addElement_ivxn3r$("deity", !0), this.descriptor.addElement_ivxn3r$("alignment", !0), this.descriptor.addElement_ivxn3r$("gender", !0), this.descriptor.addElement_ivxn3r$("experiencePoints", !0), this.descriptor.addElement_ivxn3r$("ancestry", !0), this.descriptor.addElement_ivxn3r$("className", !0), this.descriptor.addElement_ivxn3r$("background", !0), this.descriptor.addElement_ivxn3r$("portraitFilename", !0), this.descriptor.addElement_ivxn3r$("classOptionalTrainedSkill", !0), this.descriptor.addElement_ivxn3r$("classDualOptionalTrainedSkill", !0), this.descriptor.addElement_ivxn3r$("abilityScoreOverrides", !0), this.descriptor.addElement_ivxn3r$("gold", !0), this.descriptor.addElement_ivxn3r$("platinum", !0), this.descriptor.addElement_ivxn3r$("silver", !0), this.descriptor.addElement_ivxn3r$("copper", !0), this.descriptor.addElement_ivxn3r$("hashMapAncestryFreeBoostSelections", !0), this.descriptor.addElement_ivxn3r$("backgroundBoostLimitedSelection", !0), this.descriptor.addElement_ivxn3r$("getBackgroundBoostFreeSelection", !0), this.descriptor.addElement_ivxn3r$("backgroundBoostThirdSelection", !0), this.descriptor.addElement_ivxn3r$("classKeyAbility", !0), this.descriptor.addElement_ivxn3r$("dualClassKeyAbility", !0), this.descriptor.addElement_ivxn3r$("hashMapFeatSelections", !0), this.descriptor.addElement_ivxn3r$("hashMapFeatExtraSelections", !0), this.descriptor.addElement_ivxn3r$("hashMapSpecialSelections", !0), this.descriptor.addElement_ivxn3r$("hashMapAbilityBoosts", !0), this.descriptor.addElement_ivxn3r$("hashMapSkillIncreases", !0), this.descriptor.addElement_ivxn3r$("hashMapAdditionalLores", !0), this.descriptor.addElement_ivxn3r$("hashMapTrainedOnlySkillChoices", !0), this.descriptor.addElement_ivxn3r$("listPlayerWeapons", !0), this.descriptor.addElement_ivxn3r$("playerArmor", !0), this.descriptor.addElement_ivxn3r$("listStowedPlayerArmor", !0), this.descriptor.addElement_ivxn3r$("playerShield", !0), this.descriptor.addElement_ivxn3r$("playerShieldNew", !0), this.descriptor.addElement_ivxn3r$("listStowedPlayerShields", !0), this.descriptor.addElement_ivxn3r$("listPlayerEquipment", !0), this.descriptor.addElement_ivxn3r$("listPlayerFormula", !0), this.descriptor.addElement_ivxn3r$("notes", !0), this.descriptor.addElement_ivxn3r$("hashMapActiveConditions", !0), this.descriptor.addElement_ivxn3r$("hashMapActiveCustomBuffs", !0), this.descriptor.addElement_ivxn3r$("listCurrentlyInactiveBuffs", !0), this.descriptor.addElement_ivxn3r$("listCustomLores", !0), this.descriptor.addElement_ivxn3r$("cloudStorage", !0), this.descriptor.addElement_ivxn3r$("googleFileID", !0), this.descriptor.addElement_ivxn3r$("emailedBuildID", !0), this.descriptor.addElement_ivxn3r$("listDisabledRulebooks", !0), this.descriptor.addElement_ivxn3r$("shieldDamage", !0), this.descriptor.addElement_ivxn3r$("allowHalfHeritages", !0), this.descriptor.addElement_ivxn3r$("allowMultiplePurchase", !0), this.descriptor.addElement_ivxn3r$("useStamina", !0), this.descriptor.addElement_ivxn3r$("spentResolve", !0), this.descriptor.addElement_ivxn3r$("hashMapCustomAbilityIncreases", !0), this.descriptor.addElement_ivxn3r$("hashMapEquipmentContainers", !0), this.descriptor.addElement_ivxn3r$("optionalFlaw", !0), this.descriptor.addElement_ivxn3r$("hashMapCustomFeatChoices", !0), this.descriptor.addElement_ivxn3r$("hashMapCustomSkillIncreases", !0), this.descriptor.addElement_ivxn3r$("hashMapSignatureSpells", !0), this.descriptor.addElement_ivxn3r$("hashMapSignatureSpellsMultiple", !0), this.descriptor.addElement_ivxn3r$("hashMapSignatureFormula", !0), this.descriptor.addElement_ivxn3r$("hashMapPetData", !0), this.descriptor.addElement_ivxn3r$("listLanguages", !0), this.descriptor.addElement_ivxn3r$("dialects", !0), this.descriptor.addElement_ivxn3r$("temporaryHPSource", !0), this.descriptor.addElement_ivxn3r$("temporaryHP", !0), this.descriptor.addElement_ivxn3r$("staminaDamage", !0), this.descriptor.addElement_ivxn3r$("dualClass", !0), this.descriptor.addElement_ivxn3r$("addLevelToProficiency", !0), this.descriptor.addElement_ivxn3r$("freeArchetype", !0), this.descriptor.addElement_ivxn3r$("ignoreFreeArcheRest", !0), this.descriptor.addElement_ivxn3r$("ignoreFreeArcheAbilityReq", !0), this.descriptor.addElement_ivxn3r$("classArchetype", !0), this.descriptor.addElement_ivxn3r$("hashMapRepertoireOverride", !0), this.descriptor.addElement_ivxn3r$("abp", !0), this.descriptor.addElement_ivxn3r$("otherCaster", !0), this.descriptor.addElement_ivxn3r$("listUserBonusFeats", !0), this.descriptor.addElement_ivxn3r$("peerID", !0), this.descriptor.addElement_ivxn3r$("ancestryParagon", !0), this.descriptor.addElement_ivxn3r$("gradualAbilityBoost", !0), this.descriptor.addElement_ivxn3r$("hashMapSpellBlending", !0), this.descriptor.addElement_ivxn3r$("petType", !0), this.descriptor.addElement_ivxn3r$("incredibleType", !0), this.descriptor.addElement_ivxn3r$("petName", !0), this.descriptor.addElement_ivxn3r$("switchA", !0), this.descriptor.addElement_ivxn3r$("switchB", !0), this.descriptor.addElement_ivxn3r$("hashMapAnimalSpecializations", !0), this.descriptor.addElement_ivxn3r$("nickname", !0), this.descriptor.addElement_ivxn3r$("hashMapSelectedFamiliarAbilities", !0), this.descriptor.addElement_ivxn3r$("hashMapSelectedFamiliarSkilled", !0), this.descriptor.addElement_ivxn3r$("hashMapSelectedFamiliarResistances", !0), this.descriptor.addElement_ivxn3r$("familiarSpecific", !0), this.descriptor.addElement_ivxn3r$("specificGainedLevel", !0), this.descriptor.addElement_ivxn3r$("hashMapEidolonAttacks", !0), ZV = this } Object.defineProperty(JV.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_o24ms9$_0 } }), JV.prototype.serialize_55azsf$ = function (t, i) { var a = t.beginStructure_24f42q$(this.descriptor); m(i.usedInfusedReagents_l7b1g3$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || a.encodeIntElement_ptg7oe$(this.descriptor, 0, i.usedInfusedReagents_l7b1g3$_0), m(i.hashMapUsedInfusedReagentsByCaster_wub7fs$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 1, new N(M.StringSerializer, M.IntSerializer), i.hashMapUsedInfusedReagentsByCaster_wub7fs$_0), m(i.hashMapFormulaBook_doz1by$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 2, new N(M.StringSerializer, M.IntSerializer), i.hashMapFormulaBook_doz1by$_0), m(i.hashMapFormulaBookByCaster_lfmr8b$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 3, new N(M.StringSerializer, new N(M.StringSerializer, M.IntSerializer)), i.hashMapFormulaBookByCaster_lfmr8b$_0), m(i.deprecatedLanguagesSelection_7wcmbp$_0, "Not set") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 4, M.StringSerializer, i.deprecatedLanguagesSelection_7wcmbp$_0), m(i.characterLevel_bfxlz8$_0, 1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 5) || a.encodeIntElement_ptg7oe$(this.descriptor, 5, i.characterLevel_bfxlz8$_0), m(i.autoSave_vmqs99$_0, !0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 6) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 6, i.autoSave_vmqs99$_0), m(i.showLevelWarnings_b4y0if$_0, !0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 7, i.showLevelWarnings_b4y0if$_0), m(i.showSpellbookConfirmation_r2gpzg$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 8) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 8, i.showSpellbookConfirmation_r2gpzg$_0), m(i.separateAdventurersKit_oafd8p$_0, !0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 9) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 9, i.separateAdventurersKit_oafd8p$_0), m(i.showDedicationFeats_80tdt5$_0, !0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 10) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 10, i.showDedicationFeats_80tdt5$_0), m(i.listKnownSpells_lj53xh$_0, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 11) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 11, new D(M.StringSerializer), i.listKnownSpells_lj53xh$_0), m(i.hashMapKnownSpellsByCaster_ulry6c$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 12) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 12, new N(M.StringSerializer, new D(M.StringSerializer)), i.hashMapKnownSpellsByCaster_ulry6c$_0), m(i.hashMapSpontaneousSpellsCast_kmso1i$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 13) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 13, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), i.hashMapSpontaneousSpellsCast_kmso1i$_0), m(i.listSpentSpellSlots_1eo8fs$_0, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 14) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 14, new D(M.StringSerializer), i.listSpentSpellSlots_1eo8fs$_0), m(i.hashMapBonusSpellSlots_zgcgbl$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 15) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 15, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), i.hashMapBonusSpellSlots_zgcgbl$_0), m(i.hashMapBonusSpellPerDay_dpokgx$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 16) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 16, new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), i.hashMapBonusSpellPerDay_dpokgx$_0), m(i.hashMapBonusSpellPrepared_oslxk1$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 17) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 17, new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), i.hashMapBonusSpellPrepared_oslxk1$_0), m(i.hashMapPlayerSpells_okug1n$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 18) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 18, new N(M.StringSerializer, w2()), i.hashMapPlayerSpells_okug1n$_0), m(i.currentHP_2gd2k4$_0, 70) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 19) || a.encodeIntElement_ptg7oe$(this.descriptor, 19, i.currentHP_2gd2k4$_0), m(i.damageTaken_iz2tc3$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 20) || a.encodeIntElement_ptg7oe$(this.descriptor, 20, i.damageTaken_iz2tc3$_0), m(i.spentResonance_996yyp$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 21) || a.encodeIntElement_ptg7oe$(this.descriptor, 21, i.spentResonance_996yyp$_0), m(i.spentSpellPoints_eiy4ce$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 22) || a.encodeIntElement_ptg7oe$(this.descriptor, 22, i.spentSpellPoints_eiy4ce$_0), m(i.heroPoints_bb40pu$_0, 1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 23) || a.encodeIntElement_ptg7oe$(this.descriptor, 23, i.heroPoints_bb40pu$_0), m(i.characterRef_st7lt7$_0, -1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 24) || a.encodeIntElement_ptg7oe$(this.descriptor, 24, i.characterRef_st7lt7$_0), m(i.webID_iuurt2$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 25) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 25, M.StringSerializer, i.webID_iuurt2$_0), m(i.folderID_ku8qfq$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 26) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 26, M.StringSerializer, i.folderID_ku8qfq$_0), m(i.characterName_u6ndhd$_0, "Unknown Adventurer") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 27) || a.encodeStringElement_iij8qq$(this.descriptor, 27, i.characterName_u6ndhd$_0), m(i.age_69uw0a$_0, "Not set") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 28) || a.encodeStringElement_iij8qq$(this.descriptor, 28, i.age_69uw0a$_0), m(i.deity_9v5cdk$_0, "Not set") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 29) || a.encodeStringElement_iij8qq$(this.descriptor, 29, i.deity_9v5cdk$_0), m(i.alignment_3f7ydu$_0, "N") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 30) || a.encodeStringElement_iij8qq$(this.descriptor, 30, i.alignment_3f7ydu$_0), m(i.gender_58bdsy$_0, "Not set") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 31) || a.encodeStringElement_iij8qq$(this.descriptor, 31, i.gender_58bdsy$_0), m(i.experiencePoints_kiyycy$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 32) || a.encodeIntElement_ptg7oe$(this.descriptor, 32, i.experiencePoints_kiyycy$_0), m(i.ancestry_a2epns$_0, pi().ANCESTRY_HUMAN) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 33) || a.encodeStringElement_iij8qq$(this.descriptor, 33, i.ancestry_a2epns$_0), m(i.className_fe7lhu$_0, "Fighter") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 34) || a.encodeStringElement_iij8qq$(this.descriptor, 34, i.className_fe7lhu$_0), m(i.background_mfrl01$_0, "BACKGROUND_Barkeep") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 35) || a.encodeStringElement_iij8qq$(this.descriptor, 35, i.background_mfrl01$_0), m(i.portraitFilename_8j1o3h$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 36) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 36, M.StringSerializer, i.portraitFilename_8j1o3h$_0), m(i.classOptionalTrainedSkill_in4prh$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 37) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 37, M.StringSerializer, i.classOptionalTrainedSkill_in4prh$_0), m(i.classDualOptionalTrainedSkill_kfgzk9$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 38) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 38, M.StringSerializer, i.classDualOptionalTrainedSkill_kfgzk9$_0), m(i.abilityScoreOverrides_uhim6i$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 39) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 39, M.IntArraySerializer, i.abilityScoreOverrides_uhim6i$_0), m(i.gold_ip6ndr$_0, 15) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 40) || a.encodeIntElement_ptg7oe$(this.descriptor, 40, i.gold_ip6ndr$_0), m(i.platinum_l5g4x9$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 41) || a.encodeIntElement_ptg7oe$(this.descriptor, 41, i.platinum_l5g4x9$_0), m(i.silver_upmb2q$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 42) || a.encodeIntElement_ptg7oe$(this.descriptor, 42, i.silver_upmb2q$_0), m(i.copper_buz092$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 43) || a.encodeIntElement_ptg7oe$(this.descriptor, 43, i.copper_buz092$_0), m(i.hashMapAncestryFreeBoostSelections_aoleii$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 44) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 44, new N(M.IntSerializer, M.IntSerializer), i.hashMapAncestryFreeBoostSelections_aoleii$_0), m(i.backgroundBoostLimitedSelection_n855xu$_0, 2) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 45) || a.encodeIntElement_ptg7oe$(this.descriptor, 45, i.backgroundBoostLimitedSelection_n855xu$_0), m(i.getBackgroundBoostFreeSelection_mpzovg$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 46) || a.encodeIntElement_ptg7oe$(this.descriptor, 46, i.getBackgroundBoostFreeSelection_mpzovg$_0), m(i.backgroundBoostThirdSelection_os9ha3$_0, 4) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 47) || a.encodeIntElement_ptg7oe$(this.descriptor, 47, i.backgroundBoostThirdSelection_os9ha3$_0), m(i.classKeyAbility_9b8lpq$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 48) || a.encodeIntElement_ptg7oe$(this.descriptor, 48, i.classKeyAbility_9b8lpq$_0), m(i.dualClassKeyAbility_iar7bm$_0, -1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 49) || a.encodeIntElement_ptg7oe$(this.descriptor, 49, i.dualClassKeyAbility_iar7bm$_0), m(i.hashMapFeatSelections, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 50) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 50, new N(M.StringSerializer, M.StringSerializer), i.hashMapFeatSelections), m(i.hashMapFeatExtraSelections, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 51) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 51, new N(M.StringSerializer, M.StringSerializer), i.hashMapFeatExtraSelections), m(i.hashMapSpecialSelections, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 52) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 52, new N(M.StringSerializer, new N(M.StringSerializer, M.StringSerializer)), i.hashMapSpecialSelections), m(i.hashMapAbilityBoosts, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 53) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 53, new N(M.IntSerializer, new D(M.IntSerializer)), i.hashMapAbilityBoosts), m(i.hashMapSkillIncreases, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 54) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 54, new N(M.IntSerializer, new D(M.StringSerializer)), i.hashMapSkillIncreases), m(i.hashMapAdditionalLores_nayrjr$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 55) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 55, new N(M.IntSerializer, new N(M.StringSerializer, M.StringSerializer)), i.hashMapAdditionalLores_nayrjr$_0), m(i.hashMapTrainedOnlySkillChoices, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 56) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 56, new N(M.StringSerializer, new D(M.StringSerializer)), i.hashMapTrainedOnlySkillChoices), m(i.listPlayerWeapons, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 57) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 57, new D(l1()), i.listPlayerWeapons), m(i.playerArmor_lv6tu1$_0, new cs) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 58) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 58, fs(), i.playerArmor_lv6tu1$_0), m(i.listStowedPlayerArmor, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 59) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 59, new D(fs()), i.listStowedPlayerArmor), m(i.playerShield_7q3vf9$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 60) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 60, M.StringSerializer, i.playerShield_7q3vf9$_0), m(i.playerShieldNew_1me2bj$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 61) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 61, Es(), i.playerShieldNew_1me2bj$_0), m(i.listStowedPlayerShields, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 62) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 62, new D(Es()), i.listStowedPlayerShields), m(i.listPlayerEquipment, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 63) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 63, new D(tu()), i.listPlayerEquipment), m(i.listPlayerFormula, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 64) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 64, new D(tu()), i.listPlayerFormula), m(i.notes_era7uc$_0, "Notes") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 65) || a.encodeStringElement_iij8qq$(this.descriptor, 65, i.notes_era7uc$_0), m(i.hashMapActiveConditions, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 66) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 66, new N(M.StringSerializer, M.IntSerializer), i.hashMapActiveConditions), m(i.hashMapActiveCustomBuffs, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 67) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 67, new N(M.StringSerializer, M.IntSerializer), i.hashMapActiveCustomBuffs), m(i.listCurrentlyInactiveBuffs, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 68) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 68, new D(M.StringSerializer), i.listCurrentlyInactiveBuffs), m(i.listCustomLores, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 69) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 69, new D(M.StringSerializer), i.listCustomLores), m(i.cloudStorage_295k6x$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 70) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 70, i.cloudStorage_295k6x$_0), m(i.googleFileID_8iwfld$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 71) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 71, M.StringSerializer, i.googleFileID_8iwfld$_0), m(i.emailedBuildID_ofv05r$_0, -1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 72) || a.encodeIntElement_ptg7oe$(this.descriptor, 72, i.emailedBuildID_ofv05r$_0), m(i.listDisabledRulebooks, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 73) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 73, new D(M.StringSerializer), i.listDisabledRulebooks), m(i.shieldDamage_tvbu9l$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 74) || a.encodeIntElement_ptg7oe$(this.descriptor, 74, i.shieldDamage_tvbu9l$_0), m(i.allowHalfHeritages_cqchd3$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 75) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 75, i.allowHalfHeritages_cqchd3$_0), m(i.allowMultiplePurchase_ljs9s5$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 76) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 76, i.allowMultiplePurchase_ljs9s5$_0), m(i.useStamina_x0unvt$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 77) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 77, i.useStamina_x0unvt$_0), m(i.spentResolve_owcjtt$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 78) || a.encodeIntElement_ptg7oe$(this.descriptor, 78, i.spentResolve_owcjtt$_0), m(i.hashMapCustomAbilityIncreases, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 79) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 79, new N(M.IntSerializer, M.IntArraySerializer), i.hashMapCustomAbilityIncreases), m(i.hashMapEquipmentContainers_skt9o3$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 80) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 80, new N(M.StringSerializer, jc()), i.hashMapEquipmentContainers_skt9o3$_0), m(i.optionalFlaw_bezx6r$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 81) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 81, Sc(), i.optionalFlaw_bezx6r$_0), m(i.hashMapCustomFeatChoices, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 82) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 82, new N(M.StringSerializer, ju()), i.hashMapCustomFeatChoices), m(i.hashMapCustomSkillIncreases, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 83) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 83, new N(M.IntSerializer, M.IntSerializer), i.hashMapCustomSkillIncreases), m(i.hashMapSignatureSpells_db5vsm$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 84) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 84, new N(M.StringSerializer, new N(M.IntSerializer, M.StringSerializer)), i.hashMapSignatureSpells_db5vsm$_0), m(i.hashMapSignatureSpellsMultiple, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 85) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 85, new N(M.StringSerializer, new N(M.IntSerializer, new D(M.StringSerializer))), i.hashMapSignatureSpellsMultiple), m(i.hashMapSignatureFormula, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 86) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 86, new N(M.StringSerializer, new D(M.StringSerializer)), i.hashMapSignatureFormula), m(i.hashMapPetData, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 87) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 87, new N(M.StringSerializer, QV()), i.hashMapPetData), m(i.listLanguages, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 88) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 88, new D(M.StringSerializer), i.listLanguages), m(i.dialects, e.newArray(6, null)) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 89) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 89, new z(x, new R(M.StringSerializer)), i.dialects), m(i.temporaryHPSource_7g9xdt$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 90) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 90, M.StringSerializer, i.temporaryHPSource_7g9xdt$_0), m(i.temporaryHP_hszsm4$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 91) || a.encodeIntElement_ptg7oe$(this.descriptor, 91, i.temporaryHP_hszsm4$_0), m(i.staminaDamage_d04tef$_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 92) || a.encodeIntElement_ptg7oe$(this.descriptor, 92, i.staminaDamage_d04tef$_0), m(i.dualClass_qqo6fb$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 93) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 93, M.StringSerializer, i.dualClass_qqo6fb$_0), m(i.addLevelToProficiency_d4tise$_0, !0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 94) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 94, i.addLevelToProficiency_d4tise$_0), m(i.freeArchetype_i9bzew$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 95) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 95, i.freeArchetype_i9bzew$_0), m(i.ignoreFreeArcheRest_vrwskw$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 96) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 96, i.ignoreFreeArcheRest_vrwskw$_0), m(i.ignoreFreeArcheAbilityReq_6fr9ps$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 97) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 97, i.ignoreFreeArcheAbilityReq_6fr9ps$_0), m(i.classArchetype_8mcbf6$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 98) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 98, M.StringSerializer, i.classArchetype_8mcbf6$_0), m(i.hashMapRepertoireOverride_8h3xdo$_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 99) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 99, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), i.hashMapRepertoireOverride_8h3xdo$_0), m(i.abp_69uzga$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 100) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 100, i.abp_69uzga$_0), m(i.otherCaster_dcwp89$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 101) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 101, i.otherCaster_dcwp89$_0), m(i.listUserBonusFeats, u()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 102) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 102, new D(kW()), i.listUserBonusFeats), m(i.peerID_fbor4u$_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 103) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 103, M.StringSerializer, i.peerID_fbor4u$_0), m(i.ancestryParagon_jzdxmi$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 104) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 104, i.ancestryParagon_jzdxmi$_0), m(i.gradualAbilityBoost_r2cy5m$_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 105) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 105, i.gradualAbilityBoost_r2cy5m$_0), m(i.hashMapSpellBlending, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 106) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 106, new N(M.StringSerializer, new D(B0())), i.hashMapSpellBlending), m(i.petType_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 107) || a.encodeIntElement_ptg7oe$(this.descriptor, 107, i.petType_0), m(i.incredibleType_0, 0) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 108) || a.encodeIntElement_ptg7oe$(this.descriptor, 108, i.incredibleType_0), m(i.petName_0, "") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 109) || a.encodeStringElement_iij8qq$(this.descriptor, 109, i.petName_0), m(i.switchA_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 110) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 110, i.switchA_0), m(i.switchB_0, !1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 111) || a.encodeBooleanElement_qh7jdn$(this.descriptor, 111, i.switchB_0), m(i.hashMapAnimalSpecializations_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 112) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 112, new N(M.StringSerializer, M.StringSerializer), i.hashMapAnimalSpecializations_0), m(i.nickname_0, "") && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 113) || a.encodeStringElement_iij8qq$(this.descriptor, 113, i.nickname_0), m(i.hashMapSelectedFamiliarAbilities_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 114) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 114, new N(new R(M.StringSerializer), new R(M.StringSerializer)), i.hashMapSelectedFamiliarAbilities_0), m(i.hashMapSelectedFamiliarSkilled_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 115) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 115, new N(M.StringSerializer, M.StringSerializer), i.hashMapSelectedFamiliarSkilled_0), m(i.hashMapSelectedFamiliarResistances_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 116) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 116, new N(M.StringSerializer, M.StringSerializer), i.hashMapSelectedFamiliarResistances_0), m(i.familiarSpecific_0, null) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 117) || a.encodeNullableSerializableElement_qw92s8$(this.descriptor, 117, M.StringSerializer, i.familiarSpecific_0), m(i.specificGainedLevel_0, 1) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 118) || a.encodeIntElement_ptg7oe$(this.descriptor, 118, i.specificGainedLevel_0), m(i.hashMapEidolonAttacks_0, c()) && !a.shouldEncodeElementDefault_szpzho$(this.descriptor, 119) || a.encodeSerializableElement_r4qlx7$(this.descriptor, 119, new N(M.IntSerializer, GY()), i.hashMapEidolonAttacks_0), a.endStructure_24f42q$(this.descriptor) }, JV.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, P, F, B, j, H, q, U, G, W, Y, V, K, X, J, Z, Q, tt, et, it, at, rt, nt, ot, st, lt, ct, pt, ht, dt, ut, _t, ft, yt, mt, $t, gt, vt, St, Ct, Et, At, bt, It, wt, Lt, Tt, kt, Rt, Pt, Mt, Nt, Dt, xt, zt, Ot, Ft, Bt, jt, Ht, qt, Ut, Gt, Wt, Yt, Vt, Kt, Xt, Jt, Zt, Qt, te, ee, ie, ae, re, ne, oe, se, le, ce, pe, he, de, ue, _e, fe, ye, me, $e, ge, ve, Se = 0, Ce = 0, Ee = 0, Ae = 0, be = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = be.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = be.decodeIntElement_szpzho$(this.descriptor, 0), Se |= 1; break; case 1: a = be.decodeSerializableElement_12e8id$(this.descriptor, 1, new N(M.StringSerializer, M.IntSerializer), a), Se |= 2; break; case 2: r = be.decodeSerializableElement_12e8id$(this.descriptor, 2, new N(M.StringSerializer, M.IntSerializer), r), Se |= 4; break; case 3: n = be.decodeSerializableElement_12e8id$(this.descriptor, 3, new N(M.StringSerializer, new N(M.StringSerializer, M.IntSerializer)), n), Se |= 8; break; case 4: o = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 4, M.StringSerializer, o), Se |= 16; break; case 5: s = be.decodeIntElement_szpzho$(this.descriptor, 5), Se |= 32; break; case 6: l = be.decodeBooleanElement_szpzho$(this.descriptor, 6), Se |= 64; break; case 7: c = be.decodeBooleanElement_szpzho$(this.descriptor, 7), Se |= 128; break; case 8: p = be.decodeBooleanElement_szpzho$(this.descriptor, 8), Se |= 256; break; case 9: h = be.decodeBooleanElement_szpzho$(this.descriptor, 9), Se |= 512; break; case 10: d = be.decodeBooleanElement_szpzho$(this.descriptor, 10), Se |= 1024; break; case 11: u = be.decodeSerializableElement_12e8id$(this.descriptor, 11, new D(M.StringSerializer), u), Se |= 2048; break; case 12: _ = be.decodeSerializableElement_12e8id$(this.descriptor, 12, new N(M.StringSerializer, new D(M.StringSerializer)), _), Se |= 4096; break; case 13: f = be.decodeSerializableElement_12e8id$(this.descriptor, 13, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), f), Se |= 8192; break; case 14: y = be.decodeSerializableElement_12e8id$(this.descriptor, 14, new D(M.StringSerializer), y), Se |= 16384; break; case 15: m = be.decodeSerializableElement_12e8id$(this.descriptor, 15, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), m), Se |= 32768; break; case 16: $ = be.decodeSerializableElement_12e8id$(this.descriptor, 16, new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), $), Se |= 65536; break; case 17: g = be.decodeSerializableElement_12e8id$(this.descriptor, 17, new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), g), Se |= 131072; break; case 18: v = be.decodeSerializableElement_12e8id$(this.descriptor, 18, new N(M.StringSerializer, w2()), v), Se |= 262144; break; case 19: S = be.decodeIntElement_szpzho$(this.descriptor, 19), Se |= 524288; break; case 20: C = be.decodeIntElement_szpzho$(this.descriptor, 20), Se |= 1048576; break; case 21: E = be.decodeIntElement_szpzho$(this.descriptor, 21), Se |= 2097152; break; case 22: A = be.decodeIntElement_szpzho$(this.descriptor, 22), Se |= 4194304; break; case 23: b = be.decodeIntElement_szpzho$(this.descriptor, 23), Se |= 8388608; break; case 24: I = be.decodeIntElement_szpzho$(this.descriptor, 24), Se |= 16777216; break; case 25: w = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 25, M.StringSerializer, w), Se |= 33554432; break; case 26: L = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 26, M.StringSerializer, L), Se |= 67108864; break; case 27: T = be.decodeStringElement_szpzho$(this.descriptor, 27), Se |= 134217728; break; case 28: k = be.decodeStringElement_szpzho$(this.descriptor, 28), Se |= 268435456; break; case 29: P = be.decodeStringElement_szpzho$(this.descriptor, 29), Se |= 536870912; break; case 30: F = be.decodeStringElement_szpzho$(this.descriptor, 30), Se |= 1073741824; break; case 31: B = be.decodeStringElement_szpzho$(this.descriptor, 31), Se |= -2147483648; break; case 32: j = be.decodeIntElement_szpzho$(this.descriptor, 32), Ce |= 1; break; case 33: H = be.decodeStringElement_szpzho$(this.descriptor, 33), Ce |= 2; break; case 34: q = be.decodeStringElement_szpzho$(this.descriptor, 34), Ce |= 4; break; case 35: U = be.decodeStringElement_szpzho$(this.descriptor, 35), Ce |= 8; break; case 36: G = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 36, M.StringSerializer, G), Ce |= 16; break; case 37: W = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 37, M.StringSerializer, W), Ce |= 32; break; case 38: Y = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 38, M.StringSerializer, Y), Ce |= 64; break; case 39: V = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 39, M.IntArraySerializer, V), Ce |= 128; break; case 40: K = be.decodeIntElement_szpzho$(this.descriptor, 40), Ce |= 256; break; case 41: X = be.decodeIntElement_szpzho$(this.descriptor, 41), Ce |= 512; break; case 42: J = be.decodeIntElement_szpzho$(this.descriptor, 42), Ce |= 1024; break; case 43: Z = be.decodeIntElement_szpzho$(this.descriptor, 43), Ce |= 2048; break; case 44: Q = be.decodeSerializableElement_12e8id$(this.descriptor, 44, new N(M.IntSerializer, M.IntSerializer), Q), Ce |= 4096; break; case 45: tt = be.decodeIntElement_szpzho$(this.descriptor, 45), Ce |= 8192; break; case 46: et = be.decodeIntElement_szpzho$(this.descriptor, 46), Ce |= 16384; break; case 47: it = be.decodeIntElement_szpzho$(this.descriptor, 47), Ce |= 32768; break; case 48: at = be.decodeIntElement_szpzho$(this.descriptor, 48), Ce |= 65536; break; case 49: rt = be.decodeIntElement_szpzho$(this.descriptor, 49), Ce |= 131072; break; case 50: nt = be.decodeSerializableElement_12e8id$(this.descriptor, 50, new N(M.StringSerializer, M.StringSerializer), nt), Ce |= 262144; break; case 51: ot = be.decodeSerializableElement_12e8id$(this.descriptor, 51, new N(M.StringSerializer, M.StringSerializer), ot), Ce |= 524288; break; case 52: st = be.decodeSerializableElement_12e8id$(this.descriptor, 52, new N(M.StringSerializer, new N(M.StringSerializer, M.StringSerializer)), st), Ce |= 1048576; break; case 53: lt = be.decodeSerializableElement_12e8id$(this.descriptor, 53, new N(M.IntSerializer, new D(M.IntSerializer)), lt), Ce |= 2097152; break; case 54: ct = be.decodeSerializableElement_12e8id$(this.descriptor, 54, new N(M.IntSerializer, new D(M.StringSerializer)), ct), Ce |= 4194304; break; case 55: pt = be.decodeSerializableElement_12e8id$(this.descriptor, 55, new N(M.IntSerializer, new N(M.StringSerializer, M.StringSerializer)), pt), Ce |= 8388608; break; case 56: ht = be.decodeSerializableElement_12e8id$(this.descriptor, 56, new N(M.StringSerializer, new D(M.StringSerializer)), ht), Ce |= 16777216; break; case 57: dt = be.decodeSerializableElement_12e8id$(this.descriptor, 57, new D(l1()), dt), Ce |= 33554432; break; case 58: ut = be.decodeSerializableElement_12e8id$(this.descriptor, 58, fs(), ut), Ce |= 67108864; break; case 59: _t = be.decodeSerializableElement_12e8id$(this.descriptor, 59, new D(fs()), _t), Ce |= 134217728; break; case 60: ft = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 60, M.StringSerializer, ft), Ce |= 268435456; break; case 61: yt = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 61, Es(), yt), Ce |= 536870912; break; case 62: mt = be.decodeSerializableElement_12e8id$(this.descriptor, 62, new D(Es()), mt), Ce |= 1073741824; break; case 63: $t = be.decodeSerializableElement_12e8id$(this.descriptor, 63, new D(tu()), $t), Ce |= -2147483648; break; case 64: gt = be.decodeSerializableElement_12e8id$(this.descriptor, 64, new D(tu()), gt), Ee |= 1; break; case 65: vt = be.decodeStringElement_szpzho$(this.descriptor, 65), Ee |= 2; break; case 66: St = be.decodeSerializableElement_12e8id$(this.descriptor, 66, new N(M.StringSerializer, M.IntSerializer), St), Ee |= 4; break; case 67: Ct = be.decodeSerializableElement_12e8id$(this.descriptor, 67, new N(M.StringSerializer, M.IntSerializer), Ct), Ee |= 8; break; case 68: Et = be.decodeSerializableElement_12e8id$(this.descriptor, 68, new D(M.StringSerializer), Et), Ee |= 16; break; case 69: At = be.decodeSerializableElement_12e8id$(this.descriptor, 69, new D(M.StringSerializer), At), Ee |= 32; break; case 70: bt = be.decodeBooleanElement_szpzho$(this.descriptor, 70), Ee |= 64; break; case 71: It = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 71, M.StringSerializer, It), Ee |= 128; break; case 72: wt = be.decodeIntElement_szpzho$(this.descriptor, 72), Ee |= 256; break; case 73: Lt = be.decodeSerializableElement_12e8id$(this.descriptor, 73, new D(M.StringSerializer), Lt), Ee |= 512; break; case 74: Tt = be.decodeIntElement_szpzho$(this.descriptor, 74), Ee |= 1024; break; case 75: kt = be.decodeBooleanElement_szpzho$(this.descriptor, 75), Ee |= 2048; break; case 76: Rt = be.decodeBooleanElement_szpzho$(this.descriptor, 76), Ee |= 4096; break; case 77: Pt = be.decodeBooleanElement_szpzho$(this.descriptor, 77), Ee |= 8192; break; case 78: Mt = be.decodeIntElement_szpzho$(this.descriptor, 78), Ee |= 16384; break; case 79: Nt = be.decodeSerializableElement_12e8id$(this.descriptor, 79, new N(M.IntSerializer, M.IntArraySerializer), Nt), Ee |= 32768; break; case 80: Dt = be.decodeSerializableElement_12e8id$(this.descriptor, 80, new N(M.StringSerializer, jc()), Dt), Ee |= 65536; break; case 81: xt = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 81, Sc(), xt), Ee |= 131072; break; case 82: zt = be.decodeSerializableElement_12e8id$(this.descriptor, 82, new N(M.StringSerializer, ju()), zt), Ee |= 262144; break; case 83: Ot = be.decodeSerializableElement_12e8id$(this.descriptor, 83, new N(M.IntSerializer, M.IntSerializer), Ot), Ee |= 524288; break; case 84: Ft = be.decodeSerializableElement_12e8id$(this.descriptor, 84, new N(M.StringSerializer, new N(M.IntSerializer, M.StringSerializer)), Ft), Ee |= 1048576; break; case 85: Bt = be.decodeSerializableElement_12e8id$(this.descriptor, 85, new N(M.StringSerializer, new N(M.IntSerializer, new D(M.StringSerializer))), Bt), Ee |= 2097152; break; case 86: jt = be.decodeSerializableElement_12e8id$(this.descriptor, 86, new N(M.StringSerializer, new D(M.StringSerializer)), jt), Ee |= 4194304; break; case 87: Ht = be.decodeSerializableElement_12e8id$(this.descriptor, 87, new N(M.StringSerializer, QV()), Ht), Ee |= 8388608; break; case 88: qt = be.decodeSerializableElement_12e8id$(this.descriptor, 88, new D(M.StringSerializer), qt), Ee |= 16777216; break; case 89: Ut = be.decodeSerializableElement_12e8id$(this.descriptor, 89, new z(x, new R(M.StringSerializer)), Ut), Ee |= 33554432; break; case 90: Gt = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 90, M.StringSerializer, Gt), Ee |= 67108864; break; case 91: Wt = be.decodeIntElement_szpzho$(this.descriptor, 91), Ee |= 134217728; break; case 92: Yt = be.decodeIntElement_szpzho$(this.descriptor, 92), Ee |= 268435456; break; case 93: Vt = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 93, M.StringSerializer, Vt), Ee |= 536870912; break; case 94: Kt = be.decodeBooleanElement_szpzho$(this.descriptor, 94), Ee |= 1073741824; break; case 95: Xt = be.decodeBooleanElement_szpzho$(this.descriptor, 95), Ee |= -2147483648; break; case 96: Jt = be.decodeBooleanElement_szpzho$(this.descriptor, 96), Ae |= 1; break; case 97: Zt = be.decodeBooleanElement_szpzho$(this.descriptor, 97), Ae |= 2; break; case 98: Qt = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 98, M.StringSerializer, Qt), Ae |= 4; break; case 99: te = be.decodeSerializableElement_12e8id$(this.descriptor, 99, new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), te), Ae |= 8; break; case 100: ee = be.decodeBooleanElement_szpzho$(this.descriptor, 100), Ae |= 16; break; case 101: ie = be.decodeBooleanElement_szpzho$(this.descriptor, 101), Ae |= 32; break; case 102: ae = be.decodeSerializableElement_12e8id$(this.descriptor, 102, new D(kW()), ae), Ae |= 64; break; case 103: re = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 103, M.StringSerializer, re), Ae |= 128; break; case 104: ne = be.decodeBooleanElement_szpzho$(this.descriptor, 104), Ae |= 256; break; case 105: oe = be.decodeBooleanElement_szpzho$(this.descriptor, 105), Ae |= 512; break; case 106: se = be.decodeSerializableElement_12e8id$(this.descriptor, 106, new N(M.StringSerializer, new D(B0())), se), Ae |= 1024; break; case 107: le = be.decodeIntElement_szpzho$(this.descriptor, 107), Ae |= 2048; break; case 108: ce = be.decodeIntElement_szpzho$(this.descriptor, 108), Ae |= 4096; break; case 109: pe = be.decodeStringElement_szpzho$(this.descriptor, 109), Ae |= 8192; break; case 110: he = be.decodeBooleanElement_szpzho$(this.descriptor, 110), Ae |= 16384; break; case 111: de = be.decodeBooleanElement_szpzho$(this.descriptor, 111), Ae |= 32768; break; case 112: ue = be.decodeSerializableElement_12e8id$(this.descriptor, 112, new N(M.StringSerializer, M.StringSerializer), ue), Ae |= 65536; break; case 113: _e = be.decodeStringElement_szpzho$(this.descriptor, 113), Ae |= 131072; break; case 114: fe = be.decodeSerializableElement_12e8id$(this.descriptor, 114, new N(new R(M.StringSerializer), new R(M.StringSerializer)), fe), Ae |= 262144; break; case 115: ye = be.decodeSerializableElement_12e8id$(this.descriptor, 115, new N(M.StringSerializer, M.StringSerializer), ye), Ae |= 524288; break; case 116: me = be.decodeSerializableElement_12e8id$(this.descriptor, 116, new N(M.StringSerializer, M.StringSerializer), me), Ae |= 1048576; break; case 117: $e = be.decodeNullableSerializableElement_8viuyw$(this.descriptor, 117, M.StringSerializer, $e), Ae |= 2097152; break; case 118: ge = be.decodeIntElement_szpzho$(this.descriptor, 118), Ae |= 4194304; break; case 119: ve = be.decodeSerializableElement_12e8id$(this.descriptor, 119, new N(M.IntSerializer, GY()), ve), Ae |= 8388608; break; case -1: break t; default: throw new O(e) }return be.endStructure_24f42q$(this.descriptor), tK(Se, Ce, Ee, Ae, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, P, F, B, j, H, q, U, G, W, Y, V, K, X, J, Z, Q, tt, et, it, at, rt, nt, ot, st, lt, ct, pt, ht, dt, ut, _t, ft, yt, mt, $t, gt, vt, St, Ct, Et, At, bt, It, wt, Lt, Tt, kt, Rt, Pt, Mt, Nt, Dt, xt, zt, Ot, Ft, Bt, jt, Ht, qt, Ut, Gt, Wt, Yt, Vt, Kt, Xt, Jt, Zt, Qt, te, ee, ie, ae, re, ne, oe, se, le, ce, pe, he, de, ue, _e, fe, ye, me, $e, ge, ve, null) }, JV.prototype.childSerializers = function () { return [M.IntSerializer, new N(M.StringSerializer, M.IntSerializer), new N(M.StringSerializer, M.IntSerializer), new N(M.StringSerializer, new N(M.StringSerializer, M.IntSerializer)), new R(M.StringSerializer), M.IntSerializer, M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, new D(M.StringSerializer), new N(M.StringSerializer, new D(M.StringSerializer)), new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), new D(M.StringSerializer), new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), new N(M.StringSerializer, new N(M.IntSerializer, M.BooleanSerializer)), new N(M.StringSerializer, w2()), M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, new R(M.StringSerializer), new R(M.StringSerializer), M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.IntSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, new R(M.StringSerializer), new R(M.StringSerializer), new R(M.StringSerializer), new R(M.IntArraySerializer), M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, new N(M.IntSerializer, M.IntSerializer), M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, M.IntSerializer, new N(M.StringSerializer, M.StringSerializer), new N(M.StringSerializer, M.StringSerializer), new N(M.StringSerializer, new N(M.StringSerializer, M.StringSerializer)), new N(M.IntSerializer, new D(M.IntSerializer)), new N(M.IntSerializer, new D(M.StringSerializer)), new N(M.IntSerializer, new N(M.StringSerializer, M.StringSerializer)), new N(M.StringSerializer, new D(M.StringSerializer)), new D(l1()), fs(), new D(fs()), new R(M.StringSerializer), new R(Es()), new D(Es()), new D(tu()), new D(tu()), M.StringSerializer, new N(M.StringSerializer, M.IntSerializer), new N(M.StringSerializer, M.IntSerializer), new D(M.StringSerializer), new D(M.StringSerializer), M.BooleanSerializer, new R(M.StringSerializer), M.IntSerializer, new D(M.StringSerializer), M.IntSerializer, M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, M.IntSerializer, new N(M.IntSerializer, M.IntArraySerializer), new N(M.StringSerializer, jc()), new R(Sc()), new N(M.StringSerializer, ju()), new N(M.IntSerializer, M.IntSerializer), new N(M.StringSerializer, new N(M.IntSerializer, M.StringSerializer)), new N(M.StringSerializer, new N(M.IntSerializer, new D(M.StringSerializer))), new N(M.StringSerializer, new D(M.StringSerializer)), new N(M.StringSerializer, QV()), new D(M.StringSerializer), new z(x, new R(M.StringSerializer)), new R(M.StringSerializer), M.IntSerializer, M.IntSerializer, new R(M.StringSerializer), M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, M.BooleanSerializer, new R(M.StringSerializer), new N(M.StringSerializer, new N(M.IntSerializer, M.IntSerializer)), M.BooleanSerializer, M.BooleanSerializer, new D(kW()), new R(M.StringSerializer), M.BooleanSerializer, M.BooleanSerializer, new N(M.StringSerializer, new D(B0())), M.IntSerializer, M.IntSerializer, M.StringSerializer, M.BooleanSerializer, M.BooleanSerializer, new N(M.StringSerializer, M.StringSerializer), M.StringSerializer, new N(new R(M.StringSerializer), new R(M.StringSerializer)), new N(M.StringSerializer, M.StringSerializer), new N(M.StringSerializer, M.StringSerializer), new R(M.StringSerializer), M.IntSerializer, new N(M.IntSerializer, GY())] }, JV.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var ZV = null; function QV() { return null === ZV && new JV, ZV } function tK(t, e, i, a, r, n, o, s, l, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, R, P, M, N, D, x, z, O, F, B, j, H, q, U, G, W, Y, V, K, X, J, Z, Q, tt, et, it, at, rt, nt, ot, st, lt, ct, pt, ht, dt, ut, _t, ft, yt, mt, $t, gt, vt, St, Ct, Et, At, bt, It, wt, Lt, Tt, kt, Rt, Pt, Mt, Nt, Dt, xt, zt, Ot, Ft, Bt, jt, Ht, qt, Ut, Gt, Wt, Yt, Vt, Kt, Xt, Jt, Zt, Qt, te, ee, ie, ae, re, ne, oe, se, le, ce, pe, he, de, ue, _e, fe, ye, me) { var $e = me || Object.create(YV.prototype); return ($e = Ha(t, e, i, a, r, n, o, s, l, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, R, P, M, N, D, x, z, O, F, B, j, H, q, U, G, W, Y, V, K, X, J, Z, Q, tt, et, it, at, rt, nt, ot, st, lt, ct, pt, ht, dt, ut, _t, ft, yt, mt, $t, gt, vt, St, Ct, Et, At, bt, It, wt, Lt, Tt, kt, Rt, Pt, Mt, Nt, Dt, xt, zt, Ot, Ft, Bt, jt, Ht, qt, Ut, Gt, Wt, Yt, Vt, Kt, Xt, Jt, Zt, Qt, te, ee, ie, ae, $e)).petType_0 = 0 == (2048 & a) ? 0 : re, $e.incredibleType_0 = 0 == (4096 & a) ? 0 : ne, $e.petName_0 = 0 == (8192 & a) ? "" : oe, $e.switchA_0 = 0 != (16384 & a) && se, $e.switchB_0 = 0 != (32768 & a) && le, $e.hashMapAnimalSpecializations_0 = 0 == (65536 & a) ? c() : ce, $e.nickname_0 = 0 == (131072 & a) ? "" : pe, $e.hashMapSelectedFamiliarAbilities_0 = 0 == (262144 & a) ? c() : he, $e.hashMapSelectedFamiliarSkilled_0 = 0 == (524288 & a) ? c() : de, $e.hashMapSelectedFamiliarResistances_0 = 0 == (1048576 & a) ? c() : ue, $e.familiarSpecific_0 = 0 == (2097152 & a) ? null : _e, $e.specificGainedLevel_0 = 0 == (4194304 & a) ? 1 : fe, $e.hashMapEidolonAttacks_0 = 0 == (8388608 & a) ? c() : ye, $e } function eK(t, e) { W0.call(this, t), this.skillActionSet = null, this.skillActionSet = e.getSkillActions() } function iK() { this.typedBonuses_0 = new Int32Array(se().ARRAY_BONUS_TYPES.length), this.typedPenalties_0 = new Int32Array(se().ARRAY_BONUS_TYPES.length), this.listBuffDetails = u(), this.listDebuffDetails = u() } function aK(t) { return t = t || Object.create(iK.prototype), iK.call(t), t } function rK(t, e, i, a) { var r, n; for (a = a || Object.create(iK.prototype), iK.call(a), r = i.hashMapBonusesByType.keys.iterator(); r.hasNext();) { var s = r.next(); for (n = o(i.hashMapBonusesByType.get_11rb$(s)).keys.iterator(); n.hasNext();) { var l = n.next(), c = o(i.hashMapBonusesByType.get_11rb$(s)).get_11rb$(l); e.getCharacterData().getCharacterLevel() >= o(c).level && a.addBonusToType_0(t, c.amount, s, l) } } return a } function nK() { pK(), this.hashMapProficiencyIncreases = c(), this.hashMapProficiencyLevelSets = c(), this.hashMapTrainedOrExpert = c(), this.hashMapMaxTrainingForReference = c(), this.hashMapBonusesByType = c() } function oK(t, e, i) { this.$outer = t, this.level = e, this.proficiencyLevel = i } function sK(t, e, i) { this.$outer = t, this.level = 1, this.amount = 0, this.level = e, this.amount = i } function lK() { cK = this, this.CLASS_DC = "Class DC", this.ACROBATICS = "Acrobatics", this.ARCANA = "Arcana", this.ATHELTICS = "Athletics", this.CRAFTING = "Crafting", this.DECEPTION = "Deception", this.DIPLOMACY = "Diplomacy", this.INTIMIDATION = "Intimidation", this.MEDICINE = "Medicine", this.NATURE = "Nature", this.OCCULTISM = "Occultism", this.PERFORMANCE = "Performance", this.RELIGION = "Religion", this.SOCIETY = "Society", this.STEALTH = "Stealth", this.SURVIVAL = "Survival", this.THIEVERY = "Thievery", this.PROFICIENCY_FORTITUDE = "Fortitude", this.PROFICIENCY_REFLEX = "Reflex", this.PROFICIENCY_WILL = "Will", this.PROFICIENCY_SPELLS_ARCANE = "Arcane", this.PROFICIENCY_SPELLS_DIVINE = "Divine", this.PROFICIENCY_SPELLS_OCCULT = "Occult", this.PROFICIENCY_SPELLS_PRIMAL = "Primal", this.ARRAY_SPELL_PROFICIENCIES = [this.PROFICIENCY_SPELLS_ARCANE, this.PROFICIENCY_SPELLS_DIVINE, this.PROFICIENCY_SPELLS_OCCULT, this.PROFICIENCY_SPELLS_PRIMAL], this.INCREASE_TYPE_STANDARD_SELECTION = "standardSelection", this.INCREASE_TYPE_CLASS_SKILL = "classSkill", this.INCREASE_TYPE_RANDOM_SKILL_INCREASE = "randomSkillIncrease", this.PROFICIENCY_UNTRAINED = 0, this.PROFICIENCY_TRAINED = 2, this.PROFICIENCY_EXPERT = 4, this.PROFICIENCY_MASTER = 6, this.PROFICIENCY_LEGENDARY = 8, this.ARRAY_PROFICIENCY_NAMES = ["Untrained", "Trained", "Expert", "Master", "Legendary"], this.PROFICIENCY_LIGHT_ARMOR = "Light Armor", this.PROFICIENCY_MEDIUM_ARMOR = "Medium Armor", this.PROFICIENCY_HEAVY_ARMOR = "Heavy Armor", this.PROFICIENCY_UNARMORED = "Unarmored", this.PROFICIENCY_BARDING = "Barding", this.ARRAY_ARMOR_PROFICIENCY_TYPES = [this.PROFICIENCY_LIGHT_ARMOR, this.PROFICIENCY_MEDIUM_ARMOR, this.PROFICIENCY_HEAVY_ARMOR, this.PROFICIENCY_UNARMORED, this.PROFICIENCY_BARDING], this.PROFICIENCY_SIMPLE_WEAPONS = "Simple Weapons", this.PROFICIENCY_MARTIAL_WEAPONS = "Martial Weapons", this.PROFICIENCY_ADVANCED_WEAPONS = "Advanced Weapons", this.PROFICIENCY_UNARMED_ATTACKS = "Unarmed Attacks", this.ARRAY_WEAPON_PROFICIENCY_TYPES = [this.PROFICIENCY_SIMPLE_WEAPONS, this.PROFICIENCY_MARTIAL_WEAPONS, this.PROFICIENCY_ADVANCED_WEAPONS, this.PROFICIENCY_UNARMED_ATTACKS], this.PROFICIENCY_PERCEPTION = "Perception", this.ARRAY_ALL_PROFICIENCIES = [this.ACROBATICS, this.ARCANA, this.ATHELTICS, this.CRAFTING, this.DECEPTION, this.DIPLOMACY, this.INTIMIDATION, this.MEDICINE, this.NATURE, this.OCCULTISM, this.PERFORMANCE, this.RELIGION, this.SOCIETY, this.STEALTH, this.SURVIVAL, this.THIEVERY, this.PROFICIENCY_FORTITUDE, this.PROFICIENCY_REFLEX, this.PROFICIENCY_WILL, this.PROFICIENCY_PERCEPTION, this.PROFICIENCY_UNARMORED, this.PROFICIENCY_LIGHT_ARMOR, this.PROFICIENCY_MEDIUM_ARMOR, this.PROFICIENCY_HEAVY_ARMOR, this.PROFICIENCY_SIMPLE_WEAPONS, this.PROFICIENCY_MARTIAL_WEAPONS, this.PROFICIENCY_ADVANCED_WEAPONS, this.PROFICIENCY_UNARMED_ATTACKS, this.PROFICIENCY_SPELLS_ARCANE, this.PROFICIENCY_SPELLS_DIVINE, this.PROFICIENCY_SPELLS_OCCULT, this.PROFICIENCY_SPELLS_PRIMAL] } YV.$metadata$ = { kind: p, simpleName: "PetData", interfaces: [Da] }, eK.prototype.addProficiencies_5btbp7$ = function (t) { t.addProficiency_gzayp1$(pK().CLASS_DC, new nK), this.addSkillProficiencies_0(t), this.addWeaponArmorProficiencies_0(t), this.addSaveProficiencies_0(t), this.addSpellProficiencies_0(t), t.addProficiency_gzayp1$(pK().PROFICIENCY_PERCEPTION, new nK) }, eK.prototype.getNumStartingSkills_5btbp7$ = function (t) { var e = new G1(this.dataControl, t, 1).abilityScores[3], i = pe().getAbilityMod_za3lpa$(e), a = t.getClassTemplate().numSkills, r = 0; return t.getCharacterData().hashMapCustomSkillIncreases.containsKey_11rb$(1) && (r = r + o(t.getCharacterData().hashMapCustomSkillIncreases.get_11rb$(1)) | 0), i + a + r | 0 }, eK.prototype.addWeaponArmorProficiencies_0 = function (t) { t.addProficiency_gzayp1$(pK().PROFICIENCY_LIGHT_ARMOR, new nK), t.addProficiency_gzayp1$(pK().PROFICIENCY_MEDIUM_ARMOR, new nK), t.addProficiency_gzayp1$(pK().PROFICIENCY_HEAVY_ARMOR, new nK), t.addProficiency_gzayp1$(pK().PROFICIENCY_UNARMORED, new nK), t.addProficiency_gzayp1$(pK().PROFICIENCY_SIMPLE_WEAPONS, new nK), t.addProficiency_gzayp1$(pK().PROFICIENCY_MARTIAL_WEAPONS, new nK), t.addProficiency_gzayp1$(pK().PROFICIENCY_ADVANCED_WEAPONS, new nK), t.addProficiency_gzayp1$(pK().PROFICIENCY_UNARMED_ATTACKS, new nK) }, eK.prototype.addSaveProficiencies_0 = function (t) { t.addProficiency_gzayp1$(pK().PROFICIENCY_FORTITUDE, new hK), t.addProficiency_gzayp1$(pK().PROFICIENCY_REFLEX, new hK), t.addProficiency_gzayp1$(pK().PROFICIENCY_WILL, new hK) }, eK.prototype.addSkillProficiencies_0 = function (t) { var e; for (t.addSkillProficiency_4z2sac$(pK().ACROBATICS, wK(1, !0)), t.addSkillProficiency_4z2sac$(pK().ARCANA, wK(3, !1)), t.addSkillProficiency_4z2sac$(pK().ATHELTICS, wK(0, !0)), t.addSkillProficiency_4z2sac$(pK().CRAFTING, wK(3, !1)), t.addSkillProficiency_4z2sac$(pK().DECEPTION, wK(5, !1)), t.addSkillProficiency_4z2sac$(pK().DIPLOMACY, wK(5, !1)), t.addSkillProficiency_4z2sac$(pK().INTIMIDATION, wK(5, !1)), t.addSkillProficiency_4z2sac$(pK().MEDICINE, wK(4, !1)), t.addSkillProficiency_4z2sac$(pK().NATURE, wK(4, !1)), t.addSkillProficiency_4z2sac$(pK().OCCULTISM, wK(3, !1)), t.addSkillProficiency_4z2sac$(pK().PERFORMANCE, wK(5, !1)), t.addSkillProficiency_4z2sac$(pK().RELIGION, wK(4, !1)), t.addSkillProficiency_4z2sac$(pK().SOCIETY, wK(3, !1)), t.addSkillProficiency_4z2sac$(pK().STEALTH, wK(1, !0)), t.addSkillProficiency_4z2sac$(pK().SURVIVAL, wK(4, !1)), t.addSkillProficiency_4z2sac$(pK().THIEVERY, wK(1, !0)), e = t.listAllSkillProficiencies.iterator(); e.hasNext();) { var i = e.next(); o(t.getSkillProficiency_61zpoe$(i)).displayName = i; var a = t.getSkillProficiency_61zpoe$(i); t.addProficiency_gzayp1$(i, o(a)) } }, eK.prototype.addSpellProficiencies_0 = function (t) { t.addProficiency_gzayp1$(pK().PROFICIENCY_SPELLS_ARCANE, new nK), t.addProficiency_gzayp1$(pK().PROFICIENCY_SPELLS_DIVINE, new nK), t.addProficiency_gzayp1$(pK().PROFICIENCY_SPELLS_OCCULT, new nK), t.addProficiency_gzayp1$(pK().PROFICIENCY_SPELLS_PRIMAL, new nK) }, eK.prototype.getAllSkillsAsArray_5btbp7$ = function (t) { var e = t.listAllSkillProficiencies; return Q(e), b(e) }, eK.prototype.getAllSkillsAsArrayList_5btbp7$ = function (t) { var e = t.listAllSkillProficiencies; return Q(e), e }, eK.prototype.getAllProficienciesAsArray_5btbp7$ = function (t) { var e = t.listAllProficiencies; return b(e) }, eK.prototype.addRelevantProficiencyIncreases_ouyuhg$ = function (t, e, i) { var a, r, n, s; for (a = t.getCharacterData().hashMapSkillIncreases.keys.iterator(); a.hasNext();) { var l = a.next(); for (r = o(t.getCharacterData().hashMapSkillIncreases.get_11rb$(l)).iterator(); r.hasNext();) { var c = r.next(); m(e, c) && i.addProficiencyIncrease_bm4lxs$(pK().INCREASE_TYPE_STANDARD_SELECTION + j(l), l) } } for (n = t.hashMapTrainedOnlySkillChoices.keys.iterator(); n.hasNext();) { var p = n.next(); if (t.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(p)) { var h = t.hashMapTrainedOnlySkillChoices.get_11rb$(p); for (s = o(t.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(p)).iterator(); s.hasNext();) { var d = s.next(); m(e, d) && i.setProficiencyAtLevel_3m52m6$(pK().INCREASE_TYPE_STANDARD_SELECTION, o(h).level, 2) } } } }, eK.prototype.loadSelectedProficiences_5btbp7$ = function (t) { var e, i, a, r; for (e = t.getCharacterData().hashMapSkillIncreases.keys.iterator(); e.hasNext();) { var n = e.next(); for (i = o(t.getCharacterData().hashMapSkillIncreases.get_11rb$(n)).iterator(); i.hasNext();) { var s = i.next(); if (t.proficiencyExists_61zpoe$(s)) { var l = t.getProficiency_61zpoe$(s); o(l).addProficiencyIncrease_bm4lxs$(pK().INCREASE_TYPE_STANDARD_SELECTION + j(n), n) } else k(se().TAG + " PROFICIENCY DID NOT EXIST IN LOAD SELECTED PROFICIENCY FOR " + s) } } for (a = t.hashMapTrainedOnlySkillChoices.keys.iterator(); a.hasNext();) { var c = a.next(); if (t.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(c)) { var p = t.hashMapTrainedOnlySkillChoices.get_11rb$(c); for (r = o(t.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(c)).iterator(); r.hasNext();) { var h = r.next(); if (t.proficiencyExists_61zpoe$(h)) { var d = t.getProficiency_61zpoe$(h); o(d).setProficiencyAtLevel_3m52m6$(c, o(p).level, 2) } else k(se().TAG + "TRAINED ONLY PROFICIENCY DID NOT EXIST IN LOAD SELECTED PROFICIENCY FOR " + h) } } } }, eK.prototype.getTotalSkillIncreasesAtLevel_vy76y1$ = function (t, e) { var i = 0; return t.listSkillIncreaseLevels.contains_11rb$(e) && (i = i + 1 | 0), t.getCharacterData().hashMapCustomSkillIncreases.containsKey_11rb$(e) && (i = i + o(t.getCharacterData().hashMapCustomSkillIncreases.get_11rb$(e)) | 0), i }, eK.prototype.getUsedSkillIncreasesAtLevel_vy76y1$ = function (t, e) { return t.getCharacterData().hashMapSkillIncreases.containsKey_11rb$(e) ? o(t.getCharacterData().hashMapSkillIncreases.get_11rb$(e)).size : 0 }, eK.prototype.setTrainedOnlySkills_lkhh5k$ = function (t, e, i, a) { var r, n = u(); for (r = t.hashMapTrainedOnlySkillChoices.keys.iterator(); r.hasNext();) { var s = r.next(); if (!m(s, e)) { var l = t.hashMapTrainedOnlySkillChoices.get_11rb$(s); if (o(l).level >= a && t.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(s) && o(t.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(s)).contains_11rb$(o(i))) { o(t.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(s)).remove_11rb$(i); var c = t.getSkillProficiency_61zpoe$(i); o(c).removeProficiencyAtLevel_61zpoe$(s), n.contains_11rb$(l.level) || n.add_11rb$(l.level) } } } this.dataControl.getGuiUpdateControl().setTrainedOnlySkills_zf3t43$(t, n) }, eK.prototype.deactivateAllSkillIncreasesAfterLevel1_5btbp7$ = function (t) { var i, a; for (i = t.listSkillIncreaseLevels.iterator(); i.hasNext();) { var r = i.next(); if (r > 1 && t.getCharacterData().hashMapSkillIncreases.containsKey_11rb$(r)) { for (a = o(t.getCharacterData().hashMapSkillIncreases.get_11rb$(r)).iterator(); a.hasNext();) { var n = a.next(); try { var l = t.getSkillProficiency_61zpoe$(n); o(l).removeProficiencyIncrease_61zpoe$(pK().INCREASE_TYPE_STANDARD_SELECTION + j(r)) } catch (t) { if (!e.isType(t, h)) throw t; s(t) } } t.getCharacterData().hashMapSkillIncreases.remove_11rb$(r) } } }, eK.prototype.checkAllIntelligenceSkillBoostChoices_5btbp7$ = function (t) { for (var e = 2; e <= 20; e++)this.checkIntelligenceBoostSkillChoices_vy76y1$(t, e) }, eK.prototype.checkIntelligenceBoostSkillChoices_vy76y1$ = function (t, e) { var i, a, r = PK().SOURCE_INTELLIGENCE_BOOST + e.toString(), n = !1; if (this.hasIntelligenceBoosted_0(t, e)) { if (!t.hashMapTrainedOnlySkillChoices.containsKey_11rb$(r)) { var s = NK(r, 1, null, null, e, "Intelligence"); if (t.hashMapTrainedOnlySkillChoices.put_xwzc9p$(r, s), t.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(r)) for (i = o(t.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(r)).iterator(); i.hasNext();) { var l = i.next(); o(t.getProficiency_61zpoe$(l)).setProficiencyAtLevel_3m52m6$(r, s.level, 2) } n = !0 } } else if (t.hashMapTrainedOnlySkillChoices.containsKey_11rb$(r)) { if (t.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(r)) { for (a = o(t.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(r)).iterator(); a.hasNext();) { var c = a.next(), p = t.getSkillProficiency_61zpoe$(c); o(p).removeProficiencyAtLevel_61zpoe$(r) } t.getCharacterData().hashMapTrainedOnlySkillChoices.remove_11rb$(r) } t.hashMapTrainedOnlySkillChoices.remove_11rb$(r), n = !0 } n && this.dataControl.getGuiUpdateControl().onIntelligenceChanged_hdt6c$(t, e) }, eK.prototype.hasIntelligenceBoosted_0 = function (t, e) { if (e > 1) { var i = pe().getAbilityMod_za3lpa$(new G1(this.dataControl, t, e - 1 | 0).abilityScores[3]); if (pe().getAbilityMod_za3lpa$(new G1(this.dataControl, t, e).abilityScores[3]) > i) return !0 } return !1 }, eK.prototype.checkValidSelectedSkills_vy76y1$ = function (t, e) { var i, a, r = u(); for (i = this.getAllSkillsAsArrayList_5btbp7$(t).iterator(); i.hasNext();)for (var n = i.next(), s = e; s <= 14; s++)if (t.getCharacterData().getListSkillIncreases_za3lpa$(s).contains_11rb$(n)) { var l = t.getProficiency_61zpoe$(n), c = o(l).getProficiencyAtLevel_za3lpa$(s); (8 === c || s < 7 && 6 === c) && (1 === s ? (l.removeProficiencyAtLevel_61zpoe$(pK().INCREASE_TYPE_STANDARD_SELECTION), o(t.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(pK().INCREASE_TYPE_STANDARD_SELECTION)).remove_11rb$(n)) : (l.removeProficiencyIncrease_61zpoe$(pK().INCREASE_TYPE_STANDARD_SELECTION + j(s)), t.getCharacterData().removeSkillIncrease_19mbxw$(s, n)), r.contains_11rb$(s) || r.add_11rb$(s)) } for (a = r.iterator(); a.hasNext();) { var p = a.next(); this.dataControl.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(t, p) } }, eK.$metadata$ = { kind: p, simpleName: "ManagerProficiencies", interfaces: [W0] }, Object.defineProperty(iK.prototype, "totalBuffExcludingItem", { configurable: !0, get: function () { var t, e = 0; t = se().ARRAY_BONUS_TYPES.length; for (var i = 1; i < t; i++)e = (e = e + this.typedBonuses_0[i] | 0) + this.typedPenalties_0[i] | 0; return e } }), iK.prototype.getTypedBuff_za3lpa$ = function (t) { return this.typedBonuses_0[t] + this.typedPenalties_0[t] | 0 }, iK.prototype.getWeaponItemBonus_t0a6b2$ = function (t, e) { var i, a = t.getCharacterData().getCharacterLevel(), r = e.getPotency_5btbp7$(t); for (i = t.hashMapMiscWeaponItemBonuses.values.iterator(); i.hasNext();) { var n = i.next(); m(n.itemName, e.weaponName) && a >= n.level && n.increase > r && (r = n.increase) } return this.typedBonuses_0[0] > r && (r = this.typedBonuses_0[0]), r }, iK.prototype.getArmorItemBonus_fhac18$ = function (t, e) { e.getCharacterData().getCharacterLevel(); var i = 0, a = e.getCharacterData().getPlayerArmor(), r = a.getPotency_5btbp7$(e), n = t.managerArmor.getWornArmorInformation_5btbp7$(e); if (null != n) { var o = n.acBonus; a.isArmoredSkirt() && (o = n.proficiencyType < 2 ? o + 1 | 0 : o - 1 | 0), i = o + r | 0 } return this.typedBonuses_0[0] > i && (i = this.typedBonuses_0[0]), i }, iK.prototype.addAttackBuffs_cvmu72$ = function (t, e, i) { var a; for (a = e.hashMapAttackDamageBuffs.values.iterator(); a.hasNext();) { var r = a.next(); r.buffAttack && (i !== r.abilityRef && -1 !== r.abilityRef || this.addBonusToType_0(t, r.bonus, r.type, r.reference)) } }, iK.prototype.addDamageBuffs_a9h5n9$ = function (t, e, i, a, r) { var n; for (n = e.hashMapAttackDamageBuffs.values.iterator(); n.hasNext();) { var o = n.next(); o.buffDamage && this.damageBuffWorksForWeapon_0(t, e, o, a, r) && (this.getDamageAbilityRef_0(t, e, i.abilityScoresBuffed, a, r) !== o.abilityRef && -1 !== o.abilityRef || this.addBonusToType_0(t, o.bonus, o.type, o.reference)) } _(a.getWeaponTraits_fha2vo$(t, e, r).toLowerCase(), "kickback") && this.addBonusToType_0(t, 1, 3, "Kickback +1 Damage") }, iK.prototype.damageBuffWorksForWeapon_0 = function (t, e, i, a, r) { return this.damageWeaponTraits_0(t, e, i, a, r) && this.damageExcludedWeaponTraits_0(t, e, i, a, r) }, iK.prototype.damageWeaponTraits_0 = function (t, e, i, a, r) { var n; if (null == i.listDamTraits) return !0; if (o(i.listDamTraits).isEmpty()) return !0; for (n = o(i.listDamTraits).iterator(); n.hasNext();) { var s = n.next(); if (_(a.getWeaponTraits_fha2vo$(t, e, r).toLowerCase(), s.toLowerCase())) return !0 } return !1 }, iK.prototype.damageExcludedWeaponTraits_0 = function (t, e, i, a, r) { var n; if (null == i.listExcludeDamTraits) return !0; if (o(i.listExcludeDamTraits).isEmpty()) return !0; for (n = o(i.listExcludeDamTraits).iterator(); n.hasNext();) { var s = n.next(); if (_(a.getWeaponTraits_fha2vo$(t, e, r).toLowerCase(), s.toLowerCase())) return !1 } return !0 }, iK.prototype.addPetDamageBuffs_fhac18$ = function (t, e) { var i; for (i = e.hashMapAttackDamageBuffs.values.iterator(); i.hasNext();) { var a = i.next(); a.buffDamage && (0 !== a.abilityRef && -1 !== a.abilityRef || this.addBonusToType_0(t, a.bonus, a.type, a.reference)) } }, iK.prototype.addBonusToType_0 = function (t, i, a, r) { var n, o, s = r, l = t.hashMapBuffIDsToNames, c = s; if ((e.isType(o = l, y) ? o : d()).containsKey_11rb$(c)) { var p, h = t.hashMapBuffIDsToNames, u = s; s = (e.isType(p = h, y) ? p : d()).get_11rb$(u) } i > 0 ? (3 === a ? (n = this.typedBonuses_0)[3] = n[3] + i | 0 : i > this.typedBonuses_0[a] && (this.typedBonuses_0[a] = i), this.listBuffDetails.add_11rb$(s + ": " + this.getBuffString_0(i, a))) : (i < this.typedPenalties_0[a] && (this.typedPenalties_0[a] = i), this.listDebuffDetails.add_11rb$(s + ": " + this.getBuffString_0(i, a))) }, iK.prototype.getBuffString_0 = function (t, e) { return " " + se().ARRAY_BONUS_TYPES[e] + " " + pe().getSignedValue_za3lpa$(t) }, iK.prototype.getDamageAbilityRef_0 = function (t, e, i, a, r) { if (null == r) return 0; if (r.isRangedOrFirearm()) return _(o(r.weaponTraits).toLowerCase(), "thrown") || _(o(r.weaponTraits).toLowerCase(), "propulsive") ? 0 : -1; if (!r.isRangedOrFirearm() && BK().hasSpecialByLevel_o7aqax$(e, "Thief Racket", e.getCharacterData().getCharacterLevel()) && i[1] > i[0]) { var n = _(a.getWeaponTraits_fha2vo$(t, e, r).toLowerCase(), "agile"); if (n || (n = _(a.getWeaponTraits_fha2vo$(t, e, r).toLowerCase(), "finesse")), n) return 1 } return 0 }, iK.$metadata$ = { kind: p, simpleName: "BuffSet", interfaces: [] }, nK.prototype.getProficiencyAtLevel_za3lpa$ = function (t) { for (var e, i, a, r = 0, n = 1; n <= t; n++) { for (e = this.hashMapProficiencyLevelSets.values.iterator(); e.hasNext();) { var s = e.next(); s.level === n && s.proficiencyLevel > r && (r = s.proficiencyLevel) } for (i = this.hashMapTrainedOrExpert.values.iterator(); i.hasNext();)n === i.next() && (0 === r ? r = 2 : 2 === r && (r = 4)); for (a = this.hashMapProficiencyIncreases.keys.iterator(); a.hasNext();) { var l = a.next(); n === o(this.hashMapProficiencyIncreases.get_11rb$(l)) && r < 8 && this.isLegalIncrease_tx0rkg$_0(l, r) && (r = pe().getIncreasedProficiency_za3lpa$(r)) } } return r }, nK.prototype.getProficiencyAtLevelExcludingThisReference_19mbxw$ = function (t, e) { for (var i, a, r, n = 0, s = 1; s <= t; s++) { for (i = this.hashMapProficiencyLevelSets.keys.iterator(); i.hasNext();) { var l = i.next(); if (!m(e, l)) { var c = this.hashMapProficiencyLevelSets.get_11rb$(l); o(c).level === s && c.proficiencyLevel > n && (n = c.proficiencyLevel) } } for (a = this.hashMapTrainedOrExpert.values.iterator(); a.hasNext();)s === a.next() && (0 === n ? n = 2 : 2 === n && (n = 4)); for (r = this.hashMapProficiencyIncreases.keys.iterator(); r.hasNext();) { var p = r.next(); m(p, e) || s === o(this.hashMapProficiencyIncreases.get_11rb$(p)) && n < 8 && this.isLegalIncrease_tx0rkg$_0(p, n) && (n = pe().getIncreasedProficiency_za3lpa$(n)) } } return n }, nK.prototype.isLegalIncrease_tx0rkg$_0 = function (t, e) { return !(this.hashMapMaxTrainingForReference.containsKey_11rb$(t) && pe().getIncreasedProficiency_za3lpa$(e) > o(this.hashMapMaxTrainingForReference.get_11rb$(t))) }, nK.prototype.addProficiencyIncrease_bm4lxs$ = function (t, e) { this.hashMapProficiencyIncreases.put_xwzc9p$(t, e) }, nK.prototype.setProficiencyAtLevel_3m52m6$ = function (t, e, i) { var a = this.hashMapProficiencyLevelSets, r = new oK(this, e, i); a.put_xwzc9p$(t, r) }, nK.prototype.addTrainedOrExpert_bm4lxs$ = function (t, e) { this.hashMapTrainedOrExpert.put_xwzc9p$(t, e) }, nK.prototype.removeTrainedOrExpert_61zpoe$ = function (t) { this.hashMapTrainedOrExpert.remove_11rb$(t) }, nK.prototype.removeProficiencyAtLevel_61zpoe$ = function (t) { this.hashMapProficiencyLevelSets.remove_11rb$(t) }, nK.prototype.removeProficiencyIncrease_61zpoe$ = function (t) { this.hashMapProficiencyIncreases.remove_11rb$(t) }, oK.$metadata$ = { kind: p, simpleName: "ProficiencyLevelSet", interfaces: [] }, nK.prototype.addBonus_rpybz1$ = function (t, e, i) { if (!this.hashMapBonusesByType.containsKey_11rb$(t)) { var a = this.hashMapBonusesByType, r = c(); a.put_xwzc9p$(t, r) } var n = o(this.hashMapBonusesByType.get_11rb$(t)), s = new sK(this, 1, i); n.put_xwzc9p$(e, s) }, nK.prototype.removeBonus_vqvrqt$ = function (t, e) { this.hashMapBonusesByType.containsKey_11rb$(t) && o(this.hashMapBonusesByType.get_11rb$(t)).remove_11rb$(e) }, nK.prototype.addBonus_svt8nn$ = function (t, e, i, a) { if (!this.hashMapBonusesByType.containsKey_11rb$(e)) { var r = this.hashMapBonusesByType, n = c(); r.put_xwzc9p$(e, n) } var s = o(this.hashMapBonusesByType.get_11rb$(e)), l = new sK(this, t, a); s.put_xwzc9p$(i, l) }, nK.prototype.removeBonus_273qip$ = function (t, e, i) { this.hashMapBonusesByType.containsKey_11rb$(e) && o(this.hashMapBonusesByType.get_11rb$(e)).remove_11rb$(i) }, sK.$metadata$ = { kind: p, simpleName: "ProficiencyBonus", interfaces: [] }, lK.prototype.getFinalProficiencyTotal_xek4lp$ = function (t, e, i) { return t.isAddLevelToProficiency() ? e > 0 ? e + i | 0 : 0 : e }, lK.prototype.getFinalProficiencyTotalWeapons_bh8xs5$ = function (t, e, i) { return t.getCharacterData().isAddLevelToProficiency() ? e > 0 || t.addLevelToUntrainedSkills_za3lpa$(i) ? e + i | 0 : 0 === e && Lq().hasFeatByLevel_w0akbr$(t, "No ref", i, "ELF_Martial Experience") ? i >= 11 ? 2 + i | 0 : i : 0 : e }, lK.prototype.getFinalProficiencyTotalSkill_r1xdi3$ = function (t, e, i, a) { var r; if (!e.getCharacterData().isAddLevelToProficiency()) return i; if (i > 0 || e.addLevelToUntrainedSkills_za3lpa$(a)) return i + a | 0; if (0 === i && Lq().hasFeatByLevel_w0akbr$(e, "No ref", a, "GENERAL_Untrained Improvisation")) { if (a >= 7) r = a; else { var n = a / 2; r = C(I.floor(n)) } return r } return 0 }, lK.prototype.getFinalProficiencyTotalSkillPets_pjrbnw$ = function (t, e, i, a) { var r; if (!t.isAddLevelToProficiency()) return i; if (i > 0 || e.addLevelToUntrainedSkills_za3lpa$(a)) return i + a | 0; if (0 === i && Lq().hasFeatByLevel_w0akbr$(e, "No ref", a, "GENERAL_Untrained Improvisation")) { if (a >= 7) r = a; else { var n = a / 2; r = C(I.floor(n)) } return r } return 0 }, lK.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var cK = null; function pK() { return null === cK && new lK, cK } function hK() { _K(), nK.call(this) } function dK() { uK = this, this.ITEM_BONUS_ARMOR_RESILIENT = "itemBonusArmorPotency", this.ARRAY_SAVE_PROFICIENCIES = [pK().PROFICIENCY_FORTITUDE, pK().PROFICIENCY_REFLEX, pK().PROFICIENCY_WILL] } nK.$metadata$ = { kind: p, simpleName: "Proficiency", interfaces: [] }, dK.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var uK = null; function _K() { return null === uK && new dK, uK } function fK() { $K(), this.name = "", this.skill = "", this.trained = !1, this.actions = -2, this.traits = "", this.description = "", this.src = Ic().BOOK_CRB, this.url = "https://2e.aonprd.com/Skills.aspx" } function yK() { mK = this, this.COLUMN_NAME = "name", this.COLUMN_SKILL = "skill", this.COLUMN_TRAINED = "trained", this.COLUMN_ACTIONS = "actions", this.COLUMN_TRAITS = "traits", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SRC = "src", this.COLUMN_URL = "url" } hK.$metadata$ = { kind: p, simpleName: "SaveProficiency", interfaces: [nK] }, yK.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var mK = null; function $K() { return null === mK && new yK, mK } function gK() { this.list = u(), this.hashMap = c(), this.hashMapSkillsToActionsList = c() } fK.$metadata$ = { kind: p, simpleName: "SkillAction", interfaces: [] }, gK.prototype.createHashMap = function () { var t, e; for (t = this.list.iterator(); t.hasNext();) { var i = t.next(), a = this.hashMap, r = o(i).name; a.put_xwzc9p$(r, i); var n = b(v(o(i.skill), ["&"])); for (e = 0; e !== n.length; ++e) { var s = n[e]; if (!this.hashMapSkillsToActionsList.containsKey_11rb$(s)) { var l = this.hashMapSkillsToActionsList, c = u(); l.put_xwzc9p$(s, c) } o(this.hashMapSkillsToActionsList.get_11rb$(s)).add_11rb$(i) } } }, gK.$metadata$ = { kind: p, simpleName: "SkillActionSet", interfaces: [] }; var vK = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function SK() { IK(), this.abilityRef = 0, this.armorPenalty = !1, this.displayName = null, this.loreRef = 0, this.displayFrom = 0 } function CK(t) { return t.level } function EK(t, e, i) { this.$outer = t, this.key = e, this.level = i } function AK() { bK = this, this.MAGIC_SKILLS = [pK().ARCANA, pK().OCCULTISM, pK().RELIGION, pK().NATURE] } SK.prototype.canBeIncreased_9d67ql$ = function (t, e) { var i = this.getProficiencyAtLevel_za3lpa$(e); return !(1 === e && i >= 2) && (0 === i || 2 === i || 4 === i && e >= 7 || 6 === i && e >= 15) }, SK.prototype.checkLaterIncreaseSelectionStillValid_bru3g4$ = function (t, i, a) { var r, n; if (20 !== a) { var s = u(); for (r = this.hashMapProficiencyIncreases.keys.iterator(); r.hasNext();) { var l = r.next(), c = o(this.hashMapProficiencyIncreases.get_11rb$(l)); c > a && s.add_11rb$(new EK(this, l, c)) } for (s.size > 1 && q(s, new G(vK(CK))), n = s.iterator(); n.hasNext();) { var p = n.next(), h = this.getProficiencyAtLevel_za3lpa$(p.level); if (p.level < 7 && h > 4) { var _, f = this.hashMapProficiencyIncreases, y = p.key; (e.isType(_ = f, rt) ? _ : d()).remove_11rb$(y), t.removeSkillIncrease_19mbxw$(p.level, o(i)) } else if (p.level < 15 && h > 6) { var m, $ = this.hashMapProficiencyIncreases, g = p.key; (e.isType(m = $, rt) ? m : d()).remove_11rb$(g), t.removeSkillIncrease_19mbxw$(p.level, o(i)) } } } }, EK.$metadata$ = { kind: p, simpleName: "KeyLevel", interfaces: [] }, AK.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var bK = null; function IK() { return null === bK && new AK, bK } function wK(t, e, i) { return i = i || Object.create(SK.prototype), nK.call(i), SK.call(i), i.abilityRef = t, i.armorPenalty = e, i } function LK(t, e, i, a) { return a = a || Object.create(SK.prototype), nK.call(a), SK.call(a), a.abilityRef = t, a.armorPenalty = e, a.displayFrom = i, a } function TK() { PK(), this.multipleSelection_0 = null, this.primarySelection = null, this.backupSelection_0 = null, this.reference = null, this.numChoices = 1, this.level = 0, this.title = "Skill Training", this.loresOnly = !1 } function kK() { RK = this, this.SOURCE_INTELLIGENCE_BOOST = "sourceIntelligenceBoost" } SK.$metadata$ = { kind: p, simpleName: "SkillProficiency", interfaces: [nK] }, TK.prototype.getSkillsForAdapter_fhac18$ = function (t, e) { var i, a, r, n, s = u(); if (this.loresOnly) for (i = e.listAllSkillProficiencies.iterator(); i.hasNext();) { var l = i.next(); _(l, "Lore: ") && 0 === o(e.getProficiency_61zpoe$(l)).getProficiencyAtLevelExcludingThisReference_19mbxw$(this.level, this.reference) && s.add_11rb$(l) } else if (null == this.multipleSelection_0) for (a = e.listAllSkillProficiencies.iterator(); a.hasNext();) { var c = a.next(); 0 === o(e.getProficiency_61zpoe$(c)).getProficiencyAtLevelExcludingThisReference_19mbxw$(this.level, this.reference) && s.add_11rb$(c) } else if (null != this.multipleSelection_0) for (r = o(this.multipleSelection_0).iterator(); r.hasNext();) { var p = r.next(); 0 === o(e.getProficiency_61zpoe$(p)).getProficiencyAtLevelExcludingThisReference_19mbxw$(this.level, this.reference) && s.add_11rb$(p) } if (s.isEmpty() && null != this.backupSelection_0) for (n = o(this.backupSelection_0).iterator(); n.hasNext();) { var h = n.next(); 0 === o(e.getProficiency_61zpoe$(h)).getProficiencyAtLevelExcludingThisReference_19mbxw$(this.level, this.reference) && s.add_11rb$(h) } return null != this.primarySelection && (s = 0 === o(e.getProficiency_61zpoe$(o(this.primarySelection))).getProficiencyAtLevelExcludingThisReference_19mbxw$(this.level, this.reference) ? T([o(this.primarySelection)]) : o(this.backupSelection_0)), s }, kK.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var RK = null; function PK() { return null === RK && new kK, RK } function MK(t, e, i, a, r, n) { return n = n || Object.create(TK.prototype), TK.call(n), n.reference = t, n.numChoices = e, n.multipleSelection_0 = i, n.backupSelection_0 = a, n.level = r, n } function NK(t, e, i, a, r, n, o) { return o = o || Object.create(TK.prototype), TK.call(o), o.reference = t, o.numChoices = e, o.multipleSelection_0 = i, o.backupSelection_0 = a, o.level = r, o.title = n, o } function DK(t, e, i, a, r, n) { return n = n || Object.create(TK.prototype), TK.call(n), n.reference = t, n.numChoices = e, n.primarySelection = i, n.backupSelection_0 = a, n.level = r, n } function xK() { this.hashMapWeaponProficiencyByTypeForGroup = c() } function zK(t, e) { BK(), W0.call(this, t), this.loaderSet_0 = e, this.hashMapSpecials_0 = c(), this.domainPowers_0 = null, this.researchFieldSet_0 = null, this.hellknightOrderSet_0 = null, this.bloodlineSet_0 = null, this.specialRequirementMethods_0 = null, this.specialRequirementMethods_0 = new GX } function OK() { FK = this, this.SPECIALS_FIGHTER = "specialsFighter", this.SPECIALS_ROGUE = "specialsRogue", this.SPECIALS_ROGUE_RACKETS = "specialsRogueRackets", this.SPECIALS_BARD = "specialsBard", this.SPECIALS_BARD_MUSES = "specialsBardMuses", this.SPECIALS_CHAMPION = "specialsChampion", this.SPECIALS_CHAMPION_CAUSES = "specialsChampionCauses", this.SPECIALS_CHAMPION_REACTIONS = "specialsChampionReactions", this.SPECIALS_CHAMPION_TENETS = "specialsChampionTenets", this.SPECIALS_CHAMPION_DIVINE_ALLY = "specialsChampionRighteousAlly", this.SPECIALS_ALCHEMIST = "specialsAlchemist", this.SPECIALS_ALCHEMIST_RESEARCH_FIELDS = "specialsAlchemistResearchFields", this.SPECIALS_SORCERER = "specialsSorcerer", this.SPECIALS_SORCERER_BLOODLINES = "specialsSorcererBloodlines", this.SPECIALS_INVESTIGATOR = "specialsInvestigator", this.SPECIALS_INVESTIGATOR_METHOLOGIES = "specialsInvestigatorMethodologies", this.SPECIALS_ORACLE = "specialsOracle", this.SPECIALS_ORACLE_MYSTERIES = "specialsOracleMysteries", this.SPECIALS_SWASHBUCKLER = "specialsSwashbuckler", this.SPECIALS_SWASHBUCKLER_STYLES = "specialsSwashbucklerStyles", this.SPECIALS_WITCH = "specialsWitch", this.SPECIALS_WITCH_PATRONS = "specialsWitchPatrons", this.SPECIALS_WITCH_LESSONS = "specialsWitchLessons", this.SPECIALS_WITCH_LESSONS_GREATER = "specialsWitchLessonsGreater", this.SPECIALS_WITCH_LESSONS_MAJOR = "specialsWitchLessonsMajor", this.SPECIALS_CLERIC = "specialsCleric", this.SPECIALS_CLERIC_FONTS = "specialsClericFonts", this.SPECIALS_CLERIC_DOCTRINES = "specialsClericDoctrines", this.SPECIALS_WIZARD = "specialsWizard", this.SPECIALS_WIZARD_THESES = "specialsWizardTheses", this.SPECIALS_MAGUS = "specialsMagus", this.SPECIALS_MAGUS_HYBRIDS = "specialsMagusHybrids", this.SPECIALS_SUMMONER = "specialsSummoner", this.SPECIALS_SUMMONER_EIDOLONS = "specialsSummonerEidolons", this.SPECIALS_EIDOLON_ABILTIIES = "specialsEidolonAbilities", this.SPECIALS_INVENTOR = "specialsInventor", this.SPECIALS_INVENTOR_INNOVATIONS = "specialsInventorInnovations", this.SPECIALS_INVENTOR_OFFENSIVE_BOOSTS = "specialsInventorOffensiveBoosts", this.SPECIALS_INVENTOR_MODIFICATIONS_ARMOR = "specialsInventorModificationsArmor", this.SPECIALS_INVENTOR_MODIFICATIONS_CONSTRUCT = "specialsInventorModificationsConstruct", this.SPECIALS_INVENTOR_MODIFICATIONS_WEAPON = "specialsInventorModificationsWeapon", this.SPECIALS_AUTOMATON_ENHANCEMENTS = "specialsAutomatonEnhancements", this.SPECIALS_GUNSLINGER = "specialsGunslinger", this.SPECIALS_GUNSLINGER_DEEDS = "specialsGunslingerDeeds", this.SPECIALS_GUNSLINGER_DEEDS_ACTIONS = "specialsGunslingerDeedsActions", this.SPECIALS_ARCHETYPE_CATHARTIC_MAGE = "specialsArchetypeCatharticMage", this.SPECIALS_ARCHETYPE_SOULFORGER = "specialsArchetypeSoulforger", this.SPECIALS_BARBARIAN = "specialsBarbarian", this.SPECIALS_BARBARIAN_INSTINCTS = "specialsBarbarianInstincts", this.SPECIALS_BARBARIAN_INSTINCT_ANIMAL = "specialsBarbarianInstinctAnimal", this.SPECIALS_BARBARIAN_INSTINCT_DRAGON = "specialsBarbarianInstinctDragon", this.SPECIALS_RANGER = "specialsRanger", this.SPECIALS_RANGER_EDGES = "specialsRangerEdges", this.SPECIALS_MONK = "specialsMonk", this.SPECIALS_DRUID = "specialsDruid", this.SPECIALS_DRUID_ORDERS = "specialsDruidOrders", this.SPECIALS_WEAPON_GROUPS = "specialsWesponGroups", this.SPECIALS_ARMOR_GROUPS = "specialsArmorGroups", this.SPECIALS_ARCANE_SCHOOLS = "specialsArcaneSchools", this.SPECIALS_DOMAINS = "specialsDomains", this.SPECIALS_UNIVERSAL = "specialsUniversal", this.SPECIALS_HELLKNIGHT_ORDERS = "specialsHellknightOrders", this.SPECIALS_ACTIONS = "specialsActions" } TK.$metadata$ = { kind: p, simpleName: "TrainedOnlySkillChoice", interfaces: [] }, xK.prototype.setProficiencyForGroup_mqtggg$ = function (t, e, i, a, r) { if (!this.hashMapWeaponProficiencyByTypeForGroup.containsKey_11rb$(e)) { var n = this.hashMapWeaponProficiencyByTypeForGroup, s = new nK; n.put_xwzc9p$(e, s) } o(this.hashMapWeaponProficiencyByTypeForGroup.get_11rb$(e)).setProficiencyAtLevel_3m52m6$(a, i, r) }, xK.prototype.removeProficiencyForGroup_19mbxw$ = function (t, e) { this.hashMapWeaponProficiencyByTypeForGroup.containsKey_11rb$(t) && o(this.hashMapWeaponProficiencyByTypeForGroup.get_11rb$(t)).removeProficiencyAtLevel_61zpoe$(e) }, xK.$metadata$ = { kind: p, simpleName: "WeaponGroupProficiency", interfaces: [] }, zK.prototype.clearSpecialsHashMap = function () { this.hashMapSpecials_0 = c(), this.bloodlineSet_0 = null, this.domainPowers_0 = null, this.researchFieldSet_0 = null }, zK.prototype.getListEligibleSpecials_n5645s$ = function (t, e, i) { var a, r = new Ya(this.dataControl); r.createSnapshot_vy76y1$(t, e); var n = u(); for (a = i.iterator(); a.hasNext();) { var o = a.next(); this.abstractCheck_0(t, r, o, e) && n.add_11rb$(o) } return n }, zK.prototype.abstractCheck_0 = function (t, e, i, a) { return this.specialRequirementMethods_0.isAvailable_ccotqj$(t, e, this.dataControl, a, i) }, zK.prototype.activateSelectedSpecialsOnLoad_vy76y1$ = function (t, e) { var i, a = c(); for (a.putAll_a2k3zr$(o(t.hashMapSpecialInformation[e - 1 | 0])), i = a.keys.iterator(); i.hasNext();) { var r = i.next(), n = t.getSpecialInformation_19mbxw$(e, r); this.activateSpecial_2yti0t$(this.dataControl, t, !0, r, n) } }, zK.prototype.activateSpecial_2yti0t$ = function (t, i, a, r, n) { var l, c; try { for (null != o(n).specialEffect && null != (l = n.specialEffect) && l.activateSpecial_4nh7z0$(t, i, a, n.level, n), c = n.hashMapSpecialChoices.keys.iterator(); c.hasNext();) { var p = c.next(); this.activateSpecialChoice_0(i, a, n, n.level, r, p) } } catch (t) { if (e.isType(t, at)) s(t); else { if (!e.isType(t, h)) throw t; s(t) } } }, zK.prototype.changeSpecialChoice_j1o53d$ = function (t, e, i, a, r) { var n = t.getSpecialInformation_19mbxw$(e, o(i)); this.activateSpecialChoice_0(t, !1, n, e, i, a), t.getCharacterData().addSpecialSelection_6hosri$(i, a, o(r)), this.activateSpecialChoice_0(t, !0, n, e, i, a), m(a, "Select Advanced Weapon") || this.dataControl.managerFeats.resetArmorWeaponFeats_vy76y1$(t, e) }, zK.prototype.activateSpecialChoice_0 = function (t, e, i, a, r, n) { var s, l = t.getCharacterData().getSpecialSelection_puj7f4$(o(r), n); if (null != l) { var c = o(i).getHashMapSpecialChoices_61zpoe$(n).get_11rb$(l); if (null != c) for (null != c.specialEffect && o(c.specialEffect).activateSpecial_4nh7z0$(this.dataControl, t, e, a, c), s = c.hashMapSpecialChoices.keys.iterator(); s.hasNext();) { var p = s.next(); this.activateSpecialChoice_0(t, e, c, a, l, p) } e || t.getCharacterData().removeSpecialSelection_puj7f4$(r, n) } }, zK.prototype.getHellknightOrderSet = function () { var t; return null == this.hellknightOrderSet_0 && (this.hellknightOrderSet_0 = this.loaderSet_0.getHellknightOrderSet()), null != (t = this.hellknightOrderSet_0) ? t : new pX }, zK.prototype.getBloodlineSet = function () { var t, e; if (null == this.bloodlineSet_0) { this.bloodlineSet_0 = this.loaderSet_0.getBloodlineSet(); var i = c(); for (t = o(this.bloodlineSet_0).list.iterator(); t.hasNext();) { var a = t.next(), r = HX(); r.name = a.name, r.textDescription = a.description, r.src = a.src, r.url = a.url; var n = a.name; i.put_xwzc9p$(n, r) } var s = this.hashMapSpecials_0, l = BK().SPECIALS_SORCERER_BLOODLINES; s.put_xwzc9p$(l, i) } return null != (e = this.bloodlineSet_0) ? e : new QK }, zK.prototype.getSpecials_61zpoe$ = function (t) { var e; if (!this.hashMapSpecials_0.containsKey_11rb$(t)) if (m(t, BK().SPECIALS_SORCERER_BLOODLINES)) this.getBloodlineSet(); else { var i = this.hashMapSpecials_0, a = this.loaderSet_0.getSpecials_61zpoe$(t); i.put_xwzc9p$(t, a) } return null != (e = this.hashMapSpecials_0.get_11rb$(t)) ? e : c() }, zK.prototype.getCopyOfSpecials_61zpoe$ = function (t) { var e, i = c(), a = this.getSpecials_61zpoe$(t); if (null != a && !a.isEmpty()) for (e = a.keys.iterator(); e.hasNext();) { var r = e.next(), n = UX(a.get_11rb$(r)); i.put_xwzc9p$(r, n) } return i }, zK.prototype.getDomainPowers = function () { return null == this.domainPowers_0 && (this.domainPowers_0 = new tX(this.loaderSet_0.getDomainSet())), o(this.domainPowers_0) }, zK.prototype.getResearchFieldSet = function () { return null == this.researchFieldSet_0 && (this.researchFieldSet_0 = this.loaderSet_0.getResearchFieldSet()), o(this.researchFieldSet_0) }, OK.prototype.hasSpecialByLevel_o7aqax$ = function (t, e, i) { for (var a, r, n, s, l = e.toLowerCase(), c = 0; c < i; c++) { for (a = o(t.hashMapSpecialInformation[c]).keys.iterator(); a.hasNext();) { var p = a.next(), h = o(t.hashMapSpecialInformation[c]).get_11rb$(p); if (m(o(o(h).name).toLowerCase(), l)) return !0; for (r = h.hashMapSpecialChoices.keys.iterator(); r.hasNext();) { var d = r.next(), u = t.getCharacterData().getSpecialSelection_puj7f4$(p, d); if (null != u && m(u.toLowerCase(), l)) return !0 } } for (n = t.hashMapAwardedPowers.values.iterator(); n.hasNext();) { var _ = n.next(); if (_.level <= i && m(_.name.toLowerCase(), l)) return !0 } } for (s = t.hashMapCharacterFlags.values.iterator(); s.hasNext();) { var f = s.next(), y = i >= f.levelGained; if (y && (y = m(f.flagType.toLowerCase(), l)), y) return !0 } return !1 }, OK.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var FK = null; function BK() { return null === FK && new OK, FK } function jK() { UK(), this.name = "", this.field = "", this.infusions = "", this.potency = "", this.greaterField = "", this.perfection = "" } function HK() { qK = this, this.COLUMN_NAME = "name", this.COLUMN_FIELD = "field", this.COLUMN_INFUSIONS = "infusions", this.COLUMN_POTENCY = "potency", this.COLUMN_GREATERFIELD = "greaterField", this.COLUMN_PERFECTION = "perfection", this.RESEARCH_NONE = 0, this.RESEARCH_BOMBER = 1, this.RESEARCH_CHIRUGEON = 2, this.RESEARCH_MUTAGENIST = 3, this.RESEARCH_TOXICOLOGIST = 4 } zK.$metadata$ = { kind: p, simpleName: "ManagerSpecials", interfaces: [W0] }, HK.prototype.setCharacterBuildResearchField_cyt1w7$ = function (t, e) { m(e, "Bomber") ? t.researchField = 1 : m(e, "Chirurgeon") ? t.researchField = 2 : m(e, "Mutagenist") ? t.researchField = 3 : m(e, "Toxicologist") ? t.researchField = 4 : t.researchField = 0 }, HK.prototype.getResearchField_da1wpt$ = function (t, e) { var i = HX(); return i.name = "Field Discovery (" + t + ")", i.level = 5, i.textDescription = e.field, i }, HK.prototype.getResearchInfusion_da1wpt$ = function (t, e) { var i = HX(); return i.name = "Perpetual Infusions (" + t + ")", i.level = 7, i.textDescription = e.infusions, i }, HK.prototype.getResearchPotency_da1wpt$ = function (t, e) { var i = HX(); return i.name = "Perpetual Potency (" + t + ")", i.level = 11, i.textDescription = e.potency, i }, HK.prototype.getResearchGreater_da1wpt$ = function (t, e) { var i = HX(); return i.name = "Greater Field Discovery (" + t + ")", i.level = 13, i.textDescription = e.greaterField, i }, HK.prototype.getResearchPerpetual_da1wpt$ = function (t, e) { var i = HX(); return i.name = "Perpetual Perfection (" + t + ")", i.level = 17, i.textDescription = e.perfection, i }, HK.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var qK = null; function UK() { return null === qK && new HK, qK } function GK() { this.list = u(), this.hashMap = c() } function WK() { YK = this, this.hashMapArcaneSchoolPowers = c(), this.hashMapAdvancedArcaneSchoolPowers = c(), this.hashMapArcaneSchoolPowers.put_xwzc9p$("Abjuration", "Protective Ward"), this.hashMapArcaneSchoolPowers.put_xwzc9p$("Conjuration", "Augment Summoning"), this.hashMapArcaneSchoolPowers.put_xwzc9p$("Divination", "Diviner's Sight"), this.hashMapArcaneSchoolPowers.put_xwzc9p$("Enchantment", "Charming Words"), this.hashMapArcaneSchoolPowers.put_xwzc9p$("Evocation", "Force Bolt"), this.hashMapArcaneSchoolPowers.put_xwzc9p$("Illusion", "Warped Terrain"), this.hashMapArcaneSchoolPowers.put_xwzc9p$("Necromancy", "Call of the Grave"), this.hashMapArcaneSchoolPowers.put_xwzc9p$("Transmutation", "Physical Boost"), this.hashMapAdvancedArcaneSchoolPowers.put_xwzc9p$("Abjuration", "Energy Absorption"), this.hashMapAdvancedArcaneSchoolPowers.put_xwzc9p$("Conjuration", "Dimensional Steps"), this.hashMapAdvancedArcaneSchoolPowers.put_xwzc9p$("Divination", "Vigilant Eye"), this.hashMapAdvancedArcaneSchoolPowers.put_xwzc9p$("Enchantment", "Dread Aura"), this.hashMapAdvancedArcaneSchoolPowers.put_xwzc9p$("Evocation", "Elemental Tempest"), this.hashMapAdvancedArcaneSchoolPowers.put_xwzc9p$("Illusion", "Invisibility Cloak"), this.hashMapAdvancedArcaneSchoolPowers.put_xwzc9p$("Necromancy", "Life Siphon"), this.hashMapAdvancedArcaneSchoolPowers.put_xwzc9p$("Transmutation", "Shifting Form"), this.ELEMENTAL_SCHOOLS = g([$("Air", "Updraft"), $("Earth", "Crushing Ground"), $("Fire", "Wildfire"), $("Water", "Rising Surf")]), this.ELEMENTAL_SCHOOLS_ADVANCED = g([$("Air", "Powerful Inhalation"), $("Earth", "Stone Lance"), $("Fire", "Combustion"), $("Water", "Pulverizing Cascade")]) } jK.$metadata$ = { kind: p, simpleName: "ResearchField", interfaces: [] }, GK.prototype.createHashMap = function () { var t; for (t = this.list.iterator(); t.hasNext();) { var e = t.next(), i = this.hashMap, a = e.name; i.put_xwzc9p$(a, e) } }, GK.$metadata$ = { kind: p, simpleName: "ResearchFieldSet", interfaces: [] }, WK.$metadata$ = { kind: f, simpleName: "ArcanePowers", interfaces: [] }; var YK = null; function VK() { return null === YK && new WK, YK } function KK() { ZK(), this.name = "", this.spellList = 0, this.skill1 = "", this.skill2 = "", this.sCantrip = "", this.s1st = "", this.s2nd = "", this.s3rd = "", this.s4th = "", this.s5th = "", this.s6th = "", this.s7th = "", this.s8th = "", this.s9th = "", this.initialSpell = "", this.advancedSpell = "", this.greaterSpell = "", this.bloodMagic = "", this.description = "", this.src = "CRB", this.url = "" } function XK() { JK = this, this.COLUMN_NAME = "name", this.COLUMN_SPELLLIST = "spellList", this.COLUMN_SKILL1 = "skill1", this.COLUMN_SKILL2 = "skill2", this.COLUMN_SCANTRIP = "sCantrip", this.COLUMN_S1ST = "s1st", this.COLUMN_S2ND = "s2nd", this.COLUMN_S3RD = "s3rd", this.COLUMN_S4TH = "s4th", this.COLUMN_S5TH = "s5th", this.COLUMN_S6TH = "s6th", this.COLUMN_S7TH = "s7th", this.COLUMN_S8TH = "s8th", this.COLUMN_S9TH = "s9th", this.COLUMN_INITIALSPELL = "initialSpell", this.COLUMN_ADVANCEDSPELL = "advancedSpell", this.COLUMN_GREATERSPELL = "greaterSpell", this.COLUMN_BLOODMAGIC = "bloodMagic", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SRC = "src", this.COLUMN_URL = "url" } KK.prototype.getBonusSpell_za3lpa$ = function (t) { switch (t) { case 0: return this.sCantrip; case 1: return this.s1st; case 2: return this.s2nd; case 3: return this.s3rd; case 4: return this.s4th; case 5: return this.s5th; case 6: return this.s6th; case 7: return this.s7th; case 8: return this.s8th; case 9: return this.s9th }return this.s1st }, XK.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var JK = null; function ZK() { return null === JK && new XK, JK } function QK() { this.list = u(), this.hashMap = c() } function tX(t) { var e; for (this.hashMapInitialDomainPowers = c(), this.hashMapAdvancedDomainPowers = c(), e = t.list.iterator(); e.hasNext();) { var i = e.next(), a = this.hashMapInitialDomainPowers, r = i.name, n = i.spell; a.put_xwzc9p$(r, n); var o = this.hashMapAdvancedDomainPowers, s = i.name, l = i.advancedSpell; o.put_xwzc9p$(s, l) } } function eX() { rX(), this.name = "", this.spell = "", this.advancedSpell = "" } function iX() { aX = this, this.COLUMN_NAME = "name", this.COLUMN_SPELL = "spell", this.COLUMN_ADVANCED_SPELL = "advancedSpell" } KK.$metadata$ = { kind: p, simpleName: "Bloodline", interfaces: [] }, QK.prototype.createHashMap = function () { var t; for (t = this.list.iterator(); t.hasNext();) { var e = t.next(), i = this.hashMap, a = e.name; i.put_xwzc9p$(a, e) } }, QK.$metadata$ = { kind: p, simpleName: "BloodlineSet", interfaces: [] }, tX.$metadata$ = { kind: p, simpleName: "DomainPowers", interfaces: [] }, iX.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var aX = null; function rX() { return null === aX && new iX, aX } function nX() { this.list = u(), this.hashMap = c() } function oX() { cX(), this.name = "", this.lesserName = "", this.lesserAction = -2, this.lesserTraits = "", this.lesserDescription = "", this.greaterName = "", this.greaterAction = -2, this.greaterTraits = "", this.greaterDescription = "", this.description = "", this.listWeapons = u(), this.src = "", this.url = "" } function sX() { lX = this, this.COLUMN_NAME = "name", this.COLUMN_LESSER_NAME = "lesserName", this.COLUMN_LESSER_ACTION = "lesserAction", this.COLUMN_LESSER_TRAITS = "lesserTraits", this.COLUMN_LESSER_DESCRIPTION = "lesserDescription", this.COLUMN_GREATER_NAME = "greaterName", this.COLUMN_GREATER_ACTION = "greaterAction", this.COLUMN_GREATER_TRAITS = "greaterTraits", this.COLUMN_GREATER_DESCRIPTION = "greaterDescription", this.COLUMN_DESCRIPTION = "description", this.COLUMN_WEAPON = "weapon", this.COLUMN_SRC = "src", this.COLUMN_URL = "url" } eX.$metadata$ = { kind: p, simpleName: "Domain", interfaces: [] }, nX.prototype.createHashMap = function () { var t; for (t = this.list.iterator(); t.hasNext();) { var e = t.next(), i = this.hashMap, a = e.name; i.put_xwzc9p$(a, e) } }, nX.$metadata$ = { kind: p, simpleName: "DomainSet", interfaces: [] }, sX.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var lX = null; function cX() { return null === lX && new sX, lX } function pX() { this.list = u(), this.hashMapLesserOrderAbilityEffects = c(), this.hashMapGreaterOrderAbilityEffects = c(), this.hashMap = c() } function hX() { } function dX() { uX = this, this.HYBRID_STUDY_SPELLS = g([$("Inexorable Iron", "Thunderous Strike"), $("Laughing Shadow", "Dimensional Assault"), $("Sparkling Targe", "Shielding Strike"), $("Starlit Span", "Shooting Star"), $("Twisting Tree", "Spinning Staff")]) } oX.$metadata$ = { kind: p, simpleName: "HellknightOrder", interfaces: [] }, hX.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, o(r).name + "lesser ability", "CLERIC_Domain Initiate", se().FEATS_CLERIC, a) }, hX.$metadata$ = { kind: p, interfaces: [xX] }, pX.prototype.createHashMap = function () { var t; for (t = this.list.iterator(); t.hasNext();) { var e = t.next(), i = this.hashMap, a = e.name; i.put_xwzc9p$(a, e) } var r = this.hashMapLesserOrderAbilityEffects, n = new hX; r.put_xwzc9p$("Order of the Godclaw", n) }, pX.$metadata$ = { kind: p, simpleName: "HellknightOrderSet", interfaces: [] }, dX.prototype.addConfluxSpell_scx9ky$ = function (t, e, i, a) { var r = _X().HYBRID_STUDY_SPELLS.get_11rb$(a); null != r && re().addAwardedPower_ujte31$(e, t, "Hybrid Study", P0(r, i, 1)) }, dX.$metadata$ = { kind: f, simpleName: "HybridStudyMaps", interfaces: [] }; var uX = null; function _X() { return null === uX && new dX, uX } function fX() { $X(), this.spokenBy = "", this.type = 0 } function yX() { mX = this, this.TABLE_NAME = "languages", this.COLUMN_NAME = "name", this.COLUMN_SPOKEN_BY = "spoken_by", this.COLUMN_TYPE = "type", this.LANGUAGE_TYPE_COMMON = 0, this.LANGUAGE_TYPE_UNCOMMON = 1, this.LANGUAGE_TYPE_RARE = 2, this.LANGUAGE_TYPE_SECRET = 3, this.DIALECT_TRIGGER = "Pathbuilder Custom Dialect " } yX.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var mX = null; function $X() { return null === mX && new yX, mX } function gX() { vX = this, this.MYSTERY_DOMAINS = g([$("Ancestors", new S9("Death", "Family")), $("Battle", new S9("Might", "Zeal")), $("Bones", new S9("Death", "Undeath")), $("Cosmos", new S9("Darkness", "Moon")), $("Flames", new S9("Fire", "Sun")), $("Life", new S9("Death", "Healing")), $("Lore", new S9("Knowledge", "Truth")), $("Tempest", new S9("Air", "Water"))]), this.MYSTERY_ADVANCED_GREATER = g([$("Ancestors", new S9("Ancestral Defense", "Ancestral Form")), $("Battle", new S9("Battlefield Persistence", "Heroic Feat")), $("Bones", new S9("Armor of Bones", "Claim Undead")), $("Cosmos", new S9("Interstellar Void", "Moonlight Bridge")), $("Flames", new S9("Whirling Flames", "Flaming Fusillade")), $("Life", new S9("Delay Affliction", "Life-Giving Form")), $("Lore", new S9("Access Lore", "Dread Secret")), $("Tempest", new S9("Thunderburst", "Tempest Form"))]), this.MYSTERY_INITIAL = g([$("Ancestors", "Ancestral Touch"), $("Battle", "Call to Arms"), $("Bones", "Soul Siphon"), $("Cosmos", "Spray of Stars"), $("Flames", "Incendiary Aura"), $("Life", "Life Link"), $("Lore", "Brain Drain"), $("Tempest", "Tempest Touch")]), this.MYSTERY_SKILLS = g([$("Ancestors", pK().SOCIETY), $("Battle", pK().ATHELTICS), $("Bones", pK().MEDICINE), $("Cosmos", pK().NATURE), $("Flames", pK().ACROBATICS), $("Life", pK().MEDICINE), $("Lore", pK().OCCULTISM), $("Tempest", pK().NATURE)]) } fX.$metadata$ = { kind: p, simpleName: "LanguageInformation", interfaces: [] }, gX.$metadata$ = { kind: f, simpleName: "MysteryMaps", interfaces: [] }; var vX = null; function SX() { return null === vX && new gX, vX } function CX() { EX = this, this.PATRON_SKILLS = g([$("Curse", pK().OCCULTISM), $("Fate", pK().OCCULTISM), $("Fervor", pK().RELIGION), $("Night", pK().OCCULTISM), $("Rune", pK().ARCANA), $("Wild", pK().NATURE), $("Winter", pK().NATURE), $("Baba Yaga", pK().OCCULTISM), $("Mosquito Witch", pK().NATURE)]), this.PATRON_SPELL_LISTS = g([$("Curse", 2), $("Fate", 2), $("Fervor", 1), $("Night", 2), $("Rune", 0), $("Wild", 3), $("Winter", 3), $("Baba Yaga", 2), $("Mosquito Witch", 3)]) } CX.$metadata$ = { kind: f, simpleName: "PatronMaps", interfaces: [] }; var EX = null; function AX() { return null === EX && new CX, EX } function bX(t) { this.precisionType = t, this.hashMapSneakAttacks = c(), this.hashMapFlatBonuses = c() } function IX() { TX(), this.levelStart = 1, this.resistanceType = TX().RESISTANCE_PHYSICAL, this.amount = 0, this.isHalfLevel = !1, this.fullLevelFrom = 21, this.halfLevelFrom = 21, this.increaseAmountFromLevek = c() } function wX() { LX = this, this.RESISTANCE_COLD = "cold", this.RESISTANCE_MENTAL = "mental", this.RESISTANCE_FIRE = "fire", this.RESISTANCE_ELECTRICITY = "electricity", this.RESISTANCE_ACID = "acid", this.RESISTANCE_SONIC = "sonic", this.RESISTANCE_POISON = "poison", this.RESISTANCE_NEGATIVE = "negative", this.RESISTANCE_PHYSICAL = "physical", this.RESISTANCE_SLASHING = "slashing", this.RESISTANCE_PIERCING = "piercing", this.RESISTANCE_BLUDGEONING = "bludgeoning", this.RESISTANCE_POSITIVE = "positive", this.RESISTANCE_FORCE = "force", this.RESISTANCE_PRECISION = "precision" } bX.prototype.addFlatBonus_vux9f0$ = function (t, e) { this.hashMapFlatBonuses.put_xwzc9p$(t, e) }, bX.prototype.addSneakAttackAtLevel_qt1dr2$ = function (t, e, i) { var a = this.hashMapSneakAttacks, r = bo(e, i); a.put_xwzc9p$(t, r) }, bX.prototype.getFlatBonusAtLevel_za3lpa$ = function (t) { var e, i = -1; for (e = this.hashMapFlatBonuses.keys.iterator(); e.hasNext();) { var a = e.next(); t >= a && a > i && (i = a) } return i > -1 && this.hashMapFlatBonuses.containsKey_11rb$(i) ? o(this.hashMapFlatBonuses.get_11rb$(i)) : 0 }, bX.prototype.getDiceAtLevel_za3lpa$ = function (t) { var e, i = -1; for (e = this.hashMapSneakAttacks.keys.iterator(); e.hasNext();) { var a = e.next(); t >= a && a > i && (i = a) } if (i > -1 && this.hashMapSneakAttacks.containsKey_11rb$(i)) { var r = this.hashMapSneakAttacks.get_11rb$(i); return bo(o(r).numDice, r.diceSize) } return null }, bX.$metadata$ = { kind: p, simpleName: "PrecisionDamage", interfaces: [] }, wX.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var LX = null; function TX() { return null === LX && new wX, LX } function kX(t, e, i, a) { return a = a || Object.create(IX.prototype), IX.call(a), a.levelStart = t, a.resistanceType = e, a.amount = i, a } function RX(t, e, i, a) { return a = a || Object.create(IX.prototype), IX.call(a), a.levelStart = t, a.resistanceType = e, a.isHalfLevel = i, a } function PX(t, e, i, a, r) { return r = r || Object.create(IX.prototype), IX.call(r), r.levelStart = t, r.resistanceType = e, r.isHalfLevel = i, r.amount = a, r } function MX() { NX = this, this.MAP_INITIAL = g([$("Conjuration", "Efficient Apport"), $("Enchantment", "Charming Touch"), $("Evocation", "Weapon Surge"), $("Illusion", "Veil of Confidence"), $("Necromancy", "Overstuff"), $("Transmutation", "Appearance of Wealth"), $("Abjuration", "Blind Ambition")]), this.MAP_ADVANCED = g([$("Conjuration", "Swamp of Sloth"), $("Enchantment", "Captivating Adoration"), $("Evocation", "Zeal for Battle"), $("Illusion", "Delusional Pride"), $("Necromancy", "Take its Course"), $("Transmutation", "Precious Metals"), $("Abjuration", "Competitive Edge")]), this.MAP_PROHIBITED1 = g([$("Conjuration", "Evocation"), $("Enchantment", "Necromancy"), $("Evocation", "Abjuration"), $("Illusion", "Conjuration"), $("Necromancy", "Abjuration"), $("Transmutation", "Enchantment"), $("Abjuration", "Evocation")]), this.MAP_PROHIBITED2 = g([$("Conjuration", "Illusion"), $("Enchantment", "Transmutation"), $("Evocation", "Conjuration"), $("Illusion", "Transmutation"), $("Necromancy", "Enchantment"), $("Transmutation", "Illusion"), $("Abjuration", "Necromancy")]) } IX.$metadata$ = { kind: p, simpleName: "Resistance", interfaces: [] }, MX.$metadata$ = { kind: f, simpleName: "RunelordMaps", interfaces: [] }; var NX = null; function DX() { return null === NX && new MX, NX } function xX() { } function zX() { jX(), this.name = null, this.level = 1, this.action = -2, this.textDescription = "", this.flags = null, this.src = Ic().BOOK_CRB, this.url = "https://2e.aonprd.com", this.hashMapOnTheFlyGenerators = null, this.hashMapSpecialChoices = c(), this.specialEffect = null } function OX() { } function FX() { BX = this, this.COLUMN_NAME = "name", this.COLUMN_LEVEL = "level", this.COLUMN_ACTIONS = "actions", this.COLUMN_TRAITS = "traits", this.COLUMN_TEXT_REQ = "text_req", this.COLUMN_TEXT_DESCRIP = "text_descrip", this.COLUMN_SRC = "src", this.COLUMN_URL = "url", this.SPECIAL_METHODS_FIGHTER = 0 } xX.$metadata$ = { kind: H, simpleName: "SpecialEffect", interfaces: [] }, zX.prototype.getHashMapSpecialChoices_61zpoe$ = function (t) { return null != this.hashMapOnTheFlyGenerators && o(this.hashMapOnTheFlyGenerators).containsKey_11rb$(t) ? o(o(this.hashMapOnTheFlyGenerators).get_11rb$(t)).generateHashMap() : o(this.hashMapSpecialChoices.get_11rb$(t)) }, zX.prototype.addOnTheFlyGenerator_f0hpa4$ = function (t, e) { null == this.hashMapOnTheFlyGenerators && (this.hashMapOnTheFlyGenerators = c()), o(this.hashMapOnTheFlyGenerators).put_xwzc9p$(t, e) }, OX.$metadata$ = { kind: H, simpleName: "OnTheFlyHashMapGenerator", interfaces: [] }, FX.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var BX = null; function jX() { return null === BX && new FX, BX } function HX(t) { return t = t || Object.create(zX.prototype), zX.call(t), t } function qX(t, e, i) { return i = i || Object.create(zX.prototype), zX.call(i), i.name = t, i.level = e, i } function UX(t, e) { return e = e || Object.create(zX.prototype), zX.call(e), e.name = o(t).name, e.level = o(t).level, e.action = o(t).action, e.textDescription = t.textDescription, e.flags = t.flags, e.src = t.src, e.url = t.url, e.hashMapSpecialChoices = t.hashMapSpecialChoices, e.specialEffect = t.specialEffect, e } function GX() { eJ(), this.hashMapRequirementMethods_0 = c(), this.setHashMap_0() } function WX() { } function YX() { } function VX() { } function KX() { } function XX() { } function JX() { } function ZX() { } function QX() { tJ = this } zX.$metadata$ = { kind: p, simpleName: "SpecialInformation", interfaces: [] }, WX.$metadata$ = { kind: H, simpleName: "SpecialRequirementMethod", interfaces: [] }, GX.prototype.isAvailable_ccotqj$ = function (t, e, i, a, r) { return !this.hashMapRequirementMethods_0.containsKey_11rb$(r) || o(this.hashMapRequirementMethods_0.get_11rb$(r)).isAvailable_2ttz6l$(t, e, i, a) }, YX.prototype.isAvailable_2ttz6l$ = function (t, e, i, a) { return eJ().hasTenetsOfGood_0(t) }, YX.$metadata$ = { kind: p, interfaces: [WX] }, VX.prototype.isAvailable_2ttz6l$ = function (t, e, i, a) { return eJ().hasTenetsOfGood_0(t) }, VX.$metadata$ = { kind: p, interfaces: [WX] }, KX.prototype.isAvailable_2ttz6l$ = function (t, e, i, a) { return eJ().hasTenetsOfGood_0(t) }, KX.$metadata$ = { kind: p, interfaces: [WX] }, XX.prototype.isAvailable_2ttz6l$ = function (t, e, i, a) { return eJ().hasTenetsOfEvil_0(t) }, XX.$metadata$ = { kind: p, interfaces: [WX] }, JX.prototype.isAvailable_2ttz6l$ = function (t, e, i, a) { return eJ().hasTenetsOfEvil_0(t) }, JX.$metadata$ = { kind: p, interfaces: [WX] }, ZX.prototype.isAvailable_2ttz6l$ = function (t, e, i, a) { return eJ().hasTenetsOfEvil_0(t) }, ZX.$metadata$ = { kind: p, interfaces: [WX] }, GX.prototype.setHashMap_0 = function () { var t = this.hashMapRequirementMethods_0, e = new YX; t.put_xwzc9p$("Paladin Cause", e); var i = this.hashMapRequirementMethods_0, a = new VX; i.put_xwzc9p$("Redeemer Cause", a); var r = this.hashMapRequirementMethods_0, n = new KX; r.put_xwzc9p$("Liberator Cause", n); var o = this.hashMapRequirementMethods_0, s = new XX; o.put_xwzc9p$("Antipaladin Cause", s); var l = this.hashMapRequirementMethods_0, c = new JX; l.put_xwzc9p$("Desecrator Cause", c); var p = this.hashMapRequirementMethods_0, h = new ZX; p.put_xwzc9p$("Tyrant Cause", h) }, QX.prototype.hasTenetsOfGood_0 = function (t) { var e = t.getCharacterData().getSpecialSelection_puj7f4$("Champion's Code", "Select Tenet"); return !(null == e || !m(e, "Tenets of Good")) || !(null == (e = t.getCharacterData().getSpecialSelection_puj7f4$("Champion Archetype Tenets", "Select Champion Archetype Tenet")) || !m(e, "Tenets of Good")) }, QX.prototype.hasTenetsOfEvil_0 = function (t) { var e = t.getCharacterData().getSpecialSelection_puj7f4$("Champion's Code", "Select Tenet"); return !(null == e || !m(e, "Tenets of Evil")) || !(null == (e = t.getCharacterData().getSpecialSelection_puj7f4$("Champion Archetype Tenets", "Select Champion Archetype Tenet")) || !m(e, "Tenets of Evil")) }, QX.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var tJ = null; function eJ() { return null === tJ && new QX, tJ } function iJ() { nJ = this } function aJ(t) { this.closure$name = t } function rJ() { } GX.$metadata$ = { kind: p, simpleName: "SpecialRequirementMethods", interfaces: [] }, aJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { oJ().setResearchFields_0(t, e, i, this.closure$name), i ? UK().setCharacterBuildResearchField_cyt1w7$(e, this.closure$name) : e.researchField = 0 }, aJ.$metadata$ = { kind: p, interfaces: [xX] }, rJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { oJ().setResearchFields_0(t, e, i, "Mutagenist"), i ? UK().setCharacterBuildResearchField_cyt1w7$(e, "Mutagenist") : e.researchField = 0, re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Mutagenist", a, BK().SPECIALS_UNIVERSAL, "Mutagenic Flashback") }, rJ.$metadata$ = { kind: p, interfaces: [xX] }, iJ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e, i = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_ALCHEMIST), a = o(i).get_11rb$("Research Field"), r = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_ALCHEMIST_RESEARCH_FIELDS); for (o(a).hashMapSpecialChoices.put_xwzc9p$("Select Research Field", r), e = r.keys.iterator(); e.hasNext();) { var n = e.next(); o(r.get_11rb$(n)).specialEffect = new aJ(n) } o(r.get_11rb$("Mutagenist")).specialEffect = new rJ }, iJ.prototype.setResearchFields_0 = function (t, i, a, r) { var n, s = t.managerSpecials.getResearchFieldSet().hashMap; if ((e.isType(n = s, y) ? n : d()).containsKey_11rb$(r)) { var l, c = t.managerSpecials.getResearchFieldSet().hashMap, p = (e.isType(l = c, y) ? l : d()).get_11rb$(r); re().addSpecialDirectly_9ogq3e$(a, i, "researchField", 5, UK().getResearchField_da1wpt$(o(r), o(p))), re().addSpecialDirectly_9ogq3e$(a, i, "researchInfusion", 7, UK().getResearchInfusion_da1wpt$(r, p)), re().addSpecialDirectly_9ogq3e$(a, i, "researchPotency", 11, UK().getResearchPotency_da1wpt$(r, p)), re().addSpecialDirectly_9ogq3e$(a, i, "researchGreater", 13, UK().getResearchGreater_da1wpt$(r, p)), re().addSpecialDirectly_9ogq3e$(a, i, "researchPerfection", 17, UK().getResearchPerpetual_da1wpt$(r, p)), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(i, 17, !1), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(i, 13, !1), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(i, 11, !1), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(i, 7, !1), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(i, 5, !0) } }, iJ.$metadata$ = { kind: f, simpleName: "SpecialsAlchemist", interfaces: [] }; var nJ = null; function oJ() { return null === nJ && new iJ, nJ } function sJ() { dJ = this } function lJ() { } function cJ(t) { this.closure$specialInformationParent = t } function pJ(t) { this.closure$specialInformationParent = t } function hJ() { } lJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addFeatChoice_afybq0$(i, t, e, se().FEATS_BARBARIAN + "Fury Instinct", Nu(se().FEATS_CLASS, 1, or().CLASS_BARBARIAN)) }, lJ.$metadata$ = { kind: p, interfaces: [xX] }, cJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_BARBARIAN_INSTINCT_ANIMAL); this.closure$specialInformationParent.hashMapSpecialChoices.put_xwzc9p$("Select Animal", n) } else this.closure$specialInformationParent.hashMapSpecialChoices.remove_11rb$("Select Animal") }, cJ.$metadata$ = { kind: p, interfaces: [xX] }, pJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_BARBARIAN_INSTINCT_DRAGON); this.closure$specialInformationParent.hashMapSpecialChoices.put_xwzc9p$("Select Dragon Type", n) } else this.closure$specialInformationParent.hashMapSpecialChoices.remove_11rb$("Select Dragon Type") }, pJ.$metadata$ = { kind: p, interfaces: [xX] }, hJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n; if (i) { var s = HX(); s.level = a, s.name = "Superstitious Instinct Raging Resistance", s.textDescription = "Select magic traditions."; var l = ["Arcane and Occult", "Arcane and Primal", "Divine and Occult", "Divine and Primal"], p = c(); for (n = 0; n !== l.length; ++n) { var h = l[n], d = qX(h, a); p.put_xwzc9p$(h, d) } s.hashMapSpecialChoices.put_xwzc9p$("Select magic traditions", p), o(e.hashMapSpecialInformation[8]).put_xwzc9p$("Superstitious Instinct Raging Resistance", s) } else { var u = o(e.hashMapSpecialInformation[8]).get_11rb$("Superstitious Instinct Raging Resistance"); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, "Superstitious Instinct Raging Resistance", u), o(e.hashMapSpecialInformation[8]).remove_11rb$("Superstitious Instinct Raging Resistance") } }, hJ.$metadata$ = { kind: p, interfaces: [xX] }, sJ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_BARBARIAN).get_11rb$("Instinct"), i = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_BARBARIAN_INSTINCTS); o(e).hashMapSpecialChoices.put_xwzc9p$("Select Instinct", i), o(i.get_11rb$("Fury Instinct")).specialEffect = new lJ, o(i.get_11rb$("Animal Instinct")).specialEffect = new cJ(e), o(i.get_11rb$("Dragon Instinct")).specialEffect = new pJ(e), o(i.get_11rb$("Superstitious Instinct")).specialEffect = new hJ }, sJ.$metadata$ = { kind: f, simpleName: "SpecialsBarbarian", interfaces: [] }; var dJ = null; function uJ() { return null === dJ && new sJ, dJ } function _J() { vJ = this } function fJ() { } function yJ() { } function mJ() { } function $J() { } function gJ(t, e, i) { this.closure$dataControl = t, this.closure$bonusSpell = e, S3(i, this) } _J.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_BARD).get_11rb$("Muses"), i = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_BARD_MUSES); o(e).hashMapSpecialChoices.put_xwzc9p$("Select Muse", i), this.setMuseSpecialEffects_9x91iy$(t, i) }, fJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Bardic Muse", "BARD_Bardic Lore", se().FEATS_BARD, a), 1 === a && SJ().addBonusSpell_0(t, e, "True Strike", i) }, fJ.$metadata$ = { kind: p, interfaces: [xX] }, yJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Bardic Muse", "BARD_Lingering Composition", se().FEATS_BARD, a), 1 === a && SJ().addBonusSpell_0(t, e, "Soothe", i) }, yJ.$metadata$ = { kind: p, interfaces: [xX] }, mJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Bardic Muse", "BARD_Versatile Performance", se().FEATS_BARD, a), 1 === a && SJ().addBonusSpell_0(t, e, "Unseen Servant", i) }, mJ.$metadata$ = { kind: p, interfaces: [xX] }, $J.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Bardic Muse", "BARD_Martial Performance", se().FEATS_BARD, a), 1 === a && SJ().addBonusSpell_0(t, e, "Fear", i) }, $J.$metadata$ = { kind: p, interfaces: [xX] }, _J.prototype.setMuseSpecialEffects_9x91iy$ = function (t, e) { var i = e.get_11rb$("Enigma"); o(i).specialEffect = new fJ, i = e.get_11rb$("Maestro"), o(i).specialEffect = new yJ, i = e.get_11rb$("Polymath"), o(i).specialEffect = new mJ, i = e.get_11rb$("Warrior"), o(i).specialEffect = new $J }, gJ.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { var i = u(), a = this.closure$dataControl.managerSpells.hashMapSpells.get_11rb$(this.closure$bonusSpell); return null != a && i.add_11rb$(a), i }, gJ.$metadata$ = { kind: p, interfaces: [v3] }, _J.prototype.addBonusSpell_0 = function (t, e, i, a) { var r, n = hr().CLASS_BARD + "Bonus" + 1..toString(); if (null != (r = e.hashMapSpellCasters.get_11rb$(hr().CLASS_BARD))) { var o = r; if (a) { var s = new gJ(t, i, 1); s.addSpellPerDay = !1, s.header = "Muse Spell", o.getHashMapBonusSpell_fhac18$(t, e).put_xwzc9p$(n, s) } else o.getHashMapBonusSpell_fhac18$(t, e).remove_11rb$(n) } }, _J.$metadata$ = { kind: f, simpleName: "SpecialsBard", interfaces: [] }; var vJ = null; function SJ() { return null === vJ && new _J, vJ } function CJ() { kJ = this } function EJ() { } function AJ() { } function bJ() { } function IJ() { } function wJ() { } function LJ() { } function TJ() { } EJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAnimalCompanion_dlg1vj$(i, t, e, "Divine Ally", a) }, EJ.$metadata$ = { kind: p, interfaces: [xX] }, AJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Retributive Strike"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause Smite", 9, BK().SPECIALS_CHAMPION_REACTIONS, "Divine Smite (Paladin)"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause Exalt", 11, BK().SPECIALS_CHAMPION_REACTIONS, "Exalt (Paladin)"), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 9, !1), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 11, !1), re().addAwardedPower_ujte31$(i, e, "Paladin Cause", P0("Lay on Hands", 1, 1)), re().increaseFocusPoints_sfpo92$(i, e, "Paladin Cause", DW(a, 1)) }, AJ.$metadata$ = { kind: p, interfaces: [xX] }, bJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Glimpse of Redemption"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause Smite", 9, BK().SPECIALS_CHAMPION_REACTIONS, "Divine Smite (Redeemer)"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause Exalt", 11, BK().SPECIALS_CHAMPION_REACTIONS, "Exalt (Redeemer)"), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 9, !1), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 11, !1), re().addAwardedPower_ujte31$(i, e, "Paladin Cause", P0("Lay on Hands", 1, 1)), re().increaseFocusPoints_sfpo92$(i, e, "Paladin Cause", DW(a, 1)) }, bJ.$metadata$ = { kind: p, interfaces: [xX] }, IJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Liberating Step"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause Smite", 9, BK().SPECIALS_CHAMPION_REACTIONS, "Divine Smite (Liberator)"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Champion Cause Exalt", 11, BK().SPECIALS_CHAMPION_REACTIONS, "Exalt (Liberator)"), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 9, !1), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 11, !1), re().addAwardedPower_ujte31$(i, e, "Paladin Cause", P0("Lay on Hands", 1, 1)), re().increaseFocusPoints_sfpo92$(i, e, "Paladin Cause", DW(a, 1)) }, IJ.$metadata$ = { kind: p, interfaces: [xX] }, wJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Antipaladin Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Destructive Vengeance"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Antipaladin Cause Smite", 9, BK().SPECIALS_CHAMPION_REACTIONS, "Divine Smite (Antipaladin)"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Antipaladin Cause Exalt", 11, BK().SPECIALS_CHAMPION_REACTIONS, "Exalt (Antipaladin)"), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 9, !1), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 11, !1), re().addAwardedPower_ujte31$(i, e, "Antipaladin Cause", P0("Touch of Corruption", 1, 1)), re().increaseFocusPoints_sfpo92$(i, e, "Antipaladin Cause", DW(a, 1)) }, wJ.$metadata$ = { kind: p, interfaces: [xX] }, LJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Desecrator Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Selfish Shield"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Desecrator Cause Smite", 9, BK().SPECIALS_CHAMPION_REACTIONS, "Divine Smite (Desecrator)"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Desecrator Cause Exalt", 11, BK().SPECIALS_CHAMPION_REACTIONS, "Exalt (Desecrator)"), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 9, !1), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 11, !1), re().addAwardedPower_ujte31$(i, e, "Desecrator Cause", P0("Touch of Corruption", 1, 1)), re().increaseFocusPoints_sfpo92$(i, e, "Desecrator Cause", DW(a, 1)) }, LJ.$metadata$ = { kind: p, interfaces: [xX] }, TJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Tyrant Cause", a, BK().SPECIALS_CHAMPION_REACTIONS, "Iron Command"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Tyrant Cause Smite", 9, BK().SPECIALS_CHAMPION_REACTIONS, "Divine Smite (Tyrant)"), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Tyrant Cause Exalt", 11, BK().SPECIALS_CHAMPION_REACTIONS, "Exalt (Tyrant)"), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 9, !1), t.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(e, 11, !1), re().addAwardedPower_ujte31$(i, e, "Tyrant Cause", P0("Touch of Corruption", 1, 1)), re().increaseFocusPoints_sfpo92$(i, e, "Tyrant Cause", DW(a, 1)) }, TJ.$metadata$ = { kind: p, interfaces: [xX] }, CJ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_CHAMPION), i = o(e).get_11rb$("Divine Ally"), a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_CHAMPION_DIVINE_ALLY); o(a.get_11rb$("Divine Ally (Steed)")).specialEffect = new EJ; var r = a; o(i).hashMapSpecialChoices.put_xwzc9p$("Select Divine Ally", r); var n = e.get_11rb$("Champion's Code"), s = a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_CHAMPION_TENETS); o(n).hashMapSpecialChoices.put_xwzc9p$("Select Tenet", s); var l = e.get_11rb$("Deity and Cause"); a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_CHAMPION_CAUSES), o(a.get_11rb$("Paladin Cause")).specialEffect = new AJ, o(a.get_11rb$("Redeemer Cause")).specialEffect = new bJ, o(a.get_11rb$("Liberator Cause")).specialEffect = new IJ, o(a.get_11rb$("Antipaladin Cause")).specialEffect = new wJ, o(a.get_11rb$("Desecrator Cause")).specialEffect = new LJ, o(a.get_11rb$("Tyrant Cause")).specialEffect = new TJ; var c = a; o(l).hashMapSpecialChoices.put_xwzc9p$("Select Cause", c) }, CJ.$metadata$ = { kind: f, simpleName: "SpecialsChampion", interfaces: [] }; var kJ = null; function RJ() { return null === kJ && new CJ, kJ } function PJ() { OJ = this, this.CLERIC_DOCTRINE_SPECIAL_REF = "Doctrine", this.CLERIC_DOCTRINE_SPECIAL_CHOICE = "Select Doctrine", this.CLERIC_FONT_SPECIAL_REF = "Divine Font", this.CLERIC_FONT_SPECIAL_CHOICE = "Select Font" } function MJ() { } function NJ() { } function DJ() { } function xJ() { } function zJ(t, e) { this.closure$weaponInformation = t, this.closure$warpriest = e } MJ.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var o; if (t.getGuiUpdateControl().finishedLoading_n40yp2$(i) && a) { var s = null == (o = i.hashMapSpellCasters.get_11rb$(j3().CASTER_CLERIC_FONT)) || e.isType(o, z3) ? o : d(); null != s && s.resetBonusSpellsOnFontChange_5btbp7$(i) } }, MJ.$metadata$ = { kind: p, interfaces: [xX] }, NJ.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var o; if (t.getGuiUpdateControl().finishedLoading_n40yp2$(i) && a) { var s = null == (o = i.hashMapSpellCasters.get_11rb$(j3().CASTER_CLERIC_FONT)) || e.isType(o, z3) ? o : d(); null != s && s.resetBonusSpellsOnFontChange_5btbp7$(i) } }, NJ.$metadata$ = { kind: p, interfaces: [xX] }, DJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().increaseFocusPoints_sfpo92$(i, e, "Cloistered Cleric", zW(a, 1, !0)), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Cloistered Cleric 1", "CLERIC_Domain Initiate", se().FEATS_CLERIC, 1), re().setProficiencyAtLevel_8d16k4$(i, e, "Cloistered Cleric 2", 3, pK().PROFICIENCY_FORTITUDE, 4), re().setProficiencyAtLevel_8d16k4$(i, e, "Cloistered Cleric 3", 7, pK().PROFICIENCY_SPELLS_DIVINE, 4), re().setIndividualWeaponProficiency_ivgu3l$(i, t, e, "Docrine 4", 11, e.favouredWeapon, 4), re().setProficiencyAtLevel_8d16k4$(i, e, "Cloistered Cleric 5", 15, pK().PROFICIENCY_SPELLS_DIVINE, 6), re().setProficiencyAtLevel_8d16k4$(i, e, "Cloistered Cleric 6", 19, pK().PROFICIENCY_SPELLS_DIVINE, 8), FJ().addDeityFavoredWeapon_0(t, r, !1) }, DJ.$metadata$ = { kind: p, interfaces: [xX] }, xJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Shield Block", "GENERAL_Shield Block", se().FEATS_GENERAL, 1), re().setProficiencyAtLevel_8d16k4$(i, e, "Doctrine 1", 1, pK().PROFICIENCY_LIGHT_ARMOR, 2), re().setProficiencyAtLevel_8d16k4$(i, e, "Doctrine 1a", 1, pK().PROFICIENCY_MEDIUM_ARMOR, 2), re().setProficiencyAtLevel_8d16k4$(i, e, "Doctrine 1c", 1, pK().PROFICIENCY_FORTITUDE, 4), re().setProficiencyAtLevel_8d16k4$(i, e, "Doctrine 1d", 13, pK().PROFICIENCY_LIGHT_ARMOR, 4), re().setProficiencyAtLevel_8d16k4$(i, e, "Doctrine 1e", 13, pK().PROFICIENCY_MEDIUM_ARMOR, 4), re().setProficiencyAtLevel_8d16k4$(i, e, "Doctrine 2", 3, pK().PROFICIENCY_MARTIAL_WEAPONS, 2), re().setProficiencyAtLevel_8d16k4$(i, e, "Doctrine 4", 11, pK().PROFICIENCY_SPELLS_DIVINE, 4), re().setProficiencyAtLevel_8d16k4$(i, e, "Doctrine 5", 15, pK().PROFICIENCY_FORTITUDE, 6), re().setProficiencyAtLevel_8d16k4$(i, e, "Doctrine 6", 19, pK().PROFICIENCY_SPELLS_DIVINE, 6), FJ().addDeityFavoredWeapon_0(t, r, !0) }, xJ.$metadata$ = { kind: p, interfaces: [xX] }, PJ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_CLERIC), i = e.get_11rb$(this.CLERIC_FONT_SPECIAL_REF), a = o(i).hashMapSpecialChoices, r = this.CLERIC_FONT_SPECIAL_CHOICE, n = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_CLERIC_FONTS); a.put_xwzc9p$(r, n), o(o(i.hashMapSpecialChoices.get_11rb$(this.CLERIC_FONT_SPECIAL_CHOICE)).get_11rb$("Harmful Font")).specialEffect = new MJ, o(o(i.hashMapSpecialChoices.get_11rb$(this.CLERIC_FONT_SPECIAL_CHOICE)).get_11rb$("Healing Font")).specialEffect = new NJ, i = e.get_11rb$(this.CLERIC_DOCTRINE_SPECIAL_REF); var s = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_CLERIC_DOCTRINES); o(s.get_11rb$("Cloistered Cleric")).specialEffect = new DJ, o(s.get_11rb$("Warpriest")).specialEffect = new xJ; var l = o(i).hashMapSpecialChoices, c = this.CLERIC_DOCTRINE_SPECIAL_CHOICE; l.put_xwzc9p$(c, s) }, PJ.prototype.getDoctrine_0 = function (t) { var e = t.getCharacterData().getSpecialSelection_puj7f4$("Doctrine", "Select Doctrine"); return null != e ? e : "" }, zJ.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { if (a) { if (t.managerWeapons.addIndividualWeaponProficiency_6pn2aj$(i, "Deity Favored Weapon", this.closure$weaponInformation.uniqueIdentiier, r, 2), i.favouredWeapon = o(o(n).name), null != i.favouredWeapon) if (this.closure$warpriest) try { 0 === t.managerWeapons.getWeaponProficiencyType_zici4a$(i, i.favouredWeapon, r) && t.managerFeats.activateAndAddFreeFeat_ubuv6q$(i, !0, "Warpriest Deity Favored Weapon", "CLERIC_Deadly Simplicity", se().FEATS_CLERIC, r), re().setIndividualWeaponProficiency_ivgu3l$(a, t, i, "Warpriest Deity Favored Weapon", 7, i.favouredWeapon, 4) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } else try { re().setIndividualWeaponProficiency_ivgu3l$(a, t, i, "Cloistered Cleric Deity Favored Weapon", 11, i.favouredWeapon, 4) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } else { if (null != i.favouredWeapon && this.closure$warpriest) try { null != t.managerWeapons.hashMapWeapons.get_11rb$(i.favouredWeapon) && 0 === t.managerWeapons.getWeaponProficiencyType_zici4a$(i, i.favouredWeapon, r) && t.managerFeats.activateAndAddFreeFeat_ubuv6q$(i, !1, "Warpriest Deity Favored Weapon", "CLERIC_Deadly Simplicity", se().FEATS_CLERIC, r), re().setIndividualWeaponProficiency_ivgu3l$(a, t, i, "Warpriest Deity Favored Weapon", 7, i.favouredWeapon, 4) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } t.managerWeapons.removeIndividualWeaponProficiency_6e5y5h$(i, "Deity Favored Weapon", o(n).name) } }, zJ.$metadata$ = { kind: p, interfaces: [xX] }, PJ.prototype.addDeityFavoredWeapon_0 = function (t, e, i) { var a, r = c(); for (o(e).hashMapSpecialChoices.put_xwzc9p$("Select Deity's Favored Weapon", r), a = t.managerWeapons.hashMapWeapons.values.iterator(); a.hasNext();) { var n = a.next(); if (null == n.identity) { var s = qX(n.name, 1); s.url = n.url, s.specialEffect = new zJ(n, i); var l = o(n.uniqueIdentiier); r.put_xwzc9p$(l, s) } } }, PJ.$metadata$ = { kind: f, simpleName: "SpecialsCleric", interfaces: [] }; var OJ = null; function FJ() { return null === OJ && new PJ, OJ } function BJ() { KJ = this, this.ORDER_SPELLS = g([$("Animal Order", "Heal Animal"), $("Leaf Order", "Goodberry"), $("Storm Order", "Tempest Surge"), $("Wild Order", "Wild Morph"), $("Flame Order", "Wildfire"), $("Stone Order", "Crushing Ground"), $("Wave Order", "Rising Surf")]), this.SPECIAL_REF_DRUID_ORDER = "Druidic Order", this.SPECIAL_CHOICE_DRUID_ORDER = "Select Order" } function jJ() { } function HJ() { } function qJ() { } function UJ() { } function GJ() { } function WJ() { } function YJ() { } function VJ(t) { this.closure$focusSpell = t } BJ.prototype.getDruidOrderIncludingArchetyope_fhac18$ = function (t, e) { var i = e.getCharacterData().getSpecialSelection_puj7f4$(this.SPECIAL_REF_DRUID_ORDER, this.SPECIAL_CHOICE_DRUID_ORDER); return null == i && (i = e.getCharacterData().getSpecialSelection_puj7f4$(_R().SPECIAL_INFO_REF_ORDER, _R().SPECIAL_INFO_REF_ORDER_CHOICE)), null != i ? i : null }, jJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().ATHELTICS]), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Druid Order 1", "DRUID_Animal Companion", se().FEATS_DRUID, 1), re().increaseFocusPoints_sfpo92$(i, e, "Druid Order", DW(a, 1)), re().addAwardedPower_ujte31$(i, e, "Druid Order 2", P0("Heal Animal", 1, 1)) }, jJ.$metadata$ = { kind: p, interfaces: [xX] }, HJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().DIPLOMACY]), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Druid Order 1", "DRUID_Leshy Familiar", se().FEATS_DRUID, 1), re().increaseFocusPoints_sfpo92$(i, e, "Druid Order", DW(a, 2)), re().addAwardedPower_ujte31$(i, e, "Druid Order 2", P0("Goodberry", 1, 1)) }, HJ.$metadata$ = { kind: p, interfaces: [xX] }, qJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().ACROBATICS]), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Druid Order 1", "DRUID_Storm Born", se().FEATS_DRUID, 1), re().increaseFocusPoints_sfpo92$(i, e, "Druid Order", DW(a, 2)), re().addAwardedPower_ujte31$(i, e, "Druid Order 2", P0("Tempest Surge", 1, 1)), XJ().addDruidElementalSpellChoice_cjfo0j$(t, e, i, a) }, qJ.$metadata$ = { kind: p, interfaces: [xX] }, UJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().INTIMIDATION]), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Druid Order 1", "DRUID_Wild Shape", se().FEATS_DRUID, 1), re().increaseFocusPoints_sfpo92$(i, e, "Druid Order", DW(a, 1)), re().addAwardedPower_ujte31$(i, e, "Druid Order 2", P0("Wild Morph", 1, 1)) }, UJ.$metadata$ = { kind: p, interfaces: [xX] }, GJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().ACROBATICS]), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Druid Order 1", "DRUID_Fire Lung", se().FEATS_DRUID, 1), re().increaseFocusPoints_sfpo92$(i, e, "Druid Order", DW(a, 1)), re().addAwardedPower_ujte31$(i, e, "Druid Order 2", P0("Wildfire", 1, 1)) }, GJ.$metadata$ = { kind: p, interfaces: [xX] }, WJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().CRAFTING]), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Druid Order 1", "DRUID_Steadying Stone", se().FEATS_DRUID, 1), re().increaseFocusPoints_sfpo92$(i, e, "Druid Order", DW(a, 1)), re().addAwardedPower_ujte31$(i, e, "Druid Order 2", P0("Crushing Ground", 1, 1)) }, WJ.$metadata$ = { kind: p, interfaces: [xX] }, YJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().MEDICINE]), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Druid Order 1", "DRUID_Shore Step", se().FEATS_DRUID, 1), re().increaseFocusPoints_sfpo92$(i, e, "Druid Order", DW(a, 1)), re().addAwardedPower_ujte31$(i, e, "Druid Order 2", P0("Rising Surf", 1, 1)) }, YJ.$metadata$ = { kind: p, interfaces: [xX] }, BJ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_DRUID), i = o(e).get_11rb$("Druidic Order"), a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_DRUID_ORDERS); o(i).hashMapSpecialChoices.put_xwzc9p$("Select Order", a); var r = o(a).get_11rb$("Animal Order"); o(r).specialEffect = new jJ, r = a.get_11rb$("Leaf Order"), o(r).specialEffect = new HJ, r = a.get_11rb$("Storm Order"), o(r).specialEffect = new qJ, r = a.get_11rb$("Wild Order"), o(r).specialEffect = new UJ, r = a.get_11rb$("Flame Order"), o(r).specialEffect = new GJ, r = a.get_11rb$("Stone Order"), o(r).specialEffect = new WJ, r = a.get_11rb$("Wave Order"), o(r).specialEffect = new YJ }, VJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i ? e.hashMapOverrideFocusSpells.put_xwzc9p$("Tempest Surge", this.closure$focusSpell) : e.hashMapOverrideFocusSpells.remove_11rb$("Tempest Surge"), t.getGuiUpdateControl().finishedLoading_n40yp2$(e) && t.getGuiUpdateControl().updateSpells_n40yp2$(e) }, VJ.$metadata$ = { kind: p, interfaces: [xX] }, BJ.prototype.addDruidElementalSpellChoice_cjfo0j$ = function (t, e, i, a) { var r, n, s = "Elementalist Focus Spell"; if (i && e.isElementalist) { var l = qX(s, a); l.textDescription = "If youre a druid of the storm order, you can choose to replace your starting order spell, tempest surge, with updraft."; var p = c(); for (l.hashMapSpecialChoices.put_xwzc9p$("Select Elementalist Focus Spell", p), r = ["Tempest Surge", "Updraft"], n = 0; n !== r.length; ++n) { var h = r[n], d = qX(h, a); d.textDescription = l.textDescription, d.specialEffect = new VJ(h), p.put_xwzc9p$(h, d) } o(e.hashMapSpecialInformation[0]).put_xwzc9p$(s, l), t.getGuiUpdateControl().finishedLoading_n40yp2$(e) || t.managerSpecials.activateSpecial_2yti0t$(t, e, !0, s, l) } else { var u = o(e.hashMapSpecialInformation[0]).get_11rb$(s); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, s, u), o(e.hashMapSpecialInformation[0]).remove_11rb$(s) } }, BJ.$metadata$ = { kind: f, simpleName: "SpecialsDruid", interfaces: [] }; var KJ = null; function XJ() { return null === KJ && new BJ, KJ } function JJ() { eZ = this } function ZJ() { } function QJ() { } function tZ() { } ZJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Fighter Weapon Legend a", a, o(o(r).name), 8, 1), re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Fighter Weapon Legend b", a, o(r.name), 8, 0), re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Fighter Weapon Legend c", a, o(r.name), 6, 2), re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Fighter Weapon Legend d", a, o(r.name), 8, 3) }, ZJ.$metadata$ = { kind: p, interfaces: [xX] }, QJ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Fighter Weapon Mastery a", a, o(o(r).name), 6, 1), re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Fighter Weapon Mastery b", a, o(r.name), 6, 0), re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Fighter Weapon Mastery c", a, o(r.name), 4, 2), re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Fighter Weapon Mastery d", a, o(r.name), 6, 3) }, QJ.$metadata$ = { kind: p, interfaces: [xX] }, tZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addInitiativeIncreaseItem_sfpo92$(i, e, "Battlefield Surveyor", xW(a, 2, se().BONUS_TYPE_NAME_CIRCUMSTANCE)) }, tZ.$metadata$ = { kind: p, interfaces: [xX] }, JJ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e, i, a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_FIGHTER), r = o(a).get_11rb$("Weapon Legend"), n = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS); for (e = n.values.iterator(); e.hasNext();) { var s = e.next(); null != s && (s.specialEffect = new ZJ) } var l = n; o(r).hashMapSpecialChoices.put_xwzc9p$("Weapon Legend Group", l); var c = a.get_11rb$("Fighter Weapon Mastery"); for (i = (n = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS)).values.iterator(); i.hasNext();)i.next().specialEffect = new QJ; var p = n; o(c).hashMapSpecialChoices.put_xwzc9p$("Weapon Mastery Group", p); var h = a.get_11rb$("Battlefield Surveyor"); o(h).specialEffect = new tZ }, JJ.$metadata$ = { kind: f, simpleName: "SpecialsFighter", interfaces: [] }; var eZ = null; function iZ() { return null === eZ && new JJ, eZ } function aZ() { cZ = this, this.SPECIAL_REF_GUNSLINGER_WAY = "Gunslinger's Way", this.CHOICE_GUNSLINGER_WAY = "Select Gunslinger's Way", this.WAY_DRIFTER = "Way of the Drifter", this.WAY_PISTELERO = "Way of the Pistolero", this.WAY_SNIPER = "Way of the Sniper", this.WAY_VANGUARD = "Way of the Vanguard", this.MAP_INITIAL_DEEDS = g([$(this.WAY_DRIFTER, "Into the Fray"), $(this.WAY_PISTELERO, "Ten Paces"), $(this.WAY_SNIPER, "One Shot, One Kill"), $(this.WAY_VANGUARD, "Living Fortification")]), this.MAP_RELOADS = g([$(this.WAY_DRIFTER, "Reloading Strike"), $(this.WAY_PISTELERO, "Raconteur's Reload"), $(this.WAY_SNIPER, "Covered Reload"), $(this.WAY_VANGUARD, "Clear a Path")]) } function rZ(t) { this.closure$hashMapDeedsActions = t } function nZ(t) { this.closure$hashMapDeedsActions = t } function oZ(t) { this.closure$skillName = t } function sZ(t) { this.closure$hashMapDeedsActions = t } function lZ(t) { this.closure$hashMapDeedsActions = t } aZ.prototype.getWay_5btbp7$ = function (t) { return t.getCharacterData().getSpecialSelection_puj7f4$(this.SPECIAL_REF_GUNSLINGER_WAY, this.CHOICE_GUNSLINGER_WAY) }, aZ.prototype.setSpecialMethods_sfkw43$ = function (t) { this.setDeedMethods_sfkw43$(t) }, rZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { pZ().addDeedActions_dgws0a$(i, e, o(pZ().MAP_RELOADS.get_11rb$(pZ().WAY_DRIFTER)), o(pZ().MAP_INITIAL_DEEDS.get_11rb$(pZ().WAY_DRIFTER)), "Finish the Job", "Drifter's Wake", this.closure$hashMapDeedsActions), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().ACROBATICS]) }, rZ.$metadata$ = { kind: p, interfaces: [xX] }, oZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [this.closure$skillName]) }, oZ.$metadata$ = { kind: p, interfaces: [xX] }, nZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n, s; pZ().addDeedActions_dgws0a$(i, e, o(pZ().MAP_RELOADS.get_11rb$(pZ().WAY_PISTELERO)), o(pZ().MAP_INITIAL_DEEDS.get_11rb$(pZ().WAY_PISTELERO)), "Pistolero's Retort", "Grim Swagger", this.closure$hashMapDeedsActions); var l = "Way of the Pistolero Skill"; if (i) { var p = qX(l, a), h = c(); for (n = [pK().DECEPTION, pK().INTIMIDATION], s = 0; s !== n.length; ++s) { var d = n[s], u = qX(d, a); u.specialEffect = new oZ(d), h.put_xwzc9p$(d, u) } p.hashMapSpecialChoices.put_xwzc9p$("Select Skill", h), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(l, p) } else { var _ = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(l); null != _ && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, l, _), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(l) } }, nZ.$metadata$ = { kind: p, interfaces: [xX] }, sZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (pZ().addDeedActions_dgws0a$(i, e, o(pZ().MAP_RELOADS.get_11rb$(pZ().WAY_SNIPER)), o(pZ().MAP_INITIAL_DEEDS.get_11rb$(pZ().WAY_SNIPER)), "Vital Shot", "Ghost Shot", this.closure$hashMapDeedsActions), i) { var n = new bX("One Shot, One Kill"); n.addSneakAttackAtLevel_qt1dr2$(1, 1, 6), n.addSneakAttackAtLevel_qt1dr2$(9, 2, 6), n.addSneakAttackAtLevel_qt1dr2$(15, 3, 6), e.hashMapSneakAttackTracks.put_xwzc9p$("Gunslinger Sniper", n) } else e.hashMapSneakAttackTracks.remove_11rb$("Gunslinger Sniper"); re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().STEALTH]) }, sZ.$metadata$ = { kind: p, interfaces: [xX] }, lZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { pZ().addDeedActions_dgws0a$(i, e, o(pZ().MAP_RELOADS.get_11rb$(pZ().WAY_VANGUARD)), o(pZ().MAP_INITIAL_DEEDS.get_11rb$(pZ().WAY_VANGUARD)), "Spinning Crush", "Siegebreaker", this.closure$hashMapDeedsActions), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().ATHELTICS]) }, lZ.$metadata$ = { kind: p, interfaces: [xX] }, aZ.prototype.setDeedMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_GUNSLINGER).get_11rb$(this.SPECIAL_REF_GUNSLINGER_WAY), i = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_GUNSLINGER_DEEDS), a = o(e).hashMapSpecialChoices, r = this.CHOICE_GUNSLINGER_WAY; a.put_xwzc9p$(r, i); var n = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_GUNSLINGER_DEEDS_ACTIONS); o(i.get_11rb$(this.WAY_DRIFTER)).specialEffect = new rZ(n), o(i.get_11rb$(this.WAY_PISTELERO)).specialEffect = new nZ(n), o(i.get_11rb$(this.WAY_SNIPER)).specialEffect = new sZ(n), o(i.get_11rb$(this.WAY_VANGUARD)).specialEffect = new lZ(n) }, aZ.prototype.addDeedActions_dgws0a$ = function (t, e, i, a, r, n, s) { re().addSpecialDirectly_9ogq3e$(t, e, "Gunslinger Reload", 1, o(s.get_11rb$(i))), re().addSpecialDirectly_9ogq3e$(t, e, "Gunslinger Initial", 1, o(s.get_11rb$(a))), re().addSpecialDirectly_9ogq3e$(t, e, "Gunslinger Advanced", 9, o(s.get_11rb$(r))), re().addSpecialDirectly_9ogq3e$(t, e, "Gunslinger Greater", 15, o(s.get_11rb$(n))) }, aZ.$metadata$ = { kind: f, simpleName: "SpecialsGunslinger", interfaces: [] }; var cZ = null; function pZ() { return null === cZ && new aZ, cZ } function hZ() { fZ = this, this.SPECIAL_REF_INNOVATION = "Innovation", this.CHOICE_INNOVATION = "Select Innovation", this.INNOVATION_ARMOR = "Armor Innovation", this.INNOVATION_CONSTRUCT = "Construct Innovation", this.INNOVATION_WEAPON = "Weapon Innovation" } function dZ() { } function uZ() { } function _Z() { } hZ.prototype.getInnovation_5btbp7$ = function (t) { return t.getCharacterData().getSpecialSelection_puj7f4$(this.SPECIAL_REF_INNOVATION, this.CHOICE_INNOVATION) }, dZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { yZ().addModications_0(t, e, i, 0) }, dZ.$metadata$ = { kind: p, interfaces: [xX] }, uZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i ? t.managerPets.addConstruct_yjt0at$(e, a, XV().CONSTRUCT_SOURCE_INNOVATION) : t.managerPets.removeConstruct_cyt1w7$(e, XV().CONSTRUCT_SOURCE_INNOVATION), yZ().addModications_0(t, e, i, 2) }, uZ.$metadata$ = { kind: p, interfaces: [xX] }, _Z.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { yZ().addModications_0(t, e, i, 1) }, _Z.$metadata$ = { kind: p, interfaces: [xX] }, hZ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_INVENTOR), i = e.get_11rb$(this.SPECIAL_REF_INNOVATION), a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_INVENTOR_INNOVATIONS), r = o(i).hashMapSpecialChoices, n = this.CHOICE_INNOVATION; r.put_xwzc9p$(n, a), o(a.get_11rb$(this.INNOVATION_ARMOR)).specialEffect = new dZ, o(a.get_11rb$(this.INNOVATION_CONSTRUCT)).specialEffect = new uZ, o(a.get_11rb$(this.INNOVATION_WEAPON)).specialEffect = new _Z, i = e.get_11rb$("Offensive Boost"); var s = o(i).hashMapSpecialChoices, l = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_INVENTOR_OFFENSIVE_BOOSTS); s.put_xwzc9p$("Select Offensive Boost", l) }, hZ.prototype.addModications_0 = function (t, e, i, a) { var r, n = "Initial Modification", o = "Breakthrough Modification", s = "Revolutionary Modification"; if (i) { var l = new hc(a, n, 1, n, 1), c = new hc(a, o, 7, o, 7), p = new hc(a, s, 15, s, 15); e.hashMapInventorModifications.put_xwzc9p$(n, l), e.hashMapInventorModifications.put_xwzc9p$(o, c), e.hashMapInventorModifications.put_xwzc9p$(s, p) } else { for (t.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(e, "INVENTOR_Manifold Modifications"), r = e.hashMapInventorModifications.keys.iterator(); r.hasNext();) { var h = r.next(); t.managerEquipment.activateInventorModifications_rvs3un$(!1, e, h, !0) } e.hashMapInventorModifications.remove_11rb$(n), e.hashMapInventorModifications.remove_11rb$(o), e.hashMapInventorModifications.remove_11rb$(s) } }, hZ.$metadata$ = { kind: f, simpleName: "SpecialsInventor", interfaces: [] }; var fZ = null; function yZ() { return null === fZ && new hZ, fZ } function mZ() { AZ = this } function $Z() { } function gZ() { } function vZ() { } function SZ() { } function CZ() { } function EZ(t) { this.closure$methodSkillName = t } $Z.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = new bX("Strategic Strike"); n.addSneakAttackAtLevel_qt1dr2$(1, 1, 6), n.addSneakAttackAtLevel_qt1dr2$(5, 2, 6), n.addSneakAttackAtLevel_qt1dr2$(9, 3, 6), n.addSneakAttackAtLevel_qt1dr2$(13, 4, 6), n.addSneakAttackAtLevel_qt1dr2$(17, 5, 6), e.hashMapSneakAttackTracks.put_xwzc9p$("Investigator Strategic Strike", n) } else e.hashMapSneakAttackTracks.remove_11rb$("Investigator Strategic Strike") }, $Z.$metadata$ = { kind: p, interfaces: [xX] }, gZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().CRAFTING]), bZ().setSkillfulLessons_0(t, e, pK().CRAFTING), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Alchemical Sciences", "GENERAL_Alchemical Crafting", se().FEATS_GENERAL, 1); var n = new Q1(i3().ALCHEMY_INVESTIGATOR_SCIENCES, a); n.hasVials = !0; for (var o = 1; o <= 20; o++)n.setAlchemyLevelAtCharacterLevel_f9128j$(i, "Alchemical Sciences " + o, o, o); re().addAlchemicalCaster_yk8txo$(i, e, n), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Alchemical Sciences", a, BK().SPECIALS_UNIVERSAL, "Quick Tincture") }, gZ.$metadata$ = { kind: p, interfaces: [xX] }, vZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n; t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Empiricism", "INVESTIGATOR_That's Odd", se().FEATS_INVESTIGATOR, 1), bZ().setSkillfulLessons_0(t, e, pK().MEDICINE); var o = u(); for (n = e.listAllSkillProficiencies.iterator(); n.hasNext();) { var s = n.next(), l = e.getSkillProficiency_61zpoe$(s); null != l && 3 === l.abilityRef && o.add_11rb$(s) } var c = MK("Empiricism", 1, o, t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, "Empiricism", c), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Empiricism", a, BK().SPECIALS_UNIVERSAL, "Expeditious Inspection") }, vZ.$metadata$ = { kind: p, interfaces: [xX] }, SZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().MEDICINE]), bZ().setSkillfulLessons_0(t, e, pK().MEDICINE), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Forensic Medicine 1", "GENERAL_Forensic Acumen", se().FEATS_INVESTIGATOR, 1), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Forensic Medicine 2", "GENERAL_Battle Medicine", se().FEATS_INVESTIGATOR, 1) }, SZ.$metadata$ = { kind: p, interfaces: [xX] }, CZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().DIPLOMACY]), bZ().setSkillfulLessons_0(t, e, pK().DIPLOMACY), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Interrogation 1", "GENERAL_No Cause for Alarm", se().FEATS_INVESTIGATOR, 1), re().addSpecialFromSpecificClass_sqtpfg$(i, t, e, "Interrogation", a, BK().SPECIALS_UNIVERSAL, "Pointed Question") }, CZ.$metadata$ = { kind: p, interfaces: [xX] }, mZ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_INVESTIGATOR), i = e.get_11rb$("Strategic Strike"); o(i).specialEffect = new $Z; var a = e.get_11rb$("Methodology"), r = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_INVESTIGATOR_METHOLOGIES); o(a).hashMapSpecialChoices.put_xwzc9p$("Select Methodology", r), o(r.get_11rb$("Alchemical Sciences")).specialEffect = new gZ, o(r.get_11rb$("Empiricism")).specialEffect = new vZ, o(r.get_11rb$("Forensic Medicine")).specialEffect = new SZ, o(r.get_11rb$("Interrogation")).specialEffect = new CZ }, EZ.prototype.generateList_rci9f8$ = function (t, e, i, a) { var r, n, s = new Ya(t); s.createSnapshot_vy76y1$(e, i); var l = u(); for (r = t.managerFeats.getFeatsOfType_e726qm$(e, s, se().FEATS_SKILL, !0, a, i).values.iterator(); r.hasNext();) { var c = r.next(); if (_(c.getTraits(), "Skill") && null != c.hashMapRequiredProficiences) for (n = o(c.hashMapRequiredProficiences).keys.iterator(); n.hasNext();) { var p = n.next(), h = e.getSkillProficiency_61zpoe$(o(p)); null != h && (h.abilityRef >= 3 || m(p, this.closure$methodSkillName)) && l.add_11rb$(c.id) } } return l.addAll_brywnq$(LZ().listMissingGenericSkillFeats), l.addAll_brywnq$(LZ().listMissingIntWisChaSkillFeats), l }, EZ.$metadata$ = { kind: p, interfaces: [Lo] }, mZ.prototype.setSkillfulLessons_0 = function (t, e, i) { for (var a = new EZ(i), r = 3; r <= 20;) { var n = "Skill Lessons " + r, s = o(e.hashMapFeatChoices[r - 1 | 0]).get_11rb$(n); null != s && (s.featsOnTheFlyGenerator = a), r = r + 2 | 0 } }, mZ.$metadata$ = { kind: f, simpleName: "SpecialsInvestigator", interfaces: [] }; var AZ = null; function bZ() { return null === AZ && new mZ, AZ } function IZ() { wZ = this, this.SKILLS_DEPENDENT_MAP = g([$(pK().DIPLOMACY, ["GENERAL_Discreet Inquiry"]), $(pK().DECEPTION, ["GENERAL_Discreet Inquiry"]), $(pK().MEDICINE, ["GENERAL_Mortal Healing"])]) } Object.defineProperty(IZ.prototype, "listMissingGenericSkillFeats", { configurable: !0, get: function () { var t = u(); return t.add_11rb$("GENERAL_Assurance"), t.add_11rb$("GENERAL_Dubious Knowledge"), t } }), Object.defineProperty(IZ.prototype, "listMissingIntWisChaSkillFeats", { configurable: !0, get: function () { var t = u(); return t.add_11rb$("GENERAL_Consult the Spirits"), t.add_11rb$("GENERAL_Recognize Spell"), t.add_11rb$("GENERAL_Quick Identification"), t.add_11rb$("GENERAL_Discreet Inquiry"), t.add_11rb$("GENERAL_Mortal Healing"), t.add_11rb$("GENERAL_Trick Magic Item"), t.add_11rb$("GENERAL_Additional Lore"), t.add_11rb$("GENERAL_Experienced Professional"), t.add_11rb$("GENERAL_Legendary Professional"), t.add_11rb$("GENERAL_Unmistakable Lore"), t.add_11rb$("GENERAL_Assured Identification"), t.add_11rb$("GENERAL_Battle Planner"), t.add_11rb$("GENERAL_Quick Recognition"), t.add_11rb$("GENERAL_Magical Shorthand"), t.add_11rb$("GENERAL_Connections"), t } }), IZ.$metadata$ = { kind: f, simpleName: "SpecialSkillMaps", interfaces: [] }; var wZ = null; function LZ() { return null === wZ && new IZ, wZ } function TZ() { xZ = this } function kZ() { } function RZ() { } function PZ() { } function MZ() { } function NZ() { } function DZ(t, e, i) { this.closure$listSpellNames = t, this.closure$dataControl = e, S3(i, this) } kZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { _X().addConfluxSpell_scx9ky$(e, i, a, "Inexorable Iron"), zZ().addStudiousSpells_7drsv5$(t, e, i, ["Enlarge", "Earthbind", "Dimensional Anchor"]) }, kZ.$metadata$ = { kind: p, interfaces: [xX] }, RZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { _X().addConfluxSpell_scx9ky$(e, i, a, "Laughing Shadow"), zZ().addStudiousSpells_7drsv5$(t, e, i, ["Mirror Image", "Shift Blame", "Dimension Door"]) }, RZ.$metadata$ = { kind: p, interfaces: [xX] }, PZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Hybrid Study", "GENERAL_Shield Block", se().FEATS_GENERAL, a), _X().addConfluxSpell_scx9ky$(e, i, a, "Sparkling Targe"), zZ().addStudiousSpells_7drsv5$(t, e, i, ["Resist Energy", "Warding Aggression", "Stoneskin"]) }, PZ.$metadata$ = { kind: p, interfaces: [xX] }, MZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { _X().addConfluxSpell_scx9ky$(e, i, a, "Starlit Span"), zZ().addStudiousSpells_7drsv5$(t, e, i, ["Darkvision", "Wall of Wind", "Freedom of Movement"]) }, MZ.$metadata$ = { kind: p, interfaces: [xX] }, NZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { _X().addConfluxSpell_scx9ky$(e, i, a, "Twisting Tree"), zZ().addStudiousSpells_7drsv5$(t, e, i, ["Magic Mouth", "Slow", "Blink"]) }, NZ.$metadata$ = { kind: p, interfaces: [xX] }, TZ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_MAGUS).get_11rb$("Hybrid Study"), i = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_MAGUS_HYBRIDS); o(e).hashMapSpecialChoices.put_xwzc9p$("Select Hybrid Study", i), o(i.get_11rb$("Inexorable Iron")).specialEffect = new kZ, o(i.get_11rb$("Laughing Shadow")).specialEffect = new RZ, o(i.get_11rb$("Sparkling Targe")).specialEffect = new PZ, o(i.get_11rb$("Starlit Span")).specialEffect = new MZ, o(i.get_11rb$("Twisting Tree")).specialEffect = new NZ }, TZ.prototype.addStudiousSpells_7drsv5$ = function (t, e, i, a) { var r = T(["Spider Climb", "True Strike", "Water Breathing"]), n = u(), o = u(), s = u(); n.addAll_brywnq$(r), n.add_11rb$(a[0]), o.addAll_brywnq$(r), o.add_11rb$("Haste"), o.add_11rb$(a[0]), o.add_11rb$(a[1]), s.addAll_brywnq$(r), s.add_11rb$("Haste"), s.add_11rb$("Fly"), s.add_11rb$(a[0]), s.add_11rb$(a[1]), s.add_11rb$(a[2]), this.addBonusSpells_0(t, e, i, n, 7, 10, "Studious Spell 7a", 2), this.addBonusSpells_0(t, e, i, n, 7, 10, "Studious Spell 7b", 2), this.addBonusSpells_0(t, e, i, o, 11, 12, "Studious Spell 11a", 3), this.addBonusSpells_0(t, e, i, o, 11, 12, "Studious Spell 11b", 3), this.addBonusSpells_0(t, e, i, s, 13, 20, "Studious Spell 13a", 4), this.addBonusSpells_0(t, e, i, s, 13, 20, "Studious Spell 13b", 4) }, DZ.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { var i, a = u(); for (i = this.closure$listSpellNames.iterator(); i.hasNext();) { var r = i.next(), n = this.closure$dataControl.managerSpells.hashMapSpells.get_11rb$(r); null != n && a.add_11rb$(n) } return a }, DZ.$metadata$ = { kind: p, interfaces: [v3] }, TZ.prototype.addBonusSpells_0 = function (t, i, a, r, n, o, s, l) { var c, p = e.isType(c = i.hashMapSpellCasters.get_11rb$(Jr().CLASS_NAME), a2) ? c : d(); if (a) { var h = new DZ(r, t, l); h.header = "Studious Spell", h.reqCharacterLevel = n, h.maxCharacterLevel = o, p.getHashMapBonusSpell_fhac18$(t, i).put_xwzc9p$(s, h) } else p.getHashMapBonusSpell_fhac18$(t, i).remove_11rb$(s) }, TZ.$metadata$ = { kind: f, simpleName: "SpecialsMagus", interfaces: [] }; var xZ = null; function zZ() { return null === xZ && new TZ, xZ } function OZ() { HZ = this } function FZ() { } function BZ() { } function jZ() { } FZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, "Path to Perfection", 7, o(o(r).name), 6) }, FZ.$metadata$ = { kind: p, interfaces: [xX] }, BZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, "Second Path to Perfection", 11, o(o(r).name), 6) }, BZ.$metadata$ = { kind: p, interfaces: [xX] }, jZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, "Third Path to Perfection", 15, o(o(r).name), 8) }, jZ.$metadata$ = { kind: p, interfaces: [xX] }, OZ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e, i, a, r = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_MONK), n = r.get_11rb$("Path to Perfection"), s = [pK().PROFICIENCY_FORTITUDE, pK().PROFICIENCY_REFLEX, pK().PROFICIENCY_WILL], l = c(); for (e = 0; e !== s.length; ++e) { var p = s[e], h = qX(p, 7); h.specialEffect = new FZ, l.put_xwzc9p$(p, h) } var d = l; for (o(n).hashMapSpecialChoices.put_xwzc9p$("Select Save", d), n = r.get_11rb$("Second Path to Perfection"), l = c(), i = 0; i !== s.length; ++i) { var u = s[i], _ = qX(u, 11); _.specialEffect = new BZ, l.put_xwzc9p$(u, _) } var f = l; for (o(n).hashMapSpecialChoices.put_xwzc9p$("Select Save", f), n = r.get_11rb$("Third Path to Perfection"), l = c(), a = 0; a !== s.length; ++a) { var y = s[a], m = qX(y, 15); m.specialEffect = new jZ, l.put_xwzc9p$(y, m) } var $ = l; o(n).hashMapSpecialChoices.put_xwzc9p$("Select Save", $) }, OZ.$metadata$ = { kind: f, simpleName: "SpecialsMonk", interfaces: [] }; var HZ = null; function qZ() { return null === HZ && new OZ, HZ } function UZ() { nQ = this } function GZ() { } function WZ() { } function YZ() { } function VZ() { } function KZ() { } function XZ() { } function JZ() { } function ZZ() { } function QZ(t) { this.closure$featRef = t } function tQ(t, e, i) { C3(t, e, i, this) } function eQ() { } function iQ(t, e, i) { this.closure$dataControl = t, this.closure$cantripName = e, S3(i, this) } function aQ(t, e) { this.closure$specialInformationRef = t, this.closure$powerName = e } function rQ(t, e) { this.closure$specialInformationRef = t, this.closure$powerName = e } GZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { oQ().addDomainSpellChoice_0(i, t, e), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().SOCIETY]), oQ().addBonusCantrip_0(i, t, e, "Guidance"), re().addAwardedPower_ujte31$(i, e, "Revelation 1", P0("Ancestral Touch", a, 1)); var n = Ru(), o = "Ancestors Mystery 1"; if (n.level = 1, n.featType = se().FEATS_ANCESTRY, n.specificHeader = "Ancestor's Feat", re().addFeatChoice_afybq0$(i, t, e, o, n), i && !t.getGuiUpdateControl().finishedLoading_n40yp2$(e) && e.getCharacterData().hashMapFeatSelections.containsKey_11rb$(o)) { var s = e.getCharacterData().hashMapFeatSelections.get_11rb$(o); t.managerFeats.activateFeat_qe0g1p$(e, a, n, o, s) } (n = Ru()).level = 11, n.featType = se().FEATS_ANCESTRY, n.specificHeader = "Ancestor's Feat", re().addFeatChoice_afybq0$(i, t, e, "Ancestors Mystery 2", n), t.getGuiUpdateControl().addExtraFeatRefreshLevel_hdt6c$(e, 11) }, GZ.$metadata$ = { kind: p, interfaces: [xX] }, YZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Battle Mystery a", a, o(o(r).name), 2, 1), re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Battle Mystery b", 11, o(r.name), 4, 1), re().setWeaponGroupProficiency_93ffk6$(i, t, e, "Battle Mystery c", a, o(r.name), 2, 2) }, YZ.$metadata$ = { kind: p, interfaces: [xX] }, WZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n; re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().ATHELTICS]), oQ().addDomainSpellChoice_0(i, t, e), oQ().addBonusCantrip_0(i, t, e, "Shield"), re().addAwardedPower_ujte31$(i, e, "Revelation 1", P0("Call to Arms", a, 1)), re().setProficiencyAtLevel_8d16k4$(i, e, "Battle Mystery 1", 1, pK().PROFICIENCY_MEDIUM_ARMOR, 2), re().setProficiencyAtLevel_8d16k4$(i, e, "Battle Mystery 2", 1, pK().PROFICIENCY_HEAVY_ARMOR, 2), re().setProficiencyAtLevel_8d16k4$(i, e, "Battle Mystery 3", 13, pK().PROFICIENCY_MEDIUM_ARMOR, 4), re().setProficiencyAtLevel_8d16k4$(i, e, "Battle Mystery 4", 13, pK().PROFICIENCY_HEAVY_ARMOR, 4); var s = "Battle Mystery Weapon Group"; if (i) { var l = qX("Battle Weapon Group", 1), c = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS); for (n = c.values.iterator(); n.hasNext();)n.next().specialEffect = new YZ; l.hashMapSpecialChoices.put_xwzc9p$("Weapon Mastery Group", c), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(s, l) } else { var p = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(s); null != p && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, s, p), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(s) } }, WZ.$metadata$ = { kind: p, interfaces: [xX] }, VZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().MEDICINE]), oQ().addDomainSpellChoice_0(i, t, e), oQ().addBonusCantrip_0(i, t, e, "Chill Touch"), re().addAwardedPower_ujte31$(i, e, "Revelation 1", P0("Soul Siphon", a, 1)) }, VZ.$metadata$ = { kind: p, interfaces: [xX] }, KZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().NATURE]), oQ().addDomainSpellChoice_0(i, t, e), oQ().addBonusCantrip_0(i, t, e, "Dancing Lights"), re().addAwardedPower_ujte31$(i, e, "Revelation 1", P0("Spray of Stars", a, 1)) }, KZ.$metadata$ = { kind: p, interfaces: [xX] }, XZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().ACROBATICS]), oQ().addDomainSpellChoice_0(i, t, e), oQ().addBonusCantrip_0(i, t, e, "Produce Flame"), re().addAwardedPower_ujte31$(i, e, "Revelation 1", P0("Incendiary Aura", a, 1)), re().setProficiencyAtLevel_8d16k4$(i, e, "Flame Mystery 1", 1, pK().PROFICIENCY_REFLEX, 4), re().setProficiencyAtLevel_8d16k4$(i, e, "Flame Mystery 2", 13, pK().PROFICIENCY_REFLEX, 6) }, XZ.$metadata$ = { kind: p, interfaces: [xX] }, JZ.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var o; re().addClassBackgroundConflictingSkills_b47hup$(a, t, i, [pK().MEDICINE]), oQ().addDomainSpellChoice_0(a, t, i), oQ().addBonusCantrip_0(a, t, i, "Stabilize"), re().addAwardedPower_ujte31$(a, i, "Revelation 1", P0("Life Link", r, 1)); var c = i.getClassTemplate(); if (null != i.getCharacterData().getDualClass()) try { var p = e.isType(o = c, Wn) ? o : d(); m(p.classTemplateMain.className, ln().CLASS_NAME) ? c = p.classTemplateMain : m(p.classTemplateDual.className, ln().CLASS_NAME) && (c = p.classTemplateDual), c.hp = a ? 10 : 8, p.setDualClassHP() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } else c.hp = a ? 10 : 8 }, JZ.$metadata$ = { kind: p, interfaces: [xX] }, QZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, this.closure$featRef, a, o(o(r).name), 2) }, QZ.$metadata$ = { kind: p, interfaces: [xX] }, tQ.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { return null }, tQ.$metadata$ = { kind: p, interfaces: [v3] }, ZZ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n; re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().OCCULTISM]), oQ().addDomainSpellChoice_0(i, t, e); var s = "Lore Mystery Additional Lore"; if (i) { var l = HX(); l.level = a, l.name = "Lore Mystery Additional Lore", l.textDescription = "You are trained in one additional lore skill"; var p = c(); for (n = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e).iterator(); n.hasNext();) { var h = n.next(); if (_(h, "Lore")) { var d = e.getSkillProficiency_61zpoe$(h); if (0 === o(d).getProficiencyAtLevelExcludingThisReference_19mbxw$(a, s)) { var u = HX(); u.name = h, u.textDescription = "", u.level = 1, u.specialEffect = new QZ(s), p.put_xwzc9p$(h, u) } } } l.hashMapSpecialChoices.put_xwzc9p$("Select Lore", p), o(e.hashMapSpecialInformation[a - 1 | 0]).put_xwzc9p$(s, l) } else { var f = o(e.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(s); null != f && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, s, f), o(e.hashMapSpecialInformation[a - 1 | 0]).remove_11rb$(s) } oQ().addBonusCantrip_0(i, t, e, "Read Aura"), re().addAwardedPower_ujte31$(i, e, "Revelation 1", P0("Brain Drain", a, 1)); var y = e.hashMapSpellCasters.get_11rb$(ln().CLASS_NAME); if (null != y) for (var m = 1; m <= 9; m++) { var $ = "Lore Mystery " + m; if (i) { var g = y.getHashMapBonusSpell_fhac18$(t, e), v = new tQ(m, !1, !0); g.put_xwzc9p$($, v) } else y.getHashMapBonusSpell_fhac18$(t, e).remove_11rb$($) } }, ZZ.$metadata$ = { kind: p, interfaces: [xX] }, eQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().NATURE]), oQ().addDomainSpellChoice_0(i, t, e), oQ().addBonusCantrip_0(i, t, e, "Electric Arc"), re().addAwardedPower_ujte31$(i, e, "Revelation 1", P0("Tempest Touch", a, 1)) }, eQ.$metadata$ = { kind: p, interfaces: [xX] }, UZ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_ORACLE).get_11rb$("Mystery"), i = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_ORACLE_MYSTERIES); o(e).hashMapSpecialChoices.put_xwzc9p$("Select Mystery", i), o(i.get_11rb$("Ancestors")).specialEffect = new GZ, o(i.get_11rb$("Battle")).specialEffect = new WZ, o(i.get_11rb$("Bones")).specialEffect = new VZ, o(i.get_11rb$("Cosmos")).specialEffect = new KZ, o(i.get_11rb$("Flames")).specialEffect = new XZ, o(i.get_11rb$("Life")).specialEffect = new JZ, o(i.get_11rb$("Lore")).specialEffect = new ZZ, o(i.get_11rb$("Tempest")).specialEffect = new eQ }, iQ.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { var i = u(), a = this.closure$dataControl.managerSpells.hashMapSpells.get_11rb$(this.closure$cantripName); return null != a && i.add_11rb$(a), i }, iQ.$metadata$ = { kind: p, interfaces: [v3] }, UZ.prototype.addBonusCantrip_0 = function (t, e, i, a) { var r = i.hashMapSpellCasters.get_11rb$(ln().CLASS_NAME); if (null != r && t) { var n = new iQ(e, a, 0); n.header = "Revelation Cantrip", r.getHashMapBonusSpell_fhac18$(e, i).put_xwzc9p$("Revelation Cantrip", n) } }, UZ.prototype.addDomainSpellChoice_0 = function (t, e, i) { if (t) { var a = this.getDomainSelectionSpecialInformation_rci9f8$(e, i, 1, "Mystery Initial Domain Spell"); a.name = "Mystery Domain Spell", a.textDescription = "You learn a domain spell associated with your mystery.", o(i.hashMapSpecialInformation[0]).put_xwzc9p$("Mystery Initial Domain Spell", a) } else { var r = o(i.hashMapSpecialInformation[0]).get_11rb$("Mystery Initial Domain Spell"); null != r && e.managerSpecials.activateSpecial_2yti0t$(e, i, !1, "Mystery Initial Domain Spell", r), o(i.hashMapSpecialInformation[0]).remove_11rb$("Mystery Initial Domain Spell") } }, aQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$specialInformationRef + "1", P0(o(this.closure$powerName), a, 1)) }, aQ.$metadata$ = { kind: p, interfaces: [xX] }, UZ.prototype.getDomainSelectionSpecialInformation_rci9f8$ = function (t, i, a, r) { var n, l, p = HX(); p.level = a; var _ = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_DOMAINS), f = c(), m = ln().getMystery_5btbp7$(i); if (null != m) { var $ = o(SX().MYSTERY_DOMAINS.get_11rb$(m)), g = u(); for (g.add_11rb$(o($.left)), g.add_11rb$(o($.right)), n = g.iterator(); n.hasNext();) { var v = n.next(); if (_.containsKey_11rb$(v)) { var S = null != (l = _.get_11rb$(v)) ? l : HX(); f.put_xwzc9p$(v, S); var C, E = t.managerSpecials.getDomainPowers().hashMapInitialDomainPowers, A = S.name, b = (e.isType(C = E, y) ? C : d()).get_11rb$(A); try { var I, w = t.managerSpells.hashMapSpells, L = (e.isType(I = w, y) ? I : d()).get_11rb$(b); S.textDescription = S.textDescription + "<br><br><b>Initial Domain Power</b>: " + o(L).name + "<br>", S.textDescription = S.textDescription + L.description, S.level = a } catch (t) { if (!e.isType(t, h)) throw t; s(t) } S.specialEffect = new aQ(r, b) } p.hashMapSpecialChoices.put_xwzc9p$("Select Domain", f) } } return p }, rQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$specialInformationRef + "1", P0(o(this.closure$powerName), a, 1)) }, rQ.$metadata$ = { kind: p, interfaces: [xX] }, UZ.prototype.getDomainAdvancedSelectionSpecialInformation_rci9f8$ = function (t, i, a, r) { var n, l, p = HX(); p.level = a; var _ = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_DOMAINS), f = c(), m = ln().getMystery_5btbp7$(i); if (null != m) { var $ = o(SX().MYSTERY_DOMAINS.get_11rb$(m)), g = u(); for (g.add_11rb$(o($.left)), g.add_11rb$(o($.right)), n = g.iterator(); n.hasNext();) { var v = n.next(); if (_.containsKey_11rb$(v)) { var S = null != (l = _.get_11rb$(v)) ? l : HX(); f.put_xwzc9p$(v, S); var C, E = t.managerSpecials.getDomainPowers().hashMapAdvancedDomainPowers, A = S.name, b = (e.isType(C = E, y) ? C : d()).get_11rb$(A); try { var I, w = t.managerSpells.hashMapSpells, L = (e.isType(I = w, y) ? I : d()).get_11rb$(b); S.textDescription = S.textDescription + "<br><br><b>Advanced Domain Power</b>: " + o(L).name + "<br>", S.textDescription = S.textDescription + L.description, S.level = a } catch (t) { if (!e.isType(t, h)) throw t; s(t) } S.specialEffect = new rQ(r, b) } p.hashMapSpecialChoices.put_xwzc9p$("Select Domain", f) } } return p }, UZ.$metadata$ = { kind: f, simpleName: "SpecialsOracle", interfaces: [] }; var nQ = null; function oQ() { return null === nQ && new UZ, nQ } function sQ() { cQ = this } function lQ() { } lQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = new bX("Hunter's Edge"); n.addSneakAttackAtLevel_qt1dr2$(1, 1, 8), n.addSneakAttackAtLevel_qt1dr2$(11, 2, 8), n.addSneakAttackAtLevel_qt1dr2$(17, 3, 8), e.hashMapSneakAttackTracks.put_xwzc9p$("Precision Hunter's Edge", n) } else e.hashMapSneakAttackTracks.remove_11rb$("Precision Hunter's Edge"); if (i) { var o = new bX("Hunter's Edge 2nd Hit"); o.addSneakAttackAtLevel_qt1dr2$(17, 1, 8), o.addSneakAttackAtLevel_qt1dr2$(19, 2, 8), e.hashMapSneakAttackTracks.put_xwzc9p$("Precision Hunter's Edge 2nd Hit", o) } else e.hashMapSneakAttackTracks.remove_11rb$("Precision Hunter's Edge 2nd Hit"); if (i) { var s = new bX("Hunter's Edge 3rd Hit"); s.addSneakAttackAtLevel_qt1dr2$(19, 1, 8), e.hashMapSneakAttackTracks.put_xwzc9p$("Precision Hunter's Edge 3rd Hit", s) } else e.hashMapSneakAttackTracks.remove_11rb$("Precision Hunter's Edge 3rd Hit") }, lQ.$metadata$ = { kind: p, interfaces: [xX] }, sQ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_RANGER).get_11rb$("Hunter's Edge"), i = o(e).hashMapSpecialChoices, a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_RANGER_EDGES); i.put_xwzc9p$("Select Edge", a), o(o(e.hashMapSpecialChoices.get_11rb$("Select Edge")).get_11rb$("Precision")).specialEffect = new lQ }, sQ.$metadata$ = { kind: f, simpleName: "SpecialsRanger", interfaces: [] }; var cQ = null; function pQ() { return null === cQ && new sQ, cQ } function hQ() { $Q = this } function dQ() { } function uQ() { } function _Q() { } function fQ() { } function yQ() { } function mQ() { } dQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().setProficiencyAtLevel_8d16k4$(i, e, "Ruffian Racket 1", a, pK().PROFICIENCY_MEDIUM_ARMOR, 2), re().setProficiencyAtLevel_8d16k4$(i, e, "Ruffian Racket 2", 13, pK().PROFICIENCY_MEDIUM_ARMOR, 4), re().setProficiencyAtLevel_8d16k4$(i, e, "Ruffian Racket 3", 19, pK().PROFICIENCY_MEDIUM_ARMOR, 6), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().INTIMIDATION]) }, dQ.$metadata$ = { kind: p, interfaces: [xX] }, uQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().DECEPTION, pK().DIPLOMACY]) }, uQ.$metadata$ = { kind: p, interfaces: [xX] }, _Q.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().THIEVERY]) }, _Q.$metadata$ = { kind: p, interfaces: [xX] }, fQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n, o = [Au().DEDICATION_WIZARD, Au().DEDICATION_CLERIC, Au().DEDICATION_BARD, Au().DEDICATION_DRUID, Au().DEDICATION_SORCERER, Au().DEDICATION_ORACLE, Au().DEDICATION_WITCH, Au().DEDICATION_SUMMONER, Au().DEDICATION_MAGUS], s = Mu(se().FEATS_ARCHETYPE, a); for (s.specificHeader = "Dedication Feat", s.ignoreLevelRequirement = !0, n = 0; n !== o.length; ++n) { var l = o[n]; s.listFeatIDs.add_11rb$(l) } re().addFeatChoice_afybq0$(i, t, e, "Eldritch Trickster", s) }, fQ.$metadata$ = { kind: p, interfaces: [xX] }, yQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().SOCIETY]); var n = MK("Mastermind Racket a", 1, T([pK().ARCANA, pK().NATURE, pK().OCCULTISM, pK().RELIGION]), t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e), a); re().addTrainedOnlySkillChoice_b4bmjk$(i, t, e, "Mastermind Racket a", n) }, yQ.$metadata$ = { kind: p, interfaces: [xX] }, mQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = new bX("Sneak Attack"); n.addSneakAttackAtLevel_qt1dr2$(1, 1, 6), n.addSneakAttackAtLevel_qt1dr2$(5, 2, 6), n.addSneakAttackAtLevel_qt1dr2$(11, 3, 6), n.addSneakAttackAtLevel_qt1dr2$(17, 4, 6), e.hashMapSneakAttackTracks.put_xwzc9p$("Rogue Sneak Attack", n) } else e.hashMapSneakAttackTracks.remove_11rb$("Rogue Sneak Attack") }, mQ.$metadata$ = { kind: p, interfaces: [xX] }, hQ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_ROGUE), i = e.get_11rb$("Rogue's Racket"), a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_ROGUE_RACKETS); o(a.get_11rb$("Ruffian Racket")).specialEffect = new dQ, o(a.get_11rb$("Scoundrel Racket")).specialEffect = new uQ, o(a.get_11rb$("Thief Racket")).specialEffect = new _Q, o(a.get_11rb$("Eldritch Trickster Racket")).specialEffect = new fQ, o(i).hashMapSpecialChoices.put_xwzc9p$("Select Racket", a), o(a.get_11rb$("Mastermind Racket")).specialEffect = new yQ, i = e.get_11rb$("Sneak Attack"), o(i).specialEffect = new mQ }, hQ.$metadata$ = { kind: f, simpleName: "SpecialsRogue", interfaces: [] }; var $Q = null; function gQ() { return null === $Q && new hQ, $Q } function vQ() { AQ = this, this.SORCERER_BLOODLINE_SPECIAL_REF = "Bloodline", this.SORCERER_BLOODLINE_SPECIAL_CHOICE = "Select Bloodline" } function SQ(t) { this.closure$childSpecialInformation = t } function CQ(t, e, i, a) { this.closure$specialInformation = t, this.closure$bloodline = e, this.closure$dataControl = i, S3(a, this) } function EQ(t) { this.closure$focusSpell = t } CQ.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { this.closure$specialInformation.name; var i = u(), a = this.closure$bloodline.getBonusSpell_za3lpa$(e), r = this.closure$dataControl.managerSpells.hashMapSpells.get_11rb$(a); return null != r && i.add_11rb$(r), i }, CQ.$metadata$ = { kind: p, interfaces: [v3] }, SQ.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var s, l; bQ().addBloodlineSubChoices_0(a, t, i, this.closure$childSpecialInformation, r); var c, p = t.managerSpecials.getBloodlineSet().hashMap, h = o(n).name, u = (e.isType(c = p, y) ? c : d()).get_11rb$(h); re().addClassBackgroundConflictingSkills_b47hup$(a, t, i, [o(u).skill1, u.skill2]); var _ = u.initialSpell; if (re().addAwardedPower_ujte31$(a, i, "Sorcerer Bloodline1", P0(_, 1, 1)), re().increaseFocusPoints_sfpo92$(a, i, "Sorcerer Bloodline1", DW(1, 1)), a) { var f = new c2, m = u.spellList; f.spellList = m; var $ = i.hashMapSpellCasters, g = En().CLASS_SORCERER; $.put_xwzc9p$(g, f); var v = En().CLASS_SORCERER, S = i.getProficiency_61zpoe$(pK().ARRAY_SPELL_PROFICIENCIES[m]); o(S).setProficiencyAtLevel_3m52m6$(v, 1, 2), S.setProficiencyAtLevel_3m52m6$(v + "Expert", 7, 4), S.setProficiencyAtLevel_3m52m6$(v + "Master", 15, 6), S.setProficiencyAtLevel_3m52m6$(v + "Legendary", 19, 8), f.addSpellsPerDayAdjustment_3dm4w3$(a, "Standard Repetoire", new O2(19, 10, 1)); for (var C = 0; C <= 9; C++) { var E = En().CLASS_SORCERER + "Bonus" + C.toString(), A = new CQ(n, u, t, C); A.header = "Bloodline Spell", f.getHashMapBonusSpell_fhac18$(t, i).put_xwzc9p$(E, A) } if (!t.getGuiUpdateControl().finishedLoading_n40yp2$(i)) { var b = ["SORCERER_Bloodline Perfection", "SORCERER_Cantrip Expansion", "SORCERER_Greater Mental Evolution"]; for (s = 0; s !== b.length; ++s) { var I = b[s]; t.managerFeats.activateFeatFoundAtAnyLevel_cyt1w7$(i, I) } } } else { var w = ["SORCERER_Bloodline Perfection", "SORCERER_Cantrip Expansion"]; for (l = 0; l !== w.length; ++l) { var L = w[l]; t.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(i, L) } var T = i.hashMapSpellCasters.get_11rb$(En().CLASS_SORCERER), k = En().CLASS_SORCERER, R = i.getProficiency_61zpoe$(pK().ARRAY_SPELL_PROFICIENCIES[o(T).spellList]); o(R).removeProficiencyAtLevel_61zpoe$(k), R.removeProficiencyAtLevel_61zpoe$(k + "Expert"), R.removeProficiencyAtLevel_61zpoe$(k + "Master"), R.removeProficiencyAtLevel_61zpoe$(k + "Legendary"), i.hashMapSpellCasters.remove_11rb$(En().CLASS_SORCERER) } a || (t.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(i, "SORCERER_Advanced Bloodline"), t.managerFeats.deactivateFeatFoundAtAnyLevel_cyt1w7$(i, "SORCERER_Greater Bloodline")) }, SQ.$metadata$ = { kind: p, interfaces: [xX] }, vQ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e, i = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_SORCERER).get_11rb$(this.SORCERER_BLOODLINE_SPECIAL_REF), a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_SORCERER_BLOODLINES), r = o(i).hashMapSpecialChoices, n = this.SORCERER_BLOODLINE_SPECIAL_CHOICE; for (r.put_xwzc9p$(n, a), e = a.values.iterator(); e.hasNext();) { var s = e.next(); s.specialEffect = new SQ(s) } }, vQ.prototype.addBloodlineSubChoices_0 = function (t, e, i, a, r) { null != a.name && (m(a.name, "Draconic") || m(a.name, "Wyrmblessed") ? this.addSpecialSubChoice_0(t, e, i, "Select Draconic Bloodline Type", "The good metallic dragons and their damage types are brass (fire), bronze (electricity), copper (acid), gold (fire), and silver (cold). The evil chromatic dragons and their damage types are black (acid), blue (electricity), green (poison), red (fire), and white (cold). The primal dragons of planar origin and their damage types are brine (acid), cloud (electricity), crystal (piercing), magma (fire), and umbral (negative). The imperial dragons and their damage types are forest (piercing), sea (bludgeoning), sky (electricity), sovereign (mental), and underworld (fire). For the dragon breath focus spell, the area is a 60-foot line for a brine dragon; a 30-foot cone for a cloud, crystal, forest, magma, sovereign, or umbral dragon; and a 10-foot burst within 30 feet for a sea, sky, or underworld dragon.", se().DRAGON_TYPES, r) : m(a.name, "Elemental") && (this.addSpecialSubChoice_0(t, e, i, "Select Elemental Bloodline Type", "If your element is air, you buffet your foes with powerful winds; if it's earth, you toss huge chunks of rock; if it's fire, you incinerate your foes with flame; and if it's water, you inundate your foes with torrents of water. For fire, all marked spells deal fire damage. For other elements, they deal bludgeoning damage. You replace any existing elemental traits with the trait of the element you chose.", ["Earth", "Air", "Fire", "Water"], r), this.addSorcererElementalSpellChoice_0(e, i, t, 1))) }, EQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { i ? e.hashMapOverrideFocusSpells.put_xwzc9p$("Elemental Toss", this.closure$focusSpell) : e.hashMapOverrideFocusSpells.remove_11rb$("Elemental Toss") }, EQ.$metadata$ = { kind: p, interfaces: [xX] }, vQ.prototype.addSorcererElementalSpellChoice_0 = function (t, e, i, a) { var r, n, s = "Elementalist Focus Spell"; if (i && e.isElementalist) { var l = qX(s, a); l.textDescription = "If youre a sorcerer with the elemental bloodline, you can replace your initial bloodline spell with an initial elemental focus spell."; var p = c(); for (l.hashMapSpecialChoices.put_xwzc9p$("Select Elementalist Focus Spell", p), r = ["Elemental Toss", "Updraft", "Crushing Ground", "Wildfire", "Rising Surf"], n = 0; n !== r.length; ++n) { var h = r[n], d = qX(h, a); d.textDescription = l.textDescription, d.specialEffect = new EQ(h), p.put_xwzc9p$(h, d) } o(e.hashMapSpecialInformation[0]).put_xwzc9p$(s, l), t.getGuiUpdateControl().finishedLoading_n40yp2$(e) || t.managerSpecials.activateSpecial_2yti0t$(t, e, !0, s, l) } else { var u = o(e.hashMapSpecialInformation[0]).get_11rb$(s); null != u && t.managerSpecials.activateSpecial_2yti0t$(t, e, !1, s, u), o(e.hashMapSpecialInformation[0]).remove_11rb$(s) } }, vQ.prototype.addSpecialSubChoice_0 = function (t, e, i, a, r, n, s) { if (t) { var l = HX(); l.level = s, l.name = a; for (var p = c(), h = 0; h !== n.length; ++h) { var d = qX(n[h], l.level); d.textDescription = r; var u = n[h]; p.put_xwzc9p$(u, d) } l.hashMapSpecialChoices.put_xwzc9p$(a, p), o(i.hashMapSpecialInformation[s - 1 | 0]).put_xwzc9p$(a, l) } else { var _ = o(i.hashMapSpecialInformation[s - 1 | 0]).get_11rb$(a); null != _ && e.managerSpecials.activateSpecial_2yti0t$(e, i, !1, a, _), o(i.hashMapSpecialInformation[s - 1 | 0]).remove_11rb$(a) } }, vQ.$metadata$ = { kind: f, simpleName: "SpecialsSorcerer", interfaces: [] }; var AQ = null; function bQ() { return null === AQ && new vQ, AQ } function IQ() { DQ = this } function wQ() { } function LQ() { } function TQ() { } function kQ() { } function RQ() { } function PQ() { } function MQ() { } function NQ() { } IQ.prototype.getEidolonSpellListIncludingArchetypeCaster_fhac18$ = function (t, e) { var i = e.getCharacterData().getSpecialSelection_puj7f4$("Eidolon", "Select Eidolon Type"); if (null == i && (i = e.getCharacterData().getSpecialSelection_puj7f4$(aO().ARCHETYPE_EIDOLON_SPECIAL_REF, aO().ARCHETYPE_EIDOLON_CHOICE_REF)), null != i) { var a = t.managerPets.hashMapEidolonInformation.get_11rb$(i); return o(a).tradition } return 0 }, wQ.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { var s, l = t.managerPets.hashMapEidolonInformation, c = o(n).name, p = (e.isType(s = l, y) ? s : d()).get_11rb$(c); null != p && (xQ().setSpellList_0(i, p.tradition), xQ().setAbilities_0(t, i, a, p), re().addClassBackgroundConflictingSkills_b47hup$(a, t, i, [p.skill1, p.skill2]), a ? (t.managerPets.addEidolon_uiys2w$(i, r, p, !1), t.getGuiUpdateControl().finishedLoading_n40yp2$(i) && t.managerFeats.activateAllFeatsWithTraits_3dve88$(!0, i, "evolution", 1)) : (t.managerFeats.activateAllFeatsWithTraits_3dve88$(!1, i, "evolution", 1), t.managerPets.removeEidolon_5btbp7$(i)), t.getGuiUpdateControl().updateBuildFragment_n40yp2$(i)) }, wQ.$metadata$ = { kind: p, interfaces: [xX] }, IQ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e, i = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_SUMMONER).get_11rb$("Eidolon"), a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_SUMMONER_EIDOLONS), r = a; for (o(i).hashMapSpecialChoices.put_xwzc9p$("Select Eidolon Type", r), e = a.values.iterator(); e.hasNext();)e.next().specialEffect = new wQ; a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_EIDOLON_ABILTIIES), this.addEffectsToEidolonAbilities_ed3u7a$(a) }, LQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = Nu(se().FEATS_SUMMONER_EVOLUTION, a, "Reconfigured Evolution"); n.maxLevel = 6, re().addFeatChoice_afybq0$(i, t, e, "Reconfigured Evolution", n) }, LQ.$metadata$ = { kind: p, interfaces: [xX] }, TQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = Nu(se().FEATS_SUMMONER_EVOLUTION, a, "Ultimate Reconfiguration"); n.maxLevel = 16, re().addFeatChoice_afybq0$(i, t, e, "Ultimate Reconfiguration", n) }, TQ.$metadata$ = { kind: p, interfaces: [xX] }, kQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Fey Gift Spells", "SUMMONER_Magical Understudy", se().FEATS_SUMMONER, a) }, kQ.$metadata$ = { kind: p, interfaces: [xX] }, RQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Fey Gift Spells", "SUMMONER_Magical Adept", se().FEATS_SUMMONER, a) }, RQ.$metadata$ = { kind: p, interfaces: [xX] }, PQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { }, PQ.$metadata$ = { kind: p, interfaces: [xX] }, MQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n = new Int32Array([5, 6, 7, 7]); re().addSetSpellsCaster_wqj1gb$(i, t, e, "Angelic Mercy", 1, 9, a, ["Remove Curse", "Remove Disease", "Remove Fear", "Remove Paralysis"], n) }, MQ.$metadata$ = { kind: p, interfaces: [xX] }, NQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = new k3("Blasphemous Decree", a); e.hashMapSpellCasters.put_xwzc9p$("Blasphemous Decree", n); var o = new R3, s = e.getCharacterData().getHashMapPlayerSpells(), l = N3().BLASPHEMOUS_DECREE_SPELL; s.put_xwzc9p$(l, o) } else e.getCharacterData().getHashMapPlayerSpells().remove_11rb$(N3().BLASPHEMOUS_DECREE_SPELL), e.hashMapSpellCasters.remove_11rb$("Blasphemous Decree") }, NQ.$metadata$ = { kind: p, interfaces: [xX] }, IQ.prototype.addEffectsToEidolonAbilities_ed3u7a$ = function (t) { o(t.get_11rb$("Reconfigured Evolution")).specialEffect = new LQ, o(t.get_11rb$("Ultimate Reconfiguration")).specialEffect = new TQ, o(t.get_11rb$("Fey Gift Spells")).specialEffect = new kQ, o(t.get_11rb$("Fey Mischief")).specialEffect = new RQ, o(t.get_11rb$("Fey Chicanery")).specialEffect = new PQ, o(t.get_11rb$("Angelic Mercy")).specialEffect = new MQ, o(t.get_11rb$("Blasphemous Decree")).specialEffect = new NQ }, IQ.prototype.setAbilities_0 = function (t, e, i, a) { var r = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_EIDOLON_ABILTIIES).get_11rb$(a.ability1), n = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_EIDOLON_ABILTIIES).get_11rb$(a.ability2), s = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_EIDOLON_ABILTIIES).get_11rb$(a.ability3), l = "Summoner Eidolon Ability 1", c = "Summoner Eidolon Ability 2", p = "Summoner Eidolon Ability 3"; null != r && null != n && null != s ? i ? (o(e.hashMapSpecialInformation[0]).put_xwzc9p$(l, r), o(e.hashMapSpecialInformation[6]).put_xwzc9p$(c, n), o(e.hashMapSpecialInformation[16]).put_xwzc9p$(p, s), t.managerSpecials.activateSpecial_2yti0t$(t, e, i, l, r), t.managerSpecials.activateSpecial_2yti0t$(t, e, i, c, n), t.managerSpecials.activateSpecial_2yti0t$(t, e, i, p, s)) : (o(e.hashMapSpecialInformation[0]).remove_11rb$(l), o(e.hashMapSpecialInformation[6]).remove_11rb$(c), o(e.hashMapSpecialInformation[16]).remove_11rb$(p), t.managerSpecials.activateSpecial_2yti0t$(t, e, i, l, r), t.managerSpecials.activateSpecial_2yti0t$(t, e, i, c, n), t.managerSpecials.activateSpecial_2yti0t$(t, e, i, p, s)) : t.getGuiUpdateControl().logError_nwzcgj$(e, "FOUND ERROR FOR " + a.name) }, IQ.prototype.setSpellList_0 = function (t, i) { var a; (e.isType(a = t.hashMapSpellCasters.get_11rb$(Ln().CLASS_NAME), p2) ? a : d()).setTradition_vy76y1$(t, i) }, IQ.$metadata$ = { kind: f, simpleName: "SpecialsSummoner", interfaces: [] }; var DQ = null; function xQ() { return null === DQ && new IQ, DQ } function zQ() { GQ = this } function OQ() { } function FQ() { } function BQ() { } function jQ() { } function HQ() { } function qQ() { } function UQ(t) { this.closure$additionalSkillName = t } OQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { if (i) { var n = new bX("Precise Strike"); n.addFlatBonus_vux9f0$(1, 2), n.addFlatBonus_vux9f0$(5, 3), n.addFlatBonus_vux9f0$(9, 4), n.addFlatBonus_vux9f0$(13, 5), n.addFlatBonus_vux9f0$(17, 6), e.hashMapSneakAttackTracks.put_xwzc9p$("Swashbuckler Precise Strike", n) } else e.hashMapSneakAttackTracks.remove_11rb$("Swashbuckler Precise Strike"); if (i) { var o = new bX("Precise Strike Finisher"); o.addSneakAttackAtLevel_qt1dr2$(1, 2, 6), o.addSneakAttackAtLevel_qt1dr2$(5, 3, 6), o.addSneakAttackAtLevel_qt1dr2$(9, 4, 6), o.addSneakAttackAtLevel_qt1dr2$(13, 5, 6), o.addSneakAttackAtLevel_qt1dr2$(17, 6, 6), e.hashMapSneakAttackTracks.put_xwzc9p$("Swashbuckler Precise Strike Finisher", o) } else e.hashMapSneakAttackTracks.remove_11rb$("Swashbuckler Precise Strike Finisher") }, OQ.$metadata$ = { kind: p, interfaces: [xX] }, FQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().PERFORMANCE]), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Swashbuckler Style", "GENERAL_Fascinating Performance", se().FEATS_GENERAL, 1), WQ().addStyleTricks_0(i, t, e, pK().PERFORMANCE) }, FQ.$metadata$ = { kind: p, interfaces: [xX] }, BQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().INTIMIDATION]), WQ().addStyleTricks_0(i, t, e, pK().INTIMIDATION) }, BQ.$metadata$ = { kind: p, interfaces: [xX] }, jQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().DECEPTION]), WQ().addStyleTricks_0(i, t, e, pK().DECEPTION) }, jQ.$metadata$ = { kind: p, interfaces: [xX] }, HQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().ATHELTICS]), WQ().addStyleTricks_0(i, t, e, pK().ATHELTICS) }, HQ.$metadata$ = { kind: p, interfaces: [xX] }, qQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().DIPLOMACY]), t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Swashbuckler Style", "GENERAL_Bon Mot", se().FEATS_GENERAL, 1), WQ().addStyleTricks_0(i, t, e, pK().DIPLOMACY) }, qQ.$metadata$ = { kind: p, interfaces: [xX] }, zQ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_SWASHBUCKLER); o(e.get_11rb$("Precise Strike")).specialEffect = new OQ; var i = e.get_11rb$("Swashbuckler's Style"), a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_SWASHBUCKLER_STYLES); o(i).hashMapSpecialChoices.put_xwzc9p$("Select Style", a), o(a.get_11rb$("Battledancer")).specialEffect = new FQ, o(a.get_11rb$("Braggart")).specialEffect = new BQ, o(a.get_11rb$("Fencer")).specialEffect = new jQ, o(a.get_11rb$("Gymnast")).specialEffect = new HQ, o(a.get_11rb$("Wit")).specialEffect = new qQ }, UQ.prototype.generateList_rci9f8$ = function (t, e, i, a) { var r, n, s, l, c = new Ya(t); c.createSnapshot_vy76y1$(e, i); var p = u(); for (r = t.managerFeats.getFeatsOfType_e726qm$(e, c, se().FEATS_SKILL, !0, a, i).values.iterator(); r.hasNext();) { var h = r.next(); if (null != h.hashMapRequiredProficiences) for (n = o(h.hashMapRequiredProficiences).keys.iterator(); n.hasNext();) { var d = n.next(); (m(d, pK().ACROBATICS) || m(d, this.closure$additionalSkillName)) && p.add_11rb$(h.id) } } if (o(LZ().SKILLS_DEPENDENT_MAP).containsKey_11rb$(this.closure$additionalSkillName)) for (s = o(LZ().SKILLS_DEPENDENT_MAP.get_11rb$(this.closure$additionalSkillName)), l = 0; l !== s.length; ++l) { var _ = s[l]; p.add_11rb$(_) } return p.addAll_brywnq$(LZ().listMissingGenericSkillFeats), p }, UQ.$metadata$ = { kind: p, interfaces: [Lo] }, zQ.prototype.addStyleTricks_0 = function (t, e, i, a) { var r, n = new Int32Array([3, 7, 15]), o = new UQ(a); for (r = 0; r !== n.length; ++r) { var s = n[r], l = Ru(); l.featsOnTheFlyGenerator = o, l.level = s, l.featType = se().FEATS_SKILL, l.specificHeader = "Stylish Tricks Feat", e.getGuiUpdateControl().addExtraFeatRefreshLevel_hdt6c$(i, s), re().addFeatChoice_afybq0$(t, e, i, "Stylist Tricks " + s, l) } }, zQ.$metadata$ = { kind: f, simpleName: "SpecialsSwashbuckler", interfaces: [] }; var GQ = null; function WQ() { return null === GQ && new zQ, GQ } function YQ() { f0 = this } function VQ() { } function KQ() { } function XQ() { } function JQ() { } function ZQ() { } function QQ() { } function t0() { } function e0() { } function i0() { } function a0(t) { this.closure$lessonName = t } function r0(t) { this.closure$lessonName = t } function n0(t) { this.closure$lessonName = t } function o0(t) { this.closure$lessonName = t } function s0(t) { this.closure$lessonName = t } function l0(t) { this.closure$lessonName = t } function c0(t) { this.closure$lessonName = t } function p0(t) { this.closure$lessonName = t } function h0(t) { this.closure$lessonName = t } function d0(t) { this.closure$lessonName = t } function u0(t) { this.closure$lessonName = t } function _0(t) { this.closure$lessonName = t } VQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { y0().setSpellList_0(e, 2), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().OCCULTISM]), y0().addBonusSpell_9346a$(i, t, e, "Ray of Enfeeblement", a), re().addAwardedPower_ujte31$(i, e, "Patron 1", P0("Evil Eye", a, 1)) }, VQ.$metadata$ = { kind: p, interfaces: [xX] }, KQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { y0().setSpellList_0(e, 2), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().OCCULTISM]), y0().addBonusSpell_9346a$(i, t, e, "True Strike", a), re().addAwardedPower_ujte31$(i, e, "Patron 1", P0("Nudge Fate", a, 1)) }, KQ.$metadata$ = { kind: p, interfaces: [xX] }, XQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { y0().setSpellList_0(e, 1), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().RELIGION]), y0().addBonusSpell_9346a$(i, t, e, "Command", a), re().addAwardedPower_ujte31$(i, e, "Patron 1", P0("Stoke the Heart", a, 1)) }, XQ.$metadata$ = { kind: p, interfaces: [xX] }, JQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { y0().setSpellList_0(e, 2), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().OCCULTISM]), y0().addBonusSpell_9346a$(i, t, e, "Sleep", a), re().addAwardedPower_ujte31$(i, e, "Patron 1", P0("Shroud of Night", a, 1)) }, JQ.$metadata$ = { kind: p, interfaces: [xX] }, ZQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { y0().setSpellList_0(e, 0), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().ARCANA]), y0().addBonusSpell_9346a$(i, t, e, "Magic Weapon", a), re().addAwardedPower_ujte31$(i, e, "Patron 1", P0("Discern Secrets", a, 1)) }, ZQ.$metadata$ = { kind: p, interfaces: [xX] }, QQ.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { y0().setSpellList_0(e, 3), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().NATURE]), re().addAwardedPower_ujte31$(i, e, "Patron 1", P0("Wilding Word", a, 1)) }, QQ.$metadata$ = { kind: p, interfaces: [xX] }, t0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { y0().setSpellList_0(e, 3), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().NATURE]), y0().addBonusSpell_9346a$(i, t, e, "Gust of Wind", a), re().addAwardedPower_ujte31$(i, e, "Patron 1", P0("Clinging Ice", a, 1)) }, t0.$metadata$ = { kind: p, interfaces: [xX] }, e0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { y0().setSpellList_0(e, 2), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().OCCULTISM]), y0().addBonusSpell_9346a$(i, t, e, "Chilling Spray", a), re().addAwardedPower_ujte31$(i, e, "Patron 1", P0("Spirit Object", a, 1)) }, e0.$metadata$ = { kind: p, interfaces: [xX] }, i0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { y0().setSpellList_0(e, 3), re().addClassBackgroundConflictingSkills_b47hup$(i, t, e, [pK().NATURE]), y0().addBonusSpell_9346a$(i, t, e, "Pest Form", a), re().addAwardedPower_ujte31$(i, e, "Patron 1", P0("Buzzing Bites", a, 1)) }, i0.$metadata$ = { kind: p, interfaces: [xX] }, YQ.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WITCH).get_11rb$("Patron"), i = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WITCH_PATRONS); o(e).hashMapSpecialChoices.put_xwzc9p$("Select Patron", i), o(i.get_11rb$("Curse")).specialEffect = new VQ, o(i.get_11rb$("Fate")).specialEffect = new KQ, o(i.get_11rb$("Fervor")).specialEffect = new XQ, o(i.get_11rb$("Night")).specialEffect = new JQ, o(i.get_11rb$("Rune")).specialEffect = new ZQ, o(i.get_11rb$("Wild")).specialEffect = new QQ, o(i.get_11rb$("Winter")).specialEffect = new t0, o(i.get_11rb$("Baba Yaga")).specialEffect = new e0, o(i.get_11rb$("Mosquito Witch")).specialEffect = new i0 }, YQ.prototype.setSpellList_0 = function (t, i) { var a, r = null == (a = t.hashMapSpellCasters.get_11rb$(Bn().CLASS_NAME)) || e.isType(a, h2) ? a : d(); null != r && r.setTradition_vy76y1$(t, i) }, YQ.prototype.addBonusSpell_9346a$ = function (t, i, a, r, n) { if (t) { var s = a.hashMapExtraWitchKnownSpells, l = o(r); s.put_xwzc9p$(l, n) } else { var c, p = a.hashMapExtraWitchKnownSpells; (e.isType(c = p, rt) ? c : d()).remove_11rb$(r) } }, YQ.prototype.getMajorLessons_4lmjjp$ = function (t, e, i, a) { var r, n, s, l = HX(); l.level = i; var p = c(), h = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WITCH_LESSONS_MAJOR); for (r = h.keys.iterator(); r.hasNext();) { var d = r.next(), u = h.get_11rb$(d); o(u).specialEffect = this.getMajorLessonEffect_0(d), p.put_xwzc9p$(d, u) } var _ = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WITCH_LESSONS_GREATER); for (n = _.keys.iterator(); n.hasNext();) { var f = n.next(), y = _.get_11rb$(f); o(y).specialEffect = this.getGreaterLessonEffect_0(f), p.put_xwzc9p$(f, y) } var m = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WITCH_LESSONS); for (s = m.keys.iterator(); s.hasNext();) { var $ = s.next(), g = m.get_11rb$($); o(g).specialEffect = this.getBasicLessonEffect_0($), p.put_xwzc9p$($, g) } return l.hashMapSpecialChoices.put_xwzc9p$("Select Major Lesson", p), l }, YQ.prototype.getGreaterLessons_4lmjjp$ = function (t, e, i, a) { var r, n, s = HX(); s.level = i; var l = c(), p = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WITCH_LESSONS_GREATER); for (r = p.keys.iterator(); r.hasNext();) { var h = r.next(), d = p.get_11rb$(h); o(d).specialEffect = this.getGreaterLessonEffect_0(h), l.put_xwzc9p$(h, d) } var u = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WITCH_LESSONS); for (n = u.keys.iterator(); n.hasNext();) { var _ = n.next(), f = u.get_11rb$(_); o(f).specialEffect = this.getBasicLessonEffect_0(_), l.put_xwzc9p$(_, f) } return s.hashMapSpecialChoices.put_xwzc9p$("Select Greater Lesson", l), s }, YQ.prototype.getBasicLessons_4lmjjp$ = function (t, e, i, a) { var r, n = HX(); n.level = i; var s = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_WITCH_LESSONS); for (r = s.keys.iterator(); r.hasNext();) { var l = r.next(), c = s.get_11rb$(l); o(c).specialEffect = this.getBasicLessonEffect_0(l) } return n.hashMapSpecialChoices.put_xwzc9p$("Select Basic Lesson", s), n }, a0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Blood Ward", a, 1)), y0().addBonusSpell_9346a$(i, t, e, "Mage Armor", a) }, a0.$metadata$ = { kind: p, interfaces: [xX] }, r0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Elemental Betrayal", a, 1)) }, r0.$metadata$ = { kind: p, interfaces: [xX] }, n0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Life Boost", a, 1)), y0().addBonusSpell_9346a$(i, t, e, "Spirit Link", a) }, n0.$metadata$ = { kind: p, interfaces: [xX] }, o0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Needle of Vengeance", a, 1)), y0().addBonusSpell_9346a$(i, t, e, "Phantom Pain", a) }, o0.$metadata$ = { kind: p, interfaces: [xX] }, s0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Veil of Dreams", a, 1)), y0().addBonusSpell_9346a$(i, t, e, "Sleep", a) }, s0.$metadata$ = { kind: p, interfaces: [xX] }, l0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Stumbling Curse", a, 1)), y0().addBonusSpell_9346a$(i, t, e, "Ill Omen", a) }, l0.$metadata$ = { kind: p, interfaces: [xX] }, YQ.prototype.getBasicLessonEffect_0 = function (t) { switch (t) { case "Lesson of Protection": return new a0(t); case "Lesson of the Elements": return new r0(t); case "Lesson of Life": return new n0(t); case "Lesson of Vengeance": return new o0(t); case "Lesson of Dreams": return new s0(t); case "Lesson of Calamity": return new l0(t) }return null }, c0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Deceiver's Cloak", a, 1)), y0().addBonusSpell_9346a$(i, t, e, "Mad Monkeys", a) }, c0.$metadata$ = { kind: p, interfaces: [xX] }, p0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Malicious Shadow", a, 1)), y0().addBonusSpell_9346a$(i, t, e, "Chilling Darkness", a) }, p0.$metadata$ = { kind: p, interfaces: [xX] }, h0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Personal Blizzard", a, 1)), y0().addBonusSpell_9346a$(i, t, e, "Wall of Wind", a) }, h0.$metadata$ = { kind: p, interfaces: [xX] }, YQ.prototype.getGreaterLessonEffect_0 = function (t) { switch (t) { case "Lesson of Mischief": return new c0(t); case "Lesson of Shadow": return new p0(t); case "Lesson of Snow": return new h0(t) }return null }, d0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Curse of Death", a, 1)), y0().addBonusSpell_9346a$(i, t, e, "Raise Dead", a) }, d0.$metadata$ = { kind: p, interfaces: [xX] }, u0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Restorative Moment", a, 1)), y0().addBonusSpell_9346a$(i, t, e, "Field of Life", a) }, u0.$metadata$ = { kind: p, interfaces: [xX] }, _0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addAwardedPower_ujte31$(i, e, this.closure$lessonName, P0("Glacial Heart", a, 1)), y0().addBonusSpell_9346a$(i, t, e, "Wall of Ice", a) }, _0.$metadata$ = { kind: p, interfaces: [xX] }, YQ.prototype.getMajorLessonEffect_0 = function (t) { switch (t) { case "Lesson of Death": return new d0(t); case "Lesson of Renewal": return new u0(t); case "Lesson of the Frozen Queen": return new _0(t) }return null }, YQ.prototype.getWitchOrArchetypeSpellCaster_0 = function (t) { var e = t.hashMapSpellCasters.get_11rb$(Bn().CLASS_NAME); return null == e && (e = t.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WITCH)), e }, YQ.$metadata$ = { kind: f, simpleName: "SpecialsWitch", interfaces: [] }; var f0 = null; function y0() { return null === f0 && new YQ, f0 } function m0() { E0 = this, this.UNIVERSALIST_0 = "Universalist", this.SPECIAL_REF_ARCANE_SCHOOL = "Arcane School", this.SPECIAL_CHOICE_ARCANE_SCHOOL = "Select Arcane School" } function $0() { } function g0() { } function v0() { } function S0(t, e, i, a) { this.closure$specialInformation = t, this.closure$dataControl = e, this.closure$characterBuild = i, S3(a, this) } function C0() { } $0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { t.managerFeats.activateAndAddFreeFeat_ubuv6q$(e, i, "Arcane Thesis", "WIZARD_Familiar", se().FEATS_WIZARD, a), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, "Arcane Thesis 1", DW(1, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, "Arcane Thesis 2", DW(6, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, "Arcane Thesis 3", DW(12, 1)), re().addFamiliarAbilitySelection_wifd5v$(i, t, e, "Arcane Thesis 4", DW(18, 1)) }, $0.$metadata$ = { kind: p, interfaces: [xX] }, g0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { var n, s = Ru(); for (s.level = a, s.featType = se().FEATS_WIZARD, n = o(t.managerFeats.hashMapFeatsByCategory.get_11rb$(se().FEATS_WIZARD)).values.iterator(); n.hasNext();) { var l = n.next(); _(l.getTraits().toLowerCase(), "metamagic") && s.listFeatIDs.add_11rb$(l.id) } re().addFeatChoice_afybq0$(i, t, e, "Arcane Thesis", s) }, g0.$metadata$ = { kind: p, interfaces: [xX] }, m0.prototype.setSpecialMethods_sfkw43$ = function (t) { var e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WIZARD); this.setWizardSchoolSpecials_sfkw43$(t); var i = e.get_11rb$("Arcane Thesis"), a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WIZARD_THESES); o(i).hashMapSpecialChoices.put_xwzc9p$("Select Thesis", a), o(a.get_11rb$("Improved Familiar Attunement")).specialEffect = new $0, o(a.get_11rb$("Metamagical Experimentation")).specialEffect = new g0 }, S0.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { var i, a = this.closure$specialInformation.name, r = this.closure$dataControl.managerSpells.getListSpellsAtLevel_bh8xs5$(this.closure$characterBuild, t, e), n = u(); for (i = r.iterator(); i.hasNext();) { var s = i.next(); _(s.traits.toLowerCase(), o(a).toLowerCase()) && n.add_11rb$(s) } return n }, S0.$metadata$ = { kind: p, interfaces: [v3] }, v0.prototype.activateSpecial_4nh7z0$ = function (t, i, a, r, n) { try { var l, c = VK().hashMapArcaneSchoolPowers, p = o(n).name, u = (e.isType(l = c, y) ? l : d()).get_11rb$(p); re().increaseFocusPoints_sfpo92$(a, i, "Wizard Arcane School", DW(r, 1)), re().addAwardedPower_ujte31$(a, i, "Wizard Arcane School", P0(o(u), r, 1)); for (var _ = i.hashMapSpellCasters.get_11rb$(Gn().CLASS_WIZARD), f = 0; f <= 9; f++) { var m = Gn().CLASS_WIZARD + "Bonus" + f.toString(); if (a) { var $ = new S0(n, t, i, f); $.header = "School Spell", o(_).getHashMapBonusSpell_fhac18$(t, i).put_xwzc9p$(m, $) } else o(_).getHashMapBonusSpell_fhac18$(t, i).remove_11rb$(m) } if (a && i.isRunelord) { var g, v = DX().MAP_INITIAL, S = o(n).name, C = (e.isType(g = v, y) ? g : d()).get_11rb$(S); null != C && (re().addAwardedPower_ujte31$(a, i, "Runelord Initial", P0(C, 1, 1)), re().increaseFocusPoints_sfpo92$(a, i, "Runelord Initial", DW(1, 1))); var E, A = DX().MAP_ADVANCED, b = o(n).name, I = (e.isType(E = A, y) ? E : d()).get_11rb$(b); null != I && (re().addAwardedPower_ujte31$(a, i, "Runelord Advanced", P0(I, 8, 1)), re().increaseFocusPoints_sfpo92$(a, i, "Runelord Advanced", DW(8, 1))) } else i.hashMapAwardedPowers.remove_11rb$("Runelord Initial"), i.hashMapAwardedPowers.remove_11rb$("Runelord Advanced"), i.hashMapFocusPointIncreaseItems.remove_11rb$("Runelord Initial"), i.hashMapFocusPointIncreaseItems.remove_11rb$("Runelord Advanced") } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, v0.$metadata$ = { kind: p, interfaces: [xX] }, C0.prototype.activateSpecial_4nh7z0$ = function (t, e, i, a, r) { re().addFeatChoice_afybq0$(i, t, e, se().FEATS_WIZARD + "Wizard Universalist", Nu(se().FEATS_CLASS, a, Gn().CLASS_WIZARD)) }, C0.$metadata$ = { kind: p, interfaces: [xX] }, m0.prototype.setWizardSchoolSpecials_sfkw43$ = function (t) { var i, a = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WIZARD).get_11rb$("Arcane School"), r = t.managerSpecials.getCopyOfSpecials_61zpoe$(BK().SPECIALS_ARCANE_SCHOOLS); for (o(a).hashMapSpecialChoices.put_xwzc9p$("Select Arcane School", r), i = r.values.iterator(); i.hasNext();) { var n = i.next(); try { if (m(n.name, this.UNIVERSALIST_0)) n.specialEffect = new C0; else { var l, c, p = VK().hashMapArcaneSchoolPowers, u = n.name, _ = (e.isType(l = p, y) ? l : d()).get_11rb$(u), f = t.managerSpells.hashMapSpells, $ = (e.isType(c = f, y) ? c : d()).get_11rb$(_); n.textDescription = n.textDescription + "<br><br><b>Arcane Power</b>: " + o($).name + "<br>", n.textDescription = n.textDescription + $.description, n.specialEffect = new v0 } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } } }, m0.$metadata$ = { kind: f, simpleName: "SpecialsWizard", interfaces: [] }; var E0 = null; function A0() { return null === E0 && new m0, E0 } function b0(t, e) { k0(), W0.call(this, t), this.hashMapSpells = c(), this.hashMapSpellLists = c(), this.hashMapSpells = e.getSpells(); var i = this.hashMapSpellLists, a = e.getSpellList_za3lpa$(0); i.put_xwzc9p$(0, a); var r = this.hashMapSpellLists, n = e.getSpellList_za3lpa$(1); r.put_xwzc9p$(1, n); var o = this.hashMapSpellLists, s = e.getSpellList_za3lpa$(2); o.put_xwzc9p$(2, s); var l = this.hashMapSpellLists, p = e.getSpellList_za3lpa$(3); l.put_xwzc9p$(3, p); var h = this.hashMapSpellLists, d = e.getSpellList_za3lpa$(5); h.put_xwzc9p$(5, d); var u = this.hashMapSpellLists, _ = e.getSpellList_za3lpa$(6); u.put_xwzc9p$(6, _) } function I0(t, e, i) { this.this$ManagerSpells = t, this.closure$characterBuild = e, S3(i, this) } function w0() { T0 = this, this.SPELL_LIST_ARCANE = 0, this.SPELL_LIST_DIVINE = 1, this.SPELL_LIST_OCCULT = 2, this.SPELL_LIST_PRIMAL = 3, this.SPELL_LIST_WITCH = 4, this.SPELL_LIST_ELEMENTAL = 5, this.SPELL_LIST_NONSTANDARD = 6, this.ARRAY_SPELL_LISTS = ["Arcane", "Divine", "Occult", "Primal"], this.SCHOOL_ABJURATION = "Abjuration", this.SCHOOL_CONJURATION = "Conjuration", this.SCHOOL_DIVINATION = "Divination", this.SCHOOL_ENCHANTMENT = "Enchantment", this.SCHOOL_EVOCATION = "Evocation", this.SCHOOL_ILLUSION = "Illusion", this.SCHOOL_NECROMANCY = "Necromancy", this.SCHOOL_TRANSMUTATION = "Transmutation", this.ARRAY_SCHOOLS = [this.SCHOOL_ABJURATION, this.SCHOOL_CONJURATION, this.SCHOOL_DIVINATION, this.SCHOOL_ENCHANTMENT, this.SCHOOL_EVOCATION, this.SCHOOL_ILLUSION, this.SCHOOL_NECROMANCY, this.SCHOOL_TRANSMUTATION], this.HASHMAP_SPELLLIST_NAME_TO_INT = g([$(pK().PROFICIENCY_SPELLS_ARCANE, 0), $(pK().PROFICIENCY_SPELLS_DIVINE, 1), $(pK().PROFICIENCY_SPELLS_OCCULT, 2), $(pK().PROFICIENCY_SPELLS_PRIMAL, 3), $("Witch", 4), $("Elementalist", 5), $("Nonstandard", 6)]) } function L0(t, i) { var a = t.level - i.level | 0; return 0 !== a ? a : e.compareTo(t.name, i.name) } b0.prototype.loadUserCreatedBonusSpellsAndBlendingOnLoad_5btbp7$ = function (t) { var e, i, a, r, n; for (e = t.getCharacterData().getHashMapBonusSpellSlots().keys.iterator(); e.hasNext();) { var s = e.next(), l = t.hashMapSpellCasters.get_11rb$(s); if (null != l) { var p = null != (i = t.getCharacterData().getHashMapBonusSpellPerDay().get_11rb$(s)) ? i : c(), h = null != (a = t.getCharacterData().getHashMapBonusSpellPrepared().get_11rb$(s)) ? a : c(); if (1 === l.typeCaster && !l.flexibleCaster && t.getCharacterData().getHashMapBonusSpellSlots().containsKey_11rb$(s)) for (r = o(t.getCharacterData().getHashMapBonusSpellSlots().get_11rb$(s)).keys.iterator(); r.hasNext();) { var d = r.next(); h.put_xwzc9p$(d, !0) } l.addUserCreatedBonusSpellSlots_mm95vs$(this.dataControl, t, o(t.getCharacterData().getHashMapBonusSpellSlots().get_11rb$(s)), p, h) } } for (n = t.hashMapSpellCasters.values.iterator(); n.hasNext();) { var u = n.next(); this.setBlendedSpells_xnal2y$(t, u) } }, b0.prototype.clearPossiblyBlendedSpellAndRecalcutateBlending_4oflqk$ = function (t, e, i) { var a, r = null; if (t.getCharacterData().hashMapSpellBlending.containsKey_11rb$(e.casterName)) { for (a = o(t.getCharacterData().hashMapSpellBlending.get_11rb$(e.casterName)).iterator(); a.hasNext();) { var n = a.next(); m(n.spellSlotReference, i) && (r = n) } null != r && (o(t.getCharacterData().hashMapSpellBlending.get_11rb$(e.casterName)).remove_11rb$(r), this.setBlendedSpells_xnal2y$(t, e)) } }, b0.prototype.addBlendedSpell_b58gva$ = function (t, e, i) { if (!t.hashMapSpellBlending.containsKey_11rb$(e.casterName)) { var a = t.hashMapSpellBlending, r = e.casterName, n = u(); a.put_xwzc9p$(r, n) } o(t.hashMapSpellBlending.get_11rb$(e.casterName)).add_11rb$(i) }, I0.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { return this.this$ManagerSpells.dataControl.managerSpells.getListSpellsAtLevel_bh8xs5$(this.closure$characterBuild, t, e) }, I0.$metadata$ = { kind: p, interfaces: [v3] }, b0.prototype.setBlendedSpells_xnal2y$ = function (t, e) { var i, a, r, n = t.getCharacterData(); for (i = w(e.getHashMapBonusSpell_fhac18$(this.dataControl, t).keys).iterator(); i.hasNext();) { var s = i.next(); _(s, "BLENDED SPELL") && e.getHashMapBonusSpell_fhac18$(this.dataControl, t).remove_11rb$(s) } if (n.hashMapSpellBlending.containsKey_11rb$(e.casterName)) { for (var l = c(), p = 1; p <= 10; p++)l.put_xwzc9p$(p, 0); for (var h = 1; h <= 10; h++) { for (var d = o(l.get_11rb$(h)) / 2, f = C(I.floor(d)), y = 0; y < f; y++) { var m = e.casterName + " BLENDED SPELL " + j(h) + " " + j(y), $ = new I0(this, t, h); $.header = "Blended Spell", e.getHashMapBonusSpell_fhac18$(this.dataControl, t).put_xwzc9p$(m, $) } var g = this.getListAllSpellSlotRefsAtSpellLevel_0(t, e, h), v = u(); for (a = this.getListBlendedSpellsAtLevel_0(o(n.hashMapSpellBlending.get_11rb$(e.casterName)), h).iterator(); a.hasNext();) { var S = a.next(); if (g.contains_11rb$(S.spellSlotReference) && l.containsKey_11rb$(S.LevelTo)) { var E = S.LevelTo, A = 1 + o(l.get_11rb$(S.LevelTo)) | 0; l.put_xwzc9p$(E, A) } else v.add_11rb$(S) } for (r = v.iterator(); r.hasNext();) { var b = r.next(); o(n.hashMapSpellBlending.get_11rb$(e.casterName)).remove_11rb$(b) } } } }, b0.prototype.getListAllSpellSlotRefsAtSpellLevel_0 = function (t, e, i) { var a, r = u(); for (a = e.getHashMapBonusSpell_fhac18$(this.dataControl, t).keys.iterator(); a.hasNext();) { var n = a.next(); o(e.getHashMapBonusSpell_fhac18$(this.dataControl, t).get_11rb$(n)).spellLevel === i && r.add_11rb$(n) } for (var s = t.getCharacterData().getCharacterLevel(), l = e.getSpellsRepetoire_bh8xs5$(t, s, i), c = 0; c < l; c++) { var p = e.getSpellSlotReference_vux9f0$(i, c); r.add_11rb$(p) } return r }, b0.prototype.getListBlendedSpellsAtLevel_0 = function (t, e) { var i, a = u(); for (i = t.iterator(); i.hasNext();) { var r = i.next(); r.levelFrom === e && a.add_11rb$(r) } return a }, b0.prototype.getMaxFocusPoints_5btbp7$ = function (t) { return this.getMaxFocusPointsAtLevel_vy76y1$(t, t.getCharacterData().getCharacterLevel()) }, b0.prototype.getMaxFocusPointsAtLevel_vy76y1$ = function (t, e) { var i, a, r, n = 0, s = c(); for (i = t.hashMapFocusPointIncreaseItems.values.iterator(); i.hasNext();) { var l = i.next(); if (e >= l.level) { if (!s.containsKey_11rb$(l.level)) { var p = l.level, h = u(); s.put_xwzc9p$(p, h) } o(s.get_11rb$(l.level)).add_11rb$(l) } } var d = c(); for (a = t.hashMapAwardedPowers.values.iterator(); a.hasNext();) { var _ = a.next(); if (e >= _.level) { if (!d.containsKey_11rb$(_.level)) { var f = _.level, y = u(); d.put_xwzc9p$(f, y) } o(d.get_11rb$(_.level)).add_11rb$(_) } } for (var m = 1; m <= e; m++) { if (s.containsKey_11rb$(m)) for (r = o(s.get_11rb$(m)).iterator(); r.hasNext();)n = n + r.next().increase | 0; 0 === n && this.hasFocusSpellAtLevel_0(d, m) && (n = 1) } return n > 3 && (n = 3), n }, b0.prototype.hasFocusSpellAtLevel_0 = function (t, e) { var i; if (t.containsKey_11rb$(e)) for (i = o(t.get_11rb$(e)).iterator(); i.hasNext();)if (!i.next().compositionCantrip) return !0; return !1 }, b0.prototype.getAllBloodlineSpellsAtLevel_vy76y1$ = function (t, e) { var i, a = u(); for (i = this.dataControl.managerSpecials.getBloodlineSet().list.iterator(); i.hasNext();) { var r = i.next(), n = r.sCantrip; switch (e) { case 1: n = r.s1st; break; case 2: n = r.s2nd; break; case 3: n = r.s3rd; break; case 4: n = r.s4th; break; case 5: n = r.s5th; break; case 6: n = r.s6th; break; case 7: n = r.s7th; break; case 8: n = r.s8th; break; case 9: n = r.s9th }var o = this.hashMapSpells.get_11rb$(n); null != o && Ic().isEnabled_kc4y8q$(t.getCharacterData(), o.src) && !a.contains_11rb$(o) && a.add_11rb$(o) } return a }, b0.prototype.getListSpellsAtLevel_bh8xs5$ = function (t, i, a) { var r, n, l, c; if (5 === i) try { var p = o(this.hashMapSpellLists.get_11rb$(i)).get_11rb$(a), d = u(); for (r = o(p).iterator(); r.hasNext();) { var _ = r.next(), f = this.hashMapSpells.get_11rb$(_); null != f ? Ic().isEnabled_kc4y8q$(t.getCharacterData(), f.src) && d.add_11rb$(f) : k(se().TAG + "NULL SPELL INFORMATION list " + j(i) + " spell level " + j(a) + " " + _) } return d } catch (t) { if (!e.isType(t, h)) throw t; s(t), k(se().TAG + "NULL RETURN FOR spelllist " + j(i) + " spell level " + j(a)) } if (4 === i) try { var y = t.hashMapSpellCasters.get_11rb$(Bn().CLASS_NAME); if (null == y && (y = t.hashMapSpellCasters.get_11rb$(o3().ARCHETYPE_CASTER_WITCH)), null != y) { var m = y.spellList, $ = o(this.hashMapSpellLists.get_11rb$(m)).get_11rb$(a), g = u(); for (n = o($).iterator(); n.hasNext();) { var v = n.next(), S = this.hashMapSpells.get_11rb$(v); null != S ? Ic().isEnabled_kc4y8q$(t.getCharacterData(), S.src) && g.add_11rb$(S) : k(se().TAG + "NULL SPELL INFORMATION list " + j(i) + " spell level " + j(a) + " " + v) } for (l = t.hashMapExtraWitchKnownSpells.keys.iterator(); l.hasNext();) { var C = l.next(); if (t.getCharacterData().getCharacterLevel() >= o(t.hashMapExtraWitchKnownSpells.get_11rb$(C))) { var E = this.hashMapSpells.get_11rb$(C); null != E && (E.level !== a || g.contains_11rb$(E) || g.add_11rb$(E)) } } return g } } catch (t) { if (!e.isType(t, h)) throw t; s(t), k(se().TAG + "NULL RETURN FOR spelllist " + j(i) + " spell level " + j(a)) } try { var A = o(this.hashMapSpellLists.get_11rb$(i)).get_11rb$(a), b = u(); for (c = o(A).iterator(); c.hasNext();) { var I = c.next(), w = this.hashMapSpells.get_11rb$(I); null != w ? Ic().isEnabled_kc4y8q$(t.getCharacterData(), w.src) && b.add_11rb$(w) : k(se().TAG + "NULL SPELL INFORMATION list " + j(i) + " spell level " + j(a) + " " + I) } return t.isRunelord ? this.getRuneLordSpellList_0(t, b) : b } catch (t) { if (!e.isType(t, h)) throw t; s(t), k(se().TAG + "NULL RETURN FOR spelllist " + j(i) + " spell level " + j(a)) } return u() }, b0.prototype.getRuneLordSpellList_0 = function (t, e) { var i, a = u(), r = t.getCharacterData().getSpecialSelection_puj7f4$(A0().SPECIAL_REF_ARCANE_SCHOOL, A0().SPECIAL_CHOICE_ARCANE_SCHOOL); if (null == r || m(r, "Divination")) return e; var n = DX().MAP_PROHIBITED1.get_11rb$(r), o = DX().MAP_PROHIBITED2.get_11rb$(r); if (null == n || null == o) return e; for (i = e.iterator(); i.hasNext();) { var s = i.next(); _(s.traits, n) || _(s.traits, o) || a.add_11rb$(s) } return a }, b0.prototype.getSpellName_hs9j5r$ = function (t, e, i) { var a = t; return e > 0 && (a = a + " (H+" + e + ")"), a }, b0.prototype.getHighestSpellCasterTraining_vy76y1$ = function (t, e) { var i, a, r = 0; for (i = pK().ARRAY_SPELL_PROFICIENCIES, a = 0; a !== i.length; ++a) { var n = i[a], s = t.getProficiency_61zpoe$(n), l = o(s).getProficiencyAtLevel_za3lpa$(e); l > r && (r = l) } return r }, b0.prototype.getCasterOrArchetypeCaster_p1uyfg$ = function (t, i) { var a; for (a = 0; a !== i.length; ++a) { var r, n = i[a], o = t.hashMapSpellCasters, s = (e.isType(r = o, y) ? r : d()).get_11rb$(n); if (null != s) return s } return null }, b0.prototype.getMaxInfusedReagents_5btbp7$ = function (t) { var e; if (Wr().isAlchemicalSciences_5btbp7$(t)) return this.getAlchemicalScienceTotal_0(t); var i = t.getCharacterData().getCharacterLevel(); if (m(t.getCharacterData().getClassName(), er().CLASS_ALCHEMIST)) { var a = pe().getAbilityMod_za3lpa$(o(t.getPlayReportAbilityScores_sfkw43$(this.dataControl)).abilityScoresBuffed[3]); a > 0 && (i = i + a | 0) } else if (null != t.getCharacterData().getDualClass() && m(t.getCharacterData().getDualClass(), er().CLASS_ALCHEMIST)) { var r = pe().getAbilityMod_za3lpa$(o(t.getPlayReportAbilityScores_sfkw43$(this.dataControl)).abilityScoresBuffed[3]); r > 0 && (i = i + r | 0) } for (e = t.hashMapExtraInfusedReagents.values.iterator(); e.hasNext();) { var n = e.next(); t.getCharacterData().getCharacterLevel() >= n.level && (i = i + n.increase | 0) } return i }, b0.prototype.getAlchemicalScienceTotal_0 = function (t) { var e = pe().getAbilityMod_za3lpa$(o(t.getPlayReportAbilityScores_sfkw43$(this.dataControl)).abilityScoresBuffed[3]); if (Lq().hasFeatByLevel_w0akbr$(t, "no feat ref", t.getCharacterData().getCharacterLevel(), "INVESTIGATOR_Alchemical Discoveries")) { var i = o(t.getSkillProficiency_61zpoe$(pK().CRAFTING)).getProficiencyAtLevel_za3lpa$(t.getCharacterData().getCharacterLevel()); 8 === i ? e = e + 3 | 0 : 6 === i ? e = e + 2 | 0 : 4 === i && (e = e + 1 | 0) } return e }, b0.prototype.getBatchSize_u2i524$ = function (t, e) { var i = 0; if (20 === t.getCharacterData().getCharacterLevel() && Lq().hasFeatByLevel_w0akbr$(t, "No ref", 20, "ALCHEMIST_Efficient Alchemy (Broken Promises)") && (i = 1), t.getCharacterData().getCharacterLevel() >= 5) { if (_(e.traits.toLowerCase(), "bomb") && 1 === t.researchField) return 3 + i | 0; if (_(e.traits.toLowerCase(), "mutagen") && 3 === t.researchField) return 3 + i | 0; if (_(e.name.toLowerCase(), "elixir of life") && 2 === t.researchField) return 3 + i | 0; if (_(e.traits.toLowerCase(), "poison") && 4 === t.researchField) return 3 + i | 0 } return k0().isSignatureFormula_o7np2w$(t, e.uniqueIdentiier) ? 3 + i | 0 : 2 + i | 0 }, b0.prototype.getSpellListForSpell_hs9j5r$ = function (t, i, a) { var r; try { if (B(o(o(this.hashMapSpellLists.get_11rb$(a)).get_11rb$(i)), t)) return a; for (r = this.hashMapSpellLists.keys.iterator(); r.hasNext();) { var n = r.next(); if (B(o(o(this.hashMapSpellLists.get_11rb$(n)).get_11rb$(i)), t)) return n } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return a }, b0.prototype.getSpellAttackBuff_5btbp7$ = function (t) { var e, i, a, r = t.getCharacterData(), n = 0, s = c(); for (e = t.hashMapSpellAttackBonuses.values.iterator(); e.hasNext();) { var l = e.next(); if (l.level <= r.getCharacterLevel()) if (m(l.bonusType, se().BONUS_TYPE_NAME_UNTYPED)) n = n + l.increase | 0; else { if (!s.containsKey_11rb$(l.bonusType)) { var p = l.bonusType, h = u(); s.put_xwzc9p$(p, h) } o(s.get_11rb$(l.bonusType)).add_11rb$(l) } } for (i = s.keys.iterator(); i.hasNext();) { var d = i.next(), _ = 0; for (a = o(s.get_11rb$(d)).iterator(); a.hasNext();) { var f = a.next(); f.increase >= _ && (_ = f.increase) } n = n + _ | 0 } return n }, w0.prototype.hasMultipleSignatureSpellsAtLevel_cvmu72$ = function (t, e, i) { return Lq().hasFeatByLevel_w0akbr$(e, "No feat ref", i, "SORCERER_Signature Spell Expansion") }, w0.prototype.isSignatureFormula_o7np2w$ = function (t, e) { return !(!t.getCharacterData().hashMapSignatureFormula.containsKey_11rb$(i3().ALCHEMY_ALCHEMIST) || !o(t.getCharacterData().hashMapSignatureFormula.get_11rb$(i3().ALCHEMY_ALCHEMIST)).contains_11rb$(o(e))) }, w0.prototype.setSignatureFormula_51qqyu$ = function (t, e, i) { var a, r; if (t) { if (!e.getCharacterData().hashMapSignatureFormula.containsKey_11rb$(i3().ALCHEMY_ALCHEMIST)) { var n = e.getCharacterData().hashMapSignatureFormula, o = i3().ALCHEMY_ALCHEMIST, s = u(); n.put_xwzc9p$(o, s) } null != (a = e.getCharacterData().hashMapSignatureFormula.get_11rb$(i3().ALCHEMY_ALCHEMIST)) && a.add_11rb$(i) } else e.getCharacterData().hashMapSignatureFormula.containsKey_11rb$(i3().ALCHEMY_ALCHEMIST) && null != (r = e.getCharacterData().hashMapSignatureFormula.get_11rb$(i3().ALCHEMY_ALCHEMIST)) && r.remove_11rb$(i) }, w0.prototype.knowsSpell_egl760$ = function (t, i, a) { if (null == i) return !1; if (t.getCharacterData().getHashMapKnownSpellsByCaster().containsKey_11rb$(i.casterName) && o(t.getCharacterData().getHashMapKnownSpellsByCaster().get_11rb$(i.casterName)).contains_11rb$(o(a))) return !0; var r, n = t.hashMapExtraWitchKnownSpells; if ((e.isType(r = n, y) ? r : d()).containsKey_11rb$(a)) { var s, l = t.getCharacterData().getCharacterLevel(), c = t.hashMapExtraWitchKnownSpells; if (l >= o((e.isType(s = c, y) ? s : d()).get_11rb$(a))) return !0 } return !1 }, w0.prototype.removeSpell_egl760$ = function (t, i, a) { var r, n; null != i && t.getCharacterData().getHashMapKnownSpellsByCaster().containsKey_11rb$(i.casterName) && null != (r = t.getCharacterData().getHashMapKnownSpellsByCaster().get_11rb$(i.casterName)) && (e.isType(n = r, ht) ? n : d()).remove_11rb$(a) }, w0.prototype.addSpell_1tozu1$ = function (t, e, i) { var a; if (null != e) { if (!t.getCharacterData().getHashMapKnownSpellsByCaster().containsKey_11rb$(e.casterName)) { var r = t.getCharacterData().getHashMapKnownSpellsByCaster(), n = e.casterName, o = u(); r.put_xwzc9p$(n, o) } null != (a = t.getCharacterData().getHashMapKnownSpellsByCaster().get_11rb$(e.casterName)) && a.add_11rb$(i) } }, w0.prototype.getListSortedPowers_5btbp7$ = function (t) { var e, i = u(); for (e = t.hashMapAwardedPowers.values.iterator(); e.hasNext();) { var a = e.next(); if (a.level <= t.getCharacterData().getCharacterLevel()) if (t.hashMapOverrideFocusSpells.containsKey_11rb$(a.name)) { var r = t.hashMapOverrideFocusSpells.get_11rb$(a.name), n = M0(o(r), a.level, 1, a.compositionCantrip); i.add_11rb$(n) } else i.add_11rb$(a) } return q(i, new G(L0)), i }, w0.prototype.isSlotBlended_g789m1$ = function (t, e, i) { var a; if (t.getCharacterData().hashMapSpellBlending.containsKey_11rb$(e)) for (a = o(t.getCharacterData().hashMapSpellBlending.get_11rb$(e)).iterator(); a.hasNext();) { var r = a.next(); if (m(r.spellSlotReference, i)) return r } return null }, w0.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var T0 = null; function k0() { return null === T0 && new w0, T0 } function R0() { this.name = null, this.level = 0, this.cost = 0, this.compositionCantrip = !1 } function P0(t, e, i, a) { return a = a || Object.create(R0.prototype), R0.call(a), a.name = t, a.level = e, a.cost = i, a } function M0(t, e, i, a, r) { return r = r || Object.create(R0.prototype), R0.call(r), r.name = t, r.level = e, r.cost = i, r.compositionCantrip = a, r } function N0(t, e, i) { z0(), this.spellSlotReference = t, this.levelFrom = e, this.LevelTo = i } function D0() { x0 = this } b0.$metadata$ = { kind: p, simpleName: "ManagerSpells", interfaces: [W0] }, R0.$metadata$ = { kind: p, simpleName: "AwardedPower", interfaces: [] }, D0.prototype.serializer = function () { return B0() }, D0.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var x0 = null; function z0() { return null === x0 && new D0, x0 } function O0() { this.descriptor_jxtecb$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerspells.BlendedSpell", this, 3), this.descriptor.addElement_ivxn3r$("spellSlotReference", !1), this.descriptor.addElement_ivxn3r$("levelFrom", !1), this.descriptor.addElement_ivxn3r$("LevelTo", !1), F0 = this } Object.defineProperty(O0.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_jxtecb$_0 } }), O0.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); i.encodeStringElement_iij8qq$(this.descriptor, 0, e.spellSlotReference), i.encodeIntElement_ptg7oe$(this.descriptor, 1, e.levelFrom), i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.LevelTo), i.endStructure_24f42q$(this.descriptor) }, O0.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n = 0, o = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = o.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = o.decodeStringElement_szpzho$(this.descriptor, 0), n |= 1; break; case 1: a = o.decodeIntElement_szpzho$(this.descriptor, 1), n |= 2; break; case 2: r = o.decodeIntElement_szpzho$(this.descriptor, 2), n |= 4; break; case -1: break t; default: throw new O(e) }return o.endStructure_24f42q$(this.descriptor), j0(n, i, a, r, null) }, O0.prototype.childSerializers = function () { return [M.StringSerializer, M.IntSerializer, M.IntSerializer] }, O0.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var F0 = null; function B0() { return null === F0 && new O0, F0 } function j0(t, e, i, a, r) { var n = r || Object.create(N0.prototype); if (0 == (1 & t)) throw J("spellSlotReference"); if (n.spellSlotReference = e, 0 == (2 & t)) throw J("levelFrom"); if (n.levelFrom = i, 0 == (4 & t)) throw J("LevelTo"); return n.LevelTo = a, n } function H0() { G0(), this.name = "", this.type = "", this.level = 1, this.traits = "", this.traditions = "", this.actions = -2, this.cast = "", this.description = "", this.descriptionHeightened = "", this.shortDes = "", this.src = Ic().BOOK_CRB, this.url = "", this.var1 = null, this.var2 = null, this.var3 = null, this.var4 = null, this.target = null, this.duration = null, this.range = null, this.save = null, this.area = null } function q0() { U0 = this, this.COLUMN_NAME = "name", this.COLUMN_TYPE = "type", this.COLUMN_LEVEL = "level", this.COLUMN_TRAITS = "traits", this.COLUMN_TRADITIONS = "traditions", this.COLUMN_ACTIONS = "actions", this.COLUMN_CAST = "cast", this.COLUMN_DESCRIPTION = "description", this.COLUMN_SHORTDES = "shortDes", this.COLUMN_SRC = "src", this.COLUMN_URL = "url", this.SPELL_TYPE_SPELL = "Spell", this.SPELL_TYPE_CANTRIP = "Cantrip", this.SPELL_TYPE_FOCUS = "Focus", this.CASTING_ACTION = "action", this.CASTING_REACTION = "reaction", this.CASTING_FREE = "free", this.CASTING_YES = "yes" } N0.$metadata$ = { kind: p, simpleName: "BlendedSpell", interfaces: [] }, Object.defineProperty(H0.prototype, "textOnlyDescription", { configurable: !0, get: function () { var t = "<b>Traits</b> " + this.traits + "<br><b>Casting</b> "; return this.actions > -2 && (t += pe().getStringFromActionSymbol_za3lpa$(this.actions) + " "), t += this.cast + "<br>", t += this.description } }), Object.defineProperty(H0.prototype, "textOnlyDescriptionNoTraits", { configurable: !0, get: function () { var t = "<b>Casting</b> "; return this.actions > -2 && (t += pe().getStringFromActionSymbol_za3lpa$(this.actions) + " "), t += this.cast + "<br>", t += this.description } }), H0.prototype.getHeightenedDescription_vux9f0$ = function (t, e) { var i = this.descriptionHeightened; return null != this.var1 && (i = L(i, "{v1}", this.getVarParsed_0(this.var1, t, e, !0)), null != this.var2 && (i = L(i, "{v2}", this.getVarParsed_0(this.var2, t, e, !0)), null != this.var3 && (i = L(i, "{v3}", this.getVarParsed_0(this.var3, t, e, !0)), null != this.var4 && (i = L(i, "{v4}", this.getVarParsed_0(this.var4, t, e, !0))))), t > this.level && (i += "<br><b>This spell has been auto-heightened</b>")), i }, H0.prototype.getVarParsed_0 = function (t, i, a, r) { var n; if (null == t) return ""; if (_(t, "INC ")) try { var o = L(t, "INC ", ""), c = V(v(o, ["+"]).get_za3lpa$(0)), p = V(v(o, ["+"]).get_za3lpa$(1)), h = i - this.level | 0; h < 0 && (h = 0); var d = c + e.imul(h, p) | 0; return d === c ? d.toString() : G0().getHeightenedTags_no852v$(c.toString(), d.toString(), i, this.level, r) } catch (t) { if (e.isType(t, l)) return s(t), ""; throw t } var u = v(t, ["~"]), f = ""; for (n = u.iterator(); n.hasNext();) { var y = n.next(); try { i >= V(v(y, ["#"]).get_za3lpa$(0)) && (f = v(y, ["#"]).get_za3lpa$(1)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } f = L(f, "+MOD", pe().getSignedValue_za3lpa$(a)); var $ = "1"; try { $ = v(u.get_za3lpa$(0), ["#"]).get_za3lpa$(1) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return m(f, $) ? f : G0().getHeightenedTags_no852v$($, f, i, this.level, r) }, H0.prototype.getHeightenedRange_vux9f0$ = function (t, e) { return this.getAbstrastHeightened_0(this.range, t, e) }, H0.prototype.getHeightenedTarget_vux9f0$ = function (t, e) { return this.getAbstrastHeightened_0(this.target, t, e) }, H0.prototype.getHeightenedArea_vux9f0$ = function (t, e) { return this.getAbstrastHeightened_0(this.area, t, e) }, H0.prototype.getHeightenedDuration_vux9f0$ = function (t, e) { return this.getAbstrastHeightened_0(this.duration, t, e) }, H0.prototype.getAbstrastHeightened_0 = function (t, e, i) { return null == t || 0 === t.length ? null : _(t, "{") ? _(t, "{v1}") ? L(t, "{v1}", this.getVarParsed_0(this.var1, e, i, !1)) : _(t, "{v2}") ? L(t, "{v2}", this.getVarParsed_0(this.var2, e, i, !1)) : _(t, "{v3}") ? L(t, "{v3}", this.getVarParsed_0(this.var3, e, i, !1)) : _(t, "{v4}") ? L(t, "{v4}", this.getVarParsed_0(this.var4, e, i, !1)) : t : t }, q0.prototype.getHeightenedTags_no852v$ = function (t, e, i, a, r) { return 0 === e.length ? "" : i !== a && r ? "<span class='green-text tooltip'>" + e + "<span class='tooltiptext'>Heightened from " + L(t, "+MOD", "your spellcasting ability modifier") + "</span></span>" : e }, q0.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var U0 = null; function G0() { return null === U0 && new q0, U0 } function W0(t) { this.dataControl = t } function Y0(t, e) { var i, a, r; for (X0(), W0.call(this, t), this.weaponRuneEffectMethods_0 = null, this.listWeaponGroups = u(), this.hashMapWeapons = c(), this.hashMapTraitWeapons = c(), this.weaponRuneEffectMethods_0 = new C1(t), this.hashMapWeapons = e.getWeapons(), this.hashMapTraitWeapons = e.getTraitWeapons(), i = this.hashMapWeapons.keys.iterator(); i.hasNext();) { var n = i.next(), s = this.hashMapWeapons.get_11rb$(n); this.listWeaponGroups.contains_11rb$(o(s).group) || this.listWeaponGroups.add_11rb$(s.group) } for (Q(this.listWeaponGroups), a = this.hashMapWeapons.values.iterator(); a.hasNext();) { var l = a.next(); if (l.databaseID > -1 && null != l.listCustomEffects) for (r = o(l.listCustomEffects).iterator(); r.hasNext();) { var p = r.next(), h = t.hashMapBuffIDsToNames, d = p.getReference_sfkw43$(t), _ = l.name; h.put_xwzc9p$(d, _) } } } function V0() { K0 = this } H0.$metadata$ = { kind: p, simpleName: "SpellInformation", interfaces: [] }, W0.$metadata$ = { kind: p, simpleName: "ManagerTemplate", interfaces: [] }, Y0.prototype.addIndividualWeaponProficiency_6pn2aj$ = function (t, i, a, r, n) { var s, l = t.hashMapIndividualWeaponProficiencies; if (!(e.isType(s = l, y) ? s : d()).containsKey_11rb$(a)) { var c = t.hashMapIndividualWeaponProficiencies, p = o(a), h = new nK; c.put_xwzc9p$(p, h) } var u, _ = t.hashMapIndividualWeaponProficiencies; o((e.isType(u = _, y) ? u : d()).get_11rb$(a)).setProficiencyAtLevel_3m52m6$(o(i), r, n) }, Y0.prototype.removeIndividualWeaponProficiency_6e5y5h$ = function (t, i, a) { var r, n = t.hashMapIndividualWeaponProficiencies; if ((e.isType(r = n, y) ? r : d()).containsKey_11rb$(a)) { var s, l = t.hashMapIndividualWeaponProficiencies; o((e.isType(s = l, y) ? s : d()).get_11rb$(a)).removeProficiencyAtLevel_61zpoe$(o(i)) } }, Y0.prototype.activateAllWeaponEffects_ryqv3o$ = function (t, e) { var i; for (i = e.getCharacterData().listPlayerWeapons.iterator(); i.hasNext();) { var a = i.next(); this.activatePlayerWeapon_clt9wi$(t, e, a) } }, Y0.prototype.activatePlayerWeapon_clt9wi$ = function (t, e, i) { var a, r; if (null != i) { var n = this.hashMapWeapons.get_11rb$(i.weaponName); if (null != n && null != n.listCustomEffects) for (a = o(n.listCustomEffects).iterator(); a.hasNext();)a.next().applyBonus_s8e943$(t, this.dataControl, o(e)); for (r = i.getListPropertyRunes().iterator(); r.hasNext();) { var s = r.next(); this.activateWeaponRune_kt1j5c$(t, e, i, s) } } }, Y0.prototype.activateWeaponRune_kt1j5c$ = function (t, e, i, a) { this.weaponRuneEffectMethods_0.hashMapRuneEfects.containsKey_11rb$(a) && o(this.weaponRuneEffectMethods_0.hashMapRuneEfects.get_11rb$(a)).applyEffect_yvh7p5$(e, o(i), t, a) }, Y0.prototype.changedWeaponProficiencyFromExoticToMartial_p6us9o$ = function (t, e, i, a) { if (2 === e.proficiencyType) { var r = t.hashMapChangedWeaponProficiencies, n = o(i), s = new J0(o(e.uniqueIdentiier), a, 1); r.put_xwzc9p$(n, s) } else if (1 === e.proficiencyType) { var l = t.hashMapChangedWeaponProficiencies, c = o(i), p = new J0(o(e.uniqueIdentiier), a, 0); l.put_xwzc9p$(c, p) } }, Y0.prototype.removeChangedWeaponProficiency_6e5y5h$ = function (t, i, a) { var r, n = t.hashMapChangedWeaponProficiencies; (e.isType(r = n, rt) ? r : d()).remove_11rb$(a) }, Y0.prototype.removeWeaponFromCharacterAndPets_t0kavo$ = function (t, e) { var i, a, r, n = u(); for (i = o(t).getCharacterData().listPlayerWeapons.iterator(); i.hasNext();) { var s = i.next(); m(s.weaponName, e) && n.add_11rb$(s) } for (a = n.iterator(); a.hasNext();) { var l = a.next(); t.getCharacterData().listPlayerWeapons.remove_11rb$(l) } for (r = t.hashMapPetCharacterBuilds.keys.iterator(); r.hasNext();) { var c = r.next(), p = t.hashMapPetCharacterBuilds.get_11rb$(c); this.removeWeaponFromCharacterAndPets_t0kavo$(p, e) } }, Y0.prototype.getWeaponProficiencyType_zici4a$ = function (t, i, a) { var r; if (null == i) return 0; var n = i, c = 0; try { var p = this.hashMapWeapons.get_11rb$(n); if (null != o(p).identity) { n = p.identity; var h, u = this.hashMapWeapons, _ = n; p = (e.isType(h = u, y) ? h : d()).get_11rb$(_) } for (c = o(p).proficiencyType, r = t.hashMapChangedWeaponProficiencies.values.iterator(); r.hasNext();) { var f = r.next(); m(f.weaponName, n) && a >= f.levelOfChange && (c = f.newProficiencyType) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return c }, Y0.prototype.getWeaponTrainingLevel_zici4a$ = function (t, i, a) { if (null == i) return 0; var r = i; try { var n = this.getWeaponProficiencyType_zici4a$(t, r, a), c = pK().ARRAY_WEAPON_PROFICIENCY_TYPES[n], p = o(t.getProficiency_61zpoe$(c)).getProficiencyAtLevel_za3lpa$(a), h = this.hashMapWeapons.get_11rb$(r); null != o(h).identity && (r = h.identity), h.databaseID > -1 && (r = h.name); var u, _ = t.hashMapIndividualWeaponProficiencies, f = r; if ((e.isType(u = _, y) ? u : d()).containsKey_11rb$(f)) { var m, $ = t.hashMapIndividualWeaponProficiencies, g = r, v = o((e.isType(m = $, y) ? m : d()).get_11rb$(g)).getProficiencyAtLevel_za3lpa$(a); v > p && (p = v) } if (t.hashMapWeaponGroupProficiency.containsKey_11rb$(h.group)) { var S = t.hashMapWeaponGroupProficiency.get_11rb$(h.group); if (o(S).hashMapWeaponProficiencyByTypeForGroup.containsKey_11rb$(n)) { var C = S.hashMapWeaponProficiencyByTypeForGroup.get_11rb$(n), E = o(C).getProficiencyAtLevel_za3lpa$(a); E > p && (p = E) } } return this.isAncestralWeaponExpertise_0(t, r, h.uniqueIdentiier, a) ? this.getHighestWeaponProficiency_5lafmk$(t, a, h.uniqueIdentiier) : p } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return 0 }, Y0.prototype.getHighestWeaponProficiency_5lafmk$ = function (t, e, i) { var a, r, n, s, l, c = 0; for (a = pK().ARRAY_WEAPON_PROFICIENCY_TYPES, r = 0; r !== a.length; ++r) { var p = a[r], h = t.getProficiency_61zpoe$(p), d = o(h).getProficiencyAtLevel_za3lpa$(e); d > c && (c = d) } for (n = t.hashMapIndividualWeaponProficiencies.values.iterator(); n.hasNext();) { var u = n.next().getProficiencyAtLevel_za3lpa$(e); u > c && (c = u) } for (s = t.hashMapWeaponGroupProficiency.values.iterator(); s.hasNext();)for (l = s.next().hashMapWeaponProficiencyByTypeForGroup.values.iterator(); l.hasNext();) { var _ = l.next().getProficiencyAtLevel_za3lpa$(e); _ > c && (c = _) } return m(t.getCharacterData().getClassName(), xr().CLASS_NAME) ? this.getGunslingerHighestProficiency_0(c, i, e) : c }, Y0.prototype.isAncestralWeaponExpertise_0 = function (t, i, a, r) { var n, s, l; for (n = t.hashMapAncestralWeaponExpertiseItems.values.iterator(); n.hasNext();) { var c = n.next(); if (r >= c.level) { for (s = c.weaponNames, l = 0; l !== s.length; ++l) { var p = s[l]; if (m(a, p)) return !0; if (m(i, p)) return !0 } if (null != c.keyword) { var h, u = this.hashMapWeapons, f = (e.isType(h = u, y) ? h : d()).get_11rb$(i); if (null != f && _(o(f.weaponTraits), o(c.keyword))) return !0 } } } return !1 }, Y0.prototype.getGunslingerHighestProficiency_0 = function (t, e, i) { if (t <= 2) return t; if (null == e) return t; if (X0().isACrossbow_pdl1vj$(e)) return t; var a = this.hashMapWeapons.get_11rb$(e); return null != a && m(a.group, "Firearm") ? t : t >= 4 && i < 5 ? 2 : t >= 6 && i < 13 ? 4 : t }, Object.defineProperty(Y0.prototype, "hashMapExoticWeapons", { configurable: !0, get: function () { var t, e = c(); for (t = this.hashMapWeapons.keys.iterator(); t.hasNext();) { var i = t.next(), a = this.hashMapWeapons.get_11rb$(i); 2 === o(a).proficiencyType && e.put_xwzc9p$(i, a) } return e } }), Y0.prototype.getAllWeaponsInGroup_61zpoe$ = function (t) { var e, i = u(); for (e = this.hashMapWeapons.values.iterator(); e.hasNext();) { var a = e.next(); m(a.group, t) && null != a.uniqueIdentiier && i.add_11rb$(o(a.uniqueIdentiier)) } return i }, Y0.prototype.getDamageBonusString_3ii029$ = function (t, e, i) { var a, r, n, s = "", l = t.getCharacterData().getCharacterLevel(); for (a = t.hashMapDamageIncreaseItems.values.iterator(); a.hasNext();) { var c = a.next(); l >= c.level && (s.length > 0 && (s += " "), s += c.getDamageString_zd22nb$(e, o(i))) } for (r = t.hashMapDamageIncreaseItemsByPlayerWeapon.keys.iterator(); r.hasNext();) { var p = r.next(); if (m(e, p)) for (n = o(t.hashMapDamageIncreaseItemsByPlayerWeapon.get_11rb$(e)).values.iterator(); n.hasNext();) { var h = n.next(); l >= h.level && (s.length > 0 && (s += " "), s += h.getDamageString_zd22nb$(e, o(i))) } } return s.length > 0 && (s = " " + s), s }, V0.prototype.getIncreasedDamageDice_za3lpa$ = function (t) { for (var e = new Int32Array([4, 6, 8, 10, 12]), i = 0; i !== e.length; ++i)if (t === e[i] && (i + 1 | 0) < e.length) return e[i + 1 | 0]; return t }, V0.prototype.isACrossbow_pdl1vj$ = function (t) { return !(null == t || !_(t.toLowerCase(), "crossbow") && !m(t, "Taw Launcher")) }, V0.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var K0 = null; function X0() { return null === K0 && new V0, K0 } function J0(t, e, i) { this.levelOfChange = 1, this.weaponName = "Bastard Sword", this.newProficiencyType = 1, this.weaponName = t, this.levelOfChange = e, this.newProficiencyType = i } function Z0() { this.weaponIDs_0 = null, this.playerWeapon_0 = null, this.message = null, this.dice = null, this.flatBonus = 0, this.bonusType = null, this.level = 1 } function Q0(t, e, i, a, r, n) { return n = n || Object.create(Z0.prototype), Z0.call(n), n.dice = e, n.flatBonus = i, n.bonusType = a, n.message = r, n.level = t, n } function t1(t, e, i, a, r, n, o) { return o = o || Object.create(Z0.prototype), Z0.call(o), o.weaponIDs_0 = e, o.dice = i, o.bonusType = r, o.flatBonus = a, o.message = n, o.level = t, o } function e1(t, e, i, a, r, n, o) { return o = o || Object.create(Z0.prototype), Z0.call(o), o.playerWeapon_0 = e, o.dice = i, o.flatBonus = a, o.bonusType = r, o.message = n, o.level = t, o } function i1(t, e) { n1(), iu.call(this), this.weaponName = t, this.attackAbilityRef = e, this.itemStriking_uopdul$_0 = 0, this.listPropertyRunes_9w4mi1$_0 = u(), this.damageAbilityRef = 0, this.increasedDice = !1, this.material = null, this.sizeChange = 0, this.attackOverride = null, this.damageBonusOverride = null, this.extraTraits = null, this.nameOverride = null, this.listEnabledPrecisionKeys = u(), this.potency_lnxd7p$_0 = 0 } function a1() { r1 = this, this.ARRAY_STRIKING = ["None", "Striking", "Greater Striking", "Major Striking"], this.STRIKING_NONE = 0, this.STRIKING = 1, this.STRIKING_GREATER = 2, this.STRIKING_MAJOR = 3 } Y0.$metadata$ = { kind: p, simpleName: "ManagerWeapons", interfaces: [W0] }, J0.$metadata$ = { kind: p, simpleName: "ChangedWeaponProficiency", interfaces: [] }, Z0.prototype.getDamageString_zd22nb$ = function (t, e) { if (!this.isAllowedWeapon_0(t, e)) return ""; var i = ""; return null != this.dice && (i = o(this.dice).diceAsString), 0 !== this.flatBonus && (i += pe().getSignedValue_za3lpa$(this.flatBonus)), null != this.bonusType && (i += " (" + this.bonusType + ")"), i }, Z0.prototype.addDamageToAttackDice_p9pqaj$ = function (t, e, i) { this.isAllowedWeapon_0(t, e) && (null != this.dice && i.addExtraDamageDice_vc39vg$(this.bonusType, o(this.dice)), 0 !== this.flatBonus && i.addExtraDamage_bm4lxs$(this.bonusType, this.flatBonus)) }, Z0.prototype.isAllowedWeapon_0 = function (t, e) { var i, a; if (null != this.playerWeapon_0) return m(this.playerWeapon_0, t); if (null == this.weaponIDs_0) return !0; for (i = o(this.weaponIDs_0), a = 0; a !== i.length; ++a) { var r = i[a]; if (m(r, e.uniqueIdentiier)) return !0; if (null != e.identity && m(e.identity, r)) return !0 } return !1 }, Z0.$metadata$ = { kind: p, simpleName: "DamageIncreaseItem", interfaces: [] }, i1.prototype.setItemStriking_za3lpa$ = function (t) { this.itemStriking_uopdul$_0 = t }, i1.prototype.getItemStriking_5btbp7$ = function (t) { return t.getCharacterData().isABP() ? El().getAttackStrikingOverride_5btbp7$(t) : this.itemStriking_uopdul$_0 }, i1.prototype.setPotency_za3lpa$ = function (t) { this.potency_lnxd7p$_0 = t }, i1.prototype.getPotency_5btbp7$ = function (t) { return t.getCharacterData().isABP() ? El().getAttackPotencyOverride_5btbp7$(t) : this.potency_lnxd7p$_0 }, i1.prototype.getPotencyManualSetting = function () { return this.potency_lnxd7p$_0 }, i1.prototype.getStrikingManualSetting = function () { return this.itemStriking_uopdul$_0 }, i1.prototype.setAttackAbilityRef_za3lpa$ = function (t) { this.attackAbilityRef = t }, i1.prototype.getAttackAbilityRef = function () { return this.attackAbilityRef }, i1.prototype.setWeapon_61zpoe$ = function (t) { this.weaponName = t }, i1.prototype.getMaterial = function () { return this.material }, i1.prototype.setMaterial_pdl1vj$ = function (t) { this.material = t }, i1.prototype.getWeaponFullName_umk5sj$ = function (t, e) { var i; if (t.potency > 0 && this.potency_lnxd7p$_0 === t.potency && this.itemStriking_uopdul$_0 === t.striking) return this.sizeName_5qa5w9$_0 + t.name; var a = this.sizeName_5qa5w9$_0, r = this.getPotency_5btbp7$(e), n = this.getItemStriking_5btbp7$(e); for (r > 0 && (a += "+" + r.toString() + " "), n > 0 && (a += n1().ARRAY_STRIKING[n] + " "), i = this.listPropertyRunes_9w4mi1$_0.iterator(); i.hasNext();)a += i.next() + " "; return null != this.material && (a += j(this.material) + " "), null != this.nameOverride ? a += o(this.nameOverride) : a += t.name, this.increasedDice && (a += " (+)"), this.amount > 1 && (a += " (x" + this.amount + ")"), a }, i1.prototype.getWeaponNameFundamentals_umk5sj$ = function (t, e) { if (t.potency > 0 && this.potency_lnxd7p$_0 === t.potency && this.itemStriking_uopdul$_0 === t.striking) return this.sizeName_5qa5w9$_0 + t.name; var i = this.getPotency_5btbp7$(e), a = this.getItemStriking_5btbp7$(e), r = this.sizeName_5qa5w9$_0; return i > 0 && (r += "+" + i.toString() + " "), a > 0 && (r += n1().ARRAY_STRIKING[a] + " "), null != this.nameOverride ? r += o(this.nameOverride) : r += t.name, this.increasedDice && (r += " (+)"), this.amount > 1 && (r += " (x" + this.amount + ")"), r }, Object.defineProperty(i1.prototype, "sizeName_5qa5w9$_0", { configurable: !0, get: function () { switch (this.sizeChange) { case 1: return "Large "; case -1: return "Tiny " }return "" } }), i1.prototype.getAbilityBonus_q5rwfd$ = function (t) { return pe().getAbilityMod_za3lpa$(t[this.attackAbilityRef]) }, i1.prototype.getDamageBonus_yqmo8d$ = function (t, e, i, a, r) { return null != this.damageBonusOverride ? o(this.damageBonusOverride) : this.getAbilityDamageBonus_sw8vqo$(t, e, a, r) + this.getWeaponSpecBonus_ivk615$(t, e, i) | 0 }, i1.prototype.getAbilityDamageBonus_sw8vqo$ = function (t, e, i, a) { var r, n = pe().getAbilityMod_za3lpa$(i[0]); if (a.isRangedOrFirearm()) { if (_(o(a.weaponTraits).toLowerCase(), "thrown")) r = pe().getAbilityMod_za3lpa$(i[0]); else if (_(o(a.weaponTraits).toLowerCase(), "propulsive")) { var s = pe().getAbilityMod_za3lpa$(i[0]) / 2; r = C(I.floor(s)) } else r = 0; n = r } return i[1] > i[0] && this.isMeleeWeapon_ebvypp$_0(a) && BK().hasSpecialByLevel_o7aqax$(e, "Thief Racket", e.getCharacterData().getCharacterLevel()) && null != a.weaponTraits && _(a.weaponTraits.toLowerCase(), "finesse") && (n = pe().getAbilityMod_za3lpa$(i[1])), n }, i1.prototype.isMeleeWeapon_ebvypp$_0 = function (t) { return 3 !== t.proficiencyType && !t.isRangedOrFirearm() }, i1.prototype.getWeaponSpecBonus_ivk615$ = function (t, e, i) { var a = 0; if (BK().hasSpecialByLevel_o7aqax$(e, "Greater Weapon Specialization", e.getCharacterData().getCharacterLevel())) switch (i) { case 4: a = a + 4 | 0; break; case 6: a = a + 6 | 0; break; case 8: a = a + 8 | 0 } else if (BK().hasSpecialByLevel_o7aqax$(e, "Weapon Specialization", e.getCharacterData().getCharacterLevel())) switch (i) { case 4: a = a + 2 | 0; break; case 6: a = a + 3 | 0; break; case 8: a = a + 4 | 0 }return a }, i1.prototype.setDefaultAttack_fha2vo$ = function (t, e, i) { if (_(this.getWeaponTraits_fha2vo$(t, e, i).toLowerCase(), "finesse")) { var a = e.getPlayReportAbilityScores_sfkw43$(t); o(a).abilityScoresBuffed[1] > a.abilityScoresBuffed[0] && (this.attackAbilityRef = 1) } }, i1.prototype.getWeaponTraits_fha2vo$ = function (t, e, i) { var a, r, n, s, l, c = i.weaponTraits; null == c && (c = ""), 1 === this.sizeChange && (c.length > 0 && (c += ", "), c += "Large"); var p = t.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(102); if (null != p) for (a = this.listPropertyRunes_9w4mi1$_0.iterator(); a.hasNext();) { var h = a.next(), d = p.get_11rb$(h); null != d && d.traits.length > 0 && (c.length > 0 && (c += ", "), c += d.traits) } if (null != i.identity) for (r = v(i.traits, [", "]).iterator(); r.hasNext();) { var u = r.next(); c.length > 0 && (c += ", "), _(c, u) || (c += u) } else this.getPotency_5btbp7$(e) > 0 && !_(c, "Magical") && (c.length > 0 && (c += ", "), c += "Magical"); 3 === i.proficiencyType && (Lq().hasFeatByLevel_w0akbr$(e, "no feat ref", e.getCharacterData().getCharacterLevel(), "MONK_Deadly Strikes") && (c.length > 0 && (c += ", "), c += "Deadly d10"), Lq().hasFeatByLevel_w0akbr$(e, "no feat ref", e.getCharacterData().getCharacterLevel(), "MONK_Golden Body") && (c.length > 0 && (c += ", "), c += "Deadly d12")); var f = this.extraTraits; if (null != f && 0 !== f.length && (c += ", " + j(this.extraTraits)), e.hashMapFreePlayerWeaponTraits.containsKey_11rb$(this)) for (n = o(e.hashMapFreePlayerWeaponTraits.get_11rb$(this)).values.iterator(); n.hasNext();) { var y = n.next(); if (e.getCharacterData().getCharacterLevel() >= y.level) for (s = y.listTraits, l = 0; l !== s.length; ++l) { var m = s[l]; c.length > 0 && (c += ", "), c += m } } return c }, i1.prototype.getBulk_nw4zkx$ = function (t, i, a) { var r, n, s = pe().getBulkValue_bm4lxs$(i.bulk, this.amount); if (null != this.material) { var l; if (null != (r = t.managerEquipment.hashMapMaterialArmor)) { var c, p = this.material; l = (e.isType(c = r, y) ? c : d()).get_11rb$(p) } else l = null; var h = null != (n = l) ? n : new ah; o(h).reducesBulk > 0 && (s -= h.reducesBulk) < 1 && (s = .1) } return s = Nc().adjustWornEquipmentForSize_t0es5s$(s, a) }, i1.prototype.getWeaponItemLevel_fhac18$ = function (t, i) { var a; try { var r = new Int32Array([0, 2, 10, 16])[this.getPotency_5btbp7$(i)], n = new Int32Array([0, 4, 12, 19])[this.getItemStriking_5btbp7$(i)]; for (n > r && (r = n), a = this.listPropertyRunes_9w4mi1$_0.iterator(); a.hasNext();) { var c = a.next(), p = o(t.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(102)).get_11rb$(c); null != p && p.itemLevel > r && (r = p.itemLevel) } if (null != this.material) { var h, u = t.managerEquipment.hashMapMaterialWeapons, _ = this.material, f = (e.isType(h = u, y) ? h : d()).get_11rb$(_); null != f && f.level > r && (r = f.level) } var m = t.managerWeapons.hashMapWeapons.get_11rb$(this.weaponName); return o(m).itemLevel > r && (r = m.itemLevel), r } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return 0 }, i1.prototype.getDisplayName_fhac18$ = function (t, e) { var i; if (null == (i = t.managerWeapons.hashMapWeapons.get_11rb$(this.weaponName))) return ""; var a = i; return this.getWeaponFullName_umk5sj$(a, e) }, i1.prototype.getBasePlayerEquipment_sfkw43$ = function (t) { var e; return null == (e = t.managerWeapons.hashMapWeapons.get_11rb$(this.weaponName)) ? th("Not found", 0) : e }, i1.prototype.getTraits_fhac18$ = function (t, e) { var i; return null == (i = t.managerWeapons.hashMapWeapons.get_11rb$(this.weaponName)) ? "" : i.traits }, i1.prototype.getItemLevel_fhac18$ = function (t, e) { return this.getWeaponItemLevel_fhac18$(t, e) }, i1.prototype.getDescription_fhac18$ = function (t, e) { var i; if (null == (i = t.managerWeapons.hashMapWeapons.get_11rb$(this.weaponName))) return ""; var a = i, r = ""; return this.getWeaponTraits_fha2vo$(t, e, a).length > 0 && (r += this.getWeaponTraits_fha2vo$(t, e, a) + "<br><br>"), r += a.getFullDescription() }, i1.prototype.removeItem_fhac18$ = function (t, e) { e.getCharacterData().listPlayerWeapons.remove_11rb$(this) }, i1.prototype.restoreItem_fhac18$ = function (t, e) { var i; if (null != this.mapInvModSel) for (i = o(this.mapInvModSel).keys.iterator(); i.hasNext();) { var a = i.next(); t.managerEquipment.activateInventorModifications_rvs3un$(!0, e, a, !1) } t.managerWeapons.activatePlayerWeapon_clt9wi$(!0, e, this) }, i1.prototype.restoreSwapItem_fhac18$ = function (t, e) { this.restoreItem_fhac18$(t, e) }, i1.prototype.getRestoreSwapCurrent_fhac18$ = function (t, e) { return null }, i1.prototype.canRestore_fhac18$ = function (t, e) { return !0 }, i1.prototype.getRestoreErrorMessage = function () { return "" }, i1.prototype.getListPropertyRunes = function () { return this.listPropertyRunes_9w4mi1$_0 }, i1.prototype.getAttackDice_fha2vo$ = function (t, e, i) { var a, r, n, s, l, c = e.getCharacterData().getCharacterLevel(), p = e.getPlayReportAbilityScores_sfkw43$(t), h = t.managerWeapons.getWeaponProficiencyType_zici4a$(e, this.weaponName, c), d = pK().ARRAY_WEAPON_PROFICIENCY_TYPES[h], _ = null != (a = e.getProficiency_61zpoe$(d)) ? a : new nK, f = rK(t, e, _); f.addAttackBuffs_cvmu72$(t, e, this.getAttackAbilityRef()); var y = f.totalBuffExcludingItem, $ = f.getWeaponItemBonus_t0a6b2$(e, this), g = t.managerWeapons.getWeaponTrainingLevel_zici4a$(e, this.weaponName, c), v = pK().getFinalProficiencyTotalWeapons_bh8xs5$(e, g, c), S = v + this.getAbilityBonus_q5rwfd$(p.abilityScoresBuffed) + $ + y | 0; null != this.attackOverride && (S = o(this.attackOverride) + y | 0); var C = new Co(d, g, v, $, S, y, f, 1 + this.getItemStriking_5btbp7$(e) | 0, this.getDiceSize_unclgl$(e, i), this.getWeaponTraits_fha2vo$(t, e, i)); C.damageType = i.damageType, C.flatBonus = this.getDamageBonus_yqmo8d$(t, e, g, p.abilityScoresBuffed, i); var E = aK(); for (E.addDamageBuffs_a9h5n9$(t, e, p, this, i), C.totalDamageBuff = E.totalBuffExcludingItem, C.flatBonus = C.flatBonus + C.totalDamageBuff | 0, r = e.hashMapSneakAttackTracks.keys.iterator(); r.hasNext();) { var A = r.next(); if (null == this.listEnabledPrecisionKeys && (this.listEnabledPrecisionKeys = u()), this.listEnabledPrecisionKeys.contains_11rb$(A)) { var b = o(e.hashMapSneakAttackTracks.get_11rb$(A)), I = b.getDiceAtLevel_za3lpa$(c); null != I && C.addExtraDamageDice_vc39vg$(TX().RESISTANCE_PRECISION, I); var w = b.getFlatBonusAtLevel_za3lpa$(c); w > 0 && C.addExtraDamage_bm4lxs$(TX().RESISTANCE_PRECISION, w) } } for (n = e.hashMapDamageIncreaseItems.values.iterator(); n.hasNext();) { var L = n.next(); c >= L.level && L.addDamageToAttackDice_p9pqaj$(this, i, C) } for (s = e.hashMapDamageIncreaseItemsByPlayerWeapon.keys.iterator(); s.hasNext();) { var T = s.next(); if (m(this, T)) for (l = o(e.hashMapDamageIncreaseItemsByPlayerWeapon.get_11rb$(this)).values.iterator(); l.hasNext();) { var k = l.next(); c >= k.level && k.addDamageToAttackDice_p9pqaj$(this, i, C) } } return C }, i1.prototype.getDiceSize_unclgl$ = function (t, e) { var i = e.damage; return m(this.weaponName, "Fist") && (BK().hasSpecialByLevel_o7aqax$(t, "Powerful Fist", t.getCharacterData().getCharacterLevel()) || Lq().hasFeatByLevel_w0akbr$(t, "No feat ref", t.getCharacterData().getCharacterLevel(), "ARCHETYPE_MARTIAL ARTIST_Martial Artist Dedication")) && (i = 6), this.increasedDice && (i = X0().getIncreasedDamageDice_za3lpa$(i)), i }, a1.prototype.serializer = function () { return l1() }, a1.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var r1 = null; function n1() { return null === r1 && new a1, r1 } function o1() { this.descriptor_7kh24e$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerweapons.PlayerWeapon", this, 19), this.descriptor.addElement_ivxn3r$("stowed", !0), this.descriptor.addElement_ivxn3r$("inContainerID", !0), this.descriptor.addElement_ivxn3r$("amount", !0), this.descriptor.addElement_ivxn3r$("mapInvModSel", !0), this.descriptor.addElement_ivxn3r$("bulkOverride", !0), this.descriptor.addElement_ivxn3r$("weaponName", !1), this.descriptor.addElement_ivxn3r$("attackAbilityRef", !1), this.descriptor.addElement_ivxn3r$("itemStriking", !0), this.descriptor.addElement_ivxn3r$("listPropertyRunes", !0), this.descriptor.addElement_ivxn3r$("damageAbilityRef", !0), this.descriptor.addElement_ivxn3r$("increasedDice", !0), this.descriptor.addElement_ivxn3r$("material", !0), this.descriptor.addElement_ivxn3r$("sizeChange", !0), this.descriptor.addElement_ivxn3r$("attackOverride", !0), this.descriptor.addElement_ivxn3r$("damageBonusOverride", !0), this.descriptor.addElement_ivxn3r$("extraTraits", !0), this.descriptor.addElement_ivxn3r$("nameOverride", !0), this.descriptor.addElement_ivxn3r$("listEnabledPrecisionKeys", !0), this.descriptor.addElement_ivxn3r$("potency", !0), s1 = this } Object.defineProperty(o1.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_7kh24e$_0 } }), o1.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.stowed, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 0, e.stowed), m(e.inContainerID, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 1, M.StringSerializer, e.inContainerID), m(e.amount, 1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.amount), m(e.mapInvModSel, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, new N(M.StringSerializer, M.StringSerializer), e.mapInvModSel), m(e.bulkOverride, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 4, M.StringSerializer, e.bulkOverride), i.encodeStringElement_iij8qq$(this.descriptor, 5, e.weaponName), i.encodeIntElement_ptg7oe$(this.descriptor, 6, e.attackAbilityRef), m(e.itemStriking_uopdul$_0, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || i.encodeIntElement_ptg7oe$(this.descriptor, 7, e.itemStriking_uopdul$_0), m(e.listPropertyRunes_9w4mi1$_0, u()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 8) || i.encodeSerializableElement_r4qlx7$(this.descriptor, 8, new D(M.StringSerializer), e.listPropertyRunes_9w4mi1$_0), m(e.damageAbilityRef, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 9) || i.encodeIntElement_ptg7oe$(this.descriptor, 9, e.damageAbilityRef), m(e.increasedDice, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 10) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 10, e.increasedDice), m(e.material, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 11) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 11, M.StringSerializer, e.material), m(e.sizeChange, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 12) || i.encodeIntElement_ptg7oe$(this.descriptor, 12, e.sizeChange), m(e.attackOverride, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 13) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 13, M.IntSerializer, e.attackOverride), m(e.damageBonusOverride, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 14) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 14, M.IntSerializer, e.damageBonusOverride), m(e.extraTraits, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 15) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 15, M.StringSerializer, e.extraTraits), m(e.nameOverride, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 16) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 16, M.StringSerializer, e.nameOverride), m(e.listEnabledPrecisionKeys, u()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 17) || i.encodeSerializableElement_r4qlx7$(this.descriptor, 17, new D(M.StringSerializer), e.listEnabledPrecisionKeys), m(e.potency_lnxd7p$_0, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 18) || i.encodeIntElement_ptg7oe$(this.descriptor, 18, e.potency_lnxd7p$_0), i.endStructure_24f42q$(this.descriptor) }, o1.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S = 0, C = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = C.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = C.decodeBooleanElement_szpzho$(this.descriptor, 0), S |= 1; break; case 1: a = C.decodeNullableSerializableElement_8viuyw$(this.descriptor, 1, M.StringSerializer, a), S |= 2; break; case 2: r = C.decodeIntElement_szpzho$(this.descriptor, 2), S |= 4; break; case 3: n = C.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, new N(M.StringSerializer, M.StringSerializer), n), S |= 8; break; case 4: o = C.decodeNullableSerializableElement_8viuyw$(this.descriptor, 4, M.StringSerializer, o), S |= 16; break; case 5: s = C.decodeStringElement_szpzho$(this.descriptor, 5), S |= 32; break; case 6: l = C.decodeIntElement_szpzho$(this.descriptor, 6), S |= 64; break; case 7: c = C.decodeIntElement_szpzho$(this.descriptor, 7), S |= 128; break; case 8: p = C.decodeSerializableElement_12e8id$(this.descriptor, 8, new D(M.StringSerializer), p), S |= 256; break; case 9: h = C.decodeIntElement_szpzho$(this.descriptor, 9), S |= 512; break; case 10: d = C.decodeBooleanElement_szpzho$(this.descriptor, 10), S |= 1024; break; case 11: u = C.decodeNullableSerializableElement_8viuyw$(this.descriptor, 11, M.StringSerializer, u), S |= 2048; break; case 12: _ = C.decodeIntElement_szpzho$(this.descriptor, 12), S |= 4096; break; case 13: f = C.decodeNullableSerializableElement_8viuyw$(this.descriptor, 13, M.IntSerializer, f), S |= 8192; break; case 14: y = C.decodeNullableSerializableElement_8viuyw$(this.descriptor, 14, M.IntSerializer, y), S |= 16384; break; case 15: m = C.decodeNullableSerializableElement_8viuyw$(this.descriptor, 15, M.StringSerializer, m), S |= 32768; break; case 16: $ = C.decodeNullableSerializableElement_8viuyw$(this.descriptor, 16, M.StringSerializer, $), S |= 65536; break; case 17: g = C.decodeSerializableElement_12e8id$(this.descriptor, 17, new D(M.StringSerializer), g), S |= 131072; break; case 18: v = C.decodeIntElement_szpzho$(this.descriptor, 18), S |= 262144; break; case -1: break t; default: throw new O(e) }return C.endStructure_24f42q$(this.descriptor), c1(S, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, null) }, o1.prototype.childSerializers = function () { return [M.BooleanSerializer, new R(M.StringSerializer), M.IntSerializer, new R(new N(M.StringSerializer, M.StringSerializer)), new R(M.StringSerializer), M.StringSerializer, M.IntSerializer, M.IntSerializer, new D(M.StringSerializer), M.IntSerializer, M.BooleanSerializer, new R(M.StringSerializer), M.IntSerializer, new R(M.IntSerializer), new R(M.IntSerializer), new R(M.StringSerializer), new R(M.StringSerializer), new D(M.StringSerializer), M.IntSerializer] }, o1.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var s1 = null; function l1() { return null === s1 && new o1, s1 } function c1(t, e, i, a, r, n, o, s, l, c, p, h, d, _, f, y, m, $, g, v, S) { var C = S || Object.create(i1.prototype); if (C = ou(t, e, i, a, r, n, C), 0 == (32 & t)) throw J("weaponName"); if (C.weaponName = o, 0 == (64 & t)) throw J("attackAbilityRef"); return C.attackAbilityRef = s, C.itemStriking_uopdul$_0 = 0 == (128 & t) ? 0 : l, C.listPropertyRunes_9w4mi1$_0 = 0 == (256 & t) ? u() : c, C.damageAbilityRef = 0 == (512 & t) ? 0 : p, C.increasedDice = 0 != (1024 & t) && h, C.material = 0 == (2048 & t) ? null : d, C.sizeChange = 0 == (4096 & t) ? 0 : _, C.attackOverride = 0 == (8192 & t) ? null : f, C.damageBonusOverride = 0 == (16384 & t) ? null : y, C.extraTraits = 0 == (32768 & t) ? null : m, C.nameOverride = 0 == (65536 & t) ? null : $, C.listEnabledPrecisionKeys = 0 == (131072 & t) ? u() : g, C.potency_lnxd7p$_0 = 0 == (262144 & t) ? 0 : v, C } function p1() { this.description = null, this.weaponTrait = !1, this.url = null } function h1() { _1(), this.proficiencyType = 0, this.rangedType = 0, this.ranged = !1, this.uncommon = !1, this.damage = 8, this.damageType = "", this.range = "", this.reload = "", this.group = "Sword", this.weaponTraits = "", this.potency = 0, this.striking = 0, this.identity = null, this.rune = "" } function d1() { u1 = this, this.COLUMN_NAME = "name", this.COLUMN_LEVEL = "level", this.COLUMN_PRICE = "price", this.COLUMN_WEAPONPROFICIENCY = "weaponProficiency", this.COLUMN_RANGED = "ranged", this.COLUMN_DAMAGE = "damage", this.COLUMN_DAMAGETYPE = "damageType", this.COLUMN_RANGE = "range", this.COLUMN_RELOAD = "reload", this.COLUMN_BULK = "bulk", this.COLUMN_HANDS = "hands", this.COLUMN_GROUP = "group", this.COLUMN_WEAPONTRAITS = "weaponTraits", this.COLUMN_SRC = "src", this.COLUMN_URL = "url", this.COLUMN_IDENTITY = "identity", this.COLUMN_TRAITS = "traits", this.COLUMN_POTENCY = "potency", this.COLUMN_STRIKING = "striking", this.COLUMN_ACTION0 = "action0", this.COLUMN_ACTION0DESC = "action0desc", this.COLUMN_ACTION1 = "action1", this.COLUMN_ACTION1DESC = "action1desc", this.COLUMN_DESCRIPTION = "description", this.WEAPON_PROFICIENCY_SIMPLE = 0, this.WEAPON_PROFICIENCY_MARTIAL = 1, this.WEAPON_PROFICIENCY_ADVANCED = 2, this.WEAPON_PROFICIENCY_UNARMED = 3, this.RANGE_TYPE_MELEE = 0, this.RANGE_TYPE_RANGED = 1, this.RANGE_TYPE_FIREARM = 2, this.RANGE_TYPE_FIREARM_ACCESSORY = 3 } i1.$metadata$ = { kind: p, simpleName: "PlayerWeapon", interfaces: [iu] }, p1.$metadata$ = { kind: p, simpleName: "TraitWeapon", interfaces: [] }, Object.defineProperty(h1.prototype, "defaultAttackAbilityRef", { configurable: !0, get: function () { return 1 === this.rangedType || 2 === this.rangedType ? 1 : 0 } }), Object.defineProperty(h1.prototype, "damageString", { configurable: !0, get: function () { return 0 === this.damage ? "Special" : "1d" + this.damage.toString() + " " + this.damageType } }), h1.prototype.cloneValues_sm1ve4$ = function (t) { this.proficiencyType = t.proficiencyType, this.damage = t.damage, this.damageType = t.damageType, this.group = t.group, this.range = t.range, this.rangedType = t.rangedType, this.reload = t.reload, this.uncommon = t.uncommon, this.weaponTraits = t.weaponTraits, this.bulk = t.bulk, this.hands = t.hands }, h1.prototype.hasTrait_61zpoe$ = function (t) { return null != this.weaponTraits && _(o(this.weaponTraits).toLowerCase(), t.toLowerCase()) }, h1.prototype.belongsToGroup_61zpoe$ = function (t) { return dt(this.group, t, !0) }, h1.prototype.getFullWeaponDetails = function () { var t = "<b>Price</b> " + pe().getPriceString_14dthe$(this.price) + "; <b>Bulk</b> " + this.bulk + "; <b>Hands</b> " + this.hands + "; <b>Group</b> " + this.group; return this.range.length > 0 && (t += "; <b>Range</b> " + this.range), this.reload.length > 0 && (t += "; <b>Reload</b> " + this.reload), t += "<br><b>Proficiency:</b> " + pK().ARRAY_WEAPON_PROFICIENCY_TYPES[this.proficiencyType], t += "<br><br>" + this.getFullDescription() }, h1.prototype.isRangedOrFirearm = function () { return 1 === this.rangedType || 2 === this.rangedType }, d1.prototype.serializer = function () { return m1() }, d1.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var u1 = null; function _1() { return null === u1 && new d1, u1 } function f1() { this.descriptor_gr9bo9$_0 = new P("com.redrazors.pathbuilder2e.backend.data.managers.managerweapons.WeaponInformation", this, 37), this.descriptor.addElement_ivxn3r$("databaseID", !0), this.descriptor.addElement_ivxn3r$("timestamp", !0), this.descriptor.addElement_ivxn3r$("listCustomEffects", !0), this.descriptor.addElement_ivxn3r$("uniqueIdentiier", !0), this.descriptor.addElement_ivxn3r$("category", !0), this.descriptor.addElement_ivxn3r$("name", !0), this.descriptor.addElement_ivxn3r$("itemLevel", !0), this.descriptor.addElement_ivxn3r$("amount", !0), this.descriptor.addElement_ivxn3r$("price", !0), this.descriptor.addElement_ivxn3r$("hands", !0), this.descriptor.addElement_ivxn3r$("bulk", !0), this.descriptor.addElement_ivxn3r$("traits", !0), this.descriptor.addElement_ivxn3r$("usage", !0), this.descriptor.addElement_ivxn3r$("description", !0), this.descriptor.addElement_ivxn3r$("speed", !0), this.descriptor.addElement_ivxn3r$("hashMapProficiencyBonus", !0), this.descriptor.addElement_ivxn3r$("src", !0), this.descriptor.addElement_ivxn3r$("url", !0), this.descriptor.addElement_ivxn3r$("action0", !0), this.descriptor.addElement_ivxn3r$("action0desc", !0), this.descriptor.addElement_ivxn3r$("action1", !0), this.descriptor.addElement_ivxn3r$("action1desc", !0), this.descriptor.addElement_ivxn3r$("contains", !0), this.descriptor.addElement_ivxn3r$("proficiencyType", !0), this.descriptor.addElement_ivxn3r$("rangedType", !0), this.descriptor.addElement_ivxn3r$("ranged", !0), this.descriptor.addElement_ivxn3r$("uncommon", !0), this.descriptor.addElement_ivxn3r$("damage", !0), this.descriptor.addElement_ivxn3r$("damageType", !0), this.descriptor.addElement_ivxn3r$("range", !0), this.descriptor.addElement_ivxn3r$("reload", !0), this.descriptor.addElement_ivxn3r$("group", !0), this.descriptor.addElement_ivxn3r$("weaponTraits", !0), this.descriptor.addElement_ivxn3r$("potency", !0), this.descriptor.addElement_ivxn3r$("striking", !0), this.descriptor.addElement_ivxn3r$("identity", !0), this.descriptor.addElement_ivxn3r$("rune", !0), y1 = this } Object.defineProperty(f1.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_gr9bo9$_0 } }), f1.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.databaseID, -1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeIntElement_ptg7oe$(this.descriptor, 0, e.databaseID), m(e.timestamp, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 1, M.StringSerializer, e.timestamp), m(e.listCustomEffects, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 2, new D(mo()), e.listCustomEffects), m(e.uniqueIdentiier, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, M.StringSerializer, e.uniqueIdentiier), m(e.category, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeIntElement_ptg7oe$(this.descriptor, 4, e.category), m(e.name, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 5) || i.encodeStringElement_iij8qq$(this.descriptor, 5, e.name), m(e.itemLevel, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 6) || i.encodeIntElement_ptg7oe$(this.descriptor, 6, e.itemLevel), m(e.amount, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 7, M.IntSerializer, e.amount), m(e.price, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 8) || i.encodeDoubleElement_powrwi$(this.descriptor, 8, e.price), m(e.hands, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 9) || i.encodeStringElement_iij8qq$(this.descriptor, 9, e.hands), m(e.bulk, "0") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 10) || i.encodeStringElement_iij8qq$(this.descriptor, 10, e.bulk), m(e.traits, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 11) || i.encodeStringElement_iij8qq$(this.descriptor, 11, e.traits), m(e.usage, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 12) || i.encodeStringElement_iij8qq$(this.descriptor, 12, e.usage), m(e.description, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 13) || i.encodeStringElement_iij8qq$(this.descriptor, 13, e.description), m(e.speed, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 14) || i.encodeIntElement_ptg7oe$(this.descriptor, 14, e.speed), m(e.hashMapProficiencyBonus, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 15) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 15, new N(M.StringSerializer, M.IntSerializer), e.hashMapProficiencyBonus), m(e.src, Ic().BOOK_CRB) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 16) || i.encodeStringElement_iij8qq$(this.descriptor, 16, e.src), m(e.url, "https://2e.aonprd.com") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 17) || i.encodeStringElement_iij8qq$(this.descriptor, 17, e.url), m(e.action0, -2) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 18) || i.encodeIntElement_ptg7oe$(this.descriptor, 18, e.action0), m(e.action0desc, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 19) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 19, M.StringSerializer, e.action0desc), m(e.action1, -2) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 20) || i.encodeIntElement_ptg7oe$(this.descriptor, 20, e.action1), m(e.action1desc, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 21) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 21, M.StringSerializer, e.action1desc), m(e.contains, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 22) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 22, M.DoubleSerializer, e.contains), m(e.proficiencyType, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 23) || i.encodeIntElement_ptg7oe$(this.descriptor, 23, e.proficiencyType), m(e.rangedType, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 24) || i.encodeIntElement_ptg7oe$(this.descriptor, 24, e.rangedType), m(e.ranged, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 25) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 25, e.ranged), m(e.uncommon, !1) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 26) || i.encodeBooleanElement_qh7jdn$(this.descriptor, 26, e.uncommon), m(e.damage, 8) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 27) || i.encodeIntElement_ptg7oe$(this.descriptor, 27, e.damage), m(e.damageType, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 28) || i.encodeStringElement_iij8qq$(this.descriptor, 28, e.damageType), m(e.range, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 29) || i.encodeStringElement_iij8qq$(this.descriptor, 29, e.range), m(e.reload, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 30) || i.encodeStringElement_iij8qq$(this.descriptor, 30, e.reload), m(e.group, "Sword") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 31) || i.encodeStringElement_iij8qq$(this.descriptor, 31, e.group), m(e.weaponTraits, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 32) || i.encodeStringElement_iij8qq$(this.descriptor, 32, e.weaponTraits), m(e.potency, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 33) || i.encodeIntElement_ptg7oe$(this.descriptor, 33, e.potency), m(e.striking, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 34) || i.encodeIntElement_ptg7oe$(this.descriptor, 34, e.striking), m(e.identity, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 35) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 35, M.StringSerializer, e.identity), m(e.rune, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 36) || i.encodeStringElement_iij8qq$(this.descriptor, 36, e.rune), i.endStructure_24f42q$(this.descriptor) }, f1.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, R, P, x, z, F, B, j, H, q = 0, U = 0, G = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = G.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = G.decodeIntElement_szpzho$(this.descriptor, 0), q |= 1; break; case 1: a = G.decodeNullableSerializableElement_8viuyw$(this.descriptor, 1, M.StringSerializer, a), q |= 2; break; case 2: r = G.decodeNullableSerializableElement_8viuyw$(this.descriptor, 2, new D(mo()), r), q |= 4; break; case 3: n = G.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, M.StringSerializer, n), q |= 8; break; case 4: o = G.decodeIntElement_szpzho$(this.descriptor, 4), q |= 16; break; case 5: s = G.decodeStringElement_szpzho$(this.descriptor, 5), q |= 32; break; case 6: l = G.decodeIntElement_szpzho$(this.descriptor, 6), q |= 64; break; case 7: c = G.decodeNullableSerializableElement_8viuyw$(this.descriptor, 7, M.IntSerializer, c), q |= 128; break; case 8: p = G.decodeDoubleElement_szpzho$(this.descriptor, 8), q |= 256; break; case 9: h = G.decodeStringElement_szpzho$(this.descriptor, 9), q |= 512; break; case 10: d = G.decodeStringElement_szpzho$(this.descriptor, 10), q |= 1024; break; case 11: u = G.decodeStringElement_szpzho$(this.descriptor, 11), q |= 2048; break; case 12: _ = G.decodeStringElement_szpzho$(this.descriptor, 12), q |= 4096; break; case 13: f = G.decodeStringElement_szpzho$(this.descriptor, 13), q |= 8192; break; case 14: y = G.decodeIntElement_szpzho$(this.descriptor, 14), q |= 16384; break; case 15: m = G.decodeNullableSerializableElement_8viuyw$(this.descriptor, 15, new N(M.StringSerializer, M.IntSerializer), m), q |= 32768; break; case 16: $ = G.decodeStringElement_szpzho$(this.descriptor, 16), q |= 65536; break; case 17: g = G.decodeStringElement_szpzho$(this.descriptor, 17), q |= 131072; break; case 18: v = G.decodeIntElement_szpzho$(this.descriptor, 18), q |= 262144; break; case 19: S = G.decodeNullableSerializableElement_8viuyw$(this.descriptor, 19, M.StringSerializer, S), q |= 524288; break; case 20: C = G.decodeIntElement_szpzho$(this.descriptor, 20), q |= 1048576; break; case 21: E = G.decodeNullableSerializableElement_8viuyw$(this.descriptor, 21, M.StringSerializer, E), q |= 2097152; break; case 22: A = G.decodeNullableSerializableElement_8viuyw$(this.descriptor, 22, M.DoubleSerializer, A), q |= 4194304; break; case 23: b = G.decodeIntElement_szpzho$(this.descriptor, 23), q |= 8388608; break; case 24: I = G.decodeIntElement_szpzho$(this.descriptor, 24), q |= 16777216; break; case 25: w = G.decodeBooleanElement_szpzho$(this.descriptor, 25), q |= 33554432; break; case 26: L = G.decodeBooleanElement_szpzho$(this.descriptor, 26), q |= 67108864; break; case 27: T = G.decodeIntElement_szpzho$(this.descriptor, 27), q |= 134217728; break; case 28: k = G.decodeStringElement_szpzho$(this.descriptor, 28), q |= 268435456; break; case 29: R = G.decodeStringElement_szpzho$(this.descriptor, 29), q |= 536870912; break; case 30: P = G.decodeStringElement_szpzho$(this.descriptor, 30), q |= 1073741824; break; case 31: x = G.decodeStringElement_szpzho$(this.descriptor, 31), q |= -2147483648; break; case 32: z = G.decodeStringElement_szpzho$(this.descriptor, 32), U |= 1; break; case 33: F = G.decodeIntElement_szpzho$(this.descriptor, 33), U |= 2; break; case 34: B = G.decodeIntElement_szpzho$(this.descriptor, 34), U |= 4; break; case 35: j = G.decodeNullableSerializableElement_8viuyw$(this.descriptor, 35, M.StringSerializer, j), U |= 8; break; case 36: H = G.decodeStringElement_szpzho$(this.descriptor, 36), U |= 16; break; case -1: break t; default: throw new O(e) }return G.endStructure_24f42q$(this.descriptor), $1(q, U, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, R, P, x, z, F, B, j, H, null) }, f1.prototype.childSerializers = function () { return [M.IntSerializer, new R(M.StringSerializer), new R(new D(mo())), new R(M.StringSerializer), M.IntSerializer, M.StringSerializer, M.IntSerializer, new R(M.IntSerializer), M.DoubleSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.IntSerializer, new R(new N(M.StringSerializer, M.IntSerializer)), M.StringSerializer, M.StringSerializer, M.IntSerializer, new R(M.StringSerializer), M.IntSerializer, new R(M.StringSerializer), new R(M.DoubleSerializer), M.IntSerializer, M.IntSerializer, M.BooleanSerializer, M.BooleanSerializer, M.IntSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.StringSerializer, M.IntSerializer, M.IntSerializer, new R(M.StringSerializer), M.StringSerializer] }, f1.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var y1 = null; function m1() { return null === y1 && new f1, y1 } function $1(t, e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, R, P, M, N, D, x, z, O, F) { var B = F || Object.create(h1.prototype); return (B = Qp(t, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, B)).proficiencyType = 0 == (8388608 & t) ? 0 : b, B.rangedType = 0 == (16777216 & t) ? 0 : I, B.ranged = 0 != (33554432 & t) && w, B.uncommon = 0 != (67108864 & t) && L, B.damage = 0 == (134217728 & t) ? 8 : T, B.damageType = 0 == (268435456 & t) ? "" : k, B.range = 0 == (536870912 & t) ? "" : R, B.reload = 0 == (1073741824 & t) ? "" : P, B.group = 0 == (-2147483648 & t) ? "Sword" : M, B.weaponTraits = 0 == (1 & e) ? "" : N, B.potency = 0 == (2 & e) ? 0 : D, B.striking = 0 == (4 & e) ? 0 : x, B.identity = 0 == (8 & e) ? null : z, B.rune = 0 == (16 & e) ? "" : O, B } function g1(t, e) { return eh(t, e = e || Object.create(h1.prototype)), h1.call(e), e } function v1(t, e) { return ih(t, e = e || Object.create(h1.prototype)), h1.call(e), e.weaponTraits = t.weaponTraits, e.group = t.group, e.reload = t.reload, e.range = t.range, e.damageType = t.damageType, e.damage = t.damage, e.uncommon = t.uncommon, e.rangedType = t.rangedType, e.proficiencyType = t.proficiencyType, e } function S1() { } function C1(t) { W0.call(this, t), this.hashMapRuneEfects = c(); var e = this.hashMapRuneEfects, i = new E1; e.put_xwzc9p$("Ancestral Echoing", i); var a = this.hashMapRuneEfects, r = new A1(this); a.put_xwzc9p$("Corrosive", r); var n = this.hashMapRuneEfects, o = new b1(this); n.put_xwzc9p$("Corrosive (Greater)", o); var s = this.hashMapRuneEfects, l = new I1(this); s.put_xwzc9p$("Flaming", l); var p = this.hashMapRuneEfects, h = new w1(this); p.put_xwzc9p$("Flaming (Greater)", h); var d = this.hashMapRuneEfects, u = new L1(this); d.put_xwzc9p$("Frost", u); var _ = this.hashMapRuneEfects, f = new T1(this); _.put_xwzc9p$("Frost (Greater)", f); var y = this.hashMapRuneEfects, m = new k1(this); y.put_xwzc9p$("Shock", m); var $ = this.hashMapRuneEfects, g = new R1(this); $.put_xwzc9p$("Shock (Greater)", g); var v = this.hashMapRuneEfects, S = new P1(this); v.put_xwzc9p$("Thundering", S); var C = this.hashMapRuneEfects, E = new M1(this); C.put_xwzc9p$("Thundering (Greater)", E); var A = this.hashMapRuneEfects, b = new N1(this); A.put_xwzc9p$("Serrating", b); var I = this.hashMapRuneEfects, w = new D1(this); I.put_xwzc9p$("Brilliant", w); var L = this.hashMapRuneEfects, T = new x1(this); L.put_xwzc9p$("Impactful", T); var k = this.hashMapRuneEfects, R = new z1(this); k.put_xwzc9p$("Impactful (Greater)", R); var P = this.hashMapRuneEfects, M = new O1(this); P.put_xwzc9p$("Siccatite Flaming", M); var N = this.hashMapRuneEfects, D = new F1(this); N.put_xwzc9p$("Siccatite Flaming (Greater)", D); var x = this.hashMapRuneEfects, z = new B1(this); x.put_xwzc9p$("Siccatite Frost", z); var O = this.hashMapRuneEfects, F = new j1(this); O.put_xwzc9p$("Siccatite Frost (Greater)", F) } function E1() { } function A1(t) { this.this$WeaponRuneEffectMethods = t } function b1(t) { this.this$WeaponRuneEffectMethods = t } function I1(t) { this.this$WeaponRuneEffectMethods = t } function w1(t) { this.this$WeaponRuneEffectMethods = t } function L1(t) { this.this$WeaponRuneEffectMethods = t } function T1(t) { this.this$WeaponRuneEffectMethods = t } function k1(t) { this.this$WeaponRuneEffectMethods = t } function R1(t) { this.this$WeaponRuneEffectMethods = t } function P1(t) { this.this$WeaponRuneEffectMethods = t } function M1(t) { this.this$WeaponRuneEffectMethods = t } function N1(t) { this.this$WeaponRuneEffectMethods = t } function D1(t) { this.this$WeaponRuneEffectMethods = t } function x1(t) { this.this$WeaponRuneEffectMethods = t } function z1(t) { this.this$WeaponRuneEffectMethods = t } function O1(t) { this.this$WeaponRuneEffectMethods = t } function F1(t) { this.this$WeaponRuneEffectMethods = t } function B1(t) { this.this$WeaponRuneEffectMethods = t } function j1(t) { this.this$WeaponRuneEffectMethods = t } function H1() { q1 = this, this.IGNORED_TRAITS_0 = [er().CLASS_ALCHEMIST, hr().CLASS_BARD, or().CLASS_BARBARIAN, yr().CLASS_CHAMPION, Sr().CLASS_CLERIC, Ir().CLASS_DRUID, Rr().CLASS_FIGHTER, an().CLASS_MONK, un().CLASS_RANGER, $n().CLASS_ROGUE, En().CLASS_SORCERER, Gn().CLASS_WIZARD, "Archetype", "Dedication", "Uncommon", "Rare"] } h1.$metadata$ = { kind: p, simpleName: "WeaponInformation", interfaces: [Wp] }, S1.$metadata$ = { kind: H, simpleName: "WeaponRuneEffect", interfaces: [] }, C1.prototype.addDamageIncreaseItem_0 = function (t, e, i, a, r) { var n, s; if (i) { if (!t.hashMapDamageIncreaseItemsByPlayerWeapon.containsKey_11rb$(e)) { var l = t.hashMapDamageIncreaseItemsByPlayerWeapon, p = c(); l.put_xwzc9p$(e, p) } null != (n = t.hashMapDamageIncreaseItemsByPlayerWeapon.get_11rb$(e)) && n.put_xwzc9p$(a, r) } else t.hashMapDamageIncreaseItemsByPlayerWeapon.containsKey_11rb$(e) && (null != (s = t.hashMapDamageIncreaseItemsByPlayerWeapon.get_11rb$(e)) && s.remove_11rb$(a), o(t.hashMapDamageIncreaseItemsByPlayerWeapon.get_11rb$(e)).isEmpty() && t.hashMapDamageIncreaseItemsByPlayerWeapon.remove_11rb$(e)) }, E1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { var r = [e.weaponName]; re().addAncestralWeaponExpertise_i1oc2n$(i, o(t), "Ancestral Echoing", 1, r, "NO KEYWORD") }, E1.$metadata$ = { kind: p, interfaces: [S1] }, A1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Acid", "Corrosive applied")) }, A1.$metadata$ = { kind: p, interfaces: [S1] }, b1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Acid", "Corrosive applied")) }, b1.$metadata$ = { kind: p, interfaces: [S1] }, I1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Fire", "Flaming applied")) }, I1.$metadata$ = { kind: p, interfaces: [S1] }, w1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Fire", "Flaming applied")) }, w1.$metadata$ = { kind: p, interfaces: [S1] }, L1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Cold", "Frost applied")) }, L1.$metadata$ = { kind: p, interfaces: [S1] }, T1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Cold", "Frost applied")) }, T1.$metadata$ = { kind: p, interfaces: [S1] }, k1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Electricity", "Shock applied")) }, k1.$metadata$ = { kind: p, interfaces: [S1] }, R1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Electricity", "Shock applied")) }, R1.$metadata$ = { kind: p, interfaces: [S1] }, P1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Sonic", "Thundering applied")) }, P1.$metadata$ = { kind: p, interfaces: [S1] }, M1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Sonic", "Thundering applied")) }, M1.$metadata$ = { kind: p, interfaces: [S1] }, N1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 4), 0, "Serrating", "Serrating applied")) }, N1.$metadata$ = { kind: p, interfaces: [S1] }, D1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a + "1", e1(1, e, bo(1, 4), 0, "Fire", "Brilliant applied")), this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a + "2", e1(1, e, bo(1, 4), 0, "Good vs Fiends", "Brilliant applied")), this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a + "3", e1(1, e, bo(1, 4), 0, "Positive vs Undead", "Brilliant applied")) }, D1.$metadata$ = { kind: p, interfaces: [S1] }, x1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Force", "Impactful applied")) }, x1.$metadata$ = { kind: p, interfaces: [S1] }, z1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 6), 0, "Force", "Impactful (Greater) applied")) }, z1.$metadata$ = { kind: p, interfaces: [S1] }, O1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 8), 0, "Fire", "Siccatite Flaming applied")) }, O1.$metadata$ = { kind: p, interfaces: [S1] }, F1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 8), 0, "Fire", "Siccatite Flaming applied")) }, F1.$metadata$ = { kind: p, interfaces: [S1] }, B1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 8), 0, "Cold", "Siccatite Frost applied")) }, B1.$metadata$ = { kind: p, interfaces: [S1] }, j1.prototype.applyEffect_yvh7p5$ = function (t, e, i, a) { this.this$WeaponRuneEffectMethods.addDamageIncreaseItem_0(t, e, i, a, e1(1, e, bo(1, 8), 0, "Cold", "Siccatite Frost applied")) }, j1.$metadata$ = { kind: p, interfaces: [S1] }, C1.$metadata$ = { kind: p, simpleName: "WeaponRuneEffectMethods", interfaces: [W0] }, H1.prototype.getListEncounterActions_syiyjf$ = function (t, e, i) { var a = u(), r = e.getCharacterData().getCharacterLevel(); return a.addAll_brywnq$(this.getFeats_0(t, e, r)), a.addAll_brywnq$(this.getSpecials_0(e, r)), a.addAll_brywnq$(this.getBasicActions_0(t)), a.addAll_brywnq$(this.getSkillActions_0(t)), i && a.addAll_brywnq$(this.getPetActions_0(t, e)), a.addAll_brywnq$(this.getEquiomentActions_0(t, e)), a }, H1.prototype.getListActionsAndActivities_syiyjf$ = function (t, e, i) { var a = u(), r = e.getCharacterData().getCharacterLevel(); return a.addAll_brywnq$(this.getFeats_0(t, e, r)), a.addAll_brywnq$(this.getSpecials_0(e, r)), a.addAll_brywnq$(this.getBasicActions_0(t)), a.addAll_brywnq$(this.getSkillActivities_0(t)), i && a.addAll_brywnq$(this.getPetActions_0(t, e)), a.addAll_brywnq$(this.getEquiomentActions_0(t, e)), a }, H1.prototype.getPetActions_0 = function (t, i) { var a, r = u(); try { var n, c = e.isType(a = i, qV) ? a : d(), p = c.getPetData(), h = t.managerPets.hashMapAnimalCompanions, _ = p.getPetName(), f = (e.isType(n = h, y) ? n : d()).get_11rb$(_); WV().isIncredible_5btbp7$(i) && (c.spawnedbyAnimalTrainer ? r.add_11rb$(WV().getAnimalTrainerEncounterAction()) : r.add_11rb$(o(o(f).advancedAction))) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return r }, H1.prototype.getEquiomentActions_0 = function (t, i) { var a, r, n, o, c = u(); for (a = i.getCharacterData().listPlayerWeapons.iterator(); a.hasNext();) { var p = a.next(), h = t.managerWeapons.hashMapWeapons.get_11rb$(p.weaponName); if (null != h) { try { h.action0 > -2 && null != h.action1desc && c.add_11rb$(pc(h.name, h.action0, h.traits, "<b>Activate</b> " + h.action0desc, h.url, 2)), h.action1 > -2 && null != h.action1desc && c.add_11rb$(pc(h.name, h.action1, h.traits, "<b>Activate</b> " + h.action1desc, h.url, 2)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } for (r = p.getListPropertyRunes().iterator(); r.hasNext();) { var d = r.next(), _ = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$(d); if (null != _) try { _.action0 > -2 && null != _.action0desc && c.add_11rb$(pc(_.name + " Rune", _.action0, _.traits, "<b>Activate</b> " + _.action0desc, _.url, 2)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } } } var f = i.getCharacterData().getPlayerArmor(), y = t.managerArmor.hashMapArmor.get_11rb$(f.armorName); if (null != y) { try { y.action0 > -2 && null != y.action0desc && c.add_11rb$(pc(y.name, y.action0, y.traits, "<b>Activate</b> " + y.action0desc, y.url, 2)), y.action1 > -2 && null != y.action1desc && c.add_11rb$(pc(y.name, y.action1, y.traits, "<b>Activate</b> " + y.action1desc, y.url, 2)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } for (n = f.getListPropertyRunes().iterator(); n.hasNext();) { var m = n.next(), $ = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$(m); if (null != $) try { $.action0 > -2 && null != $.action1desc && c.add_11rb$(pc($.name + " Rune", $.action0, $.traits, "<b>Activate</b> " + $.action0desc, $.url, 2)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } } var g = i.getCharacterData().getPlayerShieldNew(); if (null != g) { var v = t.managerEquipment.hashMapShields.get_11rb$(g.shieldName); if (null != v && v.action0 > -2 && null != v.action0desc) try { c.add_11rb$(pc(v.name, v.action0, v.traits, "<b>Activate</b> " + v.action0desc, v.url, 2)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } for (o = i.getCharacterData().listPlayerEquipment.iterator(); o.hasNext();) { var S = o.next(), C = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$(S.name); try { null != C && S.invested && (C.action0 > -2 && null != C.action0desc && c.add_11rb$(pc(C.name, C.action0, C.traits, "<b>Activate</b> " + C.action0desc, C.url, 2)), C.action1 > -2 && null != C.action1desc && c.add_11rb$(pc(C.name, C.action1, C.traits, "<b>Activate</b> " + C.action1desc, C.url, 2))) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } return c }, H1.prototype.getSkillActions_0 = function (t) { var e, i = u(); for (e = t.managerProficiencies.skillActionSet.list.iterator(); e.hasNext();) { var a = e.next(); a.actions > -2 && i.add_11rb$(pc(a.name, a.actions, a.traits, a.description, a.url, 1)) } return i }, H1.prototype.getSkillActivities_0 = function (t) { var e, i, a = u(); for (e = t.managerProficiencies.skillActionSet.list.iterator(); e.hasNext();) { var r = e.next(); for (i = v(r.skill, ["&"]).iterator(); i.hasNext();) { var n = i.next(), o = pc(r.name + " (" + n + ")", r.actions, r.traits, r.description, r.url, 1); m(n, "Exploration") && (o.name = r.name), o.extra = n, a.add_11rb$(o) } } return a }, H1.prototype.getBasicActions_0 = function (t) { var e, i, a = u(); for (e = t.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_ACTIONS).values.iterator(); e.hasNext();) { var r = e.next(); a.add_11rb$(cc(o(r.name), r.action, null != (i = r.flags) ? i : "", r.textDescription, 3)) } return a }, H1.prototype.getFeats_0 = function (t, e, i) { var a, r, n = u(), s = u(); for (a = e.getCharacterData().hashMapFeatSelections.keys.iterator(); a.hasNext();) { var l = a.next(), c = e.getCharacterData().hashMapFeatSelections.get_11rb$(l), p = e.getFeatChoiceWithoutLevel_61zpoe$(l); if (null != p && null != c && p.level <= i && !s.contains_11rb$(c)) { s.add_11rb$(c); var h = t.managerFeats.getFeatInformation_pdl1vj$(c); o(h).action > -2 && n.add_11rb$(lc(h.name, h.action, o(this.getClassStrippedTraits_0(h.getTraits())), h.textDescription, h.url)) } } for (r = e.getListFreeFeatsByLevel_za3lpa$(i).iterator(); r.hasNext();) { var d = r.next(); if (!s.contains_11rb$(d.featID)) { s.add_11rb$(d.featID); var _ = t.managerFeats.getFeatInformation_pdl1vj$(d.featID); o(_).action > -2 && n.add_11rb$(lc(_.name, _.action, _.getTraits(), _.textDescription, _.url)) } } return n }, H1.prototype.getClassStrippedTraits_0 = function (t) { var e, i, a; if (null == t) return null; var r = "", n = b(v(t, [", "])); for (e = 0; e !== n.length; ++e) { var o = n[e], s = !0; for (i = this.IGNORED_TRAITS_0, a = 0; a !== i.length; ++a) { var l = i[a]; if (m(o, l)) { s = !1; break } } s && (r.length > 0 && (r += ", "), r += o) } return r }, H1.prototype.addChildFeatChoices_0 = function (t, i, a, r) { var n; for (n = r.hashMapChildFeatChoices.keys.iterator(); n.hasNext();) { var s = n.next(), l = r.hashMapChildFeatChoices.get_11rb$(s); if (null != l) { var c, p = a.getCharacterData().hashMapFeatSelections, h = (e.isType(c = p, y) ? c : d()).get_11rb$(s); if (null != h) { var u = i.managerFeats.getFeatInformation_pdl1vj$(h); o(u).action > -2 && t.add_11rb$(lc(u.name, u.action, u.getTraits(), u.textDescription, u.url)) } this.addChildFeatChoices_0(t, i, a, l) } } }, H1.prototype.getSpecials_0 = function (t, e) { for (var i, a, r, n, s = u(), l = 1; l <= e; l++)for (i = o(t.hashMapSpecialInformation[l - 1 | 0]).keys.iterator(); i.hasNext();) { var c = i.next(), p = null != (a = t.hashMapSpecialInformation[l - 1 | 0]) ? a.get_11rb$(c) : null; null != p && (p.action > -2 && s.add_11rb$(lc(null != (r = p.name) ? r : "", p.action, null != (n = p.flags) ? n : "", p.textDescription, p.url)), this.checkChildren_0(s, t, p, c)) } return s }, H1.prototype.checkChildren_0 = function (t, e, i, a) { var r, n, s; for (r = i.hashMapSpecialChoices.keys.iterator(); r.hasNext();) { var l = r.next(), c = e.getCharacterData().getSpecialSelection_puj7f4$(a, l); if (null != c) { var p = o(i.hashMapSpecialChoices.get_11rb$(l)).get_11rb$(c); null != p && (p.action > -2 && t.add_11rb$(lc(null != (n = i.name) ? n : "", i.action, null != (s = i.flags) ? s : "", i.textDescription, i.url)), this.checkChildren_0(t, e, p, c)) } } }, H1.$metadata$ = { kind: f, simpleName: "ReportActions", interfaces: [] }; var q1 = null; function U1() { return null === q1 && new H1, q1 } function G1(t, e, i) { this.level = i, this.abilityScores = new Int32Array(6), this.abilityScoresBuffed = new Int32Array(6), this.setAbilitiyScoreAtLevel_fhac18$(t, e) } function W1(t, e, i) { G1.call(this, o(t), o(e), i) } function Y1(t, e, i) { Z1.call(this, t, e, i), this.hashMapFeats = c(), this.hashMapFeatExtraInformation = c(), this.listFreeFeats = u(), this.backgroundSkillFeat = "", this.hashMapSpecials = c(), this.listSpecialsToIgnore_0 = u(), this.listSpecialsToIgnore_0.add_11rb$("Swapping Spells in Your Repertoire"), this.listSpecialsToIgnore_0.add_11rb$("Spell Repertoire"), this.listSpecialsToIgnore_0.add_11rb$("Cantrips"), this.listSpecialsToIgnore_0.add_11rb$("Heightening Spells") } function V1() { K1 = this } G1.prototype.isBuffed_za3lpa$ = function (t) { return this.abilityScores[t] !== this.abilityScoresBuffed[t] }, G1.prototype.setAbilitiyScoreAtLevel_fhac18$ = function (t, i) { var a, r, n, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, R, P, M, N, D, x; if (null == i.getCharacterData().getAbilityScoreOverrides()) { for (var z = 0; z <= 5; z++)this.abilityScores[z] = 10; for (a = i.getCharacterData().getHashMapAncestryFreeBoostSelections().values.iterator(); a.hasNext();) { var O = a.next(); (r = this.abilityScores)[O] = r[O] + 2 | 0 } var F = t.managerAncestry.getAncestryTemplate_5btbp7$(i); for (n = o(F).abilityBoosts, c = 0; c !== n.length; ++c) { var B = n[c]; (p = this.abilityScores)[B] = p[B] + 2 | 0 } for (h = F.abilityFlaws, d = 0; d !== h.length; ++d) { var j = h[d]; (u = this.abilityScores)[j] = u[j] - 2 | 0 } var H = t.managerBackgrounds.getBackground_5btbp7$(i); (_ = this.abilityScores)[f = i.getCharacterData().getBackgroundBoostLimitedSelection()] = _[f] + 2 | 0, H.numFreeBoosts > 0 && ((y = this.abilityScores)[m = i.getCharacterData().getGetBackgroundBoostFreeSelection()] = y[m] + 2 | 0), H.numFreeBoosts > 1 && (($ = this.abilityScores)[g = i.getCharacterData().getBackgroundBoostThirdSelection()] = $[g] + 2 | 0), (v = this.abilityScores)[S = i.getCharacterData().getClassKeyAbility()] = v[S] + 2 | 0; var q = i.getCharacterData().getOptionalFlaw(); if (null != q && ((C = this.abilityScores)[E = q.flaw0] = C[E] - 2 | 0, (A = this.abilityScores)[b = q.flaw1] = A[b] - 2 | 0, (I = this.abilityScores)[w = q.boost] = I[w] + 2 | 0), null != i.getCharacterData().getDualClass() && i.getCharacterData().getDualClassKeyAbility() > -1 && i.getCharacterData().getDualClassKeyAbility() !== i.getCharacterData().getClassKeyAbility()) try { (L = this.abilityScores)[T = i.getCharacterData().getDualClassKeyAbility()] = L[T] + 2 | 0 } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } else for (var U = 0; U <= 5; U++)this.abilityScores[U] = o(i.getCharacterData().getAbilityScoreOverrides())[U]; for (k = i.getCharacterData().hashMapAbilityBoosts.keys.iterator(); k.hasNext();) { var G = k.next(); if (this.level >= G) for (R = o(i.getCharacterData().hashMapAbilityBoosts.get_11rb$(G)).iterator(); R.hasNext();) { var W = R.next(); this.abilityScores[W] < 18 ? (P = this.abilityScores)[W] = P[W] + 2 | 0 : (M = this.abilityScores)[W] = M[W] + 1 | 0 } } for (N = i.getCharacterData().hashMapCustomAbilityIncreases.keys.iterator(); N.hasNext();) { var Y = N.next(); if (this.level >= Y) for (var V = 0; V <= 5; V++)if (null != i.getCharacterData().hashMapCustomAbilityIncreases.get_11rb$(Y)) { var K = o(i.getCharacterData().hashMapCustomAbilityIncreases.get_11rb$(Y))[V]; (D = this.abilityScores)[V] = D[V] + K | 0 } else t.getGuiUpdateControl().logError_nwzcgj$(i, "NULL ARRAY FOR LEVEL " + Y) } if (i.getCharacterData().isABP()) { var X = i.getCharacterData().getSpecialSelection_puj7f4$(El().ABP_APEX_ABILITY, El().ABP_APEX_CHOICE); if (null != X && this.level >= 17) { var J = ot(se().ARRAY_ABILITIES, X); 0 <= J && J <= 5 && (this.abilityScores[J] < 18 ? this.abilityScores[J] = 18 : (x = this.abilityScores)[J] = x[J] + 2 | 0) } } this.setAbilityScoresWithEquipentAdded_5btbp7$(i) }, G1.prototype.setAbilityScoresWithEquipentAdded_5btbp7$ = function (t) { for (var e, i, a, r, n, o, s, l, c, p, h, d, u, _ = 0; _ <= 5; _++)this.abilityScoresBuffed[_] = this.abilityScores[_]; if (this.level >= t.getCharacterData().getCharacterLevel()) for (e = t.getCharacterData().listPlayerEquipment.iterator(); e.hasNext();) { var f = e.next(); f.invested && (m(f.name, "Belt of Giant Strength") ? this.abilityScores[0] < 18 ? this.abilityScoresBuffed[0] = 18 : (i = this.abilityScoresBuffed)[0] = i[0] + 2 | 0 : m(f.name, "Anklets of Alacrity") ? this.abilityScores[1] < 18 ? this.abilityScoresBuffed[1] = 18 : (a = this.abilityScoresBuffed)[1] = a[1] + 2 | 0 : m(f.name, "Belt of Regeneration") ? this.abilityScores[2] < 18 ? this.abilityScoresBuffed[2] = 18 : (r = this.abilityScoresBuffed)[2] = r[2] + 2 | 0 : m(f.name, "Diadem of Intellect") ? this.abilityScores[3] < 18 ? this.abilityScoresBuffed[3] = 18 : (n = this.abilityScoresBuffed)[3] = n[3] + 2 | 0 : m(f.name, "Headband of Inspired Wisdom") ? this.abilityScores[4] < 18 ? this.abilityScoresBuffed[4] = 18 : (o = this.abilityScoresBuffed)[4] = o[4] + 2 | 0 : m(f.name, "Circlet of Persuasion") ? this.abilityScores[5] < 18 ? this.abilityScoresBuffed[5] = 18 : (s = this.abilityScoresBuffed)[5] = s[5] + 2 | 0 : m(f.name, "Emberheart") ? this.abilityScores[2] < 18 ? this.abilityScoresBuffed[2] = 18 : (l = this.abilityScoresBuffed)[2] = l[2] + 2 | 0 : m(f.name, "Mask of Allure") ? this.abilityScores[5] < 18 ? this.abilityScoresBuffed[5] = 18 : (c = this.abilityScoresBuffed)[5] = c[5] + 2 | 0 : m(f.name, "Mercurial Mantle") ? this.abilityScores[1] < 18 ? this.abilityScoresBuffed[1] = 18 : (p = this.abilityScoresBuffed)[1] = p[1] + 2 | 0 : m(f.name, "Sage's Lash") ? this.abilityScores[4] < 18 ? this.abilityScoresBuffed[4] = 18 : (h = this.abilityScoresBuffed)[4] = h[4] + 2 | 0 : m(f.name, "Titan's Grasp") ? this.abilityScores[0] < 18 ? this.abilityScoresBuffed[0] = 18 : (d = this.abilityScoresBuffed)[0] = d[0] + 2 | 0 : m(f.name, "Archivist's Gaze") && (this.abilityScores[3] < 18 ? this.abilityScoresBuffed[3] = 18 : (u = this.abilityScoresBuffed)[3] = u[3] + 2 | 0)) } }, G1.$metadata$ = { kind: p, simpleName: "ReportAbilityScores", interfaces: [] }, W1.prototype.setAbilitiyScoreAtLevel_fhac18$ = function (t, i) { var a, r, n, s, l, c, p, h, u, _, f = e.isType(a = i, qV) ? a : d(), y = f.abilityBonuses, m = f.getPetData(); if (2 === m.getPetType()) { for (var $ = 0; $ <= 5; $++)this.abilityScores[$] = y[$]; if (m.isFreeArchetype() && this.level < 5) for (var g = 0; g <= 5; g++)18 === this.abilityScores[g] && (this.abilityScores[g] = 16); for (r = m.hashMapAbilityBoosts.keys.iterator(); r.hasNext();) { var v = r.next(); if (this.level >= v) for (n = o(m.hashMapAbilityBoosts.get_11rb$(v)).iterator(); n.hasNext();) { var S = n.next(); this.abilityScores[S] < 18 ? (s = this.abilityScores)[S] = s[S] + 2 | 0 : (l = this.abilityScores)[S] = l[S] + 1 | 0 } } this.level >= 17 && ((c = this.abilityScores)[p = m.getIncredibleType()] = c[p] + 2 | 0) } else for (var C = 0; C <= 5; C++)this.abilityScores[C] = 10 + (2 * y[C] | 0) | 0; if (3 === m.getPetType()) for (h = m.hashMapAbilityBoosts.keys.iterator(); h.hasNext();) { var E = h.next(); if (this.level >= E) for (u = o(m.hashMapAbilityBoosts.get_11rb$(E)).iterator(); u.hasNext();) { var A = u.next(); (_ = this.abilityScores)[A] = _[A] + 4 | 0 } } this.setAbilityScoresWithEquipentAdded_5btbp7$(i) }, W1.prototype.setAbilityScoresWithEquipentAdded_5btbp7$ = function (t) { for (var e = 0; e <= 5; e++)this.abilityScoresBuffed[e] = this.abilityScores[e] }, W1.$metadata$ = { kind: p, simpleName: "ReportAbilityScoresPets", interfaces: [G1] }, Y1.prototype.createReport_sfkw43$ = function (t) { var i, a, r, n, l, c; i = this.level; for (var p = 1; p <= i; p++) { for (a = o(this.characterBuild.getFeatChoicesAtLevel_za3lpa$(p)).keys.iterator(); a.hasNext();) { var d = a.next(), _ = o(this.characterBuild.getFeatChoicesAtLevel_za3lpa$(p)).get_11rb$(d); this.addFeatChoiceSelection_0(d, _, p) } for (r = o(this.characterBuild.hashMapSpecialInformation[p - 1 | 0]).keys.iterator(); r.hasNext();) { var f = r.next(), y = o(this.characterBuild.hashMapSpecialInformation[p - 1 | 0]).get_11rb$(f); if (!B(this.listSpecialsToIgnore_0, o(y).name)) { if (!this.hashMapSpecials.containsKey_11rb$(p)) { var $ = this.hashMapSpecials, g = u(); $.put_xwzc9p$(p, g) } if (y.hashMapSpecialChoices.isEmpty()) o(this.hashMapSpecials.get_11rb$(p)).add_11rb$(o(y.name)); else for (n = y.hashMapSpecialChoices.keys.iterator(); n.hasNext();) { var v = n.next(), S = this.characterData.getSpecialSelection_puj7f4$(f, v); null == S && (S = se().NOT_SELECTED), o(this.hashMapSpecials.get_11rb$(p)).add_11rb$(y.name + " (" + S + ")") } } } } var C = null != (l = t.managerBackgrounds.getBackground_5btbp7$(this.characterBuild)) ? l.freeFeatID : null; try { var E = t.managerFeats.getFeatInformation_pdl1vj$(o(C)); this.backgroundSkillFeat = o(E).name, o(t.managerBackgrounds.getBackground_5btbp7$(this.characterBuild)).freeFeatDetail.length > 0 && (this.backgroundSkillFeat += " (" + o(t.managerBackgrounds.getBackground_5btbp7$(this.characterBuild)).freeFeatDetail + ")") } catch (t) { if (!e.isType(t, h)) throw t; s(t) } for (c = this.characterBuild.getListFreeFeatsByLevel_za3lpa$(this.level).iterator(); c.hasNext();) { var A = c.next(); try { var b = t.managerFeats.getFeatInformation_pdl1vj$(A.featID), I = null != b ? b.name : null; null != A.extraInformation && (I = I + " (" + A.extraInformation + ")"), m(I, this.backgroundSkillFeat) || null != I && this.listFreeFeats.add_11rb$(I) } catch (t) { if (!e.isType(t, h)) throw t; s(t) } } }, Y1.prototype.addFeatChoiceSelection_0 = function (t, i, a) { var r; try { if (this.characterData.hashMapFeatSelections.containsKey_11rb$(t)) { var n = this.characterData.hashMapFeatSelections.get_11rb$(t), l = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(o(n)); if (!this.hashMapFeats.containsKey_11rb$(o(i).featType)) { var p = this.hashMapFeats, d = i.featType, _ = c(); p.put_xwzc9p$(d, _) } if (!o(this.hashMapFeats.get_11rb$(i.featType)).containsKey_11rb$(a)) { var f = o(this.hashMapFeats.get_11rb$(i.featType)), y = u(); f.put_xwzc9p$(a, y) } var m = null != l ? l.name : null; for (this.characterBuild.hashMapFeatExtraInformation.containsKey_11rb$(t) ? m = m + " (" + this.characterBuild.hashMapFeatExtraInformation.get_11rb$(t) + ")" : this.characterData.hashMapFeatExtraSelections.containsKey_11rb$(t) && (m = m + " (" + this.characterData.hashMapFeatExtraSelections.get_11rb$(t)), null != m && o(o(this.hashMapFeats.get_11rb$(i.featType)).get_11rb$(a)).add_11rb$(m), r = i.hashMapChildFeatChoices.keys.iterator(); r.hasNext();) { var $ = r.next(), g = i.hashMapChildFeatChoices.get_11rb$($); null != $ && this.addFeatChoiceSelection_0($, g, a) } } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, Y1.$metadata$ = { kind: p, simpleName: "ReportAllFeatsAndSpecials", interfaces: [Z1] }, V1.prototype.getEidolonSenses_9f62qa$ = function (t, e, i) { var a, r, n = u(); if (n.add_11rb$(i.senses), Lq().hasFeatByLevel_w0akbr$(e, "no feat ref", e.getCharacterData().getCharacterLevel(), "SUMMONER_Expanded Senses")) { var o = [se().UNIVERSAL_LOW_LIGHT_VISION, se().UNIVERSAL_DARKVISION, "Scent"]; for (a = 0; a !== o.length; ++a) { var s = o[a]; n.contains_11rb$(s) || n.add_11rb$(s) } } Q(n); var l = ""; for (r = n.iterator(); r.hasNext();) { var c = r.next(); l.length > 0 && (l += ", "), l += c } return l }, V1.prototype.getEidolonSize_v0xutk$ = function (t, e) { return Lq().hasFeatByLevel_w0akbr$(t, "no feat ref", t.getCharacterData().getCharacterLevel(), "SUMMONER_Towering Size") ? "Huge" : Lq().hasFeatByLevel_w0akbr$(t, "no feat ref", t.getCharacterData().getCharacterLevel(), "SUMMONER_Hulking Size") ? "Large" : e.getPetData().isSwitchA() ? "Small" : "Medium" }, V1.prototype.getEidolonDR_x6w84g$ = function (t, e, i) { return Lq().hasFeatByLevel_w0akbr$(t, "no feat ref", t.getCharacterData().getCharacterLevel(), "SUMMONER_Resilient Shell") ? "<b>Physical DR</b>: " + j(pe().getAbilityMod_za3lpa$(i.abilityScoresBuffed[2])) : "" }, V1.prototype.getEidolonEnergyResistance_x6w84g$ = function (t, e, i) { if (Lq().hasFeatByLevel_w0akbr$(t, "no feat ref", t.getCharacterData().getCharacterLevel(), "SUMMONER_Energy Heart")) { var a = "", r = t.getCharacterData().getSpecialSelection_puj7f4$(UH().SPECIAL_ENERGY_HEART, UH().SPECIAL_CHOICE_ALL_ENERGY_HEART); null != r && (a = r); var n = t.getCharacterData().getCharacterLevel() / 2, o = C(I.floor(n)); if (0 === o && (o = 1), Lq().hasFeatByLevel_w0akbr$(t, "no feat ref", t.getCharacterData().getCharacterLevel(), "SUMMONER_Dual Energy Heart")) { var s = t.getCharacterData().getSpecialSelection_puj7f4$(UH().SPECIAL_DUAL_ENERGY_HEART, UH().SPECIAL_CHOICE_ALL_ENERGY_HEART); null != s && (a += ", " + j(s)) } return Lq().hasFeatByLevel_w0akbr$(t, "no feat ref", t.getCharacterData().getCharacterLevel(), "SUMMONER_Energy Resistance") && (o = t.getCharacterData().getCharacterLevel()), "<b>Resist</b> " + a + ": " + o } return "" }, V1.$metadata$ = { kind: f, simpleName: "ReportEidolonMisc", interfaces: [] }; var K1 = null; function X1() { return null === K1 && new V1, K1 } function J1(t, e, i) { Z1.call(this, t, e, i), this.playerArmorName = "", this.listEquipment = u(), this.pp = "", this.gp = "", this.sp = "", this.cp = "", this.totalBulk = "" } function Z1(t, e, i) { this.dataControl = t, this.characterBuild = e, this.level = i } function Q1(t, e) { i3(), this.casterName = t, this.hashMapAlchemyLevels_0 = c(), this.level = 1, this.hasAdvanced = !1, this.hasQuick = !1, this.hasVials = !1, this.level = e } function t3() { e3 = this, this.ALCHEMY_ALCHEMIST = er().CLASS_ALCHEMIST, this.ALCHEMY_ARCHETYPE_ALCHEMIST = "Archetype Alchemist", this.ALCHEMY_GUNSLINGER = "Gunslinger Munitions Crafter", this.ALCHEMY_FIREWORK_TECHNICIAN = "Archetype Firework Technician", this.ALCHEMY_POISONER = "Poisoner", this.ALCHEMY_HERBALIST = "Herbalist", this.ALCHEMY_INVESTIGATOR_SCIENCES = "Alchemical Sciences", this.ALCHEMY_WITCH_CAULDRON = "Witch Cauldron" } J1.prototype.createReport = function () { var t; try { var i = this.characterData.getPlayerArmor(), a = this.dataControl.managerArmor.hashMapArmor.get_11rb$(i.armorName); this.playerArmorName = this.characterData.getPlayerArmor().getArmorFullName_cfdsd3$(a, this.characterBuild) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } for (t = this.characterBuild.getCharacterData().listPlayerEquipment.iterator(); t.hasNext();) { var r = t.next(), n = r.name, c = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(n), p = o(c).name; r.quantity > 1 && (p += " (" + r.quantity.toString() + ")"), null != p && this.listEquipment.add_11rb$(p) } var h = this.dataControl.managerEquipment.getCurrentBulk_n40yp2$(this.characterBuild).currentBulk; h = S(h *= 10), h /= 10, this.totalBulk = h.toString(), this.pp = this.characterData.getPlatinum().toString(), this.gp = this.characterData.getGold().toString(), this.sp = this.characterData.getSilver().toString(), this.cp = this.characterData.getCopper().toString() }, J1.$metadata$ = { kind: p, simpleName: "ReportEquipment", interfaces: [Z1] }, Object.defineProperty(Z1.prototype, "characterData", { configurable: !0, get: function () { return this.characterBuild.getCharacterData() } }), Z1.$metadata$ = { kind: p, simpleName: "ReportTemplate", interfaces: [] }, Q1.prototype.setAlchemyLevelAtCharacterLevel_f9128j$ = function (t, e, i, a) { if (t) { var r = this.hashMapAlchemyLevels_0, n = DW(i, a); r.put_xwzc9p$(e, n) } else this.hashMapAlchemyLevels_0.remove_11rb$(e) }, Q1.prototype.getAlchemyLevel_za3lpa$ = function (t) { var e, i = 0; for (e = this.hashMapAlchemyLevels_0.values.iterator(); e.hasNext();) { var a = e.next(); t >= a.level && a.increase > i && (i = a.increase) } return i }, Q1.prototype.getMaxInfusedReagents_fhac18$ = function (t, e) { var i; if (m(this.casterName, i3().ALCHEMY_INVESTIGATOR_SCIENCES)) return this.getAlchemicalScienceTotal_0(t, e); var a = e.getCharacterData().getCharacterLevel(); if (m(this.casterName, i3().ALCHEMY_ALCHEMIST)) { var r = pe().getAbilityMod_za3lpa$(o(e.getPlayReportAbilityScores_sfkw43$(t)).abilityScoresBuffed[3]); r > 0 && (a = a + r | 0) } for (i = e.hashMapExtraInfusedReagents.values.iterator(); i.hasNext();) { var n = i.next(); e.getCharacterData().getCharacterLevel() >= n.level && (a = a + n.increase | 0) } return a }, Q1.prototype.getAlchemicalScienceTotal_0 = function (t, e) { var i = pe().getAbilityMod_za3lpa$(o(e.getPlayReportAbilityScores_sfkw43$(t)).abilityScoresBuffed[3]); if (Lq().hasFeatByLevel_w0akbr$(e, "no feat ref", e.getCharacterData().getCharacterLevel(), "INVESTIGATOR_Alchemical Discoveries")) { var a = o(e.getSkillProficiency_61zpoe$(pK().CRAFTING)).getProficiencyAtLevel_za3lpa$(e.getCharacterData().getCharacterLevel()); 8 === a ? i = i + 3 | 0 : 6 === a ? i = i + 2 | 0 : 4 === a && (i = i + 1 | 0) } return i }, t3.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var e3 = null; function i3() { return null === e3 && new t3, e3 } function a3(t, e, i, a, r, n, o) { o3(), B2(t, e, i, a, r, o, this), this.basic_nf3rew$_0 = 21, this.breadth_urdy4m$_0 = 21, this.expert_vupjh8$_0 = 21, this.master_3p825o$_0 = 21, this.standardCantrips = 2, this.spellbookCaster = n, this.archetypeCaster = !0 } function r3() { n3 = this, this.ARCHETYPE_CASTER_BARD = "Archetype Bard", this.ARCHETYPE_CASTER_CLERIC = "Archetype Cleric", this.ARCHETYPE_CASTER_DRUID = "Archetype Druid", this.ARCHETYPE_CASTER_SORCERER = "Archetype Sorcerer", this.ARCHETYPE_CASTER_WIZARD = "Archetype Wizard", this.ARCHETYPE_CASTER_MONSTER_MAGE = "Archetype Monster Mage", this.ARCHETYPE_CASTER_CRIMSON_ASSASSIN = "Archetype Crimson Assassin", this.ARCHETYPE_CASTER_RUNESCARRED = "Archetype Crimson Runescarred", this.ARCHETYPE_CASTER_ORACLE = "Archetype Oracle", this.ARCHETYPE_CASTER_WITCH = "Archetype Witch", this.ARCHETYPE_CASTER_MAGUS = "Archetype Magus", this.ARCHETYPE_CASTER_SUMMONER = "Archetype Summoner" } Q1.$metadata$ = { kind: p, simpleName: "AlchemicalCaster", interfaces: [] }, Object.defineProperty(a3.prototype, "basic", { configurable: !0, get: function () { return this.basic_nf3rew$_0 }, set: function (t) { this.basic_nf3rew$_0 = t } }), Object.defineProperty(a3.prototype, "breadth", { configurable: !0, get: function () { return this.breadth_urdy4m$_0 }, set: function (t) { this.breadth_urdy4m$_0 = t } }), Object.defineProperty(a3.prototype, "expert", { configurable: !0, get: function () { return this.expert_vupjh8$_0 }, set: function (t) { this.expert_vupjh8$_0 = t } }), Object.defineProperty(a3.prototype, "master", { configurable: !0, get: function () { return this.master_3p825o$_0 }, set: function (t) { this.master_3p825o$_0 = t } }), a3.prototype.setBasic_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.basic = i }, a3.prototype.setExpert_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.expert = i }, a3.prototype.setMaster_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.master = i }, a3.prototype.setBreadth_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.breadth = i }, a3.prototype.getSpellsPerDay_za3lpa$ = function (t) { var e = new Int32Array([this.standardCantrips, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]); if (t >= this.basic && t >= 4 && (e[1] = 1, t >= 6 && (e[2] = 1), t >= 8 && (e[3] = 1)), t >= this.expert && t >= 12 && (e[4] = 1, t >= 14 && (e[5] = 1), t >= 16 && (e[6] = 1)), t >= this.master && t >= 18 && (e[7] = 1, t >= 20 && (e[8] = 1)), t >= this.breadth && t >= 8) { var i = this.getHighestSpellLevel_q5rwfd$(e); if (i >= 3) for (var a = i - 2 | 0, r = 1; r <= a; r++)e[r] = e[r] + 1 | 0 } return e }, a3.prototype.getHighestSpellLevel_q5rwfd$ = function (t) { for (var e = 0; e !== t.length; ++e)if (t[e] < 0 && e > 0) return e - 1 | 0; return 0 }, r3.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var n3 = null; function o3() { return null === n3 && new r3, n3 } function s3(t, e) { p3(), B2(p3().ARCHETYPE_CASTER_CATHARTIC_MAGE, 0, t, !0, 5, e, this), this.basic_ieqd4v$_0 = 21, this.breadth_y96h1d$_0 = 21, this.expert_dpsm0z$_0 = 21, this.master_lu4zlx$_0 = 21, this.archetypeCaster = !0 } function l3() { c3 = this, this.ARCHETYPE_CASTER_CATHARTIC_MAGE = "Cathartic Mage" } a3.$metadata$ = { kind: p, simpleName: "ArchetypeCaster", interfaces: [M2] }, Object.defineProperty(s3.prototype, "basic", { configurable: !0, get: function () { return this.basic_ieqd4v$_0 }, set: function (t) { this.basic_ieqd4v$_0 = t } }), Object.defineProperty(s3.prototype, "breadth", { configurable: !0, get: function () { return this.breadth_y96h1d$_0 }, set: function (t) { this.breadth_y96h1d$_0 = t } }), Object.defineProperty(s3.prototype, "expert", { configurable: !0, get: function () { return this.expert_dpsm0z$_0 }, set: function (t) { this.expert_dpsm0z$_0 = t } }), Object.defineProperty(s3.prototype, "master", { configurable: !0, get: function () { return this.master_lu4zlx$_0 }, set: function (t) { this.master_lu4zlx$_0 = t } }), s3.prototype.setBasic_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.basic = i }, s3.prototype.setExpert_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.expert = i }, s3.prototype.setMaster_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.master = i }, s3.prototype.setBreadth_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.breadth = i }, s3.prototype.getSpellsPerDay_za3lpa$ = function (t) { var e = new Int32Array([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]); if (t >= this.basic && t >= 4 && (e[1] = 1, t >= 6 && (e[2] = 1), t >= 8 && (e[3] = 1)), t >= this.expert && t >= 12 && (e[4] = 1, t >= 14 && (e[5] = 1), t >= 16 && (e[6] = 1)), t >= this.master && t >= 18 && (e[7] = 1, t >= 20 && (e[8] = 1)), t >= this.breadth && t >= 8) { var i = this.getHighestSpellLevel_q5rwfd$(e); if (i >= 3) for (var a = i - 2 | 0, r = 1; r <= a; r++)e[r] = e[r] + 1 | 0 } return e }, s3.prototype.getHighestSpellLevel_q5rwfd$ = function (t) { for (var e = 0; e !== t.length; ++e)if (t[e] < 0 && e > 0) return e - 1 | 0; return 0 }, l3.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var c3 = null; function p3() { return null === c3 && new l3, c3 } function h3(t) { _3(), B2(_3().CASTER_NAME, 0, 0, !0, 5, t, this), this.basic = 21, this.breadth = 21, this.expert = 21, this.master = 21, this.archetypeCaster = !0 } function d3() { u3 = this, this.CASTER_NAME = "Eldritch Archer" } s3.$metadata$ = { kind: p, simpleName: "ArchetypeCasterCatharticMage", interfaces: [M2] }, h3.prototype.setTradition_vy76y1$ = function (t, e) { var i = k0().ARRAY_SPELL_LISTS[this.spellList], a = t.getProficiency_61zpoe$(i); o(a).removeProficiencyAtLevel_61zpoe$(this.casterName), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Expert"), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Master"), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Legendary"), this.spellList = e; var r = k0().ARRAY_SPELL_LISTS[this.spellList]; a = t.getProficiency_61zpoe$(r), o(a).setProficiencyAtLevel_3m52m6$(this.casterName, this.level, 2), a.setProficiencyAtLevel_3m52m6$(this.casterName + "Expert", this.expert, 4), a.setProficiencyAtLevel_3m52m6$(this.casterName + "Master", this.master, 6) }, h3.prototype.setBasic_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.basic = i }, h3.prototype.setExpert_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.expert = i }, h3.prototype.setMaster_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.master = i }, h3.prototype.setBreadth_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.breadth = i }, h3.prototype.getSpellsPerDay_za3lpa$ = function (t) { var e = new Int32Array([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]); if (t >= this.basic && t >= 4 && (e[1] = 1, t >= 6 && (e[2] = 1), t >= 8 && (e[3] = 1)), t >= this.expert && t >= 12 && (e[4] = 1, t >= 14 && (e[5] = 1), t >= 16 && (e[6] = 1)), t >= this.master && t >= 18 && (e[7] = 1, t >= 20 && (e[8] = 1)), t >= this.breadth && t >= 8) { var i = this.getHighestSpellLevel_0(e); if (i >= 3) for (var a = i - 2 | 0, r = 1; r <= a; r++)e[r] = e[r] + 1 | 0 } return e }, h3.prototype.getHighestSpellLevel_0 = function (t) { for (var e = 0; e !== t.length; ++e)if (t[e] < 0 && e > 0) return e - 1 | 0; return 0 }, d3.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var u3 = null; function _3() { return null === u3 && new d3, u3 } function f3(t, e, i, a, r, n, o) { $3(), B2(t, e, i, a, r, o, this), this.initiate = 21, this.flexible = 21, this.adept = 21, this.sage = 21, this.spellbookCaster = n, this.archetypeCaster = !0 } function y3() { m3 = this, this.ARCHETYPE_CASTER_HALCYON_SPEAKER = "Archetype Halcyon Speaker" } h3.$metadata$ = { kind: p, simpleName: "ArchetypeCasterEldritchArcher", interfaces: [M2] }, f3.prototype.setInitiate_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.initiate = i }, f3.prototype.setFlexible_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.flexible = i }, f3.prototype.setAdept_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.adept = i }, f3.prototype.setSage_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.sage = i }, f3.prototype.getSpellsPerDay_za3lpa$ = function (t) { var e = new Int32Array([2, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1]); if (t >= this.initiate && (e[2] = 1, e[3] = 1), t >= this.adept && (e[4] = 1, e[5] = 1), t >= this.sage && (e[6] = 1, e[7] = 1), t >= this.flexible) { var i = this.getHighestSpellLevel_0(e); if (i >= 2) for (var a = i - 1 | 0, r = 1; r <= a; r++)e[r] = e[r] + 1 | 0 } return e }, f3.prototype.getHighestSpellLevel_0 = function (t) { for (var e = 0; e !== t.length; ++e)if (t[e] < 0 && e > 0) return e - 1 | 0; return 0 }, y3.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var m3 = null; function $3() { return null === m3 && new y3, m3 } function g3(t) { a3.call(this, o3().ARCHETYPE_CASTER_WITCH, 1, 0, !1, 3, !0, t), this.basic_jiefn9$_0 = 21, this.breadth_rq0oaf$_0 = 21, this.expert_kfxjt3$_0 = 21, this.master_f18wj5$_0 = 21 } function v3() { this.addSpellPerDay = !0, this.addPrepared = !0, this.spellLevel = 0, this.reqCharacterLevel = 1, this.maxCharacterLevel = 20, this.header = null, this.userCreated = !1 } function S3(t, e) { return e = e || Object.create(v3.prototype), v3.call(e), e.spellLevel = t, e } function C3(t, e, i, a) { return a = a || Object.create(v3.prototype), v3.call(a), a.spellLevel = t, a.addSpellPerDay = e, a.addPrepared = i, a } function E3(t, e, i, a, r) { return r = r || Object.create(v3.prototype), v3.call(r), r.spellLevel = t, r.addSpellPerDay = e, r.addPrepared = i, r.userCreated = a, r } function A3(t, e, i, a, r, n, o) { w3(), B2(t, e, i, a, r, o, this), this.basic_x2rn81$_0 = 21, this.expert_nxacb1$_0 = 21, this.master_bjw417$_0 = 21, this.spellbookCaster = n, this.archetypeCaster = !0 } function b3() { I3 = this, this.BOUNDED_ARCHETYPE_CASTER_MAGUS = "Archetype Magus", this.BOUNDED_ARCHETYPE_CASTER_SUMMONER = "Archetype Summoner" } f3.$metadata$ = { kind: p, simpleName: "ArchetypeCasterHalcyonSpeaker", interfaces: [M2] }, Object.defineProperty(g3.prototype, "basic", { configurable: !0, get: function () { return this.basic_jiefn9$_0 }, set: function (t) { this.basic_jiefn9$_0 = t } }), Object.defineProperty(g3.prototype, "breadth", { configurable: !0, get: function () { return this.breadth_rq0oaf$_0 }, set: function (t) { this.breadth_rq0oaf$_0 = t } }), Object.defineProperty(g3.prototype, "expert", { configurable: !0, get: function () { return this.expert_kfxjt3$_0 }, set: function (t) { this.expert_kfxjt3$_0 = t } }), Object.defineProperty(g3.prototype, "master", { configurable: !0, get: function () { return this.master_f18wj5$_0 }, set: function (t) { this.master_f18wj5$_0 = t } }), g3.prototype.setBasic_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.basic = i }, g3.prototype.setExpert_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.expert = i }, g3.prototype.setMaster_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.master = i }, g3.prototype.setBreadth_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.breadth = i }, g3.prototype.getSpellsPerDay_za3lpa$ = function (t) { var e = new Int32Array([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]); if (t >= this.basic && t >= 4 && (e[1] = 1, t >= 6 && (e[2] = 1), t >= 8 && (e[3] = 1)), t >= this.expert && t >= 12 && (e[4] = 1, t >= 14 && (e[5] = 1), t >= 16 && (e[6] = 1)), t >= this.master && t >= 18 && (e[7] = 1, t >= 20 && (e[8] = 1)), t >= this.breadth && t >= 8) { var i = this.getHighestSpellLevel_q5rwfd$(e); if (i >= 3) for (var a = i - 2 | 0, r = 1; r <= a; r++)e[r] = e[r] + 1 | 0 } return e }, g3.prototype.setTradition_vy76y1$ = function (t, e) { var i = k0().ARRAY_SPELL_LISTS[this.spellList], a = t.getProficiency_61zpoe$(i); o(a).removeProficiencyAtLevel_61zpoe$(this.casterName), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Expert"), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Master"), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Legendary"), this.spellList = e; var r = k0().ARRAY_SPELL_LISTS[this.spellList]; a = t.getProficiency_61zpoe$(r), o(a).setProficiencyAtLevel_3m52m6$(this.casterName, this.level, 2), a.setProficiencyAtLevel_3m52m6$(this.casterName + "Expert", this.expert, 4), a.setProficiencyAtLevel_3m52m6$(this.casterName + "Master", this.master, 6) }, g3.$metadata$ = { kind: p, simpleName: "ArchetypeCasterWitch", interfaces: [a3] }, v3.prototype.isAvailableAtCharacterLevel_za3lpa$ = function (t) { var e, i; return e = this.reqCharacterLevel, i = this.maxCharacterLevel, e <= t && t <= i }, v3.$metadata$ = { kind: p, simpleName: "BonusSpellSlot", interfaces: [] }, Object.defineProperty(A3.prototype, "basic", { configurable: !0, get: function () { return this.basic_x2rn81$_0 }, set: function (t) { this.basic_x2rn81$_0 = t } }), Object.defineProperty(A3.prototype, "expert", { configurable: !0, get: function () { return this.expert_nxacb1$_0 }, set: function (t) { this.expert_nxacb1$_0 = t } }), Object.defineProperty(A3.prototype, "master", { configurable: !0, get: function () { return this.master_bjw417$_0 }, set: function (t) { this.master_bjw417$_0 = t } }), b3.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var I3 = null; function w3() { return null === I3 && new b3, I3 } function L3(t, e) { A3.call(this, w3().BOUNDED_ARCHETYPE_CASTER_SUMMONER, 0, e, !0, 5, !1, t), this.basic = t } function T3() { F2(hr().CLASS_BARD, 0, 2, !0, 5, this) } function k3(t, e) { N3(), B2(t, 1, 1, !0, 5, e, this), this.hasBonusSlots = !1, this.innate = !0; for (var i = 0; i <= 19; i++)this.spellsPerDay[i] = i >= (e - 1 | 0) ? i >= 18 ? new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1]) : new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -1]) : new Int32Array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) } function R3() { S2.call(this, 1, "Divine Decree", 0) } function P3() { M3 = this, this.BLASPHEMOUS_DECREE_SPELL = "Blasphemous Decree spell" } A3.prototype.setBasic_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.basic = i }, A3.prototype.setExpert_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.expert = i }, A3.prototype.setMaster_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.master = i }, A3.prototype.getSpellsPerDay_za3lpa$ = function (t) { return t >= this.master ? 20 === t ? new Int32Array([2, 0, 0, 0, 0, 0, 2, 2, -1, -1, -1]) : new Int32Array([2, 0, 0, 0, 0, 2, 2, -1, -1, -1, -1]) : t >= this.expert ? t >= 16 ? new Int32Array([2, 0, 0, 0, 0, 2, 1, -1, -1, -1, -1]) : t >= 14 ? new Int32Array([2, 0, 0, 0, 2, 1, -1, -1, -1, -1, -1]) : new Int32Array([2, 0, 2, 2, -1, -1, -1, -1, -1, -1, -1]) : t >= this.basic ? t >= 10 ? new Int32Array([2, 0, 1, 1, -1, -1, -1, -1, -1, -1, -1]) : new Int32Array([2, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1]) : new Int32Array([2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) }, A3.$metadata$ = { kind: p, simpleName: "BoundedArchetypeCaster", interfaces: [M2] }, L3.prototype.setTradition_vy76y1$ = function (t, e) { var i = k0().ARRAY_SPELL_LISTS[this.spellList], a = t.getProficiency_61zpoe$(i); o(a).removeProficiencyAtLevel_61zpoe$(this.casterName), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Expert"), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Master"), this.spellList = e; var r = k0().ARRAY_SPELL_LISTS[this.spellList]; a = t.getProficiency_61zpoe$(r), o(a).setProficiencyAtLevel_3m52m6$(this.casterName, this.level, 2), a.setProficiencyAtLevel_3m52m6$(this.casterName + "Expert", this.expert, 4), a.setProficiencyAtLevel_3m52m6$(this.casterName + "Master", this.master, 6) }, L3.prototype.getSummonerMaxRepertoire_5btbp7$ = function (t) { for (var e = 0, i = 1; i <= 10; i++) { var a = this.getSpellsSlots_vux9f0$(t.getCharacterData().getCharacterLevel(), i); a > -1 && (e = e + a | 0) } return e }, L3.prototype.getSummonerDefaultRepertoire_98w4uv$ = function (t, e, i, a) { return this.getSpellsPerDay_za3lpa$(e)[i] + this.getSpellsExtraAdjustment_vux9f0$(e, i) | 0 }, L3.$metadata$ = { kind: p, simpleName: "BoundedArchetypeCasterSummoner", interfaces: [A3] }, T3.$metadata$ = { kind: p, simpleName: "CasterBard", interfaces: [M2] }, k3.prototype.getSpellSlotReference_vux9f0$ = function (t, e) { return N3().BLASPHEMOUS_DECREE_SPELL }, R3.prototype.getHeighten_5btbp7$ = function (t) { return t.getCharacterData().getCharacterLevel() >= 19 ? 3 : 2 }, R3.$metadata$ = { kind: p, simpleName: "BlasphemousDecreeSpell", interfaces: [S2] }, P3.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var M3 = null; function N3() { return null === M3 && new P3, M3 } function D3(t, e) { B2(t, 1, 2, !0, 5, e, this), this.basic_mgboeu$_0 = 21, this.expert_ueo0e2$_0 = 21, this.master_559l8u$_0 = 21, this.innate = !0 } function x3() { F2(Sr().CLASS_CLERIC, 1, 1, !0, 4, this) } function z3() { j3(), F2(j3().CASTER_CLERIC_FONT, 1, 1, !0, 4, this), this.hashMapFontSpells_0 = c() } function O3() { B3 = this, this.CASTER_CLERIC_FONT = "Cleric Font" } function F3(t, e) { this.closure$dataControl = t, S3(e, this) } k3.$metadata$ = { kind: p, simpleName: "CasterBlaspemousDecree", interfaces: [M2] }, Object.defineProperty(D3.prototype, "basic", { configurable: !0, get: function () { return this.basic_mgboeu$_0 }, set: function (t) { this.basic_mgboeu$_0 = t } }), Object.defineProperty(D3.prototype, "expert", { configurable: !0, get: function () { return this.expert_ueo0e2$_0 }, set: function (t) { this.expert_ueo0e2$_0 = t } }), Object.defineProperty(D3.prototype, "master", { configurable: !0, get: function () { return this.master_559l8u$_0 }, set: function (t) { this.master_559l8u$_0 = t } }), D3.prototype.setBasic_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.basic = i }, D3.prototype.setExpert_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.expert = i }, D3.prototype.setMaster_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.master = i }, D3.prototype.getSpellsPerDay_za3lpa$ = function (t) { var e = new Int32Array([2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]); return t >= this.basic && (e[1] = 1, t >= 6 && (e[2] = 1), t >= 8 && (e[3] = 1)), t >= this.expert && (e[4] = 1, t >= 12 && (e[5] = 1), t >= 14 && (e[6] = 1)), t >= this.master && (e[7] = 1, t >= 18 && (e[8] = 1), t >= 20 && (e[9] = 1)), e }, D3.prototype.getHighestSpellLevel_q5rwfd$ = function (t) { for (var e = 0; e !== t.length; ++e)if (t[e] < 0 && e > 0) return e - 1 | 0; return 0 }, D3.$metadata$ = { kind: p, simpleName: "CasterCaptivator", interfaces: [M2] }, x3.$metadata$ = { kind: p, simpleName: "CasterCleric", interfaces: [M2] }, z3.prototype.getSpellsSlots_vux9f0$ = function (t, e) { return 0 }, z3.prototype.getSpontaneousSpellsMax_vux9f0$ = function (t, e) { return this.hashMapFontSpells_0.size }, z3.prototype.getSpellsRepetoire_bh8xs5$ = function (t, e, i) { return 0 }, z3.prototype.getSpellLevelsAvailable_za3lpa$ = function (t) { var e = t / 2; return C(I.ceil(e)) }, z3.prototype.getNumBonusSpellsAtSpellLevel_za3lpa$ = function (t) { return this.hashMapFontSpells_0.size }, z3.prototype.getSpellSlotReference_vux9f0$ = function (t, e) { return this.casterName + "&" + e }, z3.prototype.getHashMapBonusSpell_fhac18$ = function (t, e) { var i, a, r = null != (i = e.reportAbilityScores) ? i : new G1(t, e, e.getCharacterData().getCharacterLevel()), n = pe().getAbilityMod_za3lpa$(r.abilityScores[5]) + 1 | 0, o = e.getCharacterData().getCharacterLevel() / 2, s = C(I.ceil(o)); if (this.hashMapFontSpells_0.size !== n) { this.hashMapFontSpells_0.clear(); var l = "Heal", c = e.getCharacterData().getSpecialSelection_puj7f4$(FJ().CLERIC_FONT_SPECIAL_REF, FJ().CLERIC_FONT_SPECIAL_CHOICE); null != c && m(c, "Harmful Font") && (l = "Harm"); for (var p = 0; p < n; p++) { var h = this.getSpellSlotReference_vux9f0$(-1, p); if (this.hashMapFontSpells_0.put_xwzc9p$(h, j3().getFontBonusSpellSlot_0(t)), !e.getCharacterData().getHashMapPlayerSpells().containsKey_11rb$(h)) { var d = new S2(1, l, 0); e.getCharacterData().getHashMapPlayerSpells().put_xwzc9p$(h, d) } } } for (a = this.hashMapFontSpells_0.values.iterator(); a.hasNext();)a.next().spellLevel = s; return this.hashMapFontSpells_0 }, z3.prototype.resetBonusSpellsOnFontChange_5btbp7$ = function (t) { var e; for (e = this.hashMapFontSpells_0.keys.iterator(); e.hasNext();) { var i = e.next(); t.getCharacterData().getHashMapPlayerSpells().remove_11rb$(i), t.getCharacterData().getListSpentSpellSlots().remove_11rb$(i) } this.hashMapFontSpells_0.clear() }, F3.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { var i = u(); return i.add_11rb$(o(this.closure$dataControl.managerSpells.hashMapSpells.get_11rb$("Heal"))), i.add_11rb$(o(this.closure$dataControl.managerSpells.hashMapSpells.get_11rb$("Harm"))), i }, F3.$metadata$ = { kind: p, interfaces: [v3] }, O3.prototype.getFontBonusSpellSlot_0 = function (t) { var e = new F3(t, -1); return e.header = "Cleric Font", e }, O3.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var B3 = null; function j3() { return null === B3 && new O3, B3 } function H3(t, e, i, a, r, n, o) { a3.call(this, t, e, i, a, r, n, o), this.highKiller_0 = 21 } function q3(t, e) { Y3(), B2(t, 1, 6, !0, 5, e, this), this.hasBonusSlots = !1, this.innate = !1, this.hideProficiencies = !0; for (var i = 0; i <= 19; i++)this.spellsPerDay[i] = i >= (e - 1 | 0) ? i >= 17 ? new Int32Array([0, 0, 0, 0, 0, 0, 1, -1, -1, -1, -1]) : i >= 14 ? new Int32Array([0, 0, 0, 0, 0, 1, -1, -1, -1, -1, -1]) : i >= 11 ? new Int32Array([0, 0, 0, 0, 1, -1, -1, -1, -1, -1, -1]) : new Int32Array([0, 0, 0, 1, -1, -1, -1, -1, -1, -1, -1]) : new Int32Array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) } function U3() { S2.call(this, 6, "Dragon Breath (Dragon Prince)", 0) } function G3() { W3 = this, this.DRAGON_PRINCE_SPELL = "Dragon Prince spell" } z3.$metadata$ = { kind: p, simpleName: "CasterClericFont", interfaces: [M2] }, H3.prototype.getSpellsPerDay_za3lpa$ = function (t) { var e = new Int32Array([2, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1]); return t >= this.expert && (e = t < 8 ? new Int32Array([2, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1]) : t < 10 ? new Int32Array([2, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1]) : new Int32Array([2, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1])), t >= this.highKiller_0 && (e[5] = 1), e }, H3.prototype.setHighKiller_eltk6l$ = function (t, e) { var i; i = t ? e : 21, this.highKiller_0 = i }, H3.$metadata$ = { kind: p, simpleName: "CasterCrimsonAssassin", interfaces: [a3] }, q3.prototype.getSpellSlotReference_vux9f0$ = function (t, e) { return Y3().DRAGON_PRINCE_SPELL }, U3.prototype.getHeighten_5btbp7$ = function (t) { var e = t.getCharacterData().getCharacterLevel(); return e >= 18 ? 3 : e >= 15 ? 2 : e >= 12 ? 1 : 0 }, U3.$metadata$ = { kind: p, simpleName: "DragonPrinceSpell", interfaces: [S2] }, G3.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var W3 = null; function Y3() { return null === W3 && new G3, W3 } function V3(t, e) { B2(t, 1, 0, !0, 5, e, this), this.hasBonusSlots = !1, this.innate = !0; for (var i = 0; i <= 19; i++)this.spellsPerDay[i] = i >= (e - 1 | 0) ? i >= 17 ? new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -1]) : i >= 15 ? new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 1, -1, -1]) : new Int32Array([0, 0, 0, 0, 0, 0, 0, 1, -1, -1, -1]) : new Int32Array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) } function K3() { S2.call(this, 0, "Dragon Form", 0) } function X3() { F2(Ir().CLASS_DRUID, 1, 3, !0, 4, this) } function J3(t, e) { B2(t, 1, 0, !0, 5, e, this), this.hasBonusSlots = !1, this.innate = !0; for (var i = 0; i <= 19; i++)this.spellsPerDay[i] = i >= (e - 1 | 0) ? i >= 18 ? new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 1, -1, -1]) : i >= 16 ? new Int32Array([0, 0, 0, 0, 0, 0, 0, 1, -1, -1, -1]) : i >= 14 ? new Int32Array([0, 0, 0, 0, 0, 0, 1, -1, -1, -1, -1]) : i >= 12 ? new Int32Array([0, 0, 0, 0, 0, 1, -1, -1, -1, -1, -1]) : i >= 10 ? new Int32Array([0, 0, 0, 0, 1, -1, -1, -1, -1, -1, -1]) : i >= 8 ? new Int32Array([0, 0, 0, 1, -1, -1, -1, -1, -1, -1, -1]) : i >= 6 ? new Int32Array([0, 0, 1, -1, -1, -1, -1, -1, -1, -1, -1]) : new Int32Array([0, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) : new Int32Array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) } function Z3() { S2.call(this, 0, "Illusory Disguise", 0) } function Q3(t, e, i, a, r, n, o) { i2(), a3.call(this, t, e, i, a, r, n, o), this.spiritSpells_0 = 21 } function t2() { e2 = this, this.CASTER_NAME = "Ghost Hunter" } q3.$metadata$ = { kind: p, simpleName: "CasterDragonPrince", interfaces: [M2] }, V3.prototype.getSpellSlotReference_vux9f0$ = function (t, e) { return "dragon shape spell" }, K3.prototype.getHeighten_5btbp7$ = function (t) { var e = t.getCharacterData().getCharacterLevel(); return e >= 18 ? 3 : e >= 16 ? 2 : 1 }, K3.$metadata$ = { kind: p, simpleName: "DragonShapeSpell", interfaces: [S2] }, V3.$metadata$ = { kind: p, simpleName: "CasterDragonShape", interfaces: [M2] }, X3.$metadata$ = { kind: p, simpleName: "CasterDruid", interfaces: [M2] }, J3.prototype.getSpellSlotReference_vux9f0$ = function (t, e) { return "fey disguise spell" }, Z3.prototype.getHeighten_5btbp7$ = function (t) { var e = t.getCharacterData().getCharacterLevel(); return e >= 19 ? 7 : e >= 17 ? 6 : e >= 15 ? 5 : e >= 13 ? 4 : e >= 11 ? 3 : e >= 9 ? 2 : e >= 7 ? 1 : 0 }, Z3.$metadata$ = { kind: p, simpleName: "AlteredSpell", interfaces: [S2] }, J3.$metadata$ = { kind: p, simpleName: "CasterFeyDisguise", interfaces: [M2] }, Q3.prototype.getSpellsPerDay_za3lpa$ = function (t) { var e = new Int32Array([2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]); return t >= this.spiritSpells_0 && (t >= 8 ? (e[1] = 1, e[2] = 1, e[3] = 1) : t >= 6 ? (e[1] = 1, e[2] = 1) : e[1] = 1), e }, Q3.prototype.setSpiritSpells_eltk6l$ = function (t, e) { this.spiritSpells_0 = t ? e : 21 }, t2.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var e2 = null; function i2() { return null === e2 && new t2, e2 } function a2() { F2(Jr().CLASS_NAME, 1, 0, !1, 3, this), this.spellbookCaster = !0, this.spellsPerDay = [new Int32Array([5, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 2, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 2, 2, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 2, 2, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 2, 2, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 2, 2, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 2, 2, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 2, 2, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 2, 2, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 2, 2, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 2, 2, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 2, 2, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 2, 2, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 2, 2, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 0, 2, 2, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 0, 2, 2, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 0, 2, 2, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 0, 2, 2, -1])] } function r2() { F2(ln().CLASS_NAME, 0, 1, !0, 5, this) } function n2() { B2(z2().SPELLCASTER_OTHER, 1, 0, !0, 5, 1, this), this.archetypeCaster = !0, this.hasBonusSlots = !0; for (var t = 0; t <= 19; t++)this.spellsPerDay[t] = new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]) } function o2(t, e, i, a, r, n, o) { a3.call(this, t, e, i, a, r, n, o), this.innate = !0, this.archetypeCaster = !1 } function s2(t, e) { B2(t, 1, 0, !0, 5, e, this), this.hasBonusSlots = !1, this.innate = !0; for (var i = 0; i <= 19; i++)this.spellsPerDay[i] = i >= (e - 1 | 0) ? i >= 16 ? new Int32Array([0, 0, 0, 0, 0, 0, 1, -1, -1, -1, -1]) : new Int32Array([0, 0, 0, 0, 0, 1, -1, -1, -1, -1, -1]) : new Int32Array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) } function l2() { S2.call(this, 2, "Shadow Blast", 0) } function c2() { F2(En().CLASS_SORCERER, 0, 0, !0, 5, this), this.spellsPerDay = [new Int32Array([4, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 3, 2, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 3, 3, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 3, 3, 2, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 3, 3, 3, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 3, 3, 3, 2, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 3, 3, 3, 3, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 3, 3, 3, 3, 2, -1, -1, -1, -1, -1]), new Int32Array([4, 3, 3, 3, 3, 3, -1, -1, -1, -1, -1]), new Int32Array([4, 3, 3, 3, 3, 3, 2, -1, -1, -1, -1]), new Int32Array([4, 3, 3, 3, 3, 3, 3, -1, -1, -1, -1]), new Int32Array([4, 3, 3, 3, 3, 3, 3, 2, -1, -1, -1]), new Int32Array([4, 3, 3, 3, 3, 3, 3, 3, -1, -1, -1]), new Int32Array([4, 3, 3, 3, 3, 3, 3, 3, 2, -1, -1]), new Int32Array([4, 3, 3, 3, 3, 3, 3, 3, 3, -1, -1]), new Int32Array([4, 3, 3, 3, 3, 3, 3, 3, 3, 2, -1]), new Int32Array([4, 3, 3, 3, 3, 3, 3, 3, 3, 3, -1]), new Int32Array([4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1]), new Int32Array([4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1])] } function p2() { F2(Ln().CLASS_NAME, 0, 0, !0, 5, this), this.spellsPerDay = [new Int32Array([5, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 2, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 2, 2, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 2, 2, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 2, 2, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 2, 2, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 2, 2, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 2, 2, -1, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 2, 2, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 2, 2, -1, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 2, 2, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 2, 2, -1, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 2, 2, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 2, 2, -1, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 0, 2, 2, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 0, 2, 2, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 0, 2, 2, -1]), new Int32Array([5, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0])], this.spellsPerDayWellspring = [new Int32Array([4, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 0, 1, 1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 0, 1, 1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 0, 0, 1, 1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 0, 0, 1, 1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 0, 0, 0, 1, 1, -1, -1, -1, -1, -1]), new Int32Array([4, 0, 0, 0, 1, 1, -1, -1, -1, -1, -1]), new Int32Array([4, 0, 0, 0, 0, 1, 1, -1, -1, -1, -1]), new Int32Array([4, 0, 0, 0, 0, 1, 1, -1, -1, -1, -1]), new Int32Array([4, 0, 0, 0, 0, 0, 1, 1, -1, -1, -1]), new Int32Array([4, 0, 0, 0, 0, 0, 1, 1, -1, -1, -1]), new Int32Array([4, 0, 0, 0, 0, 0, 0, 1, 1, -1, -1]), new Int32Array([4, 0, 0, 0, 0, 0, 0, 1, 1, -1, -1]), new Int32Array([4, 0, 0, 0, 0, 0, 0, 0, 1, 1, -1]), new Int32Array([4, 0, 0, 0, 0, 0, 0, 0, 1, 1, -1]), new Int32Array([4, 0, 0, 0, 0, 0, 0, 0, 1, 1, -1]), new Int32Array([4, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0])]; var t = new O2(1, 1, 1); t.maxLevel = 4, this.addSpellsPerDayAdjustment_3dm4w3$(!0, "Summoner Level 1", t) } function h2() { F2(Bn().CLASS_NAME, 1, 0, !1, 3, this), this.spellbookCaster = !0 } function d2() { F2(Gn().CLASS_WIZARD, 1, 0, !1, 3, this), this.spellbookCaster = !0 } function u2(t, e) { y2(), B2(y2().CASTER_EIDoLON, 1, t, !0, 5, e, this), this.magicalAdept = 21, this.magicalMaster = 21, this.archetypeCaster = !0 } function _2() { f2 = this, this.CASTER_EIDoLON = "Eidolon" } Q3.$metadata$ = { kind: p, simpleName: "CasterGhostHunter", interfaces: [a3] }, a2.$metadata$ = { kind: p, simpleName: "CasterMagus", interfaces: [M2] }, r2.$metadata$ = { kind: p, simpleName: "CasterOracle", interfaces: [M2] }, n2.$metadata$ = { kind: p, simpleName: "CasterOtherSpells", interfaces: [M2] }, o2.prototype.getSpellsPerDay_za3lpa$ = function (t) { var e = new Int32Array([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]); return t >= this.master ? e = t < 12 ? new Int32Array([1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1]) : t < 14 ? new Int32Array([1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1]) : new Int32Array([1, 1, 1, 1, 1, 1, 1, -1, -1, -1, -1]) : t >= this.expert && (e = t < 6 ? new Int32Array([1, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) : t < 8 ? new Int32Array([1, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1]) : new Int32Array([1, 1, 1, 1, -1, -1, -1, -1, -1, -1, -1])), e }, o2.$metadata$ = { kind: p, simpleName: "CasterRunescarred", interfaces: [a3] }, s2.prototype.getSpellSlotReference_vux9f0$ = function (t, e) { return "shadow assault spell" }, l2.prototype.getHeighten_5btbp7$ = function (t) { return t.getCharacterData().getCharacterLevel() >= 17 ? 1 : 0 }, l2.$metadata$ = { kind: p, simpleName: "AlteredSpell", interfaces: [S2] }, s2.$metadata$ = { kind: p, simpleName: "CasterShadowAssault", interfaces: [M2] }, c2.$metadata$ = { kind: p, simpleName: "CasterSorcerer", interfaces: [M2] }, p2.prototype.setTradition_vy76y1$ = function (t, e) { var i = k0().ARRAY_SPELL_LISTS[this.spellList], a = t.getProficiency_61zpoe$(i); o(a).removeProficiencyAtLevel_61zpoe$(this.casterName), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Expert"), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Master"), this.spellList = e; var r = k0().ARRAY_SPELL_LISTS[e]; a = t.getProficiency_61zpoe$(r), o(a).setProficiencyAtLevel_3m52m6$(this.casterName, 1, 2), a.setProficiencyAtLevel_3m52m6$(this.casterName + "Expert", 9, 4), a.setProficiencyAtLevel_3m52m6$(this.casterName + "Master", 17, 6), t.hashMapSpellCasters.containsKey_11rb$(y2().CASTER_EIDoLON) && (o(t.hashMapSpellCasters.get_11rb$(y2().CASTER_EIDoLON)).spellList = e) }, p2.$metadata$ = { kind: p, simpleName: "CasterSummoner", interfaces: [M2] }, h2.prototype.setTradition_vy76y1$ = function (t, e) { var i = k0().ARRAY_SPELL_LISTS[this.spellList], a = t.getProficiency_61zpoe$(i); o(a).removeProficiencyAtLevel_61zpoe$(this.casterName), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Expert"), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Master"), a.removeProficiencyAtLevel_61zpoe$(this.casterName + "Legendary"), this.spellList = e; var r = k0().ARRAY_SPELL_LISTS[e]; a = t.getProficiency_61zpoe$(r), o(a).setProficiencyAtLevel_3m52m6$(this.casterName, 1, 2), a.setProficiencyAtLevel_3m52m6$(this.casterName + "Expert", 7, 4), a.setProficiencyAtLevel_3m52m6$(this.casterName + "Master", 15, 6), a.setProficiencyAtLevel_3m52m6$(this.casterName + "Legendary", 19, 8) }, h2.$metadata$ = { kind: p, simpleName: "CasterWitch", interfaces: [M2] }, d2.$metadata$ = { kind: p, simpleName: "CasterWizard", interfaces: [M2] }, u2.prototype.setMagicalAdept_za3lpa$ = function (t) { this.magicalAdept = t }, u2.prototype.setMagicalMaster_za3lpa$ = function (t) { this.magicalMaster = t }, u2.prototype.getSpellsPerDay_za3lpa$ = function (t) { var e = new Int32Array([2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]); if (t >= this.magicalMaster) return new Int32Array([2, 1, 1, 1, 1, 1, 1, 1, -1, -1, -1]); if (t >= this.magicalAdept) { var i = [new Int32Array([2, 1, 1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([2, 0, 1, 1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([2, 0, 0, 1, 1, -1, -1, -1, -1, -1, -1]), new Int32Array([2, 0, 0, 0, 1, 1, -1, -1, -1, -1, -1]), new Int32Array([2, 0, 0, 0, 0, 1, 1, -1, -1, -1, -1]), new Int32Array([2, 0, 0, 0, 0, 0, 1, 1, -1, -1, -1]), new Int32Array([2, 0, 0, 0, 0, 0, 1, 1, -1, -1, -1])], a = (t - this.magicalAdept | 0) / 2; return i[C(I.floor(a))] } return e }, _2.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var f2 = null; function y2() { return null === f2 && new _2, f2 } function m2(t, e, i, a) { F2(t, 1, e, !0, i, this), this.firstWorldSpellsPerDay_0 = [], this.hasBonusSlots = !1, this.innate = !0, this.level = a; for (var r = 0; r <= 19; r++)if (r >= (a - 1 | 0)) { var n = this.firstWorldSpellsPerDay_0, o = new Int32Array([-1, -1, 2, -1, -1, -1, -1, -1, -1, -1, -1]); this.firstWorldSpellsPerDay_0 = n.concat([o]) } else { var s = this.firstWorldSpellsPerDay_0, l = new Int32Array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]); this.firstWorldSpellsPerDay_0 = s.concat([l]) } this.spellsPerDay = this.firstWorldSpellsPerDay_0 } function $2(t) { F2("Innate", 1, t, !0, 5, this), this.innate = !0, this.hashMapSpellSlotReferences = c() } function g2(t, e, i, a, r) { B2(t, 1, e, !0, i, a, this), this.hasBonusSlots = !0, this.innate = !0; for (var n = 0; n <= 19; n++)this.spellsPerDay[n] = r } function v2(t, e, i, a) { B2(t, 1, e, !0, i, a, this), this.hasBonusSlots = !1, this.innate = !1; for (var r = 0; r <= 19; r++)this.spellsPerDay[r] = r >= (a - 1 | 0) ? new Int32Array([2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) : new Int32Array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) } function S2(t, e, i) { A2(), this.spellList = t, this.spellName = e, this.heighten_91fw0$_0 = i } function C2() { E2 = this } u2.$metadata$ = { kind: p, simpleName: "EidolonCaster", interfaces: [M2] }, m2.prototype.getSpellLevelsAvailable_za3lpa$ = function (t) { var e, i; for (e = this.firstWorldSpellsPerDay_0[t - 1 | 0], i = 0; i !== e.length; ++i)if (e[i] > -1) return 2; return -1 }, m2.prototype.getFirstWorldSpells_vux9f0$ = function (t, e) { return t >= (e - 1 | 0) ? new Int32Array([-1, -1, 2, -1, -1, -1, -1, -1, -1, -1, -1]) : new Int32Array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) }, m2.$metadata$ = { kind: p, simpleName: "FirstWorldAdept", interfaces: [M2] }, $2.prototype.addReference_19mbxw$ = function (t, e) { if (!this.hashMapSpellSlotReferences.containsKey_11rb$(t)) { var i = this.hashMapSpellSlotReferences, a = u(); i.put_xwzc9p$(t, a) } o(this.hashMapSpellSlotReferences.get_11rb$(t)).add_11rb$(e) }, $2.prototype.getSpellLevelsAvailable_za3lpa$ = function (t) { var e, i = -1; for (e = this.hashMapSpellSlotReferences.keys.iterator(); e.hasNext();) { var a = e.next(); a > i && (i = a) } return i }, $2.prototype.getSpellsRepetoire_bh8xs5$ = function (t, e, i) { return this.hashMapSpellSlotReferences.containsKey_11rb$(i) ? o(this.hashMapSpellSlotReferences.get_11rb$(i)).size : 0 }, $2.prototype.getNumBonusSpellsAtSpellLevel_za3lpa$ = function (t) { return 0 }, $2.prototype.getSpellSlotReference_vux9f0$ = function (t, e) { return this.hashMapSpellSlotReferences.containsKey_11rb$(t) && o(this.hashMapSpellSlotReferences.get_11rb$(t)).size > e ? o(this.hashMapSpellSlotReferences.get_11rb$(t)).get_za3lpa$(e) : "no reference" }, $2.$metadata$ = { kind: p, simpleName: "InnateCaster", interfaces: [M2] }, g2.$metadata$ = { kind: p, simpleName: "LimitedSpellListCaster", interfaces: [M2] }, v2.$metadata$ = { kind: p, simpleName: "MinorMagic", interfaces: [M2] }, S2.prototype.getHeighten_5btbp7$ = function (t) { return this.heighten_91fw0$_0 }, C2.prototype.serializer = function () { return w2() }, C2.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var E2 = null; function A2() { return null === E2 && new C2, E2 } function b2() { this.descriptor_bugy9z$_0 = new P("com.redrazors.pathbuilder2e.backend.data.spellcasting.PlayerSpell", this, 3), this.descriptor.addElement_ivxn3r$("spellList", !1), this.descriptor.addElement_ivxn3r$("spellName", !1), this.descriptor.addElement_ivxn3r$("heighten", !1), I2 = this } Object.defineProperty(b2.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_bugy9z$_0 } }), b2.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); i.encodeIntElement_ptg7oe$(this.descriptor, 0, e.spellList), i.encodeStringElement_iij8qq$(this.descriptor, 1, e.spellName), i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.heighten_91fw0$_0), i.endStructure_24f42q$(this.descriptor) }, b2.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n = 0, o = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = o.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = o.decodeIntElement_szpzho$(this.descriptor, 0), n |= 1; break; case 1: a = o.decodeStringElement_szpzho$(this.descriptor, 1), n |= 2; break; case 2: r = o.decodeIntElement_szpzho$(this.descriptor, 2), n |= 4; break; case -1: break t; default: throw new O(e) }return o.endStructure_24f42q$(this.descriptor), L2(n, i, a, r, null) }, b2.prototype.childSerializers = function () { return [M.IntSerializer, M.StringSerializer, M.IntSerializer] }, b2.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var I2 = null; function w2() { return null === I2 && new b2, I2 } function L2(t, e, i, a, r) { var n = r || Object.create(S2.prototype); if (0 == (1 & t)) throw J("spellList"); if (n.spellList = e, 0 == (2 & t)) throw J("spellName"); if (n.spellName = i, 0 == (4 & t)) throw J("heighten"); return n.heighten_91fw0$_0 = a, n } function T2(t, e, i, a, r) { B2(t, 1, e, !0, i, a, this), this.hasBonusSlots = !1, this.archetypeCaster = !0; for (var n = 0; n <= 19; n++)this.spellsPerDay[n] = r } function k2(t, e, i, a, r) { B2(t, 1, e, !0, i, a, this), this.hasBonusSlots = !1, this.innate = !0; for (var n = 0; n <= 19; n++)this.spellsPerDay[n] = r } function R2(t, e, i, a) { B2(t, 1, e, !0, i, a, this), this.hasBonusSlots = !1, this.innate = !0; for (var r = 0; r <= 19; r++)this.spellsPerDay[r] = r >= (a - 1 | 0) ? new Int32Array([1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) : new Int32Array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) } function P2(t, e, i, a) { B2(t, 1, e, !0, i, a, this), this.hasBonusSlots = !1, this.innate = !0; for (var r = 0; r <= 19; r++)this.spellsPerDay[r] = r >= (a - 1 | 0) ? new Int32Array([0, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) : new Int32Array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]) } function M2() { z2(), this.hashMapBonusSpellSlots = c(), this.spellsPerDay = [new Int32Array([5, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 3, 2, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 3, 3, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 3, 3, 2, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 3, 3, 3, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 3, 3, 3, 2, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 3, 3, 3, 3, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 3, 3, 3, 3, 2, -1, -1, -1, -1, -1]), new Int32Array([5, 3, 3, 3, 3, 3, -1, -1, -1, -1, -1]), new Int32Array([5, 3, 3, 3, 3, 3, 2, -1, -1, -1, -1]), new Int32Array([5, 3, 3, 3, 3, 3, 3, -1, -1, -1, -1]), new Int32Array([5, 3, 3, 3, 3, 3, 3, 2, -1, -1, -1]), new Int32Array([5, 3, 3, 3, 3, 3, 3, 3, -1, -1, -1]), new Int32Array([5, 3, 3, 3, 3, 3, 3, 3, 2, -1, -1]), new Int32Array([5, 3, 3, 3, 3, 3, 3, 3, 3, -1, -1]), new Int32Array([5, 3, 3, 3, 3, 3, 3, 3, 3, 2, -1]), new Int32Array([5, 3, 3, 3, 3, 3, 3, 3, 3, 3, -1]), new Int32Array([5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1]), new Int32Array([5, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1])], this.spellsPerDayFlexible = [new Int32Array([3, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 2, 2, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 2, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 2, 2, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 2, 2, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 2, 2, 2, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 2, 2, 2, -1, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 2, 2, 2, 2, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 2, 2, 2, 2, -1, -1, -1, -1, -1]), new Int32Array([5, 2, 2, 2, 2, 2, 2, -1, -1, -1, -1]), new Int32Array([5, 2, 2, 2, 2, 2, 2, -1, -1, -1, -1]), new Int32Array([5, 2, 2, 2, 2, 2, 2, 2, -1, -1, -1]), new Int32Array([5, 2, 2, 2, 2, 2, 2, 2, -1, -1, -1]), new Int32Array([5, 2, 2, 2, 2, 2, 2, 2, 2, -1, -1]), new Int32Array([5, 2, 2, 2, 2, 2, 2, 2, 2, -1, -1]), new Int32Array([5, 2, 2, 2, 2, 2, 2, 2, 2, 2, -1]), new Int32Array([5, 2, 2, 2, 2, 2, 2, 2, 2, 2, -1]), new Int32Array([5, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1]), new Int32Array([5, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1])], this.spellsPerDayWellspring = [new Int32Array([4, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 2, 2, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 2, 2, -1, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 2, 2, 2, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 2, 2, 2, -1, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 2, 2, 2, 2, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 2, 2, 2, 2, -1, -1, -1, -1, -1, -1]), new Int32Array([4, 2, 2, 2, 2, 2, -1, -1, -1, -1, -1]), new Int32Array([4, 2, 2, 2, 2, 2, -1, -1, -1, -1, -1]), new Int32Array([4, 2, 2, 2, 2, 2, 2, -1, -1, -1, -1]), new Int32Array([4, 2, 2, 2, 2, 2, 2, -1, -1, -1, -1]), new Int32Array([4, 2, 2, 2, 2, 2, 2, 2, -1, -1, -1]), new Int32Array([4, 2, 2, 2, 2, 2, 2, 2, -1, -1, -1]), new Int32Array([4, 2, 2, 2, 2, 2, 2, 2, 2, -1, -1]), new Int32Array([4, 2, 2, 2, 2, 2, 2, 2, 2, -1, -1]), new Int32Array([4, 2, 2, 2, 2, 2, 2, 2, 2, 2, -1]), new Int32Array([4, 2, 2, 2, 2, 2, 2, 2, 2, 2, -1]), new Int32Array([4, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1]), new Int32Array([4, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1])], this.hasBonusSlots = !0, this.spellList = 0, this.spellbookCaster = !1, this.casterName = "Unknown Caster", this.typeCaster = 1, this.castingAbilityRef = 0, this.innate = !1, this.level = 1, this.knowsAllSpells = !1, this.archetypeCaster = !1, this.flexibleCaster = !1, this.wellspringMage = !1, this.hideProficiencies = !1, this.hashMapExtraSpellsPerDay_cfi9lr$_0 = c(), this.hashMapExtraSpontaneusSlots_ojxaoi$_0 = c() } function N2(t, e, i, a, r, n) { this.closure$dataControl = t, this.closure$characterBuild = e, E3(i, a, r, n, this) } function D2() { x2 = this, this.TYPE_CASTER_SPONTANEOUS = 0, this.TYPE_CASTER_PREPARED = 1, this.SPELLCASTER_OTHER = "Other Spells (Staves etc)" } S2.$metadata$ = { kind: p, simpleName: "PlayerSpell", interfaces: [] }, T2.$metadata$ = { kind: p, simpleName: "SetSpellsArchetypeCaster", interfaces: [M2] }, k2.$metadata$ = { kind: p, simpleName: "SetSpellsMagicCaster", interfaces: [M2] }, R2.$metadata$ = { kind: p, simpleName: "SingleCantripMagic", interfaces: [M2] }, P2.$metadata$ = { kind: p, simpleName: "SingleLevelOneMagic", interfaces: [M2] }, M2.prototype.getSpellsPerDay_za3lpa$ = function (t) { return this.spellsPerDay[t - 1 | 0] }, M2.prototype.getHashMapBonusSpell_fhac18$ = function (t, e) { return this.hashMapBonusSpellSlots }, Object.defineProperty(M2.prototype, "isWitch", { configurable: !0, get: function () { return m(this.casterName, Bn().CLASS_NAME) || m(this.casterName, o3().ARCHETYPE_CASTER_WITCH) } }), Object.defineProperty(M2.prototype, "isSummoner", { configurable: !0, get: function () { return m(this.casterName, Ln().CLASS_NAME) } }), M2.prototype.getSpontaneousSpellsMax_vux9f0$ = function (t, e) { var i, a, r = 0; if (this.flexibleCaster) { for (i = this.hashMapBonusSpellSlots.values.iterator(); i.hasNext();) { var n = i.next(); n.spellLevel === e && n.addSpellPerDay && n.userCreated && (r = r + 1 | 0) } return this.spellsPerDayFlexible[t - 1 | 0][e] + r + this.getSpontaneousSlotsAdjustment_vux9f0$(t, e) | 0 } for (a = this.hashMapBonusSpellSlots.values.iterator(); a.hasNext();) { var o = a.next(); o.spellLevel === e && o.addSpellPerDay && (r = r + 1 | 0) } return this.wellspringMage ? this.spellsPerDayWellspring[t - 1 | 0][e] + r + this.getSpontaneousSlotsAdjustment_vux9f0$(t, e) | 0 : this.getSpellsPerDay_za3lpa$(t)[e] + r + this.getSpontaneousSlotsAdjustment_vux9f0$(t, e) | 0 }, M2.prototype.getSpellsSlots_vux9f0$ = function (t, e) { var i = this.getSpellsPerDay_za3lpa$(t)[e]; return i = i + this.getSpellsExtraAdjustment_vux9f0$(t, e) | 0 }, M2.prototype.getSpellsRepetoire_bh8xs5$ = function (t, i, a) { var r, n = this.getMaxSpellLevel_za3lpa$(i); if (t.getCharacterData().getHashMapRepertoireOverride().containsKey_11rb$(this.casterName) && a > 0) { var c = t.getCharacterData().getHashMapRepertoireOverride().get_11rb$(this.casterName); return o(c).containsKey_11rb$(a) ? "number" == typeof (r = c.get_11rb$(a)) ? r : d() : a <= n ? 0 : -1 } if (this.isSummoner && a > 0) return this.getSummonerDefaultRepertoire_98w4uv$(t, i, a, n); try { var p = this.getSpellsPerDay_za3lpa$(i)[a]; return p = p + this.getSpellsExtraAdjustment_vux9f0$(i, a) | 0 } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return -1 }, M2.prototype.getSpellLevelsAvailable_za3lpa$ = function (t) { var e, i, a = -1; for (e = this.getSpellsPerDay_za3lpa$(t), i = 0; i !== e.length; ++i)e[i] > -1 && (a = a + 1 | 0); return a }, M2.prototype.getSpellsExtraAdjustment_vux9f0$ = function (t, e) { var i, a = 0; for (i = this.hashMapExtraSpellsPerDay_cfi9lr$_0.values.iterator(); i.hasNext();) { var r = i.next(); t >= r.level && e === r.spellLevel && t <= r.maxLevel && (a = a + r.increase | 0) } return a }, M2.prototype.getSpontaneousSlotsAdjustment_vux9f0$ = function (t, e) { var i, a = 0; for (i = this.hashMapExtraSpontaneusSlots_ojxaoi$_0.values.iterator(); i.hasNext();) { var r = i.next(); t >= r.level && e === r.spellLevel && t <= r.maxLevel && (a = a + r.increase | 0) } return a }, M2.prototype.getNumBonusSpellsAtSpellLevel_za3lpa$ = function (t) { var e, i = 0; for (e = this.hashMapBonusSpellSlots.values.iterator(); e.hasNext();) { var a = e.next(); a.spellLevel === t && a.addSpellPerDay && (i = i + 1 | 0) } return i }, M2.prototype.addSpellsPerDayAdjustment_3dm4w3$ = function (t, e, i) { t ? this.hashMapExtraSpellsPerDay_cfi9lr$_0.put_xwzc9p$(e, i) : this.hashMapExtraSpellsPerDay_cfi9lr$_0.remove_11rb$(e) }, M2.prototype.addSpontaneousSlotsAdjustment_3dm4w3$ = function (t, e, i) { t ? this.hashMapExtraSpontaneusSlots_ojxaoi$_0.put_xwzc9p$(e, i) : this.hashMapExtraSpontaneusSlots_ojxaoi$_0.remove_11rb$(e) }, M2.prototype.removeUserCreatedBonusSpellSlots_2pw41m$ = function (t) { var e, i; for (e = t.keys.iterator(); e.hasNext();) { var a = e.next(); i = o(t.get_11rb$(a)); for (var r = 0; r < i; r++) { var n = this.getBonusRef_x9f6sx$_0(a, r); this.hashMapBonusSpellSlots.remove_11rb$(n) } } }, N2.prototype.getListSpellsAtLevel_vux9f0$ = function (t, e) { return this.closure$dataControl.managerSpells.getListSpellsAtLevel_bh8xs5$(this.closure$characterBuild, t, e) }, N2.$metadata$ = { kind: p, interfaces: [v3] }, M2.prototype.addUserCreatedBonusSpellSlots_mm95vs$ = function (t, e, i, a, r) { var n, s; for (n = i.keys.iterator(); n.hasNext();) { var l = n.next(); s = o(i.get_11rb$(l)); for (var c = 0; c < s; c++) { var p = this.getBonusRef_x9f6sx$_0(l, c), h = { v: !0 }; a.containsKey_11rb$(l) && (h.v = o(a.get_11rb$(l))); var d = { v: !0 }; r.containsKey_11rb$(l) && (d.v = o(r.get_11rb$(l))); var u = new N2(t, e, l, h.v, d.v, !0); u.header = "Bonus Spell", this.hashMapBonusSpellSlots.put_xwzc9p$(p, u) } } }, M2.prototype.getBonusRef_x9f6sx$_0 = function (t, e) { return this.casterName + "userBonus" + j(t) + "&" + e.toString() }, M2.prototype.getSpellSelectionDisplay_yiom1f$ = function (t, i, a, r) { var n, s = i.getCharacterData().getHashMapPlayerSpells(); if ((e.isType(n = s, y) ? n : d()).containsKey_11rb$(a)) { var l, c = i.getCharacterData().getHashMapPlayerSpells(), p = (e.isType(l = c, y) ? l : d()).get_11rb$(a), h = t.managerSpells.getSpellName_hs9j5r$(o(p).spellName, p.getHeighten_5btbp7$(i), r); return this.isSignatureSpell_rkreee$(t, i, a, r) && (h += " (Sig)"), h } return se().NOT_SELECTED }, M2.prototype.getSpellNameIgnoreHeighten_zici4a$ = function (t, i, a) { var r, n = t.getCharacterData().getHashMapPlayerSpells(); if ((e.isType(r = n, y) ? r : d()).containsKey_11rb$(i)) { var s, l = t.getCharacterData().getHashMapPlayerSpells(), c = (e.isType(s = l, y) ? s : d()).get_11rb$(i); return o(c).spellName } return se().NOT_SELECTED }, M2.prototype.isSignatureSpell_rkreee$ = function (t, e, i, a) { var r = this.getSpellNameIgnoreHeighten_zici4a$(e, i, a); return !!(e.getCharacterData().hashMapSignatureSpellsMultiple.containsKey_11rb$(this.casterName) && o(e.getCharacterData().hashMapSignatureSpellsMultiple.get_11rb$(this.casterName)).containsKey_11rb$(a) && o(o(e.getCharacterData().hashMapSignatureSpellsMultiple.get_11rb$(this.casterName)).get_11rb$(a)).contains_11rb$(r)) }, M2.prototype.getSpellSlotReference_vux9f0$ = function (t, e) { return this.casterName + "&" + t + "&" + e }, M2.prototype.getSpellCasterAbilityRef_n40yp2$ = function (t) { return this.castingAbilityRef }, M2.prototype.isEldritchTrickers_evh9sq$_0 = function (t) { if (m(t.getCharacterData().getClassName(), $n().CLASS_ROGUE)) { var e = t.getCharacterData().getSpecialSelection_puj7f4$("Rogue's Racket", "Select Racket"); if (null != e && m(e, "Eldritch Trickster Racket")) return !0 } return !1 }, M2.prototype.getSummonerSlotsAtLevel_vux9f0$ = function (t, e) { return this.spellsPerDay[t - 1 | 0][e] }, M2.prototype.getMaxSpellLevel_za3lpa$ = function (t) { for (var e = 10; e >= 0; e--)if (this.getSpellsPerDay_za3lpa$(t)[e] > -1) return e; return 0 }, M2.prototype.getSummonerMaxRepertoire_5btbp7$ = function (t) { return 5 }, M2.prototype.getSummonerDefaultRepertoire_98w4uv$ = function (t, e, i, a) { return 20 === e ? 10 === i ? 0 : 9 === i ? 2 : 8 === i ? 3 : 0 : e >= 5 ? i === a ? 2 : i === (a - 1 | 0) ? 3 : 0 : 1 === i ? 1 === e ? 2 : 3 : 2 === i ? 3 === e ? 1 : 4 === e ? 2 : -1 : -1 }, D2.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var x2 = null; function z2() { return null === x2 && new D2, x2 } function O2(t, e, i) { this.level = t, this.spellLevel = e, this.increase = i, this.maxLevel = 21 } function F2(t, e, i, a, r, n) { return n = n || Object.create(M2.prototype), M2.call(n), n.casterName = t, n.typeCaster = e, n.spellList = i, n.knowsAllSpells = a, n.castingAbilityRef = r, n } function B2(t, e, i, a, r, n, o) { return o = o || Object.create(M2.prototype), M2.call(o), o.casterName = t, o.typeCaster = e, o.spellList = i, o.knowsAllSpells = a, o.castingAbilityRef = r, o.level = n, o } function j2() { a4 = this } function H2(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } function q2(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } function U2(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } function G2(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } function W2(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } function Y2(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } function V2(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } function K2(t, e) { Z2(), this.command = t, this.exportBundle = e } function X2() { J2 = this } O2.$metadata$ = { kind: p, simpleName: "ExtraSpellPerDay", interfaces: [] }, M2.$metadata$ = { kind: p, simpleName: "SpellCaster", interfaces: [] }, j2.prototype.decodeCharacterData_61zpoe$ = function (t) { var i, a = ut(void 0, H2); return a.decodeFromString_awif5v$(e.isType(i = ft(a.serializersModule, _t(tt(Da), [], !1)), yt) ? i : d(), t) }, j2.prototype.encodeCharacterDataToString_g7kqbx$ = function (t) { var i, a = ut(void 0, q2); return a.encodeToString_tf03ej$(e.isType(i = ft(a.serializersModule, _t(tt(Da), [], !1)), yt) ? i : d(), t) }, j2.prototype.encodeExportBundleToString_torya4$ = function (t) { var i, a = ut(void 0, U2); return a.encodeToString_tf03ej$(e.isType(i = ft(a.serializersModule, _t(tt(r9), [], !1)), yt) ? i : d(), t) }, j2.prototype.decodeExportBundleFromString_61zpoe$ = function (t) { var i, a = ut(void 0, G2); return a.decodeFromString_awif5v$(e.isType(i = ft(a.serializersModule, _t(tt(r9), [], !1)), yt) ? i : d(), t) }, j2.prototype.decodeExportBundleFromJsonElement_qiw0cd$ = function (t) { var i, a = ut(void 0, W2), r = a.serializersModule; return a.decodeFromJsonElement_htt2tq$(e.isType(i = mt(r, _t(tt(r9), [], !1)), $t) ? i : d(), t) }, j2.prototype.decodeCommandBundle_61zpoe$ = function (t) { var i, a = ut(void 0, Y2); return a.decodeFromString_awif5v$(e.isType(i = ft(a.serializersModule, _t(tt(K2), [], !1)), yt) ? i : d(), t) }, j2.prototype.getConnectSaveFile_torya4$ = function (t) { var i, a = ut(void 0, V2), r = new K2("getSaveFile", t); return a.encodeToString_tf03ej$(e.isType(i = ft(a.serializersModule, _t(tt(K2), [], !1)), yt) ? i : d(), r) }, X2.prototype.serializer = function () { return e4() }, X2.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var J2 = null; function Z2() { return null === J2 && new X2, J2 } function Q2() { this.descriptor_q2z51g$_0 = new P("com.redrazors.pathbuilder2e.backend.export.BundleEncoderDecoder.CommandBundle", this, 2), this.descriptor.addElement_ivxn3r$("command", !1), this.descriptor.addElement_ivxn3r$("exportBundle", !1), t4 = this } Object.defineProperty(Q2.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_q2z51g$_0 } }), Q2.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); i.encodeStringElement_iij8qq$(this.descriptor, 0, e.command), i.encodeSerializableElement_r4qlx7$(this.descriptor, 1, p9(), e.exportBundle), i.endStructure_24f42q$(this.descriptor) }, Q2.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r = 0, n = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = n.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = n.decodeStringElement_szpzho$(this.descriptor, 0), r |= 1; break; case 1: a = n.decodeSerializableElement_12e8id$(this.descriptor, 1, p9(), a), r |= 2; break; case -1: break t; default: throw new O(e) }return n.endStructure_24f42q$(this.descriptor), i4(r, i, a, null) }, Q2.prototype.childSerializers = function () { return [M.StringSerializer, p9()] }, Q2.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var t4 = null; function e4() { return null === t4 && new Q2, t4 } function i4(t, e, i, a) { var r = a || Object.create(K2.prototype); if (0 == (1 & t)) throw J("command"); if (r.command = e, 0 == (2 & t)) throw J("exportBundle"); return r.exportBundle = i, r } K2.$metadata$ = { kind: p, simpleName: "CommandBundle", interfaces: [] }, j2.$metadata$ = { kind: f, simpleName: "BundleEncoderDecoder", interfaces: [] }; var a4 = null; function r4() { return null === a4 && new j2, a4 } function n4() { P4(), this.name = "", this.className = "", this.ancestry = "", this.classLevel = null, this.hpMax = 0, this.hpDamage = null, this.hpTemp = null, this.staminaMax = null, this.staminaDamage = null, this.armorClass = null, this.shield = "", this.skills = c(), this.saves = c(), this.perception = null, this.conditions = c(), this.customBuffs = c() } function o4(t, e, i) { c4(), this.acTotal = t, this.acBuff = e, this.shieldBonus = i } function s4() { l4 = this } s4.prototype.serializer = function () { return d4() }, s4.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var l4 = null; function c4() { return null === l4 && new s4, l4 } function p4() { this.descriptor_vdmo8f$_0 = new P("com.redrazors.pathbuilder2e.export.json.ConnectSummary.SummaryAC", this, 3), this.descriptor.addElement_ivxn3r$("acTotal", !1), this.descriptor.addElement_ivxn3r$("acBuff", !1), this.descriptor.addElement_ivxn3r$("shieldBonus", !1), h4 = this } Object.defineProperty(p4.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_vdmo8f$_0 } }), p4.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); i.encodeIntElement_ptg7oe$(this.descriptor, 0, e.acTotal), i.encodeIntElement_ptg7oe$(this.descriptor, 1, e.acBuff), i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.shieldBonus), i.endStructure_24f42q$(this.descriptor) }, p4.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n = 0, o = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = o.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = o.decodeIntElement_szpzho$(this.descriptor, 0), n |= 1; break; case 1: a = o.decodeIntElement_szpzho$(this.descriptor, 1), n |= 2; break; case 2: r = o.decodeIntElement_szpzho$(this.descriptor, 2), n |= 4; break; case -1: break t; default: throw new O(e) }return o.endStructure_24f42q$(this.descriptor), u4(n, i, a, r, null) }, p4.prototype.childSerializers = function () { return [M.IntSerializer, M.IntSerializer, M.IntSerializer] }, p4.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var h4 = null; function d4() { return null === h4 && new p4, h4 } function u4(t, e, i, a, r) { var n = r || Object.create(o4.prototype); if (0 == (1 & t)) throw J("acTotal"); if (n.acTotal = e, 0 == (2 & t)) throw J("acBuff"); if (n.acBuff = i, 0 == (4 & t)) throw J("shieldBonus"); return n.shieldBonus = a, n } function _4(t, e, i) { m4(), this.proficiencyRaw = t, this.total = e, this.buff = i } function f4() { y4 = this } o4.$metadata$ = { kind: p, simpleName: "SummaryAC", interfaces: [] }, f4.prototype.serializer = function () { return v4() }, f4.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var y4 = null; function m4() { return null === y4 && new f4, y4 } function $4() { this.descriptor_kcrqxc$_0 = new P("com.redrazors.pathbuilder2e.export.json.ConnectSummary.SummaryProficiency", this, 3), this.descriptor.addElement_ivxn3r$("proficiencyRaw", !1), this.descriptor.addElement_ivxn3r$("total", !1), this.descriptor.addElement_ivxn3r$("buff", !1), g4 = this } Object.defineProperty($4.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_kcrqxc$_0 } }), $4.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); i.encodeIntElement_ptg7oe$(this.descriptor, 0, e.proficiencyRaw), i.encodeIntElement_ptg7oe$(this.descriptor, 1, e.total), i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.buff), i.endStructure_24f42q$(this.descriptor) }, $4.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n = 0, o = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = o.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = o.decodeIntElement_szpzho$(this.descriptor, 0), n |= 1; break; case 1: a = o.decodeIntElement_szpzho$(this.descriptor, 1), n |= 2; break; case 2: r = o.decodeIntElement_szpzho$(this.descriptor, 2), n |= 4; break; case -1: break t; default: throw new O(e) }return o.endStructure_24f42q$(this.descriptor), S4(n, i, a, r, null) }, $4.prototype.childSerializers = function () { return [M.IntSerializer, M.IntSerializer, M.IntSerializer] }, $4.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var g4 = null; function v4() { return null === g4 && new $4, g4 } function S4(t, e, i, a, r) { var n = r || Object.create(_4.prototype); if (0 == (1 & t)) throw J("proficiencyRaw"); if (n.proficiencyRaw = e, 0 == (2 & t)) throw J("total"); if (n.total = i, 0 == (4 & t)) throw J("buff"); return n.buff = a, n } function C4(t, e, i) { b4(), this.name = t, this.desc = e, this.value = i } function E4() { A4 = this } _4.$metadata$ = { kind: p, simpleName: "SummaryProficiency", interfaces: [] }, E4.prototype.serializer = function () { return L4() }, E4.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var A4 = null; function b4() { return null === A4 && new E4, A4 } function I4() { this.descriptor_p3yl2r$_0 = new P("com.redrazors.pathbuilder2e.export.json.ConnectSummary.SummaryCustomBuff", this, 3), this.descriptor.addElement_ivxn3r$("name", !1), this.descriptor.addElement_ivxn3r$("desc", !1), this.descriptor.addElement_ivxn3r$("value", !1), w4 = this } Object.defineProperty(I4.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_p3yl2r$_0 } }), I4.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); i.encodeStringElement_iij8qq$(this.descriptor, 0, e.name), i.encodeStringElement_iij8qq$(this.descriptor, 1, e.desc), i.encodeIntElement_ptg7oe$(this.descriptor, 2, e.value), i.endStructure_24f42q$(this.descriptor) }, I4.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n = 0, o = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = o.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = o.decodeStringElement_szpzho$(this.descriptor, 0), n |= 1; break; case 1: a = o.decodeStringElement_szpzho$(this.descriptor, 1), n |= 2; break; case 2: r = o.decodeIntElement_szpzho$(this.descriptor, 2), n |= 4; break; case -1: break t; default: throw new O(e) }return o.endStructure_24f42q$(this.descriptor), T4(n, i, a, r, null) }, I4.prototype.childSerializers = function () { return [M.StringSerializer, M.StringSerializer, M.IntSerializer] }, I4.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var w4 = null; function L4() { return null === w4 && new I4, w4 } function T4(t, e, i, a, r) { var n = r || Object.create(C4.prototype); if (0 == (1 & t)) throw J("name"); if (n.name = e, 0 == (2 & t)) throw J("desc"); if (n.desc = i, 0 == (4 & t)) throw J("value"); return n.value = a, n } function k4() { R4 = this } C4.$metadata$ = { kind: p, simpleName: "SummaryCustomBuff", interfaces: [] }, k4.prototype.serializer = function () { return D4() }, k4.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var R4 = null; function P4() { return null === R4 && new k4, R4 } function M4() { this.descriptor_xae4rb$_0 = new P("com.redrazors.pathbuilder2e.export.json.ConnectSummary", this, 16), this.descriptor.addElement_ivxn3r$("name", !0), this.descriptor.addElement_ivxn3r$("className", !0), this.descriptor.addElement_ivxn3r$("ancestry", !0), this.descriptor.addElement_ivxn3r$("classLevel", !0), this.descriptor.addElement_ivxn3r$("hpMax", !0), this.descriptor.addElement_ivxn3r$("hpDamage", !0), this.descriptor.addElement_ivxn3r$("hpTemp", !0), this.descriptor.addElement_ivxn3r$("staminaMax", !0), this.descriptor.addElement_ivxn3r$("staminaDamage", !0), this.descriptor.addElement_ivxn3r$("armorClass", !0), this.descriptor.addElement_ivxn3r$("shield", !0), this.descriptor.addElement_ivxn3r$("skills", !0), this.descriptor.addElement_ivxn3r$("saves", !0), this.descriptor.addElement_ivxn3r$("perception", !0), this.descriptor.addElement_ivxn3r$("conditions", !0), this.descriptor.addElement_ivxn3r$("customBuffs", !0), N4 = this } Object.defineProperty(M4.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_xae4rb$_0 } }), M4.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.name, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeStringElement_iij8qq$(this.descriptor, 0, e.name), m(e.className, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeStringElement_iij8qq$(this.descriptor, 1, e.className), m(e.ancestry, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeStringElement_iij8qq$(this.descriptor, 2, e.ancestry), m(e.classLevel, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, M.IntSerializer, e.classLevel), m(e.hpMax, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeIntElement_ptg7oe$(this.descriptor, 4, e.hpMax), m(e.hpDamage, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 5) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 5, M.IntSerializer, e.hpDamage), m(e.hpTemp, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 6) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 6, M.IntSerializer, e.hpTemp), m(e.staminaMax, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 7) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 7, M.IntSerializer, e.staminaMax), m(e.staminaDamage, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 8) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 8, M.IntSerializer, e.staminaDamage), m(e.armorClass, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 9) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 9, d4(), e.armorClass), m(e.shield, "") && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 10) || i.encodeStringElement_iij8qq$(this.descriptor, 10, e.shield), m(e.skills, c()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 11) || i.encodeSerializableElement_r4qlx7$(this.descriptor, 11, new N(M.StringSerializer, v4()), e.skills), m(e.saves, c()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 12) || i.encodeSerializableElement_r4qlx7$(this.descriptor, 12, new N(M.StringSerializer, v4()), e.saves), m(e.perception, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 13) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 13, v4(), e.perception), m(e.conditions, c()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 14) || i.encodeSerializableElement_r4qlx7$(this.descriptor, 14, new N(M.StringSerializer, M.IntSerializer), e.conditions), m(e.customBuffs, c()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 15) || i.encodeSerializableElement_r4qlx7$(this.descriptor, 15, new N(M.StringSerializer, L4()), e.customBuffs), i.endStructure_24f42q$(this.descriptor) }, M4.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $ = 0, g = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = g.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = g.decodeStringElement_szpzho$(this.descriptor, 0), $ |= 1; break; case 1: a = g.decodeStringElement_szpzho$(this.descriptor, 1), $ |= 2; break; case 2: r = g.decodeStringElement_szpzho$(this.descriptor, 2), $ |= 4; break; case 3: n = g.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, M.IntSerializer, n), $ |= 8; break; case 4: o = g.decodeIntElement_szpzho$(this.descriptor, 4), $ |= 16; break; case 5: s = g.decodeNullableSerializableElement_8viuyw$(this.descriptor, 5, M.IntSerializer, s), $ |= 32; break; case 6: l = g.decodeNullableSerializableElement_8viuyw$(this.descriptor, 6, M.IntSerializer, l), $ |= 64; break; case 7: c = g.decodeNullableSerializableElement_8viuyw$(this.descriptor, 7, M.IntSerializer, c), $ |= 128; break; case 8: p = g.decodeNullableSerializableElement_8viuyw$(this.descriptor, 8, M.IntSerializer, p), $ |= 256; break; case 9: h = g.decodeNullableSerializableElement_8viuyw$(this.descriptor, 9, d4(), h), $ |= 512; break; case 10: d = g.decodeStringElement_szpzho$(this.descriptor, 10), $ |= 1024; break; case 11: u = g.decodeSerializableElement_12e8id$(this.descriptor, 11, new N(M.StringSerializer, v4()), u), $ |= 2048; break; case 12: _ = g.decodeSerializableElement_12e8id$(this.descriptor, 12, new N(M.StringSerializer, v4()), _), $ |= 4096; break; case 13: f = g.decodeNullableSerializableElement_8viuyw$(this.descriptor, 13, v4(), f), $ |= 8192; break; case 14: y = g.decodeSerializableElement_12e8id$(this.descriptor, 14, new N(M.StringSerializer, M.IntSerializer), y), $ |= 16384; break; case 15: m = g.decodeSerializableElement_12e8id$(this.descriptor, 15, new N(M.StringSerializer, L4()), m), $ |= 32768; break; case -1: break t; default: throw new O(e) }return g.endStructure_24f42q$(this.descriptor), x4($, i, a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, null) }, M4.prototype.childSerializers = function () { return [M.StringSerializer, M.StringSerializer, M.StringSerializer, new R(M.IntSerializer), M.IntSerializer, new R(M.IntSerializer), new R(M.IntSerializer), new R(M.IntSerializer), new R(M.IntSerializer), new R(d4()), M.StringSerializer, new N(M.StringSerializer, v4()), new N(M.StringSerializer, v4()), new R(v4()), new N(M.StringSerializer, M.IntSerializer), new N(M.StringSerializer, L4())] }, M4.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var N4 = null; function D4() { return null === N4 && new M4, N4 } function x4(t, e, i, a, r, n, o, s, l, p, h, d, u, _, f, y, m, $) { var g = $ || Object.create(n4.prototype); return g.name = 0 == (1 & t) ? "" : e, g.className = 0 == (2 & t) ? "" : i, g.ancestry = 0 == (4 & t) ? "" : a, g.classLevel = 0 == (8 & t) ? null : r, g.hpMax = 0 == (16 & t) ? 0 : n, g.hpDamage = 0 == (32 & t) ? null : o, g.hpTemp = 0 == (64 & t) ? null : s, g.staminaMax = 0 == (128 & t) ? null : l, g.staminaDamage = 0 == (256 & t) ? null : p, g.armorClass = 0 == (512 & t) ? null : h, g.shield = 0 == (1024 & t) ? "" : d, g.skills = 0 == (2048 & t) ? c() : u, g.saves = 0 == (4096 & t) ? c() : _, g.perception = 0 == (8192 & t) ? null : f, g.conditions = 0 == (16384 & t) ? c() : y, g.customBuffs = 0 == (32768 & t) ? c() : m, g } function z4() { Y4 = this } function O4(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } function F4(t, e) { H4(), this.command = t, this.connectSummary = e } function B4() { j4 = this } n4.$metadata$ = { kind: p, simpleName: "ConnectSummary", interfaces: [] }, z4.prototype.getConnectSummaryString_nyd8tv$ = function (t, i, a) { var r; try { var n = new n4; n.name = a.getCharacterName(), n.className = a.getClassName(), n.ancestry = a.getAncestry(), n.classLevel = a.getCharacterLevel(); var c = t.managerClasses.getMaxHP_5btbp7$(i), p = a.getDamageTaken(), h = a.getTemporaryHP(); if (n.hpMax = c, n.hpDamage = p, n.hpTemp = h, a.isUseStamina()) { var u = t.managerClasses.getMaxStamina_5btbp7$(i), _ = a.getStaminaDamage(); n.staminaMax = u, n.staminaDamage = _ } else n.staminaMax = -1, n.staminaDamage = 0; for (this.getACJson_0(t, i, a, n), this.getSkillsJson_0(t, i, n), this.getSavesJson_0(t, i, n), n.perception = this.getProficiencyJson_0(t, i, pK().PROFICIENCY_PERCEPTION, 4), r = a.hashMapActiveConditions.keys.iterator(); r.hasNext();) { var f = r.next(); if (!a.listCurrentlyInactiveBuffs.contains_11rb$(f)) { var y = o(i.getCharacterData().hashMapActiveConditions.get_11rb$(f)), m = t.managerClasses.conditionInformationSet.hashMap.get_11rb$(f); null != m && (m.value ? n.conditions.put_xwzc9p$(f, y) : n.conditions.put_xwzc9p$(f, -1)) } } this.getObjectCustomBuffs_0(t, i, a, n), n.shield = this.getShieldName_0(a); var $, g = new F4("update", n), v = ut(void 0, O4); return v.encodeToString_tf03ej$(e.isType($ = ft(v.serializersModule, _t(tt(F4), [], !1)), yt) ? $ : d(), g) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return null }, z4.prototype.getObjectCustomBuffs_0 = function (t, i, a, r) { var n, o; for (n = a.hashMapActiveCustomBuffs.keys.iterator(); n.hasNext();) { var c = n.next(); if (!a.listCurrentlyInactiveBuffs.contains_11rb$(c)) { var p = null != (o = a.hashMapActiveCustomBuffs.get_11rb$(c)) ? o : 0; try { var h = t.managerClasses.customBuffSet.hashMap.get_11rb$(c); if (null != h) { var d = new C4(h.name, h.fullDescription, p); r.customBuffs.put_xwzc9p$(c, d) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } } }, z4.prototype.getShieldName_0 = function (t) { return null != t.getPlayerShieldNew() ? o(t.getPlayerShieldNew()).shieldName : "No shield" }, z4.prototype.getACJson_0 = function (t, i, a, r) { var n, o = a.getPlayerArmor(), c = t.managerArmor.getArmorProficiencyType_s8qicq$(o), p = e.isType(n = i.getProficiency_61zpoe$(c), nK) ? n : d(), h = t.managerArmor.getArmorTrainingLevel_a0vkeb$(i, o, a.getCharacterLevel()), u = pK().getFinalProficiencyTotal_xek4lp$(a, h, a.getCharacterLevel()), _ = t.managerArmor.getArmorAbilityBonus_5btbp7$(i), f = rK(t, i, p), y = f.getArmorItemBonus_fhac18$(t, i), m = f.totalBuffExcludingItem, $ = 10 + u + _ + y + m | 0, g = 0, v = t.managerArmor.getWornShieldInformation_5btbp7$(i); if (null != v) try { g = V(v.ac) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } var S = new o4($, m, g); r.armorClass = S }, z4.prototype.getSavesJson_0 = function (t, e, i) { var a = i.saves, r = pK().PROFICIENCY_FORTITUDE, n = o(this.getProficiencyJson_0(t, e, pK().PROFICIENCY_FORTITUDE, 2)); a.put_xwzc9p$(r, n); var s = i.saves, l = pK().PROFICIENCY_REFLEX, c = o(this.getProficiencyJson_0(t, e, pK().PROFICIENCY_REFLEX, 1)); s.put_xwzc9p$(l, c); var p = i.saves, h = pK().PROFICIENCY_WILL, d = o(this.getProficiencyJson_0(t, e, pK().PROFICIENCY_WILL, 4)); p.put_xwzc9p$(h, d) }, z4.prototype.getProficiencyJson_0 = function (t, e, i, a) { var r = e.getProficiency_61zpoe$(i), n = e.getPlayReportAbilityScores_sfkw43$(t); if (null != r) { var o = e.getCharacterData().getCharacterLevel(), s = r.getProficiencyAtLevel_za3lpa$(o), l = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), s, o), c = pe().getAbilityMod_za3lpa$(n.abilityScoresBuffed[a]), p = rK(t, e, r), h = p.totalBuffExcludingItem; return new _4(s, l + c + p.getTypedBuff_za3lpa$(0) + h | 0, h) } return null }, z4.prototype.getSkillsJson_0 = function (t, e, i) { var a, r = e.getCharacterData().getCharacterLevel(), n = e.getPlayReportAbilityScores_sfkw43$(t); for (a = e.hashMapSkillProficiencies.keys.iterator(); a.hasNext();) { var o = a.next(), s = e.hashMapSkillProficiencies.get_11rb$(o); if (null != s) { var l = s.getProficiencyAtLevel_za3lpa$(r), c = 0; s.armorPenalty && (c = t.managerArmor.getArmorPenalty_yjt0at$(e, n.abilityScoresBuffed[0], o)); var p = pK().getFinalProficiencyTotalSkill_r1xdi3$(t, e, l, r), h = pe().getAbilityMod_za3lpa$(n.abilityScoresBuffed[s.abilityRef]), d = rK(t, e, s), u = d.totalBuffExcludingItem, _ = new _4(l, p + h + d.getTypedBuff_za3lpa$(0) + u + c | 0, u); i.skills.put_xwzc9p$(o, _) } } }, B4.prototype.serializer = function () { return G4() }, B4.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var j4 = null; function H4() { return null === j4 && new B4, j4 } function q4() { this.descriptor_a6lt5i$_0 = new P("com.redrazors.pathbuilder2e.backend.export.ConnectSummaryFactory.GMUpdate", this, 2), this.descriptor.addElement_ivxn3r$("command", !1), this.descriptor.addElement_ivxn3r$("connectSummary", !1), U4 = this } Object.defineProperty(q4.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_a6lt5i$_0 } }), q4.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); i.encodeStringElement_iij8qq$(this.descriptor, 0, e.command), i.encodeSerializableElement_r4qlx7$(this.descriptor, 1, D4(), e.connectSummary), i.endStructure_24f42q$(this.descriptor) }, q4.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r = 0, n = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = n.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = n.decodeStringElement_szpzho$(this.descriptor, 0), r |= 1; break; case 1: a = n.decodeSerializableElement_12e8id$(this.descriptor, 1, D4(), a), r |= 2; break; case -1: break t; default: throw new O(e) }return n.endStructure_24f42q$(this.descriptor), W4(r, i, a, null) }, q4.prototype.childSerializers = function () { return [M.StringSerializer, D4()] }, q4.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var U4 = null; function G4() { return null === U4 && new q4, U4 } function W4(t, e, i, a) { var r = a || Object.create(F4.prototype); if (0 == (1 & t)) throw J("command"); if (r.command = e, 0 == (2 & t)) throw J("connectSummary"); return r.connectSummary = i, r } F4.$metadata$ = { kind: p, simpleName: "GMUpdate", interfaces: [] }, z4.$metadata$ = { kind: f, simpleName: "ConnectSummaryFactory", interfaces: [] }; var Y4 = null; function V4() { return null === Y4 && new z4, Y4 } function K4() { Z4(), this.id = 0, this.type = 0, this.json = null, this.timestamp = null, this.uniqueIdentifier = null } function X4() { J4 = this, this.TYPE_EQUIPMENT = 0, this.TYPE_CUSTOM_BUFF = 1, this.TYPE_CUSTOM_ARMOR = 2, this.TYPE_CUSTOM_WEAPON = 3, this.TYPE_CUSTOM_SHIELD = 4, this.TYPE_CUSTOM_SCROLL = 5, this.TYPE_CUSTOM_BACKGROUND = 6, this.TABLE_NAME = "custom", this.COLUMN_ID = "id", this.COLUMN_TYPE = "type", this.COLUMN_TIMESTAMP = "timestamp", this.COLUMN_JSON = "json" } X4.prototype.serializer = function () { return e9() }, X4.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var J4 = null; function Z4() { return null === J4 && new X4, J4 } function Q4() { this.descriptor_uw1d2w$_0 = new P("com.redrazors.pathbuilder2e.backend.export.CustomFile", this, 5), this.descriptor.addElement_ivxn3r$("id", !0), this.descriptor.addElement_ivxn3r$("type", !0), this.descriptor.addElement_ivxn3r$("json", !0), this.descriptor.addElement_ivxn3r$("timestamp", !0), this.descriptor.addElement_ivxn3r$("uniqueIdentifier", !0), t9 = this } Object.defineProperty(Q4.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_uw1d2w$_0 } }), Q4.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.id, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeIntElement_ptg7oe$(this.descriptor, 0, e.id), m(e.type, 0) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeIntElement_ptg7oe$(this.descriptor, 1, e.type), m(e.json, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 2, M.StringSerializer, e.json), m(e.timestamp, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 3) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 3, M.StringSerializer, e.timestamp), m(e.uniqueIdentifier, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 4) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 4, M.StringSerializer, e.uniqueIdentifier), i.endStructure_24f42q$(this.descriptor) }, Q4.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n, o, s = 0, l = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = l.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = l.decodeIntElement_szpzho$(this.descriptor, 0), s |= 1; break; case 1: a = l.decodeIntElement_szpzho$(this.descriptor, 1), s |= 2; break; case 2: r = l.decodeNullableSerializableElement_8viuyw$(this.descriptor, 2, M.StringSerializer, r), s |= 4; break; case 3: n = l.decodeNullableSerializableElement_8viuyw$(this.descriptor, 3, M.StringSerializer, n), s |= 8; break; case 4: o = l.decodeNullableSerializableElement_8viuyw$(this.descriptor, 4, M.StringSerializer, o), s |= 16; break; case -1: break t; default: throw new O(e) }return l.endStructure_24f42q$(this.descriptor), i9(s, i, a, r, n, o, null) }, Q4.prototype.childSerializers = function () { return [M.IntSerializer, M.IntSerializer, new R(M.StringSerializer), new R(M.StringSerializer), new R(M.StringSerializer)] }, Q4.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var t9 = null; function e9() { return null === t9 && new Q4, t9 } function i9(t, e, i, a, r, n, o) { var s = o || Object.create(K4.prototype); return s.id = 0 == (1 & t) ? 0 : e, s.type = 0 == (2 & t) ? 0 : i, s.json = 0 == (4 & t) ? null : a, s.timestamp = 0 == (8 & t) ? null : r, s.uniqueIdentifier = 0 == (16 & t) ? null : n, s } function a9(t) { return t = t || Object.create(K4.prototype), K4.call(t), t } function r9() { s9(), this.characterData = null, this.customBackground = null, this.listCustomFiles = u() } function n9() { o9 = this } K4.$metadata$ = { kind: p, simpleName: "CustomFile", interfaces: [] }, n9.prototype.serializer = function () { return p9() }, n9.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var o9 = null; function s9() { return null === o9 && new n9, o9 } function l9() { this.descriptor_mf6sdr$_0 = new P("com.redrazors.pathbuilder2e.backend.export.ExportBundle", this, 3), this.descriptor.addElement_ivxn3r$("characterData", !0), this.descriptor.addElement_ivxn3r$("customBackground", !0), this.descriptor.addElement_ivxn3r$("listCustomFiles", !0), c9 = this } Object.defineProperty(l9.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_mf6sdr$_0 } }), l9.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); m(e.characterData, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 0) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 0, ja(), e.characterData), m(e.customBackground, null) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 1) || i.encodeNullableSerializableElement_qw92s8$(this.descriptor, 1, el(), e.customBackground), m(e.listCustomFiles, u()) && !i.shouldEncodeElementDefault_szpzho$(this.descriptor, 2) || i.encodeSerializableElement_r4qlx7$(this.descriptor, 2, new D(e9()), e.listCustomFiles), i.endStructure_24f42q$(this.descriptor) }, l9.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r, n = 0, o = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = o.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = o.decodeNullableSerializableElement_8viuyw$(this.descriptor, 0, ja(), i), n |= 1; break; case 1: a = o.decodeNullableSerializableElement_8viuyw$(this.descriptor, 1, el(), a), n |= 2; break; case 2: r = o.decodeSerializableElement_12e8id$(this.descriptor, 2, new D(e9()), r), n |= 4; break; case -1: break t; default: throw new O(e) }return o.endStructure_24f42q$(this.descriptor), h9(n, i, a, r, null) }, l9.prototype.childSerializers = function () { return [new R(ja()), new R(el()), new D(e9())] }, l9.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var c9 = null; function p9() { return null === c9 && new l9, c9 } function h9(t, e, i, a, r) { var n = r || Object.create(r9.prototype); return n.characterData = 0 == (1 & t) ? null : e, n.customBackground = 0 == (2 & t) ? null : i, n.listCustomFiles = 0 == (4 & t) ? u() : a, n } function d9(t, e, i) { this.dataControl_0 = t, this.characterBuild_0 = e, this.alchemicalCaster_0 = i } function u9() { _9 = this, this.CSS_TRAIT = "trait", this.CSS_TRAIT_COMMON = "trait-common", this.CSS_TRAIT_UNCOMMON = "trait-uncommon", this.CSS_TRAIT_RARE = "trait-rare", this.CSS_TRAIT_UNIQUE = "trait-unique", this.CSS_TRAIT_THIRD = "trait-third" } r9.$metadata$ = { kind: p, simpleName: "ExportBundle", interfaces: [] }, d9.prototype.getCharacterData_0 = function () { return this.characterBuild_0.getCharacterData() }, d9.prototype.getHtml = function () { var t, e, i, a = "<h1>" + this.alchemicalCaster_0.casterName + " Formulae</h1>", r = u(); if (this.getCharacterData_0().getHashMapFormulaBookByCaster().containsKey_11rb$(this.alchemicalCaster_0.casterName)) for (null != (t = this.getCharacterData_0().getHashMapFormulaBookByCaster().get_11rb$(this.alchemicalCaster_0.casterName)) && r.addAll_brywnq$(t.keys), Q(r), e = r.iterator(); e.hasNext();) { var n = e.next(), o = (null != (i = this.getCharacterData_0().getHashMapFormulaBookByCaster().get_11rb$(this.alchemicalCaster_0.casterName)) ? i.get_11rb$(n) : null, this.dataControl_0.managerEquipment.hashMapAllEquipmentByName.get_11rb$(n)); null != o && (a += f9().getActionLayout_nggwmd$(n, -2, o.traits, o.description, this.dataControl_0.managerCopyright.getCopyrightDetails_pdl1vj$(o.src), "Item", o.itemLevel)) } return a }, d9.$metadata$ = { kind: p, simpleName: "HtmlAlchemy", interfaces: [] }, u9.prototype.getContainingDiv_puj7f4$ = function (t, e) { return "<div class='" + e + "'>" + t + "</div>" }, u9.prototype.getSpellLevelTitle_61zpoe$ = function (t) { return "<h3 class='spell-level-title'>" + t + "</h3>" }, u9.prototype.getActionSymbol_za3lpa$ = function (t) { if (-2 === t) return this.getContainingDiv_puj7f4$("", "action-holder"); var e = ""; switch (t) { case -1: e = "img/action_free_black.png?v=dm-1"; break; case 0: e = "img/action_reaction_black.png?v=dm-1"; break; case 1: e = "img/action_single_black.png?v=dm-1"; break; case 2: e = "img/action_double_black.png?v=dm-1"; break; case 3: e = "img/action_triple_black.png?v=dm-1"; break; case 4: e = "img/action_range_black.png?v=dm-1" }return f9().getContainingDiv_puj7f4$("<img src='" + e + "' class='action-icon'/>", "action-holder") }, u9.prototype.getTraits_pdl1vj$ = function (t) { var i; if (null == t || 0 === t.length) return ""; var a = "", r = u(); try { var n = b(v(t, [", "])); for (i = 0; i !== n.length; ++i) { var o = n[i]; if (!r.contains_11rb$(o)) { r.add_11rb$(o); var c = "trait"; m(o, "3rd Party") ? c += " trait-third" : m(o, "Uncommon") ? c += " trait-uncommon" : m(o, "Rare") ? c += " trait-rare" : c += " trait-common", a += f9().getContainingDiv_puj7f4$(o, c) } } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return a }, u9.prototype.getActionLayout_nggwmd$ = function (t, e, i, a, r, n, o) { var s = "", l = this.getContainingDiv_puj7f4$(t + " " + this.getActionSymbol_za3lpa$(e), "listview-title"), c = this.getContainingDiv_puj7f4$(l, "stretcher"); return c += this.getContainingDiv_puj7f4$(n + " " + o, "listview-item-level"), s += this.getContainingDiv_puj7f4$(c, "stretcher-bearer"), s += "<hr>", s += this.getTraits_pdl1vj$(i), s += this.getContainingDiv_puj7f4$(a, ""), s += this.getContainingDiv_puj7f4$(r, "copyright"), s += "<br><br><br>" }, u9.$metadata$ = { kind: f, simpleName: "HtmlCommonElements", interfaces: [] }; var _9 = null; function f9() { return null === _9 && new u9, _9 } function y9(t, e) { this.dataControl_0 = t, this.characterBuild_0 = e } y9.prototype.getHtml = function () { var t, e, i, a, r = "", n = k0().getListSortedPowers_5btbp7$(this.characterBuild_0), o = u(), s = u(), l = u(); for (t = n.iterator(); t.hasNext();) { var c = t.next(), p = this.dataControl_0.managerSpells.hashMapSpells.get_11rb$(c.name); null != p && (m(p.type, "Cantrip") ? o.add_11rb$(p) : m(p.type, "Focus") ? s.add_11rb$(p) : l.add_11rb$(p)) } var h = this.dataControl_0.managerClasses.getKeyAbilityRef_qll6wu$(this.characterBuild_0, 0, !1), d = pe().getAbilityMod_za3lpa$(this.characterBuild_0.getPlayReportAbilityScores_sfkw43$(this.dataControl_0).abilityScoresBuffed[h]); if (!o.isEmpty()) for (r += "<h1>Focus Cantrips</h1>", e = o.iterator(); e.hasNext();) { var _ = e.next(); r += f9().getActionLayout_nggwmd$(_.name, _.actions, _.traits, _.getHeightenedDescription_vux9f0$(_.level, d), this.dataControl_0.managerCopyright.getCopyrightDetails_pdl1vj$(_.src), "Focus Cantrip", _.level) } if (!s.isEmpty()) for (r += "<h1>Focus Spells</h1>", i = s.iterator(); i.hasNext();) { var f = i.next(); r += f9().getActionLayout_nggwmd$(f.name, f.actions, f.traits, f.getHeightenedDescription_vux9f0$(f.level, d), this.dataControl_0.managerCopyright.getCopyrightDetails_pdl1vj$(f.src), "Focus Spell", f.level) } if (!l.isEmpty()) for (r += "<h1>Relevant Spells</h1>", a = l.iterator(); a.hasNext();) { var y = a.next(); r += f9().getActionLayout_nggwmd$(y.name, y.actions, y.traits, y.getHeightenedDescription_vux9f0$(y.level, d), this.dataControl_0.managerCopyright.getCopyrightDetails_pdl1vj$(y.src), "Focus Spell", y.level) } return r }, y9.$metadata$ = { kind: p, simpleName: "HtmlFocusPowers", interfaces: [] }; var m9 = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function $9(t, e, i, a) { this.dataControl_0 = t, this.characterBuild_0 = e, this.spellCaster_0 = i, this.alphabetical_0 = a, this.listUsedSpells_0 = u(), this.SPELL_HOLDER_0 = "", this.spellcastingMod_0 = 0 } function g9(t) { return t.name } function v9() { } function S9(t, e) { this.left = t, this.right = e } function C9() { return window.screen.availWidth < 1e3 && window.screen.availHeight < 1e3 } function E9(t) { this.closure$isAndroid = t } function A9() { } function b9() { } function I9(t) { if (C9()) { var e = "Pathbuilder 2e web version currently only works with screen widths of 1000px or more.", i = window.navigator.userAgent.toLowerCase(), a = St(i, "android") > -1; a && (Ntt().removeSpinner(), e += "<br><br>If you are attempting to open a character build link on the android version of this app, please do not use Facebook IM or Reddit app as they override link functionality and open the link in a custom browser. If you continue to have problems go to your device settings->apps->chrome->clear defaults."), Xet(!1, e, new E9(a)).show() } else k9() ? B9().hasPermission_61zpoe$(B9().PERMISSION_STORAGE) && !B9().hasPermission_61zpoe$(B9().PREFERENCE_FORWARDED_FROM_WWW) ? T9() : window.location.replace("https://pathbuilder2e.com/app.html") : B9().hasPermission_61zpoe$(B9().PERMISSION_STORAGE) ? x9() : (Ntt().removeSpinner(), Jet("<br>Pathbuilder 2e would like permission to save character information and 2mb+ of data to your browser cache.<br><br>Continue?", new A9, new b9).show()); return n } function w9() { window.onload = I9 } function L9() { } function T9() { var t; Ntt().removeSpinner(), Xet(!1, "<b>Beta Database Location Fix</b><br><br>Your character files need to be moved from the 'www' domain to the 'root' domain.<br><br>Clicking accept below will export your character database, and then forward you to the correct domain. You must then use the Backup/Restore option from the menu to restore your character files.", new L9).show(); var e = document.getElementById("ring-holder"); null != (t = null != e ? e.parentNode : null) && t.removeChild(e) } function k9() { return console.log(window.location.hostname), "www.pathbuilder2e.com" == window.location.hostname } function R9() { } function P9() { var t; Ntt().removeSpinner(), Xet(!1, "Pathbuilder 2e is not compatible with your browser or browser settings.", new R9).show(); var e = document.getElementById("ring-holder"); null != (t = null != e ? e.parentNode : null) && t.removeChild(e) } function M9(t) { var e; for (e = 0; e !== t.length; ++e)t[e].unregister() } function N9() { P9() } function D9(t) { var e = t.target.result; t.oldVersion < 1 ? (e.createObjectStore("portraits"), e.createObjectStore("saves"), e.createObjectStore("saveIDs"), e.createObjectStore("data"), e.createObjectStore("customFiles"), e.createObjectStore("customBGs"), e.createObjectStore("folders")) : t.oldVersion < 3 && e.createObjectStore("folders") } function x9() { var t, i = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB; if (null == i) P9(); else { try { window.navigator.serviceWorker.getRegistrations().then(M9) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } var a = i.open(B9().DB_NAME, 3); a.onerror = N9, a.onsuccess = (t = a, function () { new utt(t.result) }), a.onupgradeneeded = D9 } } function z9() { B9() } function O9() { F9 = this, this.DB_NAME = "pathbuilder2e_db", this.DB_VERSION = 3, this.DATA_VERSION_0 = 43, this.CODE_VERSION = 44, this.SITE_URL = "https://pathbuilder2e.com", this.SITE_EXT = "/pbonline/app/", this.NOT_SELECTED = "Not Selected", this.CSS_LAYOUT_ITEM = "layout-item", this.CSS_BOLD_STANDARD = "bold-standard", this.CSS_ROUNDED_RECTANGLE = "rounded-rectangle", this.CSS_ROUNDED_RECTANGLE_WHITE = "rounded-rectangle-white", this.CSS_ROUNDED_BOTTOM_ONLY = "rounded-bottom-only", this.CSS_CENTERED_TINY = "centered-tiny", this.CSS_TRAIT_FLEX_BOX = "traitFlexBox", this.CSS_LAYOUT_TABBED_LINE = "layout-tabbed-line", this.CSS_SELECTED_SKILL = "selected-item", this.CSS_HIDDEN = "hidden", this.CSS_INVISIBLE = "invisible", this.CSS_SMALL_TEXT = "small-text", this.CSS_SELECTED_ITEM = "selected-item", this.CSS_SELECTED_ITEM_TITLE = "listview-title-selected", this.CSS_PADDING_STANDARD = "padding-standard", this.CSS_MARGIN_STANDARD = "margin-standard", this.CSS_GRID_CONTAINER = "grid-container", this.CSS_GRID_ITEM = "grid-item", this.CSS_FULL_WIDTH = "full-width", this.CSS_BUILD_PANEL_SIZE = "build_panel", this.CSS_BUTTON_WIDE = "button-wide", this.CSS_BUTTON_SLIM = "button-slim", this.CSS_DIV_BUTTON = "div-button", this.CSS_DIV_BUTTON_SIMPLE = "div-button-simple", this.CSS_BUTTON_TEXT = "button-text", this.CSS_LISTVIEW_TITLE = "listview-title", this.CSS_MARGIN_RIGHT_BOTTOM = "small-margin-right-bottom", this.CSS_WARNING_TEXT = "warning-text", this.CSS_RED_TEXT = "red-text", this.CSS_GREY_BACK = "grey-back", this.CSS_GREY_TEXT = "grey-text", this.CSS_GREEN_HIGHLIGHT = "green-text", this.CSS_TRAIT = "trait", this.CSS_TRAIT_COMMON = "trait-common", this.CSS_TRAIT_UNCOMMON = "trait-uncommon", this.CSS_TRAIT_RARE = "trait-rare", this.CSS_TRAIT_UNIQUE = "trait-unique", this.CSS_TRAIT_THIRD = "trait-third", this.COLOR_BLUE = "#002664", this.COLOR_BLUE_HIGHLIGHT = "#26539d", this.COLOR_BURGANDY_HIGHLIGHT = "#690202", this.SORT_ALPHA = 0, this.SORT_ITEM = 1, this.PREFERENCE_SHOWN_HELP = "prefShownHelp", this.PREFERENCE_FORWARDED_FROM_WWW = "prefForwardedWWW", this.PERMISSION_STORAGE = "permissionStorage", this.PREFERENCE_ALPHA_ORDER = "prefAlphaOrder", this.PREFERENCE_LAST_GEAR_SECTION = "prefLastGear", this.PREFERENCE_AUTO_HEIGHTEN = "prefAutoHeighten", this.PREFERENCE_NEW_CHARACTER_DIALOG = "prefNewCharDialog", this.PREFERENCE_HERITAGE_UNCOMMON = "prefUnCom", this.PREFERENCE_HERITAGE_RARE = "prefHeriRare", this.PREFERENCE_LAST_GM_TOOL_ID = "prefLastGMToolID", this.PREFERENCE_LAST_GM_TOOL_CHARACTER_ID = "prefLastGMToolCharacterID", this.PREFERENCE_CONNECT_IDS = "connectIDs", this.ACCOUNT_NOT_LOGGED_IN = 0, this.ACCOUNT_LOGGED_GOOGLE = 1, this.ACCOUNT_LOGGED_REDDIT = 2, this.ACCOUNT_TYPES = ["None", "Google", "Reddit"], this.PREFERENCE_ACCOUNT_UPGRADE_FAILED = "prefAccountUpgradeFailed", this.PREFERENCE_ACCOUNT = "prefAccount", this.PREFERENCE_USER_NAME = "prefUserName", this.PREFERENCE_ORDER_ID = "prefOrderID", this.PREFERENCE_USER_ID = "prefUserID", this.PREFERENCE_LAST_LOCAL_GOOGLE_USE = "prefLastLocalGoogle", this.PREFERENCE_PEER_ID = "prefPeerID", this.PREFERENCE_SHOW_ROLLERS = "prefShowRollers", this.PREFERENCE_PLAY_DICE = "prefPlayDice", this.LAST_CHARACTER_ID = "prefLastCharacterID", this.PREFERENCE_JSON_ID = "prefJsonID", this.FILE_SOURCE_LOCAL_NAME = "Local Files", this.FILE_SOURCE_GOOGLE_NAME = "Google Drive", this.FILE_SOURCE_LOCAL = 0, this.FILE_SOURCE_GOOGLE = 1, this.APP_PROPERTY_CLASSNAME = "className", this.APP_PROPERTY_LEVEL = "level", this.APP_PROPERTY_ANCESTRY = "ancestry", this.APP_PROPERTY_TIMESTAMP = "timestamp", this.SAVE_WARNING = "Warning: Clearing site data in your browser will delete your local saves!", this.BUFF_RAISE_SHIELD = "buffRaiseShield" } $9.prototype.getCharacterData_0 = function () { return this.characterBuild_0.getCharacterData() }, $9.prototype.getHtml = function () { var t, i, a, r, n; this.SPELL_HOLDER_0 += f9().getContainingDiv_puj7f4$(this.spellCaster_0.casterName + " Spells", "caster-title"); var s = this.characterBuild_0.getPlayReportAbilityScores_sfkw43$(this.dataControl_0), l = pe().getAbilityMod_za3lpa$(s.abilityScoresBuffed[this.spellCaster_0.getSpellCasterAbilityRef_n40yp2$(this.characterBuild_0)]), p = this.characterBuild_0.getCharacterData().getCharacterLevel(), h = this.spellCaster_0.spellList; 6 === this.spellCaster_0.spellList && (h = 0); var _ = pK().ARRAY_SPELL_PROFICIENCIES[h], f = e.isType(t = this.characterBuild_0.getProficiency_61zpoe$(_), nK) ? t : d(), y = f.getProficiencyAtLevel_za3lpa$(p); this.spellCaster_0.innate && (y = this.dataControl_0.managerSpells.getHighestSpellCasterTraining_vy76y1$(this.characterBuild_0, p)); var m = pK().getFinalProficiencyTotal_xek4lp$(this.characterBuild_0.getCharacterData(), y, p), $ = (se().ARRAY_ABILITIES_SHORT[this.spellCaster_0.getSpellCasterAbilityRef_n40yp2$(this.characterBuild_0)], 10 + m + l + rK(this.dataControl_0, this.characterBuild_0, f).getTypedBuff_za3lpa$(0) | 0), g = $ - 10 + this.dataControl_0.managerSpells.getSpellAttackBuff_5btbp7$(this.characterBuild_0) | 0; this.SPELL_HOLDER_0 += f9().getContainingDiv_puj7f4$(_ + " DC " + $ + " (Attack +" + g + ")", ""), i = this.spellCaster_0.getSpellLevelsAvailable_za3lpa$(p); for (var v = 0; v <= i; v++) { var S = "", E = "Spell Level " + v; if (0 === v) { var A = p / 2, b = C(I.ceil(A)), w = "Cantrips"; b > 1 && (w += " (Heightened Level " + b + ")"), E = w } if (S += f9().getSpellLevelTitle_61zpoe$(E), (0 === this.spellCaster_0.typeCaster || this.spellCaster_0.flexibleCaster) && v > 0) { for (var L = this.spellCaster_0.getSpontaneousSpellsMax_vux9f0$(this.characterBuild_0.getCharacterData().getCharacterLevel(), v), T = " Per Day: ", k = 0; k < L; k++)T += f9().getContainingDiv_puj7f4$("", "cast-box"); S += f9().getContainingDiv_puj7f4$(T, "perday") } var R = this.spellCaster_0.getSpellsRepetoire_bh8xs5$(this.characterBuild_0, p, v); S += this.getHeaders_0(), S += "<hr>"; var P = R; -1 === P && (P = 0); var M = !0; if ((P = P + this.spellCaster_0.getNumBonusSpellsAtSpellLevel_za3lpa$(v) | 0) < 1) this.spellCaster_0.isSummoner ? v < (this.spellCaster_0.getMaxSpellLevel_za3lpa$(this.getCharacterData_0().getCharacterLevel()) - 1 | 0) && (M = !1) : M = !1; else for (var N = 0; N < R; N++) { var D = this.spellCaster_0.getSpellSlotReference_vux9f0$(v, N), x = this.spellCaster_0.getSpellSelectionDisplay_yiom1f$(this.dataControl_0, this.characterBuild_0, D, v), z = this.dataControl_0.managerSpells.hashMapSpells.get_11rb$(this.spellCaster_0.getSpellNameIgnoreHeighten_zici4a$(this.characterBuild_0, D, v)); S += this.getSpellRow_qc8s3o$(x, z, v, l, D) } var O = this.spellCaster_0.getHashMapBonusSpell_fhac18$(this.dataControl_0, this.characterBuild_0), F = c(); if (!O.isEmpty()) { for (a = O.keys.iterator(); a.hasNext();) { var B = a.next(), j = O.get_11rb$(B); if (o(j).spellLevel === v && j.addPrepared && j.isAvailableAtCharacterLevel_za3lpa$(this.getCharacterData_0().getCharacterLevel())) { var H = this.spellCaster_0.getSpellSelectionDisplay_yiom1f$(this.dataControl_0, this.characterBuild_0, B, v), q = this.dataControl_0.managerSpells.hashMapSpells.get_11rb$(this.spellCaster_0.getSpellNameIgnoreHeighten_zici4a$(this.characterBuild_0, B, v)), U = j.header; if (null == U && (U = "Bonus Spell"), !F.containsKey_11rb$(U)) { var G = U, W = u(); F.put_xwzc9p$(G, W) } o(F.get_11rb$(U)).add_11rb$(this.getSpellRow_qc8s3o$(H, q, v, l, B)) } } for (r = F.keys.iterator(); r.hasNext();) { var Y = r.next(); for (S += f9().getContainingDiv_puj7f4$(Y, "bonus"), n = o(F.get_11rb$(Y)).iterator(); n.hasNext();)S += n.next() } } M && (this.SPELL_HOLDER_0 += f9().getContainingDiv_puj7f4$(S, "")) } return this.addSpellInformation_0(), this.SPELL_HOLDER_0 }, $9.prototype.addSpellInformation_0 = function () { var t; if (this.SPELL_HOLDER_0 += "<div class='pagebreak'></div><h2>Spell Details</h2>", this.alphabetical_0) { var e = this.listUsedSpells_0; for (e.size > 1 && q(e, new G(m9(g9))), t = this.listUsedSpells_0.iterator(); t.hasNext();) { var i = t.next(); this.SPELL_HOLDER_0 += f9().getActionLayout_nggwmd$(i.name, i.actions, i.traits, i.getHeightenedDescription_vux9f0$(i.level, this.spellcastingMod_0), this.dataControl_0.managerCopyright.getCopyrightDetails_pdl1vj$(i.src), i.type, i.level) } } }, $9.prototype.getHeaders_0 = function () { var t = ""; return t += f9().getContainingDiv_puj7f4$("Name", "spell-name grey"), t += f9().getContainingDiv_puj7f4$("Duration", "spell-header-label grey"), t += f9().getContainingDiv_puj7f4$("Range", "spell-header-label grey"), t += f9().getContainingDiv_puj7f4$("Save", "spell-header-label grey"), t += f9().getContainingDiv_puj7f4$("Area/Targets", "spell-header-label grey"), f9().getContainingDiv_puj7f4$(t, "spell-headers") }, $9.prototype.getSpellRow_qc8s3o$ = function (t, e, i, a, r) { if (this.getCharacterData_0().hashMapSpellBlending.containsKey_11rb$(this.spellCaster_0.casterName)) { var n = k0().isSlotBlended_g789m1$(this.characterBuild_0, this.spellCaster_0.casterName, r); if (null != n) return f9().getContainingDiv_puj7f4$(f9().getActionSymbol_za3lpa$(-2) + " Blended to Spell Level " + n.LevelTo, "spell-name grey") } if (null == t || m(t, se().NOT_SELECTED) || null == e) return f9().getContainingDiv_puj7f4$(f9().getActionSymbol_za3lpa$(-2) + " " + se().NOT_SELECTED, "spell-name grey"); var o = ""; this.listUsedSpells_0.add_11rb$(e), o += f9().getContainingDiv_puj7f4$(f9().getActionSymbol_za3lpa$(e.actions) + " " + t, "spell-name"); var s = e.getHeightenedDuration_vux9f0$(e.level, a); (null == s || gt(s)) && (s = "-"), o += f9().getContainingDiv_puj7f4$(s, "spell-detail"); var l = e.getHeightenedRange_vux9f0$(e.level, a); (null == l || gt(l)) && (l = ""), o += f9().getContainingDiv_puj7f4$(l, "spell-detail"); var c = e.save; (null == c || gt(c)) && (c = ""), o += f9().getContainingDiv_puj7f4$(c, "spell-detail"); var p = "", h = e.getHeightenedArea_vux9f0$(e.level, a); null != h && (p = h); var d = e.getHeightenedTarget_vux9f0$(e.level, a); return null != d && (p.length > 0 && (p += ", "), p += d), gt(p) && (p = ""), o += f9().getContainingDiv_puj7f4$(p, "spell-detail"), f9().getContainingDiv_puj7f4$(o, "spell-headers") }, $9.$metadata$ = { kind: p, simpleName: "HtmlSpellbook", interfaces: [] }, v9.$metadata$ = { kind: H, simpleName: "AdditionalInfoReturn", interfaces: [] }, S9.prototype.hashCode = function () { var t, e, i = this.left, a = this.right; return (null != (t = null != i ? vt(i) : null) ? t : 0) ^ (null != (e = null != a ? vt(a) : null) ? e : 0) }, S9.prototype.equals = function (t) { if (!e.isType(t, S9)) return !1; var i = t; return m(this.left, i.left) && m(this.right, i.right) }, S9.$metadata$ = { kind: p, simpleName: "Pair", interfaces: [] }, E9.prototype.accept = function () { this.closure$isAndroid && window.open("https://play.google.com/store/apps/details?id=com.redrazors.pathbuilder2e", "_self") }, E9.$metadata$ = { kind: p, interfaces: [Vet] }, A9.prototype.accept = function () { B9().setPermission_ivxn3r$(B9().PERMISSION_STORAGE, !0), Ntt().addSpinner_61zpoe$("Loading"), x9() }, A9.$metadata$ = { kind: p, interfaces: [Vet] }, b9.prototype.cancel = function () { window.open("index.html", "_self") }, b9.$metadata$ = { kind: p, interfaces: [Ket] }, L9.prototype.accept = function () { (new A8).exportDBAndForward() }, L9.$metadata$ = { kind: p, interfaces: [Vet] }, R9.prototype.accept = function () { }, R9.$metadata$ = { kind: p, interfaces: [Vet] }, O9.prototype.getDataVersion = function () { return 43 }, O9.prototype.hasPermission_61zpoe$ = function (t) { var e = localStorage.getItem(t); return !(null == e || !m(e, "true")) }, O9.prototype.setPermission_ivxn3r$ = function (t, e) { e ? localStorage.setItem(t, "true") : localStorage.removeItem(t) }, O9.prototype.getPreferenceInt_bm4lxs$ = function (t, i) { var a = localStorage.getItem(t); try { if (null != a) return V(a) } catch (t) { if (!e.isType(t, l)) throw t } return i }, O9.prototype.setPreferenceInt_bm4lxs$ = function (t, e) { localStorage.setItem(t, e.toString()) }, O9.prototype.setPreferenceString_puj7f4$ = function (t, e) { localStorage.setItem(t, e) }, O9.prototype.getPreferenceString_61zpoe$ = function (t) { var i = localStorage.getItem(t); try { if (null != i) return i } catch (t) { if (!e.isType(t, l)) throw t } return "" }, O9.prototype.getPreferenceString_jyasbz$ = function (t, i) { var a = localStorage.getItem(t); try { if (null != a) return a } catch (t) { if (!e.isType(t, l)) throw t } return i }, O9.prototype.getPreferenceBoolean_ivxn3r$ = function (t, e) { var i = localStorage.getItem(t); return null != i ? Ct(i) : e }, O9.prototype.setPreferenceBoolean_ivxn3r$ = function (t, e) { localStorage.setItem(t, e.toString()) }, O9.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var F9 = null; function B9() { return null === F9 && new O9, F9 } function j9(t) { this.masterDataHandler_0 = t, this.hashMapLangages_0 = null, this.hashMapAllCustomFiles = c(), this.format_0 = ut(void 0, H9), this.bloodlineSet_0 = null, this.domainSet_0 = null, this.researchFieldSet_0 = null, this.hellknightOrderSet_0 = null, this.hashMapLoadedRawTables = c() } function H9(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } function q9(t) { V9(), this.mainActivity_0 = t, this.hashMapRawData = c(), this.format = ut(void 0, K9) } function U9(t) { this.this$MasterDataHandler = t } function G9(t) { this.this$MasterDataHandler = t } function W9() { Y9 = this } j9.prototype.setCustomFileHashMap_asi2v1$ = function (t) { this.hashMapAllCustomFiles = t }, j9.prototype.getBackgroundSet = function () { var t, i, a, r = s6().getBackgroundSet_hdf6ii$(this.masterDataHandler_0); for (t = this.hashMapAllCustomFiles.values.iterator(); t.hasNext();) { var n = t.next(); if (6 === n.type) { a = this.format_0; var o, s = "string" == typeof (i = n.json) ? i : d(), l = a.decodeFromString_awif5v$(e.isType(o = ft(a.serializersModule, _t(tt(Ks), [], !1)), yt) ? o : d(), s); l.databaseID = 1, r.list.add_11rb$(l) } } return r.createHashMap(), r }, j9.prototype.getAncestryDescriptions = function () { return Q9().getAncestryInformation_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getArmorInformation = function () { var t, i, a, r, n = a6().getAllArmorInformation_hdf6ii$(this.masterDataHandler_0); for (t = this.hashMapAllCustomFiles.values.iterator(); t.hasNext();) { var o = t.next(); if (2 === o.type) { a = this.format_0; var s, l = "string" == typeof (i = o.json) ? i : d(), c = a.decodeFromString_awif5v$(e.isType(s = ft(a.serializersModule, _t(tt(Qo), [], !1)), yt) ? s : d(), l); c.databaseID = 1; var p = "string" == typeof (r = o.uniqueIdentifier) ? r : d(); n.put_xwzc9p$(p, c) } } return n }, j9.prototype.getClassInformation = function () { return h6().getClassInformation_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getConditionInformation = function () { return f6().getConditionInformation_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getAllEquipment = function () { var t, i, a, r, n, o, s, l, p, h, u, _ = E6().getAllEquipment_hdf6ii$(this.masterDataHandler_0); for (_.put_xwzc9p$(8, c()), t = this.hashMapAllCustomFiles.values.iterator(); t.hasNext();) { var f = t.next(); if (0 === f.type) { a = this.format_0; var y, m = "string" == typeof (i = f.json) ? i : d(), $ = a.decodeFromString_awif5v$(e.isType(y = ft(a.serializersModule, _t(tt(Wp), [], !1)), yt) ? y : d(), m); $.databaseID = 1, o = _.get_11rb$(8), n = "string" == typeof (r = f.uniqueIdentifier) ? r : d(), null != o && o.put_xwzc9p$(n, $) } else if (5 === f.type) { l = this.format_0; var g, v = "string" == typeof (s = f.json) ? s : d(), S = l.decodeFromString_awif5v$(e.isType(g = ft(l.serializersModule, _t(tt(Wp), [], !1)), yt) ? g : d(), v); S.databaseID = 1, u = _.get_11rb$(11), h = "string" == typeof (p = f.uniqueIdentifier) ? p : d(), null != u && u.put_xwzc9p$(h, S) } } return _ }, j9.prototype.getMaterialWeapons = function () { return R6().getMaterialWeapons_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getMaterialArmor = function () { return R6().getMaterialArmor_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getAllShields = function () { var t, i, a, r, n = a6().getAllShields_hdf6ii$(this.masterDataHandler_0); for (t = this.hashMapAllCustomFiles.values.iterator(); t.hasNext();) { var o = t.next(); if (4 === o.type) { a = this.format_0; var s, l = "string" == typeof (i = o.json) ? i : d(), c = a.decodeFromString_awif5v$(e.isType(s = ft(a.serializersModule, _t(tt(lu), [], !1)), yt) ? s : d(), l); c.databaseID = 1; var p = "string" == typeof (r = o.uniqueIdentifier) ? r : d(); n.put_xwzc9p$(p, c) } } return n }, j9.prototype.getSkillActions = function () { return D6().getSkillActionSet_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getBloodlineSet = function () { var t; return null == this.bloodlineSet_0 && (this.bloodlineSet_0 = D6().getBloodlines_hdf6ii$(this.masterDataHandler_0)), e.isType(t = this.bloodlineSet_0, QK) ? t : d() }, j9.prototype.getDomainSet = function () { var t; return null == this.domainSet_0 && (this.domainSet_0 = D6().getDomainSet_hdf6ii$(this.masterDataHandler_0)), e.isType(t = this.domainSet_0, nX) ? t : d() }, j9.prototype.getHellknightOrderSet = function () { var t; return null == this.hellknightOrderSet_0 && (this.hellknightOrderSet_0 = D6().getHellknightOrders_hdf6ii$(this.masterDataHandler_0)), e.isType(t = this.hellknightOrderSet_0, pX) ? t : d() }, j9.prototype.getResearchFieldSet = function () { var t; return null == this.researchFieldSet_0 && (this.researchFieldSet_0 = D6().getResearchFields_hdf6ii$(this.masterDataHandler_0)), e.isType(t = this.researchFieldSet_0, GK) ? t : d() }, j9.prototype.getSpecials_61zpoe$ = function (t) { return q6().getSpecialsHashMap_6eqso$(this.masterDataHandler_0, t) }, j9.prototype.getWeapons = function () { var t, i, a, r, n = e5().getAllWeapons_hdf6ii$(this.masterDataHandler_0); for (t = this.hashMapAllCustomFiles.values.iterator(); t.hasNext();) { var o = t.next(); if (3 === o.type) { a = this.format_0; var s, l = "string" == typeof (i = o.json) ? i : d(), c = a.decodeFromString_awif5v$(e.isType(s = ft(a.serializersModule, _t(tt(h1), [], !1)), yt) ? s : d(), l); c.databaseID = 1, c.ranged && (c.rangedType = 1); var p = "string" == typeof (r = o.uniqueIdentifier) ? r : d(); n.put_xwzc9p$(p, c) } } return n }, j9.prototype.getTraitWeapons = function () { return e5().getTraitWeapons_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getSpells = function () { return Y6().getSpells_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getSpellList_za3lpa$ = function (t) { switch (t) { case 0: return Y6().getSpellList_6eqso$(this.masterDataHandler_0, "spellist_arcane"); case 1: return Y6().getSpellList_6eqso$(this.masterDataHandler_0, "spellist_divine"); case 2: return Y6().getSpellList_6eqso$(this.masterDataHandler_0, "spelllist_occult"); case 3: return Y6().getSpellList_6eqso$(this.masterDataHandler_0, "spelllist_primal"); case 5: return Y6().getSpellList_6eqso$(this.masterDataHandler_0, "spellist_elemental"); case 6: return Y6().getSpellList_6eqso$(this.masterDataHandler_0, "spellist_nonstandard") }return c() }, j9.prototype.getAllFeats = function () { return w6().getAllFeats_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getAnimalCompanions = function () { return F6().getAnimalCompanions_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getAnimalSpecializations = function () { return F6().getAnimalSpecializations_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getAnimalAdvancements = function () { return F6().getAnimalAdvancements_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getEidolonInformation = function () { return F6().getEidolonInformation_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getFamiliarSpecifics = function () { return F6().getFamiliarSpecifics_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getFamiliarAbilities = function () { return F6().getFamiliarAbilities_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getCopyrightInformation = function () { return g6().getCopyrightInfo_hdf6ii$(this.masterDataHandler_0) }, j9.prototype.getCustomBuffSet = function () { var t, i, a, r, n, o = new lo; for (t = this.hashMapAllCustomFiles.values.iterator(); t.hasNext();) { var s = t.next(); if (1 === s.type) { a = this.format_0; var l, c = "string" == typeof (i = s.json) ? i : d(), p = a.decodeFromString_awif5v$(e.isType(l = ft(a.serializersModule, _t(tt(Jn), [], !1)), yt) ? l : d(), c); p.databaseID = 1, n = o.hashMap; var h = "string" == typeof (r = s.uniqueIdentifier) ? r : d(); n.put_xwzc9p$(h, p) } } return o }, j9.prototype.getLanguageInformation = function () { var t; return null == this.hashMapLangages_0 && (this.hashMapLangages_0 = D6().getLanguageInformation_hdf6ii$(this.masterDataHandler_0)), e.isType(t = this.hashMapLangages_0, Et) ? t : d() }, j9.$metadata$ = { kind: p, simpleName: "LoaderSet", interfaces: [Mo] }, q9.prototype.requestDataComp = function () { this.mainActivity_0.fileManager.getCachedData_za3lpa$(B9().getDataVersion()) }, q9.prototype.getTestData = function () { console.log("GETTING TEST DATA"); var t, e, i = { v: jlt().getTextInput() }; i.v.setAttribute("type", "file"), i.v.setAttribute("id", "btnOpenFile"), i.v.addEventListener("change", (t = this, e = i, function (i) { return console.log("filepath"), console.log(i.target), t.readText_0(i.target), o(document.body).removeChild(e.v), n })), i.v.style.display = "none", o(document.body).appendChild(i.v), i.v.click() }, q9.prototype.readText_0 = function (t) { var e, i, a = new FileReader; t.files && t.files[0] && (a.onload = (e = { v: "" }, i = this, function (t) { e.v = t.target.result, console.log(e.v), i.mainActivity_0.fileManager.setCachedData_bm4lxs$(e.v, B9().getDataVersion()) }), a.readAsText(t.files[0])) }, q9.prototype.downloadFreshData_za3lpa$ = function (t) { if (t > 5) return new bet("Alert!", "Unable to get data from the server.  Please try again later.").show(), void Ntt().removeSpinner(); this.mainActivity_0.setLoadingSpinner_61zpoe$("Downloading Data"); var e, i, a, r = B9().SITE_URL + B9().SITE_EXT + "fetch_all_c.php?v=" + B9().getDataVersion(), n = new XMLHttpRequest; n.open("GET", r, !0), n.setRequestHeader("Content-Type", "application/json;charset=UTF-8"), n.onreadystatechange = (e = n, i = this, a = t, function () { var t; if (4 == e.readyState) if (200 == e.status) { i.mainActivity_0.setLoadingSpinner_61zpoe$("Processing Data"); var r = "string" == typeof (t = e.response) ? t : d(); i.mainActivity_0.fileManager.setCachedData_bm4lxs$(r, B9().getDataVersion()), i.parseData_bm4lxs$(r, a) } else window.navigator.onLine || (i.mainActivity_0.showMessage_61zpoe$("Unable to connect to the internet. Please check your connection and then refresh this page."), Ntt().removeSpinner()) }), n.send() }, q9.prototype.parseData_bm4lxs$ = function (t, i) { var a, r, n, o, c; try { var p, h = Htt().decompressFromBase64_61zpoe$(It(e.isCharSequence(p = t) ? p : d()).toString()), u = JSON.parse("string" == typeof (a = h) ? a : d()); for (r = At(Object.keys(u)); r.hasNext();) { var _ = r.next(), f = "string" == typeof (n = u[_]) ? n : d(); c = this.hashMapRawData; var y = "string" == typeof (o = _) ? o : d(); c.put_xwzc9p$(y, f) } this.mainActivity_0.onFinishedLoadingRaw() } catch (t) { if (!e.isType(t, l)) throw t; s(t), console.log("failed to parse data!"), this.mainActivity_0.fileManager.clearDataAndDownloadFresh_za3lpa$(i + 1 | 0) } }, U9.prototype.accept = function () { this.this$MasterDataHandler.mainActivity_0.buildUIAndCharacter() }, U9.$metadata$ = { kind: p, interfaces: [Vet] }, q9.prototype.requestBuild_61zpoe$ = function (t) { this.mainActivity_0.setLoadingSpinner_61zpoe$("Downloading Character"); var i, a, r = new XMLHttpRequest; r.open("POST", "https://pathbuilder2e.com/app/fetch_emailed.php", !0), r.setRequestHeader("Accept", "application/json"), r.onreadystatechange = (i = r, a = this, function () { var t, r; if (4 == i.readyState) if (200 == i.status) { a.mainActivity_0.setLoadingSpinner_61zpoe$("Processing Data"); try { var n = "string" == typeof (t = JSON.parse(i.response).build) ? t : d(), o = r4().decodeExportBundleFromString_61zpoe$(n); null != (r = o.characterData) && r.setPortraitFilename_pdl1vj$(null), C8().isCustomEnabled_torya4$(o) ? a.mainActivity_0.getDataControl().isFullAppEnabled() ? a.mainActivity_0.setDownloadedCharacter_2k9x17$(o, !1) : (a.mainActivity_0.setDownloadedCharacter_2k9x17$(o, !0), a.mainActivity_0.showMessage_61zpoe$("This build contains features only available for web apps with the paid full unlock upgrade. You can view it but you cannot save.")) : a.mainActivity_0.setDownloadedCharacter_2k9x17$(o, !1) } catch (t) { if (!e.isType(t, l)) throw t; console.log(t), Xet(!1, "An error occurred while opening this character build! Make sure the shared character does not have any non-standard characters in its name or description.", new U9(a)).show() } } else 406 == i.status && (Ntt().removeSpinner(), a.handle406_0()) }); var n = bt([$("id", t)]); r.send(JSON.stringify(n)) }, q9.prototype.postJson_nyd8tv$ = function (t, i, a) { var r = new P5(t, i, a), n = { v: B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_JSON_ID, -1) }, o = bt([$("id", n.v), $("build", r.jsonObjectParent)]); Ntt().addSpinner_61zpoe$("Uploading JSON"); var c, p, h, u, _ = new XMLHttpRequest; _.open("POST", "https://pathbuilder2e.com/app/post_json.php", !0), _.setRequestHeader("Accept", "application/json"), _.onreadystatechange = (c = _, p = n, h = this, u = t, function () { var t; if (4 == c.readyState) if (Ntt().removeSpinner(), 200 == c.status) try { var i = JSON.parse(c.response); p.v = "number" == typeof (t = i.id) ? t : d(), B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_JSON_ID, p.v), h.mainActivity_0.openDialog_ip94j4$(new Dat(h.mainActivity_0, u, h.mainActivity_0.characterBuild, p.v)) } catch (t) { if (!e.isType(t, l)) throw t; s(t), h.mainActivity_0.showMessage_61zpoe$("An error occurred while creating and submitting the JSON.  Please try again later.  If the error persists, please submit a bug report.") } else 406 == c.status && h.handle406_0() }), _.send(JSON.stringify(o)) }, G9.prototype.accept = function () { this.this$MasterDataHandler.mainActivity_0.buildUIAndCharacter() }, G9.$metadata$ = { kind: p, interfaces: [Vet] }, q9.prototype.postBuild_pegsdb$ = function (t, i) { var a, r, n, o = new XMLHttpRequest; o.open("POST", "https://pathbuilder2e.com/app/post_emailed.php", !0), o.setRequestHeader("Accept", "application/json"), o.onreadystatechange = (a = o, r = i, n = this, function () { var t; if (4 == a.readyState) if (Ntt().removeSpinner(), 200 == a.status) try { var i = JSON.parse(a.response); console.log(i); var o = "string" == typeof (t = i.buildID) ? t : d(); r.setEmailedBuildID_za3lpa$(V(o)), n.mainActivity_0.autoSave(), new Int(B9().SITE_URL + "/launch.html?build=" + j(r.getEmailedBuildID())).show() } catch (t) { if (!e.isType(t, l)) throw t; console.log(t), Xet(!1, "An error occurred while posting this character build!", new G9(n)).show() } else 406 == a.status && n.handle406_0() }), o.send(t) }, q9.prototype.setLoaded_61zpoe$ = function (t) { this.hashMapRawData.remove_11rb$(t) }, q9.prototype.getRawData_61zpoe$ = function (t) { var e; return null != (e = this.hashMapRawData.get_11rb$(t)) ? e : "" }, q9.prototype.checkAccountStatus_xowcs4$ = function (t, i, a, r) { Ntt().addSpinner_61zpoe$("Checking Account"); var n, o, s, c, p, h = new XMLHttpRequest; h.open("POST", t, !0), h.setRequestHeader("Content-Type", "application/json"), h.onreadystatechange = (n = h, o = i, s = r, c = a, p = this, function () { var t, i; if (4 == n.readyState) if (Ntt().removeSpinner(), 200 == n.status) try { var a = JSON.parse(n.response), r = "boolean" == typeof (t = a.accountExists) ? t : d(), h = "boolean" == typeof (i = a.accountPaid) ? i : d(); if (r && h) { B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_ACCOUNT, o), B9().setPreferenceString_puj7f4$(B9().PREFERENCE_USER_NAME, s), B9().setPreferenceString_puj7f4$(B9().PREFERENCE_USER_ID, c), p.mainActivity_0.setAccountUpgradedFunctions(); var u = "Successfully logged in as " + s + ".<br><br>Remember to refresh any other pathbuilder2e.com pages or tabs you have open!"; p.mainActivity_0.showMessage_puj7f4$("Logged In", u) } else p.mainActivity_0.openDialog_ip94j4$(new ent(p.mainActivity_0, p.mainActivity_0.getDataControl(), p.mainActivity_0.characterBuild, o, c, s)) } catch (t) { if (!e.isType(t, l)) throw t; console.log(t), p.mainActivity_0.showMessage_61zpoe$("Unable to communicate with the server. Please check your internet connection and try again.") } else 406 == n.status ? p.handle406_0() : p.mainActivity_0.showMessage_61zpoe$("Unable to communicate with the server. Please check your internet connection and try again.") }); var u = bt([$("userID", a)]); h.send(JSON.stringify(u)) }, q9.prototype.silentCheckAccountStatus_puj7f4$ = function (t, i) { var a, r, n = bt([$("userID", i)]), o = new XMLHttpRequest; o.open("POST", t, !0), o.setRequestHeader("Content-Type", "application/json"), o.onreadystatechange = (a = o, r = this, function () { var t, i; if (4 == a.readyState) if (200 == a.status) try { var n = JSON.parse(a.response), o = "boolean" == typeof (t = n.accountExists) ? t : d(), s = "boolean" == typeof (i = n.accountPaid) ? i : d(); o && s || (console.log("ILLEGAL ACCOUNT"), B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_ACCOUNT, 0), r.mainActivity_0.getNavigationControl().setMenuAccountLoginControls_6taknv$(!1), r.mainActivity_0.getDataControl().setFullAppEnabled_6taknv$(!1)) } catch (t) { if (!e.isType(t, l)) throw t; console.log(t) } else 406 == a.status && r.handle406_0() }), o.send(JSON.stringify(n)) }, q9.prototype.sendDataToServer_x0a6t6$ = function (t, e, i, a, r) { var n, o, s, l, c, p = new XMLHttpRequest; p.open("POST", t, !0), p.setRequestHeader("Accept", "application/json"), p.onreadystatechange = (n = p, o = i, s = a, l = r, c = this, function () { 4 == n.readyState && (200 == n.status ? c.onSuccessfulServerResponse_0(n.response, o, s, l) : 406 == n.status ? c.handle406_0() : c.onFailedServerResponse_0(o, s, l)) }), p.send(e) }, q9.prototype.onSuccessfulServerResponse_0 = function (t, i, a, r) { var n; try { ("boolean" == typeof (n = JSON.parse(t).success) ? n : d()) ? B9().setPreferenceBoolean_ivxn3r$(B9().PREFERENCE_ACCOUNT_UPGRADE_FAILED, !1) : this.onFailedServerResponse_0(i, a, r) } catch (t) { if (!e.isType(t, l)) throw t; console.log(t) } }, q9.prototype.onFailedServerResponse_0 = function (t, e, i) { B9().setPreferenceBoolean_ivxn3r$(B9().PREFERENCE_ACCOUNT_UPGRADE_FAILED, !0); var a = "Unfortunately an error occurred during account creation when trying to communicate with the server.This app will attempt to retry communicating with the server each time this page is refreshed on this browser. Please make sure that your internet connection is available. Please take a note of the following details:<br>User ID: " + e + "<br>User Name: " + i + "<br>Paypal Order ID: " + t + "<br>If the issue persists please submit a bug report."; this.mainActivity_0.showMessage_61zpoe$(a) }, q9.prototype.handle406_0 = function () { this.mainActivity_0.showMessage_61zpoe$("Your anti-virus software (probably Bitdefender Free) is preventing this site from communicating with its server. Bitdefender Free currently has an error that damages XHR POST requests.") }, W9.prototype.getNonNullString_4w9ihe$ = function (t, e) { var i, a = null == (i = e) || "string" == typeof i ? i : d(); return null != a ? a : t }, W9.prototype.parseCSV_61zpoe$ = function (t) { var i; return e.isArray(i = Papa.parse(t, { header: !0, skipEmptyLines: !0 }).data) ? i : d() }, W9.prototype.hasValue_pdl1vj$ = function (t) { var e = null == t; return e || (e = 0 === t.length), e }, W9.prototype.getNullStringIfEmpty_s8jyv4$ = function (t) { var e, i; return null == t || 0 === ("string" == typeof (e = t) ? e : d()).length ? null : "string" == typeof (i = t) ? i : d() }, W9.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Y9 = null; function V9() { return null === Y9 && new W9, Y9 } function K9(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } function X9() { Q9() } function J9() { Z9 = this } q9.$metadata$ = { kind: p, simpleName: "MasterDataHandler", interfaces: [] }, J9.prototype.getAncestryInformation_hdf6ii$ = function (t) { var i, a, r, n = c(), o = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("ancestries")); for (i = 0; i !== o.length; ++i) { var p = o[i], h = new hi; h.name = "string" == typeof (a = p[_i().COLUMN_NAME]) ? a : d(), h.traits = V9().getNonNullString_4w9ihe$("", p.traits), h.description = V9().getNonNullString_4w9ihe$(h.description, p[_i().COLUMN_DESCRIPTION]), h.languages = V9().getNonNullString_4w9ihe$(h.languages, p[_i().COLUMN_LANGUAGES]); var u = "string" == typeof (r = p[_i().COLUMN_BONUS_LANG]) ? r : d(); if (u.length > 0) try { h.bonusLanguages = V(u) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } h.source = V9().getNonNullString_4w9ihe$(h.source, p[_i().COLUMN_SRC]), h.url = V9().getNonNullString_4w9ihe$(h.url, p[_i().COLUMN_URL]); var _ = h.name; n.put_xwzc9p$(_, h) } return t.setLoaded_61zpoe$("ancestries"), n }, J9.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Z9 = null; function Q9() { return null === Z9 && new J9, Z9 } function t6() { a6() } function e6() { i6 = this } e6.prototype.getAllArmorInformation_hdf6ii$ = function (t) { var i, a, r, n, p, h, u, _, f, m, $, g, v, S, C, A, b, I, w, L, T, k, R = c(), P = "items_armor", M = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$(P)); for (i = M, a = 0; a !== i.length; ++a) { var N = i[a], D = ss("string" == typeof (r = N.name) ? r : d()); D.uniqueIdentiier = D.name; try { var x = "string" == typeof (n = N[is().COLUMN_LEVEL]) ? n : d(); x.length > 0 && (D.itemLevel = V(x)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var z = "string" == typeof (p = N[is().COLUMN_PRICE]) ? p : d(); z.length > 0 && (D.price = E(z)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var O = "string" == typeof (h = N[is().COLUMN_PROFICIENCY]) ? h : d(); O.length > 0 && (D.proficiencyType = V(O)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var F = "string" == typeof (u = N[is().COLUMN_ACBONUS]) ? u : d(); F.length > 0 && (D.acBonus = V(F)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var B = "string" == typeof (_ = N[is().COLUMN_DEXCAP]) ? _ : d(); B.length > 0 && (D.dexCap = V(B)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var j = "string" == typeof (f = N[is().COLUMN_CHECKPENALTY]) ? f : d(); j.length > 0 && (D.checkPenalty = V(j)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var H = "string" == typeof (m = N[is().COLUMN_SPEEDPENALTY]) ? m : d(); H.length > 0 && (D.speedPenalty = V(H)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var q = "string" == typeof ($ = N[is().COLUMN_STRENGTH]) ? $ : d(); q.length > 0 && (D.strength = V(q)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } D.bulk = V9().getNonNullString_4w9ihe$(D.bulk, N[is().COLUMN_BULK]), D.group = V9().getNonNullString_4w9ihe$(D.group, N[is().COLUMN_GROUP]), D.armorTraits = V9().getNonNullString_4w9ihe$(D.armorTraits, N[is().COLUMN_ARMORTRAITS]), D.traits = V9().getNonNullString_4w9ihe$(D.traits, N[is().COLUMN_TRAITS]), D.description = V9().getNonNullString_4w9ihe$(D.description, N[is().COLUMN_DESCRIPTION]), D.src = V9().getNonNullString_4w9ihe$(D.src, N[is().COLUMN_SRC]), D.url = V9().getNonNullString_4w9ihe$(D.url, N[is().COLUMN_URL]); var U = D.name; R.put_xwzc9p$(U, D) } t.setLoaded_61zpoe$(P); var G = c(); for (P = "items_armor_magic", g = M = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$(P)), v = 0; v !== g.length; ++v) { var W = g[v], Y = ss("string" == typeof (S = W.name) ? S : d()); Y.uniqueIdentiier = Y.name; try { var K = "string" == typeof (C = W[is().COLUMN_LEVEL]) ? C : d(); K.length > 0 && (Y.itemLevel = V(K)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var X = "string" == typeof (A = W[is().COLUMN_PRICE]) ? A : d(); X.length > 0 && (Y.price = E(X)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var J = "string" == typeof (b = W[is().COLUMN_POTENCY]) ? b : d(); J.length > 0 && (Y.potency = V(J)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var Z = "string" == typeof (I = W[is().COLUMN_RESILIENT]) ? I : d(); Z.length > 0 && (Y.resilient = V(Z)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var Q = "string" == typeof (w = W[is().COLUMN_ACTION0]) ? w : d(); Q.length > 0 && (Y.action0 = V(Q)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var tt = "string" == typeof (L = W[is().COLUMN_ACTION1]) ? L : d(); tt.length > 0 && (Y.action1 = V(tt)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } Y.identity = "string" == typeof (T = W[is().COLUMN_IDENTITY]) ? T : d(), Y.traits = V9().getNonNullString_4w9ihe$(Y.traits, W[is().COLUMN_TRAITS]), Y.action0desc = V9().getNullStringIfEmpty_s8jyv4$(W[is().COLUMN_ACTION0DESC]), Y.action1desc = V9().getNullStringIfEmpty_s8jyv4$(W[is().COLUMN_ACTION1DESC]), Y.rune = V9().getNonNullString_4w9ihe$(Y.rune, W[is().COLUMN_RUNE]), Y.description = V9().getNonNullString_4w9ihe$(Y.description, W[is().COLUMN_DESCRIPTION]), Y.src = V9().getNonNullString_4w9ihe$(Y.src, W[is().COLUMN_SRC]), Y.url = V9().getNonNullString_4w9ihe$(Y.url, W[is().COLUMN_URL]); var et = Y.name; G.put_xwzc9p$(et, Y) } for (t.setLoaded_61zpoe$(P), k = G.values.iterator(); k.hasNext();) { var it, at = k.next(), rt = at.identity, nt = o((e.isType(it = R, y) ? it : d()).get_11rb$(rt)); at.cloneValues_ydnd0f$(nt) } return R.putAll_a2k3zr$(G), R }, e6.prototype.getAllShields_hdf6ii$ = function (t) { var i, a, r, n, o, l, p, h, u = c(), _ = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("items_shields")); for (i = 0; i !== _.length; ++i) { var f = _[i], y = "string" == typeof (a = f[hu().COLUMN_NAME]) ? a : d(), m = yu(y); m.uniqueIdentiier = y; try { var $ = "string" == typeof (r = f[hu().COLUMN_LEVEL]) ? r : d(); $.length > 0 && (m.itemLevel = V($)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } try { var g = "string" == typeof (n = f[hu().COLUMN_PRICE]) ? n : d(); g.length > 0 && (m.price = E(g)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } try { var v = "string" == typeof (o = f[hu().COLUMN_SPEED]) ? o : d(); v.length > 0 && (m.speed = V(v)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } try { var S = "string" == typeof (l = f[hu().COLUMN_HARDNESS]) ? l : d(); S.length > 0 && (m.hardness = V(S)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } try { var C = "string" == typeof (p = f[hu().COLUMN_HP]) ? p : d(); C.length > 0 && (m.hp = V(C)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } try { var b = "string" == typeof (h = f[hu().COLUMN_ACTION0]) ? h : d(); b.length > 0 && (m.action0 = V(b)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } m.traits = V9().getNonNullString_4w9ihe$(m.traits, f[hu().COLUMN_TRAITS]), m.hands = V9().getNonNullString_4w9ihe$(m.hands, f[hu().COLUMN_HANDS]), m.bulk = V9().getNonNullString_4w9ihe$(m.bulk, f[hu().COLUMN_BULK]), m.usage = V9().getNonNullString_4w9ihe$(m.usage, f[hu().COLUMN_USAGE]), m.ac = V9().getNonNullString_4w9ihe$(m.ac, f[hu().COLUMN_AC]), m.action0desc = V9().getNullStringIfEmpty_s8jyv4$(f[hu().COLUMN_ACTION0DESC]), m.description = V9().getNonNullString_4w9ihe$(m.description, f[hu().COLUMN_DESCRIPTION]), m.src = V9().getNonNullString_4w9ihe$(m.src, f[hu().COLUMN_SRC]), m.url = V9().getNonNullString_4w9ihe$(m.url, f[hu().COLUMN_URL]), u.put_xwzc9p$(y, m) } return t.setLoaded_61zpoe$("items_shields"), u }, e6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var i6 = null; function a6() { return null === i6 && new e6, i6 } function r6() { s6() } function n6() { o6 = this } n6.prototype.getBackgroundSet_hdf6ii$ = function (t) { var i, a, r, n, o, c = new al, p = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$(Zs().TABLE_NAME)); for (i = 0; i !== p.length; ++i) { var h = p[i], u = new Ks; u.id = "string" == typeof (a = h[Zs().COLUMN_ID]) ? a : d(), u.name = "string" == typeof (r = h[Zs().COLUMN_NAME]) ? r : d(), u.traits = V9().getNullStringIfEmpty_s8jyv4$(h.traits), u.boost_ref_1 = V9().getNullStringIfEmpty_s8jyv4$(h[Zs().COLUMN_BOOST_1]), u.boost_ref_2 = V9().getNullStringIfEmpty_s8jyv4$(h[Zs().COLUMN_BOOST_2]), u.boost_ref_3 = V9().getNullStringIfEmpty_s8jyv4$(h.boost_ref_3); var _ = null == (n = h.numfreeboosts) || "string" == typeof n ? n : d(); if (null != _ && 0 !== _.length) try { u.numFreeBoosts = V(_) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } u.freeFeatID = V9().getNullStringIfEmpty_s8jyv4$(h[Zs().COLUMN_FREE_FEAT]), u.freeFeatDetail = V9().getNonNullString_4w9ihe$(u.freeFeatDetail, h[Zs().COLUMN_FREE_FEAT_DETAIL]), u.lore = V9().getNonNullString_4w9ihe$("", h[Zs().COLUMN_LORE]), u.skill = V9().getNullStringIfEmpty_s8jyv4$(h[Zs().COLUMN_SKILL]), u.skill2 = V9().getNullStringIfEmpty_s8jyv4$(h.skill2), u.description = V9().getNonNullString_4w9ihe$(u.description, h[Zs().COLUMN_DESCRIPTION]), u.src = V9().getNonNullString_4w9ihe$(u.src, h[Zs().COLUMN_SRC]), u.category = V("string" == typeof (o = h.category) ? o : d()), u.url = V9().getNonNullString_4w9ihe$(u.url, h[Zs().COLUMN_URL]), c.list.add_11rb$(u) } return t.setLoaded_61zpoe$("backgrounds"), c }, n6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var o6 = null; function s6() { return null === o6 && new n6, o6 } function l6() { h6() } function c6() { p6 = this } c6.prototype.getClassInformation_hdf6ii$ = function (t) { var e, i, a, r, n = new Rl, o = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$(kl().TABLE_NAME)); for (e = 0; e !== o.length; ++e) { var s = o[e], l = new wl; l.name = "string" == typeof (i = s[kl().COLUMN_NAME]) ? i : d(), l.traits = V9().getNonNullString_4w9ihe$("", s[kl().COLUMN_TRAITS]), l.description = "string" == typeof (a = s[kl().COLUMN_DESCRIPTION]) ? a : d(), l.src = V9().getNonNullString_4w9ihe$(l.src, s[kl().COLUMN_SRC]), l.url = "string" == typeof (r = s[kl().COLUMN_URL]) ? r : d(), n.list.add_11rb$(l) } return n.createHashMap(), t.setLoaded_61zpoe$(kl().TABLE_NAME), n }, c6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var p6 = null; function h6() { return null === p6 && new c6, p6 } function d6() { f6() } function u6() { _6 = this } u6.prototype.getConditionInformation_hdf6ii$ = function (t) { var e, i, a, r, n = new ac, o = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("conditions")); for (e = 0; e !== o.length; ++e) { var s = o[e], l = new Ql; l.condition = "string" == typeof (i = s.condition) ? i : d(), ("string" == typeof (a = s.value) ? a : d()).length > 0 && (l.value = !0), l.description = "string" == typeof (r = s.description) ? r : d(), n.list.add_11rb$(l) } return n.createHashMap(), t.setLoaded_61zpoe$("conditions"), n }, u6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var _6 = null; function f6() { return null === _6 && new u6, _6 } function y6() { g6() } function m6() { $6 = this } m6.prototype.getCopyrightInfo_hdf6ii$ = function (t) { var i, a, r, n, l, p, h = c(), u = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("copyright")); for (i = 0; i !== u.length; ++i) { var _ = u[i], f = new Xn; f.name = "string" == typeof (a = _.name) ? a : d(), f.title = "string" == typeof (r = _.title) ? r : d(), f.description = "string" == typeof (n = _.full) ? n : d(), f.shortDesc = "string" == typeof (l = _.short) ? l : d(); var y = "string" == typeof (p = _.type) ? p : d(); if (y.length > 0) try { f.type = V(y) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } var m = o(f.name); h.put_xwzc9p$(m, f) } return t.setLoaded_61zpoe$("copyright"), h }, m6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var $6 = null; function g6() { return null === $6 && new m6, $6 } function v6() { E6() } function S6() { C6 = this } S6.prototype.getAllEquipment_hdf6ii$ = function (t) { var e = this.getAllEquipmentHashMap_0(t); return e.put_xwzc9p$(101, this.getEquipmentHashMap_f82gj3$(t, "items_property_runes_armor", 101, !1)), e.put_xwzc9p$(102, this.getEquipmentHashMap_f82gj3$(t, "items_property_runes_weapons", 102, !1)), e.put_xwzc9p$(103, this.getEquipmentHashMap_f82gj3$(t, "items_property_runes_shields", 103, !1)), e.put_xwzc9p$(104, this.getEquipmentHashMap_f82gj3$(t, "items_fundamental_runes", 104, !1)), e }, S6.prototype.getAllEquipmentHashMap_0 = function (t) { var i, a, r, n, p, h, u, _, f, y, m, $, g = c(), S = c(); g.put_xwzc9p$(0, S); var C = c(); g.put_xwzc9p$(1, C); var A = c(); g.put_xwzc9p$(2, A); var I = c(); g.put_xwzc9p$(3, I); var w = c(); g.put_xwzc9p$(4, w); var L = c(); g.put_xwzc9p$(5, L); var T = c(); g.put_xwzc9p$(6, T); var k = c(); g.put_xwzc9p$(7, k); var R = c(); g.put_xwzc9p$(9, R); var P = c(); g.put_xwzc9p$(10, P); var M = c(); g.put_xwzc9p$(11, M); var N = c(); g.put_xwzc9p$(12, N); var D = c(); g.put_xwzc9p$(13, D); var x = c(); g.put_xwzc9p$(14, x); var z = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("items_all")); for (i = 0; i !== z.length; ++i) { var O = z[i], F = "string" == typeof (a = O[Kp().COLUMN_TYPE]) ? a : d(), B = 0; F.length > 0 && (B = V(F)); var j = "string" == typeof (r = O[Kp().COLUMN_NAME]) ? r : d(), H = th(j, B); H.uniqueIdentiier = j; try { var q = "string" == typeof (n = O[Kp().COLUMN_LEVEL]) ? n : d(); q.length > 0 && (H.itemLevel = V(q)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } H.traits = V9().getNonNullString_4w9ihe$(H.traits, O[Kp().COLUMN_TRAITS]); try { var U = "string" == typeof (p = O[Kp().COLUMN_PRICE]) ? p : d(); U.length > 0 && (H.price = E(U)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } H.hands = V9().getNonNullString_4w9ihe$(H.hands, O[Kp().COLUMN_HANDS]), H.bulk = V9().getNonNullString_4w9ihe$(H.bulk, O[Kp().COLUMN_BULK]), H.usage = V9().getNonNullString_4w9ihe$(H.usage, O[Kp().COLUMN_USAGE]); try { var G = "string" == typeof (h = O[Kp().COLUMN_CONTAINS]) ? h : d(); G.length > 0 && (H.contains = E(G)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var W = "string" == typeof (u = O[Kp().COLUMN_AMOUNT]) ? u : d(); W.length > 0 && (H.amount = V(W)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var Y = "string" == typeof (_ = O[Kp().COLUMN_ACTION0]) ? _ : d(); Y.length > 0 && (H.action0 = V(Y)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } H.action0desc = V9().getNullStringIfEmpty_s8jyv4$(O[Kp().COLUMN_ACTION0DESC]); try { var K = "string" == typeof (f = O[Kp().COLUMN_ACTION1]) ? f : d(); K.length > 0 && (H.action1 = V(K)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } H.action1desc = V9().getNullStringIfEmpty_s8jyv4$(O[Kp().COLUMN_ACTION1DESC]), H.description = V9().getNonNullString_4w9ihe$(H.description, O[Kp().COLUMN_DESCRIPTION]), H.src = V9().getNonNullString_4w9ihe$(H.src, O[Kp().COLUMN_SRC]), H.url = V9().getNonNullString_4w9ihe$(H.url, O[Kp().COLUMN_URL]); var X = "string" == typeof (y = O[Kp().COLUMN_SKILL_NAME]) ? y : d(); if (X.length > 0) try { var J = "string" == typeof (m = O[Kp().COLUMN_SKILL_BONUS]) ? m : d(), Z = b(v(X, ["&"])); for ($ = 0; $ !== Z.length; ++$) { var Q = Z[$]; null == H.hashMapProficiencyBonus && (H.hashMapProficiencyBonus = c()); var tt = o(H.hashMapProficiencyBonus), et = V(J); tt.put_xwzc9p$(Q, et) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } o(g.get_11rb$(B)).put_xwzc9p$(o(H.uniqueIdentiier), H) } return t.setLoaded_61zpoe$("items_all"), g }, S6.prototype.getEquipmentHashMap_f82gj3$ = function (t, i, a, r) { var n, p, h, u, _, f, y, m, $, g = c(), v = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$(i)); for (n = 0; n !== v.length; ++n) { var S = v[n], C = "string" == typeof (p = S[Kp().COLUMN_NAME]) ? p : d(), b = th(C, a); b.uniqueIdentiier = C; try { var I = "string" == typeof (h = S[Kp().COLUMN_LEVEL]) ? h : d(); I.length > 0 && (b.itemLevel = V(I)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } b.traits = V9().getNonNullString_4w9ihe$(b.traits, S[Kp().COLUMN_TRAITS]); try { var w = "string" == typeof (u = S[Kp().COLUMN_PRICE]) ? u : d(); w.length > 0 && (b.price = E(w)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } b.hands = V9().getNonNullString_4w9ihe$(b.hands, S[Kp().COLUMN_HANDS]), b.bulk = V9().getNonNullString_4w9ihe$(b.bulk, S[Kp().COLUMN_BULK]), b.usage = V9().getNonNullString_4w9ihe$(b.usage, S[Kp().COLUMN_USAGE]); try { var L = "string" == typeof (_ = S[Kp().COLUMN_CONTAINS]) ? _ : d(); L.length > 0 && (b.contains = E(L)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var T = "string" == typeof (f = S[Kp().COLUMN_AMOUNT]) ? f : d(); T.length > 0 && (b.amount = V(T)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var k = "string" == typeof (y = S[Kp().COLUMN_ACTION0]) ? y : d(); k.length > 0 && (b.action0 = V(k)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } b.action0desc = V9().getNullStringIfEmpty_s8jyv4$(S[Kp().COLUMN_ACTION0DESC]); try { var R = "string" == typeof (m = S[Kp().COLUMN_ACTION1]) ? m : d(); R.length > 0 && (b.action1 = V(R)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } if (b.action1desc = V9().getNullStringIfEmpty_s8jyv4$(S[Kp().COLUMN_ACTION1DESC]), b.description = V9().getNonNullString_4w9ihe$(b.description, S[Kp().COLUMN_DESCRIPTION]), b.src = V9().getNonNullString_4w9ihe$(b.src, S[Kp().COLUMN_SRC]), b.url = V9().getNonNullString_4w9ihe$(b.url, S[Kp().COLUMN_URL]), r) { try { var P = "string" == typeof ($ = S[Kp().COLUMN_SPEED]) ? $ : d(); P.length > 0 && (b.speed = V(P)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } this.addBonusIfFound_0(b, pK().ARCANA, S[Kp().COLUMN_ARCANA]), this.addBonusIfFound_0(b, pK().ACROBATICS, S[Kp().COLUMN_ACROBATICS]), this.addBonusIfFound_0(b, pK().ATHELTICS, S[Kp().COLUMN_ATHLETICS]), this.addBonusIfFound_0(b, pK().DECEPTION, S[Kp().COLUMN_DECEPTION]), this.addBonusIfFound_0(b, pK().DIPLOMACY, S[Kp().COLUMN_DIPLOMACY]), this.addBonusIfFound_0(b, pK().INTIMIDATION, S[Kp().COLUMN_INTIMIDATION]), this.addBonusIfFound_0(b, pK().MEDICINE, S[Kp().COLUMN_MEDICINE]), this.addBonusIfFound_0(b, pK().OCCULTISM, S[Kp().COLUMN_OCCULTISM]), this.addBonusIfFound_0(b, pK().RELIGION, S[Kp().COLUMN_RELIGION]), this.addBonusIfFound_0(b, pK().SOCIETY, S[Kp().COLUMN_SOCIETY]), this.addBonusIfFound_0(b, pK().STEALTH, S[Kp().COLUMN_STEALTH]), this.addBonusIfFound_0(b, pK().SURVIVAL, S[Kp().COLUMN_SURVIVAL]), this.addBonusIfFound_0(b, pK().CRAFTING, S[Kp().COLUMN_CRAFTING]), this.addBonusIfFound_0(b, pK().NATURE, S[Kp().COLUMN_NATURE]), this.addBonusIfFound_0(b, pK().PROFICIENCY_PERCEPTION, S[Kp().COLUMN_PERCEPTION]) } var M = o(b.uniqueIdentiier); g.put_xwzc9p$(M, b) } return t.setLoaded_61zpoe$(i), g }, S6.prototype.addBonusIfFound_0 = function (t, i, a) { var r, n = null != a; if (n && (n = ("string" == typeof (r = a) ? r : d()).length > 0), n) { null == t.hashMapProficiencyBonus && (t.hashMapProficiencyBonus = c()); try { "string" == typeof a || d(); var p = o(t.hashMapProficiencyBonus), h = V(a); p.put_xwzc9p$(i, h) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } }, S6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var C6 = null; function E6() { return null === C6 && new S6, C6 } function A6() { w6() } function b6() { I6 = this } b6.prototype.getAllFeats_hdf6ii$ = function (t) { var e, i = c(), a = se().FEATS_FIGHTER, r = this.getFeatInformation_0(t, "feats_class_fighter"); i.put_xwzc9p$(a, r); var n = se().FEATS_ROGUE, s = this.getFeatInformation_0(t, "feats_class_rogue"); i.put_xwzc9p$(n, s); var l = se().FEATS_CHAMPION, p = this.getFeatInformation_0(t, "feats_class_champion"); i.put_xwzc9p$(l, p); var h = se().FEATS_WIZARD, d = this.getFeatInformation_0(t, "feats_class_wizard"); i.put_xwzc9p$(h, d); var u = se().FEATS_ALCHEMIST, f = this.getFeatInformation_0(t, "feats_class_alchemist"); i.put_xwzc9p$(u, f); var y = se().FEATS_BARD, m = this.getFeatInformation_0(t, "feats_class_bard"); i.put_xwzc9p$(y, m); var $ = se().FEATS_SORCERER, g = this.getFeatInformation_0(t, "feats_class_sorcerer"); i.put_xwzc9p$($, g); var v = se().FEATS_CLERIC, S = this.getFeatInformation_0(t, "feats_class_cleric"); i.put_xwzc9p$(v, S); var C = se().FEATS_BARBARIAN, E = this.getFeatInformation_0(t, "feats_class_barbarian"); i.put_xwzc9p$(C, E); var A = se().FEATS_RANGER, b = this.getFeatInformation_0(t, "feats_class_ranger"); i.put_xwzc9p$(A, b); var I = se().FEATS_DRUID, w = this.getFeatInformation_0(t, "feats_class_druid"); i.put_xwzc9p$(I, w); var L = se().FEATS_MONK, T = this.getFeatInformation_0(t, "feats_class_monk"); i.put_xwzc9p$(L, T); var k = se().FEATS_INVESTIGATOR, R = this.getFeatInformation_0(t, "feats_class_investigator"); i.put_xwzc9p$(k, R); var P = se().FEATS_ORACLE, M = this.getFeatInformation_0(t, "feats_class_oracle"); i.put_xwzc9p$(P, M); var N = se().FEATS_SWASHBUCKLER, D = this.getFeatInformation_0(t, "feats_class_swashbuckler"); i.put_xwzc9p$(N, D); var x = se().FEATS_WITCH, z = this.getFeatInformation_0(t, "feats_class_witch"); i.put_xwzc9p$(x, z); var O = se().FEATS_MAGUS, F = this.getFeatInformation_0(t, "feats_class_magus"); i.put_xwzc9p$(O, F); var B = se().FEATS_SUMMONER, j = this.getFeatInformation_0(t, "feats_class_summoner"); i.put_xwzc9p$(B, j); var H = se().FEATS_CLASS_ARCHETYPE, q = this.getFeatInformation_0(t, "feats_class_archetype"); i.put_xwzc9p$(H, q); var U = se().FEATS_ANCESTRY_GENERAL, G = this.getFeatInformation_0(t, "feats_ancestry_general"); i.put_xwzc9p$(U, G); var W = se().FEATS_ANCESTRY_VERSATILE, Y = this.getFeatInformation_0(t, "feats_ancestry_versatile"); i.put_xwzc9p$(W, Y); var V = se().FEATS_ANCESTRY_HUMAN, K = this.getFeatInformation_0(t, "feats_ancestry_human"); i.put_xwzc9p$(V, K); var X = se().FEATS_ANCESTRY_HALFLING, J = this.getFeatInformation_0(t, "feats_ancestry_halfling"); i.put_xwzc9p$(X, J); var Z = se().FEATS_ANCESTRY_DWARF, Q = this.getFeatInformation_0(t, "feats_ancestry_dwarf"); i.put_xwzc9p$(Z, Q); var tt = se().FEATS_ANCESTRY_ELF, et = this.getFeatInformation_0(t, "feats_ancestry_elf"); i.put_xwzc9p$(tt, et); var it = se().FEATS_ANCESTRY_GNOME, at = this.getFeatInformation_0(t, "feats_ancestry_gnome"); i.put_xwzc9p$(it, at); var rt = se().FEATS_ANCESTRY_GOBLIN, nt = this.getFeatInformation_0(t, "feats_ancestry_goblin"); i.put_xwzc9p$(rt, nt); var ot = se().FEATS_ANCESTRY_HOBGOBLIN, st = this.getFeatInformation_0(t, "feats_ancestry_hobgoblin"); i.put_xwzc9p$(ot, st); var lt = se().FEATS_ANCESTRY_LESHY, ct = this.getFeatInformation_0(t, "feats_ancestry_leshy"); i.put_xwzc9p$(lt, ct); var pt = se().FEATS_ANCESTRY_LIZARDFOLK, ht = this.getFeatInformation_0(t, "feats_ancestry_lizardfolk"); i.put_xwzc9p$(pt, ht); var dt = se().FEATS_ANCESTRY_SHOONY, ut = this.getFeatInformation_0(t, "feats_ancestry_shoony"); i.put_xwzc9p$(dt, ut); var _t = se().FEATS_ANCESTRY_CATFOLK, ft = this.getFeatInformation_0(t, "feats_ancestry_catfolk"); i.put_xwzc9p$(_t, ft); var yt = se().FEATS_ANCESTRY_KOBOLD, mt = this.getFeatInformation_0(t, "feats_ancestry_kobold"); i.put_xwzc9p$(yt, mt); var $t = se().FEATS_ANCESTRY_ORC, gt = this.getFeatInformation_0(t, "feats_ancestry_orc"); i.put_xwzc9p$($t, gt); var vt = se().FEATS_ANCESTRY_RATFOLK, St = this.getFeatInformation_0(t, "feats_ancestry_ratfolk"); i.put_xwzc9p$(vt, St); var Ct = se().FEATS_ANCESTRY_TENGU, Et = this.getFeatInformation_0(t, "feats_ancestry_tengu"); i.put_xwzc9p$(Ct, Et); var At = se().FEATS_HERITAGE_HUMAN, bt = this.getFeatInformation_0(t, "feats_heritage_human"); i.put_xwzc9p$(At, bt); var It = se().FEATS_HERITAGE_HALFLING, wt = this.getFeatInformation_0(t, "feats_heritage_halfling"); i.put_xwzc9p$(It, wt); var Lt = se().FEATS_HERITAGE_DWARF, Tt = this.getFeatInformation_0(t, "feats_heritage_dwarf"); i.put_xwzc9p$(Lt, Tt); var kt = se().FEATS_HERITAGE_ELF, Rt = this.getFeatInformation_0(t, "feats_heritage_elf"); i.put_xwzc9p$(kt, Rt); var Pt = se().FEATS_HERITAGE_GNOME, Mt = this.getFeatInformation_0(t, "feats_heritage_gnome"); i.put_xwzc9p$(Pt, Mt); var Nt = se().FEATS_HERITAGE_GOBLIN, Dt = this.getFeatInformation_0(t, "feats_heritage_goblin"); i.put_xwzc9p$(Nt, Dt); var xt = se().FEATS_HERITAGE_HOBGOBLIN, zt = this.getFeatInformation_0(t, "feats_heritage_hobgoblin"); i.put_xwzc9p$(xt, zt); var Ot = se().FEATS_HERITAGE_LESHY, Ft = this.getFeatInformation_0(t, "feats_heritage_leshy"); i.put_xwzc9p$(Ot, Ft); var Bt = se().FEATS_HERITAGE_LIZARDFOLK, jt = this.getFeatInformation_0(t, "feats_heritage_lizardfolk"); i.put_xwzc9p$(Bt, jt); var Ht = se().FEATS_HERITAGE_SHOONY, qt = this.getFeatInformation_0(t, "feats_heritage_shoony"); i.put_xwzc9p$(Ht, qt); var Ut = se().FEATS_HERITAGE_VERSATILE, Gt = this.getFeatInformation_0(t, "feats_heritage_versatile"); i.put_xwzc9p$(Ut, Gt); var Wt = se().FEATS_HERITAGE_CATFOLK, Yt = this.getFeatInformation_0(t, "feats_heritage_catfolk"); i.put_xwzc9p$(Wt, Yt); var Vt = se().FEATS_HERITAGE_KOBOLD, Kt = this.getFeatInformation_0(t, "feats_heritage_kobold"); i.put_xwzc9p$(Vt, Kt); var Xt = se().FEATS_HERITAGE_ORC, Jt = this.getFeatInformation_0(t, "feats_heritage_orc"); i.put_xwzc9p$(Xt, Jt); var Zt = se().FEATS_HERITAGE_RATFOLK, Qt = this.getFeatInformation_0(t, "feats_heritage_ratfolk"); i.put_xwzc9p$(Zt, Qt); var te = se().FEATS_HERITAGE_TENGU, ee = this.getFeatInformation_0(t, "feats_heritage_tengu"); i.put_xwzc9p$(te, ee); var ie = se().FEATS_HERITAGE_ANDROID, ae = this.getFeatInformation_0(t, "feats_heritage_android"); i.put_xwzc9p$(ie, ae); var re = se().FEATS_HERITAGE_FETCHLING, ne = this.getFeatInformation_0(t, "feats_heritage_fetchling"); i.put_xwzc9p$(re, ne); var oe = se().FEATS_HERITAGE_FLESHWARP, le = this.getFeatInformation_0(t, "feats_heritage_fleshwarp"); i.put_xwzc9p$(oe, le); var ce = se().FEATS_HERITAGE_KITSUNE, pe = this.getFeatInformation_0(t, "feats_heritage_kitsune"); i.put_xwzc9p$(ce, pe); var he = se().FEATS_HERITAGE_SPRITE, de = this.getFeatInformation_0(t, "feats_heritage_sprite"); i.put_xwzc9p$(he, de); var ue = se().FEATS_HERITAGE_STRIX, _e = this.getFeatInformation_0(t, "feats_heritage_strix"); i.put_xwzc9p$(ue, _e); var fe = se().FEATS_ANCESTRY_ANDROID, ye = this.getFeatInformation_0(t, "feats_ancestry_android"); i.put_xwzc9p$(fe, ye); var me = se().FEATS_ANCESTRY_FETCHLING, $e = this.getFeatInformation_0(t, "feats_ancestry_fetchling"); i.put_xwzc9p$(me, $e); var ge = se().FEATS_ANCESTRY_FLESHWARP, ve = this.getFeatInformation_0(t, "feats_ancestry_fleshwarp"); i.put_xwzc9p$(ge, ve); var Se = se().FEATS_ANCESTRY_KITSUNE, Ce = this.getFeatInformation_0(t, "feats_ancestry_kitsune"); i.put_xwzc9p$(Se, Ce); var Ee = se().FEATS_ANCESTRY_SPRITE, Ae = this.getFeatInformation_0(t, "feats_ancestry_sprite"); i.put_xwzc9p$(Ee, Ae); var be = se().FEATS_ANCESTRY_STRIX, Ie = this.getFeatInformation_0(t, "feats_ancestry_strix"); i.put_xwzc9p$(be, Ie); var we = se().FEATS_ANCESTRY_AZARKETI, Le = this.getFeatInformation_0(t, "feats_ancestry_azarketi"); i.put_xwzc9p$(we, Le); var Te = se().FEATS_HERITAGE_AZARKETI, ke = this.getFeatInformation_0(t, "feats_heritage_azarketi"); i.put_xwzc9p$(Te, ke); var Re = se().FEATS_ANCESTRY_ANADI, Pe = this.getFeatInformation_0(t, "feats_ancestry_anadi"); i.put_xwzc9p$(Re, Pe); var Me = se().FEATS_HERITAGE_ANADI, Ne = this.getFeatInformation_0(t, "feats_heritage_anadi"); i.put_xwzc9p$(Me, Ne); var De = se().FEATS_ANCESTRY_CONRASU, xe = this.getFeatInformation_0(t, "feats_ancestry_conrasu"); i.put_xwzc9p$(De, xe); var ze = se().FEATS_HERITAGE_CONRASU, Oe = this.getFeatInformation_0(t, "feats_heritage_conrasu"); i.put_xwzc9p$(ze, Oe); var Fe = se().FEATS_ANCESTRY_GNOLL, Be = this.getFeatInformation_0(t, "feats_ancestry_gnoll"); i.put_xwzc9p$(Fe, Be); var je = se().FEATS_HERITAGE_GNOLL, He = this.getFeatInformation_0(t, "feats_heritage_gnoll"); i.put_xwzc9p$(je, He); var qe = se().FEATS_ANCESTRY_GOLOMA, Ue = this.getFeatInformation_0(t, "feats_ancestry_goloma"); i.put_xwzc9p$(qe, Ue); var Ge = se().FEATS_HERITAGE_GOLOMA, We = this.getFeatInformation_0(t, "feats_heritage_goloma"); i.put_xwzc9p$(Ge, We); var Ye = se().FEATS_ANCESTRY_GRIPPLI, Ve = this.getFeatInformation_0(t, "feats_ancestry_grippli"); i.put_xwzc9p$(Ye, Ve); var Ke = se().FEATS_HERITAGE_GRIPPLI, Xe = this.getFeatInformation_0(t, "feats_heritage_grippli"); i.put_xwzc9p$(Ke, Xe); var Je = se().FEATS_ANCESTRY_SHISK, Ze = this.getFeatInformation_0(t, "feats_ancestry_shisk"); i.put_xwzc9p$(Je, Ze); var Qe = se().FEATS_HERITAGE_SHISK, ti = this.getFeatInformation_0(t, "feats_heritage_shisk"); i.put_xwzc9p$(Qe, ti); var ei = se().FEATS_INVENTOR, ii = this.getFeatInformation_0(t, "feats_class_inventor"); i.put_xwzc9p$(ei, ii); var ai = se().FEATS_GUNSLINGER, ri = this.getFeatInformation_0(t, "feats_class_gunslinger"); i.put_xwzc9p$(ai, ri); var ni = se().FEATS_HERITAGE_AUTOMATON, oi = this.getFeatInformation_0(t, "feats_heritage_automaton"); i.put_xwzc9p$(ni, oi); var si = se().FEATS_ANCESTRY_AUTOMATON, li = this.getFeatInformation_0(t, "feats_ancestry_automaton"); i.put_xwzc9p$(si, li); var ci = se().FEATS_HERITAGE_POPPET, pi = this.getFeatInformation_0(t, "feats_heritage_poppet"); i.put_xwzc9p$(ci, pi); var hi = se().FEATS_ANCESTRY_POPPET, di = this.getFeatInformation_0(t, "feats_ancestry_poppet"); i.put_xwzc9p$(hi, di); var ui = se().FEATS_GENERAL, _i = this.getFeatInformation_0(t, "feats_general"); i.put_xwzc9p$(ui, _i); var fi = se().FEATS_ARCHETYPE, yi = this.getFeatInformation_0(t, "feats_archetype"); i.put_xwzc9p$(fi, yi); var mi = c(); for (e = o(i.get_11rb$(se().FEATS_GENERAL)).keys.iterator(); e.hasNext();) { var $i = e.next(), gi = o(i.get_11rb$(se().FEATS_GENERAL)).get_11rb$($i); _(o(gi).getTraits(), "Skill") && mi.put_xwzc9p$($i, gi) } var vi = se().FEATS_SKILL; return i.put_xwzc9p$(vi, mi), i }, b6.prototype.getFeatInformation_0 = function (t, i) { var a, r, n, l, p, h, u, _, f, y, m, $, g, S, C, E, I = c(), w = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$(i)); for (a = 0; a !== w.length; ++a) { var L = w[a], T = "string" == typeof (r = L[Zs().COLUMN_ID]) ? r : d(), k = Cq(T); k.name = "string" == typeof (n = L[Sq().COLUMN_NAME]) ? n : d(); try { var R = "string" == typeof (l = L[Sq().COLUMN_LEVEL]) ? l : d(); R.length > 0 && (k.level = V(R)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } k.traits = V9().getNullStringIfEmpty_s8jyv4$(L[Sq().COLUMN_TRAITS]); try { var P = "string" == typeof (p = L[Sq().COLUMN_ACTIONS]) ? p : d(); P.length > 0 && (k.action = V(P)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } try { var M = "string" == typeof (h = L[Sq().COLUMN_SELECTABLE]) ? h : d(); M.length > 0 && (k.selectable = V(M)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } var N = "string" == typeof (u = L[Sq().COLUMN_REQ_ABILITIES]) ? u : d(); if (N.length > 0) { k.hashMapRequiredAbilityScores = c(); var D = b(v(N, ["&"])); for (_ = 0; _ !== D.length; ++_) { var x = D[_], z = b(v(x, [""])); try { var O = V(z[0]), F = V(z[1]); o(k.hashMapRequiredAbilityScores).put_xwzc9p$(O, F) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } } } var B = "string" == typeof (f = L[Sq().COLUMN_PROF_TRAINED]) ? f : d(), j = "string" == typeof (y = L[Sq().COLUMN_PROF_EXPERT]) ? y : d(), H = "string" == typeof (m = L[Sq().COLUMN_PROF_MASTER]) ? m : d(), q = "string" == typeof ($ = L[Sq().COLUMN_PROF_LEGENDARY]) ? $ : d(); this.addFeatReqTraining_0(k, B, 2), this.addFeatReqTraining_0(k, j, 4), this.addFeatReqTraining_0(k, H, 6), this.addFeatReqTraining_0(k, q, 8); try { var U = "string" == typeof (g = L[Sq().COLUMN_PROF_MAGIC]) ? g : d(); U.length > 0 && (k.profMagic = V(U)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } try { var G = "string" == typeof (S = L[Sq().COLUMN_PET]) ? S : d(); G.length > 0 && (k.pet = V(G)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } var W = "string" == typeof (C = L[Sq().COLUMN_REQ_FEATS]) ? C : d(); W.length > 0 && (k.reqFeats = b(v(W, ["&"]))); var Y = "string" == typeof (E = L[Sq().COLUMN_REQ_SPECIALS]) ? E : d(); Y.length > 0 && (k.reqSpecials = b(v(Y, ["&"]))), k.textDescription = V9().getNonNullString_4w9ihe$(k.textDescription, L[Sq().COLUMN_TEXT_DESCRIP]), k.src = V9().getNonNullString_4w9ihe$(k.src, L[Sq().COLUMN_SRC]), k.url = V9().getNonNullString_4w9ihe$(k.url, L[Sq().COLUMN_URL]), I.put_xwzc9p$(T, k) } return t.setLoaded_61zpoe$(i), I }, b6.prototype.addFeatReqTraining_0 = function (t, e, i) { var a; if (e.length > 0) { null == t.hashMapRequiredProficiences && (t.hashMapRequiredProficiences = c()); var r = b(v(e, ["&"])); for (a = 0; a !== r.length; ++a) { var n = r[a]; o(t.hashMapRequiredProficiences).put_xwzc9p$(n, i) } } }, b6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var I6 = null; function w6() { return null === I6 && new b6, I6 } function L6() { R6() } function T6() { k6 = this } T6.prototype.getMaterialWeapons_hdf6ii$ = function (t) { var i, a, r, n, o, p = c(), h = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("items_materials_weapons")); for (i = 0; i !== h.length; ++i) { var u = h[i], _ = "string" == typeof (a = u[oh().COLUMN_NAME]) ? a : d(), f = new ah; try { var y = "string" == typeof (r = u[oh().COLUMN_LEVEL]) ? r : d(); y.length > 0 && (f.level = V(y)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var m = "string" == typeof (n = u[oh().COLUMN_REDUCES_BULK]) ? n : d(); m.length > 0 && (f.reducesBulk = V(m)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var $ = "string" == typeof (o = u[oh().COLUMN_BASE]) ? o : d(); $.length > 0 && (f.base = V($)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } f.name = _, f.traits = V9().getNonNullString_4w9ihe$(f.traits, u.traits), f.description = V9().getNonNullString_4w9ihe$(f.description, u[oh().COLUMN_DESCRIPTION]), f.src = V9().getNonNullString_4w9ihe$(f.src, u[oh().COLUMN_SRC]), f.url = V9().getNonNullString_4w9ihe$(f.url, u[oh().COLUMN_URL]), p.put_xwzc9p$(_, f) } return t.setLoaded_61zpoe$("items_materials_weapons"), p }, T6.prototype.getMaterialArmor_hdf6ii$ = function (t) { var i, a, r, n, o, p, h, u, _ = c(), f = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("items_materials_armor")); for (i = 0; i !== f.length; ++i) { var y = f[i], m = "string" == typeof (a = y[oh().COLUMN_NAME]) ? a : d(), $ = new ah; try { var g = "string" == typeof (r = y[oh().COLUMN_LEVEL]) ? r : d(); g.length > 0 && ($.level = V(g)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var v = "string" == typeof (n = y[oh().COLUMN_REDUCES_BULK]) ? n : d(); v.length > 0 && ($.reducesBulk = V(v)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var S = "string" == typeof (o = y[oh().COLUMN_STRENGTH_ADJ]) ? o : d(); S.length > 0 && ($.strengthAdj = V(S)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var C = "string" == typeof (p = y[oh().COLUMN_SPEED]) ? p : d(); C.length > 0 && ($.speed = V(C)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var E = "string" == typeof (h = y[oh().COLUMN_AC]) ? h : d(); E.length > 0 && ($.ac = V(E)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var b = "string" == typeof (u = y[oh().COLUMN_BASE]) ? u : d(); b.length > 0 && ($.base = V(b)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } $.name = m, $.traits = V9().getNonNullString_4w9ihe$($.traits, y.traits), $.description = V9().getNonNullString_4w9ihe$($.description, y[oh().COLUMN_DESCRIPTION]), $.src = V9().getNonNullString_4w9ihe$($.src, y[oh().COLUMN_SRC]), $.url = V9().getNonNullString_4w9ihe$($.url, y[oh().COLUMN_URL]), _.put_xwzc9p$(m, $) } return t.setLoaded_61zpoe$("items_materials_armor"), _ }, T6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var k6 = null; function R6() { return null === k6 && new T6, k6 } function P6() { D6() } function M6() { N6 = this } M6.prototype.getSkillActionSet_hdf6ii$ = function (t) { var i, a, r, n, o, c, p, h, u = new gK, _ = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("skill_actions")); for (i = 0; i !== _.length; ++i) { var f = _[i], y = new fK; y.name = "string" == typeof (a = f[$K().COLUMN_NAME]) ? a : d(), y.skill = "string" == typeof (r = f[$K().COLUMN_SKILL]) ? r : d(); try { var m = "string" == typeof (n = f[$K().COLUMN_TRAINED]) ? n : d(); m.length > 0 && (y.trained = Ct(m)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var $ = "string" == typeof (o = f[$K().COLUMN_ACTIONS]) ? o : d(); $.length > 0 && (y.actions = V($)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } y.traits = V9().getNonNullString_4w9ihe$(y.traits, f[$K().COLUMN_TRAITS]), y.description = "string" == typeof (c = f[$K().COLUMN_DESCRIPTION]) ? c : d(), y.src = "string" == typeof (p = f[$K().COLUMN_SRC]) ? p : d(), y.url = "string" == typeof (h = f[$K().COLUMN_URL]) ? h : d(), u.list.add_11rb$(y) } return u.createHashMap(), t.setLoaded_61zpoe$("skill_actions"), u }, M6.prototype.getBloodlines_hdf6ii$ = function (t) { var i, a, r, n, o, l, c, p, h, u, _, f, y, m, $, g, v, S, C, E, b, I, w = new QK, L = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("spells_bloodlines")); for (i = 0; i !== L.length; ++i) { var T = L[i], k = new KK; k.name = "string" == typeof (a = T[ZK().COLUMN_NAME]) ? a : d(); try { var R = "string" == typeof (r = T[ZK().COLUMN_SPELLLIST]) ? r : d(); R.length > 0 && (k.spellList = V(R)) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } k.skill1 = "string" == typeof (n = T[ZK().COLUMN_SKILL1]) ? n : d(), k.skill2 = "string" == typeof (o = T[ZK().COLUMN_SKILL2]) ? o : d(), k.sCantrip = "string" == typeof (l = T[ZK().COLUMN_SCANTRIP]) ? l : d(), k.s1st = "string" == typeof (c = T[ZK().COLUMN_S1ST]) ? c : d(), k.s2nd = "string" == typeof (p = T[ZK().COLUMN_S2ND]) ? p : d(), k.s3rd = "string" == typeof (h = T[ZK().COLUMN_S3RD]) ? h : d(), k.s4th = "string" == typeof (u = T[ZK().COLUMN_S4TH]) ? u : d(), k.s5th = "string" == typeof (_ = T[ZK().COLUMN_S5TH]) ? _ : d(), k.s6th = "string" == typeof (f = T[ZK().COLUMN_S6TH]) ? f : d(), k.s7th = "string" == typeof (y = T[ZK().COLUMN_S7TH]) ? y : d(), k.s8th = "string" == typeof (m = T[ZK().COLUMN_S8TH]) ? m : d(), k.s9th = "string" == typeof ($ = T[ZK().COLUMN_S9TH]) ? $ : d(), k.initialSpell = "string" == typeof (g = T[ZK().COLUMN_INITIALSPELL]) ? g : d(), k.advancedSpell = "string" == typeof (v = T[ZK().COLUMN_ADVANCEDSPELL]) ? v : d(), k.greaterSpell = "string" == typeof (S = T[ZK().COLUMN_GREATERSPELL]) ? S : d(), k.bloodMagic = "string" == typeof (C = T[ZK().COLUMN_BLOODMAGIC]) ? C : d(), k.description = "string" == typeof (E = T[ZK().COLUMN_DESCRIPTION]) ? E : d(), k.src = "string" == typeof (b = T[ZK().COLUMN_SRC]) ? b : d(), k.url = "string" == typeof (I = T[ZK().COLUMN_URL]) ? I : d(), w.list.add_11rb$(k) } return w.createHashMap(), t.setLoaded_61zpoe$("spells_bloodlines"), w }, M6.prototype.getDomainSet_hdf6ii$ = function (t) { var e, i, a, r, n = new nX, o = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("spells_domain")); for (e = 0; e !== o.length; ++e) { var s = o[e], l = new eX; l.name = "string" == typeof (i = s[rX().COLUMN_NAME]) ? i : d(), l.spell = "string" == typeof (a = s[rX().COLUMN_SPELL]) ? a : d(), l.advancedSpell = "string" == typeof (r = s[rX().COLUMN_ADVANCED_SPELL]) ? r : d(), n.list.add_11rb$(l) } return n.createHashMap(), t.setLoaded_61zpoe$("spells_domain"), n }, M6.prototype.getHellknightOrders_hdf6ii$ = function (t) { var i, a, r, n, o, c, p, h, u, _, f, y, m, $, g, S = new pX, C = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("other_hellknight_orders")); for (i = 0; i !== C.length; ++i) { var E = C[i], A = new oX; A.name = "string" == typeof (a = E[cX().COLUMN_NAME]) ? a : d(), A.lesserName = "string" == typeof (r = E[cX().COLUMN_LESSER_NAME]) ? r : d(); var b = "string" == typeof (n = E[cX().COLUMN_LESSER_ACTION]) ? n : d(); if (b.length > 0) try { A.lesserAction = V(b) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } if (A.lesserTraits = "string" == typeof (o = E[cX().COLUMN_LESSER_TRAITS]) ? o : d(), A.lesserDescription = "string" == typeof (c = E[cX().COLUMN_LESSER_DESCRIPTION]) ? c : d(), A.greaterName = "string" == typeof (p = E[cX().COLUMN_GREATER_NAME]) ? p : d(), (b = "string" == typeof (h = E[cX().COLUMN_GREATER_ACTION]) ? h : d()).length > 0) try { A.greaterAction = V(b) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } A.greaterTraits = "string" == typeof (u = E[cX().COLUMN_GREATER_TRAITS]) ? u : d(), A.greaterDescription = "string" == typeof (_ = E[cX().COLUMN_GREATER_DESCRIPTION]) ? _ : d(), A.description = "string" == typeof (f = E[cX().COLUMN_DESCRIPTION]) ? f : d(); var I = "string" == typeof (y = E[cX().COLUMN_WEAPON]) ? y : d(); if (I.length > 0) for (m = v(I, ["&"]).iterator(); m.hasNext();) { var w = m.next(); A.listWeapons.add_11rb$(w) } A.src = "string" == typeof ($ = E[cX().COLUMN_SRC]) ? $ : d(), A.url = "string" == typeof (g = E[cX().COLUMN_URL]) ? g : d(), S.list.add_11rb$(A) } return S.createHashMap(), t.setLoaded_61zpoe$("other_hellknight_orders"), S }, M6.prototype.getResearchFields_hdf6ii$ = function (t) { var e, i, a, r, n, o, s, l = new GK, c = "other_alchemist_research_fields", p = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$(c)); for (e = 0; e !== p.length; ++e) { var h = p[e], u = new jK; u.name = "string" == typeof (i = h.name) ? i : d(), u.field = "string" == typeof (a = h.field) ? a : d(), u.infusions = "string" == typeof (r = h.infusions) ? r : d(), u.potency = "string" == typeof (n = h.potency) ? n : d(), u.greaterField = "string" == typeof (o = h.greaterField) ? o : d(), u.perfection = "string" == typeof (s = h.perfection) ? s : d(), l.list.add_11rb$(u) } return l.createHashMap(), t.setLoaded_61zpoe$(c), l }, M6.prototype.getLanguageInformation_hdf6ii$ = function (t) { var i, a, r, n = c(), o = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("languages")); for (i = 0; i !== o.length; ++i) { var l = o[i], p = new fX, h = "string" == typeof (a = l[$X().COLUMN_NAME]) ? a : d(); p.spokenBy = V9().getNonNullString_4w9ihe$(p.spokenBy, l[$X().COLUMN_SPOKEN_BY]); var u = "string" == typeof (r = l[$X().COLUMN_TYPE]) ? r : d(); if (u.length > 0) try { p.type = V(u) } catch (t) { if (!e.isType(t, A)) throw t; s(t) } n.put_xwzc9p$(h, p) } return t.setLoaded_61zpoe$("languages"), n }, M6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var N6 = null; function D6() { return null === N6 && new M6, N6 } function x6() { F6() } function z6() { O6 = this } z6.prototype.getAnimalCompanions_hdf6ii$ = function (t) { var i, a, r, n, p, h, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k, R, P, M, N, D, x, z = c(), O = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("pets_animals")); for (i = 0; i !== O.length; ++i) { var F = O[i], B = new aY; B.name = "string" == typeof (a = F[oY().COLUMN_NAME]) ? a : d(), B.traits = V9().getNonNullString_4w9ihe$("", "string" == typeof (r = F.traits) ? r : d()), B.description = "string" == typeof (n = F[oY().COLUMN_DESCRIPTION]) ? n : d(), B.size = this.getIntIfNotNull_0(F, oY().COLUMN_SIZE), ("string" == typeof (p = F[oY().COLUMN_LARGER]) ? p : d()).length > 0 && (B.larger = !0); var j = new iY; j.name = "string" == typeof (h = F[oY().COLUMN_MELEE_1]) ? h : d(); try { var H = "string" == typeof (u = F[oY().COLUMN_MELEE_1_ACTION]) ? u : d(); H.length > 0 && (j.action = V(H)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var q = "string" == typeof (_ = F[oY().COLUMN_MELEE_1_DAM]) ? _ : d(); q.length > 0 && (j.damage = V(q)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } j.type = "string" == typeof (f = F[oY().COLUMN_MELEE_1_TYPE]) ? f : d(), B.listAnimalAttacks.add_11rb$(j); var U = "string" == typeof (y = F[oY().COLUMN_MELEE_2]) ? y : d(); if (U.length > 0) { (j = new iY).name = U; try { var G = "string" == typeof (m = F[oY().COLUMN_MELEE_2_ACTION]) ? m : d(); G.length > 0 && (j.action = V(G)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var W = "string" == typeof ($ = F[oY().COLUMN_MELEE_2_DAM]) ? $ : d(); W.length > 0 && (j.damage = V(W)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } j.type = "string" == typeof (g = F[oY().COLUMN_MELEE_2_TYPE]) ? g : d(), B.listAnimalAttacks.add_11rb$(j) } try { B.baseAbilities[0] = V("string" == typeof (v = F[oY().COLUMN_STR]) ? v : d()), B.baseAbilities[1] = V("string" == typeof (S = F[oY().COLUMN_DEX]) ? S : d()), B.baseAbilities[2] = V("string" == typeof (C = F[oY().COLUMN_CON]) ? C : d()), B.baseAbilities[3] = V("string" == typeof (E = F[oY().COLUMN_INT]) ? E : d()), B.baseAbilities[4] = V("string" == typeof (A = F[oY().COLUMN_WIS]) ? A : d()), B.baseAbilities[5] = V("string" == typeof (b = F[oY().COLUMN_CHA]) ? b : d()), B.ancestryHP = V("string" == typeof (I = F[oY().COLUMN_HP]) ? I : d()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } B.skill = "string" == typeof (w = F[oY().COLUMN_SKILL]) ? w : d(), B.senses = "string" == typeof (L = F[oY().COLUMN_SENSES]) ? L : d(); try { B.speed = V("string" == typeof (T = F[oY().COLUMN_SPEED]) ? T : d()), B.burrow = this.getIntIfNotNull_0(F, oY().COLUMN_BURROW), B.climb = this.getIntIfNotNull_0(F, oY().COLUMN_CLIMB), B.swim = this.getIntIfNotNull_0(F, oY().COLUMN_SWIM), B.fly = this.getIntIfNotNull_0(F, oY().COLUMN_FLY) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } B.special = V9().getNonNullString_4w9ihe$("", F[oY().COLUMN_SPECIAL]), B.support = "string" == typeof (k = F[oY().COLUMN_SUPPORT]) ? k : d(); var Y, K = "string" == typeof (R = F[oY().COLUMN_ADV_NAME]) ? R : d(); try { M = V("string" == typeof (P = F[oY().COLUMN_ADV_ACTION]) ? P : d()) } catch (t) { if (!e.isType(t, l)) throw t; s(t), M = 1 } Y = M; var X = "string" == typeof (N = F[oY().COLUMN_ADV_TRAITS]) ? N : d(), J = "string" == typeof (D = F[oY().COLUMN_ADV_DESC]) ? D : d(); B.advancedAction = cc(K, Y, X, J, 4), B.src = "string" == typeof (x = F[oY().COLUMN_SRC]) ? x : d(), B.url = V9().getNonNullString_4w9ihe$(Ic().BOOK_CRB, F[oY().COLUMN_URL]), o(B.advancedAction).url = B.url; var Z = B.name; z.put_xwzc9p$(Z, B) } return t.setLoaded_61zpoe$("pets_animals"), z }, z6.prototype.getAnimalSpecializations_hdf6ii$ = function (t) { var i, a, r, n, o, p = c(), h = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("pets_animal_specializations")); for (i = 0; i !== h.length; ++i) { var u = h[i], _ = new wY; _.name = "string" == typeof (a = u[oY().COLUMN_NAME]) ? a : d(), _.description = "string" == typeof (r = u[oY().COLUMN_DESCRIPTION]) ? r : d(), _.src = "string" == typeof (n = u[oY().COLUMN_SRC]) ? n : d(); var f = "string" == typeof (o = u.reqAdv) ? o : d(); if (f.length > 0) try { _.reqAdv = V(f) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } var y = _.name; p.put_xwzc9p$(y, _) } return t.setLoaded_61zpoe$("pets_animal_specializations"), p }, z6.prototype.getAnimalAdvancements_hdf6ii$ = function (t) { var e, i, a, r, n, o, s = c(), l = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("pet_animal_advancements")); for (e = 0; e !== l.length; ++e) { var p = l[e], h = new eY; h.ref = V("string" == typeof (i = p.ref) ? i : d()), h.name = "string" == typeof (a = p.name) ? a : d(), h.traits = V9().getNonNullString_4w9ihe$("", p.traits), h.description = "string" == typeof (r = p.description) ? r : d(), h.source = "string" == typeof (n = p.src) ? n : d(), h.url = "string" == typeof (o = p.url) ? o : d(); var u = h.ref; s.put_xwzc9p$(u, h) } return t.setLoaded_61zpoe$("pet_animal_advancements"), s }, z6.prototype.getFamiliarSpecifics_hdf6ii$ = function (t) { var i, a, r, n, p, h, u, _, f, y, m = c(), $ = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("pets_familiar_specific")); for (i = 0; i !== $.length; ++i) { var g = $[i], S = new jV; S.name = "string" == typeof (a = g.name) ? a : d(), S.source = "string" == typeof (r = g.src) ? r : d(), S.url = "string" == typeof (n = g.url) ? n : d(), S.traits = "string" == typeof (p = g.traits) ? p : d(); try { var C = "string" == typeof (h = g.req) ? h : d(); C.length > 0 && (S.req = V(C)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } for (var E = 0; E <= 7; E++) { var A = "gd" + E, b = "string" == typeof (u = g["g" + E]) ? u : d(), I = null == (_ = g[A]) || "string" == typeof _ ? _ : d(); null != I && 0 !== I.length || (I = null), b.length > 0 && S.addGrantedAbility_jyasbz$(b, I) } for (y = v("string" == typeof (f = g.special) ? f : d(), ["&"]).iterator(); y.hasNext();) { var w = y.next(); S.listSpecial.add_11rb$(w) } var L = o(S.name); m.put_xwzc9p$(L, S) } return t.setLoaded_61zpoe$("pets_familiar_specific"), m }, z6.prototype.getFamiliarAbilities_hdf6ii$ = function (t) { var i, a, r, n, o, p = c(), h = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("pets_familiar_abilities")); for (i = 0; i !== h.length; ++i) { var u = h[i], _ = new KY; _.name = "string" == typeof (a = u[ZY().COLUMN_NAME]) ? a : d(), _.reqs = V9().getNonNullString_4w9ihe$("", u[ZY().COLUMN_REQS]); var f = "string" == typeof (r = u.selectable) ? r : d(); f.length > 0 && (_.selectable = V(f)), _.description = "string" == typeof (n = u[ZY().COLUMN_DESCRIPTION]) ? n : d(), _.src = V9().getNonNullString_4w9ihe$(Ic().BOOK_CRB, u[ZY().COLUMN_SRC]); try { _.type = V("string" == typeof (o = u[ZY().COLUMN_TYPE]) ? o : d()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } var y = _.name; p.put_xwzc9p$(y, _) } return t.setLoaded_61zpoe$("pets_familiar_abilities"), p }, z6.prototype.getEidolonInformation_hdf6ii$ = function (t) { var i, a, r, n, o, p, h, u, _, f, y, m, $, g, S, C, E, A, b, I = c(), w = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("pets_eidolons")); for (i = 0; i !== w.length; ++i) { var L = w[i]; try { var T = new YY; T.name = "string" == typeof (a = L.name) ? a : d(), T.canbeSmall = Ct("string" == typeof (r = L.canbeSmall) ? r : d()), T.traits = V9().getNonNullString_4w9ihe$("", "string" == typeof (n = L.traits) ? n : d()), T.tradition = V("string" == typeof (o = L.tradition) ? o : d()); var k = v("string" == typeof (p = L.skills) ? p : d(), ["&"]); T.skill1 = k.get_za3lpa$(0), T.skill2 = k.get_za3lpa$(1), T.type1 = "string" == typeof (h = L.type1) ? h : d(), T.type2 = "string" == typeof (u = L.type2) ? u : d(); for (var R = v("string" == typeof (_ = L.array1) ? _ : d(), ["&"]), P = v("string" == typeof (f = L.array2) ? f : d(), ["&"]), M = 0; M <= 5; M++)T.array1.set_wxm5ur$(M, V(R.get_za3lpa$(M))), T.array2.set_wxm5ur$(M, V(P.get_za3lpa$(M))); T.ac1 = V("string" == typeof (y = L.ac1) ? y : d()), T.ac2 = V("string" == typeof (m = L.ac2) ? m : d()), T.dexcap1 = V("string" == typeof ($ = L.dexcap1) ? $ : d()), T.dexcap2 = V("string" == typeof (g = L.dexcap2) ? g : d()), T.senses = "string" == typeof (S = L.senses) ? S : d(), T.speed = V("string" == typeof (C = L.speed) ? C : d()), T.ability1 = "string" == typeof (E = L.ability1) ? E : d(), T.ability2 = "string" == typeof (A = L.ability2) ? A : d(), T.ability3 = "string" == typeof (b = L.ability3) ? b : d(); var N = T.name; I.put_xwzc9p$(N, T) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } return t.setLoaded_61zpoe$("pets_eidolons"), I }, z6.prototype.getIntIfNotNull_0 = function (t, i) { var a, r = "string" == typeof (a = t[i]) ? a : d(); if (r.length > 0) try { return V(r) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return 0 }, z6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var O6 = null; function F6() { return null === O6 && new z6, O6 } function B6() { q6() } function j6() { H6 = this, this.HASHMAP_SPECIAL_RESOURCES = g([$(BK().SPECIALS_FIGHTER, "specials_class_fighter"), $(BK().SPECIALS_ROGUE, "specials_class_rogue"), $(BK().SPECIALS_ROGUE_RACKETS, "specials_class_rogue_rackets"), $(BK().SPECIALS_CHAMPION, "specials_class_champion"), $(BK().SPECIALS_CHAMPION_REACTIONS, "specials_class_champion_reactions"), $(BK().SPECIALS_CHAMPION_CAUSES, "specials_class_champion_causes"), $(BK().SPECIALS_CHAMPION_TENETS, "specials_class_champion_tenets"), $(BK().SPECIALS_CHAMPION_DIVINE_ALLY, "specials_class_champion_divine_ally"), $(BK().SPECIALS_ALCHEMIST, "specials_class_alchemist"), $(BK().SPECIALS_ALCHEMIST_RESEARCH_FIELDS, "specials_class_alchemist_research_fields"), $(BK().SPECIALS_BARD, "specials_class_bard"), $(BK().SPECIALS_BARD_MUSES, "specials_class_bard_muses"), $(BK().SPECIALS_SORCERER, "specials_class_sorcerer"), $(BK().SPECIALS_CLERIC, "specials_class_cleric"), $(BK().SPECIALS_CLERIC_FONTS, "specials_class_cleric_fonts"), $(BK().SPECIALS_CLERIC_DOCTRINES, "specials_class_cleric_doctrines"), $(BK().SPECIALS_WIZARD, "specials_class_wizard"), $(BK().SPECIALS_WIZARD_THESES, "specials_class_wizard_theses"), $(BK().SPECIALS_RANGER, "specials_class_ranger"), $(BK().SPECIALS_RANGER_EDGES, "specials_class_ranger_edges"), $(BK().SPECIALS_BARBARIAN, "specials_class_barbarian"), $(BK().SPECIALS_BARBARIAN_INSTINCTS, "specials_class_barbarian_instincts"), $(BK().SPECIALS_BARBARIAN_INSTINCT_ANIMAL, "specials_class_barbarian_instinct_animal"), $(BK().SPECIALS_BARBARIAN_INSTINCT_DRAGON, "specials_class_barbarian_instinct_dragon"), $(BK().SPECIALS_DRUID, "specials_class_druid"), $(BK().SPECIALS_DRUID_ORDERS, "specials_class_druid_orders"), $(BK().SPECIALS_MONK, "specials_class_monk"), $(BK().SPECIALS_MAGUS, "specials_class_magus"), $(BK().SPECIALS_MAGUS_HYBRIDS, "specials_class_magus_hybrids"), $(BK().SPECIALS_SUMMONER, "specials_class_summoner"), $(BK().SPECIALS_SUMMONER_EIDOLONS, "specials_class_summoner_eidolons"), $(BK().SPECIALS_EIDOLON_ABILTIIES, "specials_eidolon_abilities"), $(BK().SPECIALS_ARCHETYPE_CATHARTIC_MAGE, "specials_archetype_cathartic_magic"), $(BK().SPECIALS_ARCHETYPE_SOULFORGER, "specials_archetype_soulforger"), $(BK().SPECIALS_INVESTIGATOR, "specials_class_investigator"), $(BK().SPECIALS_INVESTIGATOR_METHOLOGIES, "specials_class_investigator_methodologies"), $(BK().SPECIALS_ORACLE, "specials_class_oracle"), $(BK().SPECIALS_ORACLE_MYSTERIES, "specials_class_oracle_mysteries"), $(BK().SPECIALS_SWASHBUCKLER, "specials_class_swashbuckler"), $(BK().SPECIALS_SWASHBUCKLER_STYLES, "specials_class_swashbuckler_styles"), $(BK().SPECIALS_WITCH, "specials_class_witch"), $(BK().SPECIALS_WITCH_PATRONS, "specials_class_witch_patrons"), $(BK().SPECIALS_WITCH_LESSONS, "specials_class_witch_lessons"), $(BK().SPECIALS_WITCH_LESSONS_GREATER, "specials_class_witch_lessons_greater"), $(BK().SPECIALS_WITCH_LESSONS_MAJOR, "specials_class_witch_lessons_major"), $(BK().SPECIALS_WEAPON_GROUPS, "specials_weapon_groups"), $(BK().SPECIALS_ARMOR_GROUPS, "specials_armor_groups"), $(BK().SPECIALS_ARCANE_SCHOOLS, "specials_arcane_schools"), $(BK().SPECIALS_DOMAINS, "specials_domains"), $(BK().SPECIALS_UNIVERSAL, "specials_universal"), $(BK().SPECIALS_ACTIONS, "specials_actions"), $(BK().SPECIALS_INVENTOR, "specials_class_inventor"), $(BK().SPECIALS_INVENTOR_INNOVATIONS, "specials_class_inventor_innovations"), $(BK().SPECIALS_INVENTOR_MODIFICATIONS_ARMOR, "specials_class_inventor_modifications_armor"), $(BK().SPECIALS_INVENTOR_MODIFICATIONS_CONSTRUCT, "specials_class_inventor_modifications_construct"), $(BK().SPECIALS_INVENTOR_MODIFICATIONS_WEAPON, "specials_class_inventor_modifications_weapon"), $(BK().SPECIALS_INVENTOR_OFFENSIVE_BOOSTS, "specials_class_inventor_offensive_boosts"), $(BK().SPECIALS_AUTOMATON_ENHANCEMENTS, "specials_automaton_enhancements"), $(BK().SPECIALS_GUNSLINGER, "specials_class_gunslinger"), $(BK().SPECIALS_GUNSLINGER_DEEDS, "specials_class_gunslinger_deeds"), $(BK().SPECIALS_GUNSLINGER_DEEDS_ACTIONS, "specials_class_gunslinger_deeds_actions")]) } j6.prototype.getSpecialsHashMap_6eqso$ = function (t, i) { var a, r, n, p, h; if (!this.HASHMAP_SPECIAL_RESOURCES.containsKey_11rb$(i)) return c(); var u = "string" == typeof (a = this.HASHMAP_SPECIAL_RESOURCES.get_11rb$(i)) ? a : d(), _ = c(), f = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$(u)); for (r = 0; r !== f.length; ++r) { var y = f[r], m = HX(); m.name = "string" == typeof (n = y[jX().COLUMN_NAME]) ? n : d(); try { var $ = "string" == typeof (p = y[jX().COLUMN_LEVEL]) ? p : d(); $.length > 0 && (m.level = V($)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var g = "string" == typeof (h = y[jX().COLUMN_ACTIONS]) ? h : d(); g.length > 0 && (m.action = V(g)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } m.flags = V9().getNullStringIfEmpty_s8jyv4$(y[jX().COLUMN_TRAITS]), m.textDescription = V9().getNonNullString_4w9ihe$(m.textDescription, y[jX().COLUMN_TEXT_DESCRIP]), m.src = V9().getNonNullString_4w9ihe$(m.src, y[jX().COLUMN_SRC]), m.url = V9().getNonNullString_4w9ihe$(m.url, y[jX().COLUMN_URL]); var v = o(m.name); _.put_xwzc9p$(v, m) } return _ }, j6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var H6 = null; function q6() { return null === H6 && new j6, H6 } function U6() { Y6() } function G6() { W6 = this } G6.prototype.getSpells_hdf6ii$ = function (t) { var i, a, r, n, o, p, h, u, _, f, y, m, $, g = c(), v = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("spells")); for (i = 0; i !== v.length; ++i) { var S = v[i], C = new H0; C.name = "string" == typeof (a = S[G0().COLUMN_NAME]) ? a : d(); try { var E = "string" == typeof (r = S[G0().COLUMN_LEVEL]) ? r : d(); E.length > 0 && (C.level = V(E)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var A = "string" == typeof (n = S[G0().COLUMN_ACTIONS]) ? n : d(); A.length > 0 && (C.actions = V(A)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } C.type = V9().getNonNullString_4w9ihe$("", S[G0().COLUMN_TYPE]), C.traits = V9().getNonNullString_4w9ihe$(C.traits, S[G0().COLUMN_TRAITS]), C.traditions = V9().getNonNullString_4w9ihe$(C.traditions, S[G0().COLUMN_TRADITIONS]), C.cast = V9().getNonNullString_4w9ihe$(C.cast, S[G0().COLUMN_CAST]), C.description = V9().getNonNullString_4w9ihe$(C.description, S.description), C.descriptionHeightened = V9().getNonNullString_4w9ihe$(C.descriptionHeightened, S.description2), C.shortDes = V9().getNonNullString_4w9ihe$(C.shortDes, S[G0().COLUMN_SHORTDES]), C.src = V9().getNonNullString_4w9ihe$(C.src, S[G0().COLUMN_SRC]), C.url = V9().getNonNullString_4w9ihe$(C.url, S[G0().COLUMN_URL]), C.target = null == (o = S.target) || "string" == typeof o ? o : d(), C.duration = null == (p = S.duration) || "string" == typeof p ? p : d(), C.range = null == (h = S.range) || "string" == typeof h ? h : d(), C.save = null == (u = S.save) || "string" == typeof u ? u : d(), C.area = null == (_ = S.area) || "string" == typeof _ ? _ : d(), C.var1 = this.getNullIfEmpty_pdl1vj$(null == (f = S.var1) || "string" == typeof f ? f : d()), C.var2 = this.getNullIfEmpty_pdl1vj$(null == (y = S.var2) || "string" == typeof y ? y : d()), C.var3 = this.getNullIfEmpty_pdl1vj$(null == (m = S.var3) || "string" == typeof m ? m : d()), C.var4 = this.getNullIfEmpty_pdl1vj$(null == ($ = S.var4) || "string" == typeof $ ? $ : d()); var b = C.name; g.put_xwzc9p$(b, C) } return t.setLoaded_61zpoe$("spells"), g }, G6.prototype.getNullIfEmpty_pdl1vj$ = function (t) { return null == t || 0 === t.length ? null : t }, G6.prototype.getSpellList_6eqso$ = function (t, i) { var a, r, n, p, h = c(), _ = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$(i)); for (a = 0; a !== _.length; ++a) { var f = _[a], y = "string" == typeof (r = f[G0().COLUMN_NAME]) ? r : d(); try { var m = "string" == typeof (n = f[G0().COLUMN_LEVEL]) ? n : d(); if (m.length > 0) { var $ = V(m); if (!h.containsKey_11rb$($)) { var g = u(); h.put_xwzc9p$($, g) } y.length > 0 && o(h.get_11rb$($)).add_11rb$(y) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } t.setLoaded_61zpoe$(i); var v = c(); for (p = h.keys.iterator(); p.hasNext();) { var S = p.next(), C = wt(o(h.get_11rb$(S))); v.put_xwzc9p$(S, C) } return v }, G6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var W6 = null; function Y6() { return null === W6 && new G6, W6 } function V6() { e5() } function K6() { t5 = this } K6.prototype.getAllWeapons_hdf6ii$ = function (t) { var i, a, r, n, o, p, h, u, _, f, m, $, g, v, S, C, A, b, I, w = c(), L = "items_weapons", T = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$(L)); for (i = T, a = 0; a !== i.length; ++a) { var k = i[a], R = "string" == typeof (r = k[_1().COLUMN_NAME]) ? r : d(), P = g1(R); P.uniqueIdentiier = R; try { var M = "string" == typeof (n = k[_1().COLUMN_LEVEL]) ? n : d(); M.length > 0 && (P.itemLevel = V(M)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var N = "string" == typeof (o = k[_1().COLUMN_PRICE]) ? o : d(); N.length > 0 && (P.price = E(N)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var D = "string" == typeof (p = k[_1().COLUMN_WEAPONPROFICIENCY]) ? p : d(); D.length > 0 && (P.proficiencyType = V(D)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var x = "string" == typeof (h = k[_1().COLUMN_RANGED]) ? h : d(); x.length > 0 && (P.rangedType = V(x)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var z = "string" == typeof (u = k[_1().COLUMN_DAMAGE]) ? u : d(); z.length > 0 && (P.damage = V(z)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } P.damageType = V9().getNonNullString_4w9ihe$(P.damageType, k[_1().COLUMN_DAMAGETYPE]), P.range = V9().getNonNullString_4w9ihe$(P.range, k[_1().COLUMN_RANGE]), P.reload = V9().getNonNullString_4w9ihe$(P.reload, k[_1().COLUMN_RELOAD]), P.bulk = V9().getNonNullString_4w9ihe$(P.bulk, k[_1().COLUMN_BULK]), P.hands = V9().getNonNullString_4w9ihe$(P.hands, k[_1().COLUMN_HANDS]), P.group = V9().getNonNullString_4w9ihe$(P.group, k[_1().COLUMN_GROUP]), P.weaponTraits = V9().getNonNullString_4w9ihe$("", k[_1().COLUMN_WEAPONTRAITS]), P.description = V9().getNonNullString_4w9ihe$("", k.description), P.src = V9().getNonNullString_4w9ihe$(P.src, k[_1().COLUMN_SRC]), P.url = V9().getNonNullString_4w9ihe$(P.url, k[_1().COLUMN_URL]), w.put_xwzc9p$(R, P) } t.setLoaded_61zpoe$(L); var O = c(); for (L = "items_weapons_magic", _ = T = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$(L)), f = 0; f !== _.length; ++f) { var F = _[f], B = "string" == typeof (m = F[_1().COLUMN_NAME]) ? m : d(), H = g1(B); H.uniqueIdentiier = B; try { var q = "string" == typeof ($ = F[_1().COLUMN_LEVEL]) ? $ : d(); q.length > 0 && (H.itemLevel = V(q)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var U = "string" == typeof (g = F[_1().COLUMN_PRICE]) ? g : d(); U.length > 0 && (H.price = E(U)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } H.rune = V9().getNonNullString_4w9ihe$(H.rune, F.runes), H.identity = "string" == typeof (v = F[_1().COLUMN_IDENTITY]) ? v : d(), H.traits = V9().getNonNullString_4w9ihe$("", F[_1().COLUMN_TRAITS]); try { var G = "string" == typeof (S = F[_1().COLUMN_POTENCY]) ? S : d(); G.length > 0 && (H.potency = V(G)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var W = "string" == typeof (C = F[_1().COLUMN_STRIKING]) ? C : d(); W.length > 0 && (H.striking = V(W)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } try { var Y = "string" == typeof (A = F[_1().COLUMN_ACTION0]) ? A : d(); Y.length > 0 && (H.action0 = V(Y)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } H.action0desc = V9().getNullStringIfEmpty_s8jyv4$(F[_1().COLUMN_ACTION0DESC]); try { var K = "string" == typeof (b = F[_1().COLUMN_ACTION1]) ? b : d(); K.length > 0 && (H.action1 = V(K)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } H.action1desc = V9().getNullStringIfEmpty_s8jyv4$(F[_1().COLUMN_ACTION1DESC]), H.description = V9().getNonNullString_4w9ihe$(H.description, F[_1().COLUMN_DESCRIPTION]), H.src = V9().getNonNullString_4w9ihe$(H.src, F[_1().COLUMN_SRC]), H.url = V9().getNonNullString_4w9ihe$(H.url, F[_1().COLUMN_URL]), O.put_xwzc9p$(B, H) } for (t.setLoaded_61zpoe$(L), I = O.values.iterator(); I.hasNext();) { var X, J = I.next(), Z = J.identity, Q = (e.isType(X = w, y) ? X : d()).get_11rb$(Z); null != Q ? J.cloneValues_sm1ve4$(Q) : console.log("NULL WEAPON " + j(J.identity)) } return w.putAll_a2k3zr$(O), w }, K6.prototype.getTraitWeapons_hdf6ii$ = function (t) { var e, i, a, r, n, o = c(), s = V9().parseCSV_61zpoe$(t.getRawData_61zpoe$("traits")); for (e = 0; e !== s.length; ++e) { var l = s[e], p = new p1, h = "string" == typeof (i = l.name) ? i : d(); p.weaponTrait = ("string" == typeof (a = l.type) ? a : d()).length > 0, p.description = "string" == typeof (r = l.description) ? r : d(), p.url = "string" == typeof (n = l.url) ? n : d(), o.put_xwzc9p$(h, p) } return t.setLoaded_61zpoe$("traits"), o }, K6.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var X6, J6, Z6, Q6, t5 = null; function e5() { return null === t5 && new K6, t5 } function i5(t) { var i, a, r, s, l, p, h, _, f, y; _5(), this.mainActivity_0 = t, this.rollsEnabled_0 = !0, this.diceSizes_0 = new Int32Array([4, 6, 8, 10, 12, 20]), this.hashMapDiceButtons_0 = c(), this.totalDice_0 = 0, this.listDiceToRoll_0 = u(), this.diceTitle_0 = e.isType(i = document.getElementById("dice-title"), HTMLDivElement) ? i : d(), this.diceSummary_0 = e.isType(a = document.getElementById("dice-summary"), HTMLDivElement) ? a : d(), this.diceResult_0 = e.isType(r = document.getElementById("dice-result"), HTMLDivElement) ? r : d(), this.diceHistory_0 = e.isType(s = document.getElementById("dice-history"), HTMLDivElement) ? s : d(), this.canvasTotal_0 = e.isType(l = document.getElementById("canvas-total"), HTMLDivElement) ? l : d(), this.rollName_0 = "Free Roll", this.rollBonus_0 = 0, this.criticalMultiplier_0 = 1, this.currentRollMode_0 = n5(), this.attackDice_0 = new Co(pK().PROFICIENCY_UNARMED_ATTACKS, 0, 0, 1, 6, 0, aK(), 1, 8, ""), this.spellDice_0 = wo("1d6"), this.map_0 = 5, this.layoutAttack_0 = jlt().getDiv(), this.layoutAttackRolls_0 = jlt().getDiv(), this.buttonAttacks_0 = [Dlt(""), Dlt(""), Dlt("")], this.layoutDamage_0 = jlt().getDiv(), this.divPrecision_0 = jlt().getDiv(), this.buttonDamage = Dlt("Damage"), this.buttonCrit_0 = Dlt("Critical"), this.diceTitle_0.innerHTML = this.rollName_0, dice_initialize("340", "340"); var m = e.isType(p = document.getElementById("dice-buttons-0"), HTMLDivElement) ? p : d(), $ = e.isType(h = document.getElementById("dice-buttons-1"), HTMLDivElement) ? h : d(), g = e.isType(_ = document.getElementById("dice-buttons-roll"), HTMLDivElement) ? _ : d(); for (m.classList.add(B9().CSS_GRID_CONTAINER), f = this.diceSizes_0, y = 0; y !== f.length; ++y) { var v = f[y], S = Dlt("1d" + v); this.hashMapDiceButtons_0.put_xwzc9p$(v, S), S.buttonDiv.classList.add(B9().CSS_GRID_ITEM), S.buttonDiv.style.fontSize = "0.9em", m.appendChild(S.buttonDiv), S.buttonDiv.style.height = "2em", S.buttonDiv.addEventListener("click", f5(this, v)) } var C, E = Dlt("1d100"); this.hashMapDiceButtons_0.put_xwzc9p$(100, E), E.buttonDiv.classList.add(B9().CSS_GRID_ITEM), E.buttonDiv.style.fontSize = "0.9em", m.appendChild(E.buttonDiv), E.buttonDiv.style.height = "2em", E.buttonDiv.addEventListener("click", (C = this, function (t) { if (C.rollsEnabled_0) { var e = bo(1, 100); e.partOfD100 = !0, e.damageType = se().BONUS_TYPE_NAME_UNTYPED, C.listDiceToRoll_0.add_11rb$(e), (e = bo(1, 10)).damageType = se().BONUS_TYPE_NAME_UNTYPED, C.listDiceToRoll_0.add_11rb$(e), C.enableRollButtons_0(!1); var i = !C.mainActivity_0.playDiceSound; createRoll("1d100+1d10", '["#5F0000", "#5F0000"]', '["#FFFFFF", "#FFFFFF"]', i) } return n })); var A = Dlt("Reset"); A.buttonDiv.style.fontSize = "0.9em", $.appendChild(A.buttonDiv), g.appendChild(this.layoutAttack_0), this.layoutAttack_0.appendChild(this.divPrecision_0), this.layoutAttack_0.appendChild(this.layoutAttackRolls_0), this.layoutAttackRolls_0.classList.add(B9().CSS_GRID_CONTAINER); for (var b = 0; b <= 2; b++)this.buttonAttacks_0[b].buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.layoutAttackRolls_0.appendChild(this.buttonAttacks_0[b].buttonDiv), this.buttonAttacks_0[b].buttonDiv.addEventListener("click", y5(this, b)); this.buttonDamage.buttonDiv.addEventListener("click", function (t) { return function (e) { var i, a; if (t.rollsEnabled_0 && t.acceptableDiceSize_0(t.attackDice_0.diceSize)) { for (t.criticalMultiplier_0 = 1, t.resetDamageDiceMaps_0(), t.rollName_0 = "Damage Roll", t.addInDice_ybdshj$(t.attackDice_0.numDice, t.attackDice_0.diceSize, t.attackDice_0.damageType, !1), t.enableRollButtons_0(!1), i = t.attackDice_0.mapExtraDice.keys.iterator(); i.hasNext();) { var r = i.next(); for (a = o(t.attackDice_0.mapExtraDice.get_11rb$(r)).iterator(); a.hasNext();) { var s = a.next(); t.addInDice_ybdshj$(s.numDice, s.diceSize, r, !1) } } t.createRoll_0() } return n } }(this)), this.buttonCrit_0.buttonDiv.addEventListener("click", function (t) { return function (e) { var i, a; if (t.rollsEnabled_0 && t.acceptableDiceSize_0(t.attackDice_0.diceSize)) { if (t.criticalMultiplier_0 = 2, t.resetDamageDiceMaps_0(), t.rollName_0 = "Critical Roll", t.addInDice_ybdshj$(t.attackDice_0.numDice, t.attackDice_0.critDiceSize, t.attackDice_0.damageType, !1), t.attackDice_0.fatal && t.addInDice_ybdshj$(1, t.attackDice_0.critDiceSize, t.attackDice_0.damageType, !0), null != t.attackDice_0.deadlyBonus) { var r = t.attackDice_0.numDice - 1 | 0; r < 1 && (r = 1), t.addInDice_ybdshj$(r, o(t.attackDice_0.deadlyBonus), t.attackDice_0.damageType, !0) } for (t.enableRollButtons_0(!1), i = t.attackDice_0.mapExtraDice.keys.iterator(); i.hasNext();) { var s = i.next(); for (a = o(t.attackDice_0.mapExtraDice.get_11rb$(s)).iterator(); a.hasNext();) { var l = a.next(); t.addInDice_ybdshj$(l.numDice, l.diceSize, s, !1) } } t.createRoll_0() } return n } }(this)), this.layoutAttack_0.appendChild(this.layoutDamage_0), this.layoutDamage_0.classList.add(B9().CSS_GRID_CONTAINER), this.buttonDamage.buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.buttonCrit_0.buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.layoutDamage_0.appendChild(this.buttonDamage.buttonDiv), this.layoutDamage_0.appendChild(this.buttonCrit_0.buttonDiv), A.buttonDiv.addEventListener("click", function (t) { return function (e) { switch (t.enableRollButtons_0(!0), t.diceSummary_0.innerHTML = "&nbsp;", t.clear_0(), t.currentRollMode_0.name) { case "MODE_FREE": t.diceSummary_0.innerHTML = _5().DICE_NONE_0, t.listDiceToRoll_0.clear(); break; case "MODE_D20": t.listDiceToRoll_0.clear(), t.setUpD20Roll_bm4lxs$(t.rollName_0, t.rollBonus_0); break; case "MODE_SPELL": t.listDiceToRoll_0.clear(), t.setUpSpellDiceRoll_5woyrq$(t.spellDice_0, t.diceTitle_0.innerHTML); break; case "MODE_ATTACK": t.diceSummary_0.innerHTML = t.attackDice_0.getDamageString() }return n } }(this)), window.onRollCompletion = function (t) { return function (i, a) { var r, o; return t.enableRollButtons_0(!0), o = e.isArray(r = a) ? r : d(), t.parseRollResults_0(o), n } }(this) } function a5(t, e) { Lt.call(this), this.name$ = t, this.ordinal$ = e } function r5() { r5 = function () { }, X6 = new a5("MODE_D20", 0), J6 = new a5("MODE_ATTACK", 1), Z6 = new a5("MODE_FREE", 2), Q6 = new a5("MODE_SPELL", 3) } function n5() { return r5(), X6 } function o5() { return r5(), J6 } function s5() { return r5(), Z6 } function l5() { return r5(), Q6 } function c5(t, e, i) { return function (a) { var r; return t.toggle(), t.isChecked() ? e.addExtraDamageDice_vc39vg$(TX().RESISTANCE_PRECISION, i) : null != (r = e.mapExtraDice.get_11rb$(TX().RESISTANCE_PRECISION)) && r.clear(), n } } function p5(t, e, i, a, r, o, s) { return function (l) { return t.toggle(), t.isChecked() ? e.listEnabledPrecisionKeys.contains_11rb$(i) || e.listEnabledPrecisionKeys.add_11rb$(i) : e.listEnabledPrecisionKeys.remove_11rb$(i), s.attackDice_0 = e.getAttackDice_fha2vo$(a, r, o), s.diceSummary_0.innerHTML = s.attackDice_0.getDamageString(), s.mainActivity_0.getGuiUpdateControl().onWeaponAdded_21ghvs$(r, e), n } } function h5(t, e, i, a, r, o, s) { return function (l) { return t.toggle(), t.isChecked() ? e.listEnabledPrecisionKeys.contains_11rb$(i) || e.listEnabledPrecisionKeys.add_11rb$(i) : e.listEnabledPrecisionKeys.remove_11rb$(i), s.attackDice_0 = e.getAttackDice_fha2vo$(a, r, o), s.diceSummary_0.innerHTML = s.attackDice_0.getDamageString(), s.mainActivity_0.getGuiUpdateControl().onWeaponAdded_21ghvs$(r, e), n } } function d5() { u5 = this, this.DICE_TRAY_WIDTH = "360px", this.DICE_TYPE_CUSTOM = "Custom", this.DICE_NONE_0 = "Select dice using the buttons at the top" } a5.$metadata$ = { kind: p, simpleName: "ROLLMODE", interfaces: [Lt] }, a5.values = function () { return [n5(), o5(), s5(), l5()] }, a5.valueOf_61zpoe$ = function (t) { switch (t) { case "MODE_D20": return n5(); case "MODE_ATTACK": return o5(); case "MODE_FREE": return s5(); case "MODE_SPELL": return l5(); default: Tt("No enum constant dice.DiceUIControl.ROLLMODE." + t) } }, i5.prototype.enableRollButtons_0 = function (t) { var e; this.rollsEnabled_0 = t; for (var i = 0; i <= 2; i++)htt().addNonDupingClass_1fo023$(!t, this.buttonAttacks_0[i].buttonDiv, "div-button-disabled"); for (htt().addNonDupingClass_1fo023$(!t, this.buttonDamage.buttonDiv, "div-button-disabled"), htt().addNonDupingClass_1fo023$(!t, this.buttonCrit_0.buttonDiv, "div-button-disabled"), e = this.hashMapDiceButtons_0.values.iterator(); e.hasNext();) { var a = e.next(); htt().addNonDupingClass_1fo023$(!t, a.buttonDiv, "div-button-disabled") } }, i5.prototype.acceptableDiceSize_0 = function (t) { var e, i; for (e = this.diceSizes_0, i = 0; i !== e.length; ++i)if (e[i] === t) return !0; return !1 }, i5.prototype.setMode_0 = function (t) { switch (t.name) { case "MODE_D20": htt().setHidden_njr4nn$(this.layoutAttack_0, !1); break; case "MODE_ATTACK": htt().setHidden_njr4nn$(this.layoutAttack_0, !0); break; case "MODE_FREE": case "MODE_SPELL": htt().setHidden_njr4nn$(this.layoutAttack_0, !1) }this.currentRollMode_0 = t }, i5.prototype.setUpSpellDiceRoll_5woyrq$ = function (t, e) { this.spellDice_0 = t, this.setMode_0(l5()), this.diceTitle_0.innerHTML = e, this.resetDiceMaps_0(), this.enableRollButtons_0(!1), this.rollBonus_0 = t.flatBonus, this.rollName_0 = t.getDiceAndFlatAsString(), this.addInDice_ybdshj$(t.numDice, t.diceSize, se().BONUS_TYPE_NAME_UNTYPED, !1); var i = this.getDiceRollString_0(); 0 === i.length && (i = _5().DICE_NONE_0), this.diceSummary_0.innerHTML = t.getDiceAndFlatAsString(), this.createRoll_0() }, i5.prototype.setUpPetAttackRoll_f4fe7g$ = function (t, e, i, a) { var r; this.attackDice_0 = i, this.map_0 = i.getWeaponMap_7z7xgi$(e, !1), this.setMode_0(o5()), this.resetDiceMaps_0(), this.enableRollButtons_0(!0), this.diceTitle_0.innerHTML = a, this.setAttackButtonsAndDiceSummary_0(), this.divPrecision_0.innerHTML = ""; var s, l, c, p, h = t.getCharacterData().getCharacterLevel(); for (r = t.hashMapSneakAttackTracks.keys.iterator(); r.hasNext();) { var d = r.next(); if (_(d, "Hunter's Edge")) { var u = o(t.hashMapSneakAttackTracks.get_11rb$(d)), f = u.getDiceAtLevel_za3lpa$(h); if (null != f) { var y = new Met(u.precisionType + ": " + f.diceAsString); y.divWithLabel.style.marginLeft = "5em", this.divPrecision_0.appendChild(y.divWithLabel), y.divWithLabel.addEventListener("click", c5(y, i, f)) } } } if (BK().hasSpecialByLevel_o7aqax$(t, "Flurry", h)) { var m = new Met("Hunted Target?"); m.divWithLabel.style.marginLeft = "5em", this.divPrecision_0.appendChild(m.divWithLabel), m.divWithLabel.addEventListener("click", (s = m, l = i, c = t, p = this, function (t) { return s.toggle(), p.map_0 = l.getWeaponMap_7z7xgi$(c, s.isChecked()), p.setAttackButtonsAndDiceSummary_0(), n })) } }, i5.prototype.setUpAttackRoll_5o1jb$ = function (t, e, i) { var a, r, s, l, c, p = null != (a = t.managerWeapons.hashMapWeapons.get_11rb$(i.weaponName)) ? a : g1("Error"), h = e.getCharacterData().getCharacterLevel(); for (this.attackDice_0 = i.getAttackDice_fha2vo$(t, e, p), this.map_0 = this.attackDice_0.getWeaponMap_7z7xgi$(e, !1), this.setMode_0(o5()), this.resetDiceMaps_0(), this.enableRollButtons_0(!0), this.diceTitle_0.innerHTML = i.getWeaponFullName_umk5sj$(p, e), this.setAttackButtonsAndDiceSummary_0(), this.divPrecision_0.innerHTML = "", r = e.hashMapSneakAttackTracks.keys.iterator(); r.hasNext();) { var d = r.next(), u = o(e.hashMapSneakAttackTracks.get_11rb$(d)), _ = u.getDiceAtLevel_za3lpa$(h); if (null != _) { var f = new Met(u.precisionType + ": " + _.diceAsString); f.divWithLabel.style.marginLeft = "5em", this.divPrecision_0.appendChild(f.divWithLabel), i.listEnabledPrecisionKeys.contains_11rb$(d) && f.setChecked_6taknv$(!0), f.divWithLabel.addEventListener("click", p5(f, i, d, t, e, p, this)) } var y = u.getFlatBonusAtLevel_za3lpa$(h); if (0 !== y) { var m = new Met(u.precisionType + ": " + j(y)); m.divWithLabel.style.marginLeft = "5em", this.divPrecision_0.appendChild(m.divWithLabel), i.listEnabledPrecisionKeys.contains_11rb$(d) && m.setChecked_6taknv$(!0), m.divWithLabel.addEventListener("click", h5(m, i, d, t, e, p, this)) } } if (BK().hasSpecialByLevel_o7aqax$(e, "Flurry", h)) { var $ = new Met("Hunted Target?"); $.divWithLabel.style.marginLeft = "5em", this.divPrecision_0.appendChild($.divWithLabel), $.divWithLabel.addEventListener("click", (s = $, l = this, c = e, function (t) { return s.toggle(), l.map_0 = l.attackDice_0.getWeaponMap_7z7xgi$(c, s.isChecked()), l.setAttackButtonsAndDiceSummary_0(), n })) } }, i5.prototype.setAttackButtonsAndDiceSummary_0 = function () { this.buttonAttacks_0[0].buttonDiv.innerHTML = htt().getSignedValue_za3lpa$(this.attackDice_0.attackTotal), this.buttonAttacks_0[1].buttonDiv.innerHTML = htt().getSignedValue_za3lpa$(this.attackDice_0.attackTotal - this.map_0 | 0), this.buttonAttacks_0[2].buttonDiv.innerHTML = htt().getSignedValue_za3lpa$(this.attackDice_0.attackTotal - (2 * this.map_0 | 0) | 0), this.diceSummary_0.innerHTML = this.attackDice_0.getDamageString() }, i5.prototype.setUpD20Roll_bm4lxs$ = function (t, e) { this.setMode_0(n5()), this.resetDiceMaps_0(), this.enableRollButtons_0(!1), this.rollBonus_0 = e, this.rollName_0 = t, this.diceTitle_0.innerHTML = t + " " + htt().getSignedValue_za3lpa$(e), this.addInDice_ybdshj$(1, 20, se().BONUS_TYPE_NAME_UNTYPED, !1); var i = this.getDiceRollString_0(); 0 === i.length && (i = _5().DICE_NONE_0), this.diceSummary_0.innerHTML = i + htt().getSignedValue_za3lpa$(e), this.createRoll_0() }, i5.prototype.setUpFreeRoll = function () { this.setMode_0(s5()), this.resetDiceMaps_0(), this.listDiceToRoll_0.clear(), this.enableRollButtons_0(!0), this.rollBonus_0 = 0, this.rollName_0 = "Free Roll", this.diceTitle_0.innerHTML = this.rollName_0, this.diceResult_0.innerHTML = "&nbsp;", this.diceSummary_0.innerHTML = _5().DICE_NONE_0 }, i5.prototype.addInDice_ybdshj$ = function (t, e, i, a) { for (var r = 0; r < t; r++) { var n = bo(1, e); n.damageType = i, n.extraCritDice = a, this.listDiceToRoll_0.add_11rb$(n) } }, i5.prototype.resetDiceMaps_0 = function () { this.listDiceToRoll_0.clear() }, i5.prototype.resetDamageDiceMaps_0 = function () { this.listDiceToRoll_0.clear() }, i5.prototype.createRoll_0 = function () { var t = this.getDiceRollString_0(); if (t.length > 0) { var e = this.getDiceColorJsonString_0(), i = this.getLabelColorJsonString_0(); this.clear_0(); var a = !this.mainActivity_0.playDiceSound; createRoll(t, e, i, a) } }, i5.prototype.clear_0 = function () { this.diceResult_0.innerHTML = "&nbsp;", clear() }, i5.prototype.addToHashMapValue_0 = function (t, e, i) { if (t.containsKey_11rb$(e)) { var a = o(t.get_11rb$(e)) + i | 0; t.put_xwzc9p$(e, a) } else t.put_xwzc9p$(e, i) }, i5.prototype.parseRollResults_0 = function (t) { var i, a, r, n, s = 0, l = 0, p = "", h = "", d = c(); if (t.length === this.listDiceToRoll_0.size) { i = this.listDiceToRoll_0.size; for (var u = 0; u < i; u++) { var _ = this.listDiceToRoll_0.get_za3lpa$(u), f = _.diceSize, y = t[u]; _.partOfD100 && 100 === y && (y = 0), _.extraCritDice ? (l = l + y | 0, h.length > 0 && (p += " + "), h += y.toString() + "<span class='superscript-damage'>d" + f + "</span>", this.addToHashMapValue_0(d, _.damageType, y)) : (s = s + y | 0, p.length > 0 && (p += " + "), p += y.toString() + "<span class='superscript-damage'>d" + f + "</span>", this.addToHashMapValue_0(d, _.damageType, e.imul(y, this.criticalMultiplier_0))) } if (this.isD20Roll_0() && (this.canvasTotal_0.classList.add("fade"), window.setTimeout((n = this, function () { n.canvasTotal_0.classList.remove("fade") }), 2e3), this.canvasTotal_0.innerHTML = (s + l | 0).toString()), this.isDamageRoll_0()) { for (s = s + this.attackDice_0.flatBonus | 0, this.addToHashMapValue_0(d, this.attackDice_0.damageType, e.imul(this.attackDice_0.flatBonus, this.criticalMultiplier_0)), 0 !== this.attackDice_0.flatBonus && (p += " " + htt().getSignedValue_za3lpa$(this.attackDice_0.flatBonus)), a = this.attackDice_0.mapExtraDamages.keys.iterator(); a.hasNext();) { var m = a.next(), $ = o(this.attackDice_0.mapExtraDamages.get_11rb$(m)); s = s + $ | 0, this.addToHashMapValue_0(d, m, e.imul($, this.criticalMultiplier_0)), p += " " + htt().getSignedValue_za3lpa$($) } for (2 === this.criticalMultiplier_0 && (s = (s = 2 * s | 0) + l | 0, p = "<span class='warning-text'>Critical: 2x {</span>" + p + "<span class='warning-text'>}</span>", h.length > 0 && (p += "plus " + h)), p += "<br>", r = d.keys.iterator(); r.hasNext();) { var g = r.next(); p += o(d.get_11rb$(g)).toString() + this.attackDice_0.getTypeSpan_61zpoe$(g) + " " } } else 0 !== this.rollBonus_0 && (s = s + this.rollBonus_0 | 0, p += " " + htt().getSignedValue_za3lpa$(this.rollBonus_0)); p = (new Date).toLocaleTimeString() + " Your " + this.rollName_0 + ": " + s + "<br>" + p, this.diceResult_0.innerHTML = "TOTAL: " + s; var v = jlt().getDiv(); v.classList.add("dice-history-item"), v.innerHTML = p, this.diceHistory_0.insertBefore(v, this.diceHistory_0.firstChild), this.diceResult_0.classList.remove("warning-text"), this.diceResult_0.classList.remove("green-text"), this.isD20Roll_0() && (1 === t[0] ? this.diceResult_0.classList.add("warning-text") : 20 === t[0] && this.diceResult_0.classList.add("green-text")) } else console.log("ERROR WITH DICE ROLLS NOT MATCHING DICE RESULTS") }, i5.prototype.isDamageRoll_0 = function () { return m(this.rollName_0, "Damage Roll") || m(this.rollName_0, "Critical Roll") }, i5.prototype.isD20Roll_0 = function () { return 1 === this.listDiceToRoll_0.size && 20 === this.listDiceToRoll_0.get_za3lpa$(0).diceSize }, i5.prototype.getDiceRollString_0 = function () { var t, e = ""; for (this.totalDice_0 = 0, t = this.listDiceToRoll_0.iterator(); t.hasNext();) { var i = t.next(); this.totalDice_0 = this.totalDice_0 + i.numDice | 0, e.length > 0 && (e += "+"), e += i.diceAsString, i.diceColor = se().getColorFromDamageType_qug0s2$(i), i.labelColor = se().getLabelColorFromDamageType_61zpoe$(i.damageType) } return e }, i5.prototype.getDiceColorJsonString_0 = function () { var t, e = u(); for (t = this.listDiceToRoll_0.iterator(); t.hasNext();) { var i = t.next(); e.add_11rb$(i.diceColor) } return JSON.stringify(e) }, i5.prototype.getLabelColorJsonString_0 = function () { var t, e = u(); for (t = this.listDiceToRoll_0.iterator(); t.hasNext();) { var i = t.next(); e.add_11rb$(i.labelColor) } return JSON.stringify(e) }, d5.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var u5 = null; function _5() { return null === u5 && new d5, u5 } function f5(t, e) { return function (i) { if (t.rollsEnabled_0) { var a = "1d" + e, r = bo(1, e); r.damageType = se().BONUS_TYPE_NAME_UNTYPED, t.listDiceToRoll_0.add_11rb$(r), t.enableRollButtons_0(!1); var o = !t.mainActivity_0.playDiceSound; createRoll(a, '["#5F0000"]', '["#FFFFFF"]', o) } return n } } function y5(t, i) { return function (a) { return t.rollsEnabled_0 && (t.resetDiceMaps_0(), t.enableRollButtons_0(!1), t.rollName_0 = "Attack Roll", t.rollBonus_0 = t.attackDice_0.attackTotal - e.imul(i, t.map_0) | 0, t.addInDice_ybdshj$(1, 20, se().BONUS_TYPE_NAME_UNTYPED, !1), t.createRoll_0()), n } } function m5(t, i) { var a; this.mainActivity = t, this.targetPlayerID = i, this.peer = null, this.targetPlayer = null, this.peerID = this.mainActivity.getGuiUpdateControl().getPlatformUUID(), this.closing = !1, window.peerID = this.peerID, this.peer = new Peer(peerID), console.log(this.peer), this.peer.on("open", (a = this, function (t) { console.log("ID: " + j(a.peer.id)), B9().setPreferenceString_puj7f4$(B9().PREFERENCE_PEER_ID, a.peerID), a.join() })), this.peer.on("connection", g5), this.peer.on("disconnected", function (t) { return function () { console.log("Connection lost. Please reconnect"), t.peer.reconnect() } }(this)), this.peer.on("close", function (t) { return function () { t.targetPlayer = null, console.log("Connection destroyed") } }(this)), this.peer.on("error", function (t) { return function (i) { var a; console.log(i); var r = localStorage.getItem(B9().PREFERENCE_CONNECT_IDS); if (null != r) try { console.log(r); var n = JSON.parse(r), o = bt([]); window.Object.keys(n).forEach(function (t, e) { return function (i) { m(i, t.targetPlayerID) || (e[i] = !1) } }(t, o)), console.log(o), r = JSON.stringify(o), localStorage.setItem(B9().PREFERENCE_CONNECT_IDS, r) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } _("string" == typeof (a = i.message) ? a : d(), "Could not connect to peer ") && t.mainActivity.setActiveBuildButtons() } }(this)) } function $5(t, e) { this.this$GMConnect = t, this.closure$characterBuild = e } function g5(t) { var e; t.on("open", (e = t, function () { e.send("Sender does not accept incoming connections"), window.setTimeout(function (t) { return function () { t.close() } }(e), 500) })) } function v5(t, e, i, a, r) { var n; this.mainActivity = t, this.dataControl = e, this.gmID = i, this.peerID_0 = a, this.pageLoaded_0 = r, this.peer = null, this.gamesMaster = null, this.closing = !1, this.listGMMirrorConnections = u(), window.peerID = this.peerID_0, this.peer = new Peer(peerID), console.log(this.peer), this.peer.on("open", (n = this, function (t) { B9().setPreferenceString_puj7f4$(B9().PREFERENCE_PEER_ID, n.peerID_0), n.join() })), this.peer.on("connection", function (t) { return function (e) { e.on("open", function (t, e) { return function () { t.listGMMirrorConnections.add_11rb$(e) } }(t, e)), e.on("data", function (t, e) { return function (i) { e.parseGMMirrorCommand_0(t, i) } }(e, t)), e.on("close", function (t, e) { return function () { t.listGMMirrorConnections.remove_11rb$(e) } }(t, e)) } }(this)), this.peer.on("disconnected", function (t) { return function () { console.log("Connection lost. Please reconnect"), t.close() } }(this)), this.peer.on("close", function (t) { return function () { t.close() } }(this)), this.peer.on("error", function (t) { return function (e) { var i; if (_("string" == typeof (i = e.message) ? i : d(), "Could not connect to peer ")) { if (console.log(e), t.pageLoaded_0) { localStorage.removeItem(B9().PREFERENCE_LAST_GM_TOOL_ID), localStorage.removeItem(B9().PREFERENCE_LAST_GM_TOOL_CHARACTER_ID); var a = t.mainActivity.getCharacterBuildForPathbuilderConnection_irwpta$(t); t.mainActivity.hashMapPathbuilderConnect.remove_11rb$(a) } t.mainActivity.setActiveBuildButtons(), t.setDivMessage_0("Unable to connect!"), t.setConnectionButtons_0(!1) } } }(this)) } function S5(t, e, i) { this.this$PathbuilderConnect = t, this.closure$characterData = e, this.closure$connection = i } function C5() { w5() } function E5() { I5 = this } function A5(t, e) { this.closure$mainActivity = t, this.closure$characterData = e } function b5(t, e) { this.closure$characterData = t, this.closure$mainActivity = e } i5.$metadata$ = { kind: p, simpleName: "DiceUIControl", interfaces: [] }, m5.prototype.join = function () { var t; null != this.targetPlayer && this.targetPlayer.close(), this.targetPlayer = this.peer.connect(this.targetPlayerID, bt([$("reliable", !0)])), this.targetPlayer.on("open", (t = this, function () { console.log("Successfully Connected to: " + j(t.targetPlayer.peer)), t.getSaveFile(), t.mainActivity.setActiveBuildButtons() })), this.targetPlayer.on("data", function (t) { return function (e) { console.log(e), t.parseReceivedData_0(e) } }(this)), this.targetPlayer.on("close", function (t) { return function () { console.log("Connection closed"), t.closing || t.attemptReconnected_0(0) } }(this)) }, m5.prototype.parseReceivedData_0 = function (t) { var i; try { var a = r4().decodeCommandBundle_61zpoe$("string" == typeof (i = t) ? i : d()); m(a.command, "getSaveFile") && (C8().importCustomFiles_vjt79s$(this.mainActivity, this.mainActivity.getDataControl(), a.exportBundle, !1), this.mainActivity.setGMConnectedCharacterData_s22eux$(this, o(a.exportBundle.characterData))) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, m5.prototype.getSaveFile = function () { var t = bt([$("command", "getSaveFile")]); this.targetPlayer.send(JSON.stringify(t)) }, $5.prototype.completed_asi2v1$ = function (t) { var i, a = C8().getExportBundle_moeyi0$(this.this$GMConnect.mainActivity, this.closure$characterBuild.getCharacterData(), t), r = kt.Default, n = r.encodeToString_tf03ej$(e.isType(i = ft(r.serializersModule, _t(tt(r9), [], !1)), yt) ? i : d(), a), o = bt([$("command", "updateSaveFile"), $("exportBundleString", n)]); this.this$GMConnect.targetPlayer.send(JSON.stringify(o)) }, $5.$metadata$ = { kind: p, interfaces: [J8] }, m5.prototype.updatePlayerSave_5btbp7$ = function (t) { if (this.isConnected()) { var e = new $5(this, t); this.mainActivity.fileManager.fileManagementCustomFiles.getAllCustomFiles_2dyq3g$(e) } else console.log("NOT CONNECTED") }, m5.prototype.close = function () { null != this.targetPlayer && (this.closing = !0, this.targetPlayer.close(), this.targetPlayer = null), null != this.peer && (this.peer.destroy(), this.peer = null) }, m5.prototype.attemptReconnected_0 = function (t) { var e, i; t < 5 && !this.isConnected() && (console.log("Attempting to reconnect"), this.mainActivity.setActiveBuildButtons(), this.join(), window.setTimeout((e = t, i = this, function () { i.attemptReconnected_0(e + 1 | 0) }), 2e3)) }, m5.prototype.isConnected = function () { var t; return null != this.targetPlayer && ("boolean" == typeof (t = this.targetPlayer.open) ? t : d()) }, m5.$metadata$ = { kind: p, simpleName: "GMConnect", interfaces: [] }, v5.prototype.setDivMessage_0 = function (t) { var i, a = null == (i = document.getElementById("message" + this.gmID)) || e.isType(i, HTMLDivElement) ? i : d(); null != a && (a.innerHTML = t) }, v5.prototype.setConnectionButtons_0 = function (t) { var i, a, r, n = null == (i = document.getElementById("buttonConnect" + this.gmID)) || e.isType(i, HTMLDivElement) ? i : d(), o = null == (a = document.getElementById("buttonDisconnect" + this.gmID)) || e.isType(a, HTMLDivElement) ? a : d(), s = null == (r = document.getElementById("buttonRemove" + this.gmID)) || e.isType(r, HTMLDivElement) ? r : d(); null != n && null != o && null != s && (htt().setHidden_njr4nn$(o, t), htt().setHidden_njr4nn$(n, !t), htt().setHidden_njr4nn$(s, !t)) }, v5.prototype.join = function () { if (null != this.gamesMaster && this.gamesMaster.close(), this.setDivMessage_0("Connecting......."), this.gamesMaster = this.peer.connect(this.gmID, bt([$("reliable", !0)])), null == this.gamesMaster) { var t = this.mainActivity.getCharacterBuildForPathbuilderConnection_irwpta$(this); return this.mainActivity.hashMapPathbuilderConnect.remove_11rb$(t), void this.mainActivity.showMessage_61zpoe$("Unable to connect. Make sure you don't already have this character open in a different browser tab.") } var e; this.gamesMaster.on("open", (e = this, function () { var t; e.setDivMessage_0("Successfully connected!"), e.setConnectionButtons_0(!0), e.mainActivity.setActiveBuildButtons(), B9().setPreferenceString_puj7f4$(B9().PREFERENCE_LAST_GM_TOOL_ID, "string" == typeof (t = e.gamesMaster.peer) ? t : d()), B9().setPreferenceString_puj7f4$(B9().PREFERENCE_LAST_GM_TOOL_CHARACTER_ID, e.peerID_0), e.updateGM() })), this.gamesMaster.on("data", function (t) { return function (e) { t.parseCommand_0(e) } }(this)), this.gamesMaster.on("close", function (t) { return function () { console.log("Connection closed"), t.closing || t.attemptReconnected_0(0) } }(this)) }, v5.prototype.close = function () { var t; for (this.closing = !0, null != this.gamesMaster && (this.gamesMaster.close(), this.gamesMaster = null), t = this.listGMMirrorConnections.iterator(); t.hasNext();) { var e = t.next(); e.close(), this.listGMMirrorConnections.remove_11rb$(e) } null != this.peer && (this.peer.destroy(), this.peer = null); var i = this.mainActivity.getCharacterBuildForPathbuilderConnection_irwpta$(this); this.mainActivity.hashMapPathbuilderConnect.remove_11rb$(i), localStorage.removeItem(B9().PREFERENCE_LAST_GM_TOOL_ID), localStorage.removeItem(B9().PREFERENCE_LAST_GM_TOOL_CHARACTER_ID), this.setDivMessage_0("Closed Connection"), this.setConnectionButtons_0(!1), this.mainActivity.setActiveBuildButtons() }, v5.prototype.attemptReconnected_0 = function (t) { var e, i; t < 5 && !this.isConnected_za3rmp$(this.gamesMaster) && (console.log("Attempting to reconnect"), this.setDivMessage_0("Attempting to reconnect!"), this.mainActivity.setActiveBuildButtons(), this.join(), window.setTimeout((e = t, i = this, function () { i.attemptReconnected_0(e + 1 | 0) }), 2e3)) }, v5.prototype.parseGMMirrorCommand_0 = function (t, i) { var a; try { var r = JSON.parse(i); switch (r.command) { case "getSaveFile": this.sendSaveFileToGMMirror_0(t); break; case "updateSaveFile": var n = this.mainActivity.getCharacterBuildForPathbuilderConnection_irwpta$(this), c = "string" == typeof (a = r.exportBundleString) ? a : d(), p = r4().decodeExportBundleFromString_61zpoe$(c); C8().importCustomFiles_vjt79s$(this.mainActivity, this.mainActivity.getDataControl(), p, !1), n.setCharacterData_g7kqbx$(o(p.characterData)), m(this.mainActivity.characterBuild, n) && (this.dataControl.buildCharacter_5btbp7$(n), this.mainActivity.getGuiUpdateControl().updateBuildFragment_n40yp2$(n), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(n)), this.updateGM(), this.mainActivity.autoSaveCharacterBuildInBackground_5btbp7$(n), this.mainActivity.setActiveBuildButtons() } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, v5.prototype.parseCommand_0 = function (t) { var i, a, r, n, c, p, h, u, _; try { var f = JSON.parse(t), y = f.command, $ = this.mainActivity.getCharacterBuildForPathbuilderConnection_irwpta$(this), g = $.getCharacterData(); if (null != y) switch (y) { case "updateHPDamage": var v = "number" == typeof (i = f.value) ? i : d(); $.getCharacterData().setDamageTaken_za3lpa$(v), m($, this.mainActivity.characterBuild) && this.mainActivity.getNavigationControl().sectionDefenses.updateHP(), this.mainActivity.autoSaveCharacterBuildInBackground_5btbp7$($); break; case "updateTempHP": var S = "number" == typeof (a = f.value) ? a : d(); $.getCharacterData().setTemporaryHP_za3lpa$(S), m($, this.mainActivity.characterBuild) && this.mainActivity.getNavigationControl().sectionDefenses.updateHP(), this.mainActivity.autoSaveCharacterBuildInBackground_5btbp7$($); break; case "updateConditionValue": var C = "string" == typeof (r = f.conditionName) ? r : d(), E = "number" == typeof (n = f.value) ? n : d(), A = this.dataControl.managerClasses.conditionInformationSet.hashMap.get_11rb$(C); null != A && (g.hashMapActiveConditions.put_xwzc9p$(C, E), g.listCurrentlyInactiveBuffs.contains_11rb$(C) || (this.dataControl.managerClasses.applyConditionEffect_q0qzv0$(!0, $, C, E), m($, this.mainActivity.characterBuild) && this.mainActivity.getGuiUpdateControl().onConditionChanged_kvhkcm$($, null, A)), this.mainActivity.autoSaveCharacterBuildInBackground_5btbp7$($)); break; case "removeCondition": var b = "string" == typeof (c = f.conditionName) ? c : d(), I = this.dataControl.managerClasses.conditionInformationSet.hashMap.get_11rb$(b); null != I && (g.listCurrentlyInactiveBuffs.contains_11rb$(b) ? g.listCurrentlyInactiveBuffs.remove_11rb$(b) : this.dataControl.managerClasses.applyConditionEffect_q0qzv0$(!1, $, b, -1), g.hashMapActiveConditions.remove_11rb$(b), m($, this.mainActivity.characterBuild) && this.mainActivity.getGuiUpdateControl().onConditionChanged_kvhkcm$($, null, I), this.mainActivity.autoSaveCharacterBuildInBackground_5btbp7$($)); break; case "addCondition": var w = "string" == typeof (p = f.conditionName) ? p : d(), L = this.dataControl.managerClasses.conditionInformationSet.hashMap.get_11rb$(w); if (null != L) { var T = 0; if (o(L).value && (T = 1), !g.hashMapActiveConditions.containsKey_11rb$(w)) { var k = g.hashMapActiveConditions, R = T; k.put_xwzc9p$(w, R), this.dataControl.managerClasses.applyConditionEffect_q0qzv0$(!0, $, L.condition, T) } m($, this.mainActivity.characterBuild) && this.mainActivity.getGuiUpdateControl().onConditionChanged_kvhkcm$($, null, L), this.mainActivity.autoSaveCharacterBuildInBackground_5btbp7$($) } break; case "updateCustomBuffValue": var P = "string" == typeof (h = f.customID) ? h : d(), M = "number" == typeof (u = f.value) ? u : d(); null != this.dataControl.managerClasses.customBuffSet.hashMap.get_11rb$(P) && g.hashMapActiveCustomBuffs.containsKey_11rb$(P) && g.hashMapActiveCustomBuffs.put_xwzc9p$(P, M), m($, this.mainActivity.characterBuild) && this.mainActivity.getGuiUpdateControl().onCustomBuffChanged_nwzcgj$($, null), this.mainActivity.autoSaveCharacterBuildInBackground_5btbp7$($); break; case "removeCustomBuff": var N = "string" == typeof (_ = f.customID) ? _ : d(), D = this.dataControl.managerClasses.customBuffSet.hashMap.get_11rb$(N); null != D && g.hashMapActiveCustomBuffs.containsKey_11rb$(N) && (g.listCurrentlyInactiveBuffs.contains_11rb$(N) || this.dataControl.managerClasses.applyCustomBuff_hqcflu$(!1, $, D), g.listCurrentlyInactiveBuffs.add_11rb$(N), m($, this.mainActivity.characterBuild) && this.mainActivity.getGuiUpdateControl().onCustomBuffChanged_nwzcgj$($, null), this.mainActivity.autoSaveCharacterBuildInBackground_5btbp7$($)) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, v5.prototype.updateGM = function () { if (this.isConnected_za3rmp$(this.gamesMaster)) { var t = this.mainActivity.getCharacterBuildForPathbuilderConnection_irwpta$(this), e = V4().getConnectSummaryString_nyd8tv$(this.dataControl, t, t.getCharacterData()); this.gamesMaster.send(e) } else console.log("NOT CONNECTED") }, v5.prototype.updateMirror = function () { var t; for (t = this.listGMMirrorConnections.iterator(); t.hasNext();) { var e = t.next(); this.isConnected_za3rmp$(e) && this.sendSaveFileToGMMirror_0(e) } }, S5.prototype.completed_asi2v1$ = function (t) { var e = C8().getExportBundle_moeyi0$(this.this$PathbuilderConnect.mainActivity, this.closure$characterData, t), i = r4().getConnectSaveFile_torya4$(e); this.closure$connection.send(i) }, S5.$metadata$ = { kind: p, interfaces: [J8] }, v5.prototype.sendSaveFileToGMMirror_0 = function (t) { var e = new S5(this, this.mainActivity.getCharacterBuildForPathbuilderConnection_irwpta$(this).getCharacterData(), t); this.mainActivity.fileManager.fileManagementCustomFiles.getAllCustomFiles_2dyq3g$(e) }, v5.prototype.isConnected_za3rmp$ = function (t) { var e; return null != t && ("boolean" == typeof (e = t.open) ? e : d()) }, v5.$metadata$ = { kind: p, simpleName: "PathbuilderConnect", interfaces: [] }, A5.prototype.accept = function () { w5().encodeAndEmail_q5lgdl$(this.closure$mainActivity, this.closure$characterData) }, A5.$metadata$ = { kind: p, interfaces: [Vet] }, E5.prototype.checkCustomAndContinue_q5lgdl$ = function (t, e) { this.isCustom_0(t.getDataControl(), e) ? Xet(!0, "This character uses selections only available in fully upgraded apps and cannot be opened in the free version. Continue?", new A5(t, e)).show() : this.encodeAndEmail_q5lgdl$(t, e) }, E5.prototype.isCustom_0 = function (t, i) { var a, r; try { if (!i.hashMapCustomFeatChoices.isEmpty()) return !0; if (t.managerBackgrounds.getBackground_g7kqbx$(i).databaseID > -1) return !0; for (a = i.listPlayerEquipment.iterator(); a.hasNext();) { var n = a.next(); try { var c = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$(n.name); if (o(c).databaseID > -1) return !0 } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } if (!i.hashMapActiveCustomBuffs.isEmpty()) return !0; var p = t.managerArmor.getWornArmorInformation_g7kqbx$(i); if (null != p && p.databaseID > -1) return !0; for (r = i.listPlayerWeapons.iterator(); r.hasNext();) { var h = r.next(), d = t.managerWeapons.hashMapWeapons.get_11rb$(h.weaponName); if (null != d && d.databaseID > -1) return !0 } if (null != i.getPlayerShieldNew()) { var u = t.managerEquipment.hashMapShields.get_11rb$(o(i.getPlayerShieldNew()).shieldName); if (null != u && o(u).databaseID > -1) return !0 } if (null != i.getDualClass()) return !0; if (i.isFreeArchetype()) return !0; if (!i.isAddLevelToProficiency()) return !0 } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return !1 }, b5.prototype.completed_asi2v1$ = function (t) { var i = this.closure$characterData.getFolderID(); this.closure$characterData.setFolderID_pdl1vj$(null); var a, r = C8().getExportBundle_moeyi0$(this.closure$mainActivity, this.closure$characterData, t), n = kt.Default, o = n.encodeToString_tf03ej$(e.isType(a = ft(n.serializersModule, _t(tt(r9), [], !1)), yt) ? a : d(), r), s = bt([$("id", this.closure$characterData.getEmailedBuildID()), $("build", o), $("version", 121)]), l = JSON.stringify(s); this.closure$mainActivity.masterDataHandler.postBuild_pegsdb$(l, this.closure$characterData), this.closure$characterData.setFolderID_pdl1vj$(i) }, b5.$metadata$ = { kind: p, interfaces: [J8] }, E5.prototype.encodeAndEmail_q5lgdl$ = function (t, e) { Ntt().addSpinner_61zpoe$("Uploading Character"); var i = new b5(e, t); t.fileManager.fileManagementCustomFiles.getAllCustomFiles_2dyq3g$(i) }, E5.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var I5 = null; function w5() { return null === I5 && new E5, I5 } function L5() { R5() } function T5() { k5 = this } T5.prototype.exportPDF_fhac18$ = function (t, i) { var a, r, n = i.getCharacterData(), o = n.getCharacterLevel(), c = bt([]); c.CharacterName = n.getCharacterName(), c.Ancestry_Heritage = this.getAncestryAndHertiage_0(t, i); var p = t.managerBackgrounds.getBackground_5btbp7$(i); c.Background = p.name, c.Class = n.getClassName(), c.Level = o.toString(), c.Alignment = n.getAlignment(), c.Languages = _l().getLanguagesAsString_5btbp7$(i), c.Deity = n.getDeity(), c.Age = n.getAge(), c.GenderPronouns = n.getGender(), c.Speed = t.managerEquipment.getSpeed_5btbp7$(i).toString(), c.MaxHP = t.managerClasses.getMaxHP_5btbp7$(i).toString(); var h = i.getPlayReportAbilityScores_sfkw43$(t), u = h.abilityScoresBuffed; c.STRENGTH = u[0].toString(), c.DEXTERITY = u[1].toString(), c.CONSTITUTION = u[2].toString(), c.INTELLIGENCE = u[3].toString(), c.WISDOM = u[4].toString(), c.CHARISMA = u[5].toString(); for (var _ = new Int32Array(6), f = 0; f <= 5; f++)_[f] = htt().getAbilityMod_za3lpa$(u[f]); c.STR = htt().getSignedValue_za3lpa$(_[0]), c.DEX = htt().getSignedValue_za3lpa$(_[1]), c.CON = htt().getSignedValue_za3lpa$(_[2]), c.INT = htt().getSignedValue_za3lpa$(_[3]), c.WIS = htt().getSignedValue_za3lpa$(_[4]), c.CHA = htt().getSignedValue_za3lpa$(_[5]), c.Resistances_Immunities = this.getResistances_0(t, i); var y = new O5; y.stampSkills_6p2r6k$(t, i, h, c), y.stampPerception_8v9pcl$(t, i, _, o, c), y.stampClassDC_8v9pcl$(t, i, _, o, c), y.stampSaves_xg5dte$(t, i, _, o, c), y.stampArmor_8v9pcl$(t, i, _, o, c), y.stampWeapons_25au06$(t, i, h, o, c), y.stampGeneralProficiencies_np1lp2$(t, i, o, c), (new z5).stampFeats_np1lp2$(t, i, o, c), (new x5).stampEquipment_kqphwh$(t, i, o, _, c), (new B5).stampSpells_25au06$(t, i, h, o, c); try { if (null != i.getCharacterData().getPortraitFilename()) { var m = e.isType(a = document.createElement("canvas"), HTMLCanvasElement) ? a : d(), $ = m.getContext("2d"), g = e.isType(r = document.getElementById("portrait"), HTMLImageElement) ? r : d(), v = g.width / g.height, E = C(S(150 * v)); m.width = E, m.height = 150, $.fillStyle = "white", $.fillRect(0, 0, E, 150), $.drawImage(g, 0, 0, E, 150), localStorage.setItem("portraitW", E.toString()), localStorage.setItem("portraitH", 150..toString()); var A = m.toDataURL("image/jpeg"); localStorage.setItem("portrait", A) } else localStorage.removeItem("portrait") } catch (t) { if (!e.isType(t, l)) throw t; localStorage.removeItem("portrait"), s(t) } localStorage.setItem("pdfObject", JSON.stringify(c)), window.open("pdf.html", "_blank") }, T5.prototype.getResistances_0 = function (t, e) { var i, a = ""; for (i = e.hashMapResistances.values.iterator(); i.hasNext();) { var r = i.next(); a.length > 0 && (a += ", "), a += t.managerClasses.getDamageResistance_qvxlip$(e, r) } return a }, T5.prototype.getAncestryAndHertiage_0 = function (t, e) { var i = e.getCharacterData().getAncestry(); return i += " (" + t.managerAncestry.getHeritageDisplayName_5btbp7$(e) + ")" }, T5.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var k5 = null; function R5() { return null === k5 && new T5, k5 } function P5(t, i, a) { var r, n, p, h, f, y, $, g, v, S, C, E, A, b, I, w, T, k, R, P, M; D5(), this.dataControl = t, this.characterBuild = i, this.characterData = a, this.jsonObjectParent = bt([]); try { this.jsonObjectParent.name = this.characterData.getCharacterName(), this.jsonObjectParent.class = this.characterData.getClassName(), null != this.characterData.getDualClass() && (this.jsonObjectParent.dualClass = this.characterData.getDualClass()), this.jsonObjectParent.level = this.characterData.getCharacterLevel(), this.jsonObjectParent.ancestry = this.characterData.getAncestry(), this.jsonObjectParent.heritage = this.dataControl.managerAncestry.getHeritageDisplayName_5btbp7$(this.characterBuild), this.jsonObjectParent.background = this.dataControl.managerBackgrounds.getBackground_5btbp7$(this.characterBuild).name, this.jsonObjectParent.alignment = this.characterData.getAlignment(), this.jsonObjectParent.gender = this.characterData.getGender(), this.jsonObjectParent.age = this.characterData.getAge(), this.jsonObjectParent.deity = this.characterData.getDeity(), this.jsonObjectParent.size = this.dataControl.managerAncestry.getAncestryTemplate_5btbp7$(this.characterBuild).size; var N = this.dataControl.managerClasses.getKeyAbilityRef_qll6wu$(this.characterBuild, 0, !1); this.jsonObjectParent.keyability = se().ARRAY_ABILITIES_SHORT[N].toLowerCase(), this.jsonObjectParent.languages = this.characterData.listLanguages; var D = bt([]); D.ancestryhp = this.dataControl.managerAncestry.getAncestryTemplate_5btbp7$(this.characterBuild).HP, D.classhp = this.characterBuild.getClassTemplate().hp, D.bonushp = this.dataControl.managerClasses.getBonusHP_5btbp7$(this.characterBuild), D.bonushpPerLevel = this.dataControl.managerClasses.getBonusHPPerLevel_5btbp7$(this.characterBuild); var x = this.dataControl.managerAncestry.getAncestryTemplate_5btbp7$(this.characterBuild).speed, z = this.dataControl.managerEquipment.getSpeed_5btbp7$(this.characterBuild) - x | 0; D.speed = x, D.speedBonus = z, this.jsonObjectParent.attributes = D; var O = this.characterBuild.getPlayReportAbilityScores_sfkw43$(this.dataControl); (D = bt([])).str = O.abilityScoresBuffed[0], D.dex = O.abilityScoresBuffed[1], D.con = O.abilityScoresBuffed[2], D.int = O.abilityScoresBuffed[3], D.wis = O.abilityScoresBuffed[4], D.cha = O.abilityScoresBuffed[5], this.jsonObjectParent.abilities = D, (D = bt([])).classDC = this.dataControl.managerClasses.getClassMasteryLevel_vy76y1$(this.characterBuild, 0), D.perception = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.fortitude = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.reflex = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.will = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_WILL)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.heavy = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_HEAVY_ARMOR)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.medium = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_MEDIUM_ARMOR)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.light = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_LIGHT_ARMOR)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.unarmored = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.advanced = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_ADVANCED_WEAPONS)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.martial = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_MARTIAL_WEAPONS)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.simple = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_SIMPLE_WEAPONS)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.unarmed = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.castingArcane = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_ARCANE)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.castingDivine = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_DIVINE)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.castingOccult = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_OCCULT)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.castingPrimal = o(this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_SPELLS_PRIMAL)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.acrobatics = o(this.characterBuild.getProficiency_61zpoe$(pK().ACROBATICS)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.arcana = o(this.characterBuild.getProficiency_61zpoe$(pK().ARCANA)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.athletics = o(this.characterBuild.getProficiency_61zpoe$(pK().ATHELTICS)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.crafting = o(this.characterBuild.getProficiency_61zpoe$(pK().CRAFTING)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.deception = o(this.characterBuild.getProficiency_61zpoe$(pK().DECEPTION)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.diplomacy = o(this.characterBuild.getProficiency_61zpoe$(pK().DIPLOMACY)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.intimidation = o(this.characterBuild.getProficiency_61zpoe$(pK().INTIMIDATION)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.medicine = o(this.characterBuild.getProficiency_61zpoe$(pK().MEDICINE)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.nature = o(this.characterBuild.getProficiency_61zpoe$(pK().NATURE)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.occultism = o(this.characterBuild.getProficiency_61zpoe$(pK().OCCULTISM)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.performance = o(this.characterBuild.getProficiency_61zpoe$(pK().PERFORMANCE)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.religion = o(this.characterBuild.getProficiency_61zpoe$(pK().RELIGION)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.society = o(this.characterBuild.getProficiency_61zpoe$(pK().SOCIETY)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.stealth = o(this.characterBuild.getProficiency_61zpoe$(pK().STEALTH)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.survival = o(this.characterBuild.getProficiency_61zpoe$(pK().SURVIVAL)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.thievery = o(this.characterBuild.getProficiency_61zpoe$(pK().THIEVERY)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), this.jsonObjectParent.proficiencies = D, this.jsonObjectParent.feats = this.getFeatsJson_0(this.characterBuild, this.characterData), this.jsonObjectParent.specials = this.getSpecialsJson_0(this.characterBuild, this.characterData); var F = u(); for (r = this.characterBuild.hashMapSkillProficiencies.keys.iterator(); r.hasNext();) { var B = r.next(); if (_(B, "Lore:")) { var j = u(), H = e.isType(n = this.characterBuild.getProficiency_61zpoe$(B), nK) ? n : d(); j.add_11rb$(L(B, "Lore: ", "")), j.add_11rb$(H.getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel())), F.add_11rb$(j) } } for (this.jsonObjectParent.lores = F, F = u(), p = this.characterBuild.getCharacterData().listPlayerEquipment.iterator(); p.hasNext();) { var q = p.next(), U = q.name, G = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(U); if (null != G) { var W = u(); W.add_11rb$(G.name), W.add_11rb$(q.quantity), F.add_11rb$(W) } } this.jsonObjectParent.equipment = F; var Y = bt([]), V = u(), K = u(), X = u(), J = u(); for (Y.trained = V, Y.expert = K, Y.master = X, Y.legendary = J, this.jsonObjectParent.specificProficiencies = Y, F = u(), h = this.characterBuild.getCharacterData().listPlayerWeapons.iterator(); h.hasNext();) { var Z = h.next(); F.add_11rb$(this.getWeaponJSONObject_0(Z, V, K, X, J)) } this.jsonObjectParent.weapons = F, (D = bt([])).pp = this.characterData.getPlatinum(), D.gp = this.characterData.getGold(), D.sp = this.characterData.getSilver(), D.cp = this.characterData.getCopper(), this.jsonObjectParent.money = D, F = u(); var Q = this.characterBuild.getCharacterData().getPlayerArmor(); for (m(Q.armorName, "Unarmored") || F.add_11rb$(this.getArmorJSONObject_0(Q, !0)), f = this.characterData.listStowedPlayerArmor.iterator(); f.hasNext();) { var tt = f.next(); F.add_11rb$(this.getArmorJSONObject_0(tt, !1)) } if (null != this.characterData.getPlayerShieldNew()) { var et = this.dataControl.managerArmor.getWornShieldInformation_5btbp7$(this.characterBuild); null != et && F.add_11rb$(this.getShieldJSONObject_0(et, !0)) } for (y = this.characterData.listStowedPlayerShields.iterator(); y.hasNext();) { var it = y.next(), at = this.dataControl.managerEquipment.hashMapShields.get_11rb$(it.shieldName); null != at && F.add_11rb$(this.getShieldJSONObject_0(at, !1)) } for (this.jsonObjectParent.armor = F, F = u(), $ = this.characterBuild.hashMapSpellCasters.values.iterator(); $.hasNext();) { var rt = $.next(); if (rt.level <= this.characterData.getCharacterLevel()) { (D = bt([])).name = rt.casterName, D.magicTradition = k0().ARRAY_SPELL_LISTS[rt.spellList].toLowerCase(), 1 === rt.typeCaster ? D.spellcastingType = "prepared" : D.spellcastingType = "spontaneous", D.ability = se().ARRAY_ABILITIES_SHORT[rt.castingAbilityRef].toLowerCase(); var nt = pK().ARRAY_SPELL_PROFICIENCIES[rt.spellList], ot = e.isType(g = this.characterBuild.getProficiency_61zpoe$(nt), nK) ? g : d(); D.proficiency = ot.getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel()), D.focusPoints = 0; var st = u(); if (0 === rt.typeCaster) { for (var lt = 0; lt <= 10; lt++) { var ct = rt.getSpontaneousSpellsMax_vux9f0$(this.characterData.getCharacterLevel(), lt); ct < 0 && (ct = 0), st.add_11rb$(ct) } D.spells = this.getSelectedSpellsForCaster_0(rt) } else { for (var pt = 0, ht = 0; ht <= 10; ht++) { var dt = rt.getSpellsRepetoire_bh8xs5$(this.characterBuild, this.characterData.getCharacterLevel(), ht); (dt = dt + this.getBonusSpellsPerDayPrepared_0(rt, ht) | 0) < 0 && (dt = 0), st.add_11rb$(dt), dt > 0 && (pt = ht + 1 | 0) } rt.knowsAllSpells ? D.spells = this.getSelectedSpellsForCaster_0(rt) : D.spells = this.getListKnownSpells_0(rt, pt) } D.perDay = st, F.add_11rb$(D) } } var ut = k0().getListSortedPowers_5btbp7$(this.characterBuild); if (!ut.isEmpty()) { var _t = this.dataControl.managerClasses.getClassMasteryLevel_vy76y1$(this.characterBuild, 0), ft = this.dataControl.managerClasses.getKeyAbilityRef_qll6wu$(this.characterBuild, 0, !1); (D = bt([])).name = "Focus Spells", D.magicTradition = "focus", D.spellcastingType = "", D.ability = se().ARRAY_ABILITIES_SHORT[ft].toLowerCase(), D.proficiency = _t, D.focusPoints = this.dataControl.managerSpells.getMaxFocusPointsAtLevel_vy76y1$(this.characterBuild, this.characterData.getCharacterLevel()); var yt = u(), mt = c(); for (v = ut.iterator(); v.hasNext();) { var $t = v.next(), gt = this.dataControl.managerSpells.hashMapSpells.get_11rb$($t.name); if (null != gt) { var vt = this.getActualSpellLevel_0(gt); if (!mt.containsKey_11rb$(vt)) { var St = bt([]); St.spellLevel = vt, St.list = u(), mt.put_xwzc9p$(vt, St) } var Ct = mt.get_11rb$(vt); (e.isType(S = null != Ct ? Ct.list : null, Rt) ? S : d()).add_11rb$(gt.name) } else console.log("NULL POWER SPELL INFORMATION: " + $t.name) } for (C = mt.values.iterator(); C.hasNext();) { var Et = C.next(); yt.add_11rb$(Et) } D.spells = yt; for (var At = u(), It = 0; It <= 10; It++)At.add_11rb$(0); D.perDay = At, F.add_11rb$(D) } this.jsonObjectParent.spellCasters = F; var wt = u(); for (E = this.characterData.getHashMapFormulaBookByCaster().keys.iterator(); E.hasNext();) { var Lt = E.next(); if (o(this.characterData.getHashMapFormulaBookByCaster().get_11rb$(Lt)).keys.size > 0) { for ((D = bt([])).type = Lt, F = u(), A = o(this.characterData.getHashMapFormulaBookByCaster().get_11rb$(Lt)).keys.iterator(); A.hasNext();) { var Tt = A.next(); F.add_11rb$(Tt) } D.known = F, wt.add_11rb$(D) } } if (this.characterData.listPlayerFormula.size > 0) { for ((D = bt([])).type = "other", F = u(), b = this.characterData.listPlayerFormula.iterator(); b.hasNext();) { var kt = b.next(); F.add_11rb$(kt.name) } D.known = F, wt.add_11rb$(D) } this.jsonObjectParent.formula = wt; var Pt = u(); for (I = this.characterBuild.hashMapPetCharacterBuilds.keys.iterator(); I.hasNext();) { var Mt = I.next(), Nt = (e.isType(w = this.characterBuild.hashMapPetCharacterBuilds.get_11rb$(Mt), qV) ? w : d()).getPetData(); if (null != Nt && ZW().showPetType_vy76y1$(this.characterBuild, Nt.getPetType())) if ((D = bt([])).type = Nt.petTypeString, 0 === Nt.getPetType()) { for (D.animal = Nt.getPetName(), D.name = Nt.getDisplayName_5btbp7$(this.characterBuild), D.mature = WV().isMature_5btbp7$(this.characterBuild), D.incredible = WV().isIncredible_5btbp7$(this.characterBuild), D.incredibleType = Nt.incredibleTypeString, F = u(), T = WV().getListSpecializationReference_5btbp7$(this.characterBuild).iterator(); T.hasNext();) { var Dt = T.next(); if (Nt.getHashMapAnimalSpecializations().containsKey_11rb$(Dt)) { var xt = "string" == typeof (k = Nt.getHashMapAnimalSpecializations().get_11rb$(Dt)) ? k : d(); F.add_11rb$(xt) } } for (D.specializations = F, D.armor = Nt.getPlayerArmor().armorName, F = u(), R = Nt.listPlayerEquipment.iterator(); R.hasNext();) { var zt = R.next(), Ot = zt.name, Ft = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(Ot); if (null != Ft) { var Bt = u(); Bt.add_11rb$(Ft.name), Bt.add_11rb$(zt.quantity), F.add_11rb$(Bt) } } D.equipment = F, Pt.add_11rb$(D) } else if (1 === Nt.getPetType()) { D.name = Nt.getDisplayName_5btbp7$(this.characterBuild), D.specific = Nt.getFamiliarSpecific(), F = u(); var jt = WV().getListFamiliarAbilityReferences_38cnzz$(this.dataControl, this.characterBuild, Nt.getFamiliarSpecific()); P = jt.size; for (var Ht = 0; Ht < P; Ht++) { var qt = jt.get_za3lpa$(Ht); o(Nt.getHashMapSelectedFamiliarAbilities()).containsKey_11rb$(qt) && F.add_11rb$("string" == typeof (M = o(Nt.getHashMapSelectedFamiliarAbilities()).get_11rb$(qt)) ? M : d()) } D.abilities = F, Pt.add_11rb$(D) } } this.jsonObjectParent.pets = Pt, this.jsonObjectParent.acTotal = this.getACJson_0() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } function M5() { N5 = this, this.ARRAY_WEAPON_PROFICIENCY_TYPES_0 = ["simple", "martial", "advanced", "unarmed"], this.ARRAY_WEAPON_STRIKING_0 = ["", "striking", "greaterStriking", "majorStriking"], this.ARRAY_ARMOR_PROFICIENCY_TYPES_0 = ["light", "medium", "heavy", "unarmored"], this.ARRAY_ARMOR_RESILIENT_0 = ["", "resilient", "greaterResilient", "majorResilient"], this.ARRAY_FEAT_SPECIALS_TO_IGNORE_0 = ["Adopted Ancestry", "Assurance", "Canny Acumen", "Skill Training", "Terrain Stalker", "Wilderness Spotter", "Different Worlds Skill", "Advanced Weapon Choice"] } P5.prototype.getJsonAsString = function () { return JSON.stringify(this.jsonObjectParent) }, P5.prototype.getBonusSpellsPerDayPrepared_0 = function (t, e) { var i, a = 0; for (i = t.getHashMapBonusSpell_fhac18$(this.dataControl, this.characterBuild).values.iterator(); i.hasNext();) { var r = i.next(); r.spellLevel === e && r.addPrepared && (a = a + 1 | 0) } return a }, P5.prototype.getACJson_0 = function () { var t, i = bt([]), a = this.characterData.getPlayerArmor(), r = this.dataControl.managerArmor.getArmorProficiencyType_s8qicq$(a), n = e.isType(t = this.characterBuild.getProficiency_61zpoe$(r), nK) ? t : d(), s = this.dataControl.managerArmor.getArmorTrainingLevel_a0vkeb$(this.characterBuild, a, this.characterData.getCharacterLevel()), l = pK().getFinalProficiencyTotal_xek4lp$(this.characterData, s, this.characterData.getCharacterLevel()); i.acProfBonus = l; var c = this.dataControl.managerArmor.getArmorAbilityBonus_5btbp7$(this.characterBuild); i.acAbilityBonus = c; var p = rK(this.dataControl, this.characterBuild, n).getArmorItemBonus_fhac18$(this.dataControl, this.characterBuild); i.acItemBonus = p; var h = 10 + l + c + p | 0; i.acTotal = h; var u = this.dataControl.managerArmor.getWornShieldInformation_5btbp7$(this.characterBuild); return null != u && (i.shieldBonus = o(u).ac), i }, P5.prototype.getArmorJSONObject_0 = function (t, e) { var i, a = this.dataControl.managerArmor.getWornArmorInformation_5btbp7$(this.characterBuild), r = bt([]); r.name = this.tempFixForArmor_0(o(a).name), r.qty = 1, r.prof = D5().ARRAY_ARMOR_PROFICIENCY_TYPES_0[this.dataControl.managerArmor.getArmorProficiencyInt_s8qicq$(t)], r.pot = t.getPotency_5btbp7$(this.characterBuild), r.res = D5().ARRAY_ARMOR_RESILIENT_0[t.getItemResilient_5btbp7$(this.characterBuild)], r.mat = t.getMaterial(), r.display = t.getDisplayName_fhac18$(this.dataControl, this.characterBuild), r.worn = e; var n = u(); for (i = t.getListPropertyRunes().iterator(); i.hasNext();) { var s = i.next(); n.add_11rb$(s) } return r.runes = n, r }, P5.prototype.getShieldJSONObject_0 = function (t, e) { var i = bt([]); i.name = o(t).name, i.qty = 1, i.prof = "shield", i.pot = 0, i.res = 0, i.worn = e; var a = u(); return i.runes = a, i }, P5.prototype.getWeaponJSONObject_0 = function (t, i, a, r, n) { var s, l, c = bt([]), p = e.isType(s = this.dataControl.managerWeapons.hashMapWeapons.get_11rb$(t.weaponName), h1) ? s : d(), h = this.dataControl.managerWeapons.getWeaponProficiencyType_zici4a$(this.characterBuild, t.weaponName, this.characterData.getCharacterLevel()), _ = this.dataControl.managerWeapons.getWeaponTrainingLevel_zici4a$(this.characterBuild, t.weaponName, this.characterData.getCharacterLevel()), f = pK().ARRAY_WEAPON_PROFICIENCY_TYPES[h]; if (_ > o(this.characterBuild.getProficiency_61zpoe$(f)).getProficiencyAtLevel_za3lpa$(this.characterData.getCharacterLevel())) switch (_) { case 2: i.add_11rb$(p.name); break; case 4: a.add_11rb$(p.name); break; case 6: r.add_11rb$(p.name); break; case 8: n.add_11rb$(p.name) }c.name = p.name, c.qty = t.amount, c.prof = D5().ARRAY_WEAPON_PROFICIENCY_TYPES_0[h], c.die = "d" + j(t.getDiceSize_unclgl$(this.characterBuild, p)), c.pot = t.getPotency_5btbp7$(this.characterBuild), c.str = D5().ARRAY_WEAPON_STRIKING_0[t.getItemStriking_5btbp7$(this.characterBuild)], c.mat = t.getMaterial(), c.display = t.getDisplayName_fhac18$(this.dataControl, this.characterBuild); var y = u(); for (l = t.getListPropertyRunes().iterator(); l.hasNext();) { var m = l.next(); y.add_11rb$(m) } return c.runes = y, c }, P5.prototype.getListKnownSpells_0 = function (t, i) { var a, r, n, s = u(), l = c(); if (this.characterBuild.getCharacterData().getHashMapKnownSpellsByCaster().containsKey_11rb$(t.casterName)) for (a = o(this.characterBuild.getCharacterData().getHashMapKnownSpellsByCaster().get_11rb$(t.casterName)).iterator(); a.hasNext();) { var p = a.next(), h = this.dataControl.managerSpells.hashMapSpells.get_11rb$(p); if (null != h && h.level <= i) { var _ = this.getActualSpellLevel_0(h); if (!l.containsKey_11rb$(_)) { var f = bt([]); f.spellLevel = _, f.list = u(), l.put_xwzc9p$(_, f) } var y = l.get_11rb$(_); (e.isType(r = null != y ? y.list : null, Rt) ? r : d()).add_11rb$(h.name) } } for (n = l.values.iterator(); n.hasNext();) { var m = n.next(); s.add_11rb$(m) } return s }, P5.prototype.getActualSpellLevel_0 = function (t) { return m(t.type, G0().SPELL_TYPE_CANTRIP) ? 0 : t.level }, P5.prototype.getSelectedSpellsForCaster_0 = function (t) { var i, a, r, n = u(); i = t.getSpellLevelsAvailable_za3lpa$(this.characterData.getCharacterLevel()); for (var o = 0; o <= i; o++) { var s = u(), l = t.getSpellsRepetoire_bh8xs5$(this.characterBuild, this.characterData.getCharacterLevel(), o); if (l > 0) for (var c = 0; c < l; c++) { var p = t.getSpellSlotReference_vux9f0$(o, c); if (this.characterBuild.getCharacterData().getHashMapPlayerSpells().containsKey_11rb$(p)) { var h = this.characterBuild.getCharacterData().getHashMapPlayerSpells().get_11rb$(p); null != h && s.add_11rb$(h.spellName) } } var _ = t.getHashMapBonusSpell_fhac18$(this.dataControl, this.characterBuild); for (a = _.keys.iterator(); a.hasNext();) { var f = a.next(), y = e.isType(r = _.get_11rb$(f), v3) ? r : d(); if (y.spellLevel === o && y.addPrepared && y.isAvailableAtCharacterLevel_za3lpa$(this.characterData.getCharacterLevel()) && this.characterBuild.getCharacterData().getHashMapPlayerSpells().containsKey_11rb$(f)) { var m = this.characterBuild.getCharacterData().getHashMapPlayerSpells().get_11rb$(f); null != m && s.add_11rb$(m.spellName) } } var $ = bt([]); $.spellLevel = o, $.list = s, n.add_11rb$($) } return n }, P5.prototype.getFeatsJson_0 = function (t, i) { var a, r, n, l, c, p = u(); for (a = t.getListFreeFeatsByLevel_za3lpa$(i.getCharacterLevel()).iterator(); a.hasNext();) { var _ = a.next(); try { var f = e.isType(r = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(_.featID), $q) ? r : d(), y = u(); y.add_11rb$(f.name), y.add_11rb$(_.extraInformation), p.add_11rb$(y) } catch (t) { if (!e.isType(t, h)) throw t; s(t) } } n = i.getCharacterLevel(); for (var m = 1; m <= n; m++)for (l = o(t.getFeatChoicesAtLevel_za3lpa$(m)).keys.iterator(); l.hasNext();) { var $ = l.next(), g = e.isType(c = o(t.getFeatChoicesAtLevel_za3lpa$(m)).get_11rb$($), ku) ? c : d(); this.addFeatChoiceSelection_0(t, i, p, $, g, m) } return p }, P5.prototype.addFeatChoiceSelection_0 = function (t, i, a, r, n, o) { var l, c, p, _; try { if (i.hashMapFeatSelections.containsKey_11rb$(r)) { var f = i.hashMapFeatSelections.get_11rb$(r), y = e.isType(l = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(f), $q) ? l : d(), m = u(); for (m.add_11rb$(y.name), m.add_11rb$(t.hashMapFeatExtraInformation.get_11rb$(r)), m.add_11rb$(n.featType), m.add_11rb$(n.level), a.add_11rb$(m), c = n.hashMapChildFeatChoices.keys.iterator(); c.hasNext();) { var $ = c.next(), g = e.isType(p = n.hashMapChildFeatChoices.get_11rb$($), ku) ? p : d(); this.addFeatChoiceSelection_0(t, i, a, "string" == typeof (_ = $) ? _ : d(), g, o) } } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, P5.prototype.getSpecialsJson_0 = function (t, i) { var a, r, n, c, p = u(); a = i.getCharacterLevel(); for (var h = 1; h <= a; h++)for (r = o(t.hashMapSpecialInformation[h - 1 | 0]).keys.iterator(); r.hasNext();) { var _ = r.next(), f = e.isType(n = o(t.hashMapSpecialInformation[h - 1 | 0]).get_11rb$(_), zX) ? n : d(); try { if (f.hashMapSpecialChoices.isEmpty()) p.add_11rb$(f.name); else if (!this.isFeatSpecialSelection_0(f)) for (c = f.hashMapSpecialChoices.keys.iterator(); c.hasNext();) { var y = c.next(), m = i.getSpecialSelection_puj7f4$(_, y); null != m && p.add_11rb$(this.getFoundryFixedSelectionName_0(f, m)) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } return p.add_11rb$(this.dataControl.managerAncestry.getHeritageDisplayName_5btbp7$(t)), p }, P5.prototype.getFoundryFixedSelectionName_0 = function (t, e) { return m(t.name, "Bloodline") ? "Bloodline: " + e : m(t.name, "Methodology") ? e + " Methodology" : m(t.name, "Swashbuckler's Style") ? e + " Style" : m(t.name, "Hunter's Edge") ? "Hunter's Edge: " + e : m(t.name, "Arcane School") ? "Arcane School: " + e : m(t.name, "Arcane Thesis") ? "Arcane Thesis: " + e : m(t.name, "Deity's Domain") || m(t.name, "Domain Initiate") ? "Domain: " + e : m(t.name, "Mystery") ? e + " Mystery" : m(t.name, "Patron") ? e + " Patron" : m(e, "Tenets of Good") ? "The Tenets of Good" : m(e, "Liberator Cause") ? "Liberator [Chaotic Good]" : m(e, "Paladin Cause") ? "Paladin [Lawful Good]" : m(e, "Redeemer Cause") ? "Redeemer [Neutral Good]" : m(e, "Antipaladin Cause") ? "Antipaladin [Chaotic Evil]" : m(e, "Tyrant Cause") ? "Tyrant [Lawful Evil]" : m(e, "Desecrator Cause") ? "Desecrator [Neutral Evil]" : e }, P5.prototype.isFeatSpecialSelection_0 = function (t) { var e, i; for (e = D5().ARRAY_FEAT_SPECIALS_TO_IGNORE_0, i = 0; i !== e.length; ++i) { var a = e[i]; if (m(t.name, a)) return !0 } return !1 }, P5.prototype.tempFixForArmor_0 = function (t) { switch (t) { case "Leather": return "Leather Armor"; case "Studded Leather": return "Studded Leather Armor" }return t }, M5.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var N5 = null; function D5() { return null === N5 && new M5, N5 } function x5() { } function z5() { this.hashMapAncestryFeatLocations_0 = c(), this.hashMapHeritageFeatLocations_0 = c(), this.hashMaSkillFeatLocations_0 = c(), this.hashMaGeneralFeatLocations_0 = c(), this.hashMapListClassFeatureLocations_0 = c(), this.hashMaClassFeatLocations_0 = c(), this.listUsedClassFeatLocations_0 = u(), this.listUsedClassSpecialLocations_0 = u(), this.bonusFeatCount_0 = 1, this.hashMapHeritageFeatLocations_0.put_xwzc9p$(1, "AncFeat_Heritage"), this.hashMapAncestryFeatLocations_0.put_xwzc9p$(1, "AncFeat_1st"), this.hashMapAncestryFeatLocations_0.put_xwzc9p$(5, "AncFeat_5th"), this.hashMapAncestryFeatLocations_0.put_xwzc9p$(9, "AncFeat_9th"), this.hashMapAncestryFeatLocations_0.put_xwzc9p$(13, "AncFeat_13th"), this.hashMapAncestryFeatLocations_0.put_xwzc9p$(17, "AncFeat_17th"), this.hashMaSkillFeatLocations_0.put_xwzc9p$(2, "SkillFeat_2nd"), this.hashMaSkillFeatLocations_0.put_xwzc9p$(4, "SkillFeat_4th"), this.hashMaSkillFeatLocations_0.put_xwzc9p$(6, "SkillFeat_6th"), this.hashMaSkillFeatLocations_0.put_xwzc9p$(8, "SkillFeat_8th"), this.hashMaSkillFeatLocations_0.put_xwzc9p$(10, "SkillFeat_10th"), this.hashMaSkillFeatLocations_0.put_xwzc9p$(12, "SkillFeat_12th"), this.hashMaSkillFeatLocations_0.put_xwzc9p$(14, "SkillFeat_14th"), this.hashMaSkillFeatLocations_0.put_xwzc9p$(16, "SkillFeat_16th"), this.hashMaSkillFeatLocations_0.put_xwzc9p$(18, "SkillFeat_18th"), this.hashMaSkillFeatLocations_0.put_xwzc9p$(20, "SkillFeat_20th"), this.hashMaGeneralFeatLocations_0.put_xwzc9p$(3, "GenFeat_3rd"), this.hashMaGeneralFeatLocations_0.put_xwzc9p$(7, "GenFeat_7th"), this.hashMaGeneralFeatLocations_0.put_xwzc9p$(11, "GenFeat_11th"), this.hashMaGeneralFeatLocations_0.put_xwzc9p$(15, "GenFeat_15th"), this.hashMaGeneralFeatLocations_0.put_xwzc9p$(19, "GenFeat_19th"); var t = this.hashMapListClassFeatureLocations_0, e = u(); t.put_xwzc9p$(1, e); var i = this.hashMapListClassFeatureLocations_0, a = u(); i.put_xwzc9p$(3, a); var r = this.hashMapListClassFeatureLocations_0, n = u(); r.put_xwzc9p$(5, n); var s = this.hashMapListClassFeatureLocations_0, l = u(); s.put_xwzc9p$(7, l); var p = this.hashMapListClassFeatureLocations_0, h = u(); p.put_xwzc9p$(9, h); var d = this.hashMapListClassFeatureLocations_0, _ = u(); d.put_xwzc9p$(11, _); var f = this.hashMapListClassFeatureLocations_0, y = u(); f.put_xwzc9p$(13, y); var m = this.hashMapListClassFeatureLocations_0, $ = u(); m.put_xwzc9p$(15, $); var g = this.hashMapListClassFeatureLocations_0, v = u(); g.put_xwzc9p$(17, v); var S = this.hashMapListClassFeatureLocations_0, C = u(); S.put_xwzc9p$(19, C), o(this.hashMapListClassFeatureLocations_0.get_11rb$(1)).add_11rb$("ClassFeature1_1st"), o(this.hashMapListClassFeatureLocations_0.get_11rb$(1)).add_11rb$("ClassFeature2_1st"), o(this.hashMapListClassFeatureLocations_0.get_11rb$(3)).add_11rb$("ClassFeature_3rd"), o(this.hashMapListClassFeatureLocations_0.get_11rb$(5)).add_11rb$("ClassFeature_5th"), o(this.hashMapListClassFeatureLocations_0.get_11rb$(7)).add_11rb$("ClassFeature_7th"), o(this.hashMapListClassFeatureLocations_0.get_11rb$(9)).add_11rb$("ClassFeature_9th"), o(this.hashMapListClassFeatureLocations_0.get_11rb$(11)).add_11rb$("ClassFeature_11th"), o(this.hashMapListClassFeatureLocations_0.get_11rb$(13)).add_11rb$("ClassFeature_13th"), o(this.hashMapListClassFeatureLocations_0.get_11rb$(15)).add_11rb$("ClassFeature_15th"), o(this.hashMapListClassFeatureLocations_0.get_11rb$(17)).add_11rb$("ClassFeature_17th"), o(this.hashMapListClassFeatureLocations_0.get_11rb$(19)).add_11rb$("ClassFeature_19th"), this.hashMaClassFeatLocations_0.put_xwzc9p$(1, "ClassFeat_1st"), this.hashMaClassFeatLocations_0.put_xwzc9p$(2, "ClassFeat_2nd"), this.hashMaClassFeatLocations_0.put_xwzc9p$(4, "ClassFeat_4th"), this.hashMaClassFeatLocations_0.put_xwzc9p$(6, "ClassFeat_6th"), this.hashMaClassFeatLocations_0.put_xwzc9p$(8, "ClassFeat_8th"), this.hashMaClassFeatLocations_0.put_xwzc9p$(10, "ClassFeat_10th"), this.hashMaClassFeatLocations_0.put_xwzc9p$(12, "ClassFeat_12th"), this.hashMaClassFeatLocations_0.put_xwzc9p$(14, "ClassFeat_14th"), this.hashMaClassFeatLocations_0.put_xwzc9p$(16, "ClassFeat_16th"), this.hashMaClassFeatLocations_0.put_xwzc9p$(18, "ClassFeat_18th"), this.hashMaClassFeatLocations_0.put_xwzc9p$(20, "ClassFeat_20th") } function O5() { this.hashMapSkillsToFields_0 = c(), this.hashMapSkillsToProfFields_0 = c(), this.hashMapTrainingValues_0 = c(), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().ACROBATICS, "Acro"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().ARCANA, "Arcana"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().ATHELTICS, "Ath"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().CRAFTING, "Craft"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().DECEPTION, "Decept"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().DIPLOMACY, "Diplo"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().INTIMIDATION, "Intim"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().MEDICINE, "Med"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().NATURE, "Nature"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().OCCULTISM, "Occult"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().PERFORMANCE, "Perf"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().RELIGION, "Religion"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().SOCIETY, "Society"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().STEALTH, "Stealth"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().SURVIVAL, "Survival"), this.hashMapSkillsToFields_0.put_xwzc9p$(pK().THIEVERY, "Thievery"), this.hashMapTrainingValues_0.put_xwzc9p$(2, "T"), this.hashMapTrainingValues_0.put_xwzc9p$(4, "E"), this.hashMapTrainingValues_0.put_xwzc9p$(6, "M"), this.hashMapTrainingValues_0.put_xwzc9p$(8, "L") } P5.$metadata$ = { kind: p, simpleName: "ExportData", interfaces: [] }, x5.prototype.stampEquipment_kqphwh$ = function (t, e, i, a, r) { var n, o, s = new J1(t, e, i); s.createReport(); var l = u(), p = u(), h = u(), d = u(), f = c(), y = t.managerAncestry.getSize_5btbp7$(e); for (r.Platinum = s.pp, r.Gold = s.gp, r.Silver = s.sp, r.Copper = s.cp, l.add_11rb$(s.playerArmorName), n = e.getCharacterData().listPlayerEquipment.iterator(); n.hasNext();) { var m = n.next(), $ = m.name, g = t.managerEquipment.hashMapAllEquipmentByName.get_11rb$($); if (null != g) { var v = g.name; m.quantity > 1 && (v += " (" + m.quantity.toString() + ")"); var S = g.getBundleBulk_96blzu$(m, y).toString(); f.put_xwzc9p$(v, S), _(g.traits.toLowerCase(), "invested") ? (l.add_11rb$(v), m.invested && d.add_11rb$(v)) : null != g.contains ? l.add_11rb$(v) : g.action0 > -2 ? p.add_11rb$(v) : h.add_11rb$(v) } } for (var C = 1; C <= 10; C++) { var E = "W" + C; if (l.size >= C && (r[E] = l.get_za3lpa$(C - 1 | 0), d.contains_11rb$(l.get_za3lpa$(C - 1 | 0)) && (r[E + "_Invest"] = "Yes"), f.containsKey_11rb$(l.get_za3lpa$(C - 1 | 0)))) { var A = f.get_11rb$(l.get_za3lpa$(C - 1 | 0)); r[E + "_Bulk"] = A } } for (var b = 1; b <= 8; b++) { var I = "R" + b; if (p.size >= b && (r[I] = p.get_za3lpa$(b - 1 | 0), f.containsKey_11rb$(p.get_za3lpa$(b - 1 | 0)))) { var w = f.get_11rb$(p.get_za3lpa$(b - 1 | 0)); r[I + "_Bulk"] = w } } for (var L = 1; L <= 8; L++) { var T = "O" + L; if (h.size >= L && (r[T] = h.get_za3lpa$(L - 1 | 0), f.containsKey_11rb$(h.get_za3lpa$(L - 1 | 0)))) { var k = f.get_11rb$(h.get_za3lpa$(L - 1 | 0)); r[T + "_Bulk"] = k } } r.CurrentBulk = s.totalBulk; var R = 5 + a[0] | 0, P = 10 + a[0] | 0; for (o = e.hashMapMaxBulkIncreases.values.iterator(); o.hasNext();) { var M = o.next(); i >= M.level && (R = R + M.increase | 0, P = P + M.increase | 0) } r.EncumberedValue = htt().getSignedValue_za3lpa$(R), r.MaxBulkValue = htt().getSignedValue_za3lpa$(P), r.BulkStrMod1 = htt().getSignedValue_za3lpa$(a[0]), r.BulkStrMod2 = htt().getSignedValue_za3lpa$(a[0]) }, x5.$metadata$ = { kind: p, simpleName: "ExportEquipment", interfaces: [] }, z5.prototype.stampFeats_np1lp2$ = function (t, e, i, a) { var r, n, s, l, c, p, h = new Y1(t, e, i); for (h.createReport_sfkw43$(t), this.addFeatType_0(h, a, se().FEATS_ANCESTRY, this.hashMapAncestryFeatLocations_0), this.addFeatType_0(h, a, se().FEATS_HERITAGE, this.hashMapHeritageFeatLocations_0), this.addFeatType_0(h, a, se().FEATS_SKILL, this.hashMaSkillFeatLocations_0), this.addFeatType_0(h, a, se().FEATS_GENERAL, this.hashMaGeneralFeatLocations_0), r = h.listFreeFeats.iterator(); r.hasNext();) { var u = r.next(); this.addToBonusFeats_0(a, u) } if (h.hashMapFeats.containsKey_11rb$(se().FEATS_CLASS)) for (n = o(h.hashMapFeats.get_11rb$(se().FEATS_CLASS)).keys.iterator(); n.hasNext();) { var _ = n.next(); for (s = o(o(h.hashMapFeats.get_11rb$(se().FEATS_CLASS)).get_11rb$(_)).iterator(); s.hasNext();) { var f = s.next(); if (this.hashMaClassFeatLocations_0.containsKey_11rb$(_)) { var y = "string" == typeof (l = this.hashMaClassFeatLocations_0.get_11rb$(_)) ? l : d(); this.listUsedClassFeatLocations_0.contains_11rb$(y) ? this.addToBonusFeats_0(a, f) : (this.listUsedClassFeatLocations_0.add_11rb$(y), a[y] = f) } else this.addToBonusFeats_0(a, f) } } for (c = h.hashMapSpecials.keys.iterator(); c.hasNext();) { var m = c.next(), $ = 0; for (p = o(h.hashMapSpecials.get_11rb$(m)).iterator(); p.hasNext();) { var g = p.next(); if (this.hashMapListClassFeatureLocations_0.containsKey_11rb$(m) && $ < o(this.hashMapListClassFeatureLocations_0.get_11rb$(m)).size) { var v = o(this.hashMapListClassFeatureLocations_0.get_11rb$(m)).get_za3lpa$($); $ = $ + 1 | 0, a[v] = g } } } a.SkillFeat_Back = h.backgroundSkillFeat }, z5.prototype.addFeatType_0 = function (t, e, i, a) { var r, n; if (t.hashMapFeats.containsKey_11rb$(i)) { var s = !1; for (r = o(t.hashMapFeats.get_11rb$(i)).keys.iterator(); r.hasNext();) { var l = r.next(), c = 0; for (n = o(o(t.hashMapFeats.get_11rb$(i)).get_11rb$(l)).iterator(); n.hasNext();) { var p = n.next(); 0 === c && a.containsKey_11rb$(l) ? e[j(a.get_11rb$(l))] = p : 1 === l && !s && m(i, se().FEATS_ANCESTRY) ? (s = !0, e.AncFeat_Spec1st = p) : this.addToBonusFeats_0(e, p), c = c + 1 | 0 } } } }, z5.prototype.addToBonusFeats_0 = function (t, e) { this.bonusFeatCount_0 <= 2 && (t["BonusFeat" + this.bonusFeatCount_0] = e, this.bonusFeatCount_0 = this.bonusFeatCount_0 + 1 | 0) }, z5.$metadata$ = { kind: p, simpleName: "ExportFeats", interfaces: [] }, O5.prototype.stampSkills_6p2r6k$ = function (t, e, i, a) { var r, n = e.getCharacterData().getCharacterLevel(), o = !1, s = !1; for (r = e.listAllSkillProficiencies.iterator(); r.hasNext();) { var l = r.next(), c = e.getSkillProficiency_61zpoe$(l); if (null != c) { var p = rK(t, e, c).getTypedBuff_za3lpa$(0), h = c.getProficiencyAtLevel_za3lpa$(n), d = htt().getAbilityMod_za3lpa$(i.abilityScoresBuffed[c.abilityRef]), u = 0, f = pK().getFinalProficiencyTotalSkill_r1xdi3$(t, e, h, n); this.hashMapSkillsToFields_0.containsKey_11rb$(l) && (h > 0 && (a[j(this.hashMapSkillsToFields_0.get_11rb$(l)) + this.getTrainingField_0(h)] = "SetFieldChecked"), a[j(this.hashMapSkillsToFields_0.get_11rb$(l)) + "_ProfMod"] = f.toString(), a[j(this.hashMapSkillsToFields_0.get_11rb$(l)) + "_ItemMod"] = p.toString(), a[j(this.hashMapSkillsToFields_0.get_11rb$(l)) + "_Mod"] = d.toString(), c.armorPenalty && (u = t.managerArmor.getArmorPenalty_yjt0at$(e, i.abilityScoresBuffed[0], l), (m(l, pK().ACROBATICS) || m(l, pK().ATHELTICS) || m(l, pK().STEALTH) || m(l, pK().THIEVERY)) && (a[j(this.hashMapSkillsToFields_0.get_11rb$(l)) + "_ArmorMod"] = u.toString()))); var y = f + d + p + u | 0; if (_(l, "Lore: ") && !o) { o = !0; var $ = L(l, "Lore: ", ""); a.Lore1_Name = $, a.Lore1 = htt().getSignedValue_za3lpa$(y), h > 0 && (a["Lore1" + this.getTrainingField_0(h)] = "SetFieldChecked"), a.Lore1_ProfMod = f.toString(), a.Lore1_ItemMod = p.toString(), a.Lore1_Mod = d.toString() } else if (_(l, "Lore: ") && !s) { s = !0; var g = L(l, "Lore: ", ""); a.Lore2_Name = g, a.Lore2 = htt().getSignedValue_za3lpa$(y), h > 0 && (a["Lore2" + this.getTrainingField_0(h)] = "SetFieldChecked"), a.Lore2_ProfMod = f.toString(), a.Lore2_ItemMod = p.toString(), a.Lore2_Mod = d.toString() } else _(l, "Lore: ") || (a[l] = htt().getSignedValue_za3lpa$(y)) } } }, O5.prototype.stampPerception_8v9pcl$ = function (t, e, i, a, r) { var n = e.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION), s = rK(o(t), e, o(n)).getTypedBuff_za3lpa$(0), l = n.getProficiencyAtLevel_za3lpa$(a), c = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), l, e.getCharacterData().getCharacterLevel()); l > 0 && (r["Percept" + this.getTrainingField_0(l)] = "SetFieldChecked"), r.Percept_ProfMod = c.toString(), r.Percept_ItemMod = s.toString(); var p = i[4]; r.Percept_WisMod = p.toString(); var h = c + p + s | 0; r.Perception = htt().getSignedValue_za3lpa$(h); var d = ""; BK().hasSpecialByLevel_o7aqax$(e, "Darkvision", a) ? d += "Darkvision " : BK().hasSpecialByLevel_o7aqax$(e, "Low-Light Vision", a) && (d += "Low-Light Vision "), r.Senses = d }, O5.prototype.stampClassDC_8v9pcl$ = function (t, e, i, a, r) { var n = 0; null != e.getCharacterData().getDualClass() && (n = 1); var o = t.managerClasses.getClassMasteryLevel_vy76y1$(e, n), s = i[t.managerClasses.getKeyAbilityRef_qll6wu$(e, n, !0)], l = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), o, e.getCharacterData().getCharacterLevel()); r["ClassDC" + this.getTrainingField_0(o)] = "SetFieldChecked", r.ClassDC_ProfMod = l.toString(), r.ClassDC_KeyMod = s.toString(); var c = 10 + l + s | 0; r.ClassDC = c.toString() }, O5.prototype.stampSaves_xg5dte$ = function (t, e, i, a, r) { var n = e.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE), s = rK(o(t), e, o(n)), l = s.getTypedBuff_za3lpa$(0), c = n.getProficiencyAtLevel_za3lpa$(a), p = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), c, e.getCharacterData().getCharacterLevel()); c > 0 && (r["FortSave" + this.getTrainingField_0(c)] = "SetFieldChecked"), r.FortSave_ProfMod = p.toString(), r.FortSave_ItemMod = l.toString(); var h = i[2]; r.FortSave_ConMod = h.toString(); var d = p + h + l | 0; r.FortSave = htt().getSignedValue_za3lpa$(d), n = e.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX), l = (s = rK(t, e, o(n))).getTypedBuff_za3lpa$(0), c = n.getProficiencyAtLevel_za3lpa$(a), p = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), c, e.getCharacterData().getCharacterLevel()), c > 0 && (r["RefSave" + this.getTrainingField_0(c)] = "SetFieldChecked"), r.RefSave_ProfMod = p.toString(), r.RefSave_ItemMod = l.toString(), h = i[1], r.RefSave_DexMod = h.toString(), d = p + h + l | 0, r.RefSave = htt().getSignedValue_za3lpa$(d), n = e.getProficiency_61zpoe$(pK().PROFICIENCY_WILL), l = (s = rK(t, e, o(n))).getTypedBuff_za3lpa$(0), c = n.getProficiencyAtLevel_za3lpa$(a), p = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), c, e.getCharacterData().getCharacterLevel()), c > 0 && (r["WillSave" + this.getTrainingField_0(c)] = "SetFieldChecked"), r.WillSave_ProfMod = p.toString(), r.WillSave_ItemMod = l.toString(), h = i[4], r.WillSave_WisMod = h.toString(), d = p + h + l | 0, r.WillSave = htt().getSignedValue_za3lpa$(d) }, O5.prototype.stampArmor_8v9pcl$ = function (t, e, i, a, r) { var n = e.getCharacterData().getPlayerArmor(), s = t.managerArmor.getArmorProficiencyType_s8qicq$(n), l = e.getProficiency_61zpoe$(s), c = rK(t, e, o(l)).getArmorItemBonus_fhac18$(t, e), p = t.managerArmor.getArmorTrainingLevel_a0vkeb$(e, n, a), h = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), p, a), d = t.managerArmor.getArmorAbilityBonus_5btbp7$(e), u = t.managerArmor.getDexCap_5btbp7$(e), _ = 10 + h + d + c | 0; if (p > 0 && (r["AC" + this.getTrainingField_0(p)] = "SetFieldChecked"), r.AC_ProfMod = h.toString(), r.AC_ItemMod = c.toString(), r.AC_DexMod = d.toString(), u > -1 && (r.AC_DexCap = u.toString()), r.AC = _.toString(), null != e.getCharacterData().getPlayerShieldNew()) { var f = t.managerArmor.getWornShieldInformation_5btbp7$(e); if (null != f) { r.AC_ShieldMod = f.ac; var y = f.getHp_9khk5$(t, e); r.ShieldHardness = f.getHardness_9khk5$(t, e).toString(), r.ShieldMaxHP = y.toString(), r.ShieldBT = f.getBT_za3lpa$(y).toString() } } }, O5.prototype.stampWeapons_25au06$ = function (t, i, a, r, n) { var s, l, c, p = e.booleanArray(3), h = e.booleanArray(3); for (s = i.getCharacterData().listPlayerWeapons.iterator(); s.hasNext();) { var d = s.next(), u = t.managerWeapons.hashMapWeapons.get_11rb$(d.weaponName), _ = t.managerWeapons.getWeaponProficiencyType_zici4a$(i, d.weaponName, i.getCharacterData().getCharacterLevel()), f = pK().ARRAY_WEAPON_PROFICIENCY_TYPES[_], y = i.getProficiency_61zpoe$(f), m = aK(); null != y && (m = rK(t, i, y)), m.addAttackBuffs_cvmu72$(t, i, d.getAttackAbilityRef()); var $ = m.getWeaponItemBonus_t0a6b2$(i, d), g = t.managerWeapons.getWeaponTrainingLevel_zici4a$(i, d.weaponName, r), v = d.getAbilityBonus_q5rwfd$(a.abilityScoresBuffed), S = pK().getFinalProficiencyTotalWeapons_bh8xs5$(i, g, r), C = S + v + $ | 0; null != d.attackOverride && (C = o(d.attackOverride)); var E = ""; if (0 === o(u).damage) E = "Special"; else { var A = d.getDiceSize_unclgl$(i, u); E = (1 + d.getItemStriking_5btbp7$(i) | 0).toString() + "d" + A.toString() } d.getDamageBonus_yqmo8d$(t, i, g, a.abilityScoresBuffed, u); var b = t.managerWeapons.getDamageBonusString_3ii029$(i, d, u), I = "Melee1_", w = null; if (u.isRangedOrFirearm()) { for (var L = 0; L <= 2; L++)if (!h[L]) { h[L] = !0, w = this.getRangedFields_0(), I = "Ranged" + (L + 1 | 0).toString(), l = o(w); for (var T = 0; T !== l.length; ++T)w[T] = I + w[T]; b.length > 0 ? n[I + "_Other"] = b : n[I + "_Other"] = u.range; break } } else for (var k = 0; k <= 2; k++)if (!p[k]) { p[k] = !0, w = this.getMeleeFields_0(), I = "Melee" + (k + 1 | 0).toString(), c = o(w); for (var R = 0; R !== c.length; ++R)w[R] = I + w[R]; b.length > 0 && (n[I + "_Other"] = b); break } if (null != w) { n[w[0]] = d.getWeaponFullName_umk5sj$(u, i), n[w[1]] = C.toString(), n[w[2]] = v.toString(), n[w[3]] = S.toString(), n[w[4]] = $.toString(), n[w[5]] = E, n[w[6]] = d.getAbilityDamageBonus_sw8vqo$(t, i, a.abilityScoresBuffed, u).toString(), n[w[7]] = d.getWeaponSpecBonus_ivk615$(t, i, g).toString(), n[w[8]] = d.getWeaponTraits_fha2vo$(t, i, u).toString(), g > 0 && (n[I + this.getTrainingField_0(g)] = "SetFieldChecked"); var P = this.getBPSValue_0(u); null != P && (n[I + P] = "SetFieldChecked") } } }, O5.prototype.stampGeneralProficiencies_np1lp2$ = function (t, i, a, r) { var n, o, s, l, c, p, h = e.isType(n = i.getProficiency_61zpoe$(pK().PROFICIENCY_SIMPLE_WEAPONS), nK) ? n : d(); this.stampTrainingField_0(r, "Simple", h, a), h = e.isType(o = i.getProficiency_61zpoe$(pK().PROFICIENCY_MARTIAL_WEAPONS), nK) ? o : d(), this.stampTrainingField_0(r, "Martial", h, a), h = e.isType(s = i.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED), nK) ? s : d(), this.stampTrainingField_0(r, "Unarmored", h, a), h = e.isType(l = i.getProficiency_61zpoe$(pK().PROFICIENCY_LIGHT_ARMOR), nK) ? l : d(), this.stampTrainingField_0(r, "Light", h, a), h = e.isType(c = i.getProficiency_61zpoe$(pK().PROFICIENCY_MEDIUM_ARMOR), nK) ? c : d(), this.stampTrainingField_0(r, "Medium", h, a), h = e.isType(p = i.getProficiency_61zpoe$(pK().PROFICIENCY_HEAVY_ARMOR), nK) ? p : d(), this.stampTrainingField_0(r, "Heavy", h, a) }, O5.prototype.stampTrainingField_0 = function (t, e, i, a) { var r = i.getProficiencyAtLevel_za3lpa$(a); r > 0 && (t[e + this.getTrainingField_0(r)] = "SetFieldChecked") }, O5.prototype.getTrainingField_0 = function (t) { switch (t) { case 2: return "_T"; case 4: return "_E"; case 6: return "_M"; case 8: return "_L" }return "_T" }, O5.prototype.getBPSValue_0 = function (t) { return m(t.damageType, "B") ? "_DmgB" : m(t.damageType, "P") ? "_DmgP" : m(t.damageType, "S") ? "_DmgS" : null }, O5.prototype.getMeleeFields_0 = function () { return ["_Name", "_AtkMod", "_AtkStrMod", "_AtkProfMod", "_AtkItemMod", "_Dice", "_DmgStrMod", "_WSpecMod", "_Traits"] }, O5.prototype.getRangedFields_0 = function () { return ["_Name", "_AtkMod", "_AtkDexMod", "_AtkProfMod", "_AtkItemMod", "_Dice", "_DmgMod", "_WSpecMod", "_Traits"] }, O5.$metadata$ = { kind: p, simpleName: "ExportSkills", interfaces: [] }; var F5 = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function B5() { this.listSpellBookSpells_0 = u(), this.listSpellBookCantrips_0 = u(), this.listSpellBookInnate_0 = u(), this.listSpellBookFocus_0 = u() } function j5(t) { return t.displayName } function H5(t) { return t.displayName } function q5(t) { return t.displayName } function U5(t) { return t.displayName } function G5(t) { return t.name } function W5(t, e, i, a) { this.$outer = t, this.spellName = e, this.displayName = i, this.spellInformation = null, this.spellInformation = a } function Y5(t, e, i, a, r) { X5(), this.dataControl = t, this.characterBuild = e, this.characterData = i, this.doHyperlinks_0 = a, this.blackImages_0 = r } function V5() { K5 = this, this.SPELL_LEVEL_HEADERS_0 = ["Cantrips", "1st", "2nd", "3rd", "4th", "5th", "6th", "7th", "8th", "9th", "10th"] } B5.prototype.stampSpells_25au06$ = function (t, e, i, a, r) { var n, o, s = u(), l = u(), c = u(); for (n = e.hashMapSpellCasters.values.iterator(); n.hasNext();) { var p = n.next(); a >= p.level && (m(p.casterName, j3().CASTER_CLERIC_FONT) ? l.add_11rb$(p) : p.innate ? c.add_11rb$(p) : p.archetypeCaster ? l.add_11rb$(p) : s.add_11rb$(p)) } var h = null; for (s.size > 0 && (h = s.get_za3lpa$(0)), null == h && l.size > 0 && (h = l.get_za3lpa$(0)), null != h && (this.setSpellProficiencies_0(t, e, i, h, r), this.setSpellsPerDay_0(e, h, r), 1 === h.typeCaster ? r.Prepared = "SetFieldChecked" : r.Spontaneous = "SetFieldChecked", 1 !== h.typeCaster || h.knowsAllSpells ? this.addSpellSpontaenousBook_0(t, e, h) : this.addSpellPreparedBook_0(t, e, h), this.stampSpellBook_0(r)), o = c.iterator(); o.hasNext();) { var d = o.next(); this.addInnateSpellCaster_0(t, e, d) } this.stampInnate_0(r), this.addFocusSpells_0(t, e, r) }, B5.prototype.addFocusSpells_0 = function (t, e, i) { var a, r, n = t.managerSpells.getMaxFocusPoints_5btbp7$(e); for (i.FocusPoints_Max = n.toString(), a = this.getListSortedPowers_0(t, e).iterator(); a.hasNext();) { var o = a.next(), s = t.managerSpells.hashMapSpells.get_11rb$(o.name); null != s && this.listSpellBookFocus_0.add_11rb$(new W5(this, o.name, o.name, s)) } var l = this.listSpellBookFocus_0; l.size > 1 && q(l, new G(F5(j5))), r = this.listSpellBookFocus_0.size; for (var c = 0; c < r; c++) { var p = c + 1 | 0; if (p <= 4) { var h = this.listSpellBookFocus_0.get_za3lpa$(c), d = h.spellInformation; i["Focus" + j(p) + "_Name"] = h.displayName, null != d && (d.actions > -2 && (i["Focus" + j(p) + "_Actions"] = htt().getShortStringFromActionSymbol_za3lpa$(d.actions)), _(d.cast.toLowerCase(), "verbal") && (i["Focus" + j(p) + "_V"] = "SetFieldChecked"), _(d.cast.toLowerCase(), "somatic") && (i["Focus" + j(p) + "_S"] = "SetFieldChecked"), _(d.cast.toLowerCase(), "material") && (i["Focus" + j(p) + "_M"] = "SetFieldChecked")) } } }, B5.prototype.addInnateSpellCaster_0 = function (t, e, i) { var a, r; a = i.getSpellLevelsAvailable_za3lpa$(e.getCharacterData().getCharacterLevel()); for (var n = 0; n <= a; n++) { for (var o = i.getSpellsRepetoire_bh8xs5$(e, e.getCharacterData().getCharacterLevel(), n), s = 0; s < o; s++) { var l = i.getSpellSlotReference_vux9f0$(n, s); this.addInnateSpellBookSpell_0(t, e, i, l, n) } for (r = i.getHashMapBonusSpell_fhac18$(t, e).keys.iterator(); r.hasNext();) { var c = r.next(), p = i.getHashMapBonusSpell_fhac18$(t, e).get_11rb$(c); null != p && p.spellLevel === n && p.addPrepared && p.isAvailableAtCharacterLevel_za3lpa$(e.getCharacterData().getCharacterLevel()) && this.addInnateSpellBookSpell_0(t, e, i, c, n) } } }, B5.prototype.setSpellProficiencies_0 = function (t, i, a, r, n) { var o, s = i.getCharacterData(), l = pK().ARRAY_SPELL_PROFICIENCIES[r.spellList], c = e.isType(o = i.getProficiency_61zpoe$(l), nK) ? o : d(), p = rK(t, i, c), h = c.getProficiencyAtLevel_za3lpa$(s.getCharacterLevel()); r.innate && (h = t.managerSpells.getHighestSpellCasterTraining_vy76y1$(i, s.getCharacterLevel())); var u = pK().getFinalProficiencyTotal_xek4lp$(s, h, s.getCharacterLevel()), _ = htt().getAbilityMod_za3lpa$(a.abilityScoresBuffed[r.getSpellCasterAbilityRef_n40yp2$(i)]), f = p.getTypedBuff_za3lpa$(0), y = 10 + u + _ + f | 0, m = u + _ + f | 0; switch (n.SpellDC = y.toString(), n.SpellDC_KeyMod = _.toString(), n.SpellDC_ProfMod = u.toString(), h > 0 && (n["SpellDC" + this.getTrainingField_0(h)] = "SetFieldChecked"), n.SpellAttack = "+" + m.toString(), n.SpellAtk_KeyMod = _.toString(), n.SpellAtk_ProfMod = u.toString(), h > 0 && (n["SpellAtk" + this.getTrainingField_0(h)] = "SetFieldChecked"), r.spellList) { case 0: n.Arcane = "SetFieldChecked"; break; case 1: n.Divine = "SetFieldChecked"; break; case 2: n.Occult = "SetFieldChecked"; break; case 3: n.Primal = "SetFieldChecked" } }, B5.prototype.stampInnate_0 = function (t) { var e, i = this.listSpellBookInnate_0; if (i.size > 1 && q(i, new G(F5(H5))), 0 !== this.listSpellBookInnate_0.size) { e = this.listSpellBookInnate_0.size; for (var a = 0; a < e; a++) { var r = a + 1 | 0; if (r <= 2) { var n = this.listSpellBookInnate_0.get_za3lpa$(a); t["Innate" + j(r) + "_Name"] = n.displayName; var o = n.spellInformation; null != o && (1 === r ? t["Innate" + j(r) + "_Desciption"] = o.shortDes : t["Innate" + j(r) + "_Description"] = o.shortDes, o.actions > -2 && (t["Innate" + j(r) + "_Actions"] = htt().getShortStringFromActionSymbol_za3lpa$(o.actions)), _(o.cast.toLowerCase(), "verbal") && (t["Innate" + j(r) + "_V"] = "SetFieldChecked"), _(o.cast.toLowerCase(), "somatic") && (t["Innate" + j(r) + "_S"] = "SetFieldChecked"), _(o.cast.toLowerCase(), "material") && (t["Innate" + j(r) + "_M"] = "SetFieldChecked")) } } } }, B5.prototype.stampSpellBook_0 = function (t) { var e, i, a = this.listSpellBookSpells_0; a.size > 1 && q(a, new G(F5(q5))); var r = this.listSpellBookCantrips_0; if (r.size > 1 && q(r, new G(F5(U5))), this.listSpellBookSpells_0.size > 0) { e = this.listSpellBookSpells_0.size; for (var n = 0; n < e; n++) { var o = n + 1 | 0; if (o <= 32) { var s = this.listSpellBookSpells_0.get_za3lpa$(n); t["Spell" + j(o) + "_Name"] = s.displayName; var l = s.spellInformation; null != l && (t["Spell" + j(o) + "_Description"] = l.shortDes, l.actions > -2 && (t["Spell" + j(o) + "_Actions"] = htt().getShortStringFromActionSymbol_za3lpa$(l.actions)), _(l.cast.toLowerCase(), "verbal") && (t["Spell" + j(o) + "_V"] = "SetFieldChecked"), _(l.cast.toLowerCase(), "somatic") && (t["Spell" + j(o) + "_S"] = "SetFieldChecked"), _(l.cast.toLowerCase(), "material") && (t["Spell" + j(o) + "_M"] = "SetFieldChecked")) } } } if (this.listSpellBookCantrips_0.size > 0) { i = this.listSpellBookCantrips_0.size; for (var c = 0; c < i; c++) { var p = c + 1 | 0; if (p <= 7) { var h = this.listSpellBookCantrips_0.get_za3lpa$(c); t["Cantrip" + j(p) + "_Name"] = h.displayName; var d = h.spellInformation; null != d && (t["Cantrip" + j(p) + "_Description"] = d.shortDes, d.actions > -2 && (t["Cantrip" + j(p) + "_Actions"] = htt().getShortStringFromActionSymbol_za3lpa$(d.actions)), _(d.cast.toLowerCase(), "verbal") && (t["Cantrip" + j(p) + "_V"] = "SetFieldChecked"), _(d.cast.toLowerCase(), "somatic") && (t["Cantrip" + j(p) + "_S"] = "SetFieldChecked"), _(d.cast.toLowerCase(), "material") && (t["Cantrip" + j(p) + "_M"] = "SetFieldChecked")) } } } }, B5.prototype.setSpellsPerDay_0 = function (t, e, i) { for (var a = t.getCharacterData().getCharacterLevel(), r = e.getSpellLevelsAvailable_za3lpa$(a), n = 1; n <= r; n++) { var o = -1; 1 === e.typeCaster ? o = e.getSpellsRepetoire_bh8xs5$(t, a, n) : 0 === e.typeCaster && (o = e.getSpontaneousSpellsMax_vux9f0$(a, n)), i["Lvl" + j(n) + "_Slots"] = o.toString() } var s = a / 2, l = C(I.ceil(s)); i.CantripLevel = l.toString() }, B5.prototype.addSpellPreparedBook_0 = function (t, e, i) { var a, r; for (a = e.hashMapExtraWitchKnownSpells.keys.iterator(); a.hasNext();) { var n = a.next(), s = e.hashMapExtraWitchKnownSpells.get_11rb$(n); e.getCharacterData().getCharacterLevel() >= o(s) && this.addPreparedSpell_0(t, n) } if (e.getCharacterData().getHashMapKnownSpellsByCaster().containsKey_11rb$(i.casterName)) for (r = o(e.getCharacterData().getHashMapKnownSpellsByCaster().get_11rb$(i.casterName)).iterator(); r.hasNext();) { var l = r.next(); this.addPreparedSpell_0(t, l) } }, B5.prototype.addPreparedSpell_0 = function (t, e) { var i = t.managerSpells.hashMapSpells.get_11rb$(e); if (null != i) { var a = "", r = !1; m(i.type.toLowerCase(), "cantrip") ? r = !0 : a = i.level.toString() + ": "; var n = a + e; r ? this.listSpellBookCantrips_0.add_11rb$(new W5(this, e, n, i)) : this.listSpellBookSpells_0.add_11rb$(new W5(this, e, n, i)) } }, B5.prototype.addSpellSpontaenousBook_0 = function (t, e, i) { var a, r; a = i.getSpellLevelsAvailable_za3lpa$(e.getCharacterData().getCharacterLevel()); for (var n = 0; n <= a; n++) { for (var o = i.getSpellsRepetoire_bh8xs5$(e, e.getCharacterData().getCharacterLevel(), n), s = 0; s < o; s++) { var l = i.getSpellSlotReference_vux9f0$(n, s); this.addSpellBookSpell_0(t, e, i, l, n) } var c = i.getHashMapBonusSpell_fhac18$(t, e); for (r = c.keys.iterator(); r.hasNext();) { var p = r.next(), h = c.get_11rb$(p); null != h && h.spellLevel === n && h.isAvailableAtCharacterLevel_za3lpa$(e.getCharacterData().getCharacterLevel()) && this.addSpellBookSpell_0(t, e, i, p, n) } } }, B5.prototype.addSpellBookSpell_0 = function (t, e, i, a, r) { if (e.getCharacterData().getHashMapPlayerSpells().containsKey_11rb$(a)) { var n = e.getCharacterData().getHashMapPlayerSpells().get_11rb$(a); if (null != n) { var o = ""; r > 0 && (o = r.toString() + ": "); var s = o + i.getSpellSelectionDisplay_yiom1f$(t, e, a, r), l = t.managerSpells.hashMapSpells.get_11rb$(n.spellName); null != l && (0 === r ? this.listSpellBookCantrips_0.add_11rb$(new W5(this, n.spellName, s, l)) : this.listSpellBookSpells_0.add_11rb$(new W5(this, n.spellName, s, l))) } } }, B5.prototype.addInnateSpellBookSpell_0 = function (t, i, a, r, n) { var o, c; try { if (i.getCharacterData().getHashMapPlayerSpells().containsKey_11rb$(r)) { var p = e.isType(o = i.getCharacterData().getHashMapPlayerSpells().get_11rb$(r), S2) ? o : d(), h = "string" == typeof (c = a.getSpellSelectionDisplay_yiom1f$(t, i, r, n)) ? c : d(), u = t.managerSpells.hashMapSpells.get_11rb$(p.spellName); null != u && this.listSpellBookInnate_0.add_11rb$(new W5(this, p.spellName, h, u)) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, B5.prototype.getTrainingField_0 = function (t) { switch (t) { case 2: return "_T"; case 4: return "_E"; case 6: return "_M"; case 8: return "_L" }return "_T" }, B5.prototype.getListSortedPowers_0 = function (t, e) { var i, a = u(); for (i = e.hashMapAwardedPowers.values.iterator(); i.hasNext();) { var r = i.next(); r.level <= e.getCharacterData().getCharacterLevel() && a.add_11rb$(r) } return a.size > 1 && q(a, new G(F5(G5))), a }, W5.$metadata$ = { kind: p, simpleName: "SpellBookSpell", interfaces: [] }, B5.$metadata$ = { kind: p, simpleName: "ExportSpells", interfaces: [] }, Y5.prototype.addSpells_mo4pzx$ = function (t, e) { var i; for (i = this.characterBuild.hashMapSpellCasters.values.iterator(); i.hasNext();) { var a = i.next(); if (this.characterData.getCharacterLevel() >= a.level) { var r = this.getTotalSpellProficiency_0(this.characterBuild, a, e), n = pK().ARRAY_SPELL_PROFICIENCIES[a.spellList]; if (0 !== a.typeCaster || a.innate) if (1 !== a.typeCaster || a.innate) { if (a.innate) { t.innateSpells = t.innateSpells + "<br>", t.innateSpells = t.innateSpells + "<b>" + n + " Innate Spells</b> DC " + j(r) + this.getSpellAttack_0(a, e); var o = !1; 0 === a.typeCaster && (o = !0), t.innateSpells = t.innateSpells + this.getSpells_0(a, o) } } else t.spellsPrepared = t.spellsPrepared + "<br>", t.spellsPrepared = t.spellsPrepared + "<b>" + n + " Prepared Spells</b> DC " + j(r) + this.getSpellAttack_0(a, e), t.spellsPrepared = t.spellsPrepared + this.getSpells_0(a, !1); else t.spellsKnown = t.spellsKnown + "<br>", t.spellsKnown = t.spellsKnown + "<b>" + n + " Known Spells</b> DC " + j(r) + this.getSpellAttack_0(a, e), t.spellsKnown = t.spellsKnown + this.getSpells_0(a, !0) } } }, Y5.prototype.addFocusSpells_owlxuf$ = function (t) { var e, i = k0().getListSortedPowers_5btbp7$(this.characterBuild); if (!i.isEmpty()) { t.spellsFocus = "<b>Focus Spells</b> (" + j(this.dataControl.managerSpells.getMaxFocusPoints_5btbp7$(this.characterBuild)) + " points) "; var a = ""; for (e = i.iterator(); e.hasNext();) { var r = e.next(), n = this.dataControl.managerSpells.hashMapSpells.get_11rb$(r.name); null != n && (a.length > 0 && (a += "<br>"), a += "<b>" + r.name + "</b> " + c8().getActionImageHTML_fzusl$(n.actions, this.blackImages_0) + c8().getParagraphStrippedHTML_61zpoe$(n.description)) } t.spellsFocus = t.spellsFocus + a } }, Y5.prototype.getSpellAttack_0 = function (t, e) { var i = this.getSpellTrainingLevel_0(t), a = pK().getFinalProficiencyTotal_xek4lp$(this.characterBuild.getCharacterData(), i, this.characterBuild.getCharacterData().getCharacterLevel()) + htt().getAbilityMod_za3lpa$(e.abilityScoresBuffed[t.getSpellCasterAbilityRef_n40yp2$(this.characterBuild)]) | 0; return ", attack " + htt().getSignedValue_za3lpa$(a) }, Y5.prototype.getSpells_0 = function (t, i) { for (var a, r, n = "", o = t.getSpellLevelsAvailable_za3lpa$(this.characterData.getCharacterLevel()); o >= 0; o--) { var s = t.getSpellsRepetoire_bh8xs5$(this.characterBuild, this.characterData.getCharacterLevel(), o); n += " <b>" + X5().SPELL_LEVEL_HEADERS_0[o] + "</b> "; for (var l = "", c = 0; c < s; c++) { var p = t.getSpellSlotReference_vux9f0$(o, c), h = t.getSpellSelectionDisplay_yiom1f$(this.dataControl, this.characterBuild, p, o), u = t.getSpellNameIgnoreHeighten_zici4a$(this.characterBuild, p, o); if (!m(u, B9().NOT_SELECTED)) { l.length > 0 && (l += ", "); var _ = "https://2e.aonprd.com/Spells.aspx", f = this.dataControl.managerSpells.hashMapSpells.get_11rb$(u); null != f && null != h && (_ = f.url, l += this.getHyperlinkedText_jyasbz$(h, _)) } } var y = t.getHashMapBonusSpell_fhac18$(this.dataControl, this.characterBuild); for (a = y.keys.iterator(); a.hasNext();) { var $ = a.next(), g = e.isType(r = y.get_11rb$($), v3) ? r : d(); if (g.spellLevel === o && g.addPrepared && g.isAvailableAtCharacterLevel_za3lpa$(this.characterData.getCharacterLevel())) { var v = t.getSpellSelectionDisplay_yiom1f$(this.dataControl, this.characterBuild, $, o); if (!dt(v, B9().NOT_SELECTED)) { l.length > 0 && (l += ", "); var S = "https://2e.aonprd.com/Spells.aspx", C = t.getSpellNameIgnoreHeighten_zici4a$(this.characterBuild, $, o), E = this.dataControl.managerSpells.hashMapSpells.get_11rb$(C); null != E && null != v && (S = E.url, l += this.getHyperlinkedText_jyasbz$(v, S)) } } } n += l, o > 0 && (i && (n += " (" + t.getSpontaneousSpellsMax_vux9f0$(this.characterData.getCharacterLevel(), o) + " slots)"), n += "; ") } return n }, Y5.prototype.getHyperlinkedText_jyasbz$ = function (t, e) { return this.doHyperlinks_0 ? '<a href="' + j(e) + '">' + t + "</a>" : t }, Y5.prototype.getTotalSpellProficiency_0 = function (t, e, i) { var a, r = pK().ARRAY_SPELL_PROFICIENCIES[e.spellList]; if (null == (a = t.getProficiency_61zpoe$(r))) return 0; var n = a, o = rK(this.dataControl, t, n).getTypedBuff_za3lpa$(0), s = htt().getAbilityMod_za3lpa$(i.abilityScoresBuffed[e.getSpellCasterAbilityRef_n40yp2$(t)]), l = this.getSpellTrainingLevel_0(e); return 10 + pK().getFinalProficiencyTotal_xek4lp$(this.characterData, l, this.characterData.getCharacterLevel()) + s + o | 0 }, Y5.prototype.getSpellTrainingLevel_0 = function (t) { var e, i = pK().ARRAY_SPELL_PROFICIENCIES[t.spellList], a = null != (e = this.characterBuild.getProficiency_61zpoe$(i)) ? e : new nK, r = this.characterBuild.getCharacterData().getCharacterLevel(), n = a.getProficiencyAtLevel_za3lpa$(r); return t.innate && (n = this.dataControl.managerSpells.getHighestSpellCasterTraining_vy76y1$(this.characterBuild, r)), n }, Y5.prototype.addFormulaBook_owlxuf$ = function (t) { var e, i, a; for (e = this.characterData.getHashMapFormulaBookByCaster().keys.iterator(); e.hasNext();) { var r = e.next(), n = this.characterBuild.getCharacterData().getHashMapFormulaBookByCaster().get_11rb$(r); if (null != n) for (i = n.keys.iterator(); i.hasNext();) { var o = i.next(), s = o; t.formulaBook.length > 0 && (t.formulaBook = t.formulaBook + ", "); var l = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(o); if (null != l) { var c = "number" == typeof (a = n.get_11rb$(o)) ? a : d(); c > 0 && (s += " (" + c + ")"), t.formulaBook = t.formulaBook + this.getHyperlinkedText_jyasbz$(s, l.url) } } } }, V5.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var K5 = null; function X5() { return null === K5 && new V5, K5 } function J5() { this.name = "", this.level = 1, this.className = "Fighter", this.alignment = "", this.size = "", this.ancestry = "", this.heritage = "", this.type = "Humanoid", this.perception = 0, this.initiativeMods = "", this.senses = "", this.languages = "", this.skills = "", this.abilityScores = new Int32Array(6), this.items = "", this.ac = "", this.fort = 0, this.ref = 0, this.will = 0, this.saveMods = "", this.hp = 0, this.stam = -1, this.resistances = "", this.speed = 0, this.climb = 0, this.burrow = 0, this.swim = 0, this.fly = 0, this.melee = u(), this.ranged = u(), this.listActions = u(), this.spellsKnown = "", this.spellsPrepared = "", this.innateSpells = "", this.spellsFocus = "", this.formulaBook = "", this.otherFeats = "", this.otherSpecials = "", this.sneakAttack = "", this.notes = "" } function Z5(t, e) { this.attack = "", this.damage = "", this.attack = t, this.damage = e } function Q5() { this.spellName = null, this.actions = 0, this.description = null } Y5.$metadata$ = { kind: p, simpleName: "ActiveDetailSpellBuilder", interfaces: [] }, Z5.$metadata$ = { kind: p, simpleName: "Attack", interfaces: [] }, Q5.$metadata$ = { kind: p, simpleName: "Spell", interfaces: [] }, J5.$metadata$ = { kind: p, simpleName: "ActiveDetails", interfaces: [] }; var t8 = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function e8(t, e, i, a, r, n, o, s) { this.mainActivity = t, this.characterBuild = e, this.characterData = i, this.reportAbilityScores = a, this.hideCommon = r, this.hideAll = n, this.doHyperlinks = o, this.blackImages = s, this.dataControl = null, this.html = "", this.shieldBonus = 0, this.dataControl = this.mainActivity.getDataControl() } function i8(t) { return t.name } function a8(t, i, a, r, n, s, l, c) { e8.call(this, t, i, a, r, n, s, l, c), this.petData_0 = null, this.petCharacterBuild_0 = null, this.animalCompanionInformation_0 = null, this.masterCharacterBuild_0 = null, this.petCharacterBuild_0 = i, this.masterCharacterBuild_0 = t.characterBuild, this.petData_0 = a; var p, h = this.dataControl.managerPets.hashMapAnimalCompanions, u = a.getPetName(); this.animalCompanionInformation_0 = o((e.isType(p = h, y) ? p : d()).get_11rb$(u)) } function r8(t, e, i, a, r, n) { e8.call(this, t, e, i, a, r, n, !0, !0), this.petData_0 = null, this.petCharacterBuild_0 = null, this.masterCharacterBuild_0 = null, this.petCharacterBuild_0 = e, this.masterCharacterBuild_0 = t.characterBuild, this.petData_0 = i } function n8(t, i, a, r, n, o) { var s; e8.call(this, t, i, a, r, n, o, !0, !0), this.petData_0 = null, this.petCharacterBuild_0 = null, this.eidolonInformation_0 = null, this.masterCharacterBuild_0 = null, this.clonedCharacterBuild_0 = null, this.petCharacterBuild_0 = i, this.masterCharacterBuild_0 = t.characterBuild, this.petData_0 = a, this.clonedCharacterBuild_0 = UH().getClonedCharacterBuild_iww7pb$(this.dataControl, this.masterCharacterBuild_0, i, this.masterCharacterBuild_0.getCharacterData().getCharacterLevel()); var l, c = this.dataControl.managerPets.hashMapEidolonInformation, p = a.getPetName(); this.eidolonInformation_0 = null != (s = (e.isType(l = c, y) ? l : d()).get_11rb$(p)) ? s : new YY } function o8(t, e, i, a, r, n, o, s) { e8.call(this, t, e, i, a, r, n, o, s), this.petData_0 = null, this.petCharacterBuild_0 = null, this.masterCharacterBuild_0 = null, this.spellCastingMod_0 = 0, this.petCharacterBuild_0 = e, this.masterCharacterBuild_0 = t.characterBuild, this.petData_0 = i, this.spellCastingMod_0 = this.dataControl.managerPets.getFamiliarSpellCastingAbilityMod_jn8rkh$(this.masterCharacterBuild_0, this.masterCharacterBuild_0.getPlayReportAbilityScores_sfkw43$(this.dataControl)) } function s8() { l8 = this, this.BREAKER_DEFENSE = "<hr>", this.BREAKER_OFFENSE = "<hr>", this.BREAKER_NOTES = "<hr>", this.COMMON_ACTIONS = ["Attack of Opportunity", "Shield Block"] } e8.prototype.getHtml = function () { var t = new J5; this.setTraits_owlxuf$(t); var e = this.dataControl.managerClasses.getInitiaitveBonus_5btbp7$(this.characterBuild); e > 0 && (t.initiativeMods = " (" + htt().getSignedValue_za3lpa$(e) + " initiative)"), this.setSenses_owlxuf$(t), t.languages = _l().getLanguagesAsString_5btbp7$(this.characterBuild), this.addSkills_mo4pzx$(t, this.reportAbilityScores); for (var i = 0; i <= 5; i++)t.abilityScores[i] = htt().getAbilityMod_za3lpa$(this.reportAbilityScores.abilityScoresBuffed[i]); this.addEquipment_owlxuf$(t), this.setHP_owlxuf$(t), this.setSpeed_owlxuf$(t), this.setSaveProficiencies_owlxuf$(t), t.resistances = this.resistances, this.addWeapons_owlxuf$(t), this.setEncounterActions_owlxuf$(t), this.setSpells_owlxuf$(t), this.addOtherFeats_owlxuf$(t), this.addSneakAttack_owlxuf$(t), this.addSpecials_owlxuf$(t); var a = !m(this.characterData.getNotes(), "Notes"); return a && (a = this.characterData.getNotes().length > 0), a && (t.notes = this.characterData.getNotes()), c8().getHTMLStatBlock_n3u1ow$(t, this.hideCommon, this.hideAll, this.blackImages) }, e8.prototype.setEncounterActions_owlxuf$ = function (t) { t.listActions = U1().getListEncounterActions_syiyjf$(this.dataControl, this.characterBuild, !1) }, e8.prototype.setSpells_owlxuf$ = function (t) { var e = new Y5(this.dataControl, this.characterBuild, this.characterData, this.doHyperlinks, this.blackImages); e.addSpells_mo4pzx$(t, this.reportAbilityScores), e.addFocusSpells_owlxuf$(t), e.addFormulaBook_owlxuf$(t) }, e8.prototype.setHP_owlxuf$ = function (t) { t.hp = this.dataControl.managerClasses.getMaxHP_5btbp7$(this.characterBuild), this.characterData.isUseStamina() && (t.stam = this.dataControl.managerClasses.getMaxStamina_5btbp7$(this.characterBuild)) }, e8.prototype.setSpeed_owlxuf$ = function (t) { t.speed = this.dataControl.managerEquipment.getSpeed_5btbp7$(this.characterBuild) }, e8.prototype.setSaveProficiencies_owlxuf$ = function (t) { var e, i, a, r, n = null != (e = this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)) ? e : new nK, o = n.getProficiencyAtLevel_za3lpa$(t.level); t.perception = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_PERCEPTION, o, this.reportAbilityScores, 4), o = (n = null != (i = this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE)) ? i : new nK).getProficiencyAtLevel_za3lpa$(t.level), t.fort = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_FORTITUDE, o, this.reportAbilityScores, 2), o = (n = null != (a = this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX)) ? a : new nK).getProficiencyAtLevel_za3lpa$(t.level), t.ref = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_REFLEX, o, this.reportAbilityScores, 1), o = (n = null != (r = this.characterBuild.getProficiency_61zpoe$(pK().PROFICIENCY_WILL)) ? r : new nK).getProficiencyAtLevel_za3lpa$(t.level), t.will = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_WILL, o, this.reportAbilityScores, 4) }, e8.prototype.setSenses_owlxuf$ = function (t) { BK().hasSpecialByLevel_o7aqax$(this.characterBuild, "Low-Light Vision", t.level) && (t.senses = t.senses + "Low-Light Vision "), BK().hasSpecialByLevel_o7aqax$(this.characterBuild, "Darkvision", t.level) && (t.senses = t.senses + "Darkvision ") }, e8.prototype.setTraits_owlxuf$ = function (t) { var e; t.name = this.characterData.getCharacterName(), t.level = this.characterData.getCharacterLevel(), t.className = this.characterData.getClassName(), t.alignment = this.characterData.getAlignment(), t.size = this.dataControl.managerAncestry.getSize_5btbp7$(this.characterBuild), t.ancestry = this.characterData.getAncestry(), t.heritage = null != (e = this.dataControl.managerAncestry.getHeritageDisplayName_5btbp7$(this.characterBuild)) ? e : "" }, e8.prototype.addSneakAttack_owlxuf$ = function (t) { var e; for (e = this.characterBuild.hashMapSneakAttackTracks.values.iterator(); e.hasNext();) { var i = e.next(), a = i.getDiceAtLevel_za3lpa$(t.level); null != a && (t.sneakAttack.length > 0 && (t.sneakAttack = t.sneakAttack + ", "), t.sneakAttack = t.sneakAttack + (i.precisionType + " ") + a.diceAsString) } }, e8.prototype.addOtherFeats_owlxuf$ = function (t) { var e, i, a, r = u(), n = u(); for (e = this.characterData.hashMapFeatSelections.keys.iterator(); e.hasNext();) { var o = e.next(), s = this.characterData.hashMapFeatSelections.get_11rb$(o), l = this.characterBuild.getFeatChoiceWithoutLevel_61zpoe$(o); if (null != l && null != s && l.level <= t.level && !r.contains_11rb$(s)) { r.add_11rb$(s); var c = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(s); null != c && -2 === c.action && l.hashMapChildFeatChoices.isEmpty() && (n.contains_11rb$(c) || n.add_11rb$(c)) } } for (i = this.characterBuild.getListFreeFeatsByLevel_za3lpa$(t.level).iterator(); i.hasNext();) { var p = i.next(); if (!r.contains_11rb$(p.featID)) { r.add_11rb$(p.featID); var h = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(p.featID); null != h && -2 === h.action && (n.contains_11rb$(h) || n.add_11rb$(h)) } } for (n.size > 1 && q(n, new G(t8(i8))), a = n.iterator(); a.hasNext();) { var d = a.next(); _(d.name.toLowerCase(), "proficiency") || (t.otherFeats.length > 0 && (t.otherFeats = t.otherFeats + ", "), t.otherFeats = t.otherFeats + this.getHyperlinkedText_jyasbz$(d.name, d.url)) } }, e8.prototype.addWeapons_owlxuf$ = function (t) { var e; for (e = this.characterData.listPlayerWeapons.iterator(); e.hasNext();) { var i = e.next(), a = this.dataControl.managerWeapons.hashMapWeapons.get_11rb$(i.weaponName); if (null != a) { var r = this.dataControl.managerWeapons.getWeaponProficiencyType_zici4a$(this.characterBuild, i.weaponName, this.characterBuild.getCharacterData().getCharacterLevel()), n = pK().ARRAY_WEAPON_PROFICIENCY_TYPES[r], s = this.characterBuild.getProficiency_61zpoe$(n), l = aK(); null != s && (l = rK(this.dataControl, this.characterBuild, s)), l.addAttackBuffs_cvmu72$(this.dataControl, this.characterBuild, i.getAttackAbilityRef()); var c = l.getWeaponItemBonus_t0a6b2$(this.characterBuild, i), p = this.dataControl.managerWeapons.getWeaponTrainingLevel_zici4a$(this.characterBuild, i.weaponName, this.characterData.getCharacterLevel()), h = i.getAbilityBonus_q5rwfd$(this.reportAbilityScores.abilityScoresBuffed), d = pK().getFinalProficiencyTotalWeapons_bh8xs5$(this.characterBuild, p, this.characterData.getCharacterLevel()) + h + c | 0; null != i.attackOverride && (d = o(i.attackOverride)); var u = ""; if (0 === a.damage) u = "Special"; else { var _ = i.getDiceSize_unclgl$(this.characterBuild, a); u = (1 + i.getItemStriking_5btbp7$(this.characterBuild) | 0).toString() + "d" + _.toString() } var f = i.getDamageBonus_yqmo8d$(this.dataControl, this.characterBuild, p, this.reportAbilityScores.abilityScoresBuffed, a); f > 0 ? u += "+" + f : f < 0 && (u += f), u += " (" + a.damageType + ")", u += this.dataControl.managerWeapons.getDamageBonusString_3ii029$(this.characterBuild, i, a); var y = i.getWeaponFullName_umk5sj$(a, this.characterBuild) + " " + htt().getSignedValue_za3lpa$(d) + " (" + i.getWeaponTraits_fha2vo$(this.dataControl, this.characterBuild, a) + ")"; a.isRangedOrFirearm() ? t.ranged.add_11rb$(new Z5(y, u)) : t.melee.add_11rb$(new Z5(y, u)) } } }, e8.prototype.addEquipment_owlxuf$ = function (t) { var i, a = new J1(this.dataControl, this.characterBuild, this.characterData.getCharacterLevel()); for (a.createReport(), t.items = a.playerArmorName, i = a.listEquipment.iterator(); i.hasNext();) { var r = i.next(); t.items.length > 0 && (t.items = t.items + ", "), t.items = t.items + r } var n = this.dataControl.managerArmor.getWornShieldInformation_5btbp7$(this.characterBuild); if (null != n) { var o = n.name, c = n.getHp_9khk5$(this.dataControl, this.characterBuild); o += " (Hardness " + j(n.getHardness_9khk5$(this.dataControl, this.characterBuild)) + ", HP " + j(c) + ", BT " + j(n.getBT_za3lpa$(c)) + ")"; try { this.shieldBonus = V(n.ac) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } t.items.length > 0 && (t.items = t.items + ", "), t.items = t.items + o } var p = this.getACTotal_za3lpa$(this.characterData.getCharacterLevel()); if (t.ac = p.toString(), this.shieldBonus > 0) { var h = p + this.shieldBonus | 0; t.ac = t.ac + " (+" + h + " with shield raised)" } }, e8.prototype.addSkills_mo4pzx$ = function (t, e) { var i, a, r, n = u(); for (i = this.dataControl.managerProficiencies.getAllSkillsAsArray_5btbp7$(this.characterBuild), a = 0; a !== i.length; ++a) { var o = i[a], s = this.characterBuild.getSkillProficiency_61zpoe$(o); if (null != s) { var l = s.getProficiencyAtLevel_za3lpa$(t.level); if (l > 0 || m(o, pK().ACROBATICS) || m(o, pK().ATHELTICS)) { var c = this.getProficiencyTotalSkills_cmp8dy$(o, l, e, s.abilityRef); s.armorPenalty && (c = c + this.dataControl.managerArmor.getArmorPenalty_yjt0at$(this.characterBuild, e.abilityScoresBuffed[0], o) | 0), n.add_11rb$(o + " " + htt().getSignedValue_za3lpa$(c)) } } } for (Q(n), r = n.iterator(); r.hasNext();) { var p = r.next(); t.skills.length > 0 && (t.skills = t.skills + ", "), t.skills = t.skills + p } }, e8.prototype.getACTotal_za3lpa$ = function (t) { var e, i = this.characterData.getPlayerArmor(), a = this.dataControl.managerArmor.getArmorProficiencyType_s8qicq$(i), r = null != (e = this.characterBuild.getProficiency_61zpoe$(a)) ? e : new nK, n = rK(this.dataControl, this.characterBuild, r).getArmorItemBonus_fhac18$(this.dataControl, this.characterBuild), o = this.dataControl.managerArmor.getArmorTrainingLevel_a0vkeb$(this.characterBuild, i, t), s = pK().getFinalProficiencyTotal_xek4lp$(this.characterData, o, t), l = this.dataControl.managerArmor.getArmorAbilityBonus_5btbp7$(this.characterBuild); return this.dataControl.managerArmor.getDexCap_5btbp7$(this.characterBuild), 10 + s + l + n | 0 }, e8.prototype.getProficiencyTotal_cmp8dy$ = function (t, e, i, a) { var r; if (null == (r = this.characterBuild.getProficiency_61zpoe$(t))) return 0; var n = r, o = rK(this.dataControl, this.characterBuild, n), s = this.characterData.getCharacterLevel(), l = pK().getFinalProficiencyTotal_xek4lp$(this.characterData, e, s); return se().ARRAY_ABILITIES_SHORT[a], l + htt().getAbilityMod_za3lpa$(i.abilityScoresBuffed[a]) + o.getTypedBuff_za3lpa$(0) | 0 }, e8.prototype.getProficiencyTotalSkills_cmp8dy$ = function (t, e, i, a) { var r; if (null == (r = this.characterBuild.getProficiency_61zpoe$(t))) return 0; var n = r, o = rK(this.dataControl, this.characterBuild, n), s = this.characterData.getCharacterLevel(), l = pK().getFinalProficiencyTotalSkill_r1xdi3$(this.dataControl, this.characterBuild, e, s); return se().ARRAY_ABILITIES_SHORT[a], l + htt().getAbilityMod_za3lpa$(i.abilityScoresBuffed[a]) + o.getTypedBuff_za3lpa$(0) | 0 }, Object.defineProperty(e8.prototype, "resistances", { configurable: !0, get: function () { var t, e = ""; for (t = this.characterBuild.hashMapResistances.values.iterator(); t.hasNext();) { var i = t.next(); e.length > 0 && (e += ", "), e += this.dataControl.managerClasses.getDamageResistance_qvxlip$(this.characterBuild, i) } return e } }), e8.prototype.addSpecials_owlxuf$ = function (t) { var e, i, a, r, n, s, l = ["Swapping Spells in Your Repertoire", "Spell Repertoire", "Cantrips", "Heightening Spells", "Weapon Fury", "Brutality", "Shield Block", "Alertness", "Vigilant Senses", "Heightened Senses", "Incredible Senses", "Magical Fortitude", "Lightning Reflexes", "Iron Will", "Weapon Specialization", "Greater Weapon Specialization", "Low-Light Vision", "Darkvision", "Expert Spellcaster", "Master Spellcaster", "Legendary Spellcaster", "Armor of Fury"], p = u(); for (e = 0; e !== l.length; ++e) { var h = l[e]; p.add_11rb$(h) } var d = c(); i = t.level; for (var _ = 1; _ <= i; _++)for (a = o(this.characterBuild.hashMapSpecialInformation[_ - 1 | 0]).keys.iterator(); a.hasNext();) { var f = a.next(), y = null != (r = o(this.characterBuild.hashMapSpecialInformation[_ - 1 | 0]).get_11rb$(f)) ? r : HX(); if (this.addLegally_3ldbj0$(p, y)) if (y.hashMapSpecialChoices.isEmpty()) { var m = o(y.name), $ = y.url; d.put_xwzc9p$(m, $) } else for (n = y.hashMapSpecialChoices.keys.iterator(); n.hasNext();) { var g = n.next(), v = this.characterData.getSpecialSelection_puj7f4$(f, o(g)); null == v && (v = B9().NOT_SELECTED); var S = y.name + " (" + v + ")", C = y.url; d.put_xwzc9p$(S, C) } } var E = w(d.keys); for (Q(E), E.contains_11rb$("Greater Juggernaut") ? (E.remove_11rb$("Greater Juggernaut"), E.remove_11rb$("Juggernaut"), t.saveMods.length > 0 && (t.saveMods = t.saveMods + ", "), t.saveMods = t.saveMods + this.getHyperlinkedText_jyasbz$("Greater Juggernaut", d.get_11rb$("Greater Juggernaut"))) : E.contains_11rb$("Juggernaut") && (E.remove_11rb$("Juggernaut"), t.saveMods.length > 0 && (t.saveMods = t.saveMods + ", "), t.saveMods = t.saveMods + this.getHyperlinkedText_jyasbz$("Juggernaut", d.get_11rb$("Juggernaut"))), E.contains_11rb$("Improved Evasion") ? (E.remove_11rb$("Improved Evasion"), E.remove_11rb$("Evasion"), t.saveMods.length > 0 && (t.saveMods = t.saveMods + ", "), t.saveMods = t.saveMods + this.getHyperlinkedText_jyasbz$("Improved Evasion", d.get_11rb$("Improved Evasion"))) : E.contains_11rb$("Evasion") && (E.remove_11rb$("Evasion"), t.saveMods.length > 0 && (t.saveMods = t.saveMods + ", "), t.saveMods = t.saveMods + this.getHyperlinkedText_jyasbz$("Evasion", d.get_11rb$("Evasion"))), E.contains_11rb$("Greater Resolve") ? (E.remove_11rb$("Greater Resolve"), E.remove_11rb$("Resolve"), t.saveMods.length > 0 && (t.saveMods = t.saveMods + ", "), t.saveMods = t.saveMods + this.getHyperlinkedText_jyasbz$("Greater Resolve", d.get_11rb$("Greater Resolve"))) : E.contains_11rb$("Resolve") ? (E.remove_11rb$("Resolve"), t.saveMods.length > 0 && (t.saveMods = t.saveMods + ", "), t.saveMods = t.saveMods + this.getHyperlinkedText_jyasbz$("Resolve", d.get_11rb$("Resolve"))) : E.contains_11rb$("Slippery Mind") ? (E.remove_11rb$("Slippery Mind"), t.saveMods.length > 0 && (t.saveMods = t.saveMods + ", "), t.saveMods = t.saveMods + this.getHyperlinkedText_jyasbz$("Slippery Mind", d.get_11rb$("Slippery Mind"))) : E.contains_11rb$("Indomitable Will") && (E.remove_11rb$("Indomitable Will"), t.saveMods.length > 0 && (t.saveMods = t.saveMods + ", "), t.saveMods = t.saveMods + this.getHyperlinkedText_jyasbz$("Indomitable Will", d.get_11rb$("Indomitable Will"))), E.contains_11rb$("Bravery") && (E.remove_11rb$("Bravery"), t.saveMods.length > 0 && (t.saveMods = t.saveMods + ", "), t.saveMods = t.saveMods + this.getHyperlinkedText_jyasbz$("Bravery", d.get_11rb$("Bravery"))), s = E.iterator(); s.hasNext();) { var A = s.next(); t.otherSpecials.length > 0 && (t.otherSpecials = t.otherSpecials + ", "), t.otherSpecials = t.otherSpecials + this.getHyperlinkedText_jyasbz$(A, d.get_11rb$(A)) } }, e8.prototype.addLegally_3ldbj0$ = function (t, e) { return null != e.name && !(t.contains_11rb$(e.name) || _(o(e.name), "Expertise") || -2 !== e.action) }, e8.prototype.getHyperlinkedText_jyasbz$ = function (t, e) { return this.doHyperlinks ? '<a href="' + j(e) + '">' + t + "</a>" : t }, e8.$metadata$ = { kind: p, simpleName: "ExportStatBlock", interfaces: [] }, a8.prototype.setTraits_owlxuf$ = function (t) { t.name = this.petData_0.getDisplayName_5btbp7$(this.masterCharacterBuild_0), t.level = this.characterData.getCharacterLevel(), t.className = "", t.alignment = this.characterData.getAlignment(), t.size = this.dataControl.managerPets.getAnimalSize_krmj4$(this.masterCharacterBuild_0, this.petData_0, this.animalCompanionInformation_0), t.ancestry = "Minion", t.heritage = "", t.type = "Animal", this.animalCompanionInformation_0.special.length > 0 && (t.otherSpecials = this.animalCompanionInformation_0.special) }, a8.prototype.setSenses_owlxuf$ = function (t) { t.senses = this.animalCompanionInformation_0.senses }, a8.prototype.setHP_owlxuf$ = function (t) { t.hp = this.petCharacterBuild_0.getMaxHP_fhac18$(this.dataControl, this.masterCharacterBuild_0) }, a8.prototype.setSpeed_owlxuf$ = function (t) { var e = new tY(this.dataControl, this.petCharacterBuild_0, this.masterCharacterBuild_0); t.speed = e.speed, t.climb = e.climb, t.burrow = e.burrow, t.swim = e.swim, t.fly = e.fly }, a8.prototype.setEncounterActions_owlxuf$ = function (t) { t.listActions = u(); try { var i, a = this.dataControl.managerPets.hashMapAnimalCompanions, r = this.petData_0.getPetName(), n = (e.isType(i = a, y) ? i : d()).get_11rb$(r); WV().isIncredible_5btbp7$(this.masterCharacterBuild_0) && null != n && (this.petCharacterBuild_0.spawnedbyAnimalTrainer ? t.listActions.add_11rb$(WV().getAnimalTrainerEncounterAction()) : t.listActions.add_11rb$(o(n.advancedAction))); var c = cc("Support Benefit", -2, "", o(n).support, 4); t.listActions.add_11rb$(c) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, a8.prototype.addWeapons_owlxuf$ = function (t) { var i, a, r = e.isType(i = this.petCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS), nK) ? i : d(), n = r.getProficiencyAtLevel_za3lpa$(this.petData_0.getCharacterLevel()); for (a = this.animalCompanionInformation_0.listAnimalAttacks.iterator(); a.hasNext();) { var o, s = a.next(), l = pK().getFinalProficiencyTotal_xek4lp$(this.masterCharacterBuild_0.getCharacterData(), n, this.petData_0.getCharacterLevel()), c = this.dataControl.managerPets.getAttackAbilityRef_3ordfu$(this.petCharacterBuild_0, s), p = l + htt().getAbilityMod_za3lpa$(this.reportAbilityScores.abilityScoresBuffed[c]) + rK(this.dataControl, this.petCharacterBuild_0, r).getTypedBuff_za3lpa$(0) | 0, h = s.damage, u = this.dataControl.managerPets.getAnimalDamageDice_f0wj8v$(this.petCharacterBuild_0), _ = this.dataControl.managerPets.getDamageBonus_4vd6cw$(this.masterCharacterBuild_0, this.petCharacterBuild_0, this.petData_0); o = u.toString() + "d" + h.toString() + "+" + _.toString() + " (" + s.type + ")"; var f = s.name + " " + htt().getSignedValue_za3lpa$(p); t.melee.add_11rb$(new Z5(f, o)) } }, a8.prototype.addSkills_mo4pzx$ = function (t, e) { var i, a, r, n = u(); for (i = this.dataControl.managerProficiencies.getAllSkillsAsArray_5btbp7$(this.petCharacterBuild_0), a = 0; a !== i.length; ++a) { var o = i[a], s = this.petCharacterBuild_0.getSkillProficiency_61zpoe$(o); if (null != s) { var l = s.getProficiencyAtLevel_za3lpa$(t.level); if (l > 0 || m(o, pK().ACROBATICS) || m(o, pK().ATHELTICS)) { var c = this.getProficiencyTotal_cmp8dy$(o, l, e, s.abilityRef); s.armorPenalty && (c = c + this.dataControl.managerArmor.getArmorPenalty_yjt0at$(this.characterBuild, e.abilityScoresBuffed[0], o) | 0), n.add_11rb$(o + " " + htt().getSignedValue_za3lpa$(c)) } } } for (Q(n), r = n.iterator(); r.hasNext();) { var p = r.next(); t.skills.length > 0 && (t.skills = t.skills + ", "), t.skills = t.skills + p } }, a8.prototype.getProficiencyTotal_cmp8dy$ = function (t, e, i, a) { var r; if (null == (r = this.characterBuild.getProficiency_61zpoe$(t))) return 0; var n = r, o = rK(this.dataControl, this.characterBuild, n), s = this.characterData.getCharacterLevel(), l = pK().getFinalProficiencyTotal_xek4lp$(this.masterCharacterBuild_0.getCharacterData(), e, s); return se().ARRAY_ABILITIES_SHORT[a], l + htt().getAbilityMod_za3lpa$(i.abilityScoresBuffed[a]) + o.getTypedBuff_za3lpa$(0) | 0 }, a8.prototype.getACTotal_za3lpa$ = function (t) { var e = this.dataControl.managerArmor.getWornArmorInformation_5btbp7$(this.petCharacterBuild_0); if (null != e) { var i = pK().ARRAY_ARMOR_PROFICIENCY_TYPES[e.proficiencyType], a = this.petCharacterBuild_0.getProficiency_61zpoe$(i), r = rK(this.dataControl, this.petCharacterBuild_0, o(a)).getArmorItemBonus_fhac18$(this.dataControl, this.petCharacterBuild_0), n = a.getProficiencyAtLevel_za3lpa$(this.petData_0.getCharacterLevel()); return 10 + pK().getFinalProficiencyTotal_xek4lp$(this.petCharacterBuild_0.getPetData(), n, this.petData_0.getCharacterLevel()) + this.dataControl.managerArmor.getArmorAbilityBonus_5btbp7$(this.petCharacterBuild_0) + r | 0 } return 10 }, a8.$metadata$ = { kind: p, simpleName: "ExportStatBlockAnimalCompanion", interfaces: [e8] }, r8.prototype.setTraits_owlxuf$ = function (t) { t.name = this.petData_0.getDisplayName_5btbp7$(this.masterCharacterBuild_0), t.level = this.characterData.getCharacterLevel(), t.className = "", t.alignment = this.characterData.getAlignment(), t.size = zY().getSize_v0xutk$(this.masterCharacterBuild_0, this.petCharacterBuild_0), t.ancestry = "", t.heritage = "", t.type = "Construct" }, r8.prototype.setSenses_owlxuf$ = function (t) { t.senses = zY().getSenses_7npgvs$(this.petCharacterBuild_0, this.masterCharacterBuild_0) }, r8.prototype.setSpeed_owlxuf$ = function (t) { var e = new OY(this.dataControl, this.petCharacterBuild_0, this.masterCharacterBuild_0); t.speed = e.speed, t.climb = e.climb, t.burrow = e.burrow, t.swim = e.swim, t.fly = e.fly }, r8.prototype.addWeapons_owlxuf$ = function (t) { var i, a, r = e.isType(i = this.petCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS), nK) ? i : d(), n = r.getProficiencyAtLevel_za3lpa$(this.petData_0.getCharacterLevel()); for (a = this.petData_0.getHashMapEidolonAttacks().keys.iterator(); a.hasNext();) { var o = a.next(), s = this.petData_0.getHashMapEidolonAttacks().get_11rb$(o); if (null != s && this.attackOKAtLevel_0(o)) { var l = pK().getFinalProficiencyTotal_xek4lp$(this.masterCharacterBuild_0.getCharacterData(), n, this.petData_0.getCharacterLevel()), c = s.getFullConstructTraits_jtsk75$(this.petCharacterBuild_0, o), p = 0; _(c.toLowerCase(), "finesse") && this.reportAbilityScores.abilityScoresBuffed[1] > this.reportAbilityScores.abilityScoresBuffed[0] && (p = 1), 2 === o && (p = 1); var h = l + htt().getAbilityMod_za3lpa$(this.reportAbilityScores.abilityScoresBuffed[p]) + rK(this.dataControl, this.petCharacterBuild_0, r).getTypedBuff_za3lpa$(0) | 0; h = h + s.getPotency_5btbp7$(this.petCharacterBuild_0) | 0; var u, f = s.getEidolonDamageDiceSize_za3lpa$(o), y = 1 + s.getConstructStriking_5btbp7$(this.masterCharacterBuild_0) | 0, m = s.getConstructDamageBonus_ju2cul$(this.characterBuild.getCharacterData().getCharacterLevel(), n, this.reportAbilityScores.abilityScoresBuffed, o, this.petCharacterBuild_0, this.masterCharacterBuild_0); u = y.toString() + "d" + j(f) + "+" + j(m) + " (" + s.damageType + ")"; var $ = ["Primary Attack", "Secondary Attack", "Ranged Attack"][o]; c.length > 0 && ($ += "(" + c + ") "), $ += htt().getSignedValue_za3lpa$(h), 2 === o ? t.ranged.add_11rb$(new Z5($, u)) : t.melee.add_11rb$(new Z5($, u)) } } }, r8.prototype.attackOKAtLevel_0 = function (t) { return 2 !== t || zY().hasSelectedModification_q8fthw$(this.masterCharacterBuild_0, this.petCharacterBuild_0, "Projectile Launcher", "no ref") }, r8.prototype.getACTotal_za3lpa$ = function (t) { var i, a = e.isType(i = this.petCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED), nK) ? i : d(), r = a.getProficiencyAtLevel_za3lpa$(this.petData_0.getCharacterLevel()); return 10 + pK().getFinalProficiencyTotal_xek4lp$(this.characterBuild.getCharacterData(), r, this.petData_0.getCharacterLevel()) + htt().getAbilityMod_za3lpa$(this.reportAbilityScores.abilityScoresBuffed[1]) + 0 + rK(this.dataControl, this.petCharacterBuild_0, a).totalBuffExcludingItem | 0 }, r8.prototype.setHP_owlxuf$ = function (t) { t.hp = this.petCharacterBuild_0.getMaxHP_fhac18$(this.dataControl, this.mainActivity.characterBuild) }, r8.$metadata$ = { kind: p, simpleName: "ExportStatBlockConstruct", interfaces: [e8] }, n8.prototype.setSaveProficiencies_owlxuf$ = function (t) { var i, a, r, n, o, s, l, c; if (this.petData_0.isFreeArchetype()) { var p = e.isType(i = this.masterCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION), nK) ? i : d(), h = p.getProficiencyAtLevel_za3lpa$(t.level); t.perception = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_PERCEPTION, h, this.reportAbilityScores, 4), h = (p = e.isType(a = this.masterCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE), nK) ? a : d()).getProficiencyAtLevel_za3lpa$(t.level), t.fort = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_FORTITUDE, h, this.reportAbilityScores, 2), h = (p = e.isType(r = this.masterCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX), nK) ? r : d()).getProficiencyAtLevel_za3lpa$(t.level), t.ref = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_REFLEX, h, this.reportAbilityScores, 1), h = (p = e.isType(n = this.masterCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_WILL), nK) ? n : d()).getProficiencyAtLevel_za3lpa$(t.level), t.will = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_WILL, h, this.reportAbilityScores, 4) } else { var u = this.characterBuild.getCharacterData().getPlayerArmor().getItemResilient_5btbp7$(this.masterCharacterBuild_0), _ = e.isType(o = this.petCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION), nK) ? o : d(), f = _.getProficiencyAtLevel_za3lpa$(t.level); t.perception = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_PERCEPTION, f, this.reportAbilityScores, 4), f = (_ = e.isType(s = this.petCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_FORTITUDE), nK) ? s : d()).getProficiencyAtLevel_za3lpa$(t.level), t.fort = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_FORTITUDE, f, this.reportAbilityScores, 2) + u | 0, f = (_ = e.isType(l = this.petCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_REFLEX), nK) ? l : d()).getProficiencyAtLevel_za3lpa$(t.level), t.ref = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_REFLEX, f, this.reportAbilityScores, 1) + u | 0, f = (_ = e.isType(c = this.petCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_WILL), nK) ? c : d()).getProficiencyAtLevel_za3lpa$(t.level), t.will = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_WILL, f, this.reportAbilityScores, 4) + u | 0 } }, n8.prototype.setTraits_owlxuf$ = function (t) { var e = "", i = this.petData_0.getNickname(); null != i && 0 !== i.length && (e += this.petData_0.getNickname() + " - "), e += this.petData_0.isSwitchB() ? this.eidolonInformation_0.type2 : this.eidolonInformation_0.type1, t.name = e, t.level = this.characterData.getCharacterLevel(), t.className = "", t.alignment = "", t.size = X1().getEidolonSize_v0xutk$(this.masterCharacterBuild_0, this.petCharacterBuild_0), t.ancestry = "Eidolon", this.petData_0.isSwitchB() ? t.heritage = this.eidolonInformation_0.type2 : t.heritage = this.eidolonInformation_0.type1, t.type = "Eidolon" }, n8.prototype.setSenses_owlxuf$ = function (t) { t.senses = X1().getEidolonSenses_9f62qa$(this.petCharacterBuild_0, this.masterCharacterBuild_0, this.eidolonInformation_0) }, n8.prototype.setSpeed_owlxuf$ = function (t) { var e = new VY(this.dataControl, this.petCharacterBuild_0, this.masterCharacterBuild_0, this.eidolonInformation_0); t.speed = e.speed, t.climb = e.climb, t.burrow = e.burrow, t.swim = e.swim, t.fly = e.fly }, n8.prototype.setEncounterActions_owlxuf$ = function (t) { t.listActions = u(); try { var i = this.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_EIDOLON_ABILTIIES); if (this.petCharacterBuild_0.getPetData().isFreeArchetype()) { if (Lq().hasFeatByLevel_w0akbr$(this.characterBuild, "No feat ref", this.characterBuild.getCharacterData().getCharacterLevel(), "ARCHETYPE_Initial Eidolon Ability")) { var a = o(i.get_11rb$(this.eidolonInformation_0.ability1)), r = cc(this.eidolonInformation_0.ability1, a.action, "", a.textDescription, 4); t.listActions.add_11rb$(r) } } else { var n = o(i.get_11rb$(this.eidolonInformation_0.ability1)), c = cc(this.eidolonInformation_0.ability1, n.action, "", n.textDescription, 4); t.listActions.add_11rb$(c), this.characterBuild.getCharacterData().getCharacterLevel() >= 7 && (n = o(i.get_11rb$(this.eidolonInformation_0.ability2)), c = cc(this.eidolonInformation_0.ability2, n.action, "", n.textDescription, 4), t.listActions.add_11rb$(c)), this.characterBuild.getCharacterData().getCharacterLevel() >= 17 && (n = o(i.get_11rb$(this.eidolonInformation_0.ability3)), c = cc(this.eidolonInformation_0.ability3, n.action, "", n.textDescription, 4), t.listActions.add_11rb$(c)) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, n8.prototype.addWeapons_owlxuf$ = function (t) { var i, a, r = e.isType(i = this.petCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMED_ATTACKS), nK) ? i : d(), n = r.getProficiencyAtLevel_za3lpa$(this.petData_0.getCharacterLevel()); for (a = this.petData_0.getHashMapEidolonAttacks().keys.iterator(); a.hasNext();) { var s = a.next(), l = o(this.petData_0.getHashMapEidolonAttacks().get_11rb$(s)), c = pK().getFinalProficiencyTotal_xek4lp$(this.masterCharacterBuild_0.getCharacterData(), n, this.petData_0.getCharacterLevel()), p = l.getFullTraits_za3lpa$(s), h = 0; _(p.toLowerCase(), "finesse") && this.reportAbilityScores.abilityScoresBuffed[1] > this.reportAbilityScores.abilityScoresBuffed[0] && (h = 1), 2 === s && (h = 1); var u = c + htt().getAbilityMod_za3lpa$(this.reportAbilityScores.abilityScoresBuffed[h]) + rK(this.dataControl, this.petCharacterBuild_0, r).getTypedBuff_za3lpa$(0) | 0; u = u + l.getPotency_5btbp7$(this.petCharacterBuild_0) | 0; var f, y = l.getEidolonDamageDiceSize_za3lpa$(s), m = 1 + l.getItemStriking_5btbp7$(this.petCharacterBuild_0) | 0, $ = l.getEidolonDamageBonus_ju2cul$(this.characterBuild.getCharacterData().getCharacterLevel(), n, this.reportAbilityScores.abilityScoresBuffed, s, this.petCharacterBuild_0, this.masterCharacterBuild_0); f = m.toString() + "d" + j(y) + "+" + j($) + " (" + l.damageType + ")"; var g = ["Primary Attack", "Secondary Attack", "Ranged Attack"][s] + " (" + p + ") " + htt().getSignedValue_za3lpa$(u); 2 === s ? t.ranged.add_11rb$(new Z5(g, f)) : t.melee.add_11rb$(new Z5(g, f)) } }, n8.prototype.addSkills_mo4pzx$ = function (t, e) { var i, a, r, n = u(); for (i = this.dataControl.managerProficiencies.getAllSkillsAsArray_5btbp7$(this.clonedCharacterBuild_0), a = 0; a !== i.length; ++a) { var o = i[a], s = this.clonedCharacterBuild_0.getSkillProficiency_61zpoe$(o); if (null != s) { var l = s.getProficiencyAtLevel_za3lpa$(t.level); if (console.log("SKILL " + o + " training level: " + l), l > 0 || m(o, pK().ACROBATICS) || m(o, pK().ATHELTICS)) { var c = this.getProficiencyTotal_cmp8dy$(o, l, e, s.abilityRef); n.add_11rb$(o + " " + htt().getSignedValue_za3lpa$(c)) } } } for (Q(n), r = n.iterator(); r.hasNext();) { var p = r.next(); t.skills.length > 0 && (t.skills = t.skills + ", "), t.skills = t.skills + p } }, n8.prototype.getProficiencyTotal_cmp8dy$ = function (t, e, i, a) { var r; if (null == (r = this.clonedCharacterBuild_0.getProficiency_61zpoe$(t))) return 0; var n = r, o = rK(this.dataControl, this.clonedCharacterBuild_0, n), s = this.characterData.getCharacterLevel(); return pK().getFinalProficiencyTotal_xek4lp$(this.masterCharacterBuild_0.getCharacterData(), e, s) + htt().getAbilityMod_za3lpa$(i.abilityScoresBuffed[a]) + o.getTypedBuff_za3lpa$(0) | 0 }, n8.prototype.getACTotal_za3lpa$ = function (t) { var i, a = e.isType(i = this.petCharacterBuild_0.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED), nK) ? i : d(), r = this.eidolonInformation_0.ac1; this.petData_0.isSwitchB() && (r = this.eidolonInformation_0.ac2), r = r + this.characterBuild.getCharacterData().getPlayerArmor().getPotency_5btbp7$(this.masterCharacterBuild_0) | 0; var n = a.getProficiencyAtLevel_za3lpa$(this.petData_0.getCharacterLevel()), o = pK().getFinalProficiencyTotal_xek4lp$(this.characterBuild.getCharacterData(), n, this.petData_0.getCharacterLevel()), s = htt().getAbilityMod_za3lpa$(this.reportAbilityScores.abilityScoresBuffed[1]), l = this.eidolonInformation_0.dexcap1; return this.petData_0.isSwitchB() && (l = this.eidolonInformation_0.dexcap2), s > l && (s = l), 10 + o + s + r + rK(this.dataControl, this.petCharacterBuild_0, a).totalBuffExcludingItem | 0 }, n8.prototype.setHP_owlxuf$ = function (t) { t.hp = this.dataControl.managerClasses.getMaxHP_5btbp7$(this.masterCharacterBuild_0) }, n8.$metadata$ = { kind: p, simpleName: "ExportStatBlockEidolon", interfaces: [e8] }, o8.prototype.setTraits_owlxuf$ = function (t) { t.name = this.petData_0.getDisplayName_5btbp7$(this.masterCharacterBuild_0), t.level = this.characterData.getCharacterLevel(), t.className = "", t.alignment = this.characterData.getAlignment(), t.size = "Tiny", t.ancestry = "Minion", t.heritage = "", t.type = "Familiar" }, o8.prototype.setSenses_owlxuf$ = function (t) { t.senses = this.petCharacterBuild_0.familiarSenses }, o8.prototype.setHP_owlxuf$ = function (t) { t.hp = this.petCharacterBuild_0.getMaxHP_fhac18$(this.dataControl, this.masterCharacterBuild_0) }, o8.prototype.setSpeed_owlxuf$ = function (t) { var e = new tY(this.dataControl, this.petCharacterBuild_0, this.masterCharacterBuild_0); t.speed = e.speed, t.climb = e.climb, t.burrow = e.burrow, t.swim = e.swim, t.fly = e.fly }, o8.prototype.setEncounterActions_owlxuf$ = function (t) { var i, a, r; if (t.listActions = u(), null != this.petData_0.getFamiliarSpecific()) { var n, s = this.dataControl.managerPets.hashMapSpecificFamiliars, l = this.petData_0.getFamiliarSpecific(); if (null == (i = (e.isType(n = s, y) ? n : d()).get_11rb$(l))) return; for (a = i.listSpecial.iterator(); a.hasNext();) { var c = a.next(); if (null != (r = this.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$(c))) { var p = r, h = cc(o(p.name), p.action, p.flags, p.textDescription, 4); t.listActions.add_11rb$(h) } } } }, o8.prototype.addWeapons_owlxuf$ = function (t) { }, o8.prototype.addSkills_mo4pzx$ = function (t, e) { var i, a, r, n = u(); for (i = this.dataControl.managerProficiencies.getAllSkillsAsArray_5btbp7$(this.petCharacterBuild_0), a = 0; a !== i.length; ++a) { var o = i[a], s = this.petCharacterBuild_0.getSkillProficiency_61zpoe$(o); if (null != s && BV().shouldApplySpellCastingBonus_e0dl4x$(this.petCharacterBuild_0, o)) { var l = BV().getLevelPlusSpellCastingMod_rwoxnj$(this.dataControl, this.masterCharacterBuild_0, this.petCharacterBuild_0, s, o, this.spellCastingMod_0, !1); n.add_11rb$(o + " " + htt().getSignedValue_za3lpa$(l)) } } for (Q(n), r = n.iterator(); r.hasNext();) { var c = r.next(); t.skills.length > 0 && (t.skills = t.skills + ", "), t.skills = t.skills + c } t.skills = t.skills + ", All other skills +" + j(this.characterData.getCharacterLevel()) }, o8.prototype.setSaveProficiencies_owlxuf$ = function (t) { t.perception = this.getProficiencyTotal_cmp8dy$(pK().PROFICIENCY_PERCEPTION, 0, this.reportAbilityScores, 0), t.fort = BV().getProficiencyTotalBasedOnMaster_cub8r7$(this.dataControl, this.masterCharacterBuild_0, this.petCharacterBuild_0, pK().PROFICIENCY_FORTITUDE, 2).total, t.ref = BV().getProficiencyTotalBasedOnMaster_cub8r7$(this.dataControl, this.masterCharacterBuild_0, this.petCharacterBuild_0, pK().PROFICIENCY_REFLEX, 1).total, t.will = BV().getProficiencyTotalBasedOnMaster_cub8r7$(this.dataControl, this.masterCharacterBuild_0, this.petCharacterBuild_0, pK().PROFICIENCY_WILL, 4).total }, o8.prototype.getProficiencyTotal_cmp8dy$ = function (t, e, i, a) { var r; if (null == (r = this.petCharacterBuild_0.getProficiency_61zpoe$(t))) return 0; var n = r; return BV().getLevelPlusSpellCastingMod_rwoxnj$(this.dataControl, this.masterCharacterBuild_0, this.petCharacterBuild_0, n, t, this.spellCastingMod_0, !1) }, o8.prototype.getACTotal_za3lpa$ = function (t) { var i, a = this.masterCharacterBuild_0.getCharacterData().getPlayerArmor(), r = this.dataControl.managerArmor.getArmorProficiencyType_s8qicq$(a), n = e.isType(i = this.masterCharacterBuild_0.getProficiency_61zpoe$(r), nK) ? i : d(), o = rK(this.dataControl, this.petCharacterBuild_0, n).getArmorItemBonus_fhac18$(this.dataControl, this.petCharacterBuild_0), s = this.dataControl.managerArmor.getArmorTrainingLevel_a0vkeb$(this.masterCharacterBuild_0, a, t); return 10 + pK().getFinalProficiencyTotal_xek4lp$(this.masterCharacterBuild_0.getCharacterData(), s, t) + this.dataControl.managerArmor.getArmorAbilityBonus_5btbp7$(this.masterCharacterBuild_0) + o | 0 }, o8.$metadata$ = { kind: p, simpleName: "ExportStatBlockFamiliar", interfaces: [e8] }, s8.prototype.getHTMLStatBlock_n3u1ow$ = function (t, e, i, a) { var r = ""; return r += f8().getTitle_owlxuf$(t), r += this.BREAKER_DEFENSE, r += f8().getTraits_owlxuf$(t), r += f8().getPerceptionSenses_owlxuf$(t), r += f8().getLanguages_owlxuf$(t), r += f8().getSkills_owlxuf$(t), r += f8().getAbilities_owlxuf$(t), r += f8().getItems_owlxuf$(t), r += this.BREAKER_DEFENSE, r += d8().getACSaves_owlxuf$(t), r += d8().getHPS_owlxuf$(t), r += d8().getReactions_n3u1ow$(t, e, i, a), r += this.BREAKER_OFFENSE, r += $8().getSpeed_owlxuf$(t), r += $8().getMelee_owlxuf$(t), r += $8().getRanged_owlxuf$(t), r += $8().getActions_n3u1ow$(t, e, i, a), r += $8().getSneakAttack_owlxuf$(t), r += $8().getSpellsKnown_owlxuf$(t), r += $8().getSpellsPrepared_owlxuf$(t), r += $8().getSpellInnate_owlxuf$(t), r += $8().getSpellsFocus_owlxuf$(t), r += $8().getFormulaBook_owlxuf$(t), r += $8().getOtherFeats_owlxuf$(t), r += $8().getOtherSpecials_owlxuf$(t), null != t.notes && t.notes.length > 0 && (r += "<br>", r += this.BREAKER_NOTES, r += "<p>Notes: " + t.notes + "</p>"), r }, s8.prototype.getActionImageHTML_fzusl$ = function (t, e) { if (e) switch (t) { case -1: return this.imgCSS_0 + 'src="img\\action_free_black.png">'; case 0: return this.imgCSS_0 + 'src="img\\action_reaction_black.png">'; case 1: return this.imgCSS_0 + 'src="img\\action_single_black.png">'; case 2: return this.imgCSS_0 + 'src="img\\action_double_black.png">'; case 3: return this.imgCSS_0 + 'src="img\\action_triple_black.png">'; case 4: return this.imgCSS_0 + 'src="img\\action_range_black.png">' }switch (t) { case -1: return this.imgCSS_0 + 'src="img\\action_free.png">'; case 0: return this.imgCSS_0 + 'src="img\\action_reaction.png">'; case 1: return this.imgCSS_0 + 'src="img\\action_single.png">'; case 2: return this.imgCSS_0 + 'src="img\\action_double.png">'; case 3: return this.imgCSS_0 + 'src="img\\action_triple.png">'; case 4: return this.imgCSS_0 + 'src="img\\action_range.png">' }return "" }, Object.defineProperty(s8.prototype, "imgCSS_0", { configurable: !0, get: function () { return "<img class='action-icon' " } }), s8.prototype.getParagraphStrippedHTML_61zpoe$ = function (t) { var e = t; return e = L(e, "<br>", " "), e = L(e, "<p>", " "), e = L(e, "</p>", " "), e = L(e, "<ul>", ""), e = L(e, "</ul>", ""), e = L(e, "<li>", ""), e = L(e, "</li>", "; ") }, s8.prototype.displayAction_o0ij6q$ = function (t, e, i) { var a, r; if (i) return !1; if (e) for (a = this.COMMON_ACTIONS, r = 0; r !== a.length; ++r) { var n = a[r]; if (m(t, n)) return !1 } return !0 }, s8.$metadata$ = { kind: f, simpleName: "StatBlockParser", interfaces: [] }; var l8 = null; function c8() { return null === l8 && new s8, l8 } function p8() { h8 = this } p8.prototype.getACSaves_owlxuf$ = function (t) { var e = "<b>AC</b> " + t.ac.toString() + ", <b>Fort</b> " + htt().getSignedValue_za3lpa$(t.fort) + ", <b>Ref</b> " + htt().getSignedValue_za3lpa$(t.ref) + ", <b>Will</b> " + htt().getSignedValue_za3lpa$(t.will); return t.saveMods.length > 0 && (e += "; " + t.saveMods), e }, p8.prototype.getHPS_owlxuf$ = function (t) { var e = "<br><b>HP</b> " + j(t.hp); return t.stam > -1 && (e += "<br><b>Stamina</b> " + j(t.stam)), t.resistances.length > 0 && (e += "; <b>Resistances</b> " + t.resistances), e }, p8.prototype.getReactions_n3u1ow$ = function (t, e, i, a) { var r, n = ""; for (r = t.listActions.iterator(); r.hasNext();) { var o = r.next(); 0 !== o.encounterActionType && 2 !== o.encounterActionType && 4 !== o.encounterActionType || 0 === o.action && (n += "<br>", n += "<b>" + o.name + "</b> " + c8().getActionImageHTML_fzusl$(o.action, a), c8().displayAction_o0ij6q$(o.name, e, i) && (n += c8().getParagraphStrippedHTML_61zpoe$(o.description))) } return n }, p8.$metadata$ = { kind: f, simpleName: "ParseDefense", interfaces: [] }; var h8 = null; function d8() { return null === h8 && new p8, h8 } function u8() { _8 = this } u8.prototype.getTitle_owlxuf$ = function (t) { var e = "<h3><b>" + t.name.toString() + '<span style="float:right;">'; return t.className.length > 0 && (e += t.className.toString() + " "), e + t.level.toString() + "</span></b></h3>" }, u8.prototype.getTraits_owlxuf$ = function (t) { var e = "<div>"; return t.alignment.length > 0 && (e += '<div class="trait trait-common">' + t.alignment.toString() + "</div>"), e += '<div class="trait trait-common">' + t.size.toString() + "</div>", t.ancestry.length > 0 && (e += '<div class="trait trait-common">' + t.ancestry.toString() + "</div>"), t.heritage.length > 0 && (e += '<div class="trait trait-common">' + t.heritage.toString() + "</div>"), e += '<div class="trait trait-common">' + t.type.toString() + "</div></div>" }, u8.prototype.getPerceptionSenses_owlxuf$ = function (t) { return "<b>Perception</b> " + htt().getSignedValue_za3lpa$(t.perception) + t.initiativeMods.toString() + "; " + t.senses }, u8.prototype.getLanguages_owlxuf$ = function (t) { return "<br><b>Languages</b> " + t.languages }, u8.prototype.getSkills_owlxuf$ = function (t) { return "<br><b>Skills</b> " + t.skills }, u8.prototype.getAbilities_owlxuf$ = function (t) { return "<br><b>Str</b> " + htt().getSignedValue_za3lpa$(t.abilityScores[0]) + ", <b>Dex</b> " + htt().getSignedValue_za3lpa$(t.abilityScores[1]) + ", <b>Con</b> " + htt().getSignedValue_za3lpa$(t.abilityScores[2]) + ", <b>Int</b> " + htt().getSignedValue_za3lpa$(t.abilityScores[3]) + ", <b>Wis</b> " + htt().getSignedValue_za3lpa$(t.abilityScores[4]) + ", <b>Cha</b> " + htt().getSignedValue_za3lpa$(t.abilityScores[5]) }, u8.prototype.getItems_owlxuf$ = function (t) { return "<br><b>Items</b> " + t.items }, u8.$metadata$ = { kind: f, simpleName: "ParseHeader", interfaces: [] }; var _8 = null; function f8() { return null === _8 && new u8, _8 } function y8() { m8 = this } y8.prototype.getSpeed_owlxuf$ = function (t) { var e = "<b>Speed</b> " + t.speed.toString() + " feet"; return t.burrow > 0 && (e += ", burrow " + t.burrow.toString() + " feet"), t.climb > 0 && (e += ", climb " + t.climb.toString() + " feet"), t.swim > 0 && (e += ", swim " + t.swim.toString() + " feet"), t.fly > 0 && (e += ", fly " + t.fly.toString() + " feet"), e }, y8.prototype.getMelee_owlxuf$ = function (t) { var e; if (t.melee.isEmpty()) return ""; var i = ""; for (e = t.melee.iterator(); e.hasNext();) { var a = e.next(); i += "<br><b>Melee</b> " + a.attack.toString() + ", <b>Damage</b> " + a.damage } return i }, y8.prototype.getRanged_owlxuf$ = function (t) { var e; if (t.ranged.isEmpty()) return ""; var i = ""; for (e = t.ranged.iterator(); e.hasNext();) { var a = e.next(); i += "<br><b>Ranged</b> " + a.attack.toString() + ", <b>Damage</b> " + a.damage } return i }, y8.prototype.getSneakAttack_owlxuf$ = function (t) { return 0 === t.sneakAttack.length ? "" : "<br><b>Precision Damage</b> " + t.sneakAttack }, y8.prototype.getSpellsKnown_owlxuf$ = function (t) { return 0 === t.spellsKnown.length ? "" : t.spellsKnown }, y8.prototype.getSpellsPrepared_owlxuf$ = function (t) { return 0 === t.spellsPrepared.length ? "" : t.spellsPrepared }, y8.prototype.getSpellInnate_owlxuf$ = function (t) { return 0 === t.innateSpells.length ? "" : t.innateSpells }, y8.prototype.getSpellsFocus_owlxuf$ = function (t) { return 0 === t.spellsFocus.length ? "" : "<br>" + t.spellsFocus }, y8.prototype.getFormulaBook_owlxuf$ = function (t) { return 0 === t.formulaBook.length ? "" : "<br><b>Formula Book</b> " + t.formulaBook }, y8.prototype.getActions_n3u1ow$ = function (t, e, i, a) { var r, n = ""; for (r = t.listActions.iterator(); r.hasNext();) { var o = r.next(); 0 !== o.encounterActionType && 2 !== o.encounterActionType && 4 !== o.encounterActionType || 0 !== o.action && (n += "<br>", n += "<b>" + o.name + "</b> " + c8().getActionImageHTML_fzusl$(o.action, a), c8().displayAction_o0ij6q$(o.name, e, i) && (null != o.traits && o.traits.length > 0 && (n += " (" + o.traits + ") "), n += c8().getParagraphStrippedHTML_61zpoe$(o.description))) } return n }, y8.prototype.getOtherFeats_owlxuf$ = function (t) { return 0 === t.otherFeats.length ? "" : "<br><b>Additional Feats</b> " + t.otherFeats }, y8.prototype.getOtherSpecials_owlxuf$ = function (t) { return 0 === t.otherSpecials.length ? "" : "<br><b>Additional Specials</b> " + t.otherSpecials }, y8.$metadata$ = { kind: f, simpleName: "ParseOffense", interfaces: [] }; var m8 = null; function $8() { return null === m8 && new y8, m8 } function g8() { S8 = this } function v8(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } g8.prototype.getExportBundle_moeyi0$ = function (t, i, a) { var r, n, c, p, h, u, _, f, y = new r9; y.characterData = i; var m = t.getDataControl(), $ = m.managerBackgrounds.getBackground_g7kqbx$(i); for ($.databaseID > -1 && (y.customBackground = $), r = i.listPlayerEquipment.iterator(); r.hasNext();) { var g = r.next(); try { var v = m.managerEquipment.hashMapAllEquipmentByName.get_11rb$(g.name); if (o(v).databaseID > -1) { var S = a.get_11rb$("string" == typeof (n = v.uniqueIdentiier) ? n : d()); null != S && y.listCustomFiles.add_11rb$(S) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } for (c = i.hashMapActiveCustomBuffs.keys.iterator(); c.hasNext();) { var C = c.next(), E = m.managerClasses.customBuffSet.hashMap.get_11rb$(C); if (null != E) { var A = a.get_11rb$("string" == typeof (p = E.uniqueIdentifier) ? p : d()); null != A && y.listCustomFiles.add_11rb$(A) } } var b = m.managerArmor.getWornArmorInformation_g7kqbx$(i); if (b.databaseID > -1) { var I = a.get_11rb$("string" == typeof (h = b.uniqueIdentiier) ? h : d()); null != I && y.listCustomFiles.add_11rb$(I) } for (u = i.listPlayerWeapons.iterator(); u.hasNext();) { var w = u.next(), L = m.managerWeapons.hashMapWeapons.get_11rb$(w.weaponName); if (null != L && L.databaseID > -1) { var T = a.get_11rb$("string" == typeof (_ = L.uniqueIdentiier) ? _ : d()); null != T && y.listCustomFiles.add_11rb$(T) } } if (null != i.getPlayerShieldNew()) { var k = m.managerEquipment.hashMapShields.get_11rb$(o(i.getPlayerShieldNew()).shieldName); if (null != k && k.databaseID > -1) { var R = a.get_11rb$("string" == typeof (f = k.uniqueIdentiier) ? f : d()); null != R && y.listCustomFiles.add_11rb$(R) } } return y }, g8.prototype.isCustomEnabled_torya4$ = function (t) { try { if (!o(t.characterData).hashMapCustomFeatChoices.isEmpty()) return !0; if (!t.listCustomFiles.isEmpty()) return !0; if (null != t.customBackground) return !0; if (null != o(t.characterData).getDualClass()) return !0; if (o(t.characterData).isFreeArchetype()) return !0; if (!o(t.characterData).isAddLevelToProficiency()) return !0 } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return !1 }, g8.prototype.isCustomEnabled_g7kqbx$ = function (t) { try { if (!t.hashMapCustomFeatChoices.isEmpty()) return !0; if (null != t.getDualClass()) return !0; if (t.isFreeArchetype()) return !0; if (!t.isAddLevelToProficiency()) return !0 } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return !1 }, g8.prototype.importCustomFiles_vjt79s$ = function (t, i, a, r) { var n, c, p, h, u, _, f, y = ut(void 0, v8); if (null != a.customBackground) try { t.getDataControl().managerBackgrounds.backgroundSet.list.add_11rb$(o(a.customBackground)); var m = t.getDataControl().managerBackgrounds.backgroundSet.hashMap, $ = o(a.customBackground).idCustom, g = o(a.customBackground); if (m.put_xwzc9p$($, g), !r) { var v = JSON.stringify(a.customBackground); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(v, o(a.customBackground).idCustom, 6) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } for (n = a.listCustomFiles.iterator(); n.hasNext();) { var S = n.next(); if (0 === S.type) { var C, E = "string" == typeof (c = S.json) ? c : d(), A = y.decodeFromString_awif5v$(e.isType(C = ft(y.serializersModule, _t(tt(Wp), [], !1)), yt) ? C : d(), E); A.databaseID = -1, A.timestamp = S.timestamp, this.saveAndAddCustomEquipment_0(t, A, r) } else if (5 === S.type) { var b, I = "string" == typeof (p = S.json) ? p : d(), w = y.decodeFromString_awif5v$(e.isType(b = ft(y.serializersModule, _t(tt(Wp), [], !1)), yt) ? b : d(), I); w.databaseID = -1, w.timestamp = S.timestamp, this.saveAndAddCustomScroll_0(t, w, r) } else if (1 === S.type) { var L, T = "string" == typeof (h = S.json) ? h : d(), k = y.decodeFromString_awif5v$(e.isType(L = ft(y.serializersModule, _t(tt(Jn), [], !1)), yt) ? L : d(), T); k.databaseID = -1, k.timestamp = S.timestamp, this.saveAndAddCustomBuff_0(t, k, r) } else if (2 === S.type) { var R, P = "string" == typeof (u = S.json) ? u : d(), M = y.decodeFromString_awif5v$(e.isType(R = ft(y.serializersModule, _t(tt(Qo), [], !1)), yt) ? R : d(), P); M.databaseID = -1, M.timestamp = S.timestamp, this.saveAndAddCustomArmor_0(t, M, r) } else if (3 === S.type) { var N, D = "string" == typeof (_ = S.json) ? _ : d(), x = y.decodeFromString_awif5v$(e.isType(N = ft(y.serializersModule, _t(tt(h1), [], !1)), yt) ? N : d(), D); x.databaseID = -1, x.timestamp = S.timestamp, this.saveAndAddCustomWeapon_0(t, x, r) } else if (4 === S.type) { var z, O = "string" == typeof (f = S.json) ? f : d(), F = y.decodeFromString_awif5v$(e.isType(z = ft(y.serializersModule, _t(tt(lu), [], !1)), yt) ? z : d(), O); F.databaseID = -1, F.timestamp = S.timestamp, this.saveAndAddCustomShields_0(t, F, r) } } }, g8.prototype.saveAndAddCustomEquipment_0 = function (t, i, a) { var r, n, s, l, c, p, h, u, _ = t.getDataControl(), f = _.managerEquipment.hashMapAllEquipmentByName, m = i.uniqueIdentiier; if ((e.isType(u = f, y) ? u : d()).containsKey_11rb$(m)) { var $, g = _.managerEquipment.hashMapAllEquipmentByName, v = i.uniqueIdentiier, S = (e.isType($ = g, y) ? $ : d()).get_11rb$(v); if (this.createdAfter_0(i.timestamp, o(S).timestamp)) { i.databaseID = S.databaseID, _.managerEquipment.hashMapAllEquipmentByName.put_xwzc9p$("string" == typeof (r = i.uniqueIdentiier) ? r : d(), i), s = o(_.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(8)); var C = "string" == typeof (n = i.uniqueIdentiier) ? n : d(); if (s.put_xwzc9p$(C, i), !a) { var E = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(E, "string" == typeof (l = i.uniqueIdentiier) ? l : d(), 0) } } } else { if (!a) { var A = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(A, "string" == typeof (c = i.uniqueIdentiier) ? c : d(), 0) } _.managerEquipment.hashMapAllEquipmentByName.put_xwzc9p$("string" == typeof (p = i.uniqueIdentiier) ? p : d(), i), o(_.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(8)).put_xwzc9p$("string" == typeof (h = i.uniqueIdentiier) ? h : d(), i) } }, g8.prototype.saveAndAddCustomScroll_0 = function (t, i, a) { var r, n, s, l, c, p, h, u = t.getDataControl(), _ = u.managerEquipment.hashMapAllEquipmentByName, f = i.uniqueIdentiier; if ((e.isType(h = _, y) ? h : d()).containsKey_11rb$(f)) { var m, $ = u.managerEquipment.hashMapAllEquipmentByName, g = i.uniqueIdentiier, v = (e.isType(m = $, y) ? m : d()).get_11rb$(g); if (this.createdAfter_0(i.timestamp, o(v).timestamp) && (i.databaseID = v.databaseID, null != (r = i.uniqueIdentiier) && u.managerEquipment.hashMapAllEquipmentByName.put_xwzc9p$(r, i), null != (n = i.uniqueIdentiier) && o(u.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(11)).put_xwzc9p$(n, i), !a)) { var S = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(S, "string" == typeof (s = i.uniqueIdentiier) ? s : d(), 5) } } else { if (!a) { var C = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(C, "string" == typeof (l = i.uniqueIdentiier) ? l : d(), 5) } p = u.managerEquipment.hashMapAllEquipmentByName; var E = "string" == typeof (c = i.uniqueIdentiier) ? c : d(); p.put_xwzc9p$(E, i); var A = o(u.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(11)), b = o(i.uniqueIdentiier); A.put_xwzc9p$(b, i) } }, g8.prototype.saveAndAddCustomBuff_0 = function (t, i, a) { var r, n, s, l, c, p = t.getDataControl(), h = p.managerClasses.customBuffSet.hashMap, u = i.uniqueIdentifier; if ((e.isType(c = h, y) ? c : d()).containsKey_11rb$(u)) { var _, f = p.managerClasses.customBuffSet.hashMap, m = i.uniqueIdentifier, $ = (e.isType(_ = f, y) ? _ : d()).get_11rb$(m); if (this.createdAfter_0(i.timestamp, o($).timestamp)) { if (i.databaseID = $.databaseID, !a) { var g = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(g, "string" == typeof (r = i.uniqueIdentifier) ? r : d(), 1) } p.managerClasses.customBuffSet.hashMap.put_xwzc9p$("string" == typeof (n = i.uniqueIdentifier) ? n : d(), i) } } else { if (!a) { var v = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(v, "string" == typeof (s = i.uniqueIdentifier) ? s : d(), 1) } p.managerClasses.customBuffSet.hashMap.put_xwzc9p$("string" == typeof (l = i.uniqueIdentifier) ? l : d(), i) } }, g8.prototype.saveAndAddCustomArmor_0 = function (t, i, a) { var r, n, s, l, c, p, h, u = t.getDataControl(), _ = u.managerArmor.hashMapArmor, f = i.uniqueIdentiier; if ((e.isType(h = _, y) ? h : d()).containsKey_11rb$(f)) { var m, $ = u.managerArmor.hashMapArmor, g = i.uniqueIdentiier, v = (e.isType(m = $, y) ? m : d()).get_11rb$(g); if (this.createdAfter_0(i.timestamp, o(v).timestamp)) { i.databaseID = v.databaseID, n = u.managerArmor.hashMapArmor; var S = "string" == typeof (r = i.uniqueIdentiier) ? r : d(); if (n.put_xwzc9p$(S, i), !a) { var C = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(C, "string" == typeof (s = i.uniqueIdentiier) ? s : d(), 2) } } } else { if (!a) { var E = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(E, "string" == typeof (l = i.uniqueIdentiier) ? l : d(), 2) } p = u.managerArmor.hashMapArmor; var A = "string" == typeof (c = i.uniqueIdentiier) ? c : d(); p.put_xwzc9p$(A, i) } }, g8.prototype.saveAndAddCustomWeapon_0 = function (t, i, a) { var r, n, s, l, c, p, h = t.getDataControl(), u = h.managerWeapons.hashMapWeapons, _ = i.uniqueIdentiier; if ((e.isType(p = u, y) ? p : d()).containsKey_11rb$(_)) { var f, m = h.managerWeapons.hashMapWeapons, $ = i.uniqueIdentiier, g = (e.isType(f = m, y) ? f : d()).get_11rb$($); if (this.createdAfter_0(i.timestamp, o(g).timestamp)) { i.databaseID = g.databaseID, n = h.managerWeapons.hashMapWeapons; var v = "string" == typeof (r = i.uniqueIdentiier) ? r : d(); if (n.put_xwzc9p$(v, i), !a) { var S = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(S, "string" == typeof (s = i.uniqueIdentiier) ? s : d(), 3) } } } else { if (!a) { var C = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(C, "string" == typeof (l = i.uniqueIdentiier) ? l : d(), 3) } h.managerWeapons.hashMapWeapons.put_xwzc9p$("string" == typeof (c = i.uniqueIdentiier) ? c : d(), i) } }, g8.prototype.saveAndAddCustomShields_0 = function (t, i, a) { var r, n, s, l, c, p = t.getDataControl(), h = p.managerEquipment.hashMapShields, u = i.uniqueIdentiier; if ((e.isType(c = h, y) ? c : d()).containsKey_11rb$(u)) { var _, f = p.managerEquipment.hashMapShields, m = i.uniqueIdentiier, $ = (e.isType(_ = f, y) ? _ : d()).get_11rb$(m); if (this.createdAfter_0(i.timestamp, o($).timestamp) && (i.databaseID = $.databaseID, p.managerEquipment.hashMapShields.put_xwzc9p$("string" == typeof (r = i.uniqueIdentiier) ? r : d(), i), !a)) { var g = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(g, "string" == typeof (n = i.uniqueIdentiier) ? n : d(), 4) } } else { if (!a) { var v = JSON.stringify(i); t.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(v, "string" == typeof (s = i.uniqueIdentiier) ? s : d(), 4) } p.managerEquipment.hashMapShields.put_xwzc9p$("string" == typeof (l = i.uniqueIdentiier) ? l : d(), i) } }, g8.prototype.createdAfter_0 = function (t, i) { if (null != t && null != i) try { var a = new Date(t), r = new Date(i); if (a.getTime() > r.getTime()) return !0 } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return !1 }, g8.$metadata$ = { kind: f, simpleName: "ExportManager", interfaces: [] }; var S8 = null; function C8() { return null === S8 && new g8, S8 } function E8() { this.restoredCustomFiles = !1, this.restoredFolders = !1, this.restoredSaves = !1, this.restoredPortraits = !1 } function A8() { } function b8(t) { this.this$DomainForwardFix = t } function I8(t) { this.this$DomainForwardFix = t } function w8(t, e, i, a) { this.closure$jsonObject = t, this.closure$getAllUserData = e, this.closure$db = i, this.this$DomainForwardFix = a } function L8(t, i, a, r, n, o) { return function () { var s = t.v.result; null != s ? (t.v = i.getAllKeys(), t.v.onsuccess = function (t, i, a, r, n) { return function (o) { var s, l, c, p = o.target.result, h = e.isArray(s = p) ? s : d(), u = e.isArray(l = t) ? l : d(), _ = bt([]); c = h.length - 1 | 0; for (var f = 0; f <= c; f++)_[j(h[f])] = j(u[f]); i[R7().USER_DATA_SAVES] = _; var y = new w8(i, a, r, n); n.getAllSavedFileMetaData_pr1s5f$(y, r) } }(s, a, r, n, o), t.v.onerror = function (t) { return function () { t.forwardWithError() } }(o)) : o.forwardWithError() } } function T8(t, i, a, r, n, o) { return function () { var s = t.v.result; null != s ? (t.v = i.getAllKeys(), t.v.onsuccess = function (t, i, a, r, n) { return function (o) { var s, l, c, p = o.target.result, h = e.isArray(s = p) ? s : d(), u = e.isArray(l = t) ? l : d(), _ = bt([]); c = h.length - 1 | 0; for (var f = 0; f <= c; f++)_[j(h[f])] = j(u[f]); i[R7().USER_DATA_PORTRAITS] = _, n.addCustomFilesToObject_0(a, i, r) } }(s, a, r, n, o), t.v.onerror = function (t, e, i, a) { return function () { a.addCustomFilesToObject_0(t, e, i) } }(r, a, n, o)) : o.addCustomFilesToObject_0(r, a, n) } } function k8(t, i, a, r, n, o) { return function () { var s = t.v.result; null != s ? (t.v = i.getAllKeys(), t.v.onsuccess = function (t, i, a, r, n) { return function (o) { var s, l, c, p = o.target.result, h = e.isArray(s = p) ? s : d(), u = e.isArray(l = t) ? l : d(), _ = bt([]); c = h.length - 1 | 0; for (var f = 0; f <= c; f++)_[j(h[f])] = j(u[f]); i[R7().USER_DATA_CUSTOM_FILES] = _, n.addFoldersToObject_0(a, i, r) } }(s, a, r, n, o), t.v.onerror = function (t, e, i, a) { return function () { a.addFoldersToObject_0(t, e, i) } }(r, a, n, o)) : o.addFoldersToObject_0(r, a, n) } } function R8(t, i, a, r) { return function () { var n = t.v.result; null != n ? (t.v = i.getAllKeys(), t.v.onsuccess = function (t, i, a) { return function (r) { var n, o, s, l = r.target.result, c = e.isArray(n = l) ? n : d(), p = e.isArray(o = t) ? o : d(), h = bt([]); s = c.length - 1 | 0; for (var u = 0; u <= s; u++)h[j(c[u])] = j(p[u]); i[R7().USER_DATA_FOLDER_FILES] = h, a.completed_za3rmp$(i) } }(n, a, r), t.v.onerror = function (t, e) { return function () { t.completed_za3rmp$(e) } }(r, a)) : r.completed_za3rmp$(a) } } function P8(t, e) { this.mainActivity = t, this.db = e } function M8() { } function N8(t, e, i) { this.closure$jsonObject = t, this.closure$getAllUserData = e, this.this$FileManagementAllExportUserData = i } function D8() { } function x8(t, i, a, r, n) { return function () { var o = t.v.result; null != o && (t.v = i.getAllKeys(), t.v.onsuccess = function (t, i, a, r) { return function (n) { var o, s, l, c = n.target.result, p = e.isArray(o = c) ? o : d(), h = e.isArray(s = t) ? s : d(), u = bt([]); l = p.length - 1 | 0; for (var _ = 0; _ <= l; _++)u[j(p[_])] = j(h[_]); i[R7().USER_DATA_SAVES] = u; var f = new N8(i, a, r); r.mainActivity.fileManager.getAllSavedFileMetaData_ccwm1a$(f) } }(o, a, r, n), t.v.onerror = D8) } } function z8() { } function O8(t, i, a, r, n) { return function () { var o = t.v.result; null != o ? (t.v = i.getAllKeys(), t.v.onsuccess = function (t, i, a, r) { return function (n) { var o, s, l, c = n.target.result, p = e.isArray(o = c) ? o : d(), h = e.isArray(s = t) ? s : d(), u = bt([]); l = p.length - 1 | 0; for (var _ = 0; _ <= l; _++)u[j(p[_])] = j(h[_]); i[R7().USER_DATA_PORTRAITS] = u, r.addCustomFilesToObject_0(a, i) } }(o, a, r, n), t.v.onerror = function (t, e, i) { return function () { i.addCustomFilesToObject_0(t, e) } }(r, a, n)) : n.addCustomFilesToObject_0(r, a) } } function F8(t, i, a, r, n) { return function () { var o = t.v.result; null != o ? (t.v = i.getAllKeys(), t.v.onsuccess = function (t, i, a, r) { return function (n) { var o, s, l, c = n.target.result, p = e.isArray(o = c) ? o : d(), h = e.isArray(s = t) ? s : d(), u = bt([]); l = p.length - 1 | 0; for (var _ = 0; _ <= l; _++)u[j(p[_])] = j(h[_]); i[R7().USER_DATA_CUSTOM_FILES] = u, r.addFoldersToObject_0(a, i) } }(o, a, r, n), t.v.onerror = function (t, e, i) { return function () { i.addFoldersToObject_0(t, e) } }(r, a, n)) : n.addFoldersToObject_0(r, a) } } function B8() { } function j8(t, i, a, r) { return function () { var n = t.v.result; null != n ? (t.v = i.getAllKeys(), t.v.onsuccess = function (t, i, a) { return function (r) { var n, o, s, l = r.target.result, c = e.isArray(n = l) ? n : d(), p = e.isArray(o = t) ? o : d(), h = bt([]); s = c.length - 1 | 0; for (var u = 0; u <= s; u++)h[j(c[u])] = j(p[u]); i[R7().USER_DATA_FOLDER_FILES] = h, a.completed_za3rmp$(i) } }(n, a, r), t.v.onerror = B8) : r.completed_za3rmp$(a) } } function H8(t, e, i) { return function () { var a; a = t.v, t.v = a + 1 | 0, t.v === e.size && (i.restoredSaves = !0, i.checkFinished()) } } function q8(t) { return function () { t.restoredSaves = !0, t.checkFinished() } } function U8(t, e, i) { return function () { var a; a = t.v, t.v = a + 1 | 0, t.v === e.size && (i.restoredPortraits = !0, i.checkFinished()) } } function G8(t) { return function () { t.restoredPortraits = !0, t.checkFinished() } } function W8(t, e, i) { return function () { var a; a = t.v, t.v = a + 1 | 0, t.v === e.size && (i.restoredFolders = !0, i.checkFinished()) } } function Y8(t) { return function () { t.restoredFolders = !0, t.checkFinished() } } function V8(t, e, i) { return function () { var a; a = t.v, t.v = a + 1 | 0, t.v === e.size && (i.restoredCustomFiles = !0, i.checkFinished()) } } function K8(t) { return function () { t.restoredCustomFiles = !0, t.checkFinished() } } function X8(t, e) { this.db = e, this.hashMapAllCustomFiles = null } function J8() { } function Z8() { } function Q8() { console.log("failed to save folder file") } function t7() { } function e7() { console.log("unable to delete save file") } E8.prototype.checkFinished = function () { this.restoredCustomFiles && this.restoredFolders && this.restoredSaves && this.restoredPortraits && (Ntt().removeSpinner(), new bet("Success", "All files restored!").show()) }, E8.$metadata$ = { kind: p, simpleName: "DataRestored", interfaces: [] }, b8.prototype.completed_za3rmp$ = function (t) { var i, a = JSON.stringify(t), r = e.isType(i = document.createElement("a"), HTMLAnchorElement) ? i : d(); r.setAttribute("href", "data:text/plain;charset=utf-8," + a), r.setAttribute("download", "pathbuilderexport.pbex"), r.click(), this.this$DomainForwardFix.forwardToNewRef() }, b8.$metadata$ = { kind: p, interfaces: [M8] }, A8.prototype.exportDBAndForward = function () { var t = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB; if (null != t) { var e, i = t.open(B9().DB_NAME, 3); i.onerror = (e = this, function () { e.forwardWithError() }), i.onsuccess = function (t, e) { return function () { var i = t.result, a = new b8(e); e.saveAllUserData_9k8f8o$(a, i) } }(i, this) } else this.forwardWithError() }, I8.prototype.accept = function () { this.this$DomainForwardFix.forwardToNewRef() }, I8.$metadata$ = { kind: p, interfaces: [Vet] }, A8.prototype.forwardWithError = function () { Xet(!1, "Unfortunately, an error occurred while exporting your database. You will now be forwarded to the correct domain.", new I8(this)).show() }, A8.prototype.forwardToNewRef = function () { B9().setPermission_ivxn3r$(B9().PREFERENCE_FORWARDED_FROM_WWW, !0), window.location.replace("https://pathbuilder2e.com/app.html") }, w8.prototype.completion_qlx5jl$ = function (t, i) { var a; this.closure$jsonObject[R7().USER_DATA_SAVE_IDs] = e.isArray(a = i) ? a : d(), this.this$DomainForwardFix.addAllPortraitsToObject_0(this.closure$getAllUserData, this.closure$jsonObject, this.closure$db) }, w8.$metadata$ = { kind: p, interfaces: [h7] }, A8.prototype.saveAllUserData_9k8f8o$ = function (t, e) { var i, a = bt([]), r = e.transaction("saves", "readwrite").objectStore("saves"), n = { v: r.getAll() }; n.v.onsuccess = L8(n, r, a, t, e, this), n.v.onerror = (i = this, function () { i.forwardWithError() }) }, A8.prototype.getAllSavedFileMetaData_pr1s5f$ = function (t, e) { var i, a, r = e.transaction("saveIDs", "readwrite").objectStore("saveIDs").getAll(); r.onsuccess = (i = r, a = t, function () { var t = i.result; null != t ? a.completion_qlx5jl$(!0, t) : a.completion_qlx5jl$(!1, t) }), r.onerror = function (t) { return function () { t.completion_qlx5jl$(!1, null) } }(t) }, A8.prototype.addAllPortraitsToObject_0 = function (t, e, i) { var a, r, n, o, s = i.transaction("portraits", "readwrite").objectStore("portraits"), l = { v: s.getAll() }; l.v.onsuccess = T8(l, s, e, t, i, this), l.v.onerror = (a = t, r = e, n = i, o = this, function () { o.addCustomFilesToObject_0(a, r, n) }) }, A8.prototype.addCustomFilesToObject_0 = function (t, e, i) { var a, r, n, o, s = i.transaction("customFiles", "readwrite").objectStore("customFiles"), l = { v: s.getAll() }; l.v.onsuccess = k8(l, s, e, t, i, this), l.v.onerror = (a = t, r = e, n = i, o = this, function () { o.addFoldersToObject_0(a, r, n) }) }, A8.prototype.addFoldersToObject_0 = function (t, e, i) { var a, r, n = i.transaction("folders", "readwrite").objectStore("folders"), o = { v: n.getAll() }; o.v.onsuccess = R8(o, n, e, t), o.v.onerror = (a = t, r = e, function () { a.completed_za3rmp$(r) }) }, A8.$metadata$ = { kind: p, simpleName: "DomainForwardFix", interfaces: [] }, M8.$metadata$ = { kind: H, simpleName: "GetAllUserData", interfaces: [] }, N8.prototype.completion_qlx5jl$ = function (t, i) { var a; this.closure$jsonObject[R7().USER_DATA_SAVE_IDs] = e.isArray(a = i) ? a : d(), this.this$FileManagementAllExportUserData.addAllPortraitsToObject_0(this.closure$getAllUserData, this.closure$jsonObject) }, N8.$metadata$ = { kind: p, interfaces: [h7] }, P8.prototype.saveAllUserData_10i2rh$ = function (t) { var e = bt([]), i = this.db.transaction("saves", "readwrite").objectStore("saves"), a = { v: i.getAll() }; a.v.onsuccess = x8(a, i, e, t, this), a.v.onerror = z8 }, P8.prototype.addAllPortraitsToObject_0 = function (t, e) { var i, a, r, n = this.db.transaction("portraits", "readwrite").objectStore("portraits"), o = { v: n.getAll() }; o.v.onsuccess = O8(o, n, e, t, this), o.v.onerror = (i = t, a = e, r = this, function () { r.addCustomFilesToObject_0(i, a) }) }, P8.prototype.addCustomFilesToObject_0 = function (t, e) { var i, a, r, n = this.db.transaction("customFiles", "readwrite").objectStore("customFiles"), o = { v: n.getAll() }; o.v.onsuccess = F8(o, n, e, t, this), o.v.onerror = (i = t, a = e, r = this, function () { r.addFoldersToObject_0(i, a) }) }, P8.prototype.addFoldersToObject_0 = function (t, e) { var i, a, r = this.db.transaction("folders", "readwrite").objectStore("folders"), n = { v: r.getAll() }; n.v.onsuccess = j8(n, r, e, t), n.v.onerror = (i = t, a = e, function () { i.completed_za3rmp$(a) }) }, P8.prototype.restoreSaves_oimnom$ = function (t, e) { var i, a = this.db.transaction("saves", "readwrite").objectStore("saves"), r = { v: 0 }; for (i = t.keys.iterator(); i.hasNext();) { var n = i.next(), o = t.get_11rb$(n), s = a.put(o, n); s.onsuccess = H8(r, t, e), s.onerror = q8(e) } }, P8.prototype.restorePortraits_oimnom$ = function (t, e) { var i, a = this.db.transaction("portraits", "readwrite").objectStore("portraits"), r = { v: 0 }; for (i = t.keys.iterator(); i.hasNext();) { var n = i.next(), o = t.get_11rb$(n), s = a.put(o, n); s.onsuccess = U8(r, t, e), s.onerror = G8(e) } }, P8.prototype.restoreFolders_oimnom$ = function (t, e) { var i, a = this.db.transaction("folders", "readwrite").objectStore("folders"), r = { v: 0 }; for (i = t.keys.iterator(); i.hasNext();) { var n = i.next(), o = t.get_11rb$(n), s = a.put(o, n); s.onsuccess = W8(r, t, e), s.onerror = Y8(e) } }, P8.prototype.restoreCustomFiles_oimnom$ = function (t, e) { var i, a = this.db.transaction("customFiles", "readwrite").objectStore("customFiles"), r = { v: 0 }; for (i = t.keys.iterator(); i.hasNext();) { var n = i.next(), o = t.get_11rb$(n), s = a.put(o, n); s.onsuccess = V8(r, t, e), s.onerror = K8(e) } }, P8.$metadata$ = { kind: p, simpleName: "FileManagementAllExportUserData", interfaces: [] }, J8.$metadata$ = { kind: H, simpleName: "CustomFileReturn", interfaces: [] }, X8.prototype.saveCustomFile_rjan26$ = function (t, e, i) { this.hashMapAllCustomFiles = null; var a = a9(); a.json = t, a.timestamp = Date.now().toString(), a.type = i, a.uniqueIdentifier = e; var r = JSON.stringify(a), n = this.db.transaction("customFiles", "readwrite").objectStore("customFiles").put(r, e); n.onsuccess = Z8, n.onerror = Q8 }, X8.prototype.getAllCustomFiles_2dyq3g$ = function (t) { if (null == this.hashMapAllCustomFiles) { var i, a, r, n = this.db.transaction("customFiles", "readwrite").objectStore("customFiles").getAll(); n.onsuccess = (i = this, a = n, r = t, function (t) { var n, p, h, u, _, f; i.hashMapAllCustomFiles = c(); var y = e.isArray(n = a.result) ? n : d(); p = y.length - 1 | 0; for (var m = 0; m <= p; m++)try { u = R7().format; var $, g = "string" == typeof (h = y[m]) ? h : d(), v = u.decodeFromString_awif5v$(e.isType($ = ft(u.serializersModule, _t(tt(K4), [], !1)), yt) ? $ : d(), g); f = o(i.hashMapAllCustomFiles); var S = "string" == typeof (_ = v.uniqueIdentifier) ? _ : d(); f.put_xwzc9p$(S, v) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } r.completed_asi2v1$(o(i.hashMapAllCustomFiles)) }), n.onerror = function (t) { return function () { console.log("failed to load all custom files"), t.completed_asi2v1$(c()) } }(t) } else t.completed_asi2v1$(o(this.hashMapAllCustomFiles)) }, X8.prototype.deleteCustomFile_61zpoe$ = function (t) { var e = this.db.transaction("customFiles", "readwrite").objectStore("customFiles").delete(t); e.onsuccess = t7, e.onerror = e7 }, X8.$metadata$ = { kind: p, simpleName: "FileManagementCustomFiles", interfaces: [] }; var i7 = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function a7(t, e) { this.mainActivity = t, this.db = e } function r7() { } function n7() { } function o7() { console.log("failed to save folder file") } function s7() { } function l7() { console.log("unable to delete save file") } function c7(t) { return t.name } function p7(t, e) { R7(), this.mainActivity_0 = t, this.db = e, this.saving = !1, this.doAdditionalSave = !1, this.fileManagementCustomFiles = new X8(this.mainActivity_0, this.db), this.fileManagementAllExportUserData = new P8(this.mainActivity_0, this.db), this.fileManagementFolders = new a7(this.mainActivity_0, this.db) } function h7() { } function d7() { } function u7() { console.log("failed to cache data") } function _7() { console.log("unable to delete data") } function f7() { } function y7() { console.log("unable to delete save file") } function m7() { console.log("deleted save file id") } function $7() { console.log("unable to delete save file id") } function g7(t) { } function v7() { } function S7(t) { this.this$FileManager = t } function C7() { console.log("FAILED TO show stat block") } function E7() { } function A7(t, i, a, r) { return function () { var n = { v: t.v.result }; if (null != n.v) { var o = JSON.parse(n.v); t.v = i.db.transaction("saves", "readwrite").objectStore("saves").get(a), t.v.onsuccess = function (t, i, a, r, n) { return function () { if (i.v = t.v.result, null != i.v) try { var o, c = R7().format, p = i.v, h = c.decodeFromString_awif5v$(e.isType(o = ft(c.serializersModule, _t(tt(Da), [], !1)), yt) ? o : d(), p); h.setFolderID_pdl1vj$(a.folderID), C8().isCustomEnabled_g7kqbx$(h) && !r.mainActivity_0.getDataControl().isFullAppEnabled() ? n.completed_6taknv$(!1) : (r.mainActivity_0.characterBuild.setCharacterData_g7kqbx$(h), n.completed_6taknv$(!0)) } catch (t) { if (!e.isType(t, l)) throw t; s(t), n.completed_6taknv$(!1) } else n.completed_6taknv$(!1) } }(t, n, o, i, r), t.v.onerror = function (t) { return function () { t.completed_6taknv$(!1) } }(r) } else r.completed_6taknv$(!1) } } function b7() { } function I7() { console.log("failed to save portrait") } function w7() { console.log("failed to load portrait") } function L7() { k7 = this, this.USER_DATA_SAVES = "saves", this.USER_DATA_SAVE_IDs = "saveIDs", this.USER_DATA_CUSTOM_FILES = "customFiles", this.USER_DATA_PORTRAITS = "portraits", this.USER_DATA_FOLDER_FILES = "folders", this.format = ut(void 0, T7) } function T7(t) { return t.isLenient = !0, t.ignoreUnknownKeys = !0, n } r7.$metadata$ = { kind: H, simpleName: "AllFolderFiles", interfaces: [] }, a7.prototype.saveFolderFile_elxfi1$ = function (t) { var e = JSON.stringify(t), i = this.db.transaction("folders", "readwrite").objectStore("folders").put(e, t.uuid); i.onsuccess = n7, i.onerror = o7 }, a7.prototype.deleteFolderFile_elxfi1$ = function (t) { var e = this.db.transaction("folders", "readwrite").objectStore("folders").delete(t.uuid); e.onsuccess = s7, e.onerror = l7 }, a7.prototype.getSortedListFolderFiles_d3bi5s$ = function (t) { var i, a, r, n = u(), o = this.db.transaction("folders", "readwrite").objectStore("folders").getAll(); o.onsuccess = (i = o, a = n, r = t, function () { var t, n, o, s = i.result; if (null != s) { var l = e.isArray(t = s) ? t : d(); for (n = 0; n !== l.length; ++n) { var c = l[n], p = JSON.parse("string" == typeof (o = c) ? o : d()); a.add_11rb$(new M7(p.uuid, p.name)) } var h = a; h.size > 1 && q(h, new G(i7(c7))); var u = new M7(x7().FOLDER_MAIN_ID, x7().FOLDER_MAIN_NAME); a.add_wxm5ur$(0, u), r.completion_lkwbu8$(a) } else r.completion_lkwbu8$(a) }), o.onerror = function (t, e) { return function () { t.completion_lkwbu8$(e) } }(t, n) }, a7.$metadata$ = { kind: p, simpleName: "FileManagementFolders", interfaces: [] }, h7.$metadata$ = { kind: H, simpleName: "FileDataCompletion", interfaces: [] }, p7.prototype.setCachedData_bm4lxs$ = function (t, e) { var i = this.db.transaction("data", "readwrite").objectStore("data").put(t, e); i.onsuccess = d7, i.onerror = u7 }, p7.prototype.getCachedData_za3lpa$ = function (t) { var e, i, a = this.db.transaction("data", "readwrite").objectStore("data").get(t); a.onsuccess = (e = a, i = this, function () { null != e.result ? i.mainActivity_0.masterDataHandler.parseData_bm4lxs$(e.result, 0) : i.clearDataAndDownloadFresh_za3lpa$(0) }), a.onerror = function (t) { return function () { console.log("failed to get cached data"), t.clearDataAndDownloadFresh_za3lpa$(0) } }(this) }, p7.prototype.clearDataAndDownloadFresh_za3lpa$ = function (t) { var e, i, a = this.db.transaction("data", "readwrite").objectStore("data").clear(); a.onsuccess = (e = this, i = t, function () { e.mainActivity_0.masterDataHandler.downloadFreshData_za3lpa$(i) }), a.onerror = _7 }, p7.prototype.deleteCharacterFile_qxwh7q$ = function (t) { var e = t.webID, i = this.db.transaction("saves", "readwrite").objectStore("saves").delete(e); i.onsuccess = f7, i.onerror = y7, (i = this.db.transaction("saveIDs", "readwrite").objectStore("saveIDs").delete(e)).onsuccess = m7, i.onerror = $7 }, p7.prototype.saveFile_g7kqbx$ = function (t) { var i, a, r; if (this.saving) this.doAdditionalSave = !0; else { this.doAdditionalSave = !1, this.saving = !0, t.setCloudStorage_6taknv$(!1), t.setGoogleFileID_pdl1vj$(null), null == t.getWebID() && t.setWebID_pdl1vj$(this.mainActivity_0.getGuiUpdateControl().getPlatformUUID()), i = B9().LAST_CHARACTER_ID, r = "string" == typeof (a = t.getWebID()) ? a : d(), localStorage.setItem(i, r); var n, o, s, l = R7().format, c = l.encodeToString_tf03ej$(e.isType(n = ft(l.serializersModule, _t(tt(Da), [], !1)), yt) ? n : d(), t), p = this.db.transaction("saves", "readwrite").objectStore("saves").put(c, t.getWebID()); p.onsuccess = (o = t, s = this, function (t) { var e, i, a; e = JSON.stringify(R7().getFileMetaData_g7kqbx$(o)), a = "string" == typeof (i = o.getWebID()) ? i : d(), s.saveFileMetaData_puj7f4$(e, a) }), p.onerror = g7 } }, p7.prototype.saveFileMetaData_puj7f4$ = function (t, e) { var i, a = this.db.transaction("saveIDs", "readwrite").objectStore("saveIDs").put(t, e); a.onsuccess = (i = this, function () { i.saving = !1, i.doAdditionalSave && i.mainActivity_0.autoSave() }), a.onerror = function (t) { return function () { t.saving = !1, t.doAdditionalSave = !1 } }(this) }, v7.$metadata$ = { kind: H, simpleName: "FileSaveCompletion", interfaces: [] }, p7.prototype.getCharacterData_m6lddt$ = function (t, i, a) { var r, n, o, s = this.db.transaction("saves", "readwrite").objectStore("saves").get(t); s.onsuccess = (r = s, n = i, o = a, function () { var t = r.result; if (null != t) { var i, a = R7().format, s = a.decodeFromString_awif5v$(e.isType(i = ft(a.serializersModule, _t(tt(Da), [], !1)), yt) ? i : d(), t); s.setFolderID_pdl1vj$(n), o.completion_5b2adw$(s) } else o.completion_5b2adw$(null) }), s.onerror = function (t) { return function () { t.completion_5b2adw$(null) } }(a) }, S7.prototype.accept = function () { this.this$FileManager.mainActivity_0.openDialog_ip94j4$(new Wrt(this.this$FileManager.mainActivity_0, this.this$FileManager.mainActivity_0.getDataControl(), this.this$FileManager.mainActivity_0.characterBuild)) }, S7.$metadata$ = { kind: p, interfaces: [Vet] }, p7.prototype.loadFile_rkkr90$ = function (t, i) { var a, r, n, o = this.db.transaction("saves", "readwrite").objectStore("saves").get(t); o.onsuccess = (a = o, r = i, n = this, function () { var t = a.result; if (null != t) { var i, o = R7().format, s = o.decodeFromString_awif5v$(e.isType(i = ft(o.serializersModule, _t(tt(Da), [], !1)), yt) ? i : d(), t); s.setFolderID_pdl1vj$(r), C8().isCustomEnabled_g7kqbx$(s) && !n.mainActivity_0.getDataControl().isFullAppEnabled() ? Xet(!1, "This build contains features only available for web apps with the paid full unlock upgrade.", new S7(n)).show() : n.mainActivity_0.setLoadedCharacterData_g7kqbx$(s) } else n.mainActivity_0.showMessage_61zpoe$("Failed to load character data") }), o.onerror = function (t) { return function () { console.log("FAILED TO LOAD"), t.mainActivity_0.showMessage_61zpoe$("Failed to load character data") } }(this) }, p7.prototype.setFileStatBlock_epyyjl$ = function (t, i) { var a, r, n, o = this.db.transaction("saves", "readwrite").objectStore("saves").get(t); o.onsuccess = (a = o, r = i, n = this, function () { var t = a.result; if (null != t) { var i, o = R7().format, s = o.decodeFromString_awif5v$(e.isType(i = ft(o.serializersModule, _t(tt(Da), [], !1)), yt) ? i : d(), t); n.setStatBlockToDiv_afcxx0$(s, r) } }), o.onerror = C7 }, p7.prototype.setStatBlockToDiv_afcxx0$ = function (t, e) { this.mainActivity_0.finishedLoading = !1; var i = new Na; i.setCharacterData_g7kqbx$(t), this.mainActivity_0.getDataControl().buildCharacter_5btbp7$(i), this.mainActivity_0.finishedLoading = !0; var a = i.getPlayReportAbilityScores_sfkw43$(this.mainActivity_0.getDataControl()), r = new e8(this.mainActivity_0, i, t, a, !0, !0, !1, !1); e.innerHTML = r.getHtml() }, E7.$metadata$ = { kind: H, simpleName: "LoadedLastCharacter", interfaces: [] }, p7.prototype.loadLastCharacter_f86po0$ = function (t, e) { var i, a = { v: this.db.transaction("saveIDs", "readwrite").objectStore("saveIDs").get(t) }; a.v.onsuccess = A7(a, this, t, e), a.v.onerror = (i = e, function () { i.completed_6taknv$(!1) }) }, p7.prototype.savePortraitFile_lk6kg$ = function (t, e) { var i = this.getBase64String_0(e.result), a = t.getPortraitFilename(); null == a && (a = this.mainActivity_0.getGuiUpdateControl().getPlatformUUID(), t.setPortraitFilename_pdl1vj$(a), this.mainActivity_0.autoSave()); var r = this.db.transaction("portraits", "readwrite").objectStore("portraits").put(i, a); r.onsuccess = b7, r.onerror = I7 }, p7.prototype.getBase64String_0 = function (t) { return t.replace("data:", "").replace(/^.+,/, "") }, p7.prototype.setPortraitFile_bblzc9$ = function (t, e) { var i, a, r = this.db.transaction("portraits", "readwrite").objectStore("portraits").get(t); r.onsuccess = (i = r, a = e, function () { var t = i.result; null != t && (a.src = "data:image/png;base64," + t.toString()) }), r.onerror = w7 }, p7.prototype.getAllSavedFileMetaData_ccwm1a$ = function (t) { var e, i, a = this.db.transaction("saveIDs", "readwrite").objectStore("saveIDs").getAll(); a.onsuccess = (e = a, i = t, function () { var t = e.result; null != t ? i.completion_qlx5jl$(!0, t) : i.completion_qlx5jl$(!1, t) }), a.onerror = function (t) { return function () { t.completion_qlx5jl$(!1, null) } }(t) }, L7.prototype.getFileMetaData_g7kqbx$ = function (t) { return new P7(t.getCharacterName(), t.getAncestry() + " " + t.getClassName() + " " + t.getCharacterLevel().toString(), Date.now(), t.getWebID(), t.getFolderID()) }, L7.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var k7 = null; function R7() { return null === k7 && new L7, k7 } function P7(t, e, i, a, r) { this.characterName = t, this.classLevel = e, this.timestamp = i, this.webID = a, this.folderID = r } function M7(t, e) { x7(), this.uuid = t, this.name = e } function N7() { D7 = this, this.DEFAULT_FOLDER_NAME = "Unnamed Folder", this.FOLDER_MAIN_NAME = "Main Folder", this.FOLDER_MAIN_ID = "X2389aJ659", this.FOLDER_MAIN_CLOUD = "Cloud Storage", this.FOLDER_ADD = "- Add local folder", this.REF_FOLDER_MAIN = -1, this.REF_FOLDER_CLOUD = -2, this.REF_FOLDER_ADD = -3 } p7.$metadata$ = { kind: p, simpleName: "FileManager", interfaces: [] }, P7.$metadata$ = { kind: p, simpleName: "FileMetaData", interfaces: [] }, M7.prototype.isMainFolder = function () { return m(this.uuid, x7().FOLDER_MAIN_ID) }, N7.prototype.serializer = function () { return F7() }, N7.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var D7 = null; function x7() { return null === D7 && new N7, D7 } function z7() { this.descriptor_tsos3i$_0 = new P("filemanagement.FolderFile", this, 2), this.descriptor.addElement_ivxn3r$("uuid", !1), this.descriptor.addElement_ivxn3r$("name", !1), O7 = this } Object.defineProperty(z7.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_tsos3i$_0 } }), z7.prototype.serialize_55azsf$ = function (t, e) { var i = t.beginStructure_24f42q$(this.descriptor); i.encodeStringElement_iij8qq$(this.descriptor, 0, e.uuid), i.encodeStringElement_iij8qq$(this.descriptor, 1, e.name), i.endStructure_24f42q$(this.descriptor) }, z7.prototype.deserialize_bq71mq$ = function (t) { var e, i, a, r = 0, n = t.beginStructure_24f42q$(this.descriptor); t: for (; ;)switch (e = n.decodeElementIndex_24f42q$(this.descriptor)) { case 0: i = n.decodeStringElement_szpzho$(this.descriptor, 0), r |= 1; break; case 1: a = n.decodeStringElement_szpzho$(this.descriptor, 1), r |= 2; break; case -1: break t; default: throw new O(e) }return n.endStructure_24f42q$(this.descriptor), B7(r, i, a, null) }, z7.prototype.childSerializers = function () { return [M.StringSerializer, M.StringSerializer] }, z7.$metadata$ = { kind: f, simpleName: "$serializer", interfaces: [F] }; var O7 = null; function F7() { return null === O7 && new z7, O7 } function B7(t, e, i, a) { var r = a || Object.create(M7.prototype); if (0 == (1 & t)) throw J("uuid"); if (r.uuid = e, 0 == (2 & t)) throw J("name"); return r.name = i, r } M7.$metadata$ = { kind: p, simpleName: "FolderFile", interfaces: [] }; var j7 = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(a), r(i)) } } })); function H7(t) { this.mainActivity = t } function q7() { } function U7() { console.log("sign in is " + j(window.gapi.auth2.getAuthInstance().isSignedIn.get())) } function G7(t, e) { return function () { var i = bt([$("clientId", "405471180910-mnfukc81gj0dhgs9v0jljb2ho8tnqgb6.apps.googleusercontent.com"), $("scope", "profile https://www.googleapis.com/auth/drive.appdata")]); window.gapi.client.init(i).then(function (t) { return function () { window.gapi.auth2.getAuthInstance().isSignedIn.listen(U7), t.onStart() } }(t)).catch(function (t, e) { return function (i) { t.onFailure(), e.mainActivity.showMessage_61zpoe$("Pathbuilder 2e Web currently requires 3rd Party cookies to be allowed for google login scripts and app unlock payment services. Please enable them for this site and reload the page if you wish to continue.<br><br>Pathbuilder 2e Web is ad-free does not use 3rd party cookies for any other reasons than those specified above."), Ntt().removeSpinner() } }(t, e)) } } function W7(t, e) { this.closure$googleStepStarted = t, this.this$GDriveManager = e } function Y7() { } function V7(t, e, i) { this.closure$fileId = t, this.closure$gDriveFileCompleted = e, this.this$GDriveManager = i } function K7() { } function X7(t, e, i) { this.closure$characterData = t, this.this$GDriveManager = e, this.closure$gDriveFileSaved = i } function J7(t, e, i) { this.closure$characterData = t, this.this$GDriveManager = e, this.closure$gDriveFileSaved = i } function Z7(t, e, i, a) { this.closure$characterData = t, this.closure$fileId = e, this.this$GDriveManager = i, this.closure$gDriveFileSaved = a } function Q7(t, e, i, a) { this.closure$characterData = t, this.closure$fileId = e, this.this$GDriveManager = i, this.closure$gDriveFileSaved = a } function ttt() { } function ett(t, e) { this.this$GDriveManager = t, this.closure$gDriveMetaListCompleted = e } function itt() { } function att(t) { return t.timeStamp } function rtt() { } function ntt(t, e, i) { this.closure$fileID = t, this.closure$gDriveFileDeleted = e, this.this$GDriveManager = i } function ott() { console.log("signed out") } function stt(t, e, i, a, r, n) { this.id = t, this.name = e, this.level = i, this.timeStamp = a, this.className = r, this.ancestry = n } function ltt() { htt() } function ctt() { ptt = this, this.charD = K(Y("d")), this.charPlus = K(Y("+")), this.charMinus = K(Y("-")), this.charSpace = K(Y(" ")), this.charPeriod = K(Y(".")), this.charOpenTag = K(Y("<")), this.charCloseTag = K(Y(">")) } q7.$metadata$ = { kind: H, simpleName: "GoogleStepStarted", interfaces: [] }, H7.prototype.loadClientAuth2_3sqz61$ = function (t) { if (null != window.gapi.auth2) return t.onStart(); window.gapi.load("client:auth2", G7(t, this)) }, W7.prototype.onStart = function () { var t, e; window.gapi.client.load("drive", "v3", (t = this.closure$googleStepStarted, e = this.this$GDriveManager, function () { window.gapi.auth2.getAuthInstance().isSignedIn.get() ? t.onStart() : (e.mainActivity.showMessage_61zpoe$("You must be signed in to use gDrive!"), t.onFailure()) })) }, W7.prototype.onFailure = function () { this.closure$googleStepStarted.onFailure() }, W7.$metadata$ = { kind: p, interfaces: [q7] }, H7.prototype.startGDrive_0 = function (t) { this.loadClientAuth2_3sqz61$(new W7(t, this)) }, Y7.$metadata$ = { kind: H, simpleName: "GDriveFileCompleted", interfaces: [] }, V7.prototype.onStart = function () { var t, i = bt([$("fileId", this.closure$fileId), $("mimeType", "text/plain"), $("alt", "media")]); window.gapi.client.drive.files.get(i).then((t = this.closure$gDriveFileCompleted, function (i) { var a; try { var r = null == (a = i.body) || "string" == typeof a ? a : d(); if (null != r && 0 !== r.length) { var n = r4().decodeExportBundleFromString_61zpoe$(r); t.onCompletion_32e6x9$(n) } else t.onCompletion_32e6x9$(null) } catch (i) { if (!e.isType(i, l)) throw i; s(i), t.onCompletion_32e6x9$(null) } })) }, V7.prototype.onFailure = function () { this.this$GDriveManager.mainActivity.showMessage_61zpoe$("Unable to connect to gDrive!"), this.closure$gDriveFileCompleted.onCompletion_32e6x9$(null) }, V7.$metadata$ = { kind: p, interfaces: [q7] }, H7.prototype.getGDriveFile_i837kp$ = function (t, e) { this.startGDrive_0(new V7(t, e, this)) }, K7.$metadata$ = { kind: H, simpleName: "GDriveFileSaved", interfaces: [] }, X7.prototype.onStart = function () { var t, e, i, a = bt([$(B9().APP_PROPERTY_CLASSNAME, this.closure$characterData.getClassName()), $(B9().APP_PROPERTY_ANCESTRY, this.closure$characterData.getAncestry()), $(B9().APP_PROPERTY_LEVEL, this.closure$characterData.getCharacterLevel()), $(B9().APP_PROPERTY_TIMESTAMP, htt().getGDriveDateTimeString())]), r = bt([$("fields", "id"), $("name", this.closure$characterData.getCharacterName()), $("parents", ["appDataFolder"]), $("appProperties", a)]); window.gapi.client.drive.files.create(r).execute((t = this.this$GDriveManager, e = this.closure$characterData, i = this.closure$gDriveFileSaved, function (a) { var r; if (403 != a.code) { var n = "string" == typeof (r = a.id) ? r : d(); t.updateFileContent_0(n, e, i) } else t.showPermissionError_0() })) }, X7.prototype.onFailure = function () { this.this$GDriveManager.mainActivity.showMessage_61zpoe$("Unable to connect to gDrive!") }, X7.$metadata$ = { kind: p, interfaces: [q7] }, H7.prototype.saveNewGoogleFileWithMetaData_n5xo6q$ = function (t, e) { this.startGDrive_0(new X7(t, this, e)) }, J7.prototype.onStart = function () { var t, e, i, a = bt([$(B9().APP_PROPERTY_CLASSNAME, this.closure$characterData.getClassName()), $(B9().APP_PROPERTY_ANCESTRY, this.closure$characterData.getAncestry()), $(B9().APP_PROPERTY_LEVEL, this.closure$characterData.getCharacterLevel()), $(B9().APP_PROPERTY_TIMESTAMP, htt().getGDriveDateTimeString())]), r = bt([$("appProperties", a), $("fileId", this.closure$characterData.getGoogleFileID()), $("fields", "id, appProperties"), $("name", this.closure$characterData.getCharacterName())]); window.gapi.client.drive.files.update(r).execute((t = this.this$GDriveManager, e = this.closure$characterData, i = this.closure$gDriveFileSaved, function (a) { var r; if (403 != a.code) { var n = "string" == typeof (r = a.id) ? r : d(); t.updateFileContent_0(n, e, i) } else t.showPermissionError_0() })) }, J7.prototype.onFailure = function () { this.this$GDriveManager.mainActivity.showMessage_61zpoe$("Unable to connect to gDrive!") }, J7.$metadata$ = { kind: p, interfaces: [q7] }, H7.prototype.saveExistingGoogleFileWithMetaData_n5xo6q$ = function (t, e) { null != t.getGoogleFileID() ? this.startGDrive_0(new J7(t, this, e)) : this.saveNewGoogleFileWithMetaData_n5xo6q$(t, e) }, Q7.prototype.completed_asi2v1$ = function (t) { this.closure$characterData.setFolderID_pdl1vj$(null), this.closure$characterData.setWebID_pdl1vj$(null), this.closure$characterData.setGoogleFileID_pdl1vj$(this.closure$fileId), this.closure$characterData.setCloudStorage_6taknv$(!0); var i, a, r, n, o, s = C8().getExportBundle_moeyi0$(this.this$GDriveManager.mainActivity, this.closure$characterData, t), l = kt.Default, c = l.encodeToString_tf03ej$(e.isType(i = ft(l.serializersModule, _t(tt(r9), [], !1)), yt) ? i : d(), s), p = window.gapi.auth.getToken().access_token, h = new XMLHttpRequest; h.open("PATCH", "https://www.googleapis.com/upload/drive/v3/files/" + this.closure$fileId + "?uploadType=media"), h.setRequestHeader("Authorization", "Bearer " + p.toString()), h.onreadystatechange = (a = h, r = this.this$GDriveManager, n = this.closure$gDriveFileSaved, o = this.closure$fileId, function () { if (4 == a.readyState) { if (403 == a.status.code) return void r.showPermissionError_0(); n.onCompletion_8kj6y5$(200 == a.status, o) } }), h.send(c) }, Q7.$metadata$ = { kind: p, interfaces: [J8] }, Z7.prototype.onStart = function () { var t = new Q7(this.closure$characterData, this.closure$fileId, this.this$GDriveManager, this.closure$gDriveFileSaved); this.this$GDriveManager.mainActivity.fileManager.fileManagementCustomFiles.getAllCustomFiles_2dyq3g$(t) }, Z7.prototype.onFailure = function () { this.this$GDriveManager.mainActivity.showMessage_61zpoe$("Unable to connect to gDrive!") }, Z7.$metadata$ = { kind: p, interfaces: [q7] }, H7.prototype.updateFileContent_0 = function (t, e, i) { this.startGDrive_0(new Z7(e, t, this, i)) }, ttt.$metadata$ = { kind: H, simpleName: "GDriveMetaListCompleted", interfaces: [] }, itt.prototype.onCompletion_6taknv$ = function (t) { }, itt.$metadata$ = { kind: p, interfaces: [rtt] }, ett.prototype.onStart = function () { console.log("listing files"); var t, e, i = bt([$("spaces", "appDataFolder"), $("fields", "nextPageToken, files(id, name, appProperties, modifiedTime)"), $("pageSize", 1e3)]); window.gapi.client.drive.files.list(i).execute((t = this.this$GDriveManager, e = this.closure$gDriveMetaListCompleted, function (i) { var a; if (403 == i.code) Ntt().removeSpinner(), t.showPermissionError_0(); else { var r = u(); for (a = At(i.files); a.hasNext();) { var n = a.next(); n.appProperties ? r.add_11rb$(new stt(n.id, n.name, n.appProperties.level, n.appProperties.timestamp, n.appProperties.className, n.appProperties.ancestry)) : (console.log("ODD FILE"), console.log(n), t.deleteGDriveFile_42b9o5$(n.id, new itt)) } r.size > 1 && q(r, new G(j7(att))), Ntt().removeSpinner(), e.onCompletion_ck5902$(r) } })) }, ett.prototype.onFailure = function () { Ntt().removeSpinner(), this.this$GDriveManager.mainActivity.showMessage_61zpoe$("Unable to connect to gDrive!") }, ett.$metadata$ = { kind: p, interfaces: [q7] }, H7.prototype.getListGDriveMeta_u40oby$ = function (t) { this.startGDrive_0(new ett(this, t)) }, rtt.$metadata$ = { kind: H, simpleName: "GDriveFileDeleted", interfaces: [] }, ntt.prototype.onStart = function () { var t; window.gapi.client.drive.files.delete(bt([$("fileId", this.closure$fileID)])).execute((t = this.closure$gDriveFileDeleted, function (e) { console.log(e), t.onCompletion_6taknv$(!0) })) }, ntt.prototype.onFailure = function () { this.this$GDriveManager.mainActivity.showMessage_61zpoe$("Unable to connect to gDrive!") }, ntt.$metadata$ = { kind: p, interfaces: [q7] }, H7.prototype.deleteGDriveFile_42b9o5$ = function (t, e) { this.startGDrive_0(new ntt(t, e, this)) }, H7.prototype.signOut = function () { if (null != window.gapi.auth2) { var t = window.gapi.auth2.getAuthInstance(); null != t ? (t.signOut().then(ott), t.disconnect()) : console.log("auth2 was null") } }, H7.prototype.showPermissionError_0 = function () { this.mainActivity.showMessage_61zpoe$("You did not give permission for Pathbuilder 2e to access the google drive app data folder when you logged in.  If you would like to grant this permission, you must: <br>1) Log out of Pathbuilder 2e via the menu<br>2) Log back in<br>3) Make sure that you check the box to allow Pathbuilder 2e to edit app data files.<br><br><a href='https://developers.google.com/drive/api/v3/appdata' target='_blank'>Read more about the app data folder.</a>"), Ntt().removeSpinner() }, H7.$metadata$ = { kind: p, simpleName: "GDriveManager", interfaces: [] }, stt.$metadata$ = { kind: p, simpleName: "GDriveMeta", interfaces: [] }, ctt.prototype.getListRollsFromSpell_bm4lxs$ = function (t, i) { var a, r, n = u(), c = 0, p = ""; try { var h = v(t, ["<b>Heightened"]).get_za3lpa$(0); h = L(h, " plus your spellcasting modifier", this.getSignedValue_za3lpa$(i)), h = L(h, " plus your spellcasting ability modifier", this.getSignedValue_za3lpa$(i)); var d = jlt().getDiv(); d.innerHTML = h; for (var f = d.getElementsByClassName("tooltiptext"); null != f[0];)null != (a = o(f[0]).parentNode) && a.removeChild(o(f[0])); for (h = j(d.textContent), r = Pt(h); r.hasNext();) { var y = Mt(r.next()); if (y === Mt(this.charCloseTag)) c = c - 1 | 0; else if (y === Mt(this.charOpenTag)) c = c + 1 | 0; else if (c <= 1) if (Nt(y)) p += String.fromCharCode(y); else if (p.length > 0) if (y === Mt(this.charD) || y === Mt(this.charPlus) || y === Mt(this.charMinus)) p += String.fromCharCode(y); else if (this.isNotNumberOrOperator_s8itvh$(y)) { if (_(p, "d")) { var m = wo(p); n.add_11rb$(m) } p = "" } } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n }, ctt.prototype.isNotNumberOrOperator_s8itvh$ = function (t) { return !Nt(t) && t !== Mt(this.charPlus) }, ctt.prototype.setItemLevelBox_c4iwwi$ = function (t, e, i) { t.classList.add("item-level-box"), t.innerHTML = e.toString(), null != i && (_(i.toLowerCase(), "3rd party") ? t.classList.add("item-third") : _(i.toLowerCase(), "uncommon") ? t.classList.add("item-uncommon") : _(i.toLowerCase(), "rare") && t.classList.add("item-rare")) }, ctt.prototype.formatTraitsFromString_61zpoe$ = function (t) { var i, a = { v: "" }; for (i = v(t, [","]).iterator(); i.hasNext();) { var r, n, o = i.next(), s = It(e.isCharSequence(r = o) ? r : d()).toString(); if (a.v.length > 0 && (a.v += ", "), s.length > 0) { var l = K(s.charCodeAt(0)); n = (Dt(Mt(l)) ? xt(Mt(l)) : String.fromCharCode(Mt(l))).toString() + s.substring(1) } else n = s; a.v += n } return a.v }, ctt.prototype.getGDriveDateTimeString = function () { var t = new Date(Date.now()); return t.getFullYear().toString() + "-" + this.getTwoDigitDateTime_0(t.getMonth() + 1 | 0) + "-" + this.getTwoDigitDateTime_0(t.getDate()) + " " + this.getTwoDigitDateTime_0(t.getHours()) + ":" + this.getTwoDigitDateTime_0(t.getMinutes()) }, ctt.prototype.getTwoDigitDateTime_0 = function (t) { return t < 10 ? "0" + t : t.toString() }, ctt.prototype.setShortProficiency_39pk9y$ = function (t, e, i, a) { var r = t.getProficiency_61zpoe$(e); if (i.innerHTML = "", null != r) { var n = r.getProficiencyAtLevel_za3lpa$(a); this.setShortProficiencyWithLevel_w3looh$(e, n, i) } }, ctt.prototype.setShortProficiencyWithLevel_w3looh$ = function (t, e, i) { i.innerHTML = ""; var a = jlt().getImg(); a.src = this.getImageBasedOnProficiency_za3lpa$(e), a.style.verticalAlign = "middle", i.appendChild(a); var r = jlt().getDiv(); r.innerHTML = t, r.classList.add("section-skill-name"), i.appendChild(r) }, ctt.prototype.getImageBasedOnProficiency_za3lpa$ = function (t) { switch (t) { case 2: return "img/icon_prof_trained.png?v=dm-4"; case 4: return "img/icon_prof_expert.png?v=dm-4"; case 6: return "img/icon_prof_master.png?v=dm-4"; case 8: return "img/icon_prof_legendary.png?v=dm-4" }return "img/icon_prof_untrained.png?v=dm-4" }, ctt.prototype.getColumns_za3lpa$ = function (t) { var e, i = u(), a = 1; window.innerWidth >= 1500 && (a = 2), window.innerWidth >= 1800 && (a = 3), a > t && (a = t), e = a; for (var r = 1; r <= e; r++) { var n = jlt().getDiv(); i.add_11rb$(n) } return i }, ctt.prototype.updateSaves_jondbn$ = function (t, e, i, a, r) { var n = e.getPlayReportAbilityScores_sfkw43$(t), o = e.getProficiency_61zpoe$(i); if (null != o) { var s = e.getCharacterData().getCharacterLevel(), l = o.getProficiencyAtLevel_za3lpa$(s), c = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), l, s), p = htt().getAbilityMod_za3lpa$(n.abilityScoresBuffed[a]), h = rK(t, e, o), d = h.totalBuffExcludingItem, u = c + p + h.getTypedBuff_za3lpa$(0) + d | 0; r.imageView.src = htt().getImageBasedOnProficiency_za3lpa$(l), r.divTotal.innerHTML = this.getSignedValue_za3lpa$(u), this.setColorBasedOnBuff_xlcra$(d, r.div) } }, ctt.prototype.updateGeneralProficiencyNoName_livki7$ = function (t, e, i, a, r) { var n = e.getPlayReportAbilityScores_sfkw43$(t), o = e.getProficiency_61zpoe$(i); if (null != o) { var s = e.getCharacterData().getCharacterLevel(), l = o.getProficiencyAtLevel_za3lpa$(s), c = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), l, s), p = this.getAbilityMod_za3lpa$(n.abilityScoresBuffed[a]), h = rK(t, e, o), d = h.totalBuffExcludingItem, u = c + p + h.getTypedBuff_za3lpa$(0) + d | 0; r.innerHTML = this.getSignedValue_za3lpa$(u), this.setColorBasedOnBuff_xlcra$(d, r) } }, ctt.prototype.updateGeneralProficiencyNoNamePets_yx820h$ = function (t, e, i, a, r) { var n = e.getProficiency_61zpoe$(i); if (null != n) { var o = e.getCharacterData().getCharacterLevel(), s = n.getProficiencyAtLevel_za3lpa$(o), l = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), s, o), c = rK(t, e, n), p = c.totalBuffExcludingItem, h = l + r + c.getTypedBuff_za3lpa$(0) + p | 0; a.divTotal.innerHTML = this.getSignedValue_za3lpa$(h), this.setColorBasedOnBuff_xlcra$(p, a.div), a.imageView.src = htt().getImageBasedOnProficiency_za3lpa$(s) } }, ctt.prototype.updateGeneralProficiencyNoNameEidolonBasedOnMaster_ob2d76$ = function (t, e, i, a, r, n) { var o = e.getProficiency_61zpoe$(a); if (null != o) { var s = e.getCharacterData().getCharacterLevel(), l = o.getProficiencyAtLevel_za3lpa$(s), c = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), l, s), p = rK(t, e, o).getTypedBuff_za3lpa$(0), h = rK(t, i, o).totalBuffExcludingItem, d = c + n + p + h | 0; r.divTotal.innerHTML = this.getSignedValue_za3lpa$(d), this.setColorBasedOnBuff_xlcra$(h, r.div), r.imageView.src = htt().getImageBasedOnProficiency_za3lpa$(l) } }, ctt.prototype.setColorBasedOnBuff_xlcra$ = function (t, e) { t > 0 ? (this.setGreenHighlight_njr4nn$(e, !0), this.setWarningHighlight_njr4nn$(e, !1)) : t < 0 ? (this.setWarningHighlight_njr4nn$(e, !0), this.setGreenHighlight_njr4nn$(e, !1)) : (this.setWarningHighlight_njr4nn$(e, !1), this.setGreenHighlight_njr4nn$(e, !1)) }, ctt.prototype.jsonToMap_qk3xy8$ = function (t) { var e, i, a = Ot(); for (e = At(Object.keys(t)); e.hasNext();) { var r = e.next(); a.put_xwzc9p$(r, "string" == typeof (i = t[r]) ? i : d()) } return a }, ctt.prototype.getShortStringFromActionSymbol_za3lpa$ = function (t) { switch (t) { case -2: return ""; case -1: return "F"; case 0: return "R"; case 1: return "1"; case 2: return "2"; case 3: return "3"; case 4: return "1-3" }return "" }, ctt.prototype.setHighlighBasedOnBuff_xlcra$ = function (t, e) { t > 0 ? (htt().setGreenHighlight_njr4nn$(e, !0), htt().setWarningHighlight_njr4nn$(e, !1)) : t < 0 ? (htt().setWarningHighlight_njr4nn$(e, !0), htt().setGreenHighlight_njr4nn$(e, !1)) : (htt().setWarningHighlight_njr4nn$(e, !1), htt().setGreenHighlight_njr4nn$(e, !1)) }, ctt.prototype.addNonDupingClass_1fo023$ = function (t, e, i) { t ? e.classList.contains(i) || e.classList.add(i) : e.classList.remove(i) }, ctt.prototype.addTraitsToFlexbox_h2l30b$ = function (t, i) { var a, r = u(); try { var n = b(v(i, [", "])); if (0 === i.length) return void this.setHidden_njr4nn$(t, !1); for (this.setHidden_njr4nn$(t, !0), a = 0; a !== n.length; ++a) { var o = n[a]; if (!r.contains_11rb$(o)) { r.add_11rb$(o); var c = jlt().getSpan(); c.innerHTML = o, c.style.cursor = "pointer", c.classList.add(B9().CSS_TRAIT), m(o, "3rd Party") ? c.classList.add(B9().CSS_TRAIT_THIRD) : m(o, "Uncommon") ? c.classList.add(B9().CSS_TRAIT_UNCOMMON) : m(o, "Rare") ? c.classList.add(B9().CSS_TRAIT_RARE) : c.classList.add(B9().CSS_TRAIT_COMMON), t.appendChild(c) } } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, ctt.prototype.setActionSymbol_1j8abp$ = function (t, e) { switch (t.classList.contains("action-icon") || t.classList.add("action-icon"), t.style.display = "inline-block", e) { case -2: t.style.display = "none"; break; case -1: t.src = "img/action_free.png?v=dm-1"; break; case 0: t.src = "img/action_reaction.png?v=dm-1"; break; case 1: t.src = "img/action_single.png?v=dm-1"; break; case 2: t.src = "img/action_double.png?v=dm-1"; break; case 3: t.src = "img/action_triple.png?v=dm-1"; break; case 4: t.src = "img/action_range.png?v=dm-1" } }, ctt.prototype.getInlineeActionSymbolFromText_0 = function (t) { var e = jlt().getImg(); e.classList.contains("action-icon") || e.classList.add("action-icon"), e.style.display = "inline-block"; var i = ""; switch (t) { case "[free-action]": i = "'img/action_free.png?v=dm-1'"; break; case "[reaction]": i = "'img/action_reaction.png?v=dm-1'"; break; case "[one-action]": i = "'img/action_single.png?v=dm-1'"; break; case "[two-actions]": i = "'img/action_double.png?v=dm-1'"; break; case "[three-actions]": i = "'img/action_triple.png?v=dm-1'"; break; case "[one-three-actions]": i = "'img/action_range.png?v=dm-1'" }return "<img class='action-icon' style='display: inline-block' src=" + i + "></img>" }, ctt.prototype.getParseDescriptionForInlineActions_61zpoe$ = function (t) { var e; if (!_(t, "[")) return t; var i = t, a = ["[free-action]", "[reaction]", "[one-action]", "[two-actions]", "[three-actions]"]; for (e = 0; e !== a.length; ++e) { var r = a[e]; i = L(i, r, this.getInlineeActionSymbolFromText_0(r)) } return i }, ctt.prototype.getDiceIcon_za3lpa$ = function (t) { switch (t) { case 12: return "d12"; case 10: return "d10"; case 8: return "d8"; case 6: return "d6"; case 4: return "d4"; case 20: return "d20" }return null }, ctt.prototype.getSignedValue_za3lpa$ = function (t) { return t > -1 ? "+" + t : t.toString() }, ctt.prototype.getAbilityMod_za3lpa$ = function (t) { var e = (t - 10 | 0) / 2; return zt(I.floor(e)) }, ctt.prototype.setHidden_njr4nn$ = function (t, e) { e ? t.classList.remove(B9().CSS_HIDDEN) : t.classList.contains(B9().CSS_HIDDEN) || t.classList.add(B9().CSS_HIDDEN) }, ctt.prototype.setInvisible_njr4nn$ = function (t, e) { e ? t.classList.remove(B9().CSS_INVISIBLE) : t.classList.contains(B9().CSS_INVISIBLE) || t.classList.add(B9().CSS_INVISIBLE) }, ctt.prototype.setGreenHighlight_njr4nn$ = function (t, e) { e ? t.classList.contains(B9().CSS_GREEN_HIGHLIGHT) || t.classList.add(B9().CSS_GREEN_HIGHLIGHT) : t.classList.remove(B9().CSS_GREEN_HIGHLIGHT) }, ctt.prototype.setWarningHighlight_njr4nn$ = function (t, e) { e ? t.classList.contains(B9().CSS_WARNING_TEXT) || t.classList.add(B9().CSS_WARNING_TEXT) : t.classList.remove(B9().CSS_WARNING_TEXT) }, ctt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ptt = null; function htt() { return null === ptt && new ctt, ptt } var dtt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(a), r(i)) } } })); function utt(t) { var e; Ntt(), this.db = t, this.dataControl_0 = null, this.guiUpdateControl_0 = null, this.diceUIControl = null, this.fileManager = new p7(this, this.db), this.gDriveManager = new H7(this), this.masterDataHandler = new q9(this), this.loaderSet_0 = null, this.characterBuild = new Na, this.finishedLoading = !1, this.navigationControl = null, this.listBuilds_0 = u(), this.hashMapActiveBuildButtons_0 = c(), this.hashMapPathbuilderConnect = c(), this.hashMapGMConnect_0 = c(), this.gmMode = !1, this.listSaveDisabledCharacterBuilds = u(), this.showDiceRollers = !0, this.playDiceSound = !1, null != (e = document.getElementById("version")) && (e.innerHTML = "Web Version " + j(44)), console.log("CODE VERSION " + j(44)), this.showDiceRollers = B9().getPreferenceBoolean_ivxn3r$(B9().PREFERENCE_SHOW_ROLLERS, !0), this.playDiceSound = B9().getPreferenceBoolean_ivxn3r$(B9().PREFERENCE_PLAY_DICE, !1), this.loaderSet_0 = new j9(this.masterDataHandler), this.guiUpdateControl_0 = new ict(this), this.diceUIControl = new i5(this); var i = new Dtt(this); this.fileManager.fileManagementCustomFiles.getAllCustomFiles_2dyq3g$(i) } function _tt(t) { console.log("message received"), console.log(t), "In GM Mode?" == t.data && (console.log("SENDING MESSAGE TO PBCONNECT"), t.source.postMessage("GM Mode Alive", "*")) } function ftt(t) { return function (i) { var a; if (i.key == B9().PREFERENCE_CONNECT_IDS && null != i.newValue) try { var r = "string" == typeof (a = i.newValue) ? a : d(), o = JSON.parse(r); window.Object.keys(o).forEach(function (t) { return function (e) { var i, a = !1; for (i = t.hashMapGMConnect_0.values.iterator(); i.hasNext();) { var r = i.next(); m(r.targetPlayerID, e) && (a = !0) } a || new m5(t, e) } }(t)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } } function ytt(t) { this.this$MainActivity = t } function mtt(t) { this.this$MainActivity = t } function $tt(t) { this.this$MainActivity = t } function gtt(t) { this.this$MainActivity = t } function vtt(t, e) { this.this$MainActivity = t, this.closure$fileMetaData = e } function Stt() { } function Ctt(t) { this.this$MainActivity = t } function Ett() { } function Att(t) { this.this$MainActivity = t } function btt(t, e) { return function (i) { var a, r, o; return t.finishedLoading = !1, t.characterBuild = e, t.getDataControl().verifyCharacterSelections_5btbp7$(t.characterBuild), t.getDataControl().buildCharacter_5btbp7$(t.characterBuild), t.finishedLoading = !0, t.getNavigationControl().sectionDefenses.invalidateHPControlInterface(), t.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(t.characterBuild), t.getGuiUpdateControl().updateBuildFragment_n40yp2$(t.characterBuild), t.setActiveBuildButtons(), null == t.characterBuild.getCharacterData().getWebID() || t.characterBuild.getCharacterData().isCloudStorage() || (a = B9().LAST_CHARACTER_ID, o = "string" == typeof (r = t.characterBuild.getCharacterData().getWebID()) ? r : d(), localStorage.setItem(a, o)), n } } function Itt(t, e) { this.this$MainActivity = t, this.closure$activeBuild = e } function wtt(t, e) { return function (i) { var a = !1; return t.gmMode && 1 === t.listBuilds_0.size && (a = !0), a ? t.showMessage_61zpoe$("At least once connected character must be open in GM Mode") : Xet(!0, "Really close " + t.getNameLevel_5btbp7$(e) + "?", new Itt(t, e)).show(), n } } function Ltt() { } function Ttt() { } function ktt(t) { this.this$MainActivity = t } function Rtt(t) { return t.timestamp } function Ptt() { Mtt = this } utt.prototype.openBrowser_61zpoe$ = function (t) { window.open(t, "_blank") }, utt.prototype.getAdditionalInfo_k9w0wi$ = function (t, e, i, a) { new Aet(this, this.getDataControl(), this.characterBuild, e, t, i, a).show() }, utt.prototype.setLoadingSpinner_61zpoe$ = function (t) { var e; null != (e = document.getElementById("loading-text")) && (e.innerHTML = t) }, ytt.prototype.completed_6taknv$ = function (t) { this.this$MainActivity.buildUIAndCharacter() }, ytt.$metadata$ = { kind: p, interfaces: [E7] }, utt.prototype.onFinishedLoadingRaw = function () { this.dataControl_0 = new So(this.loaderSet_0, this.guiUpdateControl_0); var t, i, a = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ACCOUNT, 0); if (o(this.dataControl_0).setFullAppEnabled_6taknv$(a > 0), a > 0) { var r = B9().getPreferenceString_61zpoe$(B9().PREFERENCE_USER_ID); 1 === a ? this.masterDataHandler.silentCheckAccountStatus_puj7f4$(B9().SITE_URL + B9().SITE_EXT + "check_user_google.php", r) : 2 === a && this.masterDataHandler.silentCheckAccountStatus_puj7f4$(B9().SITE_URL + B9().SITE_EXT + "check_user_reddit.php", r) } if (new URLSearchParams(window.location.search).has("launchedbyGMTool")) { this.gmMode = !0, window.onmessage = _tt, window.addEventListener("storage", ftt(this), !1), console.log("CHECKING CONNECT IDs"); var n = localStorage.getItem(B9().PREFERENCE_CONNECT_IDS); if (null != n) { try { this.setLoadingSpinner_61zpoe$("Fetching player character"); var c = JSON.parse(n); return 0 == window.Object.keys(c).length && (Ntt().removeSpinner(), this.showMessage_61zpoe$("Failed to connect to any players. Please check the connections in your GM Tool")), void window.Object.keys(c).forEach((t = c, i = this, function (e) { var a = t[e]; console.log("connectedID: " + e + ": " + j(a)), new m5(i, e) })) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return } } var p = localStorage.getItem("build"); if (null != p) return localStorage.removeItem("build"), void this.masterDataHandler.requestBuild_61zpoe$(p); var h = localStorage.getItem(B9().LAST_CHARACTER_ID); if (null != h) { var d = new ytt(this); this.fileManager.loadLastCharacter_f86po0$(h, d) } else this.buildUIAndCharacter() }, utt.prototype.setDownloadedCharacter_2k9x17$ = function (t, e) { this.characterBuild = new Na, null != t.characterData && (o(t.characterData).setCharacterRef_za3lpa$(-1), o(t.characterData).setGoogleFileID_pdl1vj$(null), o(t.characterData).setCloudStorage_6taknv$(!1), o(t.characterData).setEmailedBuildID_za3lpa$(-1), o(t.characterData).setPortraitFilename_pdl1vj$(null), o(t.characterData).setWebID_pdl1vj$(null), this.characterBuild.setCharacterData_g7kqbx$(o(t.characterData)), C8().importCustomFiles_vjt79s$(this, this.getDataControl(), t, e), e && this.listSaveDisabledCharacterBuilds.add_11rb$(this.characterBuild)), this.buildUIAndCharacter() }, utt.prototype.setGDriveCharacter_torya4$ = function (t) { null != t.characterData && (o(t.characterData).setCharacterRef_za3lpa$(-1), o(t.characterData).setCloudStorage_6taknv$(!0), o(t.characterData).setEmailedBuildID_za3lpa$(-1), o(t.characterData).setWebID_pdl1vj$(null), C8().importCustomFiles_vjt79s$(this, this.getDataControl(), t, !1), this.setLoadedCharacterData_g7kqbx$(o(t.characterData)), this.getNavigationControl().setCurrentFileLocationFlag()) }, utt.prototype.buildUIAndCharacter = function () { var t; Ntt().removeSpinner(), (e.isType(t = document.getElementById("main-container"), HTMLElement) ? t : d()).style.display = "flex"; try { this.getDataControl().verifyCharacterSelections_5btbp7$(this.characterBuild), this.getDataControl().buildCharacter_5btbp7$(this.characterBuild), this.listBuilds_0.add_11rb$(this.characterBuild) } catch (t) { if (!e.isType(t, l)) throw t; s(t), this.characterBuild = new Na, this.listBuilds_0.add_11rb$(this.characterBuild) } this.navigationControl = new lct(this, this.getDataControl()), this.getNavigationControl().setCurrentFileLocationFlag(), this.checkRedditLogin_0(), this.setAccountUpgradedFunctions(), this.finishedLoading = !0, this.setActiveBuildButtons(); var i = B9().getPreferenceString_jyasbz$(B9().PREFERENCE_LAST_GM_TOOL_ID, null), a = B9().getPreferenceString_jyasbz$(B9().PREFERENCE_LAST_GM_TOOL_CHARACTER_ID, null); null != i && null != a && m(this.characterBuild.getCharacterData().getPeerID(), a) && this.getPathbuilderConnect_ivxn3r$(i, !0), B9().getPreferenceBoolean_ivxn3r$(B9().PREFERENCE_SHOWN_HELP, !0) && (B9().setPreferenceBoolean_ivxn3r$(B9().PREFERENCE_SHOWN_HELP, !1), (new Vat).show()) }, utt.prototype.checkRedditLogin_0 = function () { var t = B9().SITE_URL + B9().SITE_EXT + "check_user_reddit.php"; if (B9().getPreferenceBoolean_ivxn3r$("loggingInReddit", !1)) { var e = B9().getPreferenceString_61zpoe$("prefUserName"), i = B9().getPreferenceString_61zpoe$("prefUserID"); localStorage.removeItem("loggingInReddit"); var a = i.length > 0; a && (a = e.length > 0), a && this.masterDataHandler.checkAccountStatus_xowcs4$(t, 2, i, e) } }, $tt.prototype.folderFileSelected_3uvjaw$ = function (t, e, i) { console.log("RETIRNED target " + t + " and new copy is " + i), this.this$MainActivity.characterBuild.getCharacterData().isCloudStorage() ? i ? this.this$MainActivity.fromGoogleCopy_mh747l$(t, e) : this.this$MainActivity.fromGoogleMove_mh747l$(t, e) : i ? this.this$MainActivity.fromLocalCopy_mh747l$(t, e) : this.this$MainActivity.fromLocalMove_mh747l$(t, e) }, $tt.$metadata$ = { kind: p, interfaces: [Grt] }, mtt.prototype.completion_lkwbu8$ = function (t) { var e = new $tt(this.this$MainActivity), i = this.this$MainActivity.characterBuild.getCharacterData(); this.this$MainActivity.openDialog_ip94j4$(new Urt(this.this$MainActivity, this.this$MainActivity.getDataControl(), this.this$MainActivity.characterBuild, i.getCharacterName(), t, e, i.isCloudStorage(), i.getFolderID())) }, mtt.$metadata$ = { kind: p, interfaces: [r7] }, utt.prototype.saveCharacter = function () { if (!this.listSaveDisabledCharacterBuilds.contains_11rb$(this.characterBuild)) { var t = new mtt(this); this.fileManager.fileManagementFolders.getSortedListFolderFiles_d3bi5s$(t) } }, gtt.prototype.onCompletion_8kj6y5$ = function (t, e) { this.this$MainActivity.getNavigationControl().setCurrentFileLocationFlag() }, gtt.$metadata$ = { kind: p, interfaces: [K7] }, utt.prototype.fromLocalCopy_mh747l$ = function (t, e) { var i = this.characterBuild.getCharacterData(); 0 === t ? (e.isMainFolder() ? i.setFolderID_pdl1vj$(null) : i.setFolderID_pdl1vj$(e.uuid), i.setWebID_pdl1vj$(null), this.fileManager.saveFile_g7kqbx$(i)) : 1 === t && this.gDriveManager.saveNewGoogleFileWithMetaData_n5xo6q$(i, new gtt(this)) }, vtt.prototype.onCompletion_8kj6y5$ = function (t, e) { t && (this.this$MainActivity.fileManager.deleteCharacterFile_qxwh7q$(this.closure$fileMetaData), this.this$MainActivity.getNavigationControl().setCurrentFileLocationFlag()) }, vtt.$metadata$ = { kind: p, interfaces: [K7] }, utt.prototype.fromLocalMove_mh747l$ = function (t, e) { var i, a = this.characterBuild.getCharacterData(); if (0 === t) e.isMainFolder() ? a.setFolderID_pdl1vj$(null) : a.setFolderID_pdl1vj$(e.uuid), null == a.getWebID() ? this.fileManager.saveFile_g7kqbx$(a) : this.fileManager.saveFileMetaData_puj7f4$(JSON.stringify(R7().getFileMetaData_g7kqbx$(a)), "string" == typeof (i = a.getWebID()) ? i : d()); else if (1 === t) { console.log("MOVING FROM LOCAL TO GDRIVE"); var r = R7().getFileMetaData_g7kqbx$(a); this.gDriveManager.saveNewGoogleFileWithMetaData_n5xo6q$(a, new vtt(this, r)) } }, Stt.prototype.onCompletion_8kj6y5$ = function (t, e) { }, Stt.$metadata$ = { kind: p, interfaces: [K7] }, utt.prototype.fromGoogleCopy_mh747l$ = function (t, e) { var i = this.characterBuild.getCharacterData(); 0 === t ? (e.isMainFolder() ? i.setFolderID_pdl1vj$(null) : i.setFolderID_pdl1vj$(e.uuid), this.fileManager.saveFile_g7kqbx$(i), this.getNavigationControl().setCurrentFileLocationFlag()) : 1 === t && this.gDriveManager.saveNewGoogleFileWithMetaData_n5xo6q$(i, new Stt) }, Ctt.prototype.onCompletion_6taknv$ = function (t) { this.this$MainActivity.getNavigationControl().setCurrentFileLocationFlag() }, Ctt.$metadata$ = { kind: p, interfaces: [rtt] }, Ett.prototype.onCompletion_8kj6y5$ = function (t, e) { }, Ett.$metadata$ = { kind: p, interfaces: [K7] }, utt.prototype.fromGoogleMove_mh747l$ = function (t, e) { var i = this.characterBuild.getCharacterData(); if (0 === t) { e.isMainFolder() ? i.setFolderID_pdl1vj$(null) : i.setFolderID_pdl1vj$(e.uuid); var a = i.getGoogleFileID(); this.fileManager.saveFile_g7kqbx$(i), null != a && this.gDriveManager.deleteGDriveFile_42b9o5$(a, new Ctt(this)) } else 1 === t && this.gDriveManager.saveExistingGoogleFileWithMetaData_n5xo6q$(i, new Ett) }, utt.prototype.setAccountUpgradedFunctions = function () { var t = B9().getPreferenceBoolean_ivxn3r$(B9().PREFERENCE_ACCOUNT_UPGRADE_FAILED, !1), e = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ACCOUNT, 0); if (t && e > 0) { var i = B9().getPreferenceString_61zpoe$(B9().PREFERENCE_USER_ID), a = B9().getPreferenceString_61zpoe$(B9().PREFERENCE_ORDER_ID), r = B9().getPreferenceString_61zpoe$(B9().PREFERENCE_USER_NAME), n = 0 === i.length; if (n || (n = 0 === a.length), n) return void B9().setPreferenceBoolean_ivxn3r$(B9().PREFERENCE_ACCOUNT_UPGRADE_FAILED, !1); switch (e) { case 1: var o = B9().SITE_URL + B9().SITE_EXT + "update_account_google.php", s = bt([$("googleid", i), $("orderid", a)]); this.masterDataHandler.sendDataToServer_x0a6t6$(o, JSON.stringify(s), a, i, r); break; case 2: var l = B9().SITE_URL + B9().SITE_EXT + "update_account_reddit.php", c = bt([$("redditid", i), $("orderid", a)]); this.masterDataHandler.sendDataToServer_x0a6t6$(l, JSON.stringify(c), a, i, r) } } this.getDataControl().setFullAppEnabled_6taknv$(e > 0), this.getNavigationControl().setMenuAccountLoginControls_6taknv$(e > 0) }, Att.prototype.accept = function () { this.this$MainActivity.openDialog_ip94j4$(new Wrt(this.this$MainActivity, this.this$MainActivity.getDataControl(), this.this$MainActivity.characterBuild)) }, Att.$metadata$ = { kind: p, interfaces: [Vet] }, utt.prototype.setUpgradeMessage_61zpoe$ = function (t) { Xet(!0, "Unlock the full version of Pathbuilder 2e to be able to " + t, new Att(this)).show() }, utt.prototype.newCharacter = function () { this.characterBuild = new Na, this.getDataControl().buildCharacter_5btbp7$(this.characterBuild), this.listBuilds_0.add_wxm5ur$(0, this.characterBuild), this.getNavigationControl().resetTabs(), this.getNavigationControl().sectionDefenses.invalidateHPControlInterface(), this.getNavigationControl().setTabbedAreaDisplay(), this.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.getGuiUpdateControl().updateBuildFragment_n40yp2$(this.characterBuild), this.setActiveBuildButtons(), B9().getPreferenceBoolean_ivxn3r$(B9().PREFERENCE_NEW_CHARACTER_DIALOG, !0) && this.openDialog_ip94j4$(new Jrt(this, this.getDataControl(), this.characterBuild)) }, Itt.prototype.accept = function () { this.this$MainActivity.listBuilds_0.remove_11rb$(this.closure$activeBuild), this.this$MainActivity.hashMapPathbuilderConnect.containsKey_11rb$(this.closure$activeBuild) && o(this.this$MainActivity.hashMapPathbuilderConnect.get_11rb$(this.closure$activeBuild)).close(), m(this.closure$activeBuild, this.this$MainActivity.characterBuild) && (0 === this.this$MainActivity.listBuilds_0.size ? (this.this$MainActivity.finishedLoading = !1, this.this$MainActivity.characterBuild = new Na, this.this$MainActivity.getDataControl().verifyCharacterSelections_5btbp7$(this.this$MainActivity.characterBuild), this.this$MainActivity.getDataControl().buildCharacter_5btbp7$(this.this$MainActivity.characterBuild), this.this$MainActivity.finishedLoading = !0, this.this$MainActivity.listBuilds_0.add_11rb$(this.this$MainActivity.characterBuild)) : this.this$MainActivity.characterBuild = this.this$MainActivity.listBuilds_0.get_za3lpa$(0), this.this$MainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.this$MainActivity.characterBuild), this.this$MainActivity.getGuiUpdateControl().updateBuildFragment_n40yp2$(this.this$MainActivity.characterBuild)), this.this$MainActivity.setActiveBuildButtons() }, Itt.$metadata$ = { kind: p, interfaces: [Vet] }, utt.prototype.setActiveBuildButtons = function () { var t, i, a = e.isType(t = document.getElementById("active-builds"), HTMLDivElement) ? t : d(); for (this.hashMapActiveBuildButtons_0.clear(), a.innerHTML = "", i = this.listBuilds_0.iterator(); i.hasNext();) { var r = i.next(), n = $lt(this.getNameLevel_5btbp7$(r)); if (n.div.style.display = "inline-block", a.appendChild(n.div), this.hashMapActiveBuildButtons_0.put_xwzc9p$(r, n), m(r, this.characterBuild) ? (n.div.classList.remove("active-build-section-inactive"), n.div.classList.contains("active-build-section-active") || n.div.classList.add("active-build-section-active")) : (n.div.classList.remove("active-build-section-active"), n.div.classList.contains("active-build-section-inactive") || n.div.classList.add("active-build-section-inactive"), n.buttonMain.addEventListener("click", btt(this, r))), n.imgConnect.classList.add("hidden"), this.hashMapPathbuilderConnect.containsKey_11rb$(r)) { var s = this.hashMapPathbuilderConnect.get_11rb$(r); n.imgConnect.classList.remove("hidden"), o(s).isConnected_za3rmp$(s.gamesMaster) ? n.imgConnect.src = "img/dotgreen.png" : n.imgConnect.src = "img/dotred.png" } else if (this.hashMapGMConnect_0.containsKey_11rb$(r)) { var l = this.hashMapGMConnect_0.get_11rb$(r); n.imgConnect.classList.remove("hidden"), o(l).isConnected() ? n.imgConnect.src = "img/dotgreen.png" : n.imgConnect.src = "img/dotred.png" } this.listSaveDisabledCharacterBuilds.contains_11rb$(r) && (n.buttonMain.style.color = "red"), n.buttonX.addEventListener("click", wtt(this, r)) } }, utt.prototype.getGuiUpdateControl = function () { return this.guiUpdateControl_0 }, Ltt.prototype.onCompletion_8kj6y5$ = function (t, e) { localStorage.removeItem(B9().LAST_CHARACTER_ID) }, Ltt.$metadata$ = { kind: p, interfaces: [K7] }, utt.prototype.autoSave = function () { if (this.gmMode) { var t = this.hashMapGMConnect_0.get_11rb$(this.characterBuild); if (null != t) return void t.updatePlayerSave_5btbp7$(this.characterBuild) } if (this.characterBuild.getCharacterData().isCloudStorage() ? this.gDriveManager.saveExistingGoogleFileWithMetaData_n5xo6q$(this.characterBuild.getCharacterData(), new Ltt) : this.listSaveDisabledCharacterBuilds.contains_11rb$(this.characterBuild) || this.fileManager.saveFile_g7kqbx$(this.characterBuild.getCharacterData()), this.hashMapPathbuilderConnect.containsKey_11rb$(this.characterBuild)) { var e = o(this.hashMapPathbuilderConnect.get_11rb$(this.characterBuild)); e.updateGM(), e.updateMirror() } }, Ttt.prototype.onCompletion_8kj6y5$ = function (t, e) { localStorage.removeItem(B9().LAST_CHARACTER_ID) }, Ttt.$metadata$ = { kind: p, interfaces: [K7] }, utt.prototype.autoSaveCharacterBuildInBackground_5btbp7$ = function (t) { if (m(this.characterBuild, t)) this.autoSave(); else if (t.getCharacterData().isCloudStorage() ? this.gDriveManager.saveExistingGoogleFileWithMetaData_n5xo6q$(t.getCharacterData(), new Ttt) : this.fileManager.saveFile_g7kqbx$(t.getCharacterData()), this.hashMapPathbuilderConnect.containsKey_11rb$(t)) { var e = o(this.hashMapPathbuilderConnect.get_11rb$(t)); e.updateGM(), e.updateMirror() } }, ktt.prototype.completion_qlx5jl$ = function (t, i) { var a, r, n, o = u(); if (t && null != i) { var s = e.isArray(a = i) ? a : d(); for (r = 0; r !== s.length; ++r) { var l = s[r], c = JSON.parse("string" == typeof (n = l) ? n : d()); o.add_11rb$(c) } o.size > 1 && q(o, new G(dtt(Rtt))) } this.this$MainActivity.openDialog_ip94j4$(new yrt(this.this$MainActivity, this.this$MainActivity.getDataControl(), this.this$MainActivity.characterBuild, o)) }, ktt.$metadata$ = { kind: p, interfaces: [h7] }, utt.prototype.load = function () { var t = new ktt(this); this.fileManager.getAllSavedFileMetaData_ccwm1a$(t) }, utt.prototype.loadFileByID_rkkr90$ = function (t, e) { this.fileManager.loadFile_rkkr90$(t, e) }, utt.prototype.setLoadedCharacterData_g7kqbx$ = function (t) { this.finishedLoading = !1, this.characterBuild = new Na, this.characterBuild.setCharacterData_g7kqbx$(t), this.getDataControl().verifyCharacterSelections_5btbp7$(this.characterBuild), this.getDataControl().buildCharacter_5btbp7$(this.characterBuild), this.finishedLoading = !0, this.listBuilds_0.add_wxm5ur$(0, this.characterBuild), this.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.getGuiUpdateControl().updateBuildFragment_n40yp2$(this.characterBuild), this.getNavigationControl().setCurrentFileLocationFlag(), this.setActiveBuildButtons() }, utt.prototype.setGMConnectedCharacterData_s22eux$ = function (t, i) { var a; if (this.hashMapGMConnect_0.containsValue_11rc$(t)) { var r = this.getCharacterBuildForGMConnection_i6qkpy$(t); return r.setCharacterData_g7kqbx$(i), void (m(this.characterBuild, r) && (this.getDataControl().buildCharacter_5btbp7$(this.characterBuild), this.getGuiUpdateControl().updateBuildFragment_n40yp2$(this.characterBuild), this.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild))) } var n = new Na; n.setCharacterData_g7kqbx$(i), this.hashMapGMConnect_0.put_xwzc9p$(n, t), this.listBuilds_0.add_11rb$(n), 1 === this.hashMapGMConnect_0.size && (this.characterBuild = n, this.getDataControl().verifyCharacterSelections_5btbp7$(this.characterBuild), this.getDataControl().buildCharacter_5btbp7$(this.characterBuild), Ntt().removeSpinner(), (e.isType(a = document.getElementById("main-container"), HTMLElement) ? a : d()).style.display = "flex", this.navigationControl = new lct(this, this.getDataControl()), this.setAccountUpgradedFunctions(), this.finishedLoading = !0), this.setActiveBuildButtons() }, utt.prototype.characterIsAlreadyOpen_pdl1vj$ = function (t) { var e; if (null == t) return !1; for (e = this.listBuilds_0.iterator(); e.hasNext();) { var i = e.next().getCharacterData().getWebID(); if (null != i && m(i, t)) return !0 } return !1 }, utt.prototype.showMessage_61zpoe$ = function (t) { new bet("Alert!", t).show() }, utt.prototype.showMessage_puj7f4$ = function (t, e) { new bet(t, e).show() }, utt.prototype.getNavigationControl = function () { var t; return null == this.navigationControl && (this.navigationControl = new lct(this, this.getDataControl())), e.isType(t = this.navigationControl, lct) ? t : d() }, utt.prototype.getDataControl = function () { return o(this.dataControl_0) }, utt.prototype.openDialog_ip94j4$ = function (t) { t.show() }, utt.prototype.setNameLevel = function () { var t = this.hashMapActiveBuildButtons_0.get_11rb$(this.characterBuild); null != t && (t.buttonMain.innerHTML = this.getNameLevel_5btbp7$(this.characterBuild)), document.title = "Pathbuilder 2e - " + this.characterBuild.getCharacterData().getCharacterName() }, utt.prototype.getNameLevel_5btbp7$ = function (t) { var e = t.getCharacterData().getClassName(); return null != t.getCharacterData().getDualClass() && (e += "/" + t.getCharacterData().getDualClass()), t.getCharacterData().getCharacterName() + " (" + e + " " + j(t.getCharacterData().getCharacterLevel()) + ")" }, utt.prototype.getExistingPathbuilderConnect_61zpoe$ = function (t) { var i; if (this.hashMapPathbuilderConnect.containsKey_11rb$(this.characterBuild)) { var a = e.isType(i = this.hashMapPathbuilderConnect.get_11rb$(this.characterBuild), v5) ? i : d(); if (m(a.gmID, t)) return a } return null }, utt.prototype.getPathbuilderConnect_ivxn3r$ = function (t, i) { var a; if (this.hashMapPathbuilderConnect.containsKey_11rb$(this.characterBuild)) { var r = e.isType(a = this.hashMapPathbuilderConnect.get_11rb$(this.characterBuild), v5) ? a : d(); if (m(r.gmID, t)) return r.isConnected_za3rmp$(r.gamesMaster) || r.join(), r; this.hashMapPathbuilderConnect.remove_11rb$(this.characterBuild) } var n = this.characterBuild.getCharacterData().getPeerID(); null == n && (n = this.getGuiUpdateControl().getPlatformUUID(), this.characterBuild.getCharacterData().setPeerID_61zpoe$(n), this.autoSave()); var o = new v5(this, this.getDataControl(), t, n, i), s = this.hashMapPathbuilderConnect, l = this.characterBuild; return s.put_xwzc9p$(l, o), o }, utt.prototype.getCharacterBuildForPathbuilderConnection_irwpta$ = function (t) { var e; for (e = this.hashMapPathbuilderConnect.keys.iterator(); e.hasNext();) { var i = e.next(), a = this.hashMapPathbuilderConnect.get_11rb$(i); if (m(a, t)) return i } return new Na }, utt.prototype.getCharacterBuildForGMConnection_i6qkpy$ = function (t) { var e; for (e = this.hashMapGMConnect_0.keys.iterator(); e.hasNext();) { var i = e.next(), a = this.hashMapGMConnect_0.get_11rb$(i); if (m(a, t)) return i } return new Na }, Ptt.prototype.addSpinner_61zpoe$ = function (t) { var e, i = new ect(t); null != (e = document.body) && e.appendChild(i.holder) }, Ptt.prototype.removeSpinner = function () { var t, e = document.getElementById("ring-holder"); null != e && null != (t = e.parentNode) && t.removeChild(e) }, Ptt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Mtt = null; function Ntt() { return null === Mtt && new Ptt, Mtt } function Dtt(t) { this.this$MainActivity = t } function xtt() { jtt = this, this.keyStr_0 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", this.keyStrUri_0 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$" } function ztt(t, e, i) { void 0 === t && (t = 48), void 0 === e && (e = 0), void 0 === i && (i = 1), this.value = K(t), this.position = e, this.index = i } function Ott(t, e, i, a, r, o, s, l) { return function () { var o = t.v, c = function (t, e, i, a, r) { return function () { for (var o = t.v, s = 0; s < o; s++) { var l = e, c = i; l.v = l.v << 1, c() } r.v = 0 | a.v.charCodeAt(0); for (var p = 0; p < 8; p++) { var h = e, d = r, u = i; h.v = h.v << 1 | 1 & d.v, u(), d.v = d.v >> 1 } return n } }(e, i, a, t, r), p = function (t, e, i, a, r) { return function () { t.v = 1; for (var o = e.v, s = 0; s < o; s++) { var l = i, c = t, p = a; l.v = l.v << 1 | c.v, p(), c.v = 0 } t.v = 0 | r.v.charCodeAt(0); for (var h = 0; h < 16; h++) { var d = i, u = t, _ = a; d.v = d.v << 1 | 1 & u.v, _(), u.v = u.v >> 1 } return n } }(r, e, i, a, t); (0 | o.charCodeAt(0)) < 256 ? c() : p(), s(), l.remove_11rb$(t.v) } } function Ftt(t) { return K(Bt(t)) } function Btt(t) { return K(Bt(t + 32 | 0)) } Dtt.prototype.completed_asi2v1$ = function (t) { this.this$MainActivity.loaderSet_0.setCustomFileHashMap_asi2v1$(t), this.this$MainActivity.masterDataHandler.requestDataComp() }, Dtt.$metadata$ = { kind: p, interfaces: [J8] }, utt.$metadata$ = { kind: p, simpleName: "MainActivity", interfaces: [] }, ztt.$metadata$ = { kind: p, simpleName: "Data", interfaces: [] }, ztt.prototype.component1 = function () { return this.value }, ztt.prototype.component2 = function () { return this.position }, ztt.prototype.component3 = function () { return this.index }, ztt.prototype.copy_t0c4sj$ = function (t, e, i) { return new ztt(void 0 === t ? this.value : t, void 0 === e ? this.position : e, void 0 === i ? this.index : i) }, ztt.prototype.toString = function () { return "Data(value=" + e.toString(this.value) + ", position=" + e.toString(this.position) + ", index=" + e.toString(this.index) + ")" }, ztt.prototype.hashCode = function () { var t = 0; return t = 31 * (t = 31 * (t = 31 * t + e.hashCode(this.value) | 0) + e.hashCode(this.position) | 0) + e.hashCode(this.index) | 0 }, ztt.prototype.equals = function (t) { return this === t || null !== t && "object" == typeof t && Object.getPrototypeOf(this) === Object.getPrototypeOf(t) && e.equals(this.value, t.value) && e.equals(this.position, t.position) && e.equals(this.index, t.index) }, xtt.prototype.charLess256_0 = function (t, e, i) { (0 | t.charCodeAt(0)) < 256 ? e() : i() }, xtt.prototype.power_0 = function (t) { return 1 << t }, xtt.prototype._compress_0 = function (t, i, a) { var r, n, s, l, c, p, h, _, f = { v: null }, m = { v: null }, $ = { v: "" }, g = { v: null }, v = Ot(), S = Ot(), C = { v: 3 }, E = u(), A = { v: 2 }, b = { v: 0 }, w = { v: 0 }, L = (r = { v: 2 }, n = A, function () { var t, e; if (t = r.v, r.v = t - 1, 0 === r.v) { var i = r, a = n.v; i.v = I.pow(2, a), e = n.v, n.v = e + 1 | 0 } }), T = (s = w, l = i, c = E, p = a, h = b, function () { var t; s.v === (l - 1 | 0) ? (s.v = 0, c.add_11rb$(p(h.v)), h.v = 0) : (t = s.v, s.v = t + 1 | 0) }), k = function (t, e, i, a, r, n, s, l, c) { return function () { if (t.containsKey_11rb$(e.v)) i(); else { r.v = o(a.get_11rb$(e.v)); for (var p = n.v, h = 0; h < p; h++) { var d = s, u = r, _ = l; d.v = d.v << 1 | 1 & u.v, _(), u.v = u.v >> 1 } } c() } }(S, $, Ott($, A, b, T, m, 0, L, S), v, m, A, b, T, L); for (_ = Pt(t); _.hasNext();) { var R, P = Mt(_.next()), M = K(P); if (f.v = String.fromCharCode(Mt(M)), null == v.get_11rb$(f.v)) { var N, D = f.v, x = (N = C.v, C.v = N + 1 | 0, N); v.put_xwzc9p$(D, x); var z = f.v; S.put_xwzc9p$(z, !0) } g.v = $.v + f.v; var O, F = g.v; if ((e.isType(O = v, y) ? O : d()).containsKey_11rb$(F)) $.v = g.v; else { k(); var B = g.v, j = (R = C.v, C.v = R + 1 | 0, R); v.put_xwzc9p$(B, j), $.v = f.v } } gt($.v) || k(), m.v = 2; for (var H = A.v, q = 0; q < H; q++)b.v = b.v << 1 | 1 & m.v, w.v === (i - 1 | 0) ? (w.v = 0, E.add_11rb$(a(b.v)), b.v = 0) : w.v = w.v + 1 | 0, m.v = m.v >> 1; for (; ;) { if (b.v = b.v << 1, w.v === (i - 1 | 0)) { E.add_11rb$(a(b.v)); break } w.v = w.v + 1 | 0 } return Ft(E, "") }, xtt.prototype.get_string_0 = function (t) { return String.fromCharCode(Bt(t)) }, xtt.prototype._decompress_0 = function (t, i, a) { var r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S = jt(), C = Ht([this.get_string_0(0), this.get_string_0(1), this.get_string_0(2)]), E = { v: 0 }, A = new ztt(Mt(a(0)), i, 1), b = { v: "" }, I = { v: 3 }, w = { v: 4 }, L = { v: 4 }, T = { v: 0 }, k = (l = E, c = this, p = { v: null }, h = { v: null }, d = A, u = { v: null }, _ = i, f = a, y = b, m = C, $ = L, g = T, v = w, function (t, i, a, r) { var n, o, s; for (void 0 === r && (r = 0), l.v = t, p.v = c.power_0(a), h.v = i; h.v !== p.v;)u.v = (0 | Mt(d.value)) & d.position, d.position = d.position >> 1, 0 === d.position && (d.position = _, d.value = f((n = d.index, d.index = n + 1 | 0, n))), l.v = l.v | e.imul(u.v > 0 ? 1 : 0, h.v), h.v = h.v << 1; switch (r) { case 0: break; case 1: y.v = c.get_string_0(l.v); break; case 2: m.add_wxm5ur$((o = $.v, $.v = o + 1 | 0, o), c.get_string_0(l.v)), g.v = $.v - 1 | 0, s = v.v, v.v = s - 1 | 0 } }), R = function (t, e, i) { return function () { var a; 0 === t.v && (t.v = i.power_0(e.v), a = e.v, e.v = a + 1 | 0) } }(w, I, this); switch (k(E.v, 1, 2), T.v = E.v, T.v) { case 0: k(0, 1, 8, 1); break; case 1: k(0, 1, 16, 1); break; case 2: return "" }for (C.add_wxm5ur$(3, b.v), o = b.v, S.append_pdl1vj$(o); ;) { if (A.index > t) return ""; switch (k(0, 1, I.v), T.v = E.v, T.v) { case 0: k(0, 1, 8, 2); break; case 1: k(0, 1, 16, 2); break; case 2: return S.toString() }if (R(), C.size > T.v) r = C.get_za3lpa$(T.v); else { if (T.v !== L.v) return null; r = o + String.fromCharCode(K(o.charCodeAt(0))) } s = r, S.append_pdl1vj$(s), C.add_wxm5ur$((n = L.v, L.v = n + 1 | 0, n), o + String.fromCharCode(K(s.charCodeAt(0)))), w.v = w.v - 1 | 0, o = s, R() } }, xtt.prototype.compress_61zpoe$ = function (t) { return this._compress_0(t, 16, Ftt) }, xtt.prototype.decompres_61zpoe$ = function (t) { return gt(t) ? null : this._decompress_0(t.length, 32768, (e = t, function (t) { return K(e.charCodeAt(t)) })); var e }, xtt.prototype.decompressFromEncodedURIComponent_61zpoe$ = function (t) { return gt(t) ? "" : this._decompress_0(t.length, 32, (e = this, i = t, function (t) { return K(Bt(qt(e.keyStrUri_0, i.charCodeAt(t)))) })); var e, i }, xtt.prototype.compressToEncodedURIComponent_61zpoe$ = function (t) { return this._compress_0(t, 6, (e = this, function (t) { return K(e.keyStrUri_0.charCodeAt(t)) })); var e }, xtt.prototype.compressToBase64_61zpoe$ = function (t) { var e, i, a = this._compress_0(t, 6, (i = this, function (t) { return K(i.keyStr_0.charCodeAt(t)) })); switch (a.length % 4) { case 0: e = a; break; case 1: e = a + "==="; break; case 2: e = a + "=="; break; case 3: e = a + "="; break; default: throw Ut("i do not know what happened") }return e }, xtt.prototype.decompressFromBase64_61zpoe$ = function (t) { return gt(t) ? null : this._decompress_0(t.length, 32, (e = this, i = t, function (t) { return K(Bt(qt(e.keyStr_0, i.charCodeAt(t)))) })); var e, i }, xtt.prototype.decompressFromUTF16_61zpoe$ = function (t) { return gt(t) ? null : this._decompress_0(t.length, 16384, (e = t, function (t) { return K(Bt((0 | e.charCodeAt(t)) - 32 | 0)) })); var e }, xtt.prototype.compressToUTF16_61zpoe$ = function (t) { return this._compress_0(t, 15, Btt) + " " }, xtt.$metadata$ = { kind: f, simpleName: "LZ4K", interfaces: [] }; var jtt = null; function Htt() { return null === jtt && new xtt, jtt } function qtt(t, i, a) { var r; Iet.call(this, t, i, a), this.currentSelection_0 = null, this.categories_0 = ["Common Ancestries", "Uncommon and Rare", "All Ancestries"], this.category_0 = 0, this.listAncestries_0 = u(), this.hashMapAncestries_0 = c(), this.allowCommon_0 = !0, this.allowUncommon_0 = !0, this.allowRare_0 = !0, this.title.innerHTML = "Select Ancestry", this.currentSelection_0 = t.characterBuild.getCharacterData().getAncestry(); var p, h, d = new Met("Common"), _ = new Met("Uncommon"), f = new Met("Rare"); for (d.setWhite(), _.setWhite(), f.setWhite(), d.setChecked_6taknv$(!0), _.setChecked_6taknv$(!0), f.setChecked_6taknv$(!0), d.divWithLabel.style.display = "inline-block", _.divWithLabel.style.display = "inline-block", f.divWithLabel.style.display = "inline-block", this.addWidgetToTop_lt8gi4$(d.divWithLabel), this.addWidgetToTop_lt8gi4$(_.divWithLabel), this.addWidgetToTop_lt8gi4$(f.divWithLabel), d.divWithLabel.addEventListener("click", (p = d, h = this, function (t) { return p.toggle(), h.allowCommon_0 = p.isChecked(), h.setListView_0(), n })), _.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), e.allowUncommon_0 = t.isChecked(), e.setListView_0(), n } }(_, this)), f.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), e.allowRare_0 = t.isChecked(), e.setListView_0(), n } }(f, this)), r = i.managerAncestry.hashMapAncestries.keys.iterator(); r.hasNext();) { var y = r.next(), m = i.managerAncestry.hashMapAncestries.get_11rb$(y); try { Ic().isEnabled_kc4y8q$(a.getCharacterData(), o(m).src) && (this.hashMapAncestries_0.put_xwzc9p$(y, m), this.listAncestries_0.add_11rb$(y)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } Q(this.listAncestries_0), this.setListView_0(), this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0), this.divScrollable.addEventListener("dblclick", function (t) { return function (e) { return t.onAccept(), n } }(this)) } qtt.prototype.onAccept = function () { null != this.currentSelection_0 && (this.sameAsOldSelection_0() || (this.mainActivity.finishedLoading = !1, this.dataControl.managerAncestry.activateNewAncestry_umc2jq$(this.currentSelection_0, this.characterBuild), this.mainActivity.finishedLoading = !0, this.mainActivity.getGuiUpdateControl().onAncestryChanged_n40yp2$(this.characterBuild), this.mainActivity.autoSave()), this.destroy()) }, qtt.prototype.sameAsOldSelection_0 = function () { return m(this.getCharacterData().getAncestry(), this.currentSelection_0) }, qtt.prototype.setListView_0 = function () { var t, i; for (this.divScrollable.innerHTML = "", t = this.listAncestries_0.iterator(); t.hasNext();) { var a = t.next(), r = e.isType(i = this.hashMapAncestries_0.get_11rb$(a), ea) ? i : d(); this.correctCategory_0(r) && this.divScrollable.appendChild(this.getListViewItem_0(o(r), a)) } }, qtt.prototype.correctCategory_0 = function (t) { return !(!_(t.traits, "Uncommon") || !this.allowUncommon_0) || !(!_(t.traits, "Rare") || !this.allowRare_0) || !(_(t.traits, "Uncommon") || _(t.traits, "Rare") || !this.allowCommon_0) }, qtt.prototype.openPRD = function () { if (null != this.currentSelection_0) { var t, i = this.dataControl.managerAncestry.hashMapAncestries, a = this.currentSelection_0, r = (e.isType(t = i, y) ? t : d()).get_11rb$(a); this.mainActivity.openBrowser_61zpoe$(o(r).url) } }, qtt.prototype.onItemClicked_za3rmp$ = function (t) { var e; this.currentSelection_0 = "string" == typeof (e = t) ? e : d() }, qtt.prototype.getListViewItem_0 = function (t, e) { var i, a, r = new Ylt(!1); return r.setTraits_pdl1vj$(t.traits), r.setName_61zpoe$(e), r.setAction_za3lpa$(-2), r.setDescription_61zpoe$(null != (i = t.description) ? i : ""), r.setCopyright_61zpoe$(null != (a = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? a : ""), this.hashMapDivs.put_xwzc9p$(r, e), r.div }, qtt.$metadata$ = { kind: p, simpleName: "DialogAncestry", interfaces: [Iet] }; var Utt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Gtt(t, e, i, a) { Xtt(), Iet.call(this, t, e, i), this.featFilter_0 = null, this.skillFilter_0 = null, this.abilityFilter_0 = null, this.currentFilter_0 = -1, this.currentSelection_0 = null, this.listItems = u(), this.listFeats_0 = u(), this.buttonEdit_0 = jlt().getDiv(), this.buttonDelete_0 = jlt().getDiv(), this.title.innerHTML = "Select Background"; var r, s = jlt().getDiv(); s.innerHTML = "Custom", htt().setHidden_njr4nn$(s, !1), s.addEventListener("click", (r = this, function (t) { return r.fullAppEnabledCheck_0(), n })), this.addButtonToBottom_lt8gi4$(s), e.isFullAppEnabled() || s.classList.add("modal-button-disabled"), this.buttonEdit_0.innerHTML = "Edit", htt().setInvisible_njr4nn$(this.buttonEdit_0, !1), this.buttonEdit_0.addEventListener("click", function (t, e, i, a) { return function (r) { return null != t.currentSelection_0 && (m(t.getCharacterData().getBackground(), o(t.currentSelection_0).idCustom) ? e.showMessage_61zpoe$("You cannot edit a background that is currently in use.") : (e.openDialog_ip94j4$(new tat(e, i, a, o(t.currentSelection_0).idCustom)), t.destroy())), n } }(this, t, e, i)), this.addButtonToBottom_lt8gi4$(this.buttonEdit_0), this.buttonDelete_0.innerHTML = "Delete", htt().setInvisible_njr4nn$(this.buttonDelete_0, !1), this.buttonDelete_0.addEventListener("click", function (t, e) { return function (i) { return null != t.currentSelection_0 && (m(t.getCharacterData().getBackground(), o(t.currentSelection_0).idCustom) ? e.showMessage_61zpoe$("You cannot delete a background that is currently in use.") : Xet(!0, "Really delete " + o(t.currentSelection_0).name + "?", new Jtt(t)).show()), n } }(this, t)), this.addButtonToBottom_lt8gi4$(this.buttonDelete_0), this.currentSelection_0 = e.managerBackgrounds.getBackground_5btbp7$(i), this.setButtonVisibility_0(); var l = o(this.currentSelection_0).category; a > -1 && (l = a), this.filterBackgrounds_0(l); var c = new Uet(!0); c.setSpinnerList_kand9s$(["General Backgrounds", "Regional Backgrounds", "Campaign Backgrounds", "Custom Backgrounds", "3rd Party Backgrounds", "All Backgrounds"]), c.setSpinnerSelection_s8ev37$(l), c.spinner.addEventListener("change", function (t, e) { return function (i) { t.divInfo.innerHTML = ""; var a = e.spinner.selectedIndex; return t.divScrollable.scrollTop = 0, t.filterBackgrounds_0(a), n } }(this, c)), this.addWidgetToTop_lt8gi4$(c.spinner); var p = new Uet(!0); p.setSpinnerList_un5gdn$(this.getListFeats_0()), p.spinner.addEventListener("change", function (t, e) { return function (i) { var a = t.spinner.selectedIndex; if (e.divScrollable.scrollTop = 0, 0 === a) e.filterFeat_pdl1vj$(null); else { var r = e.listFeats_0.get_za3lpa$(a); e.filterFeat_pdl1vj$(r.id) } return n } }(p, this)), this.addWidgetToTop_lt8gi4$(p.spinner); var h = new Uet(!0); h.setSpinnerList_kand9s$(["All Abilities", "Strength", "Dexterity", "Constitution", "Intelligence", "Wisdom", "Charisma"]), h.spinner.addEventListener("change", function (t, e) { return function (i) { var a = t.spinner.selectedIndex - 1 | 0; return e.divScrollable.scrollTop = 0, -1 === a ? e.filterAbility_pdl1vj$(null) : e.filterAbility_pdl1vj$(a.toString()), n } }(h, this)), this.addWidgetToTop_lt8gi4$(h.spinner); var d = new Uet(!0), _ = ["All skills", pK().ACROBATICS, pK().ARCANA, pK().ATHELTICS, pK().CRAFTING, pK().DECEPTION, pK().DIPLOMACY, pK().INTIMIDATION, pK().MEDICINE, pK().NATURE, pK().OCCULTISM, pK().PERFORMANCE, pK().RELIGION, pK().SOCIETY, pK().STEALTH, pK().SURVIVAL, pK().THIEVERY]; d.setSpinnerList_kand9s$(_), d.spinner.addEventListener("change", function (t, e, i) { return function (a) { var r = t.spinner.selectedIndex; return e.divScrollable.scrollTop = 0, 0 === r ? e.filterSkill_pdl1vj$(null) : e.filterSkill_pdl1vj$(i[r]), n } }(d, this, _)), this.addWidgetToTop_lt8gi4$(d.spinner), this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0), this.divScrollable.addEventListener("dblclick", function (t) { return function (e) { return t.onAccept(), n } }(this)) } function Wtt(t) { return t.name } function Ytt(t) { return t.name } function Vtt() { Ktt = this, this.FEAT_NONE_0 = "All Feats" } Gtt.prototype.onAccept = function () { var t; if (null != this.currentSelection_0) { if (dt(null != (t = this.currentSelection_0) ? t.id : null, "BACKGROUD_Raised by Faith [PlaceHolder]")) return void this.mainActivity.showMessage_61zpoe$("Raised by Faith is not available in Pathbuilder 2e"); this.sameAsOldSelection_0() || (this.mainActivity.finishedLoading = !1, this.dataControl.managerBackgrounds.activateNewBackground_zeszdv$(this.characterBuild, this.currentSelection_0), this.mainActivity.finishedLoading = !0, this.characterBuild.setFreshPlayReportAbilityScores_sfkw43$(this.dataControl), this.mainActivity.getGuiUpdateControl().onBackgroundChange_n40yp2$(this.characterBuild), this.mainActivity.autoSave()), this.destroy() } }, Gtt.prototype.sameAsOldSelection_0 = function () { var t; return m(this.getCharacterData().getBackground(), null != (t = this.currentSelection_0) ? t.id : null) }, Gtt.prototype.deleteCurrentCustom_0 = function () { if (null != this.currentSelection_0 && o(this.currentSelection_0).databaseID > -1) { this.mainActivity.fileManager.fileManagementCustomFiles.deleteCustomFile_61zpoe$(o(this.currentSelection_0).idCustom); var t, i = this.listItems, a = this.currentSelection_0; (e.isType(t = i, ht) ? t : d()).remove_11rb$(a); var r, n = this.dataControl.managerBackgrounds.backgroundSet.list, s = this.currentSelection_0; (e.isType(r = n, ht) ? r : d()).remove_11rb$(s), this.dataControl.managerBackgrounds.backgroundSet.hashMap.remove_11rb$(o(this.currentSelection_0).idCustom), this.divInfo.innerHTML = "", this.applyFilter_0() } }, Gtt.prototype.fullAppEnabledCheck_0 = function () { this.dataControl.isFullAppEnabled() ? (this.mainActivity.openDialog_ip94j4$(new tat(this.mainActivity, this.dataControl, this.characterBuild, null)), this.destroy()) : this.mainActivity.setUpgradeMessage_61zpoe$("create custom backgrounds") }, Gtt.prototype.getListFeats_0 = function () { var t, e, i, a = u(); for (t = this.dataControl.managerBackgrounds.backgroundSet.list.iterator(); t.hasNext();) { var r = t.next(), n = r.freeFeatID; B(a, r.freeFeatID) || null == n || a.add_11rb$(n) } for (e = a.iterator(); e.hasNext();) { var o = e.next(), s = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(o); null != s && this.listFeats_0.add_11rb$(s) } var l = this.listFeats_0; l.size > 1 && q(l, new G(Utt(Wtt))); var c = Cq(Xtt().FEAT_NONE_0); c.name = Xtt().FEAT_NONE_0, this.listFeats_0.add_wxm5ur$(0, c); var p = u(); for (i = this.listFeats_0.iterator(); i.hasNext();) { var h = i.next(); p.add_11rb$(h.name) } return p }, Gtt.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, Gtt.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, Ks) ? i : d(), this.setButtonVisibility_0() }, Gtt.prototype.setButtonVisibility_0 = function () { null != this.currentSelection_0 && (o(this.currentSelection_0).databaseID > -1 ? (htt().setInvisible_njr4nn$(this.buttonDelete_0, !0), htt().setInvisible_njr4nn$(this.buttonEdit_0, !0)) : (htt().setInvisible_njr4nn$(this.buttonDelete_0, !1), htt().setInvisible_njr4nn$(this.buttonEdit_0, !1))) }, Gtt.prototype.filterBackgrounds_0 = function (t) { t !== this.currentFilter_0 && (this.currentFilter_0 = t, this.applyFilter_0()) }, Gtt.prototype.filterSkill_pdl1vj$ = function (t) { this.skillFilter_0 = t, this.applyFilter_0() }, Gtt.prototype.filterAbility_pdl1vj$ = function (t) { this.abilityFilter_0 = t, this.applyFilter_0() }, Gtt.prototype.filterFeat_pdl1vj$ = function (t) { this.featFilter_0 = t, this.applyFilter_0() }, Gtt.prototype.applyFilter_0 = function () { var t, e; for (this.divScrollable.innerHTML = "", this.listItems.clear(), t = this.dataControl.managerBackgrounds.getListFilteredBackgrounds_qert39$(this.mainActivity.characterBuild.getCharacterData(), this.currentFilter_0).iterator(); t.hasNext();) { var i = t.next(); this.correctSkill_0(i) && this.correctFeat_0(i) && this.correctAbility_0(i) && this.listItems.add_11rb$(i) } var a = this.listItems; for (a.size > 1 && q(a, new G(Utt(Ytt))), null == this.currentSelection_0 || B(this.listItems, this.currentSelection_0) || (this.currentSelection_0 = null), e = this.listItems.iterator(); e.hasNext();) { var r = e.next(); this.divScrollable.appendChild(this.getListViewItem_0(r)) } }, Gtt.prototype.correctSkill_0 = function (t) { return null == this.skillFilter_0 || !(null == t.skill || !m(t.skill, this.skillFilter_0)) || null != t.skill2 && m(t.skill2, this.skillFilter_0) }, Gtt.prototype.correctFeat_0 = function (t) { return null == this.featFilter_0 || null != t.freeFeatID && m(t.freeFeatID, this.featFilter_0) }, Gtt.prototype.correctAbility_0 = function (t) { return null == this.abilityFilter_0 || !(null == t.boost_ref_1 || !m(t.boost_ref_1, this.abilityFilter_0)) || !(null == t.boost_ref_2 || !m(t.boost_ref_2, this.abilityFilter_0)) || !(null == t.boost_ref_3 || !m(t.boost_ref_3, this.abilityFilter_0)) }, Gtt.prototype.getListViewItem_0 = function (t) { var e, i, a = new Ylt(!1); return a.setDescription_61zpoe$(t.getDescription_sfkw43$(this.dataControl)), a.setTraits_pdl1vj$(null != (e = t.traits) ? e : ""), a.setName_61zpoe$(t.name), a.setAction_za3lpa$(-2), a.setCopyright_61zpoe$(null != (i = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? i : ""), this.hashMapDivs.put_xwzc9p$(a, t), a.div }, Vtt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Ktt = null; function Xtt() { return null === Ktt && new Vtt, Ktt } function Jtt(t) { this.this$DialogBackground = t } function Ztt(t, e, i, a) { wet.call(this, t, e, i), this.level_0 = a, this.remaining_0 = 4, this.layoutAbilityIncrease_0 = new Net, this.listIllegal_0 = u(), this.illegalP_0 = jlt().getP(), this.setRestictedWidth40(), this.title.innerHTML = "Set Ability Boosts Level " + this.level_0, this.setSingleFinishedButton(); var r = 4; this.getCharacterData().isGradualAbilityBoost() && (r = 1), this.remaining_0 = r - i.getCharacterData().getListAbilityBoosts_za3lpa$(this.level_0).size | 0, this.addFreeBoostControls_0(), this.setAbilityScores_0(), this.illegalP_0.innerHTML = "Illegal Gradual Ability Boost Selection", this.illegalP_0.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.illegalP_0.classList.add(B9().CSS_WARNING_TEXT), this.illegalP_0.style.margin = "0.5em", htt().setHidden_njr4nn$(this.illegalP_0, !1), this.content.appendChild(this.illegalP_0) } function Qtt(t, e, i) { return function (a) { var r, o; return t.isChecked() ? (t.setChecked_6taknv$(!1), o = e.remaining_0, e.remaining_0 = o + 1 | 0, e.getCharacterData().getListAbilityBoosts_za3lpa$(e.level_0).remove_11rb$(i)) : e.remaining_0 > 0 && (t.setChecked_6taknv$(!0), r = e.remaining_0, e.remaining_0 = r - 1 | 0, e.getCharacterData().getListAbilityBoosts_za3lpa$(e.level_0).add_11rb$(i)), e.checkIllegal_0(), e.setRemaining_0(), e.setAbilityScores_0(), n } } function tet(t, e, i) { wet.call(this, t, e, i), this.ARRAY_DUAL_CLASS_BOOST_0 = ["None", "Strength", "Dexterity", "Constitution", "Intelligence", "Wisdom", "Charisma"], this.hashMapAncestrySpinnerToAbilityRef_0 = c(), this.hashMapAncestryAbilityRefToSpinner_0 = c(), this.remaining_0 = 4, this.warningAncestries_0 = jlt().getP(), this.warningBackgrounds_0 = jlt().getP(), this.layoutAbilityIncrease_0 = new Net, this.checkBoxOptionalFlaw_0 = new Met("Use Optional Flaws"), this.overrideInputs_0 = [jlt().getNumericInput(), jlt().getNumericInput(), jlt().getNumericInput(), jlt().getNumericInput(), jlt().getNumericInput(), jlt().getNumericInput()], this.content.classList.add(B9().CSS_PADDING_STANDARD), this.title.innerHTML = "Set Starting Ability Boosts", this.setSingleFinishedButton(), this.setRestictedWidth40(), this.remaining_0 = 4 - i.getCharacterData().getListAbilityBoosts_za3lpa$(1).size | 0, this.updateAncestryButton_0(), this.updateBackgroundButton_0(), this.updateClassButton_0(), this.addFreeBoostControls_0(), this.checkAncestryBoostsLegal_0(), this.checkBackgroundBoostsLegal_0(), this.setOverrideControls_0(), this.setAbilityScores_0() } function eet(t, e, i) { return function (a) { var r, o; return t.isChecked() ? (t.setChecked_6taknv$(!1), o = e.remaining_0, e.remaining_0 = o + 1 | 0, e.getCharacterData().getListAbilityBoosts_za3lpa$(1).remove_11rb$(i)) : e.remaining_0 > 0 && (t.setChecked_6taknv$(!0), r = e.remaining_0, e.remaining_0 = r - 1 | 0, e.getCharacterData().getListAbilityBoosts_za3lpa$(1).add_11rb$(i)), e.setRemaining_0(), e.setAbilityScores_0(), n } } function iet(t, i) { return function (a) { var r = t.overrideInputs_0[i].value, c = null != t.getCharacterData().getAbilityScoreOverrides(); if (c && (c = r.length > 0), c) try { var p = V(r); o(t.getCharacterData().getAbilityScoreOverrides())[i] = p } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } } function aet(t, e, i) { return function (a) { var r = t.spinner.selectedIndex; if (e.hashMapAncestrySpinnerToAbilityRef_0.containsKey_11rb$(r)) { var s = o(e.hashMapAncestrySpinnerToAbilityRef_0.get_11rb$(r)); s !== e.getCharacterData().getHashMapAncestryFreeBoostSelections().get_11rb$(i) && (e.getCharacterData().getHashMapAncestryFreeBoostSelections().put_xwzc9p$(i, s), e.checkAncestryBoostsLegal_0(), e.setAbilityScores_0()) } return n } } function ret(t, e, i, a) { Iet.call(this, t, e, i), this.dualClass_0 = a, this.currentSelection_0 = i.getCharacterData().getClassName(), this.allowCore_0 = !0, this.allowExpanded_0 = !0, this.title.innerHTML = "Select Class"; var r, o, s = new Met("Core"), l = new Met("Expanded"); s.setWhite(), l.setWhite(), s.setChecked_6taknv$(!0), l.setChecked_6taknv$(!0), s.divWithLabel.style.display = "inline-block", l.divWithLabel.style.display = "inline-block", this.addWidgetToTop_lt8gi4$(s.divWithLabel), this.addWidgetToTop_lt8gi4$(l.divWithLabel), s.divWithLabel.addEventListener("click", (r = s, o = this, function (t) { return r.toggle(), o.allowCore_0 = r.isChecked(), o.currentSelection_0 = null, o.setListView_0(), n })), l.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), e.allowExpanded_0 = t.isChecked(), e.currentSelection_0 = null, e.setListView_0(), n } }(l, this)), this.setListView_0() } Jtt.prototype.accept = function () { this.this$DialogBackground.deleteCurrentCustom_0() }, Jtt.$metadata$ = { kind: p, interfaces: [Vet] }, Gtt.$metadata$ = { kind: p, simpleName: "DialogBackground", interfaces: [Iet] }, Ztt.prototype.onAccept = function () { this.dataControl.managerProficiencies.checkIntelligenceBoostSkillChoices_vy76y1$(this.characterBuild, this.level_0), this.mainActivity.getGuiUpdateControl().onAbilityScoresChanged_hxv71$(this.characterBuild, this.level_0, !0), this.mainActivity.autoSave(), this.destroy() }, Ztt.prototype.setRemaining_0 = function () { this.layoutAbilityIncrease_0.setRemaining_za3lpa$(this.remaining_0), this.mainActivity.getNavigationControl().getFragmentBuild().updateBoostsRemaining_za3lpa$(this.level_0) }, Ztt.prototype.addFreeBoostControls_0 = function () { this.layoutAbilityIncrease_0.setRemaining_za3lpa$(this.remaining_0); var t = jlt().getDiv(); t.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), t.style.margin = "0.5em", this.content.appendChild(t); var e = jlt().getDiv(); e.classList.add(B9().CSS_BOLD_STANDARD), e.innerHTML = "Free Boosts", t.appendChild(e), t.appendChild(this.layoutAbilityIncrease_0.table); for (var i = 0; i <= 5; i++) { var a = this.layoutAbilityIncrease_0.arrayCheckBoxes[i]; this.shouldDisableCheckBoxDueToGradualAbilityBoost_0(i) && this.layoutAbilityIncrease_0.arrayTDS[i].classList.add(B9().CSS_RED_TEXT), this.layoutAbilityIncrease_0.arrayTDS[i].addEventListener("click", Qtt(a, this, i)), this.getCharacterData().getListAbilityBoosts_za3lpa$(this.level_0).contains_11rb$(i) && a.setChecked_6taknv$(!0) } this.checkIllegal_0() }, Ztt.prototype.shouldDisableCheckBoxDueToGradualAbilityBoost_0 = function (t) { var e, i, a = [2, 7, 12, 17], r = 2; for (e = 0; e !== a.length; ++e) { var n = a[e]; if (this.level_0 === n) return !1; this.level_0 >= n && (r = n) } var o = r + 3 | 0; o >= this.level_0 && (o = this.level_0 - 1 | 0), i = o; for (var s = r; s <= i; s++)if (this.getCharacterData().getListAbilityBoosts_za3lpa$(s).contains_11rb$(t)) return this.listIllegal_0.add_11rb$(t), !0; return !1 }, Ztt.prototype.checkIllegal_0 = function () { htt().setHidden_njr4nn$(this.illegalP_0, !1); for (var t = 0; t <= 5; t++)this.getCharacterData().getListAbilityBoosts_za3lpa$(this.level_0).contains_11rb$(t) && this.listIllegal_0.contains_11rb$(t) && htt().setHidden_njr4nn$(this.illegalP_0, !0) }, Ztt.prototype.setAbilityScores_0 = function () { this.characterBuild.updateReportAbilityScores_vvjzl1$(this.dataControl, this.level_0); for (var t = new G1(this.dataControl, this.characterBuild, this.level_0).abilityScores, e = 0; e !== t.length; ++e)this.layoutAbilityIncrease_0.setAbility_vux9f0$(t[e], e) }, Ztt.$metadata$ = { kind: p, simpleName: "DialogBoostLevel", interfaces: [wet] }, tet.prototype.onAccept = function () { this.mainActivity.autoSave(), this.characterBuild.updateReportAbilityScores_vvjzl1$(this.dataControl, this.getCharacterData().getCharacterLevel()), this.mainActivity.getGuiUpdateControl().onAbilityScoresChanged_hxv71$(this.characterBuild, 1, !0), this.mainActivity.getNavigationControl().getFragmentBuild().setStartingAbilityBoostsRemaining(), this.mainActivity.getNavigationControl().tabbedAreaFeats.updateWarnings(), this.destroy() }, tet.prototype.addFreeBoostControls_0 = function () { this.layoutAbilityIncrease_0.setRemaining_za3lpa$(this.remaining_0); var t = jlt().getDiv(); t.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(t); var e = jlt().getDiv(); e.classList.add(B9().CSS_BOLD_STANDARD), e.innerHTML = "Free Boosts", e.style.marginBottom = "0.5em", t.appendChild(e), t.appendChild(this.layoutAbilityIncrease_0.table); for (var i = 0; i <= 5; i++) { var a = this.layoutAbilityIncrease_0.arrayCheckBoxes[i]; this.layoutAbilityIncrease_0.arrayTDS[i].addEventListener("click", eet(a, this, i)), this.getCharacterData().getListAbilityBoosts_za3lpa$(1).contains_11rb$(i) && a.setChecked_6taknv$(!0) } }, tet.prototype.setRemaining_0 = function () { this.layoutAbilityIncrease_0.setRemaining_za3lpa$(this.remaining_0), this.mainActivity.getNavigationControl().getFragmentBuild().updateBoostsStart() }, tet.prototype.setOverrideControls_0 = function () { var t, e, i, a, r, o = jlt().getDiv(); o.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(o), jlt().getDiv(); var s = new Met("Override character creation ability scores"); for (o.appendChild(s.divWithLabel), t = this.overrideInputs_0, e = 0; e !== t.length; ++e) { var l = t[e]; l.classList.add("edittext-dark"), l.classList.add("override-ability-input") } var c = jlt().getTable(); c.classList.add(B9().CSS_HIDDEN), o.appendChild(c); var p = jlt().getTableRow(); c.appendChild(p); var h = jlt().getTableCell(); p.appendChild(h); var d, u, _, f = jlt().getSpan(); f.innerHTML = se().ARRAY_ABILITIES_SHORT[0], f.classList.add("override-ability-label"), h.appendChild(f), h.appendChild(this.overrideInputs_0[0]), h = jlt().getTableCell(), p.appendChild(h), (f = jlt().getSpan()).innerHTML = se().ARRAY_ABILITIES_SHORT[1], f.classList.add("override-ability-label"), h.appendChild(f), h.appendChild(this.overrideInputs_0[1]), p = jlt().getTableRow(), c.appendChild(p), h = jlt().getTableCell(), p.appendChild(h), (f = jlt().getSpan()).innerHTML = se().ARRAY_ABILITIES_SHORT[2], f.classList.add("override-ability-label"), h.appendChild(f), h.appendChild(this.overrideInputs_0[2]), h = jlt().getTableCell(), p.appendChild(h), (f = jlt().getSpan()).innerHTML = se().ARRAY_ABILITIES_SHORT[3], f.classList.add("override-ability-label"), h.appendChild(f), h.appendChild(this.overrideInputs_0[3]), p = jlt().getTableRow(), c.appendChild(p), h = jlt().getTableCell(), p.appendChild(h), (f = jlt().getSpan()).innerHTML = se().ARRAY_ABILITIES_SHORT[4], f.classList.add("override-ability-label"), h.appendChild(f), h.appendChild(this.overrideInputs_0[4]), h = jlt().getTableCell(), p.appendChild(h), (f = jlt().getSpan()).innerHTML = se().ARRAY_ABILITIES_SHORT[5], f.classList.add("override-ability-label"), h.appendChild(f), h.appendChild(this.overrideInputs_0[5]); for (var y = 0; y <= 5; y++)this.overrideInputs_0[y].addEventListener("input", iet(this, y)); if (null != this.getCharacterData().getAbilityScoreOverrides()) { s.setChecked_6taknv$(!0), c.classList.remove(B9().CSS_HIDDEN); for (var m = 0; m < 6; m++)this.overrideInputs_0[m].value = null != (r = null != (a = null != (i = this.getCharacterData().getAbilityScoreOverrides()) ? i[m] : null) ? a.toString() : null) ? r : "10" } s.divWithLabel.addEventListener("click", (d = s, u = this, _ = c, function (t) { return d.toggle(), d.isChecked() || null == u.getCharacterData().getAbilityScoreOverrides() ? d.isChecked() && null == u.getCharacterData().getAbilityScoreOverrides() && u.getCharacterData().setAbilityScoreOverrides_tmsbg8$(new Int32Array([10, 10, 10, 10, 10, 10])) : u.getCharacterData().setAbilityScoreOverrides_tmsbg8$(null), d.isChecked() ? _.classList.remove(B9().CSS_HIDDEN) : _.classList.contains(B9().CSS_HIDDEN) || _.classList.add(B9().CSS_HIDDEN), u.setOverrideEditTexts_0(), n })), this.setOverrideEditTexts_0() }, tet.prototype.setOverrideEditTexts_0 = function () { var t; if (null == this.getCharacterData().getAbilityScoreOverrides()) for (var e = 0; e <= 5; e++)this.overrideInputs_0[e].innerHTML = ""; else for (var i = 0; i <= 5; i++)this.overrideInputs_0[i].innerHTML = j(null != (t = this.getCharacterData().getAbilityScoreOverrides()) ? t[i] : null) }, tet.prototype.updateClassButton_0 = function () { var t = jlt().getDiv(); t.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(t); var e = jlt().getDiv(); e.classList.add(B9().CSS_BOLD_STANDARD), e.style.marginBottom = "0.3em", e.innerHTML = "Class Boost", t.appendChild(e); var i, a, r, o = this.characterBuild.getClassTemplate(); if (1 === o.getKeyAbility().length) { var s = new zet; s.text.innerHTML = se().ARRAY_ABILITIES[o.getKeyAbility()[0]], t.appendChild(s.div), this.getCharacterData().setClassKeyAbility_za3lpa$(o.getKeyAbility()[0]) } else { var l = new xet; t.appendChild(l.div), l.setSpinnerList_a3w2ab$(o.keyAbilitieString), l.spinner.selectedIndex = this.getSpinnerPositionForKeyAbility_0(o), l.spinner.addEventListener("change", (i = o, a = l, r = this, function (t) { var e = i.getAbilityRefOfSelection_za3lpa$(a.spinner.selectedIndex); return e !== r.getCharacterData().getClassKeyAbility() && (r.getCharacterData().setClassKeyAbility_za3lpa$(e), r.setAbilityScores_0()), n })) } if (null != this.getCharacterData().getDualClass()) { var c = new xet; t.appendChild(c.div), c.setSpinnerList_kand9s$(this.ARRAY_DUAL_CLASS_BOOST_0), c.spinner.selectedIndex = this.getCharacterData().getDualClassKeyAbility() + 1 | 0, c.spinner.addEventListener("change", function (t, e) { return function (i) { var a = t.spinner.selectedIndex - 1 | 0; return a !== e.getCharacterData().getDualClassKeyAbility() && (e.getCharacterData().setDualClassKeyAbility_za3lpa$(a), e.setAbilityScores_0()), n } }(c, this)) } }, tet.prototype.getSpinnerPositionForKeyAbility_0 = function (t) { var e; e = t.getKeyAbility().length; for (var i = 0; i < e; i++)if (this.getCharacterData().getClassKeyAbility() === t.getKeyAbility()[i]) return i; return 0 }, tet.prototype.updateBackgroundButton_0 = function () { var t = jlt().getDiv(); t.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(t); var e = jlt().getDiv(); e.classList.add(B9().CSS_BOLD_STANDARD), e.style.marginBottom = "0.3em", e.innerHTML = "Background Boosts", t.appendChild(e), this.warningBackgrounds_0.innerHTML = "Illegal Background Boosts!", this.warningBackgrounds_0.classList.add(B9().CSS_HIDDEN), this.warningBackgrounds_0.classList.add(B9().CSS_WARNING_TEXT), t.appendChild(this.warningBackgrounds_0); var i, a, r, o = this.dataControl.managerBackgrounds.getBackground_5btbp7$(this.characterBuild), s = { v: new xet }; s.v.div.style.marginRight = "0.5em", t.appendChild(s.v.div), s.v.setSpinnerList_kand9s$(o.limitedAbilitySelection), s.v.spinner.addEventListener("change", (i = s, a = o, r = this, function (t) { var e = i.v.spinner.selectedIndex, o = a.getAbilityRefOfSelection_za3lpa$(e); return o !== r.getCharacterData().getBackgroundBoostLimitedSelection() && (r.getCharacterData().setBackgroundBoostLimitedSelection_za3lpa$(o), r.checkBackgroundBoostsLegal_0(), r.setAbilityScores_0()), n })), s.v.spinner.selectedIndex = o.getSpinnerRefOfAbility_za3lpa$(this.getCharacterData().getBackgroundBoostLimitedSelection()); var l = new xet; if (l.div.style.marginRight = "0.5em", o.numFreeBoosts > 0 && (t.appendChild(l.div), l.setSpinnerList_kand9s$(se().ARRAY_ABILITIES), l.spinner.addEventListener("change", function (t, e) { return function (i) { var a = t.spinner.selectedIndex; return a !== e.getCharacterData().getGetBackgroundBoostFreeSelection() && (e.getCharacterData().setGetBackgroundBoostFreeSelection_za3lpa$(a), e.checkBackgroundBoostsLegal_0(), e.setAbilityScores_0()), n } }(l, this)), l.spinner.selectedIndex = this.getCharacterData().getGetBackgroundBoostFreeSelection()), o.numFreeBoosts > 1) { var c = new xet; t.appendChild(c.div), c.setSpinnerList_kand9s$(se().ARRAY_ABILITIES), c.spinner.addEventListener("change", function (t, e) { return function (i) { var a = t.spinner.selectedIndex; return a !== e.getCharacterData().getBackgroundBoostThirdSelection() && (e.getCharacterData().setBackgroundBoostThirdSelection_za3lpa$(a), e.checkBackgroundBoostsLegal_0(), e.setAbilityScores_0()), n } }(c, this)), c.spinner.selectedIndex = this.getCharacterData().getBackgroundBoostThirdSelection() } }, tet.prototype.checkBackgroundBoostsLegal_0 = function () { this.hasDuplicateBackgroundAbility_0() ? this.warningBackgrounds_0.classList.remove(B9().CSS_HIDDEN) : this.warningBackgrounds_0.classList.contains(B9().CSS_HIDDEN) || this.warningBackgrounds_0.classList.add(B9().CSS_HIDDEN) }, tet.prototype.hasDuplicateBackgroundAbility_0 = function () { var t = this.dataControl.managerBackgrounds.getBackground_5btbp7$(this.characterBuild); if (this.getCharacterData().getGetBackgroundBoostFreeSelection() === this.getCharacterData().getBackgroundBoostLimitedSelection() && t.numFreeBoosts > 0) return !0; if (t.numFreeBoosts > 1) { var e = u(); if (e.add_11rb$(this.getCharacterData().getGetBackgroundBoostFreeSelection()), e.add_11rb$(this.getCharacterData().getBackgroundBoostLimitedSelection()), e.add_11rb$(this.getCharacterData().getBackgroundBoostThirdSelection()), Gt(e).size < e.size) return !0 } return !1 }, tet.prototype.updateAncestryButton_0 = function () { var t, i, a, r, c, p, h, u, _ = jlt().getDiv(); _.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(_); var f = jlt().getDiv(); f.classList.add(B9().CSS_BOLD_STANDARD), f.style.marginBottom = "0.3em", f.innerHTML = "Ancestry Boosts", _.appendChild(f), this.warningAncestries_0.innerHTML = "Illegal Ancestry Boosts!", this.warningAncestries_0.classList.add(B9().CSS_HIDDEN), this.warningAncestries_0.classList.add(B9().CSS_WARNING_TEXT), _.appendChild(this.warningAncestries_0); var m = this.dataControl.managerAncestry.getAncestryTemplate_5btbp7$(this.characterBuild), $ = 0; t = o(m).numFreeBoosts; for (var g = 0; g < t; g++) { var v = new xet; if (v.div.style.marginRight = "0.5em", _.appendChild(v.div), $ = $ + 1 | 0, v.setSpinnerList_un5gdn$(this.getLegalAncestryBoosts_0()), this.getCharacterData().getHashMapAncestryFreeBoostSelections().containsKey_11rb$(g)) try { var S, C = this.getCharacterData().getHashMapAncestryFreeBoostSelections().get_11rb$(g), E = this.hashMapAncestryAbilityRefToSpinner_0; v.setSpinnerSelection_s8ev37$((e.isType(S = E, y) ? S : d()).get_11rb$(C)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } else for (var A = 0; A <= 5; A++)if (!Z(m.abilityBoosts, A)) { this.getCharacterData().getHashMapAncestryFreeBoostSelections().put_xwzc9p$(g, A); break } v.spinner.addEventListener("change", aet(v, this, g)) } for (i = m.abilityBoosts, a = 0; a !== i.length; ++a) { var b = i[a], I = new zet; I.div.style.marginRight = "0.5em", I.text.innerHTML = se().ARRAY_ABILITIES[b], _.appendChild(I.div), $ = $ + 1 | 0 } for (r = m.abilityFlaws, c = 0; c !== r.length; ++c) { var w = r[c], L = new Det; L.div.style.marginRight = "0.5em", L.text.innerHTML = se().ARRAY_ABILITIES[w], _.appendChild(L.div), $ = $ + 1 | 0 } this.checkBoxOptionalFlaw_0.divWithLabel.style.marginTop = "0.5em", _.appendChild(this.checkBoxOptionalFlaw_0.divWithLabel); var T = jlt().getDiv(); _.appendChild(T); var k, R, P, M, N, D = new Oet, x = new Oet, z = new xet; D.div.classList.add("marginTop"), D.div.style.marginRight = "0.5em", x.div.style.marginRight = "0.5em", D.setSpinnerList_kand9s$(se().ARRAY_ABILITIES), x.setSpinnerList_kand9s$(se().ARRAY_ABILITIES), z.setSpinnerList_kand9s$(se().ARRAY_ABILITIES), T.appendChild(D.div), T.appendChild(x.div), T.appendChild(z.div), null != this.getCharacterData().getOptionalFlaw() ? (this.checkBoxOptionalFlaw_0.setChecked_6taknv$(!0), T.classList.remove(B9().CSS_HIDDEN), D.setSpinnerSelection_s8ev37$(null != (p = this.getCharacterData().getOptionalFlaw()) ? p.flaw0 : null), x.setSpinnerSelection_s8ev37$(null != (h = this.getCharacterData().getOptionalFlaw()) ? h.flaw1 : null), z.setSpinnerSelection_s8ev37$(null != (u = this.getCharacterData().getOptionalFlaw()) ? u.boost : null)) : T.classList.contains(B9().CSS_HIDDEN) || T.classList.add(B9().CSS_HIDDEN), this.checkBoxOptionalFlaw_0.divWithLabel.addEventListener("click", (k = this, R = T, P = D, M = x, N = z, function (t) { var e, i, a; return k.checkBoxOptionalFlaw_0.toggle(), k.checkBoxOptionalFlaw_0.isChecked() ? (R.classList.remove(B9().CSS_HIDDEN), k.getCharacterData().setOptionalFlaw_jdn5ti$(new fc), P.setSpinnerSelection_s8ev37$(null != (e = k.getCharacterData().getOptionalFlaw()) ? e.flaw0 : null), M.setSpinnerSelection_s8ev37$(null != (i = k.getCharacterData().getOptionalFlaw()) ? i.flaw1 : null), N.setSpinnerSelection_s8ev37$(null != (a = k.getCharacterData().getOptionalFlaw()) ? a.boost : null)) : R.classList.contains(B9().CSS_HIDDEN) || (R.classList.add(B9().CSS_HIDDEN), k.getCharacterData().setOptionalFlaw_jdn5ti$(null)), k.setAbilityScores_0(), k.checkAncestryBoostsLegal_0(), n })), D.spinner.addEventListener("change", function (t, e) { return function (i) { var a, r = t.spinner.selectedIndex; return null != (a = e.getCharacterData().getOptionalFlaw()) && (a.flaw0 = r), e.setAbilityScores_0(), e.checkAncestryBoostsLegal_0(), n } }(D, this)), x.spinner.addEventListener("change", function (t, e) { return function (i) { var a, r = t.spinner.selectedIndex; return null != (a = e.getCharacterData().getOptionalFlaw()) && (a.flaw1 = r), e.setAbilityScores_0(), e.checkAncestryBoostsLegal_0(), n } }(x, this)), z.spinner.addEventListener("change", function (t, e) { return function (i) { var a, r = t.spinner.selectedIndex; return null != (a = e.getCharacterData().getOptionalFlaw()) && (a.boost = r), e.setAbilityScores_0(), e.checkAncestryBoostsLegal_0(), n } }(z, this)) }, tet.prototype.getLegalAncestryBoosts_0 = function () { for (var t, e, i = 0, a = u(), r = 0; r <= 5; r++) { var n = !0; for (t = o(this.dataControl.managerAncestry.getAncestryTemplate_5btbp7$(this.characterBuild)).abilityBoosts, e = 0; e !== t.length; ++e)t[e] === r && (n = !1); if (n) { var s = i; this.hashMapAncestrySpinnerToAbilityRef_0.put_xwzc9p$(s, r); var l = i; this.hashMapAncestryAbilityRefToSpinner_0.put_xwzc9p$(r, l), a.add_11rb$(se().ARRAY_ABILITIES[r]), i = i + 1 | 0 } } return a }, tet.prototype.checkAncestryBoostsLegal_0 = function () { this.hasIllegalAncestryAndFlaw_0() ? this.warningAncestries_0.classList.remove(B9().CSS_HIDDEN) : this.warningAncestries_0.classList.contains(B9().CSS_HIDDEN) || this.warningAncestries_0.classList.add(B9().CSS_HIDDEN) }, tet.prototype.hasIllegalAncestryAndFlaw_0 = function () { var t, e, i, a, r, n, s, l, c = new Int32Array(6); for (t = this.getCharacterData().getHashMapAncestryFreeBoostSelections().values.iterator(); t.hasNext();) { var p = t.next(); c[p] = c[p] + 2 | 0 } var h = this.dataControl.managerAncestry.getAncestryTemplate_5btbp7$(this.characterBuild); for (e = o(h).abilityBoosts, i = 0; i !== e.length; ++i) { var d = e[i]; c[d] = c[d] + 2 | 0 } for (a = h.abilityFlaws, r = 0; r !== a.length; ++r) { var u = a[r]; c[u] = c[u] - 2 | 0 } var _ = this.getCharacterData().getOptionalFlaw(); null != _ && (c[n = _.boost] = c[n] + 2 | 0, c[s = _.flaw0] = c[s] - 2 | 0, c[l = _.flaw1] = c[l] - 2 | 0); for (var f = 0; f <= 5; f++)if (c[f] = c[f] + 10 | 0, c[f] <= 6 || c[f] >= 14) return !0; return !1 }, tet.prototype.setAbilityScores_0 = function () { this.characterBuild.updateReportAbilityScores_vvjzl1$(this.dataControl, 1); for (var t = new G1(this.dataControl, this.characterBuild, 1).abilityScores, e = 0; e !== t.length; ++e)this.layoutAbilityIncrease_0.setAbility_vux9f0$(t[e], e) }, tet.$metadata$ = { kind: p, simpleName: "DialogBoostStart", interfaces: [wet] }, ret.prototype.onAccept = function () { null != this.currentSelection_0 && (this.dualClass_0 ? this.setNewDualClass_0() : this.setNewClass_0()) }, ret.prototype.setNewClass_0 = function () { this.sameAsOldSelection_0() || null == this.currentSelection_0 ? this.destroy() : (this.mainActivity.finishedLoading = !1, this.dataControl.managerClasses.activateNewClass_cyt1w7$(this.characterBuild, o(this.currentSelection_0)), this.mainActivity.finishedLoading = !0, this.getCharacterData().setDamageTaken_za3lpa$(0), this.characterBuild.setFreshPlayReportAbilityScores_sfkw43$(this.dataControl), this.mainActivity.getGuiUpdateControl().onClassChanged_n40yp2$(this.characterBuild), this.destroy(), this.mainActivity.autoSave()) }, ret.prototype.sameAsOldSelection_0 = function () { return m(this.getCharacterData().getClassName(), this.currentSelection_0) }, ret.prototype.setNewDualClass_0 = function () { this.sameAsOldDualClassSelection_0() ? this.destroy() : (this.mainActivity.finishedLoading = !1, this.dataControl.managerClasses.activateDualClass_o7np2w$(this.characterBuild, this.currentSelection_0), this.mainActivity.finishedLoading = !0, this.getCharacterData().setDamageTaken_za3lpa$(0), this.mainActivity.getGuiUpdateControl().onClassChanged_n40yp2$(this.characterBuild), this.destroy(), this.mainActivity.autoSave()) }, ret.prototype.sameAsOldDualClassSelection_0 = function () { return null != this.getCharacterData().getDualClass() && dt(this.getCharacterData().getDualClass(), this.currentSelection_0) }, ret.prototype.setListView_0 = function () { var t, i; this.divScrollable.innerHTML = "", this.divInfo.innerHTML = ""; var a, r = c(), p = u(); for (t = o(this.dataControl.managerClasses.classInformationSet).hashMap.keys.iterator(); t.hasNext();) { var h = t.next(), d = o(o(this.dataControl.managerClasses.classInformationSet).hashMap.get_11rb$(h)); try { Ic().isEnabled_kc4y8q$(this.getCharacterData(), d.src) && this.passedFilter_0(d) && (r.put_xwzc9p$(h, d), p.add_11rb$(h)) } catch (t) { if (!e.isType(t, l)) throw t; s(t), r.put_xwzc9p$(h, d) } } for (Q(p), i = p.iterator(); i.hasNext();) { var _ = i.next(); this.divScrollable.appendChild(this.getClassListView_0(_, o(r.get_11rb$(_)))) } this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0), this.divScrollable.addEventListener("dblclick", (a = this, function (t) { return a.onAccept(), n })) }, ret.prototype.passedFilter_0 = function (t) { return !(0 !== t.src.length || !this.allowCore_0) || !!(t.src.length > 0 && this.allowExpanded_0) }, ret.prototype.openPRD = function () { if (null != this.currentSelection_0) { var t, i = this.dataControl.managerClasses.classInformationSet.hashMap, a = this.currentSelection_0, r = (e.isType(t = i, y) ? t : d()).get_11rb$(a); this.mainActivity.openBrowser_61zpoe$(o(r).url) } }, ret.prototype.onItemClicked_za3rmp$ = function (t) { var e; this.currentSelection_0 = "string" == typeof (e = t) ? e : d() }, ret.prototype.getClassListView_0 = function (t, e) { var i, a = new Ylt(!1); return a.setDescription_61zpoe$(e.description), a.setTraits_pdl1vj$(e.traits), a.setName_61zpoe$(e.name), a.setAction_za3lpa$(-2), a.setCopyright_61zpoe$(null != (i = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(e.src)) ? i : ""), this.hashMapDivs.put_xwzc9p$(a, t), a.div }, ret.$metadata$ = { kind: p, simpleName: "DialogClass", interfaces: [Iet] }; var net = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function oet(t, i, a, r, l, p) { var f, $; yet(), Iet.call(this, t, i, a), this.level_0 = r, this.featRef_0 = l, this.featChoice_0 = p, this.orders_0 = ["Alphabetically", "By Level"], this.currentSelection_0 = null, this.listItems = u(), this.listEligibleFeats_0 = u(), this.listInEligibleFeats_0 = u(), this.currentOrderType = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, 0), this.category_0 = 0, this.searchType_0 = 0, this.searchField_0 = "", this.allowCommon_0 = !0, this.allowUncommon_0 = !0, this.allowRare_0 = !0, this.title.innerHTML = "Select Feat"; var g, v, S, C, E = jlt().getDiv(); E.innerHTML = "Clear", E.classList.add("modal-button"), E.addEventListener("click", (g = this, v = t, S = i, C = a, function (t) { return g.getCharacterData().hashMapFeatSelections.containsKey_11rb$(g.featRef_0) && (v.finishedLoading = !1, S.managerFeats.deactivateFeat_8fzv80$(C, g.level_0, g.featChoice_0, g.featRef_0), g.getCharacterData().hashMapFeatSelections.remove_11rb$(g.featRef_0), v.finishedLoading = !0, v.getGuiUpdateControl().onFeatChanged_hxv71$(C, g.level_0, !0), v.autoSave()), g.destroy(), n })), this.addButtonToBottom_lt8gi4$(E); var A = new Ya(i); A.createSnapshot_vy76y1$(a, this.level_0); var b = c(), I = this.featChoice_0.getListFeatIDs_rllpxe$(i, a, this.featRef_0); if (I.isEmpty()) if (this.featChoice_0.combinedClass) { var w = this.getCharacterData().getClassName().toString() + " Feat"; b.putAll_a2k3zr$(i.managerFeats.getFeatsOfType_xmn46k$(a, A, this.featChoice_0.featType, !0, w, this.level_0, this.featChoice_0.maxLevel)), null != this.getCharacterData().getDualClass() && (w = j(this.getCharacterData().getDualClass()) + " Feat", b.putAll_a2k3zr$(i.managerFeats.getFeatsOfType_xmn46k$(a, A, this.featChoice_0.featType, !0, w, this.level_0, this.featChoice_0.maxLevel))) } else 20 === this.featChoice_0.maxLevel ? b.putAll_a2k3zr$(i.managerFeats.getFeatsOfType_e726qm$(a, A, this.featChoice_0.featType, !0, this.featRef_0, this.level_0)) : b.putAll_a2k3zr$(i.managerFeats.getFeatsOfType_xmn46k$(a, A, this.featChoice_0.featType, !0, this.featRef_0, this.level_0, this.featChoice_0.maxLevel)); else b.putAll_a2k3zr$(i.managerFeats.getFeatsFromList_mhpeer$(I)); if (this.category_0 = 0, t.characterBuild.getCharacterData().hashMapFeatSelections.containsKey_11rb$(this.featRef_0)) { var L, T = t.characterBuild.getCharacterData().hashMapFeatSelections.get_11rb$(this.featRef_0), k = (e.isType(L = b, y) ? L : d()).get_11rb$(T); null != k && (m(this.featChoice_0.featType, se().FEATS_ARCHETYPE) ? _(o(k.traits), "Dedication") ? this.category_0 = 0 : _(o(k.traits), "Archetype") && !_(o(k.traits), "Dedication") && (this.category_0 = 1) : m(this.featChoice_0.featType, se().FEATS_CLASS) && (_(o(k.traits), "Dedication") ? this.category_0 = 1 : _(o(k.traits), "Archetype") && !_(o(k.traits), "Dedication") && (this.category_0 = 2))) } for (this.setSpinnerCategory_0(), this.setSpinnerOrder_0(), this.setSearchControls_0(), this.listEligibleFeats_0 = i.managerFeats.getListEligibleFeats_oknxu0$(t.characterBuild, A, this.featRef_0, this.level_0, b), f = b.keys.iterator(); f.hasNext();) { var R = f.next(), P = e.isType($ = b.get_11rb$(R), $q) ? $ : d(); this.listEligibleFeats_0.contains_11rb$(P) || this.listInEligibleFeats_0.add_11rb$(P) } try { if (t.characterBuild.getCharacterData().hashMapFeatSelections.containsKey_11rb$(this.featRef_0)) { var M, N = t.characterBuild.getCharacterData().hashMapFeatSelections.get_11rb$(this.featRef_0); this.currentSelection_0 = (e.isType(M = b, y) ? M : d()).get_11rb$(N) } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } this.orderFeats_0(), this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0), this.divScrollable.addEventListener("dblclick", function (t) { return function (e) { return t.onAccept(), n } }(this)) } function set(t) { return t.name } function cet(t) { return t.name } function pet(t) { return t.level } function het(t) { return t.name } function det(t) { return t.level } function uet(t) { return t.name } function _et() { fet = this, this.ORDER_ALPHABETICAL = 0, this.ORDER_FEAT_LEVEL = 1, this.SEARCH_TYPE_NAMES = 0, this.SEARCH_TYPE_TRAITS = 1, this.SEARCH_TYPE_OTHER = 2, this.CATEGORY_CLASS = 0, this.CATEGORY_DEDICATION = 1, this.CATEGORY_ARCHETYPE = 2, this.CATEGORY_ALL = 3, this.GENERAL_CAT_ALL = 0, this.GENERAL_CAT_SKILLS = 1, this.GENERAL_CAT_GEN = 2 } oet.prototype.onAccept = function () { null != this.currentSelection_0 && (this.dataControl.managerFeats.deactivateExistingAndActivateNewFeat_x04vjk$(this.characterBuild, this.level_0, this.featRef_0, o(this.currentSelection_0)), this.mainActivity.getGuiUpdateControl().onFeatChanged_hxv71$(this.characterBuild, this.level_0, !0), this.mainActivity.autoSave(), this.destroy()) }, oet.prototype.setSpinnerCategory_0 = function () { if (m(this.featChoice_0.featType, se().FEATS_HERITAGE)) { var t = new Met("Common"), e = new Met("Uncommon"), i = new Met("Rare"); t.setWhite(), e.setWhite(), i.setWhite(), t.setChecked_6taknv$(!0), e.setChecked_6taknv$(!0), i.setChecked_6taknv$(!0), t.divWithLabel.style.display = "inline-block", e.divWithLabel.style.display = "inline-block", i.divWithLabel.style.display = "inline-block", this.allowUncommon_0 = B9().getPreferenceBoolean_ivxn3r$(B9().PREFERENCE_HERITAGE_UNCOMMON, !0), e.setChecked_6taknv$(this.allowUncommon_0), this.allowRare_0 = B9().getPreferenceBoolean_ivxn3r$(B9().PREFERENCE_HERITAGE_RARE, !0), i.setChecked_6taknv$(this.allowRare_0), this.addWidgetToTop_lt8gi4$(t.divWithLabel), this.addWidgetToTop_lt8gi4$(e.divWithLabel), this.addWidgetToTop_lt8gi4$(i.divWithLabel), t.divWithLabel.addEventListener("click", (r = t, o = this, function (t) { return r.toggle(), o.allowCommon_0 = r.isChecked(), o.orderFeats_0(), n })), e.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), e.allowUncommon_0 = t.isChecked(), e.orderFeats_0(), B9().setPreferenceBoolean_ivxn3r$(B9().PREFERENCE_HERITAGE_UNCOMMON, e.allowUncommon_0), n } }(e, this)), i.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), e.allowRare_0 = t.isChecked(), e.orderFeats_0(), B9().setPreferenceBoolean_ivxn3r$(B9().PREFERENCE_HERITAGE_RARE, e.allowRare_0), n } }(i, this)) } else if (!m(this.featChoice_0.featType, se().FEATS_ANCESTRY) && !m(this.featChoice_0.featType, se().FEATS_SKILL)) { var a = new Uet(!0); a.spinner.addEventListener("change", function (t, e) { return function (i) { return e.category_0 = t.spinner.selectedIndex, e.orderFeats_0(), n } }(a, this)), m(this.featChoice_0.featType, se().FEATS_CLASS_ARCHETYPE) ? a.spinner.style.display = "none" : m(this.featChoice_0.featType, se().FEATS_CLASS) ? a.setSpinnerList_kand9s$(["Class Feats", "Dedication Feats", "Archetype Class Feats", "All Feats"]) : m(this.featChoice_0.featType, se().FEATS_HERITAGE) ? a.setSpinnerList_kand9s$(["Common Heritages", "Uncommon and Rare", "All Heritages"]) : m(this.featChoice_0.featType, se().FEATS_GENERAL) ? a.setSpinnerList_kand9s$(["All Feats", "Skill Feats", "General Feats"]) : m(this.featChoice_0.featType, se().FEATS_ARCHETYPE) && a.setSpinnerList_kand9s$(["Dedication Feats", "Archetype Class Feats"]), a.setSpinnerSelection_s8ev37$(this.category_0), this.addWidgetToTop_lt8gi4$(a.spinner) } var r, o }, oet.prototype.setSearchControls_0 = function () { var t, e, i, a = jlt().getTextInput(), r = new Uet(!0); a.classList.add("modal-widget"), a.placeholder = "search", a.addEventListener("input", (t = a, e = r, i = this, function (a) { return i.searchContent_0(t.value, e.spinner.selectedIndex), n })), this.addWidgetToTop_lt8gi4$(a), r.setSpinnerList_kand9s$(["Names", "Traits", "Other"]), r.spinner.addEventListener("change", function (t, e, i) { return function (a) { var r = t.spinner.selectedIndex, o = e.value; return i.searchContent_0(o, r), n } }(r, a, this)), this.addWidgetToTop_lt8gi4$(r.spinner) }, oet.prototype.searchContent_0 = function (t, e) { m(this.searchField_0, t) && this.searchType_0 == this.searchType_0 || (this.searchField_0 = t.toLowerCase(), this.searchType_0 = e, this.orderFeats_0()) }, oet.prototype.setSpinnerOrder_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(this.orders_0), i.setSpinnerSelection_s8ev37$(this.currentOrderType), i.spinner.addEventListener("change", (t = this, e = i, function (i) { return t.currentOrderType !== e.spinner.selectedIndex && (t.currentOrderType = e.spinner.selectedIndex, B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, t.currentOrderType), t.orderFeats_0()), n })), m(this.featChoice_0.featType, se().FEATS_HERITAGE) || m(this.featChoice_0.featType, se().FEATS_CLASS_ARCHETYPE) || this.addWidgetToTop_lt8gi4$(i.spinner) }, oet.prototype.setListView_0 = function () { var t; for (this.divScrollable.innerHTML = "", t = this.listItems.iterator(); t.hasNext();) { var e = t.next(); this.divScrollable.appendChild(this.getFeatListView_0(e)) } }, oet.prototype.orderFeats_0 = function () { var t, e; for (this.listItems.clear(), t = this.listEligibleFeats_0.iterator(); t.hasNext();) { var i = t.next(); this.correctCategory_0(i) && this.meetsSearch_0(i) && this.listItems.add_11rb$(i) } if (0 === this.currentOrderType || m(this.featChoice_0.featType, se().FEATS_HERITAGE) || m(this.featChoice_0.featType, se().FEATS_CLASS_ARCHETYPE)) { var a = this.listItems; a.size > 1 && q(a, new G(net(set))); var r = this.listInEligibleFeats_0; r.size > 1 && q(r, new G(net(cet))) } else 1 === this.currentOrderType && (q(this.listItems, Wt([pet, het])), q(this.listInEligibleFeats_0, Wt([det, uet]))); for (e = this.listInEligibleFeats_0.iterator(); e.hasNext();) { var n = e.next(); this.correctCategory_0(n) && this.meetsSearch_0(n) && this.listItems.add_11rb$(n) } null == this.currentSelection_0 || B(this.listItems, this.currentSelection_0) || (this.currentSelection_0 = null), this.setListView_0() }, oet.prototype.correctCategory_0 = function (t) { if (m(this.featChoice_0.featType, se().FEATS_CLASS)) { if (3 === this.category_0) return !0; if (null == t.traits) return !0; switch (this.category_0) { case 1: return _(o(t.traits), "Dedication"); case 2: return _(o(t.traits), "Archetype") && !_(o(t.traits), "Dedication"); case 0: return !_(o(t.traits), "Archetype") && !_(o(t.traits), "Dedication") }return !1 } if (m(this.featChoice_0.featType, se().FEATS_GENERAL)) { if (0 === this.category_0) return !0; if (null == t.traits) return !0; switch (this.category_0) { case 1: return _(o(t.traits), "Skill"); case 2: return !_(o(t.traits), "Skill") }return !1 } if (m(this.featChoice_0.featType, se().FEATS_ARCHETYPE)) { if (null == t.traits) return !0; switch (this.category_0) { case 0: return _(o(t.traits), "Dedication"); case 1: return _(o(t.traits), "Archetype") && !_(o(t.traits), "Dedication") } } else if (m(this.featChoice_0.featType, se().FEATS_HERITAGE)) return null == t.traits ? this.allowCommon_0 : !(!_(o(t.traits), "Uncommon") || !this.allowUncommon_0) || !(!_(o(t.traits), "Rare") || !this.allowRare_0) || !(_(o(t.traits), "Uncommon") || _(o(t.traits), "Rare") || !this.allowCommon_0); return !0 }, oet.prototype.meetsSearch_0 = function (t) { if (0 === this.searchField_0.length) return !0; switch (this.searchType_0) { case 0: return _(t.name.toLowerCase(), this.searchField_0); case 1: return null != t.traits && _(o(t.traits).toLowerCase(), this.searchField_0); case 2: return _(t.textDescription.toLowerCase(), this.searchField_0) }return !1 }, oet.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, oet.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, $q) ? i : d() }, oet.prototype.getFeatListView_0 = function (t) { var e, i = new Ylt(!1), a = htt().getParseDescriptionForInlineActions_61zpoe$(t.textDescription); return i.setDescription_61zpoe$(a), i.setTraits_pdl1vj$(t.traits), i.setName_61zpoe$(t.name), i.setAction_za3lpa$(t.action), m(this.featChoice_0.featType, se().FEATS_HERITAGE) || m(this.featChoice_0.featType, se().FEATS_CLASS_ARCHETYPE) ? i.setLevel_pdl1vj$(null) : htt().setItemLevelBox_c4iwwi$(i.itemLevel, t.level, t.traits), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""), this.listInEligibleFeats_0.contains_11rb$(t) && i.setIllegal(), null != this.currentSelection_0 && m(this.currentSelection_0, t) && i.layoutDetail.classList.remove(B9().CSS_HIDDEN), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, _et.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var fet = null; function yet() { return null === fet && new _et, fet } function met(t, e, i) { wet.call(this, t, e, i), this.edittextLores_0 = jlt().getTextInput(), this.divExistingLores_0 = jlt().getDiv(), this.setRestictedWidth(), this.content.style.padding = "0.5em", this.title.innerHTML = "Lore", this.setSingleFinishedButton(), this.setExistingLores_0(); var a = jlt().getDiv(); a.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(a); var r = jlt().getDiv(); r.style.alignItems = "center", a.appendChild(r), r.style.display = "flex"; var o, s = Dlt("Add"); s.buttonDiv.style.width = "5em", r.appendChild(s.buttonDiv), s.buttonDiv.addEventListener("click", (o = this, function (t) { var e = o.edittextLores_0.value; return e.length > 0 && o.addLore_0(e), n })), this.edittextLores_0.style.flex = "1", this.edittextLores_0.style.marginLeft = "1em", this.edittextLores_0.style.marginBottom = "0.2em", this.edittextLores_0.placeholder = "Lore Name", this.edittextLores_0.classList.add("edittest-dark"), r.appendChild(this.edittextLores_0), this.divExistingLores_0.style.marginTop = "1em", a.classList.add("scrollable"), a.appendChild(this.divExistingLores_0) } function $et(t, e) { return function (i) { return e.removeLore_0(t), n } } function get(t, e) { this.this$DialogLores = t, this.closure$loreName = e } function vet(t, i, a, r, p) { var h, _, f, y; wet.call(this, t, i, a), this.level_0 = r, this.numSkills_0 = p, this.hashMapRows_0 = c(), this.listSelectedSkills_0 = u(), this.listItems_0 = u(), this.abilityScores_0 = new G1(i, t.characterBuild, this.level_0).abilityScores, this.hashMapLayoutSkill_0 = c(), this.table_0 = jlt().getTable(), this.setRestictedWidth40(), this.setSingleFinishedButton(); var m, $ = jlt().getDiv(); $.classList.add("scrollable"), $.style.display = "flex", this.table_0.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.table_0.style.flex = "1", $.appendChild(this.table_0), this.content.appendChild($), this.table_0.addEventListener("click", (m = this, function (t) { var i, a = e.isType(i = t.target, HTMLElement) ? i : d(), r = m.getClickedID_0(a); return null != r && m.onItemClicked_0(r), n })); var g = jlt().getDiv(); g.innerHTML = "Lores", g.classList.add("modal-button"), g.addEventListener("click", function (t, e, i, a) { return function (r) { return t.openDialog_ip94j4$(new met(t, e, i)), a.destroy(), n } }(t, i, a, this)), this.addButtonToBottom_lt8gi4$(g), 1 === this.level_0 ? this.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(pK().INCREASE_TYPE_STANDARD_SELECTION) && null != (h = this.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(pK().INCREASE_TYPE_STANDARD_SELECTION)) && this.listSelectedSkills_0.addAll_brywnq$(h) : this.getCharacterData().hashMapSkillIncreases.containsKey_11rb$(this.level_0) && null != (_ = this.getCharacterData().hashMapSkillIncreases.get_11rb$(this.level_0)) && this.listSelectedSkills_0.addAll_brywnq$(_), this.setSkillsRemaining_0(), this.setSkillList_0(); var v = u(); for (f = this.listSelectedSkills_0.iterator(); f.hasNext();) { var S = f.next(); this.listItems_0.contains_11rb$(S) || v.add_11rb$(S) } for (y = v.iterator(); y.hasNext();) { var C = y.next(); try { this.listSelectedSkills_0.remove_11rb$(C), 1 === this.level_0 ? this.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(pK().INCREASE_TYPE_STANDARD_SELECTION) && o(this.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(pK().INCREASE_TYPE_STANDARD_SELECTION)).remove_11rb$(C) : this.getCharacterData().hashMapSkillIncreases.containsKey_11rb$(this.level_0) && o(this.getCharacterData().hashMapSkillIncreases.get_11rb$(this.level_0)).remove_11rb$(o(C)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } } function Set(t, i, a, r, o) { wet.call(this, t, i, a), this.dualClass_0 = r, this.listItems_0 = o, this.hashMapRows_0 = c(), this.abilityScores_0 = new G1(i, t.characterBuild, 1).abilityScores, this.hashMapLayoutSkill_0 = c(), this.table_0 = jlt().getTable(), this.title.innerHTML = "Select Skill", this.setRestictedWidth40(), this.setSingleFinishedButton(); var s, l = jlt().getDiv(); l.classList.add("scrollable"), l.style.display = "flex", this.table_0.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.table_0.style.flex = "1", l.appendChild(this.table_0), this.content.appendChild(l), this.table_0.addEventListener("click", (s = this, function (t) { var i, a = e.isType(i = t.target, HTMLElement) ? i : d(), r = s.getClickedID_0(a); return null != r && s.onItemClicked_0(r), n })); var p = jlt().getDiv(); p.innerHTML = "Lores", p.classList.add("modal-button"), p.addEventListener("click", function (t, e, i, a) { return function (r) { return t.openDialog_ip94j4$(new met(t, e, i)), a.destroy(), n } }(t, i, a, this)), this.addButtonToBottom_lt8gi4$(p), Q(this.listItems_0), this.setSkillsRemaining_0(), this.setSkillList_0() } function Cet(t, e, i, a, r, s) { var l, p; Iet.call(this, t, e, i), this.level_0 = a, this.specialInformationRef_0 = r, this.specialChoiceRef_0 = s, this.currentSelection_0 = null, this.listItems = u(), this.listEligibleSpecials_0 = u(), this.hashMapSpecials_0 = c(), this.title.innerHTML = "Select Special"; var h = i.getSpecialInformation_19mbxw$(this.level_0, this.specialInformationRef_0); null == h && this.destroy(), this.hashMapSpecials_0 = o(h).getHashMapSpecialChoices_61zpoe$(this.specialChoiceRef_0); var d = u(); for (l = this.hashMapSpecials_0.keys.iterator(); l.hasNext();) { var _ = l.next(), f = this.hashMapSpecials_0.get_11rb$(_); null != f && Ic().isEnabled_kc4y8q$(t.characterBuild.getCharacterData(), f.src) && d.add_11rb$(_) } this.listEligibleSpecials_0 = e.managerSpecials.getListEligibleSpecials_n5645s$(t.characterBuild, this.level_0, d); var y, m = u(); for (p = d.iterator(); p.hasNext();) { var $ = p.next(); this.listEligibleSpecials_0.contains_11rb$($) || m.add_11rb$($) } Q(this.listEligibleSpecials_0), Q(m), this.listItems.addAll_brywnq$(this.listEligibleSpecials_0), this.listItems.addAll_brywnq$(m), this.currentSelection_0 = this.getCharacterData().getSpecialSelection_puj7f4$(this.specialInformationRef_0, this.specialChoiceRef_0), this.setListView_0(), this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0), this.divScrollable.addEventListener("dblclick", (y = this, function (t) { return y.onAccept(), n })) } function Eet(t, i, a, r, o) { var s; wet.call(this, t, i, a), this.level_0 = r, this.reference_0 = o, this.hashMapRows_0 = c(), this.numChoices_0 = 1, this.listSelectedSkills_0 = u(), this.listItems_0 = u(), this.abilityScores_0 = new G1(i, t.characterBuild, this.level_0).abilityScores, this.hashMapLayoutSkill_0 = c(), this.table_0 = jlt().getTable(), this.setSingleFinishedButton(), this.setRestictedWidth40(); var l, p = jlt().getDiv(); p.classList.add("scrollable"), p.appendChild(this.table_0), p.style.display = "flex", this.table_0.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.table_0.style.flex = "1", this.content.appendChild(p), this.table_0.addEventListener("click", (l = this, function (t) { var i, a = e.isType(i = t.target, HTMLElement) ? i : d(), r = l.getClickedID_0(a); return null != r && l.onItemClicked_0(r), n })); var h = jlt().getDiv(); h.innerHTML = "Lores", h.classList.add("modal-button"), h.addEventListener("click", function (t, e, i, a) { return function (r) { return t.openDialog_ip94j4$(new met(t, e, i)), a.destroy(), n } }(t, i, a, this)), this.addButtonToBottom_lt8gi4$(h), t.characterBuild.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(this.reference_0) && null != (s = t.characterBuild.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(this.reference_0)) && this.listSelectedSkills_0.addAll_brywnq$(s), this.setSkillsRemaining_0(), this.setSkillList_0(), this.checkLegitimateSelectionExists_0() } function Aet(t, i, a, r, o, c, p) { if (wet.call(this, t, i, a), this.existing_0 = r, this.additionalInfoReturn_0 = c, this.numeric_0 = p, this.editText_0 = null, this.numeric_0) this.editText_0 = jlt().getNumericInput(); else { this.editText_0 = jlt().getTextInput(); var h = { childList: !0, attributes: void 0, characterData: void 0, subtree: !0, attributeOldValue: void 0, characterDataOldValue: void 0, attributeFilter: void 0 }, d = h; new MutationObserver((u = this, function (t, i) { try { u.editText_0.focus(), u.editText_0.select(), u.editText_0.setSelectionRange(0, 99999) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } i.disconnect() })).observe(this.content, d) } var u; this.editText_0.classList.add("edittext-dark"), this.editText_0.addEventListener("keyup", function (t) { return function (i) { try { "Enter" == i.key && (i.preventDefault(), t.onAccept()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this)), this.setRestictedWidth(), this.title.innerHTML = o, this.editText_0.classList.add("additional-input"), this.editText_0.value = this.existing_0, this.content.appendChild(this.editText_0) } function bet(t, i) { var a, r; this.root_0 = jlt().getDiv(), this.divTitle = jlt().getDiv(), this.topBar_0 = jlt().getDiv(), this.buttonBar_0 = jlt().getDiv(), this.holder_0 = jlt().getDiv(), this.content = jlt().getDiv(), this.buttonAccept_0 = jlt().getDiv(), this.root_0.classList.add("modal"), null != (a = document.body) && a.appendChild(this.root_0), this.holder_0.style.width = "30em", this.holder_0.classList.add("modal-content"), this.root_0.appendChild(this.holder_0), this.holder_0.appendChild(this.topBar_0), this.topBar_0.classList.add("dialog-top-bar"), this.topBar_0.appendChild(this.divTitle), this.divTitle.classList.add("dialog-title"), this.divTitle.innerHTML = t, this.holder_0.appendChild(this.content), this.buttonBar_0.classList.add("modal-buttons"), this.holder_0.appendChild(this.buttonBar_0), this.buttonAccept_0.innerHTML = "Accept", this.buttonAccept_0.classList.add("modal-button"), this.buttonAccept_0.addEventListener("click", (r = this, function (t) { return r.destroy(), n })), this.buttonBar_0.appendChild(this.buttonAccept_0); var o = jlt().getDiv(); o.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), o.innerHTML = i, this.content.appendChild(o), this.content.style.padding = "0.5em", this.root_0.id = "root", this.root_0.addEventListener("mousedown", function (t) { return function (i) { var a, r = e.isType(a = i.target, HTMLElement) ? a : d(); return m(r.id, "root") && t.destroy(), n } }(this)) } function Iet(t, i, a) { var r; wet.call(this, t, i, a), this.hashMapDivs = c(), this.selectedElement = null, this.divScrollable = jlt().getDiv(), this.buttonPRD = jlt().getDiv(), this.divInfo = jlt().getDiv(), this.buttonPRD.innerHTML = "PRD", this.buttonPRD.classList.add("modal-button"), this.buttonPRD.addEventListener("click", (r = this, function (t) { return r.openPRD(), n })), this.addButtonToBottom_lt8gi4$(this.buttonPRD), this.root.onKeyUp = function (t) { return function () { return t.onKeyUp(), n } }(this), this.root.onKeyDown = function (t) { return function () { return t.onKeyDown(), n } }(this); var p = { childList: !0, attributes: void 0, characterData: void 0, subtree: !0, attributeOldValue: void 0, characterDataOldValue: void 0, attributeFilter: void 0 }, h = p; new MutationObserver(function (t) { return function (i, a) { if (t.divScrollable.focus(), null != t.selectedElement) try { o(t.selectedElement).scrollIntoView(), o(o(t.selectedElement).parentElement).scrollTop = o(o(t.selectedElement).parentElement).scrollTop - 10, t.addSelectedElementHighlight_y4uc7f$(t.selectedElement) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } a.disconnect() } }(this)).observe(this.divScrollable, h), this.content.style.background = "#222831", this.divScrollable.classList.add("div-listview-scroller"), this.content.style.display = "flex", this.content.appendChild(this.divScrollable), this.divInfo.classList.add("div-listview-info"), this.content.appendChild(this.divInfo), this.divScrollable.addEventListener("click", function (t) { return function (i) { var a, r = e.isType(a = i.target, HTMLElement) ? a : d(), o = t.getClickedID_5k6fvf$_0(r); if (null != o) { var s = t.getLayoutAction_za3rmp$(o); t.onItemClicked_za3rmp$(o), null != s && t.cloneToInfo_q80y7p$(s) } return n } }(this)) } function wet(t, i, a) { var r, o; this.mainActivity = t, this.dataControl = i, this.characterBuild = a, this.root = jlt().getDiv(), this.title = jlt().getDiv(), this.topBar_f9c7mq$_0 = jlt().getDiv(), this.topBarTopLayer_bhl5j2$_0 = jlt().getDiv(), this.topBarSecondLayer_rgwx09$_0 = jlt().getDiv(), this.buttonBar_sx9ol3$_0 = jlt().getDiv(), this.holder = jlt().getDiv(), this.content = jlt().getDiv(), this.buttonAccept = jlt().getDiv(), this.buttonCancel_hpi4eo$_0 = jlt().getDiv(), this.root.classList.add("modal"), this.root.onEnterAction = (o = this, function () { return o.onAccept(), n }), null != (r = document.body) && r.appendChild(this.root), this.holder.classList.add("modal-content"), this.root.appendChild(this.holder), this.holder.appendChild(this.topBar_f9c7mq$_0), this.topBar_f9c7mq$_0.classList.add("dialog-top-bar"), this.topBar_f9c7mq$_0.appendChild(this.title), this.title.classList.add("dialog-title"), this.title.innerHTML = "Sample Dialog", this.holder.appendChild(this.content), this.content.id = "content", this.topBar_f9c7mq$_0.appendChild(this.topBarTopLayer_bhl5j2$_0), this.topBar_f9c7mq$_0.appendChild(this.topBarSecondLayer_rgwx09$_0), this.topBarSecondLayer_rgwx09$_0.style.display = "none", this.buttonBar_sx9ol3$_0.classList.add("modal-buttons"), this.holder.appendChild(this.buttonBar_sx9ol3$_0), this.buttonAccept.innerHTML = "Accept", this.buttonAccept.classList.add("modal-button"), this.buttonAccept.addEventListener("click", function (t) { return function (e) { return t.onAccept(), n } }(this)), this.buttonBar_sx9ol3$_0.appendChild(this.buttonAccept), this.buttonCancel_hpi4eo$_0.innerHTML = "Cancel", this.buttonCancel_hpi4eo$_0.classList.add("modal-button"), this.buttonCancel_hpi4eo$_0.addEventListener("click", function (t) { return function (e) { return t.cancel(), n } }(this)), this.buttonBar_sx9ol3$_0.appendChild(this.buttonCancel_hpi4eo$_0), this.root.id = "root", this.root.addEventListener("mousedown", function (t) { return function (i) { var a, r = e.isType(a = i.target, HTMLElement) ? a : d(); return m(r.id, "root") && t.destroy(), n } }(this)) } function Let() { Ret(), this.div = jlt().getDiv(), this.img = jlt().getImg(), this.checked_94g62f$_0 = !1, this.white_36ddvd$_0 = !1, this.disabled = !1, this.div.classList.add("checkbox-container"), this.div.appendChild(this.img), this.img.src = "img/checkbox.png?v=dm-1", this.img.classList.add("checkbox-standard") } function Tet() { ket = this } oet.$metadata$ = { kind: p, simpleName: "DialogFeats", interfaces: [Iet] }, met.prototype.setExistingLores_0 = function () { var t; for (this.divExistingLores_0.innerHTML = "", t = this.getCharacterData().listCustomLores.iterator(); t.hasNext();) { var e = t.next(), i = jlt().getDiv(); this.divExistingLores_0.appendChild(i), i.style.display = "flex", i.style.alignItems = "center", i.style.verticalAlign = "center"; var a = Dlt("Remove"); a.buttonDiv.style.width = "5em", i.appendChild(a.buttonDiv), a.buttonDiv.addEventListener("click", $et(e, this)); var r = jlt().getSpan(); r.style.marginLeft = "1em", r.innerHTML = e, i.appendChild(r), r.style.flex = "1", this.divExistingLores_0.appendChild(i) } }, met.prototype.addLore_0 = function (t) { this.getCharacterData().listCustomLores.contains_11rb$(t) || (this.getCharacterData().listCustomLores.add_11rb$(t), this.setExistingLores_0(), this.edittextLores_0.value = "", re().addCustomLoreToBuild_41jgcs$(!0, this.dataControl, this.characterBuild, 1, t), this.mainActivity.autoSave()) }, get.prototype.accept = function () { this.this$DialogLores.getCharacterData().listCustomLores.remove_11rb$(this.closure$loreName), this.this$DialogLores.setExistingLores_0(), re().addCustomLoreToBuild_41jgcs$(!1, this.this$DialogLores.dataControl, this.this$DialogLores.characterBuild, 1, this.closure$loreName), this.this$DialogLores.mainActivity.autoSave() }, get.$metadata$ = { kind: p, interfaces: [Vet] }, met.prototype.removeLore_0 = function (t) { Xet(!0, "Really remove " + t + " from your character?", new get(this, t)).show() }, met.prototype.onAccept = function () { this.mainActivity.getGuiUpdateControl().onLoreAdded_hdt6c$(this.characterBuild, 1), this.mainActivity.autoSave(), this.destroy() }, met.$metadata$ = { kind: p, simpleName: "DialogLores", interfaces: [wet] }, vet.prototype.onAccept = function () { this.mainActivity.autoSave(), this.destroy() }, vet.prototype.setSkillList_0 = function () { var t, e; for (this.listItems_0.clear(), t = this.mainActivity.characterBuild.listAllSkillProficiencies.iterator(); t.hasNext();) { var i = t.next(); this.listItems_0.add_11rb$(i) } for (Q(this.listItems_0), e = this.listItems_0.iterator(); e.hasNext();) { var a = e.next(), r = this.mainActivity.characterBuild.getSkillProficiency_61zpoe$(a); this.table_0.appendChild(this.getSkillListView_0(r, a)) } }, vet.prototype.onItemClicked_0 = function (t) { var e, i = "string" == typeof (e = t) ? e : d(), a = this.mainActivity.characterBuild.getSkillProficiency_61zpoe$(i); if (this.listSelectedSkills_0.contains_11rb$(i)) 1 === this.level_0 ? (o(a).removeProficiencyAtLevel_61zpoe$(pK().INCREASE_TYPE_STANDARD_SELECTION), o(this.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(pK().INCREASE_TYPE_STANDARD_SELECTION)).remove_11rb$(i)) : (o(a).removeProficiencyIncrease_61zpoe$(pK().INCREASE_TYPE_STANDARD_SELECTION + j(this.level_0)), this.getCharacterData().removeSkillIncrease_19mbxw$(this.level_0, i)), this.listSelectedSkills_0.remove_11rb$(i); else if (this.listSelectedSkills_0.size < this.numSkills_0 && o(a).canBeIncreased_9d67ql$(i, this.level_0)) { if (1 === this.level_0) { if (a.setProficiencyAtLevel_3m52m6$(pK().INCREASE_TYPE_STANDARD_SELECTION, this.level_0, 2), !this.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(pK().INCREASE_TYPE_STANDARD_SELECTION)) { var r = this.getCharacterData().hashMapTrainedOnlySkillChoices, n = pK().INCREASE_TYPE_STANDARD_SELECTION, s = u(); r.put_xwzc9p$(n, s) } o(this.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(pK().INCREASE_TYPE_STANDARD_SELECTION)).add_11rb$(i), this.dataControl.managerProficiencies.setTrainedOnlySkills_lkhh5k$(this.mainActivity.characterBuild, pK().INCREASE_TYPE_STANDARD_SELECTION, i, this.level_0) } else this.getCharacterData().addSkillIncrease_19mbxw$(this.level_0, i), a.addProficiencyIncrease_bm4lxs$(pK().INCREASE_TYPE_STANDARD_SELECTION + j(this.level_0), this.level_0); a.checkLaterIncreaseSelectionStillValid_bru3g4$(this.getCharacterData(), i, this.level_0), this.listSelectedSkills_0.add_11rb$(i) } this.setValuesBasedOnProficiency_0(a, i), this.setSkillsRemaining_0(), this.mainActivity.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(this.characterBuild, this.level_0) }, vet.prototype.setSkillsRemaining_0 = function () { var t = this.numSkills_0 - this.listSelectedSkills_0.size | 0; this.title.innerHTML = "Remaining Skill Selections: " + t }, vet.prototype.getSkillListView_0 = function (t, e) { var i = new Fet(!1, !0); this.hashMapLayoutSkill_0.put_xwzc9p$(e, i), this.setValuesBasedOnProficiency_0(t, e); var a = this.hashMapRows_0, r = i.div; return a.put_xwzc9p$(r, e), i.div }, vet.prototype.setValuesBasedOnProficiency_0 = function (t, e) { var i = o(this.hashMapLayoutSkill_0.get_11rb$(e)); if (null != t) { var a = t.getProficiencyAtLevel_za3lpa$(this.level_0), r = pK().getFinalProficiencyTotalSkill_r1xdi3$(this.dataControl, this.mainActivity.characterBuild, a, this.level_0), n = se().ARRAY_ABILITIES_SHORT[t.abilityRef], s = htt().getAbilityMod_za3lpa$(this.abilityScores_0[t.abilityRef]), l = r + s + 0 + 0 | 0; this.listSelectedSkills_0.contains_11rb$(e) ? i.setHighlighted_6taknv$(!0) : i.setHighlighted_6taknv$(!1), i.setProficiencyImage_za3lpa$(a), i.setProficiency_za3lpa$(r), i.setAbility_bm4lxs$(n, s), i.setName_61zpoe$(e + " " + htt().getSignedValue_za3lpa$(l)) } }, vet.prototype.getClickedID_0 = function (t) { var i, a, r = this.hashMapRows_0; if ((e.isType(a = r, y) ? a : d()).containsKey_11rb$(t)) { var n, o = this.hashMapRows_0; return (e.isType(n = o, y) ? n : d()).get_11rb$(t) } var s = e.isType(i = t.parentElement, HTMLElement) ? i : d(); return this.getClickedID_0(s) }, vet.$metadata$ = { kind: p, simpleName: "DialogSkills", interfaces: [wet] }, Set.prototype.onAccept = function () { this.mainActivity.autoSave(), this.destroy() }, Set.prototype.setSkillList_0 = function () { var t; for (this.table_0.innerHTML = "", t = this.listItems_0.iterator(); t.hasNext();) { var e = t.next(), i = this.mainActivity.characterBuild.getSkillProficiency_61zpoe$(e); this.table_0.appendChild(this.getSkillListView_0(i, e)) } }, Set.prototype.onItemClicked_0 = function (t) { var e, i = "string" == typeof (e = t) ? e : d(), a = this.mainActivity.characterBuild.getSkillProficiency_61zpoe$(i); this.manageSkillChange_0(i, a), this.setValuesBasedOnProficiency_0(a, i), this.mainActivity.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(this.characterBuild, 1), this.setSkillsRemaining_0() }, Set.prototype.manageSkillChange_0 = function (t, e) { var i; if (this.dualClass_0) { if (null != this.getCharacterData().getClassDualOptionalTrainedSkill()) { var a = null != (i = this.getCharacterData().getClassDualOptionalTrainedSkill()) ? this.mainActivity.characterBuild.getSkillProficiency_61zpoe$(i) : null; if (o(a).removeProficiencyAtLevel_61zpoe$(pK().INCREASE_TYPE_CLASS_SKILL), this.setValuesBasedOnProficiency_0(a, o(this.getCharacterData().getClassOptionalTrainedSkill())), m(t, this.getCharacterData().getClassDualOptionalTrainedSkill())) return void this.getCharacterData().setClassDualOptionalTrainedSkill_pdl1vj$(null) } o(e).getProficiencyAtLevel_za3lpa$(1) < 2 && (this.getCharacterData().setClassDualOptionalTrainedSkill_pdl1vj$(t), e.setProficiencyAtLevel_3m52m6$(pK().INCREASE_TYPE_CLASS_SKILL, 1, 2), e.checkLaterIncreaseSelectionStillValid_bru3g4$(this.getCharacterData(), t, 1)) } else { if (null != this.getCharacterData().getClassOptionalTrainedSkill()) { var r = this.characterBuild.getSkillProficiency_61zpoe$(o(this.getCharacterData().getClassOptionalTrainedSkill())); if (o(r).removeProficiencyAtLevel_61zpoe$(pK().INCREASE_TYPE_CLASS_SKILL), this.setValuesBasedOnProficiency_0(r, o(this.getCharacterData().getClassOptionalTrainedSkill())), m(t, this.getCharacterData().getClassOptionalTrainedSkill())) return void this.getCharacterData().setClassOptionalTrainedSkill_pdl1vj$(null) } o(e).getProficiencyAtLevel_za3lpa$(1) < 2 && (this.getCharacterData().setClassOptionalTrainedSkill_pdl1vj$(t), e.setProficiencyAtLevel_3m52m6$(pK().INCREASE_TYPE_CLASS_SKILL, 1, 2), e.checkLaterIncreaseSelectionStillValid_bru3g4$(this.getCharacterData(), t, 1)) } }, Set.prototype.setSkillsRemaining_0 = function () { this.mainActivity.getNavigationControl().getFragmentBuild().setClassSkillChoiceButton(), this.mainActivity.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(this.characterBuild, 1) }, Set.prototype.getSkillListView_0 = function (t, e) { var i = new Fet(!1, !0); this.hashMapLayoutSkill_0.put_xwzc9p$(e, i), this.setValuesBasedOnProficiency_0(t, e); var a = this.hashMapRows_0, r = i.div; return a.put_xwzc9p$(r, e), i.div }, Set.prototype.setValuesBasedOnProficiency_0 = function (t, e) { var i = o(this.hashMapLayoutSkill_0.get_11rb$(e)); if (null != t) { var a = t.getProficiencyAtLevel_za3lpa$(1), r = pK().getFinalProficiencyTotalSkill_r1xdi3$(this.dataControl, this.mainActivity.characterBuild, a, 1), n = se().ARRAY_ABILITIES_SHORT[t.abilityRef], s = htt().getAbilityMod_za3lpa$(this.abilityScores_0[t.abilityRef]), l = r + s + 0 + 0 | 0; m(e, this.getCharacterData().getClassOptionalTrainedSkill()) ? i.setHighlighted_6taknv$(!0) : i.setHighlighted_6taknv$(!1), i.setProficiencyImage_za3lpa$(a), i.setProficiency_za3lpa$(r), i.setAbility_bm4lxs$(n, s), i.setName_61zpoe$(e + " " + htt().getSignedValue_za3lpa$(l)) } }, Set.prototype.getClickedID_0 = function (t) { var i, a, r = this.hashMapRows_0; if ((e.isType(a = r, y) ? a : d()).containsKey_11rb$(t)) { var n, o = this.hashMapRows_0; return (e.isType(n = o, y) ? n : d()).get_11rb$(t) } var s = e.isType(i = t.parentElement, HTMLElement) ? i : d(); return this.getClickedID_0(s) }, Set.$metadata$ = { kind: p, simpleName: "DialogSkillsClass", interfaces: [wet] }, Cet.prototype.onAccept = function () { null != this.currentSelection_0 && (this.sameAsOldSelection_0() || (this.dataControl.managerSpecials.changeSpecialChoice_j1o53d$(this.characterBuild, this.level_0, this.specialInformationRef_0, this.specialChoiceRef_0, this.currentSelection_0), this.mainActivity.getGuiUpdateControl().onFreeFeatsOrSpecialsChanged_hxv71$(this.characterBuild, this.level_0, !0), this.mainActivity.autoSave())), this.destroy() }, Cet.prototype.sameAsOldSelection_0 = function () { return !(null == this.getCharacterData().getSpecialSelection_puj7f4$(this.specialInformationRef_0, this.specialChoiceRef_0) || !dt(this.getCharacterData().getSpecialSelection_puj7f4$(this.specialInformationRef_0, this.specialChoiceRef_0), this.currentSelection_0)) }, Cet.prototype.setListView_0 = function () { var t; for (this.divScrollable.innerHTML = "", t = this.listItems.iterator(); t.hasNext();) { var e = t.next(), i = this.hashMapSpecials_0.get_11rb$(e); null != i && this.divScrollable.appendChild(this.getSpecialListView_0(i, e)) } }, Cet.prototype.openPRD = function () { if (null != this.currentSelection_0) { var t, i = this.hashMapSpecials_0, a = this.currentSelection_0, r = (e.isType(t = i, y) ? t : d()).get_11rb$(a); null != r && this.mainActivity.openBrowser_61zpoe$(r.url) } }, Cet.prototype.onItemClicked_za3rmp$ = function (t) { var e; this.currentSelection_0 = "string" == typeof (e = t) ? e : d() }, Cet.prototype.getSpecialListView_0 = function (t, e) { var i, a, r, n = new Ylt(!1); n.setDescription_61zpoe$(t.textDescription), n.setTraits_pdl1vj$(null != (i = t.flags) ? i : ""); var o = null != (a = t.name) ? a : ""; return n.setName_61zpoe$(lt(o)), n.setAction_za3lpa$(t.action), n.setCopyright_61zpoe$(null != (r = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? r : ""), this.listEligibleSpecials_0.contains_11rb$(e) || n.setIllegal(), this.hashMapDivs.put_xwzc9p$(n, e), n.div }, Cet.$metadata$ = { kind: p, simpleName: "DialogSpecials", interfaces: [Iet] }, Eet.prototype.onAccept = function () { this.mainActivity.autoSave(), this.destroy() }, Eet.prototype.checkLegitimateSelectionExists_0 = function () { var t, e, i; if (this.characterBuild.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(this.reference_0)) { var a = u(); for (t = o(this.characterBuild.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(this.reference_0)).iterator(); t.hasNext();) { var r = t.next(), n = !1; for (e = this.listItems_0.iterator(); e.hasNext();) { var s = e.next(); if (m(s, r)) { n = !0; break } } n || a.add_11rb$(r) } for (i = a.iterator(); i.hasNext();) { var l = i.next(), c = this.characterBuild.getSkillProficiency_61zpoe$(l); o(c).removeProficiencyAtLevel_61zpoe$(this.reference_0), o(this.characterBuild.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(this.reference_0)).remove_11rb$(l), this.listSelectedSkills_0.remove_11rb$(l) } } this.setSkillsRemaining_0(), this.mainActivity.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(this.characterBuild, this.level_0) }, Eet.prototype.setSkillList_0 = function () { var t, e, i = this.mainActivity.characterBuild.hashMapTrainedOnlySkillChoices.get_11rb$(this.reference_0); for (this.numChoices_0 = o(i).numChoices, this.listItems_0.clear(), t = o(i.getSkillsForAdapter_fhac18$(this.dataControl, this.mainActivity.characterBuild)).iterator(); t.hasNext();) { var a = t.next(); this.listItems_0.add_11rb$(a) } for (Q(this.listItems_0), e = this.listItems_0.iterator(); e.hasNext();) { var r = e.next(), n = this.mainActivity.characterBuild.getSkillProficiency_61zpoe$(r); this.table_0.appendChild(this.getSkillListView_0(n, r)) } }, Eet.prototype.onItemClicked_0 = function (t) { var e, i, a, r = "string" == typeof (e = t) ? e : d(), n = this.mainActivity.characterBuild.getSkillProficiency_61zpoe$(r); this.listSelectedSkills_0.contains_11rb$(r) ? (o(n).removeProficiencyAtLevel_61zpoe$(this.reference_0), this.listSelectedSkills_0.remove_11rb$(r), null != (i = this.mainActivity.characterBuild.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(this.reference_0)) && i.remove_11rb$(r)) : this.listSelectedSkills_0.size < this.numChoices_0 && o(n).canBeIncreased_9d67ql$(r, this.level_0) && 0 === n.getProficiencyAtLevelExcludingThisReference_19mbxw$(this.level_0, this.reference_0) && (n.setProficiencyAtLevel_3m52m6$(this.reference_0, this.level_0, 2), this.listSelectedSkills_0.add_11rb$(r), this.mainActivity.characterBuild.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(this.reference_0) || this.mainActivity.characterBuild.getCharacterData().hashMapTrainedOnlySkillChoices.put_xwzc9p$(this.reference_0, u()), null != (a = this.mainActivity.characterBuild.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(this.reference_0)) && a.add_11rb$(r), this.dataControl.managerProficiencies.setTrainedOnlySkills_lkhh5k$(this.mainActivity.characterBuild, this.reference_0, r, this.level_0), n.checkLaterIncreaseSelectionStillValid_bru3g4$(this.getCharacterData(), r, this.level_0)), this.setValuesBasedOnProficiency_0(n, r), this.setSkillsRemaining_0(), this.mainActivity.getGuiUpdateControl().onSkillProficiencyChange_hdt6c$(this.characterBuild, this.level_0) }, Eet.prototype.setSkillsRemaining_0 = function () { var t = this.numChoices_0 - this.listSelectedSkills_0.size | 0; this.title.innerHTML = "Remaining Skill Training Selections: " + t }, Eet.prototype.getSkillListView_0 = function (t, e) { var i = new Fet(!1, !0); this.hashMapLayoutSkill_0.put_xwzc9p$(e, i), this.setValuesBasedOnProficiency_0(t, e); var a = this.hashMapRows_0, r = i.div; return a.put_xwzc9p$(r, e), i.div }, Eet.prototype.setValuesBasedOnProficiency_0 = function (t, e) { var i = o(this.hashMapLayoutSkill_0.get_11rb$(e)); if (null != t) { var a = t.getProficiencyAtLevel_za3lpa$(this.level_0), r = pK().getFinalProficiencyTotalSkill_r1xdi3$(this.dataControl, this.mainActivity.characterBuild, a, this.level_0), n = se().ARRAY_ABILITIES_SHORT[t.abilityRef], s = htt().getAbilityMod_za3lpa$(this.abilityScores_0[t.abilityRef]), l = r + s + 0 + 0 | 0; this.listSelectedSkills_0.contains_11rb$(e) ? i.setHighlighted_6taknv$(!0) : i.setHighlighted_6taknv$(!1), i.setProficiencyImage_za3lpa$(a), i.setProficiency_za3lpa$(r), i.setAbility_bm4lxs$(n, s), i.setName_61zpoe$(e + " " + htt().getSignedValue_za3lpa$(l)) } }, Eet.prototype.getClickedID_0 = function (t) { var i, a, r = this.hashMapRows_0; if ((e.isType(a = r, y) ? a : d()).containsKey_11rb$(t)) { var n, o = this.hashMapRows_0; return (e.isType(n = o, y) ? n : d()).get_11rb$(t) } var s = e.isType(i = t.parentElement, HTMLElement) ? i : d(); return this.getClickedID_0(s) }, Eet.$metadata$ = { kind: p, simpleName: "DialogTrainedOnlySkills", interfaces: [wet] }, Aet.prototype.onAccept = function () { var t = jlt().getDiv(); t.innerHTML = this.editText_0.value, this.additionalInfoReturn_0.additionalInfo_61zpoe$(t.innerText), this.destroy() }, Aet.$metadata$ = { kind: p, simpleName: "DialogAdditionalInfo", interfaces: [wet] }, bet.prototype.destroy = function () { var t; null != (t = document.body) && t.removeChild(this.root_0) }, bet.prototype.show = function () { this.root_0.style.display = "flex" }, bet.$metadata$ = { kind: p, simpleName: "DialogInfo", interfaces: [] }, Iet.prototype.showSelectedElementIfHidden_fng4sk$_0 = function () { null != this.selectedElement && (o(this.selectedElement).scrollIntoView(), o(o(this.selectedElement).parentElement).scrollTop = o(o(this.selectedElement).parentElement).scrollTop - 10) }, Iet.prototype.onKeyUp = function () { var t; if (null != this.selectedElement) { var i = o(this.selectedElement).previousElementSibling; if (null != i) { var a = this.getClickedID_5k6fvf$_0(e.isType(t = i, HTMLElement) ? t : d()); if (null != a) { this.onItemClicked_za3rmp$(a); var r = this.getLayoutAction_za3rmp$(a); null != r && (this.cloneToInfo_q80y7p$(r), this.showSelectedElementIfHidden_fng4sk$_0()) } } } }, Iet.prototype.onKeyDown = function () { var t, i; if (null != this.selectedElement) { var a = o(this.selectedElement).nextElementSibling; if (null != a) { var r = this.getClickedID_5k6fvf$_0(e.isType(t = a, HTMLElement) ? t : d()); if (null != r) { this.onItemClicked_za3rmp$(r); var n = this.getLayoutAction_za3rmp$(r); null != n && (this.cloneToInfo_q80y7p$(n), this.showSelectedElementIfHidden_fng4sk$_0()) } } } else try { if (this.selectedElement = null == (i = this.divScrollable.children[0]) || e.isType(i, HTMLDivElement) ? i : d(), null != this.selectedElement) { var c = this.getClickedID_5k6fvf$_0(o(this.selectedElement)); if (null != c) { this.onItemClicked_za3rmp$(c); var p = this.getLayoutAction_za3rmp$(c); null != p && (this.cloneToInfo_q80y7p$(p), this.showSelectedElementIfHidden_fng4sk$_0()) } } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Iet.prototype.getLayoutAction_za3rmp$ = function (t) { var e; for (e = this.hashMapDivs.keys.iterator(); e.hasNext();) { var i = e.next(); if (m(this.hashMapDivs.get_11rb$(i), t)) return i } return null }, Iet.prototype.scrollToCurrentSelection_s8jyv4$ = function (t) { var e; if (null != t) for (e = this.hashMapDivs.keys.iterator(); e.hasNext();) { var i = e.next(), a = this.hashMapDivs.get_11rb$(i); if (m(a, t)) { this.selectedElement = i.div, htt().setHidden_njr4nn$(i.layoutDetail, !1), this.addSelectedElementHighlight_y4uc7f$(this.selectedElement), this.cloneToInfo_q80y7p$(i); break } } }, Iet.prototype.cloneToInfo_q80y7p$ = function (t) { var i, a, r, n, s; this.divInfo.innerHTML = t.div.innerHTML, o(this.divInfo.getElementsByClassName(B9().CSS_LISTVIEW_TITLE)[0]).classList.remove("listview-title-limited"), this.clearSelectedElementHighlight_y4uc7f$(this.divInfo); var l = this.divInfo.getElementsByClassName("listview-detail"); i = l.length; for (var c = 0; c < i; c++)null != (r = null != (a = l[c]) ? a.classList : null) && r.remove(B9().CSS_HIDDEN); var p = this.divInfo.getElementsByClassName("icon-spellbook"); n = p.length; for (var h = 0; h < n; h++) { var u = e.isType(s = p[h], HTMLElement) ? s : d(); htt().setInvisible_njr4nn$(u, !1) } }, Iet.prototype.clearSelectedElementHighlight_y4uc7f$ = function (t) { if (null != t) { var e = t.getElementsByClassName(B9().CSS_LISTVIEW_TITLE); null != e[0] && o(e[0]).classList.remove(B9().CSS_SELECTED_ITEM_TITLE) } }, Iet.prototype.addSelectedElementHighlight_y4uc7f$ = function (t) { if (null != t) { var e = o(t).getElementsByClassName(B9().CSS_LISTVIEW_TITLE); null != e[0] && o(e[0]).classList.add(B9().CSS_SELECTED_ITEM_TITLE) } }, Iet.prototype.getClickedID_5k6fvf$_0 = function (t) { var i, a; if (m(t.id, "content")) return null; for (i = this.hashMapDivs.keys.iterator(); i.hasNext();) { var r = i.next(); if (m(t, r.div)) return this.clearSelectedElementHighlight_y4uc7f$(this.selectedElement), this.selectedElement = r.div, this.addSelectedElementHighlight_y4uc7f$(this.selectedElement), this.hashMapDivs.get_11rb$(r) } var n = e.isType(a = t.parentElement, HTMLElement) ? a : d(); return this.getClickedID_5k6fvf$_0(n) }, Iet.prototype.getClickedIDNoSelect_qdwve0$_0 = function (t) { var i, a; for (i = this.hashMapDivs.keys.iterator(); i.hasNext();) { var r = i.next(); if (m(t, r.div)) return this.hashMapDivs.get_11rb$(r) } var n = e.isType(a = t.parentElement, HTMLElement) ? a : d(); return this.getClickedIDNoSelect_qdwve0$_0(n) }, Iet.$metadata$ = { kind: p, simpleName: "DialogListView", interfaces: [wet] }, wet.prototype.setRestictedWidth = function () { this.holder.style.width = "30em" }, wet.prototype.setRestictedWidth40 = function () { this.holder.style.width = "40em" }, wet.prototype.addWidgetToTop_lt8gi4$ = function (t) { t.style.width = "12em", this.topBarTopLayer_bhl5j2$_0.appendChild(t) }, wet.prototype.addWidgetToTopSecondLayer_lt8gi4$ = function (t) { t.style.width = "12em", m(this.topBarSecondLayer_rgwx09$_0.style.display, "none") && (this.topBarSecondLayer_rgwx09$_0.style.display = "block"), this.topBarSecondLayer_rgwx09$_0.appendChild(t) }, wet.prototype.addButtonToBottom_lt8gi4$ = function (t) { t.classList.add("modal-button"), this.buttonBar_sx9ol3$_0.appendChild(t) }, wet.prototype.addWideButtonToBottom_lt8gi4$ = function (t) { t.classList.add("modal-button"), t.style.width = "12em", this.buttonBar_sx9ol3$_0.appendChild(t) }, wet.prototype.addButtonToBottom_906ova$ = function (t, e) { t.classList.add("modal-button"), this.buttonBar_sx9ol3$_0.insertBefore(t, this.buttonBar_sx9ol3$_0.children[e]) }, wet.prototype.cancel = function () { this.destroy() }, wet.prototype.show = function () { this.root.style.display = "flex" }, wet.prototype.hide = function () { this.root.style.display = "none" }, wet.prototype.hideAcceptButton = function () { var t; null != (t = this.buttonAccept.parentElement) && t.removeChild(this.buttonAccept) }, wet.prototype.hideCancelButton = function () { var t; null != (t = this.buttonCancel_hpi4eo$_0.parentElement) && t.removeChild(this.buttonCancel_hpi4eo$_0) }, wet.prototype.setSingleFinishedButton = function () { var t; null != (t = this.buttonCancel_hpi4eo$_0.parentElement) && t.removeChild(this.buttonCancel_hpi4eo$_0), this.buttonAccept.innerHTML = "Finished" }, wet.prototype.destroy = function () { var t; null != (t = document.body) && t.removeChild(this.root) }, wet.prototype.getCharacterData = function () { return this.characterBuild.getCharacterData() }, wet.$metadata$ = { kind: p, simpleName: "DialogTemplate", interfaces: [] }, Let.prototype.setChecked_6taknv$ = function (t) { this.checked_94g62f$_0 !== t && (this.checked_94g62f$_0 = t, this.img.src = t ? "img/checkbox_checked" + this.getWhite_9p1t75$_0() + ".png?v=dm-1" : "img/checkbox" + this.getWhite_9p1t75$_0() + ".png?v=dm-1") }, Let.prototype.isChecked = function () { return this.checked_94g62f$_0 }, Let.prototype.toggle = function () { this.setChecked_6taknv$(!this.isChecked()) }, Let.prototype.getWhite_9p1t75$_0 = function () { return this.white_36ddvd$_0 ? "_white" : "" }, Let.prototype.setWhite = function () { this.img.src = "img/checkbox_white.png", this.white_36ddvd$_0 = !0 }, Tet.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ket = null; function Ret() { return null === ket && new Tet, ket } function Pet(t, e, i) { Let.call(this), this.divWithLabel = jlt().getDiv(), this.divWithLabel.appendChild(this.div); var a = jlt().getSpan(); a.innerHTML = t, a.style.marginLeft = "0.5em", a.style.fontWeight = "bold", this.divWithLabel.appendChild(a); var r = jlt().getDiv(); r.style.marginLeft = "2em", r.innerHTML = e, this.divWithLabel.appendChild(r), this.divWithLabel.style.marginBottom = "1em", i ? (this.divWithLabel.style.cursor = "pointer", this.divWithLabel.classList.add("section-15"), r.classList.add(B9().CSS_SMALL_TEXT)) : this.img.style.display = "none" } function Met(t) { Let.call(this), this.divWithLabel = jlt().getDiv(), this.divWithLabel.appendChild(this.div), this.divWithLabel.style.cursor = "pointer"; var e = jlt().getSpan(); e.innerHTML = t, e.style.marginLeft = "0.5em", this.divWithLabel.appendChild(e) } function Net() { this.table = jlt().getDiv(), this.span = jlt().getSpan(), this.cog_0 = jlt().getImg(), this.divRemaining_0 = jlt().getDiv(), this.arrayCheckBoxes = [new Let, new Let, new Let, new Let, new Let, new Let], this.arrayMods_0 = [jlt().getSpan(), jlt().getSpan(), jlt().getSpan(), jlt().getSpan(), jlt().getSpan(), jlt().getSpan()], this.arrayTotals_0 = [jlt().getSpan(), jlt().getSpan(), jlt().getSpan(), jlt().getSpan(), jlt().getSpan(), jlt().getSpan()], this.arrayTDS = [jlt().getDiv(), jlt().getDiv(), jlt().getDiv(), jlt().getDiv(), jlt().getDiv(), jlt().getDiv()], this.table.classList.add(B9().CSS_GRID_CONTAINER); var t = jlt().getDiv(), e = jlt().getDiv(), i = jlt().getDiv(); this.table.appendChild(t), this.table.appendChild(e), this.table.appendChild(i), t.classList.add(B9().CSS_GRID_ITEM), e.classList.add(B9().CSS_GRID_ITEM), i.classList.add(B9().CSS_GRID_ITEM), t.appendChild(this.getAbilityLayout_0(0)), t.appendChild(this.getAbilityLayout_0(2)), t.appendChild(this.getAbilityLayout_0(4)), i.appendChild(this.getAbilityLayout_0(1)), i.appendChild(this.getAbilityLayout_0(3)), i.appendChild(this.getAbilityLayout_0(5)), e.appendChild(this.span), this.span.classList.add("centred-parent"), this.span.style.marginRight = "2em", this.cog_0.src = "img/icon_cog.png?v=dm-2", this.cog_0.classList.add("centred"), this.cog_0.classList.add("cogIcon"), this.span.appendChild(this.cog_0), this.divRemaining_0.classList.add("cogText"), this.divRemaining_0.classList.add("centred"), this.span.appendChild(this.divRemaining_0) } function Det() { this.div = jlt().getSpan(), this.img_0 = jlt().getImg(), this.text = jlt().getSpan(), this.img_0.classList.add("small-icon"), this.img_0.src = "img/icon_flaw.png?v=dm-1", this.div.appendChild(this.img_0), this.text.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), this.div.appendChild(this.text) } function xet() { Uet.call(this, !1), this.div = jlt().getSpan(), this.img = jlt().getImg(), this.img.classList.add("small-icon"), this.img.src = "img/icon_boost.png?v=dm-1", this.div.appendChild(this.img), this.spinner.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), this.div.appendChild(this.spinner) } function zet() { this.div = jlt().getSpan(), this.img_0 = jlt().getImg(), this.text = jlt().getSpan(), this.img_0.classList.add("small-icon"), this.img_0.src = "img/icon_boost.png?v=dm-1", this.div.appendChild(this.img_0), this.text.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), this.div.appendChild(this.text) } function Oet() { Uet.call(this, !1), this.div = jlt().getSpan(), this.img = jlt().getImg(), this.img.classList.add("small-icon"), this.img.src = "img/icon_flaw.png?v=dm-1", this.div.appendChild(this.img), this.spinner.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), this.div.appendChild(this.spinner) } function Fet(t, e) { qet(), this.div = jlt().getDiv(), this.tdName = jlt().getSpan(), this.spanArmorValue_0 = jlt().getDiv(), this.imgTraining_0 = jlt().getImg(), this.spanAbilityName_0 = jlt().getDiv(), this.spanAbilityValue_0 = jlt().getDiv(), this.spanProfValue_0 = jlt().getDiv(), this.spanItemValue_0 = jlt().getDiv(), e || (this.div.style.display = "inline-block"), this.div.classList.add("prof-layout"), this.div.appendChild(this.tdName), this.div.classList.add("button-text"), this.tdName.classList.add("prof-name"); var i = jlt().getDiv(); i.classList.add("prof-section"), this.div.appendChild(i); var a = jlt().getDiv(); i.appendChild(a), a.classList.add(qet().CSS_PROF_SECTION_HOLDER_0), a.appendChild(this.imgTraining_0), this.imgTraining_0.src = "img/proficiency_untrained.png?dm=2", this.imgTraining_0.classList.add("prof-img"), (i = jlt().getDiv()).classList.add("prof-section"), this.div.appendChild(i), this.spanAbilityName_0.style.width = "2em", this.spanAbilityName_0.classList.add(B9().CSS_CENTERED_TINY), this.spanAbilityName_0.classList.add(B9().CSS_GREY_TEXT), i.appendChild(this.spanAbilityName_0), this.spanAbilityValue_0.classList.add(B9().CSS_CENTERED_TINY), i.appendChild(this.spanAbilityValue_0), (i = jlt().getDiv()).classList.add("prof-section"), this.div.appendChild(i); var r = jlt().getDiv(); if (r.classList.add(B9().CSS_CENTERED_TINY), r.classList.add(B9().CSS_GREY_TEXT), r.innerHTML = "Prof", i.appendChild(r), this.spanProfValue_0.classList.add(B9().CSS_CENTERED_TINY), i.appendChild(this.spanProfValue_0), (i = jlt().getDiv()).classList.add("prof-section"), this.div.appendChild(i), (r = jlt().getDiv()).classList.add(B9().CSS_CENTERED_TINY), r.classList.add(B9().CSS_GREY_TEXT), r.innerHTML = "Item", i.appendChild(r), this.spanItemValue_0.classList.add(B9().CSS_CENTERED_TINY), this.spanItemValue_0.innerHTML = "0", i.appendChild(this.spanItemValue_0), t) { var n = jlt().getDiv(); n.classList.add("prof-section"), this.div.appendChild(n); var o = jlt().getDiv(); o.classList.add(B9().CSS_CENTERED_TINY), o.classList.add(B9().CSS_GREY_TEXT), o.innerHTML = "Armor", n.appendChild(o), this.spanArmorValue_0.classList.add(B9().CSS_CENTERED_TINY), n.appendChild(this.spanArmorValue_0) } } function Bet(t) { return n } function jet() { Het = this, this.CSS_PROF_SECTION_HOLDER_0 = "prof-section-holder" } Let.$metadata$ = { kind: p, simpleName: "Checkbox", interfaces: [] }, Pet.$metadata$ = { kind: p, simpleName: "CheckboxSection15", interfaces: [Let] }, Met.$metadata$ = { kind: p, simpleName: "CheckboxWithLabel", interfaces: [Let] }, Net.prototype.getAbilityLayout_0 = function (t) { var e = this.arrayTDS[t]; e.style.cursor = "pointer", e.style.marginTop = "0.3em", e.appendChild(this.arrayCheckBoxes[t].div); var i = jlt().getDiv(); i.style.display = "inline-block", i.innerHTML = se().ARRAY_ABILITIES_SHORT[t].toUpperCase(), i.style.marginLeft = "0.5em", i.style.width = "3em", e.appendChild(i); var a = this.arrayMods_0[t]; a.style.marginLeft = "0.5em", a.classList.add("abilityMod"), e.appendChild(a); var r = this.arrayTotals_0[t]; return r.style.marginLeft = "0.5em", r.classList.add("abilityTotal"), e.appendChild(r), e }, Net.prototype.setRemaining_za3lpa$ = function (t) { 0 === t ? (this.cog_0.src = "img/icon_cog_tick.png?v=dm-2", this.divRemaining_0.classList.contains("hidden") || this.divRemaining_0.classList.add("hidden")) : (this.cog_0.src = "img/icon_cog.png?v=dm-2", this.divRemaining_0.classList.remove("hidden"), this.divRemaining_0.innerHTML = t.toString()) }, Net.prototype.setAbility_vux9f0$ = function (t, e) { var i = htt().getAbilityMod_za3lpa$(t); this.arrayMods_0[e].innerHTML = htt().getSignedValue_za3lpa$(i), this.arrayTotals_0[e].innerHTML = t.toString() }, Net.$metadata$ = { kind: p, simpleName: "LayoutAbilityIncrease", interfaces: [] }, Det.$metadata$ = { kind: p, simpleName: "LayoutBoostFlaw", interfaces: [] }, xet.$metadata$ = { kind: p, simpleName: "LayoutBoostFree", interfaces: [Uet] }, zet.$metadata$ = { kind: p, simpleName: "LayoutBoostSet", interfaces: [] }, Oet.$metadata$ = { kind: p, simpleName: "LayoutFlawFree", interfaces: [Uet] }, Fet.prototype.setName_61zpoe$ = function (t) { this.tdName.innerHTML = t }, Fet.prototype.setHighlighted_6taknv$ = function (t) { t && !this.tdName.classList.contains("prof-selected") ? this.tdName.classList.add("prof-selected") : this.tdName.classList.remove("prof-selected") }, Fet.prototype.setArmorPenalty_za3lpa$ = function (t) { this.spanArmorValue_0.innerHTML = t.toString() }, Fet.prototype.setProficiency_za3lpa$ = function (t) { this.spanProfValue_0.innerHTML = t.toString() }, Fet.prototype.setItemBonus_za3lpa$ = function (t) { this.spanItemValue_0.innerHTML = t.toString() }, Fet.prototype.setAbility_bm4lxs$ = function (t, e) { this.spanAbilityName_0.innerHTML = t, this.spanAbilityValue_0.innerHTML = e.toString() }, Fet.prototype.setProficiencyImage_za3lpa$ = function (t) { switch (t) { case 0: this.imgTraining_0.src = "img/proficiency_untrained.png?dm=2"; break; case 2: this.imgTraining_0.src = "img/proficiency_trained.png?dm=3"; break; case 4: this.imgTraining_0.src = "img/proficiency_expert.png?dm=3"; break; case 6: this.imgTraining_0.src = "img/proficiency_master.png?dm=3"; break; case 8: this.imgTraining_0.src = "img/proficiency_legendary.png?dm=3" } }, Fet.prototype.setColorBasedOnBuff_za3lpa$ = function (t) { t > 0 ? (htt().setGreenHighlight_njr4nn$(this.tdName, !0), htt().setWarningHighlight_njr4nn$(this.tdName, !1)) : t < 0 ? (htt().setWarningHighlight_njr4nn$(this.tdName, !0), htt().setGreenHighlight_njr4nn$(this.tdName, !1)) : (htt().setWarningHighlight_njr4nn$(this.tdName, !1), htt().setGreenHighlight_njr4nn$(this.tdName, !1)) }, Fet.prototype.setShorterName = function () { this.tdName.classList.add("prof-name-weapon") }, Fet.prototype.updateBasedOnProficiency_xc3ik0$ = function (t, e, i, a) { var r = e.getPlayReportAbilityScores_sfkw43$(t), n = e.getProficiency_61zpoe$(i); if (null != n) { var o = e.getCharacterData().getCharacterLevel(), s = n.getProficiencyAtLevel_za3lpa$(o); this.setProficiencyImage_za3lpa$(s); var l = pK().getFinalProficiencyTotal_xek4lp$(e.getCharacterData(), s, o); this.setProficiency_za3lpa$(l); var c = se().ARRAY_ABILITIES_SHORT[a], p = htt().getAbilityMod_za3lpa$(r.abilityScoresBuffed[a]); this.setAbility_bm4lxs$(c, p); var h = rK(t, e, n), d = h.totalBuffExcludingItem, u = h.getTypedBuff_za3lpa$(0); this.setItemBonus_za3lpa$(u); var _ = l + p + u + d | 0; this.setName_61zpoe$(i.toString() + " " + htt().getSignedValue_za3lpa$(_)), this.setColorBasedOnBuff_za3lpa$(d), this.div.addEventListener("click", Bet) } }, jet.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Het = null; function qet() { return null === Het && new jet, Het } function Uet(t) { this.spinner = jlt().getSpinner(), this.listSelectionElements_ostf29$_0 = u(), this.spinner.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), t ? (this.spinner.classList.add("modal-widget"), this.spinner.classList.add("select-box")) : this.spinner.classList.add("spinner-dark") } function Get(t) { var e; for (nit.call(this, "Background Feat"), this.listSelections_h6wiie$_0 = t, this.spinner = jlt().getSpinner(), this.listSelectionElements_jfv05w$_0 = u(), this.spinner.classList.add("spinner-dark"), e = this.listSelections_h6wiie$_0.iterator(); e.hasNext();) { var i = e.next(), a = jlt().getSpinnerOption(); a.text = i.name, this.spinner.add(a), this.listSelectionElements_jfv05w$_0.add_11rb$(a) } this.div.appendChild(this.spinner) } function Wet(t, e) { var i; for (this.listSelections_3kd94o$_0 = t, this.spinner = jlt().getSpinner(), this.listSelectionElements_9ria9q$_0 = u(), e && (this.spinner.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), this.spinner.style.width = "10em", this.spinner.classList.add("modal-widget")), this.spinner.classList.add("select-box"), i = this.listSelections_3kd94o$_0.iterator(); i.hasNext();) { var a = i.next(), r = jlt().getSpinnerOption(); r.text = a.name, this.spinner.add(r), this.listSelectionElements_9ria9q$_0.add_11rb$(r) } } function Yet() { this.allowCancel_0 = !0, this.text_0 = "", this.acceptedResult_jymnvq$_0 = this.acceptedResult_jymnvq$_0, this.cancelledResult_0 = null, this.root_0 = jlt().getDiv(), this.title = jlt().getDiv(), this.topBar_0 = jlt().getDiv(), this.buttonBar_0 = jlt().getDiv(), this.holder_0 = jlt().getDiv(), this.content = jlt().getDiv(), this.buttonAccept_0 = jlt().getDiv() } function Vet() { } function Ket() { } function Xet(t, e, i, a) { return a = a || Object.create(Yet.prototype), Yet.call(a), a.allowCancel_0 = t, a.text_0 = e, a.acceptedResult_0 = i, a.setDisplay_0(), a } function Jet(t, e, i, a) { return a = a || Object.create(Yet.prototype), Yet.call(a), a.text_0 = t, a.acceptedResult_0 = e, a.cancelledResult_0 = i, a.setDisplay_0(), a } function Zet() { this.div = jlt().getDiv(), this.listActions_0 = u(), this.spinnerAction = new Uet(!1), this.textAreaActionDescription = new sit("Action description (Leave blank for no action)"), this.div.classList.add("custom-div"), this.div.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.div.appendChild(this.spinnerAction.spinner), this.div.appendChild(this.textAreaActionDescription.div), this.listActions_0.add_11rb$("No action"), this.listActions_0.add_11rb$("Free Action"), this.listActions_0.add_11rb$("Reaction"), this.listActions_0.add_11rb$("1 Action"), this.listActions_0.add_11rb$("2 Actions"), this.listActions_0.add_11rb$("3 Actions"), this.spinnerAction.setSpinnerList_un5gdn$(this.listActions_0), this.spinnerAction.spinner.style.marginBottom = "1em" } function Qet(t, e, i, a) { var r, s; rit(), this.div = jlt().getDiv(), this.CUSTOM_BUFF = -2, this.AMOUNT_CAP_0 = 50, this.spinnerApplyEffect_0 = new Uet(!1), this.spinnerProficiencyName_0 = new Uet(!1), this.spinnerBonusType_0 = new Uet(!1), this.spinnerBonusAmount_0 = new Uet(!1), this.customEffect_0 = null, this.overrideBonusType_0 = -1, this.listBonusTypes_0 = u(), this.editTextDamageTraits_0 = jlt().getTextInput(), this.editTextDamageExcludeTraits_0 = jlt().getTextInput(), this.layoutDamage_0 = jlt().getDiv(), this.buttonDelete = Dlt("Delete Effect"), this.overrideBonusType_0 = i, this.customEffect_0 = null != a ? a : go(), this.div.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.div.classList.add("custom-div"), this.div.style.marginTop = "0.5em", this.spinnerApplyEffect_0.spinner.style.marginBottom = "0.5em", this.spinnerBonusAmount_0.spinner.style.marginBottom = "0.5em", this.spinnerBonusType_0.spinner.style.marginBottom = "0.5em", this.spinnerProficiencyName_0.spinner.style.marginBottom = "0.5em", this.div.appendChild(this.spinnerApplyEffect_0.spinner), this.div.appendChild(this.layoutDamage_0); var l = jlt().getP(); l.innerHTML = "Add weapon traits below to only apply the damage buff to particular weapons, eg to exclude agile weapons. Does not work with pet attacks. You can also leave them blank.", l.classList.add(B9().CSS_SMALL_TEXT), this.layoutDamage_0.appendChild(l), this.layoutDamage_0.appendChild(this.editTextDamageTraits_0), this.layoutDamage_0.classList.add("custom-div"), this.editTextDamageTraits_0.classList.add("edittext-custom"), this.layoutDamage_0.appendChild(this.editTextDamageExcludeTraits_0), this.editTextDamageExcludeTraits_0.classList.add("edittext-custom"), this.editTextDamageTraits_0.placeholder = "Required weapon traits, comma separated", this.editTextDamageExcludeTraits_0.placeholder = "Excluded weapon traits, comma separated", this.div.appendChild(this.spinnerBonusType_0.spinner), this.div.appendChild(this.spinnerProficiencyName_0.spinner), this.div.appendChild(this.spinnerBonusAmount_0.spinner); var c = u(); c.add_11rb$("Proficiency Bonus"), c.add_11rb$("Speed Bonus"), c.add_11rb$("AC Bonus"), c.add_11rb$("Weapon To Hit Bonus"), 0 !== this.overrideBonusType_0 && (c.add_11rb$("Weapon Damage Bonus"), c.add_11rb$("HP Bonus"), c.add_11rb$("Add Temporary HP")), i === this.CUSTOM_BUFF && (c.add_11rb$("Add Max Dex Armor Cap"), c.add_11rb$("Add Spell Attack Bonus")), this.spinnerApplyEffect_0.setSpinnerList_un5gdn$(c), this.listBonusTypes_0.add_11rb$(se().BONUS_TYPE_NAME_STATUS), this.listBonusTypes_0.add_11rb$(se().BONUS_TYPE_NAME_CIRCUMSTANCE), this.listBonusTypes_0.add_11rb$(se().BONUS_TYPE_NAME_UNTYPED), this.listBonusTypes_0.add_11rb$(se().BONUS_TYPE_NAME_ITEM), this.spinnerBonusType_0.setSpinnerList_un5gdn$(this.listBonusTypes_0); var p = u(); r = 0 | -this.AMOUNT_CAP_0, s = this.AMOUNT_CAP_0; for (var h = r; h <= s; h++)p.add_11rb$(htt().getSignedValue_za3lpa$(h)); this.spinnerBonusAmount_0.setSpinnerList_un5gdn$(p); var d = t.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(e); if (Q(d), d.add_11rb$(pK().PROFICIENCY_FORTITUDE), d.add_11rb$(pK().PROFICIENCY_REFLEX), d.add_11rb$(pK().PROFICIENCY_WILL), d.add_11rb$(pK().PROFICIENCY_PERCEPTION), d.add_11rb$(pK().PROFICIENCY_LIGHT_ARMOR), d.add_11rb$(pK().PROFICIENCY_MEDIUM_ARMOR), d.add_11rb$(pK().PROFICIENCY_HEAVY_ARMOR), d.add_11rb$(pK().PROFICIENCY_UNARMORED), d.add_11rb$(pK().PROFICIENCY_BARDING), d.add_11rb$(pK().PROFICIENCY_SIMPLE_WEAPONS), d.add_11rb$(pK().PROFICIENCY_MARTIAL_WEAPONS), d.add_11rb$(pK().PROFICIENCY_ADVANCED_WEAPONS), d.add_11rb$(pK().PROFICIENCY_UNARMED_ATTACKS), d.add_11rb$(pK().PROFICIENCY_SPELLS_ARCANE), d.add_11rb$(pK().PROFICIENCY_SPELLS_DIVINE), d.add_11rb$(pK().PROFICIENCY_SPELLS_OCCULT), d.add_11rb$(pK().PROFICIENCY_SPELLS_PRIMAL), this.spinnerProficiencyName_0.setSpinnerList_un5gdn$(d), this.overrideBonusType_0 >= 0 && this.spinnerBonusType_0.setVisible_6taknv$(!1), this.spinnerApplyEffect_0.spinner.selectedIndex = this.customEffect_0.effectType, this.overrideBonusType_0 < 0) { var _ = se().ARRAY_BONUS_TYPES[this.customEffect_0.bonusType]; this.spinnerBonusType_0.spinner.selectedIndex = this.listBonusTypes_0.indexOf_11rb$(_) } this.spinnerBonusAmount_0.spinner.selectedIndex = this.customEffect_0.bonusAmount + this.AMOUNT_CAP_0 | 0; for (var f, y = 0, $ = 0; $ !== d.size; ++$)if (m(this.customEffect_0.proficiencyName, d.get_za3lpa$($))) { y = $; break } this.spinnerProficiencyName_0.spinner.selectedIndex = y, this.layoutDamage_0.style.display = "none", this.spinnerProficiencyName_0.setVisible_6taknv$(!1), 0 === this.customEffect_0.effectType && this.spinnerProficiencyName_0.setVisible_6taknv$(!0), 5 === this.customEffect_0.effectType || 6 === this.customEffect_0.effectType || 7 === this.customEffect_0.effectType ? this.spinnerBonusType_0.setVisible_6taknv$(!1) : 4 === this.customEffect_0.effectType && (this.layoutDamage_0.style.display = "flex", this.editTextDamageTraits_0.value = this.customEffect_0.damageWeaponTraits, this.editTextDamageExcludeTraits_0.value = this.customEffect_0.excludeDamageWeaponTraits), this.spinnerApplyEffect_0.spinner.addEventListener("change", (f = this, function (t) { var e = f.spinnerApplyEffect_0.spinner.selectedIndex; return f.layoutDamage_0.style.display = "none", f.spinnerProficiencyName_0.setVisible_6taknv$(!1), f.overrideBonusType_0 >= 0 && f.spinnerBonusType_0.setVisible_6taknv$(!1), 0 === e && f.spinnerProficiencyName_0.setVisible_6taknv$(!0), 5 === e || 6 === e || 7 === e ? f.spinnerBonusType_0.setVisible_6taknv$(!1) : 4 === e && (f.layoutDamage_0.style.display = "flex", f.editTextDamageTraits_0.value = o(f.customEffect_0).damageWeaponTraits, f.editTextDamageExcludeTraits_0.value = f.customEffect_0.excludeDamageWeaponTraits), n })), this.div.appendChild(this.buttonDelete.buttonDiv) } function tit() { ait = this, this.CUSTOM_BUFF = -2 } Fet.$metadata$ = { kind: p, simpleName: "LayoutProficiency", interfaces: [] }, Uet.prototype.clearSpinner_w34ftw$_0 = function () { for (var t = this.spinner.options.length, e = 0; e < t; e++)this.spinner.options.remove(e); this.listSelectionElements_ostf29$_0.clear() }, Uet.prototype.setSpinnerList_un5gdn$ = function (t) { var e; for (this.clearSpinner_w34ftw$_0(), e = t.iterator(); e.hasNext();) { var i = e.next(), a = jlt().getSpinnerOption(); a.text = i, this.spinner.add(a), this.listSelectionElements_ostf29$_0.add_11rb$(a) } }, Uet.prototype.setSpinnerList_kand9s$ = function (t) { var e; for (this.clearSpinner_w34ftw$_0(), e = 0; e !== t.length; ++e) { var i = t[e], a = jlt().getSpinnerOption(); a.text = i, this.spinner.add(a), this.listSelectionElements_ostf29$_0.add_11rb$(a) } }, Uet.prototype.setSpinnerList_a3w2ab$ = function (t) { var i; try { this.setSpinnerList_kand9s$(e.isArray(i = t) ? i : d()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Uet.prototype.setSpinnerSelectionByValue_61zpoe$ = function (t) { var e; e = this.listSelectionElements_ostf29$_0.size; for (var i = 0; i < e; i++) { var a = this.listSelectionElements_ostf29$_0.get_za3lpa$(i); if (m(a.text, t)) { this.spinner.selectedIndex = i; break } } }, Uet.prototype.setSpinnerSelection_s8ev37$ = function (t) { null != t && this.listSelectionElements_ostf29$_0.size > t && (this.spinner.selectedIndex = t) }, Uet.prototype.setVisible_6taknv$ = function (t) { t && !this.spinner.classList.contains("spinner-dark") ? (this.spinner.style.display = "inline-block", this.spinner.classList.add("spinner-dark")) : t || (this.spinner.classList.remove("spinner-dark"), this.spinner.style.display = "none") }, Uet.$metadata$ = { kind: p, simpleName: "Spinner", interfaces: [] }, Get.prototype.setSpinnerSelection_s8ev37$ = function (t) { null != t && this.listSelectionElements_jfv05w$_0.size > t && (this.spinner.selectedIndex = t) }, Get.prototype.getSelectedFolderFile = function () { var t = this.spinner.selectedIndex; return t < this.listSelections_h6wiie$_0.size ? this.listSelections_h6wiie$_0.get_za3lpa$(t) : this.listSelections_h6wiie$_0.get_za3lpa$(0) }, Get.prototype.setSpinnerSelectionByFolderID_61zpoe$ = function (t) { var e; e = this.listSelections_h6wiie$_0.size; for (var i = 0; i < e; i++) { var a = this.listSelections_h6wiie$_0.get_za3lpa$(i); if (m(a.id, t)) return void this.setSpinnerSelection_s8ev37$(i) } }, Get.$metadata$ = { kind: p, simpleName: "SpinnerBackgroundFeats", interfaces: [nit] }, Wet.prototype.setSpinnerSelection_s8ev37$ = function (t) { null != t && this.listSelectionElements_9ria9q$_0.size > t && (this.spinner.selectedIndex = t) }, Wet.prototype.getSelectedFolderFile = function () { var t = this.spinner.selectedIndex; return t < this.listSelections_3kd94o$_0.size ? this.listSelections_3kd94o$_0.get_za3lpa$(t) : new M7(x7().FOLDER_MAIN_ID, x7().FOLDER_MAIN_NAME) }, Wet.prototype.setSpinnerSelectionByFolderID_pdl1vj$ = function (t) { var e; if (null != t) { e = this.listSelections_3kd94o$_0.size; for (var i = 0; i < e; i++) { var a = this.listSelections_3kd94o$_0.get_za3lpa$(i); if (m(a.uuid, t)) return void this.setSpinnerSelection_s8ev37$(i) } } }, Wet.$metadata$ = { kind: p, simpleName: "SpinnerFolders", interfaces: [] }, Object.defineProperty(Yet.prototype, "acceptedResult_0", { configurable: !0, get: function () { return null == this.acceptedResult_jymnvq$_0 ? Yt("acceptedResult") : this.acceptedResult_jymnvq$_0 }, set: function (t) { this.acceptedResult_jymnvq$_0 = t } }), Yet.prototype.setDisplay_0 = function () { var t, e; if (this.holder_0.style.width = "30em", this.root_0.classList.add("modal"), null != (t = document.body) && t.appendChild(this.root_0), this.holder_0.classList.add("modal-content"), this.root_0.appendChild(this.holder_0), this.holder_0.appendChild(this.topBar_0), this.topBar_0.classList.add("dialog-top-bar"), this.topBar_0.appendChild(this.title), this.title.classList.add("dialog-title"), this.title.innerHTML = "Information", this.holder_0.appendChild(this.content), this.buttonBar_0.classList.add("modal-buttons"), this.holder_0.appendChild(this.buttonBar_0), this.buttonAccept_0.innerHTML = "Accept", this.buttonAccept_0.classList.add("modal-button"), this.buttonAccept_0.addEventListener("click", (e = this, function (t) { return e.acceptedResult_0.accept(), e.destroy(), n })), this.buttonBar_0.appendChild(this.buttonAccept_0), this.allowCancel_0) { var i = jlt().getDiv(); i.classList.add("modal-button"), i.innerHTML = "Cancel", i.classList.add("modal-button"), i.addEventListener("click", function (t) { return function (e) { return null != t.cancelledResult_0 && o(t.cancelledResult_0).cancel(), t.destroy(), n } }(this)), this.buttonBar_0.appendChild(i) } var a = jlt().getDiv(); a.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), a.innerHTML = this.text_0, this.content.appendChild(a), this.content.style.padding = "0.5em", this.title.innerHTML = "Alert!" }, Yet.prototype.destroy = function () { var t; null != (t = document.body) && t.removeChild(this.root_0) }, Yet.prototype.show = function () { this.root_0.style.display = "flex" }, Vet.$metadata$ = { kind: H, simpleName: "AcceptedResult", interfaces: [] }, Ket.$metadata$ = { kind: H, simpleName: "CancelledResult", interfaces: [] }, Yet.$metadata$ = { kind: p, simpleName: "DialogYesNo", interfaces: [] }, Zet.prototype.setExisting_vqvrqt$ = function (t, e) { this.spinnerAction.spinner.selectedIndex = t + 2 | 0, null != e && (this.textAreaActionDescription.textArea.value = e) }, Zet.prototype.getAction = function () { return this.spinnerAction.spinner.selectedIndex - 2 | 0 }, Zet.prototype.getDescription = function () { return this.textAreaActionDescription.textArea.value }, Zet.$metadata$ = { kind: p, simpleName: "CustomActionLayout", interfaces: [] }, Qet.prototype.getCustomEffect = function () { if (o(this.customEffect_0).effectType = this.spinnerApplyEffect_0.spinner.selectedIndex, this.overrideBonusType_0 >= 0) o(this.customEffect_0).bonusType = this.overrideBonusType_0; else if (this.overrideBonusType_0 === this.CUSTOM_BUFF) { var t = this.spinnerBonusType_0.spinner.value; m(t, se().BONUS_TYPE_NAME_STATUS) ? o(this.customEffect_0).bonusType = 1 : m(t, se().BONUS_TYPE_NAME_CIRCUMSTANCE) ? o(this.customEffect_0).bonusType = 2 : m(t, se().BONUS_TYPE_NAME_ITEM) ? o(this.customEffect_0).bonusType = 0 : o(this.customEffect_0).bonusType = 3 } else o(this.customEffect_0).bonusType = this.spinnerBonusType_0.spinner.selectedIndex; return o(this.customEffect_0).bonusAmount = this.spinnerBonusAmount_0.spinner.selectedIndex - this.AMOUNT_CAP_0 | 0, 0 === this.spinnerApplyEffect_0.spinner.selectedIndex && (o(this.customEffect_0).proficiencyName = this.spinnerProficiencyName_0.spinner.value), 5 === o(this.customEffect_0).effectType || 6 === o(this.customEffect_0).effectType ? o(this.customEffect_0).bonusType = 3 : 4 === o(this.customEffect_0).effectType && (o(this.customEffect_0).listDamTraits = this.getListDamageTraits_0(), o(this.customEffect_0).listExcludeDamTraits = this.getListExcludeDamageTraits_0()), this.customEffect_0 }, Qet.prototype.getListDamageTraits_0 = function () { var t, i = this.editTextDamageTraits_0.value; if (0 === i.length) return null; var a = u(), r = b(v(i, [","])); for (t = 0; t !== r.length; ++t) { for (var n, o = r[t], s = e.isCharSequence(n = o) ? n : d(), l = 0, c = s.length - 1 | 0, p = !1; l <= c;) { var h = p ? c : l, _ = Mt(K(s.charCodeAt(h))) <= 32; if (p) { if (!_) break; c = c - 1 | 0 } else _ ? l = l + 1 | 0 : p = !0 } a.add_11rb$(e.subSequence(s, l, c + 1 | 0).toString()) } return a.isEmpty() ? null : a }, Qet.prototype.getListExcludeDamageTraits_0 = function () { var t, i = this.editTextDamageExcludeTraits_0.value; if (0 === i.length) return null; var a = u(), r = b(v(i, [","])); for (t = 0; t !== r.length; ++t) { for (var n, o = r[t], s = e.isCharSequence(n = o) ? n : d(), l = 0, c = s.length - 1 | 0, p = !1; l <= c;) { var h = p ? c : l, _ = Mt(K(s.charCodeAt(h))) <= 32; if (p) { if (!_) break; c = c - 1 | 0 } else _ ? l = l + 1 | 0 : p = !0 } a.add_11rb$(e.subSequence(s, l, c + 1 | 0).toString()) } return a.isEmpty() ? null : a }, tit.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var eit, iit, ait = null; function rit() { return null === ait && new tit, ait } function nit(t) { this.div = jlt().getDiv(), this.text = jlt().getDiv(), this.div.classList.add("custom-div"), this.div.style.flex = "1", this.div.appendChild(this.text), this.div.style.marginBottom = "1em", this.text.classList.add(B9().CSS_SMALL_TEXT), this.text.classList.add(B9().CSS_GREY_TEXT), this.text.innerHTML = t } function oit(t) { nit.call(this, t), this.spinner = new Uet(!1), this.div.appendChild(this.spinner.spinner) } function sit(t) { nit.call(this, t), this.textArea = jlt().getTextArea(), this.textArea.classList.add("edittext-custom"), this.div.appendChild(this.textArea) } function lit(t, e) { var i; fit(), nit.call(this, t), i = m(e, uit()) ? jlt().getNumericInput() : jlt().getTextInput(), this.edittext = i, this.edittext.classList.add("edittext-custom"), this.div.appendChild(this.edittext) } function cit() { _it = this } function pit(t, e) { Lt.call(this), this.name$ = t, this.ordinal$ = e } function hit() { hit = function () { }, eit = new pit("TEXT", 0), iit = new pit("NUMBER", 1) } function dit() { return hit(), eit } function uit() { return hit(), iit } Qet.$metadata$ = { kind: p, simpleName: "CustomEffectLayout", interfaces: [] }, nit.$metadata$ = { kind: p, simpleName: "CustomElement", interfaces: [] }, oit.$metadata$ = { kind: p, simpleName: "CustomSpinner", interfaces: [nit] }, sit.$metadata$ = { kind: p, simpleName: "CustomTextArea", interfaces: [nit] }, pit.$metadata$ = { kind: p, simpleName: "TYPES", interfaces: [Lt] }, pit.values = function () { return [dit(), uit()] }, pit.valueOf_61zpoe$ = function (t) { switch (t) { case "TEXT": return dit(); case "NUMBER": return uit(); default: Tt("No enum constant views.fragments.dialogs.playdialogs.custom.CustomTextInput.Companion.TYPES." + t) } }, cit.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var _it = null; function fit() { return null === _it && new cit, _it } function yit() { } lit.$metadata$ = { kind: p, simpleName: "CustomTextInput", interfaces: [nit] }, yit.$metadata$ = { kind: H, simpleName: "FinishedCreation", interfaces: [] }; var mit = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function $it(t, e, i, a) { Ait(), Iet.call(this, t, e, i), this.alchemicalCaster = a, this.currentSelection_0 = null, this.listItems = u(), this.currentOrderType_0 = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, 0), this.category_0 = 0, this.searchType_0 = 0, this.searchField_0 = "", this.title.innerHTML = "Select Equipment", this.setSpinnerCategory_0(), this.setSpinnerOrder_0(), this.setSearchControls_0(), this.setListView_0() } function git(t) { return t.name } function vit(t) { return t.itemLevel } function Sit(t) { return t.name } function Cit() { Eit = this, this.SEARCH_TYPE_NAMES = 0, this.SEARCH_TYPE_TRAITS = 1, this.SEARCH_TYPE_OTHER = 2, this.CATEGORY_BOMB = 0, this.CATEGORY_ELIXIR = 1, this.CATEGORY_POISON = 2, this.CATEGORY_AMMUNITION = 3, this.CATEGORY_OTHER = 4, this.CATEGORY_ALL = 5, this.CATEGORY_IMPROBABLE = 6 } $it.prototype.onAccept = function () { var t; if (null != this.currentSelection_0) { if (!this.getCharacterData().getHashMapFormulaBookByCaster().containsKey_11rb$(this.alchemicalCaster.casterName)) { var e = this.getCharacterData().getHashMapFormulaBookByCaster(), i = this.alchemicalCaster.casterName, a = c(); e.put_xwzc9p$(i, a) } o(this.getCharacterData().getHashMapFormulaBookByCaster().get_11rb$(this.alchemicalCaster.casterName)).containsKey_11rb$(o(o(this.currentSelection_0).uniqueIdentiier)) || null != (t = this.getCharacterData().getHashMapFormulaBookByCaster().get_11rb$(this.alchemicalCaster.casterName)) && t.put_xwzc9p$(o(o(this.currentSelection_0).uniqueIdentiier), 0), this.mainActivity.autoSave(), this.mainActivity.getGuiUpdateControl().updateSpells_n40yp2$(this.characterBuild), this.mainActivity.getGuiUpdateControl().onBulkChanged_n40yp2$(this.characterBuild), this.destroy() } }, $it.prototype.setSpinnerCategory_0 = function () { var t, e, i = new Uet(!0), a = ["Bombs", "Elixirs", "Poisons", "Ammunition", "Other Tools", "All"]; Lq().hasFeatByLevel_w0akbr$(this.characterBuild, "no ref", this.characterBuild.getCharacterData().getCharacterLevel(), "ALCHEMIST_Improbable Elixirs") && (a = ["Bombs", "Elixirs", "Poisons", "Ammunition", "Other Tools", "All", "Improbable Elixirs"]), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.category_0 = t.spinner.selectedIndex, e.setListView_0(), n })), i.setSpinnerList_kand9s$(a), this.addWidgetToTop_lt8gi4$(i.spinner) }, $it.prototype.setSearchControls_0 = function () { var t, e, i, a = jlt().getTextInput(), r = new Uet(!0); a.classList.add("modal-widget"), a.placeholder = "search", a.addEventListener("input", (t = a, e = r, i = this, function (a) { return i.searchContent_0(t.value, e.spinner.selectedIndex), n })), this.addWidgetToTop_lt8gi4$(a), r.setSpinnerList_kand9s$(["Names", "Traits", "Other"]), r.spinner.addEventListener("change", function (t, e, i) { return function (a) { var r = t.spinner.selectedIndex, o = e.value; return i.searchContent_0(o, r), n } }(r, a, this)), this.addWidgetToTop_lt8gi4$(r.spinner) }, $it.prototype.searchContent_0 = function (t, e) { m(this.searchField_0, t) && this.searchType_0 == this.searchType_0 || (this.searchField_0 = t.toLowerCase(), this.searchType_0 = e, this.setListView_0()) }, $it.prototype.setSpinnerOrder_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(["Alphabetically", "By Item Level"]), i.setSpinnerSelection_s8ev37$(this.currentOrderType_0), i.spinner.addEventListener("change", (t = this, e = i, function (i) { return t.currentOrderType_0 !== e.spinner.selectedIndex && (t.currentOrderType_0 = e.spinner.selectedIndex, B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, t.currentOrderType_0), t.setListView_0()), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, $it.prototype.setListView_0 = function () { var t, e, i; if (this.divScrollable.innerHTML = "", this.listItems.clear(), 6 === this.category_0) for (t = o(this.mainActivity.getDataControl().managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(1)).values.iterator(); t.hasNext();) { var a = t.next(), r = this.meetsSearch_0(a); r && (r = _(a.traits.toLowerCase(), "potion")), r && a.itemLevel <= 9 && this.listItems.add_11rb$(a) } else for (e = o(this.mainActivity.getDataControl().managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(2)).values.iterator(); e.hasNext();) { var n = e.next(); if (this.meetsSearch_0(n)) if (5 === this.category_0) this.listItems.add_11rb$(n); else if (_(n.traits.toLowerCase(), "bomb") && 0 === this.category_0) this.listItems.add_11rb$(n); else if (_(n.traits.toLowerCase(), "elixir") && 1 === this.category_0) this.listItems.add_11rb$(n); else if (_(n.traits.toLowerCase(), "poison") && 2 === this.category_0) this.listItems.add_11rb$(n); else if (3 === this.category_0 && kc().isItemAmmunition_whuh8d$(n)) this.listItems.add_11rb$(n); else { var s = !_(n.traits.toLowerCase(), "bomb"); s && (s = !_(n.traits.toLowerCase(), "elixir")); var l = s && !kc().isItemAmmunition_whuh8d$(n); l && (l = !_(n.traits.toLowerCase(), "poison")), l && 4 === this.category_0 && this.listItems.add_11rb$(n) } } if (0 === this.currentOrderType_0) { var c = this.listItems; c.size > 1 && q(c, new G(mit(git))) } else q(this.listItems, Wt([vit, Sit])); for (i = this.listItems.iterator(); i.hasNext();) { var p = i.next(); this.divScrollable.appendChild(this.getListView_0(p)) } }, $it.prototype.meetsSearch_0 = function (t) { if (0 === this.searchField_0.length) return !0; switch (this.searchType_0) { case 0: return _(t.name.toLowerCase(), this.searchField_0); case 1: return _(t.traits.toLowerCase(), this.searchField_0); case 2: return _(t.description.toLowerCase(), this.searchField_0) }return !1 }, $it.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, $it.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, Wp) ? i : d() }, $it.prototype.getListView_0 = function (t) { var e, i = new Ylt(!1); return i.setName_61zpoe$(t.name), i.setTraits_pdl1vj$(t.traits), htt().setItemLevelBox_c4iwwi$(i.itemLevel, t.itemLevel, t.traits), i.setDescription_61zpoe$(t.getItemFullDetails()), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""), null != this.currentSelection_0 && m(this.currentSelection_0, t) && i.layoutDetail.classList.remove(B9().CSS_HIDDEN), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, Cit.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Eit = null; function Ait() { return null === Eit && new Cit, Eit } function bit(t, e, i, a, r) { var s; wet.call(this, t, e, i), this.alchemicalCaster_0 = a, this.formulaName_0 = r, this.checkboxSignature = new Met("Signature Formula"), this.title.innerHTML = "Alchemy Formula"; var l = jlt().getDiv(); l.classList.add(B9().CSS_ROUNDED_RECTANGLE), l.classList.add("scrollable"), l.style.margin = "0.5em", this.content.appendChild(l); var c = null != (s = e.managerEquipment.hashMapAllEquipmentByName.get_11rb$(this.formulaName_0)) ? s : eh("Error"); _(c.traits.toLowerCase(), "bomb") && l.appendChild(this.getBombAttackButton_0(c)); var p = new Ylt(!1); htt().setHidden_njr4nn$(p.layoutDetail, !0), l.appendChild(p.div), p.title.style.fontWeight = "bold", p.setName_61zpoe$(c.name); var h = c.itemLevel; h > 0 ? p.setLevel_pdl1vj$(h.toString()) : p.setLevel_pdl1vj$(null), p.setTraits_pdl1vj$(c.traits), p.setDescription_61zpoe$(this.parseAlchemyDescriptionForDice_61zpoe$(c.description)); var d, u = jlt().getDiv(); u.innerHTML = "Remove", u.classList.add("modal-button"), u.addEventListener("click", (d = this, function (t) { return Xet(!0, "Really remove this formula from your formula book?", new Iit(d)).show(), n })), this.addButtonToBottom_lt8gi4$(u), m(this.alchemicalCaster_0.casterName, i3().ALCHEMY_ALCHEMIST) && (this.checkboxSignature.setWhite(), this.addWidgetToTop_lt8gi4$(this.checkboxSignature.divWithLabel), this.checkboxSignature.setChecked_6taknv$(k0().isSignatureFormula_o7np2w$(i, c.uniqueIdentiier)), this.checkboxSignature.divWithLabel.addEventListener("click", function (t, e, i, a) { return function (r) { return t.checkboxSignature.setChecked_6taknv$(!t.checkboxSignature.isChecked()), k0().setSignatureFormula_51qqyu$(t.checkboxSignature.isChecked(), e, o(i.uniqueIdentiier)), a.autoSave(), n } }(this, i, c, t))) } function Iit(t) { this.this$DialogAlchemyInformation = t } $it.$metadata$ = { kind: p, simpleName: "DialogAlchemyFormula", interfaces: [Iet] }, bit.prototype.getBombAttackButton_0 = function (t) { var e = jlt().getDiv(); if (this.mainActivity.showDiceRollers) { var i = new Fet(!1, !0); e.appendChild(i.div); var a = this.getCharacterData().getCharacterLevel(), r = (this.dataControl.managerWeapons.hashMapWeapons.get_11rb$("Bomb"), this.dataControl.managerWeapons.getWeaponProficiencyType_zici4a$(this.characterBuild, "Bomb", this.characterBuild.getCharacterData().getCharacterLevel())), n = pK().ARRAY_WEAPON_PROFICIENCY_TYPES[r], o = this.characterBuild.getProficiency_61zpoe$(n), s = aK(); null != o && (s = rK(this.dataControl, this.characterBuild, o)), s.addAttackBuffs_cvmu72$(this.dataControl, this.characterBuild, 1); var l = this.getBombItemBonus_0(t), c = this.dataControl.managerWeapons.getWeaponTrainingLevel_zici4a$(this.characterBuild, "Bomb", a), p = htt().getAbilityMod_za3lpa$(this.characterBuild.getPlayReportAbilityScores_sfkw43$(this.dataControl).abilityScoresBuffed[1]), h = pK().getFinalProficiencyTotalWeapons_bh8xs5$(this.characterBuild, c, a), d = h + p + l | 0; i.div.style.display = "inline-block", i.setProficiencyImage_za3lpa$(c), i.setProficiency_za3lpa$(h), i.setAbility_bm4lxs$("Dex", p), i.setItemBonus_za3lpa$(l), i.setName_61zpoe$("Bomb " + htt().getSignedValue_za3lpa$(d)); var u = new Mlt("Roll", "1d20" + htt().getSignedValue_za3lpa$(d)); u.buttonDiv.style.marginTop = "0.5em", u.buttonDiv.style.marginRight = "1em", e.insertBefore(u.buttonDiv, e.firstChild) } return e }, bit.prototype.getBombItemBonus_0 = function (t) { return _(t.description, "+1 item bonus to attack") ? 1 : _(t.description, "+2 item bonus to attack") ? 2 : _(t.description, "+3 item bonus to attack") ? 3 : 0 }, bit.prototype.parseAlchemyDescriptionForDice_61zpoe$ = function (t) { var i, a, r, n, o; if (!this.mainActivity.showDiceRollers) return t; var c = t, p = ""; try { var h = u(); a = (i = Vt(t)).first, r = i.last, n = i.step; for (var d = a; d <= r; d += n) { var f = t.charCodeAt(d); Nt(f) ? p += String.fromCharCode(f) : p.length > 0 && (f === Mt(htt().charD) || f === Mt(htt().charPlus) || f === Mt(htt().charMinus) ? p += String.fromCharCode(f) : htt().isNotNumberOrOperator_s8itvh$(f) && (_(p, "d") && (h.contains_11rb$(p) || h.add_11rb$(p)), p = "")) } for (o = h.iterator(); o.hasNext();) { var y = o.next(), m = new Mlt(y, y); console.log(y), c = L(c, y, m.buttonDiv.outerHTML) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return c }, bit.prototype.onAccept = function () { this.mainActivity.getNavigationControl().tabbedAreaSpells.updateAlchemy_o2xmt8$(this.alchemicalCaster_0), this.mainActivity.autoSave(), this.destroy() }, Iit.prototype.accept = function () { try { this.this$DialogAlchemyInformation.getCharacterData().removeFormula_puj7f4$(this.this$DialogAlchemyInformation.alchemicalCaster_0.casterName, this.this$DialogAlchemyInformation.formulaName_0), this.this$DialogAlchemyInformation.onAccept() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Iit.$metadata$ = { kind: p, interfaces: [Vet] }, bit.$metadata$ = { kind: p, simpleName: "DialogAlchemyInformation", interfaces: [wet] }; var wit = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Lit(t, e, i, a) { Nit(), Iet.call(this, t, e, i), this.additionalStowed_0 = a, this.proficiencies_0 = ["All", "Light", "Medium", "Heavy"], this.types_0 = ["Standard", "Magic", "Custom"], this.currentSelection_0 = null, this.listItems = u(), this.type = 0, this.proficiency_0 = 0, this.buttonEdit_0 = jlt().getDiv(), this.buttonDelete_0 = jlt().getDiv(), this.finishedCreation = new Dit(this), this.title.innerHTML = "Select Armor", this.hideAcceptButton(); var r, o = jlt().getDiv(); o.innerHTML = "Give", o.classList.add("modal-button"), o.addEventListener("click", (r = this, function (t) { return r.checkArmor_0(!1), n })), this.addButtonToBottom_906ova$(o, 0); var s = jlt().getDiv(); s.innerHTML = "Buy", s.classList.add("modal-button"), s.addEventListener("click", function (t) { return function (e) { return t.checkArmor_0(!0), n } }(this)), this.addButtonToBottom_906ova$(s, 0), this.setCurrentSelection(), this.setCustomFunctions(), this.setListView_0(), this.setSpinnerProficiency_0(), this.setSpinnerType_0(), this.setButtonVisibility_0(), this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0) } function Tit(t) { this.this$DialogArmor = t } function kit(t) { return t.name } function Rit(t) { this.this$DialogArmor = t } function Pit() { Mit = this, this.REQ_BASIC_BASIC = 0, this.REQ_BASIC_MAGIC = 1, this.REQ_BASIC_CUSTOM = 2, this.REQ_PROF_ALL_0 = 0, this.REQ_PROF_LIGHT_0 = 1, this.REQ_PROF_MEDIUM_0 = 2, this.REQ_PROF_HEAVY_0 = 3 } Lit.prototype.onAccept = function () { this.destroy() }, Lit.prototype.setCurrentSelection = function () { this.additionalStowed_0 || (this.currentSelection_0 = this.dataControl.managerArmor.getWornArmorInformation_5btbp7$(this.characterBuild), null != this.currentSelection_0 && (null != o(this.currentSelection_0).identity ? this.type = 1 : o(this.currentSelection_0).databaseID > -1 && (this.type = 2))) }, Tit.prototype.accept = function () { var t = o(o(this.this$DialogArmor.currentSelection_0).uniqueIdentiier); this.this$DialogArmor.dataControl.managerArmor.refreshArmorInCharacterAndPets_1waocl$(!1, this.this$DialogArmor.characterBuild, t, !0), this.this$DialogArmor.dataControl.managerArmor.hashMapArmor.remove_11rb$(t), this.this$DialogArmor.mainActivity.fileManager.fileManagementCustomFiles.deleteCustomFile_61zpoe$(t), this.this$DialogArmor.mainActivity.getGuiUpdateControl().onArmorChanged_n40yp2$(this.this$DialogArmor.characterBuild), this.this$DialogArmor.finishedCreation.completed() }, Tit.$metadata$ = { kind: p, interfaces: [Vet] }, Lit.prototype.setCustomFunctions = function () { var t, e = jlt().getDiv(); e.innerHTML = "Custom", e.addEventListener("click", (t = this, function (e) { return t.fullAppEnabledCheck_0(), n })), this.addButtonToBottom_lt8gi4$(e), this.dataControl.isFullAppEnabled() || e.classList.add("modal-button-disabled"), this.buttonEdit_0.innerHTML = "Edit", htt().setInvisible_njr4nn$(this.buttonEdit_0, !1), this.buttonEdit_0.addEventListener("click", function (t) { return function (e) { return null != t.currentSelection_0 && t.mainActivity.openDialog_ip94j4$(new Zit(t.mainActivity, t.dataControl, t.characterBuild, o(t.currentSelection_0).uniqueIdentiier, t.finishedCreation)), n } }(this)), this.addButtonToBottom_lt8gi4$(this.buttonEdit_0), this.buttonDelete_0.innerHTML = "Delete", htt().setInvisible_njr4nn$(this.buttonDelete_0, !1), this.buttonDelete_0.addEventListener("click", function (t) { return function (e) { return null != t.currentSelection_0 && Xet(!0, "Really delete " + o(t.currentSelection_0).name + " from your database?", new Tit(t)).show(), n } }(this)), this.addButtonToBottom_lt8gi4$(this.buttonDelete_0) }, Lit.prototype.setButtonVisibility_0 = function () { null != this.currentSelection_0 && (o(this.currentSelection_0).databaseID > -1 ? (htt().setInvisible_njr4nn$(this.buttonDelete_0, !0), htt().setInvisible_njr4nn$(this.buttonEdit_0, !0)) : (htt().setInvisible_njr4nn$(this.buttonDelete_0, !1), htt().setInvisible_njr4nn$(this.buttonEdit_0, !1))) }, Lit.prototype.fullAppEnabledCheck_0 = function () { this.dataControl.isFullAppEnabled() ? this.mainActivity.openDialog_ip94j4$(new Zit(this.mainActivity, this.dataControl, this.characterBuild, null, this.finishedCreation)) : this.mainActivity.setUpgradeMessage_61zpoe$("create custom armor") }, Lit.prototype.checkReqProf_0 = function (t) { return 0 === this.proficiency_0 || 1 === this.proficiency_0 && 0 === t.proficiencyType || 2 === this.proficiency_0 && 1 === t.proficiencyType || 3 === this.proficiency_0 && 2 === t.proficiencyType }, Lit.prototype.checkReqBasic_0 = function (t) { return 2 === this.type && t.databaseID > -1 || 0 === this.type && null == t.identity && -1 === t.databaseID || 1 === this.type && null != t.identity }, Lit.prototype.setSpinnerProficiency_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerSelection_s8ev37$(this.proficiency_0), i.setSpinnerList_kand9s$(this.proficiencies_0), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.proficiency_0 = t.spinner.selectedIndex, e.currentSelection_0 = null, e.divInfo.innerHTML = "", e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, Lit.prototype.setSpinnerType_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerSelection_s8ev37$(this.type), i.setSpinnerList_kand9s$(this.types_0), i.setSpinnerSelection_s8ev37$(this.type), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.type = t.spinner.selectedIndex, e.currentSelection_0 = null, e.divInfo.innerHTML = "", e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, Lit.prototype.setListView_0 = function () { var t, e; for (this.divScrollable.innerHTML = "", this.listItems.clear(), t = this.mainActivity.getDataControl().managerArmor.hashMapArmor.keys.iterator(); t.hasNext();) { var i = t.next(), a = this.mainActivity.getDataControl().managerArmor.hashMapArmor.get_11rb$(i); null != a && a.proficiencyType < 4 && this.checkReqProf_0(a) && this.checkReqBasic_0(a) && Ic().isEnabled_kc4y8q$(this.getCharacterData(), a.src) && this.listItems.add_11rb$(a) } var r = this.listItems; for (r.size > 1 && q(r, new G(wit(kit))), e = this.listItems.iterator(); e.hasNext();) { var n = e.next(); this.divScrollable.appendChild(this.getArmorListView_0(n)) } }, Lit.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, Lit.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, Qo) ? i : d(), this.setButtonVisibility_0() }, Lit.prototype.getArmorListView_0 = function (t) { var e, i = new Ylt(!1); i.setName_61zpoe$(t.name); var a = t.armorTraits; return t.traits.length > 0 && (a.length > 0 && (a += ", "), a += t.traits), i.setTraits_pdl1vj$(a), htt().setItemLevelBox_c4iwwi$(i.itemLevel, t.itemLevel, t.traits), i.setDescription_61zpoe$(t.getFullArmorDetails()), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""), null != this.currentSelection_0 && m(this.currentSelection_0, t) && i.layoutDetail.classList.remove(B9().CSS_HIDDEN), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, Lit.prototype.checkArmor_0 = function (t) { null != this.currentSelection_0 && (t ? this.buy_0() : this.completeChanges_0()) }, Rit.prototype.accept = function () { this.this$DialogArmor.dataControl.managerEquipment.deductCost_5sfiqf$(this.this$DialogArmor.characterBuild, o(this.this$DialogArmor.currentSelection_0).price), this.this$DialogArmor.completeChanges_0() }, Rit.$metadata$ = { kind: p, interfaces: [Vet] }, Lit.prototype.buy_0 = function () { null != this.currentSelection_0 && (this.dataControl.managerEquipment.canAffordItem_5sfiqf$(this.characterBuild, o(this.currentSelection_0).price) ? Xet(!0, "Really buy " + o(this.currentSelection_0).name + " for " + pe().getPriceString_14dthe$(o(this.currentSelection_0).price) + "? Warning: this will simplify your coins.", new Rit(this)).show() : this.mainActivity.showMessage_61zpoe$("You cannot afford this item")) }, Lit.prototype.completeChanges_0 = function () { null != this.currentSelection_0 && (this.additionalStowed_0 ? (this.dataControl.managerArmor.addAdditionalStowedArmor_cyt1w7$(this.characterBuild, this.getArmorHashMapID_0(o(this.currentSelection_0))), this.mainActivity.getGuiUpdateControl().updateGearFragment_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy(), this.mainActivity.showMessage_61zpoe$("Added " + o(this.currentSelection_0).name + " to the gear tab!")) : (this.dataControl.managerArmor.setNewPlayerArmor_cyt1w7$(this.characterBuild, this.getArmorHashMapID_0(o(this.currentSelection_0))), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy())) }, Lit.prototype.getArmorHashMapID_0 = function (t) { var e; return 1 === t.databaseID && null != t.uniqueIdentiier ? "string" == typeof (e = t.uniqueIdentiier) ? e : d() : t.name }, Pit.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Mit = null; function Nit() { return null === Mit && new Pit, Mit } function Dit(t) { this.this$DialogArmor = t } function xit(t, i, a) { var r, n; wet.call(this, t, i, a), this.playerArmor_0 = a.getCharacterData().getPlayerArmor(), this.armorInformation_0 = null != (r = i.managerArmor.getWornArmorInformation_5btbp7$(a)) ? r : ss("Error"), this.layoutProficiency_0 = new Fet(!1, !1), this.checkBoxArmoredSkirt_0 = jlt().getCheckbox(), this.listMaterials_0 = u(), this.divScrollable = e.isType(n = document.createElement("div"), HTMLDivElement) ? n : d(), this.title.innerHTML = this.playerArmor_0.getArmorFullName_cfdsd3$(this.armorInformation_0, a), this.divScrollable.classList.add("scrollable"), this.content.appendChild(this.divScrollable); var o = jlt().getDiv(); this.divScrollable.appendChild(o), o.classList.add(B9().CSS_LAYOUT_ITEM), o.appendChild(this.layoutProficiency_0.div), this.layoutProficiency_0.tdName.style.width = "14em", this.setProficiency_0(), this.setTable_0(), this.setDescriptions_0(), this.setExtraButtons_0() } function zit(t, i, a) { wet.call(this, t, i, a), this.title.innerHTML = "Backup and Restore", this.setRestictedWidth(); var r = jlt().getDiv(); r.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.style.padding = "0.5em", this.content.appendChild(r), r.innerHTML = "Backup your files to make a copy of all local saved builds. You can also transfer them to a different browser or computer.", this.hideAcceptButton(); var o, s = jlt().getDiv(); s.innerHTML = "Restore", s.classList.add("modal-button"), s.addEventListener("click", (o = this, function (t) { var i = jlt().getFileBackupInput(); return i.addEventListener("change", function (t) { return function (i) { var a, r = e.isType(a = i.target.files[0], Blob) ? a : d(), o = new FileReader; return o.onloadend = function (t, e) { return function (i) { return e.restoreData_s8jyv4$(t.result), n } }(o, t), o.readAsText(r), n } }(o)), o.destroy(), i.click(), n })), this.addButtonToBottom_906ova$(s, 0); var l = jlt().getDiv(); l.innerHTML = "Backup", l.classList.add("modal-button"), l.addEventListener("click", function (t, e) { return function (i) { var a = new Oit; return t.fileManager.fileManagementAllExportUserData.saveAllUserData_10i2rh$(a), e.destroy(), n } }(t, this)), this.addButtonToBottom_906ova$(l, 0) } function Oit() { } function Fit(t, e, i, a) { qit(), Iet.call(this, t, e, i), this.petReference = a, this.currentSelection_0 = null, this.listItems = u(), this.buttonEdit_0 = jlt().getDiv(), this.buttonDelete_0 = jlt().getDiv(), this.finishedCreation_0 = new Uit(this), this.title.innerHTML = "Custom Buffs"; var r, s, l, c, p = jlt().getDiv(); p.innerHTML = "Create", p.addEventListener("click", (r = t, s = e, l = i, c = this, function (t) { return r.openDialog_ip94j4$(new aat(r, s, l, null, c.finishedCreation_0)), n })), this.addButtonToBottom_lt8gi4$(p), this.buttonEdit_0.innerHTML = "Edit", this.buttonEdit_0.addEventListener("click", function (t, e, i, a) { return function (r) { return t.openDialog_ip94j4$(new aat(t, e, i, o(a.currentSelection_0).uniqueIdentifier, a.finishedCreation_0)), n } }(t, e, i, this)), this.addButtonToBottom_lt8gi4$(this.buttonEdit_0), this.buttonDelete_0.innerHTML = "Delete", this.buttonDelete_0.addEventListener("click", function (t) { return function (e) { return t.deleteCustomBuff_0(), n } }(this)), this.addButtonToBottom_lt8gi4$(this.buttonDelete_0), this.setListView_0(), this.setButtonVisibility_0(), this.buttonPRD.style.display = "none" } function Bit(t) { this.this$DialogBuff = t } function jit() { Hit = this, this.REQ_BASIC_BASIC = 0, this.REQ_BASIC_CUSTOM = 1 } Dit.prototype.completed = function () { this.this$DialogArmor.currentSelection_0 = null, this.this$DialogArmor.divInfo.innerHTML = "", this.this$DialogArmor.setListView_0() }, Dit.$metadata$ = { kind: p, interfaces: [yit] }, Lit.$metadata$ = { kind: p, simpleName: "DialogArmor", interfaces: [Iet] }, xit.prototype.setExtraButtons_0 = function () { }, xit.prototype.setDescriptions_0 = function () { var t = jlt().getDiv(); this.divScrollable.appendChild(t), t.classList.add(B9().CSS_LAYOUT_ITEM); var e = this.armorInformation_0.getFullArmorDetails(); if (1 === this.armorInformation_0.proficiencyType || 2 === this.armorInformation_0.proficiencyType) { var i = this.armorInformation_0.group, a = this.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_ARMOR_GROUPS).get_11rb$(i); null != a && (e += "<br><br><b>Armor Specialization</b>: " + a.textDescription) } var r = this.playerArmor_0.getItemLevel_fhac18$(this.dataControl, this.characterBuild); r > 0 && (e = "Item Level " + r + "<br>" + e), t.innerHTML = e }, xit.prototype.setTable_0 = function () { if (this.characterBuild.getCharacterData().isABP()) { var t = jlt().getDiv(); t.classList.add(B9().CSS_ROUNDED_RECTANGLE), t.innerHTML = "Potency and resilient item values are automatically set by Automatic Bonus Progression.", this.divScrollable.appendChild(t) } var e = jlt().getDiv(); e.classList.add(B9().CSS_LAYOUT_ITEM), this.divScrollable.appendChild(e); var i = jlt().getTable(); e.appendChild(i); var a, r, s = yZ().getInnovation_5btbp7$(this.characterBuild); if (null != s && m(s, yZ().INNOVATION_ARMOR)) { var l = jlt().getTableRow(); i.appendChild(l); var p = jlt().getTableCell(); l.appendChild(p), p.innerHTML = "Inventor Innovation?", p = jlt().getTableCell(), l.appendChild(p); var h = new Let; h.setWhite(), h.setChecked_6taknv$(null != this.playerArmor_0.mapInvModSel), h.div.addEventListener("click", (a = h, r = this, function (t) { return a.toggle(), a.isChecked() ? r.playerArmor_0.mapInvModSel = c() : (r.dataControl.managerEquipment.activateInventorModificationsInPlayerItem_hihe8v$(!1, r.characterBuild, r.playerArmor_0), r.playerArmor_0.mapInvModSel = null), n })), p.appendChild(h.div) } if (!this.characterBuild.getCharacterData().isABP()) { var d = u(); d.add_11rb$("None"); for (var _ = 1; _ <= 3; _++)d.add_11rb$("+" + _); var f = jlt().getTableRow(); i.appendChild(f); var y = jlt().getTableCell(); f.appendChild(y), y.innerHTML = "Potency Rune", y = jlt().getTableCell(), f.appendChild(y); var $ = Dlt(""); $.buttonDiv.id = "buttonPotencyArmor", 0 === this.playerArmor_0.getPotencyManualSetting() ? $.buttonDiv.innerHTML = "No Potency Rune" : $.buttonDiv.innerHTML = Bat().ARMOR_POTENCY_RUNES[this.playerArmor_0.getPotencyManualSetting() - 1 | 0], $.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new Uat(t.mainActivity, t.dataControl, t.characterBuild)), n } }(this)), y.appendChild($.buttonDiv), f = jlt().getTableRow(), i.appendChild(f), y = jlt().getTableCell(), f.appendChild(y), y.innerHTML = "Resilient", y = jlt().getTableCell(), f.appendChild(y); var g = Dlt(""); g.buttonDiv.id = "buttonResilient", 0 === this.playerArmor_0.getItemResilientManualSetting() ? g.buttonDiv.innerHTML = "No Resilient Rune" : g.buttonDiv.innerHTML = Bat().ARMOR_RESILIENT_RUNES[this.playerArmor_0.getItemResilientManualSetting() - 1 | 0], g.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new Gat(t.mainActivity, t.dataControl, t.characterBuild)), n } }(this)), y.appendChild(g.buttonDiv) } var v = jlt().getTableRow(); i.appendChild(v); var S = jlt().getTableCell(); v.appendChild(S), S.innerHTML = "Material", S = jlt().getTableCell(), v.appendChild(S); var C = Dlt(""); C.buttonDiv.id = "buttonMaterialArmor", null == this.playerArmor_0.getMaterial() ? C.buttonDiv.innerHTML = "No Material" : C.buttonDiv.innerHTML = o(this.playerArmor_0.getMaterial()), C.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new nrt(t.mainActivity, t.dataControl, t.characterBuild)), n } }(this)), S.appendChild(C.buttonDiv), 3 === o(this.armorInformation_0).proficiencyType || 0 === this.armorInformation_0.proficiencyType && !m(this.armorInformation_0.uniqueIdentiier, "Chain Shirt") ? (this.checkBoxArmoredSkirt_0.checked = !1, this.playerArmor_0.setArmoredSkirt_6taknv$(!1)) : (v = jlt().getTableRow(), i.appendChild(v), S = jlt().getTableCell(), v.appendChild(S), S.innerHTML = "Armor Skirt", S = jlt().getTableCell(), v.appendChild(S), S.appendChild(this.checkBoxArmoredSkirt_0), this.checkBoxArmoredSkirt_0.checked = this.playerArmor_0.isArmoredSkirt()) }, xit.prototype.setProficiency_0 = function () { var t, e, i, a = this.dataControl.managerArmor.getArmorProficiencyType_s8qicq$(this.getCharacterData().getPlayerArmor()), r = null != (t = this.characterBuild.getProficiency_61zpoe$(a)) ? t : new nK, n = rK(this.dataControl, this.characterBuild, r), o = n.getArmorItemBonus_fhac18$(this.dataControl, this.characterBuild), s = this.characterBuild.getPlayReportAbilityScores_sfkw43$(this.dataControl), l = this.characterBuild.getCharacterData().getCharacterLevel(), c = this.dataControl.managerArmor.getArmorTrainingLevel_a0vkeb$(this.characterBuild, this.playerArmor_0, l); this.layoutProficiency_0.setProficiencyImage_za3lpa$(c); var p = pK().getFinalProficiencyTotal_xek4lp$(this.characterBuild.getCharacterData(), c, l); this.layoutProficiency_0.setProficiency_za3lpa$(p); var h = se().ARRAY_ABILITIES_SHORT[1], d = htt().getAbilityMod_za3lpa$(s.abilityScoresBuffed[1]); this.layoutProficiency_0.setAbility_bm4lxs$(h, d), this.layoutProficiency_0.setItemBonus_za3lpa$(o); var u = n.totalBuffExcludingItem, _ = p + d + o + u | 0; if (this.layoutProficiency_0.setName_61zpoe$(a + " AC " + j(_)), this.layoutProficiency_0.setColorBasedOnBuff_za3lpa$(u), !n.listBuffDetails.isEmpty()) { Q(n.listBuffDetails); var f = ""; for (e = n.listBuffDetails.iterator(); e.hasNext();) { var y = e.next(); f.length > 0 && (f += "<br>"), this.dataControl.hashMapBuffIDsToNames.containsKey_11rb$(y) ? f += this.dataControl.hashMapBuffIDsToNames.get_11rb$(y) : f += y } var m = jlt().getP(); m.classList.add(B9().CSS_LAYOUT_ITEM), this.divScrollable.appendChild(m), m.innerHTML = f } if (!n.listDebuffDetails.isEmpty()) { Q(n.listDebuffDetails); var $ = ""; for (i = n.listDebuffDetails.iterator(); i.hasNext();) { var g = i.next(); $.length > 0 && ($ += "<br>"), this.dataControl.hashMapBuffIDsToNames.containsKey_11rb$(g) ? $ += this.dataControl.hashMapBuffIDsToNames.get_11rb$(g) : $ += g } var v = jlt().getP(); v.classList.add(B9().CSS_LAYOUT_ITEM), this.divScrollable.appendChild(v), v.innerHTML = $ } }, xit.prototype.onAccept = function () { this.characterBuild.getCharacterData().getPlayerArmor().setArmoredSkirt_6taknv$(this.checkBoxArmoredSkirt_0.checked), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, xit.$metadata$ = { kind: p, simpleName: "DialogArmorMods", interfaces: [wet] }, zit.prototype.restoreData_s8jyv4$ = function (t) { var i, a, r, n, o, c; if (null != t) { Ntt().addSpinner_61zpoe$("Restoring Data"); try { var p = JSON.parse("string" == typeof (i = t) ? i : d()); for (r = e.isArray(a = p.saveIDs) ? a : d(), n = 0; n !== r.length; ++n) { var h = "string" == typeof (o = r[n]) ? o : d(), u = JSON.parse(h); this.mainActivity.fileManager.saveFileMetaData_puj7f4$(h, "string" == typeof (c = u.webID) ? c : d()) } var _ = new E8, f = htt().jsonToMap_qk3xy8$(p.saves); this.mainActivity.fileManager.fileManagementAllExportUserData.restoreSaves_oimnom$(f, _); var y = htt().jsonToMap_qk3xy8$(p.customFiles); this.mainActivity.fileManager.fileManagementAllExportUserData.restoreCustomFiles_oimnom$(y, _); var m = htt().jsonToMap_qk3xy8$(p.folders); this.mainActivity.fileManager.fileManagementAllExportUserData.restoreFolders_oimnom$(m, _); var $ = htt().jsonToMap_qk3xy8$(p.portraits); this.mainActivity.fileManager.fileManagementAllExportUserData.restorePortraits_oimnom$($, _), Ntt().removeSpinner(), this.mainActivity.showMessage_61zpoe$("All files restored successfully!") } catch (t) { if (!e.isType(t, l)) throw t; s(t), Ntt().removeSpinner() } } }, zit.prototype.onAccept = function () { this.destroy() }, Oit.prototype.completed_za3rmp$ = function (t) { var i, a = JSON.stringify(t); a = L(a, "#", ""); var r = e.isType(i = document.createElement("a"), HTMLAnchorElement) ? i : d(); r.setAttribute("href", "data:text/plain;charset=utf-8," + a), r.setAttribute("download", "pathbuilderexport.pbex"), r.click() }, Oit.$metadata$ = { kind: p, interfaces: [M8] }, zit.$metadata$ = { kind: p, simpleName: "DialogBackupRestore", interfaces: [wet] }, Fit.prototype.onAccept = function () { if (null != this.currentSelection_0) { if (null == this.petReference) { var t, i = this.getCharacterData().hashMapActiveCustomBuffs, a = o(this.currentSelection_0).uniqueIdentifier; (e.isType(t = i, y) ? t : d()).containsKey_11rb$(a) || (this.getCharacterData().hashMapActiveCustomBuffs.put_xwzc9p$(o(o(this.currentSelection_0).uniqueIdentifier), 1), this.dataControl.managerClasses.applyCustomBuff_hqcflu$(!0, this.characterBuild, o(this.currentSelection_0))) } else { var r = this.characterBuild.hashMapPetCharacterBuilds.get_11rb$(this.petReference), n = this.getCharacterData().hashMapPetData.get_11rb$(this.petReference); if (null == n || null == r) return void this.destroy(); var s, l = n.hashMapActiveCustomBuffs, c = o(this.currentSelection_0).uniqueIdentifier; if (!(e.isType(s = l, y) ? s : d()).containsKey_11rb$(c)) { var p = n.hashMapActiveCustomBuffs, h = o(o(this.currentSelection_0).uniqueIdentifier); p.put_xwzc9p$(h, 1), this.dataControl.managerClasses.applyCustomBuff_hqcflu$(!0, r, o(this.currentSelection_0)) } } this.mainActivity.getGuiUpdateControl().onCustomBuffChanged_nwzcgj$(this.characterBuild, this.petReference), this.mainActivity.autoSave() } this.destroy() }, Fit.prototype.setButtonVisibility_0 = function () { null != this.currentSelection_0 ? (htt().setInvisible_njr4nn$(this.buttonDelete_0, !0), htt().setInvisible_njr4nn$(this.buttonEdit_0, !0)) : (htt().setInvisible_njr4nn$(this.buttonDelete_0, !1), htt().setInvisible_njr4nn$(this.buttonEdit_0, !1)) }, Bit.prototype.accept = function () { this.this$DialogBuff.dataControl.managerClasses.refreshCustomBuffToCharacterAndPets_9vio1a$(!1, this.this$DialogBuff.characterBuild, o(this.this$DialogBuff.currentSelection_0).uniqueIdentifier, !0); var t, i = this.this$DialogBuff.dataControl.managerClasses.customBuffSet.hashMap, a = o(this.this$DialogBuff.currentSelection_0).uniqueIdentifier; (e.isType(t = i, rt) ? t : d()).remove_11rb$(a), this.this$DialogBuff.mainActivity.fileManager.fileManagementCustomFiles.deleteCustomFile_61zpoe$(o(o(this.this$DialogBuff.currentSelection_0).uniqueIdentifier)), this.this$DialogBuff.mainActivity.getGuiUpdateControl().onCustomBuffChanged_nwzcgj$(this.this$DialogBuff.characterBuild, null), this.this$DialogBuff.setListView_0() }, Bit.$metadata$ = { kind: p, interfaces: [Vet] }, Fit.prototype.deleteCustomBuff_0 = function () { null != this.currentSelection_0 && Xet(!0, "Really delete " + o(this.currentSelection_0).name + "?", new Bit(this)).show() }, Fit.prototype.setListView_0 = function () { var t; for (this.divScrollable.innerHTML = "", this.listItems = this.dataControl.managerClasses.customBuffSet.listCustomBuffsSortedByName, t = this.listItems.iterator(); t.hasNext();) { var e = t.next(); this.divScrollable.appendChild(this.getListView_0(e)) } }, Fit.prototype.openPRD = function () { }, Fit.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, Jn) ? i : d(), this.setButtonVisibility_0() }, Fit.prototype.getListView_0 = function (t) { var e = new Ylt(!1); return e.setName_61zpoe$(t.name), e.setDescription_61zpoe$(t.fullDescription), null != this.currentSelection_0 && m(this.currentSelection_0, t) && e.layoutDetail.classList.remove(B9().CSS_HIDDEN), this.hashMapDivs.put_xwzc9p$(e, t), e.div }, jit.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Hit = null; function qit() { return null === Hit && new jit, Hit } function Uit(t) { this.this$DialogBuff = t } function Git(t, e, i, a) { var r, o, s; Iet.call(this, t, e, i), this.petReference_0 = a, this.currentSelection_0 = null, this.listItems_0 = u(), this.title.innerHTML = "Apply Condition"; var l, c = e.managerClasses.conditionInformationSet; for (r = c.hashMap.keys.iterator(); r.hasNext();) { var p = r.next(); this.listItems_0.add_11rb$(p) } for (Q(this.listItems_0), o = this.listItems_0.iterator(); o.hasNext();) { var h = o.next(), d = null != (s = c.hashMap.get_11rb$(h)) ? s : new Ql, _ = new Ylt(!1); _.setDescription_61zpoe$(d.description), _.setName_61zpoe$(h), _.setAction_za3lpa$(-2), this.divScrollable.appendChild(_.div), this.hashMapDivs.put_xwzc9p$(_, h) } this.divScrollable.addEventListener("dblclick", (l = this, function (t) { return l.onAccept(), n })) } function Wit(t, i, a, r) { Kit(), wet.call(this, t, i, a), this.hideAcceptButton(), this.setRestictedWidth(), this.content.style.padding = "0.5em"; var o = "Copper Pieces", l = a.getCharacterData().getCopper(); 1 === r ? (o = "Silver Pieces", l = a.getCharacterData().getSilver()) : 2 === r ? (o = "Gold Pieces", l = a.getCharacterData().getGold()) : 3 === r && (o = "Platinum Pieces", l = a.getCharacterData().getPlatinum()), this.title.innerHTML = o; var c = jlt().getDiv(); c.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(c); var p = jlt().getDiv(); p.innerHTML = "Set Current Amount", c.appendChild(p); var h = jlt().getDiv(); h.style.display = "flex", h.style.alignItems = "center", c.appendChild(h); var d = jlt().getNumericInput(); d.value = l.toString(), d.style.flex = "1", d.style.marginRight = "0.5em", d.style.lineHeight = "1.5em", h.appendChild(d); var u, _, f, y, m, $ = Dlt("Set"); $.buttonDiv.classList.add("button-currency"), h.appendChild($.buttonDiv), $.buttonDiv.addEventListener("click", (u = d, _ = r, f = a, y = this, m = t, function (t) { var i = u.value; try { var a; switch (a = i.length > 0 ? V(i) : 0, _) { case 0: f.getCharacterData().setCopper_za3lpa$(a); break; case 1: f.getCharacterData().setSilver_za3lpa$(a); break; case 2: f.getCharacterData().setGold_za3lpa$(a); break; case 3: f.getCharacterData().setPlatinum_za3lpa$(a) }y.onFinished_0() } catch (t) { if (!e.isType(t, A)) throw t; m.showMessage_61zpoe$("Unable to parse currency amount"), s(t) } return n })); var g = jlt().getDiv(); g.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(g), (p = jlt().getDiv()).innerHTML = "Adjust Current Amount", g.appendChild(p), (h = jlt().getDiv()).style.display = "flex", h.style.alignItems = "center", g.appendChild(h); var v = jlt().getNumericInput(); v.placeholder = "Use minus symbol to subtract", v.style.flex = "1", v.style.marginRight = "0.5em", v.style.lineHeight = "1.5em", h.appendChild(v); var S = Dlt("Adjust"); S.buttonDiv.classList.add("button-currency"), h.appendChild(S.buttonDiv), S.buttonDiv.addEventListener("click", function (t, i, a, r) { return function (o) { var l = t.value; try { var c; switch (c = l.length > 0 ? V(l) : 0, i) { case 0: var p = a.getCharacterData().getCopper() + c | 0; p >= 0 ? (a.getCharacterData().setCopper_za3lpa$(p), a.onFinished_0()) : a.notEnough_0(); break; case 1: var h = a.getCharacterData().getSilver() + c | 0; h >= 0 ? (a.getCharacterData().setSilver_za3lpa$(h), a.onFinished_0()) : a.notEnough_0(); break; case 2: var d = a.getCharacterData().getGold() + c | 0; d >= 0 ? (a.getCharacterData().setGold_za3lpa$(d), a.onFinished_0()) : a.notEnough_0(); break; case 3: var u = a.getCharacterData().getPlatinum() + c | 0; u >= 0 ? (a.getCharacterData().setPlatinum_za3lpa$(u), a.onFinished_0()) : a.notEnough_0() } } catch (t) { if (!e.isType(t, A)) throw t; r.showMessage_61zpoe$("Unable to parse currency amount"), s(t) } return n } }(v, r, this, t)); var C = Dlt("Simplify All Coins"); C.buttonDiv.style.marginTop = "1em", C.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.managerEquipment.deductCost_5sfiqf$(e, 0), i.getNavigationControl().tabbedAreaGear.updateMoneyButtons(), i.autoSave(), n } }(i, a, t)), g.appendChild(C.buttonDiv) } function Yit() { Vit = this, this.CURRENT_TYPE_CP = 0, this.CURRENT_TYPE_SP = 1, this.CURRENT_TYPE_GP = 2, this.CURRENT_TYPE_PP = 3 } Uit.prototype.completed = function () { this.this$DialogBuff.currentSelection_0 = null, this.this$DialogBuff.divInfo.innerHTML = "", this.this$DialogBuff.setListView_0() }, Uit.$metadata$ = { kind: p, interfaces: [yit] }, Fit.$metadata$ = { kind: p, simpleName: "DialogBuff", interfaces: [Iet] }, Git.prototype.openPRD = function () { this.mainActivity.openBrowser_61zpoe$("https://2e.aonprd.com/Conditions.aspx") }, Git.prototype.onItemClicked_za3rmp$ = function (t) { var e; this.currentSelection_0 = "string" == typeof (e = t) ? e : d() }, Git.prototype.onAccept = function () { var t; if (null != this.currentSelection_0) { var i, a = this.dataControl.managerClasses.conditionInformationSet.hashMap, r = this.currentSelection_0, n = null != (t = (e.isType(i = a, y) ? i : d()).get_11rb$(r)) ? t : new Ql, s = 0; if (n.value && (s = 1), null == this.petReference_0) { var l, c = this.getCharacterData().hashMapActiveConditions, p = this.currentSelection_0; if (!(e.isType(l = c, y) ? l : d()).containsKey_11rb$(p)) { var h = this.getCharacterData().hashMapActiveConditions, u = o(this.currentSelection_0), _ = s; h.put_xwzc9p$(u, _), this.dataControl.managerClasses.applyConditionEffect_q0qzv0$(!0, this.characterBuild, o(n).condition, s) } } else { var f = this.characterBuild.hashMapPetCharacterBuilds.get_11rb$(this.petReference_0), m = this.getCharacterData().hashMapPetData.get_11rb$(this.petReference_0); if (null != m && null != f) { var $, g = m.hashMapActiveConditions, v = this.currentSelection_0; if (!(e.isType($ = g, y) ? $ : d()).containsKey_11rb$(v)) { var S = m.hashMapActiveConditions, C = o(this.currentSelection_0), E = s; S.put_xwzc9p$(C, E), this.dataControl.managerClasses.applyConditionEffect_q0qzv0$(!0, f, o(n).condition, s) } } } null != this.petReference_0 ? this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, this.petReference_0) : this.mainActivity.getGuiUpdateControl().onConditionChanged_kvhkcm$(this.characterBuild, this.petReference_0, n), this.mainActivity.autoSave() } this.mainActivity.autoSave(), this.destroy() }, Git.$metadata$ = { kind: p, simpleName: "DialogConditions", interfaces: [Iet] }, Wit.prototype.notEnough_0 = function () { var t = jlt().getP(); t.classList.add(B9().CSS_WARNING_TEXT), t.innerHTML = "You don't have enough for this adjustment!", this.content.appendChild(t) }, Wit.prototype.onFinished_0 = function () { this.mainActivity.getNavigationControl().tabbedAreaGear.updateMoneyButtons(), this.mainActivity.autoSave(), this.destroy() }, Wit.prototype.onAccept = function () { this.destroy() }, Yit.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Vit = null; function Kit() { return null === Vit && new Yit, Vit } function Xit(t, e, i) { wet.call(this, t, e, i), this.listBonus_0 = u(), this.title.innerHTML = "Custom Ability Increases", this.setRestictedWidth40(); for (var a = 0; a <= 10; a++)this.listBonus_0.add_11rb$(htt().getSignedValue_za3lpa$(a)); var r = jlt().getDiv(); r.classList.add("scrollable"), this.content.appendChild(r); for (var n = 1; n <= 20; n++)r.appendChild(this.getLayoutAbilityIncrease_0(n)); this.setSingleFinishedButton() } function Jit(t, e, i, a) { return function (r) { return e.hasIncreasesAtLevel_0(t) || e.getCharacterData().hashMapCustomAbilityIncreases.put_xwzc9p$(t, new Int32Array(6)), o(e.getCharacterData().hashMapCustomAbilityIncreases.get_11rb$(t))[a] = i[a].spinner.selectedIndex, n } } function Zit(t, e, i, a, r) { wet.call(this, t, e, i), this.preexistingUUID = a, this.finishedCreation = r, this.editTextName = new lit("Armor Name", dit()), this.spinnerItemLevel = new Uet(!1), this.spinnerProficiency = new Uet(!1), this.editTextTraits = new lit("Traits (comma separated)", dit()), this.editTextPrice = new lit("Price (in gp)", uit()), this.spinnerBulk = new Uet(!1), this.editTextACBonus = new lit("AC Bonus", uit()), this.editTextDexCap = new lit("Dex Cap", uit()), this.editTextCheckPenalty = new lit("Check Penalty", uit()), this.editTextSpeedPenalty = new lit("Speed Penalty", uit()), this.editTextStrength = new lit("Strength", uit()), this.textAreaDescription = new sit("Description"), this.customActionLayout = new Zet, this.divCustomEffects = jlt().getDiv(), this.listItemLevels_0 = u(), this.listBulks_0 = u(), this.armorInformation_0 = null, this.listCustomEffectLayouts_0 = u(), this.armorInformation_0 = ss("Unnamed Armor"), this.armorInformation_0.armorTraits = "Custom", null != this.preexistingUUID ? e.managerArmor.hashMapArmor.containsKey_11rb$(this.preexistingUUID) ? this.armorInformation_0 = ls(o(e.managerArmor.hashMapArmor.get_11rb$(this.preexistingUUID))) : this.destroy() : this.armorInformation_0.uniqueIdentiier = t.getGuiUpdateControl().getPlatformUUID(), this.setRestictedWidth(), this.title.innerHTML = "Custom Armor"; var s, l = jlt().getDiv(); l.innerHTML = "Add Effect", l.addEventListener("click", (s = this, function (t) { return s.addEffect_0(null), n })), this.addButtonToBottom_lt8gi4$(l); var c = jlt().getDiv(); c.classList.add("scrollable"), this.content.appendChild(c), this.content.style.padding = "0.5em"; var p = jlt().getDiv(); p.classList.add("custom-div"), p.classList.add(B9().CSS_ROUNDED_RECTANGLE), p.style.marginBottom = "1em", c.appendChild(p), this.spinnerItemLevel.spinner.style.marginBottom = "1em", this.spinnerBulk.spinner.style.marginBottom = "1em", this.listItemLevels_0.add_11rb$("No item level"); for (var h = 1; h <= 20; h++)this.listItemLevels_0.add_11rb$("Item Level " + h); this.spinnerItemLevel.setSpinnerList_un5gdn$(this.listItemLevels_0), this.listBulks_0.add_11rb$("Bulk 0"), this.listBulks_0.add_11rb$("Bulk L"); for (var d = 1; d <= 10; d++)this.listBulks_0.add_11rb$("Bulk " + d); this.spinnerBulk.setSpinnerList_un5gdn$(this.listBulks_0); var _ = u(); _.add_11rb$("Proficiency: Light Armor"), _.add_11rb$("Proficiency: Medium Armor"), _.add_11rb$("Proficiency: Heavy Armor"), _.add_11rb$("Proficiency: Unarmored"), _.add_11rb$("Proficiency: Barding"), this.spinnerProficiency.setSpinnerList_un5gdn$(_), this.spinnerProficiency.spinner.style.marginBottom = "1em", p.appendChild(this.editTextName.div), p.appendChild(this.spinnerItemLevel.spinner), p.appendChild(this.spinnerProficiency.spinner), p.appendChild(this.editTextTraits.div), p.appendChild(this.editTextPrice.div), p.appendChild(this.spinnerBulk.spinner), p.appendChild(this.editTextACBonus.div), p.appendChild(this.editTextDexCap.div), p.appendChild(this.editTextCheckPenalty.div), p.appendChild(this.editTextSpeedPenalty.div), p.appendChild(this.editTextStrength.div), p.appendChild(this.textAreaDescription.div), c.appendChild(this.customActionLayout.div), c.appendChild(this.divCustomEffects), this.setExisting_0() } Wit.$metadata$ = { kind: p, simpleName: "DialogCurrency", interfaces: [wet] }, Xit.prototype.getLayoutAbilityIncrease_0 = function (t) { var e = jlt().getDiv(); e.classList.add(B9().CSS_ROUNDED_RECTANGLE), e.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), e.classList.add("custom-ability-box"); var i = new Met("Level " + t); i.divWithLabel.style.display = "inline-block", i.divWithLabel.style.width = "8em", i.divWithLabel.style.verticalAlign = "top", e.appendChild(i.divWithLabel); var a, r, o, s, l = jlt().getDiv(); return l.style.display = "inline-block", this.setTableAbilities_0(t, l), e.appendChild(l), i.setChecked_6taknv$(this.hasIncreasesAtLevel_0(t)), i.divWithLabel.addEventListener("click", (a = i, r = this, o = t, s = l, function (t) { if (a.toggle(), a.isChecked()) { if (!r.getCharacterData().hashMapCustomAbilityIncreases.containsKey_11rb$(o)) { var e = r.getCharacterData().hashMapCustomAbilityIncreases, i = o, l = new Int32Array(6); e.put_xwzc9p$(i, l) } } else r.getCharacterData().hashMapCustomAbilityIncreases.remove_11rb$(o); return r.setTableAbilities_0(o, s), n })), e }, Xit.prototype.setTableAbilities_0 = function (t, e) { if (e.innerHTML = "", this.hasIncreasesAtLevel_0(t)) { var i = [new Uet(!1), new Uet(!1), new Uet(!1), new Uet(!1), new Uet(!1), new Uet(!1)], a = jlt().getDiv(); e.appendChild(a), a.style.display = "flex"; var r = jlt().getDiv(); e.appendChild(r), r.style.display = "flex"; for (var n = 0; n <= 5; n++) { var s = jlt().getSpan(); s.innerHTML = se().ARRAY_ABILITIES_SHORT[n], s.style.flex = "1", a.appendChild(s); var l = jlt().getSpan(); l.style.flex = "1", l.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), r.appendChild(l), l.appendChild(i[n].spinner), i[n].setSpinnerList_un5gdn$(this.listBonus_0); var c = o(this.getCharacterData().hashMapCustomAbilityIncreases.get_11rb$(t))[n]; c < this.listBonus_0.size && (i[n].spinner.selectedIndex = c), i[n].spinner.addEventListener("change", Jit(t, this, i, n)) } } }, Xit.prototype.hasIncreasesAtLevel_0 = function (t) { return this.getCharacterData().hashMapCustomAbilityIncreases.containsKey_11rb$(t) }, Xit.prototype.onAccept = function () { this.characterBuild.setFreshPlayReportAbilityScores_sfkw43$(this.dataControl), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.mainActivity.getGuiUpdateControl().updateBuildFragment_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, Xit.$metadata$ = { kind: p, simpleName: "DialogCustomAbilityIncrease", interfaces: [wet] }, Zit.prototype.addEffect_0 = function (t) { var e, i, a = new Qet(this.dataControl, this.characterBuild, 0, t); this.divCustomEffects.appendChild(a.div), a.buttonDelete.buttonDiv.addEventListener("click", (e = this, i = a, function (t) { return e.listCustomEffectLayouts_0.remove_11rb$(i), e.divCustomEffects.removeChild(i.div), n })), this.listCustomEffectLayouts_0.add_11rb$(a) }, Zit.prototype.setExisting_0 = function () { var t; if (this.editTextName.edittext.value = this.armorInformation_0.name, this.spinnerItemLevel.spinner.selectedIndex = this.armorInformation_0.itemLevel, this.spinnerProficiency.spinner.selectedIndex = this.armorInformation_0.proficiencyType, this.editTextTraits.edittext.value = this.armorInformation_0.armorTraits, this.editTextPrice.edittext.value = this.armorInformation_0.price.toString(), this.spinnerBulk.spinner.selectedIndex = this.listBulks_0.indexOf_11rb$("Bulk " + this.armorInformation_0.bulk), this.editTextACBonus.edittext.value = this.armorInformation_0.acBonus.toString(), null != this.armorInformation_0.dexCap && (this.editTextDexCap.edittext.value = j(this.armorInformation_0.dexCap)), null != this.armorInformation_0.checkPenalty && (this.editTextCheckPenalty.edittext.value = j(this.armorInformation_0.checkPenalty)), null != this.armorInformation_0.speedPenalty && (this.editTextSpeedPenalty.edittext.value = j(this.armorInformation_0.speedPenalty)), this.editTextStrength.edittext.value = this.armorInformation_0.strength.toString(), this.textAreaDescription.textArea.value = this.armorInformation_0.description, this.customActionLayout.setExisting_vqvrqt$(this.armorInformation_0.action0, this.armorInformation_0.action0desc), null != this.armorInformation_0.listCustomEffects) for (t = o(this.armorInformation_0.listCustomEffects).iterator(); t.hasNext();) { var e = t.next(); this.addEffect_0(e) } }, Zit.prototype.onAccept = function () { var t, i, a; this.armorInformation_0.name = this.editTextName.edittext.value, this.armorInformation_0.itemLevel = this.spinnerItemLevel.spinner.selectedIndex, this.armorInformation_0.proficiencyType = this.spinnerProficiency.spinner.selectedIndex, this.armorInformation_0.armorTraits = this.editTextTraits.edittext.value, this.armorInformation_0.databaseID = 1; try { 0 === this.editTextPrice.edittext.value.length ? this.armorInformation_0.price = 0 : this.armorInformation_0.price = E(this.editTextPrice.edittext.value) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse equipment price"); throw t } this.armorInformation_0.bulk = L(this.spinnerBulk.spinner.value, "Bulk ", ""); try { var r = this.editTextACBonus.edittext.value; 0 === r.length ? this.armorInformation_0.acBonus = 0 : this.armorInformation_0.acBonus = V(r) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse equipment AC"); throw t } try { var n = this.editTextDexCap.edittext.value; 0 === n.length ? this.armorInformation_0.dexCap = null : this.armorInformation_0.dexCap = V(n) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse dex cap"); throw t } try { var s = this.editTextCheckPenalty.edittext.value; 0 === s.length ? this.armorInformation_0.checkPenalty = null : this.armorInformation_0.checkPenalty = V(s) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse check penalty"); throw t } try { var c = this.editTextSpeedPenalty.edittext.value; 0 === c.length ? this.armorInformation_0.speedPenalty = null : this.armorInformation_0.speedPenalty = V(c) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse speed penalty"); throw t } try { var p = this.editTextStrength.edittext.value; 0 === p.length ? this.armorInformation_0.strength = 0 : this.armorInformation_0.strength = V(p) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse strength"); throw t } for (this.armorInformation_0.description = this.textAreaDescription.textArea.value, this.armorInformation_0.action0 = this.customActionLayout.getAction(), this.armorInformation_0.action0 > -2 ? this.armorInformation_0.action0desc = this.customActionLayout.getDescription() : this.armorInformation_0.action0desc = null, this.listCustomEffectLayouts_0.isEmpty() || (this.armorInformation_0.listCustomEffects = u()), t = this.listCustomEffectLayouts_0.iterator(); t.hasNext();) { var h = t.next().getCustomEffect(); null != h && o(this.armorInformation_0.listCustomEffects).add_11rb$(h) } this.dataControl.managerArmor.refreshArmorInCharacterAndPets_1waocl$(!1, this.characterBuild, this.preexistingUUID, !1); var _ = this.dataControl.managerArmor.hashMapArmor, f = o(this.armorInformation_0.uniqueIdentiier), y = this.armorInformation_0; _.put_xwzc9p$(f, y); var m = JSON.stringify(this.armorInformation_0); if (this.mainActivity.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(m, "string" == typeof (i = this.armorInformation_0.uniqueIdentiier) ? i : d(), 2), this.dataControl.managerArmor.refreshArmorInCharacterAndPets_1waocl$(!0, this.characterBuild, this.preexistingUUID, !1), null != this.armorInformation_0.listCustomEffects) for (a = o(this.armorInformation_0.listCustomEffects).iterator(); a.hasNext();) { var $ = a.next(), g = this.dataControl.hashMapBuffIDsToNames, v = $.getReference_sfkw43$(this.dataControl), S = this.armorInformation_0.name; g.put_xwzc9p$(v, S) } this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.finishedCreation.completed(), this.destroy() }, Zit.$metadata$ = { kind: p, simpleName: "DialogCustomArmor", interfaces: [wet] }; var Qit = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function tat(t, e, i, a) { var r; wet.call(this, t, e, i), this.existingID = a, this.editTextName = new lit("Background Name", dit()), this.inputStory = new sit("Background Story"), this.editTextLore = new lit("Lore Skill", dit()), this.spinnerSkill = new oit("Background Skill"), this.spinnerFeat = null, this.editTextFeatExtra = new lit("Feat extra information (eg for assurance)", dit()), this.textviewBackground = jlt().getP(), this.listAbilityBoosts_0 = u(), this.remaining_0 = 2, this.listFeatInformation_0 = u(), this.FEAT_NONE_0 = "No Skill Feat", this.layoutAbilityIncrease_0 = new Net, this.listSkills_0 = e.managerProficiencies.getAllSkillsAsArray_5btbp7$(i), this.setRestictedWidth(), this.title.innerHTML = "Custom Background"; var o, s = jlt().getDiv(); s.classList.add("custom-div"), s.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.appendChild(s), this.content.style.padding = "0.5em", this.editTextName.edittext.addEventListener("input", (o = this, function (t) { return o.setTextviewBackground_0(), n })), this.inputStory.textArea.addEventListener("input", function (t) { return function (e) { return t.setTextviewBackground_0(), n } }(this)), this.editTextLore.edittext.addEventListener("input", function (t) { return function (e) { return t.setTextviewBackground_0(), n } }(this)), this.editTextFeatExtra.edittext.addEventListener("input", function (t) { return function (e) { return t.setTextviewBackground_0(), n } }(this)), s.appendChild(this.editTextName.div), s.appendChild(this.inputStory.div), s.appendChild(this.editTextLore.div); var l = jlt().getP(); l.innerText = "Selected two abilities for the limited selection background boost.", s.appendChild(l), s.appendChild(this.layoutAbilityIncrease_0.table), this.layoutAbilityIncrease_0.table.style.marginBottom = "0.5em", r = this.layoutAbilityIncrease_0.arrayCheckBoxes.length; for (var c = 0; c < r; c++) { var p = this.layoutAbilityIncrease_0.arrayCheckBoxes[c]; this.layoutAbilityIncrease_0.arrayTDS[c].addEventListener("click", eat(p, this, c)) } this.layoutAbilityIncrease_0.setRemaining_za3lpa$(this.remaining_0), this.spinnerSkill.spinner.setSpinnerList_kand9s$(this.listSkills_0), s.appendChild(this.spinnerSkill.div), this.spinnerSkill.spinner.spinner.addEventListener("change", function (t) { return function (e) { return t.setTextviewBackground_0(), n } }(this)); var h = new Ya(e); h.createSnapshot_vy76y1$(i, 1); var d = e.managerFeats.getFeatsOfType_xmn46k$(i, h, se().FEATS_SKILL, !1, null, 1, 1); this.listFeatInformation_0.addAll_brywnq$(d.values); var _ = this.listFeatInformation_0; _.size > 1 && q(_, new G(Qit(iat))); var f = Cq(this.FEAT_NONE_0); f.name = this.FEAT_NONE_0, this.listFeatInformation_0.add_11rb$(f), this.spinnerFeat = new Get(this.listFeatInformation_0), s.appendChild(this.spinnerFeat.div), this.spinnerFeat.spinner.addEventListener("change", function (t) { return function (e) { return t.setTextviewBackground_0(), n } }(this)), s.appendChild(this.editTextFeatExtra.div), s.appendChild(this.textviewBackground), this.setExisting_0(), this.setTextviewBackground_0() } function eat(t, e, i) { return function (a) { var r, o; return t.toggle(), t.isChecked() ? (r = e.remaining_0, e.remaining_0 = r - 1 | 0, e.listAbilityBoosts_0.add_11rb$(i.toString())) : (o = e.remaining_0, e.remaining_0 = o + 1 | 0, e.listAbilityBoosts_0.remove_11rb$(i.toString())), e.setTextviewBackground_0(), e.layoutAbilityIncrease_0.setRemaining_za3lpa$(e.remaining_0), n } } function iat(t) { return t.name } function aat(t, e, i, a, r) { wet.call(this, t, e, i), this.preexistingUUID = a, this.finishedCreation = r, this.editTextName = new lit("Buff Name", dit()), this.textAreaDescription = new sit("Description"), this.customBuff_0 = null, this.listCustomEffectLayouts_0 = u(), this.divCustomEffects = jlt().getDiv(), this.customBuff_0 = no("Unnamed Buff"), null != this.preexistingUUID ? e.managerClasses.customBuffSet.hashMap.containsKey_11rb$(this.preexistingUUID) && (this.customBuff_0 = oo(o(e.managerClasses.customBuffSet.hashMap.get_11rb$(this.preexistingUUID)))) : this.customBuff_0.uniqueIdentifier = t.getGuiUpdateControl().getPlatformUUID(), this.setRestictedWidth(), this.title.innerHTML = "Custom Buff"; var s, l = jlt().getDiv(); l.innerHTML = "Add Effect", l.addEventListener("click", (s = this, function (t) { return s.addEffect_0(null), n })), this.addButtonToBottom_lt8gi4$(l); var c = jlt().getDiv(); c.classList.add("scrollable"), this.content.appendChild(c), this.content.style.padding = "0.5em"; var p = jlt().getDiv(); p.classList.add("custom-div"), p.classList.add(B9().CSS_ROUNDED_RECTANGLE), p.style.marginBottom = "1em", c.appendChild(p), p.appendChild(this.editTextName.div), p.appendChild(this.textAreaDescription.div), c.appendChild(this.divCustomEffects), this.setExisting_0() } function rat(t, e, i, a, r) { wet.call(this, t, e, i), this.preexistingUUID = a, this.finishedCreation = r, this.editTextName = new lit("Equipment Name", dit()), this.textAreaDescription = new sit("Description"), this.editTextTraits = new lit("Traits (comma separated)", dit()), this.editTextUsage = new lit("Usage", dit()), this.editTextPrice = new lit("Price (in gp)", uit()), this.spinnerItemLevel = new Uet(!1), this.spinnerBulk = new Uet(!1), this.customActionLayout = new Zet, this.listItemLevels_0 = u(), this.listBulks_0 = u(), this.equipmentInformation_0 = null, this.listCustomEffectLayouts_0 = u(), this.divCustomEffects = jlt().getDiv(), this.equipmentInformation_0 = th("Unnamed Equipment", 8), this.equipmentInformation_0.traits = "Custom, Magical", null != this.preexistingUUID ? e.managerEquipment.hashMapAllEquipmentByName.containsKey_11rb$(this.preexistingUUID) ? this.equipmentInformation_0 = ih(o(e.managerEquipment.hashMapAllEquipmentByName.get_11rb$(this.preexistingUUID))) : this.destroy() : this.equipmentInformation_0.uniqueIdentiier = t.getGuiUpdateControl().getPlatformUUID(), this.setRestictedWidth(), this.title.innerHTML = "Custom Equipment"; var s, l = jlt().getDiv(); l.innerHTML = "Add Effect", l.addEventListener("click", (s = this, function (t) { return s.addEffect_0(null), n })), this.addButtonToBottom_lt8gi4$(l); var c = jlt().getDiv(); c.classList.add("scrollable"), this.content.appendChild(c), this.content.style.padding = "0.5em"; var p = jlt().getDiv(); p.classList.add("custom-div"), p.classList.add(B9().CSS_ROUNDED_RECTANGLE), p.style.marginBottom = "1em", c.appendChild(p), this.spinnerItemLevel.spinner.style.marginBottom = "1em", this.spinnerBulk.spinner.style.marginBottom = "1em", this.listItemLevels_0.add_11rb$("No item level"); for (var h = 1; h <= 20; h++)this.listItemLevels_0.add_11rb$("Item Level " + h); this.spinnerItemLevel.setSpinnerList_un5gdn$(this.listItemLevels_0), this.listBulks_0.add_11rb$("Bulk 0"), this.listBulks_0.add_11rb$("Bulk L"); for (var d = 1; d <= 10; d++)this.listBulks_0.add_11rb$("Bulk " + d); this.spinnerBulk.setSpinnerList_un5gdn$(this.listBulks_0), p.appendChild(this.editTextName.div), p.appendChild(this.spinnerItemLevel.spinner), p.appendChild(this.editTextTraits.div), p.appendChild(this.editTextPrice.div), p.appendChild(this.spinnerBulk.spinner), p.appendChild(this.editTextUsage.div), p.appendChild(this.textAreaDescription.div), c.appendChild(this.customActionLayout.div), c.appendChild(this.divCustomEffects), this.setExisting_0() } tat.prototype.setExisting_0 = function () { var t; if (null != this.existingID) { var e = this.dataControl.managerBackgrounds.backgroundSet.hashMap.get_11rb$(this.existingID); if (null != e) { if (this.editTextName.edittext.value = e.name, this.inputStory.textArea.value = e.description, this.editTextLore.edittext.value = null != (t = e.lore) ? t : "", this.editTextFeatExtra.edittext.value = e.freeFeatDetail, null != e.freeFeatID) { var i = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(e.freeFeatID); this.spinnerFeat.spinner.selectedIndex = Kt(this.listFeatInformation_0, i) } else { var a = this.listFeatInformation_0.size - 1 | 0; this.spinnerFeat.spinner.selectedIndex = a } null != e.skill && (this.spinnerSkill.spinner.spinner.selectedIndex = ot(this.listSkills_0, e.skill)), this.listAbilityBoosts_0.add_11rb$(o(e.boost_ref_1)), this.listAbilityBoosts_0.add_11rb$(o(e.boost_ref_2)), this.remaining_0 = 0, this.layoutAbilityIncrease_0.arrayCheckBoxes[V(o(e.boost_ref_1))].setChecked_6taknv$(!0), this.layoutAbilityIncrease_0.arrayCheckBoxes[V(o(e.boost_ref_2))].setChecked_6taknv$(!0) } } }, tat.prototype.setTextviewBackground_0 = function () { if (2 === this.listAbilityBoosts_0.size) { var t = V(this.listAbilityBoosts_0.get_za3lpa$(0)), e = V(this.listAbilityBoosts_0.get_za3lpa$(1)), i = "Choose two ability boosts. One must be to " + se().ARRAY_ABILITIES[t].toString() + " or " + se().ARRAY_ABILITIES[e].toString() + ", and the other is a free ability boost."; i += "You're trained in the " + this.spinnerSkill.spinner.spinner.value + " skill and the " + this.editTextLore.edittext.value + " Lore skill."; var a = this.listFeatInformation_0.get_za3lpa$(this.spinnerFeat.spinner.selectedIndex); if (!m(a.id, this.FEAT_NONE_0)) { var r = a.name, n = this.editTextFeatExtra.edittext.value; n.length > 0 && (r += " (" + n + ")"), i += "You gain the " + r + " skill feat." } this.textviewBackground.innerHTML = i } else this.textviewBackground.innerHTML = "" }, tat.prototype.onAccept = function () { var t = this.editTextName.edittext.value, i = this.inputStory.textArea.value, a = this.editTextLore.edittext.value, r = this.editTextFeatExtra.edittext.value; if (0 !== t.length) if (0 !== a.length) if (0 === this.remaining_0) { var n = this.listFeatInformation_0.get_za3lpa$(this.spinnerFeat.spinner.selectedIndex); console.log(n); var o = new Ks; o.databaseID = 1, m(n.id, this.FEAT_NONE_0) ? o.freeFeatID = null : o.freeFeatID = n.id, o.skill = this.spinnerSkill.spinner.spinner.value, o.name = t.substring(0, 1).toUpperCase() + t.substring(1), o.id = o.idCustom, i.length > 0 && (o.description = i), a.length > 0 && (o.lore = a), r.length > 0 && (o.freeFeatDetail = r), o.boost_ref_1 = this.listAbilityBoosts_0.get_za3lpa$(0), o.boost_ref_2 = this.listAbilityBoosts_0.get_za3lpa$(1); var s = JSON.stringify(o); if (this.mainActivity.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(s, o.idCustom, 6), null != this.existingID) { var l, c = this.dataControl.managerBackgrounds.backgroundSet.hashMap.get_11rb$(this.existingID), p = this.dataControl.managerBackgrounds.backgroundSet.list; (e.isType(l = p, ht) ? l : d()).remove_11rb$(c), this.dataControl.managerBackgrounds.backgroundSet.hashMap.remove_11rb$(this.existingID), m(o.idCustom, this.existingID) || this.mainActivity.fileManager.fileManagementCustomFiles.deleteCustomFile_61zpoe$(this.existingID) } this.dataControl.managerBackgrounds.backgroundSet.list.add_11rb$(o), this.dataControl.managerBackgrounds.backgroundSet.createHashMap(), this.mainActivity.openDialog_ip94j4$(new Gtt(this.mainActivity, this.dataControl, this.characterBuild, 3)), this.destroy() } else this.mainActivity.showMessage_61zpoe$("Please select background boost choices"); else this.mainActivity.showMessage_61zpoe$("Please add a lore"); else this.mainActivity.showMessage_61zpoe$("Please add a background name") }, tat.$metadata$ = { kind: p, simpleName: "DialogCustomBackground", interfaces: [wet] }, aat.prototype.addEffect_0 = function (t) { var e, i, a = new Qet(this.dataControl, this.characterBuild, -2, t); this.divCustomEffects.appendChild(a.div), a.buttonDelete.buttonDiv.addEventListener("click", (e = this, i = a, function (t) { return e.listCustomEffectLayouts_0.remove_11rb$(i), e.divCustomEffects.removeChild(i.div), n })), this.listCustomEffectLayouts_0.add_11rb$(a) }, aat.prototype.setExisting_0 = function () { var t; if (this.editTextName.edittext.value = this.customBuff_0.name, this.textAreaDescription.textArea.value = this.customBuff_0.description, null != this.customBuff_0.listCustomEffects) for (t = o(this.customBuff_0.listCustomEffects).iterator(); t.hasNext();) { var e = t.next(); this.addEffect_0(e) } }, aat.prototype.onAccept = function () { var t, e, i; for (this.customBuff_0.name = this.editTextName.edittext.value, this.customBuff_0.description = this.textAreaDescription.textArea.value, this.listCustomEffectLayouts_0.isEmpty() || (this.customBuff_0.listCustomEffects = u()), t = this.listCustomEffectLayouts_0.iterator(); t.hasNext();) { var a = t.next().getCustomEffect(); null != a && o(this.customBuff_0.listCustomEffects).add_11rb$(a) } this.dataControl.managerClasses.refreshCustomBuffToCharacterAndPets_9vio1a$(!1, this.characterBuild, this.preexistingUUID, !1); var r = JSON.stringify(this.customBuff_0); for (this.mainActivity.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(r, "string" == typeof (e = this.customBuff_0.uniqueIdentifier) ? e : d(), 1), i = o(this.customBuff_0.listCustomEffects).iterator(); i.hasNext();) { var n = i.next(), s = this.dataControl.hashMapBuffIDsToNames, l = n.getReference_sfkw43$(this.dataControl), c = this.customBuff_0.name; s.put_xwzc9p$(l, c) } var p = this.dataControl.managerClasses.customBuffSet.hashMap, h = o(this.customBuff_0.uniqueIdentifier), _ = this.customBuff_0; p.put_xwzc9p$(h, _), this.dataControl.managerClasses.refreshCustomBuffToCharacterAndPets_9vio1a$(!0, this.characterBuild, this.preexistingUUID, !1), this.mainActivity.getGuiUpdateControl().onCustomBuffChanged_nwzcgj$(this.characterBuild, null), this.finishedCreation.completed(), this.destroy() }, aat.$metadata$ = { kind: p, simpleName: "DialogCustomBuff", interfaces: [wet] }, rat.prototype.addEffect_0 = function (t) { var e, i, a = new Qet(this.dataControl, this.characterBuild, 0, t); this.divCustomEffects.appendChild(a.div), a.buttonDelete.buttonDiv.addEventListener("click", (e = this, i = a, function (t) { return e.listCustomEffectLayouts_0.remove_11rb$(i), e.divCustomEffects.removeChild(i.div), n })), this.listCustomEffectLayouts_0.add_11rb$(a) }, rat.prototype.setExisting_0 = function () { var t; if (this.editTextName.edittext.value = this.equipmentInformation_0.name, this.editTextTraits.edittext.value = this.equipmentInformation_0.traits, this.editTextPrice.edittext.value = this.equipmentInformation_0.price.toString(), this.editTextUsage.edittext.value = this.equipmentInformation_0.usage, this.textAreaDescription.textArea.value = this.equipmentInformation_0.description, this.spinnerItemLevel.spinner.selectedIndex = this.equipmentInformation_0.itemLevel, this.spinnerBulk.spinner.selectedIndex = this.listBulks_0.indexOf_11rb$("Bulk " + this.equipmentInformation_0.bulk), this.customActionLayout.setExisting_vqvrqt$(this.equipmentInformation_0.action0, this.equipmentInformation_0.action0desc), null != this.equipmentInformation_0.listCustomEffects) for (t = o(this.equipmentInformation_0.listCustomEffects).iterator(); t.hasNext();) { var e = t.next(); this.addEffect_0(e) } }, rat.prototype.onAccept = function () { var t, i, a; this.equipmentInformation_0.name = this.editTextName.edittext.value, this.equipmentInformation_0.itemLevel = this.spinnerItemLevel.spinner.selectedIndex, this.equipmentInformation_0.traits = this.editTextTraits.edittext.value, this.equipmentInformation_0.databaseID = 1; try { 0 === this.editTextPrice.edittext.value.length ? this.equipmentInformation_0.price = 0 : this.equipmentInformation_0.price = E(this.editTextPrice.edittext.value) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse equipment price"); throw t } for (this.equipmentInformation_0.bulk = L(this.spinnerBulk.spinner.value, "Bulk ", ""), this.equipmentInformation_0.usage = this.editTextUsage.edittext.value, this.equipmentInformation_0.description = this.textAreaDescription.textArea.value, this.equipmentInformation_0.action0 = this.customActionLayout.getAction(), this.equipmentInformation_0.action0 > -2 ? this.equipmentInformation_0.action0desc = this.customActionLayout.getDescription() : this.equipmentInformation_0.action0desc = null, this.listCustomEffectLayouts_0.isEmpty() || (this.equipmentInformation_0.listCustomEffects = u()), t = this.listCustomEffectLayouts_0.iterator(); t.hasNext();) { var r = t.next().getCustomEffect(); null != r && o(this.equipmentInformation_0.listCustomEffects).add_11rb$(r) } this.dataControl.managerEquipment.refreshEquipmentInCharacterAndPets_1waocl$(!1, this.characterBuild, this.preexistingUUID, !1); var n = o(this.dataControl.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(8)), s = o(this.equipmentInformation_0.uniqueIdentiier), c = this.equipmentInformation_0; n.put_xwzc9p$(s, c); var p = this.dataControl.managerEquipment.hashMapAllEquipmentByName, h = o(this.equipmentInformation_0.uniqueIdentiier), _ = this.equipmentInformation_0; p.put_xwzc9p$(h, _); var f = JSON.stringify(this.equipmentInformation_0); if (this.mainActivity.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(f, "string" == typeof (i = this.equipmentInformation_0.uniqueIdentiier) ? i : d(), 0), null != this.equipmentInformation_0.listCustomEffects) for (a = o(this.equipmentInformation_0.listCustomEffects).iterator(); a.hasNext();) { var y = a.next(), m = this.dataControl.hashMapBuffIDsToNames, $ = y.getReference_sfkw43$(this.dataControl), g = this.equipmentInformation_0.name; m.put_xwzc9p$($, g) } this.dataControl.managerEquipment.refreshEquipmentInCharacterAndPets_1waocl$(!0, this.characterBuild, this.preexistingUUID, !1), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.finishedCreation.completed(), this.destroy() }, rat.$metadata$ = { kind: p, simpleName: "DialogCustomEquipment", interfaces: [wet] }; var nat = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function oat(t, i, a) { wet.call(this, t, i, a), this.divScrollable_0 = jlt().getDiv(), this.title.innerHTML = "Custom Feat Choices", this.setRestictedWidth40(); var r = jlt().getDiv(); r.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.appendChild(r), r.style.marginBottom = "1em"; var o = new Uet(!1); o.spinner.style.width = "10em", o.spinner.style.marginRight = "1em"; var s = [se().FEATS_GENERAL, se().FEATS_CLASS, se().FEATS_ANCESTRY]; o.setSpinnerList_kand9s$(s), r.appendChild(o.spinner); for (var l = e.newArray(20, null), c = 0; c <= 19; c++)l[c] = "Level " + (c + 1 | 0).toString(); var p = new Uet(!1); p.spinner.style.width = "10em", p.spinner.style.marginRight = "1em", p.setSpinnerList_a3w2ab$(l), r.appendChild(p.spinner); var h, d, u, _, f = Dlt("Add"); f.buttonDiv.style.width = "10em", f.buttonDiv.style.display = "inline-block", r.appendChild(f.buttonDiv), f.buttonDiv.addEventListener("click", (h = s, d = o, u = p, _ = this, function (t) { var e = h[d.spinner.selectedIndex], i = u.spinner.selectedIndex + 1 | 0; return _.addCustomBonusFeat_0(i, e), n })), this.divScrollable_0.classList.add("scrollable"), this.content.appendChild(this.divScrollable_0), this.setListCustomFeatChoices_0(), this.setSingleFinishedButton() } function sat(t) { return t.featChoice.level } function lat(t, e) { this.featRef = t, this.featChoice = e } function cat(t, e, i, a) { wet.call(this, t, e, i), this.finishedCreation = a, this.title.innerHTML = "Custom Equipment", this.setRestictedWidth(), this.hideAcceptButton(); var r = jlt().getDiv(); this.content.appendChild(r), r.classList.add(B9().CSS_ROUNDED_RECTANGLE); var o, s, l, c, p = Dlt("Create Custom Gear"); p.buttonDiv.addEventListener("click", (o = t, s = e, l = i, c = this, function (t) { return o.openDialog_ip94j4$(new rat(o, s, l, null, c.finishedCreation)), c.destroy(), n })), p.buttonDiv.style.marginBottom = "1em", r.appendChild(p.buttonDiv); var h = Dlt("Create Custom Scroll"); h.buttonDiv.addEventListener("click", function (t, e, i, a) { return function (r) { return t.openDialog_ip94j4$(new pat(t, e, i, null, a.finishedCreation)), a.destroy(), n } }(t, e, i, this)), h.buttonDiv.style.marginBottom = "1em", r.appendChild(h.buttonDiv) } function pat(t, e, i, a, r) { wet.call(this, t, e, i), this.preexistingUUID = a, this.finishedCreation = r, this.spinnerSpellLevel = new Uet(!1), this.spinnerSpellName = new Uet(!1), this.editTextName = new lit("Scroll Name", dit()), this.editTextTraits = new lit("Traits (comma separated)", dit()), this.editTextPrice = new lit("Price (in gp)", uit()), this.spinnerItemLevel = new Uet(!1), this.spinnerBulk = new Uet(!1), this.textAreaDescription = jlt().getDiv(), this.listItemLevels_0 = u(), this.listBulks_0 = u(), this.listSpellLevels_0 = u(), this.listAllSpells_0 = u(), this.equipmentInformation_0 = null, this.spellInformation_0 = null, this.spellLevel_0 = 1, this.divCustomEffects = jlt().getDiv(), this.setRestictedWidth(), this.title.innerHTML = "Custom Scroll", this.equipmentInformation_0 = th("Unnamed Scroll", 11), null != this.preexistingUUID ? e.managerEquipment.hashMapAllEquipmentByName.containsKey_11rb$(this.preexistingUUID) ? this.equipmentInformation_0 = ih(o(e.managerEquipment.hashMapAllEquipmentByName.get_11rb$(this.preexistingUUID))) : this.destroy() : (this.equipmentInformation_0.uniqueIdentiier = t.getGuiUpdateControl().getPlatformUUID(), this.equipmentInformation_0.bulk = "L", this.equipmentInformation_0.traits = "Consumable, Magical, Scroll"); for (var s = 0; s <= 9; s++) { var l = s + 1 | 0; this.listSpellLevels_0.add_11rb$("Spell Level " + l) } var c, p, h = jlt().getDiv(); h.classList.add(B9().CSS_ROUNDED_RECTANGLE), h.classList.add("custom-div"), this.content.appendChild(h), h.appendChild(this.spinnerSpellLevel.spinner), this.spinnerSpellLevel.spinner.style.marginBottom = "1em", this.spinnerSpellLevel.setSpinnerList_un5gdn$(this.listSpellLevels_0), h.appendChild(this.spinnerSpellName.spinner), this.spinnerSpellLevel.spinner.addEventListener("change", (c = this, p = h, function (t) { var e; return null != (e = c.spinnerSpellName.spinner.parentElement) && e.removeChild(c.spinnerSpellName.spinner), c.spellLevel_0 = c.spinnerSpellLevel.spinner.selectedIndex + 1 | 0, c.setListAllSpells_0(), c.spinnerSpellName = new Uet(!1), c.setSpinnerSpellNameListener_0(), p.appendChild(c.spinnerSpellName.spinner), c.updateLayout_0(), n })), this.setListAllSpells_0(); var d = this.listAllSpells_0.get_za3lpa$(0); this.spellInformation_0 = e.managerSpells.hashMapSpells.get_11rb$(d), this.setSpinnerSpellNameListener_0(); var _ = jlt().getDiv(); _.classList.add("scrollable"), this.content.appendChild(_), this.content.style.padding = "0.5em"; var f = jlt().getDiv(); f.classList.add("custom-div"), f.classList.add(B9().CSS_ROUNDED_RECTANGLE), f.style.marginBottom = "1em", _.appendChild(f), this.spinnerItemLevel.spinner.style.marginBottom = "1em", this.spinnerBulk.spinner.style.marginBottom = "1em", this.listItemLevels_0.add_11rb$("No item level"); for (var y = 1; y <= 20; y++)this.listItemLevels_0.add_11rb$("Item Level " + y); this.spinnerItemLevel.setSpinnerList_un5gdn$(this.listItemLevels_0), this.listBulks_0.add_11rb$("Bulk 0"), this.listBulks_0.add_11rb$("Bulk L"); for (var m = 1; m <= 10; m++)this.listBulks_0.add_11rb$("Bulk " + m); this.spinnerBulk.setSpinnerList_un5gdn$(this.listBulks_0), f.appendChild(this.editTextName.div), f.appendChild(this.spinnerItemLevel.spinner), f.appendChild(this.editTextTraits.div), f.appendChild(this.editTextPrice.div), f.appendChild(this.spinnerBulk.spinner), f.appendChild(this.textAreaDescription), _.appendChild(this.divCustomEffects), this.updateLayout_0() } function hat(t, e, i, a, r) { wet.call(this, t, e, i), this.preexistingUUID = a, this.finishedCreation = r, this.editTextName = new lit("Shield Name", dit()), this.spinnerItemLevel = new Uet(!1), this.editTextTraits = new lit("Traits (comma separated)", dit()), this.editTextPrice = new lit("Price (in gp)", uit()), this.spinnerBulk = new Uet(!1), this.editTextACBonus = new lit("AC Bonus", uit()), this.editTextHardness = new lit("Hardness", uit()), this.editTextShieldHP = new lit("Shield HP", uit()), this.editTextSpeedPenalty = new lit("Shield Speed Penalty", uit()), this.textAreaDescription = new sit("Description"), this.customActionLayout = new Zet, this.divCustomEffects = jlt().getDiv(), this.listItemLevels_0 = u(), this.listBulks_0 = u(), this.shieldInformation_0 = null, this.listCustomEffectLayouts_0 = u(), this.shieldInformation_0 = yu("Unnamed Shield"), this.shieldInformation_0.traits = "Custom", null != this.preexistingUUID ? e.managerEquipment.hashMapShields.containsKey_11rb$(this.preexistingUUID) ? this.shieldInformation_0 = mu(o(e.managerEquipment.hashMapShields.get_11rb$(this.preexistingUUID))) : this.destroy() : this.shieldInformation_0.uniqueIdentiier = t.getGuiUpdateControl().getPlatformUUID(), this.setRestictedWidth(), this.title.innerHTML = "Custom Shield"; var s, l = jlt().getDiv(); l.innerHTML = "Add Effect", l.addEventListener("click", (s = this, function (t) { return s.addEffect_0(null), n })), this.addButtonToBottom_lt8gi4$(l); var c = jlt().getDiv(); c.classList.add("scrollable"), this.content.appendChild(c), this.content.style.padding = "0.5em"; var p = jlt().getDiv(); p.classList.add("custom-div"), p.classList.add(B9().CSS_ROUNDED_RECTANGLE), p.style.marginBottom = "1em", c.appendChild(p), this.spinnerItemLevel.spinner.style.marginBottom = "1em", this.spinnerBulk.spinner.style.marginBottom = "1em", this.listItemLevels_0.add_11rb$("No item level"); for (var h = 1; h <= 20; h++)this.listItemLevels_0.add_11rb$("Item Level " + h); this.spinnerItemLevel.setSpinnerList_un5gdn$(this.listItemLevels_0), this.listBulks_0.add_11rb$("Bulk 0"), this.listBulks_0.add_11rb$("Bulk L"); for (var d = 1; d <= 10; d++)this.listBulks_0.add_11rb$("Bulk " + d); this.spinnerBulk.setSpinnerList_un5gdn$(this.listBulks_0), p.appendChild(this.editTextName.div), p.appendChild(this.spinnerItemLevel.spinner), p.appendChild(this.editTextTraits.div), p.appendChild(this.editTextPrice.div), p.appendChild(this.spinnerBulk.spinner), p.appendChild(this.editTextACBonus.div), p.appendChild(this.editTextHardness.div), p.appendChild(this.editTextShieldHP.div), p.appendChild(this.editTextSpeedPenalty.div), p.appendChild(this.textAreaDescription.div), c.appendChild(this.customActionLayout.div), c.appendChild(this.divCustomEffects), this.setExisting_0() } function dat(t, e, i) { wet.call(this, t, e, i), this.listBonus_0 = u(), this.title.innerHTML = "Custom Skill Increases", this.setRestictedWidth(); for (var a = 0; a <= 10; a++)this.listBonus_0.add_11rb$(a.toString() + " extra skill increases"); var r = jlt().getDiv(); r.classList.add("scrollable"), this.content.appendChild(r); for (var n = 1; n <= 20; n++)r.appendChild(this.getLayoutSkillIncrease_0(n)); this.setSingleFinishedButton() } function uat(t, e, i, a, r) { var s, l; wet.call(this, t, e, i), this.preexistingUUID = a, this.finishedCreation = r, this.editTextName = new lit("Weapon Name", dit()), this.spinnerItemLevel = new Uet(!1), this.spinnerProficiency = new Uet(!1), this.editTextTraits = new lit("Traits (comma separated)", dit()), this.editTextPrice = new lit("Price (in gp)", uit()), this.spinnerBulk = new Uet(!1), this.checkboxUncommon = new Met("Uncommon Weapon"), this.checkboxRanged = new Met("Ranged Weapon"), this.spinnerDamageDice = new Uet(!1), this.spinnerDamageType = new Uet(!1), this.spinnerWeaponGroup = new Uet(!1), this.spinnerHands = new Uet(!1), this.editTextRange = new lit("Range (leave blank for none)", dit()), this.editTextReload = new lit("Reload (leave blank for none)", dit()), this.textAreaDescription = new sit("Description"), this.customActionLayout = new Zet, this.divCustomEffects = jlt().getDiv(), this.listItemLevels_0 = u(), this.listBulks_0 = u(), this.weaponInformation_0 = null, this.listCustomEffectLayouts_0 = u(), this.listDice = u(), this.listDamageType = u(), this.listGroups = u(), this.listHands = u(), this.DAMAGE_TYPE = "Damage Type ", this.HANDS = "Hands ", this.weaponInformation_0 = g1("Unnamed Weapon"), this.weaponInformation_0.weaponTraits = "Custom", null != this.preexistingUUID ? e.managerWeapons.hashMapWeapons.containsKey_11rb$(this.preexistingUUID) ? this.weaponInformation_0 = v1(o(e.managerWeapons.hashMapWeapons.get_11rb$(this.preexistingUUID))) : this.destroy() : this.weaponInformation_0.uniqueIdentiier = t.getGuiUpdateControl().getPlatformUUID(), this.setRestictedWidth(), this.title.innerHTML = "Custom Weapon"; var c, p = jlt().getDiv(); p.innerHTML = "Add Effect", p.addEventListener("click", (c = this, function (t) { return c.addEffect_0(null), n })), this.addButtonToBottom_lt8gi4$(p); var h = jlt().getDiv(); h.classList.add("scrollable"), this.content.appendChild(h), this.content.style.padding = "0.5em"; var d = jlt().getDiv(); d.classList.add("custom-div"), d.classList.add(B9().CSS_ROUNDED_RECTANGLE), d.style.marginBottom = "1em", h.appendChild(d), this.spinnerItemLevel.spinner.style.marginBottom = "1em", this.spinnerBulk.spinner.style.marginBottom = "1em", this.listItemLevels_0.add_11rb$("No item level"); for (var _ = 1; _ <= 20; _++)this.listItemLevels_0.add_11rb$("Item Level " + _); this.spinnerItemLevel.setSpinnerList_un5gdn$(this.listItemLevels_0), this.listBulks_0.add_11rb$("Bulk 0"), this.listBulks_0.add_11rb$("Bulk L"); for (var f = 1; f <= 10; f++)this.listBulks_0.add_11rb$("Bulk " + f); this.spinnerBulk.setSpinnerList_un5gdn$(this.listBulks_0); var y = u(); for (y.add_11rb$("Proficiency: Simple Weapons"), y.add_11rb$("Proficiency: Martial Weapons"), y.add_11rb$("Proficiency: Advanced Weapons"), y.add_11rb$("Proficiency: Unarmed Attacks"), this.spinnerProficiency.setSpinnerList_un5gdn$(y), this.listDice.add_11rb$("Damage Dice: d3"), this.listDice.add_11rb$("Damage Dice: d4"), this.listDice.add_11rb$("Damage Dice: d6"), this.listDice.add_11rb$("Damage Dice: d8"), this.listDice.add_11rb$("Damage Dice: d10"), this.listDice.add_11rb$("Damage Dice: d12"), this.spinnerDamageDice.setSpinnerList_un5gdn$(this.listDice), this.listDamageType.add_11rb$("Damage Type B"), this.listDamageType.add_11rb$("Damage Type P"), this.listDamageType.add_11rb$("Damage Type S"), this.listDamageType.add_11rb$("Damage Type F"), this.spinnerDamageType.setSpinnerList_un5gdn$(this.listDamageType), s = e.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS).values.iterator(); s.hasNext();)null != (l = s.next().name) && this.listGroups.add_11rb$(l); this.spinnerWeaponGroup.setSpinnerList_un5gdn$(this.listGroups), this.listHands.add_11rb$("Hands 1"), this.listHands.add_11rb$("Hands 1+"), this.listHands.add_11rb$("Hands 2"), this.spinnerHands.setSpinnerList_un5gdn$(this.listHands), this.checkboxUncommon.divWithLabel.addEventListener("click", function (t) { return function (e) { return t.checkboxUncommon.toggle(), n } }(this)), this.checkboxRanged.divWithLabel.addEventListener("click", function (t) { return function (e) { return t.checkboxRanged.toggle(), n } }(this)), this.spinnerProficiency.spinner.style.marginBottom = "1em", this.spinnerDamageDice.spinner.style.marginBottom = "1em", this.spinnerDamageType.spinner.style.marginBottom = "1em", this.spinnerHands.spinner.style.marginBottom = "1em", this.spinnerWeaponGroup.spinner.style.marginBottom = "1em", this.checkboxRanged.divWithLabel.style.marginBottom = "1em", this.checkboxUncommon.divWithLabel.style.marginBottom = "1em", d.appendChild(this.editTextName.div), d.appendChild(this.spinnerItemLevel.spinner), d.appendChild(this.spinnerProficiency.spinner), d.appendChild(this.editTextTraits.div), d.appendChild(this.editTextPrice.div), d.appendChild(this.spinnerBulk.spinner), d.appendChild(this.checkboxUncommon.divWithLabel), d.appendChild(this.checkboxRanged.divWithLabel), d.appendChild(this.spinnerDamageDice.spinner), d.appendChild(this.spinnerDamageType.spinner), d.appendChild(this.spinnerWeaponGroup.spinner), d.appendChild(this.spinnerHands.spinner), d.appendChild(this.editTextRange.div), d.appendChild(this.editTextReload.div), d.appendChild(this.textAreaDescription.div), h.appendChild(this.customActionLayout.div), h.appendChild(this.divCustomEffects), this.setExisting_0() } oat.prototype.setListCustomFeatChoices_0 = function () { var t, e; this.divScrollable_0.innerHTML = ""; var i = u(); for (t = this.getCharacterData().hashMapCustomFeatChoices.keys.iterator(); t.hasNext();) { var a = t.next(), r = this.getCharacterData().hashMapCustomFeatChoices.get_11rb$(a); if (null != r) { var n = this.characterBuild.getFeatChoice_19mbxw$(r.level, a); null != n && i.add_11rb$(new lat(a, n)) } } for (i.size > 1 && q(i, new G(nat(sat))), e = i.iterator(); e.hasNext();) { var o = e.next(); this.addLayoutToParent_0(o.featRef, o.featChoice) } }, oat.prototype.addCustomBonusFeat_0 = function (t, e) { var i = this.mainActivity.getGuiUpdateControl().getPlatformUUID(), a = Uu(e, t), r = Pu(a); r.custom = !0, m(e, se().FEATS_CLASS) && (r.combinedClass = !0), this.getCharacterData().hashMapCustomFeatChoices.put_xwzc9p$(i, a), o(this.characterBuild.hashMapFeatChoices[t - 1 | 0]).put_xwzc9p$(i, r), this.addLayoutToParent_0(i, r), this.mainActivity.getGuiUpdateControl().onFeatChanged_hxv71$(this.characterBuild, t, !0) }, oat.prototype.addLayoutToParent_0 = function (t, e) { var i = jlt().getDiv(); i.classList.add(B9().CSS_ROUNDED_RECTANGLE), i.style.marginBottom = "0.5em", this.divScrollable_0.appendChild(i), i.style.alignItems = "middle"; var a, r, s, l, c = Dlt("Remove"); c.buttonDiv.style.marginRight = "1em", c.buttonDiv.style.display = "inline-block", i.appendChild(c.buttonDiv), c.buttonDiv.addEventListener("click", (a = this, r = i, s = e, l = t, function (t) { return a.divScrollable_0.removeChild(r), a.dataControl.managerFeats.deactivateFeat_8fzv80$(a.characterBuild, s.level, s, l), o(a.characterBuild.hashMapFeatChoices[s.level - 1 | 0]).remove_11rb$(l), a.getCharacterData().hashMapCustomFeatChoices.remove_11rb$(l), a.mainActivity.getGuiUpdateControl().onFeatChanged_hxv71$(a.characterBuild, s.level, !0), n })); var p = jlt().getDiv(); p.style.alignSelf = "middle", p.style.display = "inline-block", p.innerHTML = e.featType + " (Level " + j(e.level) + ")", i.appendChild(p) }, lat.$metadata$ = { kind: p, simpleName: "FeatChoiceWithRef", interfaces: [] }, oat.prototype.onAccept = function () { this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.mainActivity.getGuiUpdateControl().updateBuildFragment_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, oat.$metadata$ = { kind: p, simpleName: "DialogCustomFeatChoice", interfaces: [wet] }, cat.prototype.onAccept = function () { }, cat.$metadata$ = { kind: p, simpleName: "DialogCustomGearDisambiguator", interfaces: [wet] }, pat.prototype.setSpinnerSpellNameListener_0 = function () { var t; this.spinnerSpellName.setSpinnerList_un5gdn$(this.listAllSpells_0), this.spinnerSpellName.spinner.addEventListener("change", (t = this, function (e) { return t.spellInformation_0 = t.dataControl.managerSpells.hashMapSpells.get_11rb$(t.spinnerSpellName.spinner.value), null != t.spellInformation_0 && (t.equipmentInformation_0.name = "Scroll of " + o(t.spellInformation_0).name, t.updateLayout_0()), n })) }, pat.prototype.setListAllSpells_0 = function () { var t; for (this.listAllSpells_0.clear(), t = this.dataControl.managerSpells.hashMapSpells.values.iterator(); t.hasNext();) { var e = t.next(); e.level === this.spellLevel_0 && m(e.type, "Spell") && this.listAllSpells_0.add_11rb$(e.name) } Q(this.listAllSpells_0); var i = this.listAllSpells_0.get_za3lpa$(0); this.spellInformation_0 = this.dataControl.managerSpells.hashMapSpells.get_11rb$(i), this.equipmentInformation_0.name = "Scroll of " + i }, pat.prototype.updateLayout_0 = function () { this.editTextName.edittext.value = this.equipmentInformation_0.name, this.editTextTraits.edittext.value = this.getTraits_0(), this.editTextPrice.edittext.value = this.getScrollPrice_0().toString(), this.textAreaDescription.innerHTML = o(this.spellInformation_0).textOnlyDescriptionNoTraits, this.spinnerItemLevel.spinner.selectedIndex = this.getScrollItemLevel_0(), this.spinnerBulk.spinner.selectedIndex = this.listBulks_0.indexOf_11rb$("Bulk " + this.equipmentInformation_0.bulk) }, pat.prototype.getScrollPrice_0 = function () { switch (this.spellLevel_0) { case 1: return 4; case 2: return 12; case 3: return 30; case 4: return 70; case 5: return 150; case 6: return 300; case 7: return 600; case 8: return 1300; case 9: return 3e3; case 10: return 8e3 }return 0 }, pat.prototype.getScrollItemLevel_0 = function () { switch (this.spellLevel_0) { case 1: return 1; case 2: return 3; case 3: return 5; case 4: return 7; case 5: return 9; case 6: return 11; case 7: return 13; case 8: return 15; case 9: return 17; case 10: return 19 }return 0 }, pat.prototype.getTraits_0 = function () { return "Consumable, Magical, Scroll, " + o(this.spellInformation_0).traits }, pat.prototype.onAccept = function () { var t; this.equipmentInformation_0.name = this.editTextName.edittext.value, this.equipmentInformation_0.itemLevel = this.spinnerItemLevel.spinner.selectedIndex, this.equipmentInformation_0.traits = this.editTextTraits.edittext.value, this.equipmentInformation_0.databaseID = 1; try { 0 === this.editTextPrice.edittext.value.length ? this.equipmentInformation_0.price = 0 : this.equipmentInformation_0.price = E(this.editTextPrice.edittext.value) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse equipment price"); throw t } this.equipmentInformation_0.bulk = L(this.spinnerBulk.spinner.value, "Bulk ", ""), this.equipmentInformation_0.description = o(this.spellInformation_0).textOnlyDescriptionNoTraits, this.dataControl.managerEquipment.refreshEquipmentInCharacterAndPets_1waocl$(!1, this.characterBuild, this.preexistingUUID, !1); var i = o(this.dataControl.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(11)), a = o(this.equipmentInformation_0.uniqueIdentiier), r = this.equipmentInformation_0; i.put_xwzc9p$(a, r); var n = this.dataControl.managerEquipment.hashMapAllEquipmentByName, s = o(this.equipmentInformation_0.uniqueIdentiier), c = this.equipmentInformation_0; n.put_xwzc9p$(s, c); var p = JSON.stringify(this.equipmentInformation_0); this.mainActivity.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(p, "string" == typeof (t = this.equipmentInformation_0.uniqueIdentiier) ? t : d(), 5), this.dataControl.managerEquipment.refreshEquipmentInCharacterAndPets_1waocl$(!0, this.characterBuild, this.preexistingUUID, !1), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.finishedCreation.completed(), this.destroy() }, pat.$metadata$ = { kind: p, simpleName: "DialogCustomScroll", interfaces: [wet] }, hat.prototype.addEffect_0 = function (t) { var e, i, a = new Qet(this.dataControl, this.characterBuild, 0, t); this.divCustomEffects.appendChild(a.div), a.buttonDelete.buttonDiv.addEventListener("click", (e = this, i = a, function (t) { return e.listCustomEffectLayouts_0.remove_11rb$(i), e.divCustomEffects.removeChild(i.div), n })), this.listCustomEffectLayouts_0.add_11rb$(a) }, hat.prototype.setExisting_0 = function () { var t; if (this.editTextName.edittext.value = this.shieldInformation_0.name, this.spinnerItemLevel.spinner.selectedIndex = this.shieldInformation_0.itemLevel, this.editTextTraits.edittext.value = this.shieldInformation_0.traits, this.editTextPrice.edittext.value = this.shieldInformation_0.price.toString(), this.spinnerBulk.spinner.selectedIndex = this.listBulks_0.indexOf_11rb$("Bulk " + this.shieldInformation_0.bulk), this.editTextACBonus.edittext.value = this.shieldInformation_0.ac, this.editTextHardness.edittext.value = this.shieldInformation_0.hardness.toString(), this.editTextShieldHP.edittext.value = this.shieldInformation_0.hp.toString(), this.editTextSpeedPenalty.edittext.value = this.shieldInformation_0.speed.toString(), this.textAreaDescription.textArea.value = this.shieldInformation_0.description, this.customActionLayout.setExisting_vqvrqt$(this.shieldInformation_0.action0, this.shieldInformation_0.action0desc), null != this.shieldInformation_0.listCustomEffects) for (t = o(this.shieldInformation_0.listCustomEffects).iterator(); t.hasNext();) { var e = t.next(); this.addEffect_0(e) } }, hat.prototype.onAccept = function () { var t, i, a; this.shieldInformation_0.name = this.editTextName.edittext.value, this.shieldInformation_0.itemLevel = this.spinnerItemLevel.spinner.selectedIndex, this.shieldInformation_0.traits = this.editTextTraits.edittext.value, this.shieldInformation_0.databaseID = 1; try { 0 === this.editTextPrice.edittext.value.length ? this.shieldInformation_0.price = 0 : this.shieldInformation_0.price = E(this.editTextPrice.edittext.value) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse shield price"); throw t } this.shieldInformation_0.bulk = L(this.spinnerBulk.spinner.value, "Bulk ", ""); try { var r = this.editTextACBonus.edittext.value; 0 === r.length ? this.shieldInformation_0.ac = "0" : this.shieldInformation_0.ac = r } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse shield AC"); throw t } try { var n = this.editTextHardness.edittext.value; 0 === n.length ? this.shieldInformation_0.hardness = 0 : this.shieldInformation_0.hardness = V(n) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse hardness"); throw t } try { var s = this.editTextShieldHP.edittext.value; 0 === s.length ? this.shieldInformation_0.hp = 0 : this.shieldInformation_0.hp = V(s) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse shield HP"); throw t } try { var c = this.editTextSpeedPenalty.edittext.value; 0 === c.length ? this.shieldInformation_0.speed = 0 : this.shieldInformation_0.speed = V(c) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse speed penalty"); throw t } for (this.shieldInformation_0.description = this.textAreaDescription.textArea.value, this.shieldInformation_0.action0 = this.customActionLayout.getAction(), this.shieldInformation_0.action0 > -2 ? this.shieldInformation_0.action0desc = this.customActionLayout.getDescription() : this.shieldInformation_0.action0desc = null, this.listCustomEffectLayouts_0.isEmpty() || (this.shieldInformation_0.listCustomEffects = u()), t = this.listCustomEffectLayouts_0.iterator(); t.hasNext();) { var p = t.next().getCustomEffect(); null != p && o(this.shieldInformation_0.listCustomEffects).add_11rb$(p) } this.dataControl.managerEquipment.activateShieldEffects_ejs4i3$(!1, this.characterBuild); var h = this.dataControl.managerEquipment.hashMapShields, _ = o(this.shieldInformation_0.uniqueIdentiier), f = this.shieldInformation_0; if (h.put_xwzc9p$(_, f), null != this.shieldInformation_0.listCustomEffects) for (i = o(this.shieldInformation_0.listCustomEffects).iterator(); i.hasNext();) { var y = i.next(), m = this.dataControl.hashMapBuffIDsToNames, $ = y.getReference_sfkw43$(this.dataControl), g = this.shieldInformation_0.name; m.put_xwzc9p$($, g) } var v = JSON.stringify(this.shieldInformation_0); this.mainActivity.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(v, "string" == typeof (a = this.shieldInformation_0.uniqueIdentiier) ? a : d(), 4), this.dataControl.managerEquipment.activateShieldEffects_ejs4i3$(!0, this.characterBuild), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.finishedCreation.completed(), this.destroy() }, hat.$metadata$ = { kind: p, simpleName: "DialogCustomShield", interfaces: [wet] }, dat.prototype.getLayoutSkillIncrease_0 = function (t) { var e = jlt().getDiv(); e.classList.add(B9().CSS_ROUNDED_RECTANGLE), e.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), e.style.display = "inline-block", e.style.alignItems = "middle"; var i = jlt().getDiv(); i.innerHTML = "Level " + t, e.appendChild(i), i.style.display = "inline-block", i.style.marginRight = "1em", i.style.width = "8em"; var a, r, s, l = new Uet(!1); return l.spinner.style.display = "inline-block", l.setSpinnerList_un5gdn$(this.listBonus_0), e.appendChild(l.spinner), this.getCharacterData().hashMapCustomSkillIncreases.containsKey_11rb$(t) && (l.spinner.selectedIndex = o(this.getCharacterData().hashMapCustomSkillIncreases.get_11rb$(t))), l.spinner.addEventListener("change", (a = l, r = this, s = t, function (t) { var e = r.getCharacterData().hashMapCustomSkillIncreases, i = s, o = a.spinner.selectedIndex; return e.put_xwzc9p$(i, o), n })), e }, dat.prototype.onAccept = function () { this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.mainActivity.getGuiUpdateControl().updateBuildFragment_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, dat.$metadata$ = { kind: p, simpleName: "DialogCustomSkillIncrease", interfaces: [wet] }, uat.prototype.addEffect_0 = function (t) { var e, i, a = new Qet(this.dataControl, this.characterBuild, 0, t); this.divCustomEffects.appendChild(a.div), a.buttonDelete.buttonDiv.addEventListener("click", (e = this, i = a, function (t) { return e.listCustomEffectLayouts_0.remove_11rb$(i), e.divCustomEffects.removeChild(i.div), n })), this.listCustomEffectLayouts_0.add_11rb$(a) }, uat.prototype.setExisting_0 = function () { var t; this.editTextName.edittext.value = this.weaponInformation_0.name, this.spinnerItemLevel.spinner.selectedIndex = this.weaponInformation_0.itemLevel, this.spinnerProficiency.spinner.selectedIndex = this.weaponInformation_0.proficiencyType, this.editTextTraits.edittext.value = this.weaponInformation_0.weaponTraits, this.editTextPrice.edittext.value = this.weaponInformation_0.price.toString(), this.spinnerBulk.spinner.selectedIndex = this.listBulks_0.indexOf_11rb$("Bulk " + this.weaponInformation_0.bulk), this.checkboxUncommon.setChecked_6taknv$(this.weaponInformation_0.uncommon), this.checkboxRanged.setChecked_6taknv$(1 === this.weaponInformation_0.rangedType); var i = 0; try { i = Kt(this.listDice, se().DAMAGE_DICE_NAMES.get_11rb$(this.weaponInformation_0.damage)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } this.spinnerDamageDice.spinner.selectedIndex = i, i = 0; try { -1 === (i = this.listDamageType.indexOf_11rb$(this.DAMAGE_TYPE + this.weaponInformation_0.damageType)) && (i = 1) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } this.spinnerDamageType.spinner.selectedIndex = i, i = 0; try { -1 === (i = this.listGroups.indexOf_11rb$(this.weaponInformation_0.group)) && (i = 1) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } this.spinnerWeaponGroup.spinner.selectedIndex = i, i = 0; try { -1 === (i = this.listHands.indexOf_11rb$(this.HANDS + this.weaponInformation_0.hands)) && (i = 1) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } if (this.spinnerHands.spinner.selectedIndex = i, this.editTextRange.edittext.value = this.weaponInformation_0.range, this.editTextReload.edittext.value = this.weaponInformation_0.reload, this.textAreaDescription.textArea.value = this.weaponInformation_0.description, this.customActionLayout.setExisting_vqvrqt$(this.weaponInformation_0.action0, this.weaponInformation_0.action0desc), null != this.weaponInformation_0.listCustomEffects) for (t = o(this.weaponInformation_0.listCustomEffects).iterator(); t.hasNext();) { var a = t.next(); this.addEffect_0(a) } }, uat.prototype.onAccept = function () { var t, i, a, r; this.weaponInformation_0.name = this.editTextName.edittext.value, this.weaponInformation_0.itemLevel = this.spinnerItemLevel.spinner.selectedIndex, this.weaponInformation_0.proficiencyType = this.spinnerProficiency.spinner.selectedIndex, this.weaponInformation_0.weaponTraits = this.editTextTraits.edittext.value, this.weaponInformation_0.databaseID = 1; try { 0 === this.editTextPrice.edittext.value.length ? this.weaponInformation_0.price = 0 : this.weaponInformation_0.price = E(this.editTextPrice.edittext.value) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to parse equipment price"); throw t } this.weaponInformation_0.bulk = L(this.spinnerBulk.spinner.value, "Bulk ", ""), this.weaponInformation_0.uncommon = this.checkboxUncommon.isChecked(), this.checkboxRanged.isChecked() ? this.weaponInformation_0.rangedType = 1 : this.weaponInformation_0.rangedType = 0; var n = this.spinnerDamageDice.spinner.value; for (t = se().DAMAGE_DICE_NAMES.keys.iterator(); t.hasNext();) { var s = t.next(), c = se().DAMAGE_DICE_NAMES.get_11rb$(s); if (m(n, c)) { this.weaponInformation_0.damage = s; break } } for (this.weaponInformation_0.damageType = L(this.spinnerDamageType.spinner.value, this.DAMAGE_TYPE, ""), this.weaponInformation_0.group = this.spinnerWeaponGroup.spinner.value, this.weaponInformation_0.hands = L(this.spinnerHands.spinner.value, this.HANDS, ""), this.weaponInformation_0.range = this.editTextRange.edittext.value, this.weaponInformation_0.reload = this.editTextReload.edittext.value, this.weaponInformation_0.description = this.textAreaDescription.textArea.value, this.weaponInformation_0.action0 = this.customActionLayout.getAction(), this.weaponInformation_0.action0 > -2 ? this.weaponInformation_0.action0desc = this.customActionLayout.getDescription() : this.weaponInformation_0.action0desc = null, this.listCustomEffectLayouts_0.isEmpty() || (this.weaponInformation_0.listCustomEffects = u()), i = this.listCustomEffectLayouts_0.iterator(); i.hasNext();) { var p = i.next().getCustomEffect(); null != p && o(this.weaponInformation_0.listCustomEffects).add_11rb$(p) } this.dataControl.managerWeapons.activateAllWeaponEffects_ryqv3o$(!1, this.characterBuild); var h = this.dataControl.managerWeapons.hashMapWeapons, _ = o(this.weaponInformation_0.uniqueIdentiier), f = this.weaponInformation_0; if (h.put_xwzc9p$(_, f), null != this.weaponInformation_0.listCustomEffects) for (a = o(this.weaponInformation_0.listCustomEffects).iterator(); a.hasNext();) { var y = a.next(), $ = this.dataControl.hashMapBuffIDsToNames, g = y.getReference_sfkw43$(this.dataControl), v = this.weaponInformation_0.name; $.put_xwzc9p$(g, v) } var S = JSON.stringify(this.weaponInformation_0); this.mainActivity.fileManager.fileManagementCustomFiles.saveCustomFile_rjan26$(S, "string" == typeof (r = this.weaponInformation_0.uniqueIdentiier) ? r : d(), 3), this.dataControl.managerWeapons.activateAllWeaponEffects_ryqv3o$(!0, this.characterBuild), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.finishedCreation.completed(), this.destroy() }, uat.$metadata$ = { kind: p, simpleName: "DialogCustomWeapon", interfaces: [wet] }; var _at = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function fat(t, e, i, a, r) { if (bat(), Iet.call(this, t, e, i), this.isFormula_0 = a, this.preferredCategory = r, this.currentSelection_0 = null, this.listSelectedItems = u(), this.listItems = u(), this.currentOrderType_0 = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, 0), this.category_0 = 0, this.searchType_0 = 0, this.searchField_0 = "", this.addCheckboxes_0 = !0, this.finishedCreation = new Iat(this), this.title.innerHTML = "Select Equipment", this.root.onKeyUp = null, this.root.onKeyDown = null, this.root.onEnterAction = null, !this.isFormula_0) { this.hideAcceptButton(); var o = jlt().getDiv(); o.innerHTML = "Give", o.classList.add("modal-button"), o.addEventListener("click", (l = this, function (t) { return l.kitCheck_0(!1), n })), this.addButtonToBottom_906ova$(o, 0); var s = jlt().getDiv(); s.innerHTML = "Buy", s.classList.add("modal-button"), s.addEventListener("click", function (t) { return function (e) { return t.kitCheck_0(!0), n } }(this)), this.addButtonToBottom_906ova$(s, 0) } var l, c = jlt().getDiv(); c.innerHTML = "Custom", c.addEventListener("click", function (t) { return function (e) { return t.fullAppEnabledCheck_0(), n } }(this)), this.addButtonToBottom_lt8gi4$(c), e.isFullAppEnabled() || c.classList.add("modal-button-disabled"), this.setSpinnerCategory_0(), this.setSpinnerOrder_0(), this.setSearchControls_0(), this.setListView_0() } function yat(t) { return t.name } function mat(t) { return t.itemLevel } function $at(t) { return t.name } function gat(t, e) { return function (i) { return t.listSelectedItems.remove_11rb$(e), t.selectedElement = null, t.currentSelection_0 = null, t.setInfoPanel_0(), t.setListView_0(), n } } function vat(t, e) { this.closure$equipmentInformation = t, this.this$DialogEquipment = e } function Sat(t, e) { this.closure$buyAction = t, this.this$DialogEquipment = e } function Cat(t, e) { this.this$DialogEquipment = t, this.closure$totalPrice = e } function Eat() { Aat = this, this.SEARCH_TYPE_NAMES = 0, this.SEARCH_TYPE_TRAITS = 1, this.SEARCH_TYPE_OTHER = 2 } fat.prototype.onAccept = function () { var t, e; for (t = this.listSelectedItems.iterator(); t.hasNext();) { var i = t.next(), a = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(i); if (null != a) { var r = !1; for (e = this.getCharacterData().listPlayerFormula.iterator(); e.hasNext();) { var n = e.next(); m(n.name, i) && (r = !0) } if (!r) { var s = new Vd(o(a.uniqueIdentiier)); this.getCharacterData().listPlayerFormula.add_11rb$(s) } } } this.mainActivity.getNavigationControl().tabbedAreaGear.updateFormula(), this.mainActivity.autoSave(), this.destroy() }, fat.prototype.fullAppEnabledCheck_0 = function () { this.dataControl.isFullAppEnabled() ? this.mainActivity.openDialog_ip94j4$(new cat(this.mainActivity, this.dataControl, this.characterBuild, this.finishedCreation)) : this.mainActivity.setUpgradeMessage_61zpoe$("create custom equipment") }, fat.prototype.setSpinnerCategory_0 = function () { var t, e = new Uet(!0); e.setSpinnerList_kand9s$(kc().ARRAY_EQUIPMENT_CATEGORIES); var i = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_LAST_GEAR_SECTION, 0); e.setSpinnerSelection_s8ev37$(i); var a, r, o = kc().ARRAY_EQUIPMENT_CATEGORIES[i]; this.category_0 = null != (t = this.dataControl.managerEquipment.hashMapEquipmentCategoryNames.get_11rb$(o)) ? t : 0, null != this.preferredCategory && (this.category_0 = ot(kc().ARRAY_EQUIPMENT_CATEGORIES, this.preferredCategory)), e.spinner.addEventListener("change", (a = e, r = this, function (t) { var e, i = kc().ARRAY_EQUIPMENT_CATEGORIES[a.spinner.selectedIndex]; return r.category_0 = null != (e = r.dataControl.managerEquipment.hashMapEquipmentCategoryNames.get_11rb$(i)) ? e : 0, B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_LAST_GEAR_SECTION, a.spinner.selectedIndex), r.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(e.spinner) }, fat.prototype.setSearchControls_0 = function () { var t, e, i, a = jlt().getTextInput(), r = new Uet(!0); a.classList.add("modal-widget"), a.placeholder = "search", a.addEventListener("input", (t = a, e = r, i = this, function (a) { return i.searchContent_0(t.value, e.spinner.selectedIndex), n })), this.addWidgetToTop_lt8gi4$(a), r.setSpinnerList_kand9s$(["Names", "Traits", "Other"]), r.spinner.addEventListener("change", function (t, e, i) { return function (a) { var r = t.spinner.selectedIndex, o = e.value; return i.searchContent_0(o, r), n } }(r, a, this)), this.addWidgetToTop_lt8gi4$(r.spinner) }, fat.prototype.searchContent_0 = function (t, e) { m(this.searchField_0, t) && this.searchType_0 == this.searchType_0 || (this.searchField_0 = t.toLowerCase(), this.searchType_0 = e, this.setListView_0()) }, fat.prototype.setSpinnerOrder_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(["Alphabetically", "By Item Level"]), i.setSpinnerSelection_s8ev37$(this.currentOrderType_0), i.spinner.addEventListener("change", (t = this, e = i, function (i) { return t.currentOrderType_0 !== e.spinner.selectedIndex && (t.currentOrderType_0 = e.spinner.selectedIndex, B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, t.currentOrderType_0), t.setListView_0()), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, fat.prototype.setListView_0 = function () { var t, e; for (this.divScrollable.innerHTML = "", this.hashMapDivs.clear(), this.listItems.clear(), t = this.mainActivity.getDataControl().managerEquipment.getEquipmentByCategory_za3lpa$(this.category_0).values.iterator(); t.hasNext();) { var i = t.next(); Ic().isEnabled_kc4y8q$(this.getCharacterData(), i.src) && this.meetsSearch_0(i) && this.listItems.add_11rb$(i) } if (0 === this.currentOrderType_0) { var a = this.listItems; a.size > 1 && q(a, new G(_at(yat))) } else q(this.listItems, Wt([mat, $at])); for (e = this.listItems.iterator(); e.hasNext();) { var r = e.next(); this.divScrollable.appendChild(this.getListView_0(r, !1).div) } }, fat.prototype.meetsSearch_0 = function (t) { if (0 === this.searchField_0.length) return !0; switch (this.searchType_0) { case 0: return _(t.name.toLowerCase(), this.searchField_0); case 1: return _(t.traits.toLowerCase(), this.searchField_0); case 2: return _(t.getFullDescription().toLowerCase(), this.searchField_0) }return !1 }, fat.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, fat.prototype.onItemClicked_za3rmp$ = function (t) { var i, a, r, n; if (this.currentSelection_0 = e.isType(i = t, Wp) ? i : d(), this.addCheckboxes_0 && null != this.currentSelection_0) { var s = e.isType(a = this.getLayoutAction_za3rmp$(t), Vlt) ? a : d(); if (B(this.listSelectedItems, o(this.currentSelection_0).uniqueIdentiier)) { var l, c = this.listSelectedItems, p = o(this.currentSelection_0).uniqueIdentiier; (e.isType(l = c, ht) ? l : d()).remove_11rb$(p), this.setListView_0() } else this.listSelectedItems.add_11rb$("string" == typeof (r = o(this.currentSelection_0).uniqueIdentiier) ? r : d()), s.checkbox.setChecked_6taknv$(!0); this.setInfoPanel_0() } else this.listSelectedItems.clear(), this.listSelectedItems.add_11rb$("string" == typeof (n = o(this.currentSelection_0).uniqueIdentiier) ? n : d()) }, fat.prototype.setInfoPanel_0 = function () { var t, e, i, a; if (this.divInfo.innerHTML = "", !this.isFormula_0) { var r = jlt().getDiv(); r.innerHTML = "Total Cost: " + this.getTotalCostString_0(), this.divInfo.appendChild(r), r.style.marginBottom = "2em" } for (t = Xt(this.listSelectedItems).iterator(); t.hasNext();) { var n = t.next(), o = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(n); if (null != o) { var s = this.getListView_0(o, !0); s.title.classList.remove("listview-title-limited"), s.checkbox.div.addEventListener("click", gat(this, n)); var l = s.div.getElementsByClassName("listview-detail"); e = l.length; for (var c = 0; c < e; c++)null != (a = null != (i = l[c]) ? i.classList : null) && a.remove(B9().CSS_HIDDEN); this.divInfo.appendChild(s.div) } } }, fat.prototype.cloneToInfo_q80y7p$ = function (t) { this.addCheckboxes_0 || Iet.prototype.cloneToInfo_q80y7p$.call(this, t) }, fat.prototype.getListView_0 = function (t, e) { var i = new Vlt(e); return this.setDetails_0(i, t), htt().setHidden_njr4nn$(i.layoutDetail, !1), B(this.listSelectedItems, t.uniqueIdentiier) && i.checkbox.setChecked_6taknv$(!0), this.hashMapDivs.put_xwzc9p$(i, t), i }, vat.prototype.accept = function () { var t = this.closure$equipmentInformation.uniqueIdentiier; this.this$DialogEquipment.dataControl.managerEquipment.refreshEquipmentInCharacterAndPets_1waocl$(!1, this.this$DialogEquipment.characterBuild, this.closure$equipmentInformation.uniqueIdentiier, !0); var i, a = this.this$DialogEquipment.listSelectedItems; (e.isType(i = a, ht) ? i : d()).remove_11rb$(t); var r, n = o(this.this$DialogEquipment.dataControl.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(this.closure$equipmentInformation.category)); (e.isType(r = n, rt) ? r : d()).remove_11rb$(t); var s, l = this.this$DialogEquipment.dataControl.managerEquipment.hashMapAllEquipmentByName; (e.isType(s = l, rt) ? s : d()).remove_11rb$(t), this.this$DialogEquipment.mainActivity.fileManager.fileManagementCustomFiles.deleteCustomFile_61zpoe$(o(t)), this.this$DialogEquipment.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.this$DialogEquipment.characterBuild), this.this$DialogEquipment.mainActivity.autoSave(), this.this$DialogEquipment.setListView_0(), this.this$DialogEquipment.setInfoPanel_0() }, vat.$metadata$ = { kind: p, interfaces: [Vet] }, fat.prototype.setDetails_0 = function (t, e) { var i, a, r; if (t.setName_61zpoe$(e.name), t.setTraits_pdl1vj$(e.traits), t.title.classList.add("listview-title-limited"), htt().setItemLevelBox_c4iwwi$(t.itemLevel, e.itemLevel, e.traits), t.setDescription_61zpoe$(e.getItemFullDetails()), t.setCopyright_61zpoe$(null != (i = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(e.src)) ? i : ""), null != this.currentSelection_0 && m(this.currentSelection_0, e) && t.layoutDetail.classList.remove(B9().CSS_HIDDEN), e.databaseID > -1) { var o = Dlt("Delete"), s = jlt().getDiv(); if (s.style.display = "flex", o.buttonDiv.style.display = "inline-block", o.buttonDiv.style.flex = "1", s.appendChild(o.buttonDiv), t.layoutDetail.appendChild(s), 8 === e.category) { var l = Dlt("Edit"); l.buttonDiv.style.display = "inline-block", l.buttonDiv.style.flex = "1", s.appendChild(l.buttonDiv), l.buttonDiv.addEventListener("click", (a = this, r = e, function (t) { return a.mainActivity.openDialog_ip94j4$(new rat(a.mainActivity, a.dataControl, a.characterBuild, r.uniqueIdentiier, a.finishedCreation)), n })) } o.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return Xet(!0, "Really delete " + t.name + "?", new vat(t, e)).show(), n } }(e, this)) } }, Sat.prototype.accept = function () { this.closure$buyAction ? this.this$DialogEquipment.buy_0() : this.this$DialogEquipment.completeChanges_0() }, Sat.$metadata$ = { kind: p, interfaces: [Vet] }, fat.prototype.kitCheck_0 = function (t) { this.containsKit_0() ? Xet(!0, "Warning. This kit will add all of the equipment and weapons to your inventory and set your armor.  Continue?", new Sat(t, this)).show() : t ? this.buy_0() : this.completeChanges_0() }, fat.prototype.containsKit_0 = function () { var t; for (t = this.listSelectedItems.iterator(); t.hasNext();) { var e = t.next(); if (_(e, "Kit, ")) return !0 } return !1 }, fat.prototype.getTotalCostString_0 = function () { var t, e = 0; for (t = this.listSelectedItems.iterator(); t.hasNext();) { var i = t.next(), a = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(i); null != a && (e += a.price) } return e = C(S(e *= 100)) / 100, pe().getPriceStringSimplified_14dthe$(e) }, Cat.prototype.accept = function () { this.this$DialogEquipment.dataControl.managerEquipment.deductCost_5sfiqf$(this.this$DialogEquipment.characterBuild, this.closure$totalPrice.v), this.this$DialogEquipment.completeChanges_0() }, Cat.$metadata$ = { kind: p, interfaces: [Vet] }, fat.prototype.buy_0 = function () { var t; if (!this.listSelectedItems.isEmpty()) { var e = "", i = { v: 0 }; for (t = this.listSelectedItems.iterator(); t.hasNext();) { var a = t.next(), r = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(a); null != r && (e.length > 0 && (e += ", "), e += r.name, i.v += r.price) } i.v *= 100; var n = C(S(i.v)); i.v = n / 100, this.dataControl.managerEquipment.canAffordItem_5sfiqf$(this.characterBuild, i.v) ? Xet(!0, "Really buy " + e + " for " + pe().getPriceStringSimplified_14dthe$(i.v) + "? Warning: this will simplify your coins.", new Cat(this, i)).show() : this.mainActivity.showMessage_61zpoe$("You cannot afford this item") } }, fat.prototype.completeChanges_0 = function () { var t, e; for (t = this.listSelectedItems.iterator(); t.hasNext();) { var i = t.next(), a = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(i); if (null != a) { var r = !1; for (e = this.getCharacterData().listPlayerEquipment.iterator(); e.hasNext();) { var n = e.next(); m(n.name, a.name) && (null != a.amount ? n.quantity = n.quantity + o(a.amount) | 0 : n.quantity = n.quantity + 1 | 0, r = !0) } if (!r) { var s = new Vd(o(a.uniqueIdentiier)); null != a.amount && (s.quantity = o(a.amount)), this.getCharacterData().listPlayerEquipment.add_11rb$(s), this.dataControl.managerEquipment.applyEquipmentBonus_qumra2$(this.characterBuild, s) } } } this.characterBuild.updateReportAbilityScores_vvjzl1$(this.dataControl, this.characterBuild.getCharacterData().getCharacterLevel()), this.mainActivity.autoSave(), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.destroy() }, Eat.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Aat = null; function bat() { return null === Aat && new Eat, Aat } function Iat(t) { this.this$DialogEquipment = t } function wat(t, i, a, r) { wet.call(this, t, i, a), this.containerID_0 = r, this.editTextName_0 = jlt().getTextInput(), this.equipmentContainer_0 = null, this.checkboxBackpack_0 = new Let, this.checkboxBagHolding_0 = new Let, this.setRestictedWidth(), this.content.style.padding = "0.5em", this.title.innerHTML = "Container Options"; var s, l = jlt().getDiv(); if (l.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(l), null == this.containerID_0) this.equipmentContainer_0 = new Dc, this.containerID_0 = t.getGuiUpdateControl().getPlatformUUID(); else { var c, p = this.getCharacterData().getHashMapEquipmentContainers(), h = this.containerID_0; this.equipmentContainer_0 = (e.isType(c = p, y) ? c : d()).get_11rb$(h), null == this.equipmentContainer_0 && (this.equipmentContainer_0 = new Dc, this.getCharacterData().getHashMapEquipmentContainers().put_xwzc9p$(o(this.containerID_0), o(this.equipmentContainer_0))); var u = jlt().getDiv(); u.innerHTML = "Delete", u.classList.add("modal-button"), u.addEventListener("click", (s = this, function (t) { return s.deleteContainer_0(), s.destroy(), n })), this.addButtonToBottom_lt8gi4$(u) } l.appendChild(this.editTextName_0), this.editTextName_0.classList.add("edittext-dark"), this.editTextName_0.style.lineHeight = "1.5em", this.editTextName_0.style.width = "100%", this.editTextName_0.value = o(this.equipmentContainer_0).containerName; var _ = jlt().getDiv(); _.style.marginTop = "0.5em", _.appendChild(this.checkboxBagHolding_0.div), this.checkboxBagHolding_0.setChecked_6taknv$(o(this.equipmentContainer_0).bagOfHolding); var f = jlt().getSpan(); _.appendChild(f), f.style.marginLeft = "0.3em", f.innerHTML = "Bag of Holding?", l.appendChild(_), _.addEventListener("click", function (t) { return function (e) { return t.checkboxBagHolding_0.isChecked() ? t.checkboxBagHolding_0.setChecked_6taknv$(!1) : t.checkboxBagHolding_0.setChecked_6taknv$(!0), n } }(this)), (_ = jlt().getDiv()).style.marginTop = "0.5em", _.appendChild(this.checkboxBackpack_0.div), this.checkboxBackpack_0.setChecked_6taknv$(o(this.equipmentContainer_0).backpack), f = jlt().getSpan(), _.appendChild(f), f.style.marginLeft = "0.3em", f.innerHTML = "Backpack?", l.appendChild(_), _.addEventListener("click", function (t) { return function (e) { return t.checkboxBackpack_0.isChecked() ? t.checkboxBackpack_0.setChecked_6taknv$(!1) : t.checkboxBackpack_0.setChecked_6taknv$(!0), n } }(this)) } function Lat(t) { this.this$DialogEquipmentContainer = t } function Tat(t, e, i, a, r, n, o) { wet.call(this, t, e, i), this.title.innerHTML = "Information"; var s = new Ylt(!1); htt().setHidden_njr4nn$(s.layoutDetail, !0), this.content.appendChild(s.div), s.div.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), s.div.style.margin = "0.5em", s.div.classList.add("scrollable"), s.title.style.fontWeight = "bold", s.setName_61zpoe$(a), r > 0 ? s.setLevel_pdl1vj$(r.toString()) : s.setLevel_pdl1vj$(null), s.setTraits_pdl1vj$(n), s.setDescription_61zpoe$(o) } Iat.prototype.completed = function () { this.this$DialogEquipment.currentSelection_0 = null, this.this$DialogEquipment.setInfoPanel_0(), this.this$DialogEquipment.setListView_0() }, Iat.$metadata$ = { kind: p, interfaces: [yit] }, fat.$metadata$ = { kind: p, simpleName: "DialogEquipment", interfaces: [Iet] }, Lat.prototype.accept = function () { var t; for (t = this.this$DialogEquipmentContainer.getCharacterData().listPlayerEquipment.iterator(); t.hasNext();) { var i = t.next(); null != i.inContainerID && m(i.inContainerID, this.this$DialogEquipmentContainer.containerID_0) && (i.inContainerID = null) } var a, r = this.this$DialogEquipmentContainer.getCharacterData().getHashMapEquipmentContainers(), n = this.this$DialogEquipmentContainer.containerID_0; (e.isType(a = r, rt) ? a : d()).remove_11rb$(n), this.this$DialogEquipmentContainer.mainActivity.getNavigationControl().tabbedAreaGear.updateEquipment(), this.this$DialogEquipmentContainer.mainActivity.getNavigationControl().tabbedAreaGear.updateBulk(), this.this$DialogEquipmentContainer.mainActivity.autoSave() }, Lat.$metadata$ = { kind: p, interfaces: [Vet] }, wat.prototype.deleteContainer_0 = function () { var t, i = this.getCharacterData().getHashMapEquipmentContainers(), a = this.containerID_0; (e.isType(t = i, y) ? t : d()).containsKey_11rb$(a) && Xet(!0, "Really delete this equipment container?", new Lat(this)).show() }, wat.prototype.onAccept = function () { o(this.equipmentContainer_0).backpack = this.checkboxBackpack_0.isChecked(), o(this.equipmentContainer_0).bagOfHolding = this.checkboxBagHolding_0.isChecked(), o(this.equipmentContainer_0).containerName = this.editTextName_0.value, 0 === o(this.equipmentContainer_0).containerName.length && (o(this.equipmentContainer_0).containerName = Oc().UNNAMED_CONTAINER), this.getCharacterData().getHashMapEquipmentContainers().put_xwzc9p$(o(this.containerID_0), o(this.equipmentContainer_0)), this.mainActivity.getNavigationControl().tabbedAreaGear.updateEquipment(), this.mainActivity.getNavigationControl().tabbedAreaGear.updateBulk(), this.mainActivity.autoSave(), this.destroy() }, wat.$metadata$ = { kind: p, simpleName: "DialogEquipmentContainer", interfaces: [wet] }, Tat.prototype.onAccept = function () { this.destroy() }, Tat.$metadata$ = { kind: p, simpleName: "DialogEquipmentInformation", interfaces: [wet] }; var kat = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Rat(t, e, i, a, r, o, s, l, p) { var h; wet.call(this, t, e, i), this.playerEquipment_0 = a, this.spinner_0 = new Uet(!1), this.hashMapContainerIDs_0 = c(), this.listContainers_0 = u(), this.spinnerBulkOverride_0 = new Uet(!1), this.title.innerHTML = "Equipment Information"; var d = jlt().getDiv(); d.classList.add("scrollable"), d.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), d.style.margin = "0.5em", this.content.appendChild(d); var _, f, y = jlt().getDiv(); if (y.style.marginBottom = "1em", d.appendChild(y), this.spinner_0.spinner.style.display = "inline-block", this.spinner_0.spinner.style.maxWidth = "10em", y.appendChild(this.spinner_0.spinner), this.setContainerSpinner_0(), null != l) { var m = new Met("Invested"); m.divWithLabel.style.display = "inline-block", m.divWithLabel.style.marginLeft = "1em", y.appendChild(m.divWithLabel), m.setChecked_6taknv$(p), m.divWithLabel.addEventListener("click", (_ = m, f = l, function (t) { return _.toggle(), f.onInvestedToggle_6taknv$(_.isChecked()), n })) } var $ = u(); $.add_11rb$("No Bulk Override"), $.add_11rb$("L"); for (var g = 1; g <= 10; g++)$.add_11rb$(g.toString()); this.spinnerBulkOverride_0.spinner.style.marginLeft = "1em", this.spinnerBulkOverride_0.setSpinnerList_un5gdn$($), null != this.playerEquipment_0.bulkOverride && this.spinnerBulkOverride_0.setSpinnerSelection_s8ev37$(Kt($, this.playerEquipment_0.bulkOverride)), this.spinnerBulkOverride_0.spinner.classList.add("standard-spinner-width"), y.appendChild(this.spinnerBulkOverride_0.spinner); var v = new Ylt(!1); htt().setHidden_njr4nn$(v.layoutDetail, !0), d.appendChild(v.div), v.title.style.fontWeight = "bold", v.setName_61zpoe$(this.playerEquipment_0.getDisplayName_fhac18$(e, i)); var S = this.playerEquipment_0.getItemLevel_fhac18$(e, i); S > 0 ? (v.setLevel_pdl1vj$(S.toString()), v.itemLevel.classList.add("item-level-box")) : v.setLevel_pdl1vj$(null); var C = null != (h = this.playerEquipment_0.getTraits_fhac18$(e, i)) ? h : ""; v.setTraits_pdl1vj$(C), v.setDescription_61zpoe$(r); var E, A, b, I, w = jlt().getDiv(); if (d.appendChild(w), w.style.marginTop = "0.3em", w.style.display = "flex", w.style.alignItems = "center", d.appendChild(w), o) { var L = jlt().getDiv(); L.innerHTML = "Restore", L.classList.add("modal-button"), L.addEventListener("click", (E = this, A = e, b = i, I = t, function (t) { return Xet(!0, "Really restore this item to the armor or weapon tab?", new Mat(E, A, b, I)).show(), n })), this.addButtonToBottom_lt8gi4$(L); var T = this.playerEquipment_0.getRestoreSwapCurrent_fhac18$(e, i); if (null != T) { var k = jlt().getDiv(); k.innerHTML = "Swap", k.classList.add("modal-button"), k.addEventListener("click", function (t, e, i, a, r) { return function (o) { return Xet(!0, "Really swap this item with " + j(t) + " (currently equipped)?", new Nat(e, i, a, r)).show(), n } }(T, this, e, i, t)), this.addButtonToBottom_lt8gi4$(k) } } } function Pat(t) { return t.containerName } function Mat(t, e, i, a) { this.this$DialogEquipmentInformationNew = t, this.closure$dataControl = e, this.closure$characterBuild = i, this.closure$mainActivity = a } function Nat(t, e, i, a) { this.this$DialogEquipmentInformationNew = t, this.closure$dataControl = e, this.closure$characterBuild = i, this.closure$mainActivity = a } function Dat(t, e, i, a) { wet.call(this, t, e, i), this.jsonID = a, this.divScrollable = jlt().getDiv(), this.buildIDText = jlt().getH2(), this.title.innerHTML = "Export JSON", this.setSingleFinishedButton(), this.content.appendChild(this.divScrollable); var r = jlt().getP(); r.classList.add(B9().CSS_ROUNDED_RECTANGLE), r.innerHTML = "Instructions for Import into Foundry VTT<br>1) Make sure your GM has installed the Pathbuilder 2e Import module.<br>2) Open your foundry character sheet and click the import button (found right at the top of the sheet next to close).<br>3) Enter your Pathbuilder 2e JSON ID and click import.", this.divScrollable.appendChild(r); var o = jlt().getDiv(); o.classList.add(B9().CSS_ROUNDED_RECTANGLE); var s = jlt().getDiv(); s.innerHTML = "Pathbuilder 2e JSON ID", s.align = "center", o.appendChild(s), o.appendChild(this.buildIDText), this.buildIDText.style.textAlign = "center", this.buildIDText.innerHTML = this.jsonID.toString(), this.divScrollable.appendChild(o); var l, c, p = jlt().getDiv(); p.innerHTML = "View JSON", p.classList.add("modal-button"), p.addEventListener("click", (l = t, c = this, function (t) { return l.openBrowser_61zpoe$("http://pathbuilder2e.com/json.php?id=" + c.jsonID), n })), this.addButtonToBottom_lt8gi4$(p) } Rat.prototype.setContainerSpinner_0 = function () { var t, e, i; for (this.spinner_0.spinner.style.width = "100%", this.spinner_0.spinner.style.marginTop = "0.5em", t = this.getCharacterData().getHashMapEquipmentContainers().keys.iterator(); t.hasNext();) { var a = t.next(), r = this.getCharacterData().getHashMapEquipmentContainers().get_11rb$(a); null != r && (this.listContainers_0.add_11rb$(r), this.hashMapContainerIDs_0.put_xwzc9p$(r, a)) } var n = this.listContainers_0; n.size > 1 && q(n, new G(kat(Pat))); var o = new Dc; o.containerName = Oc().MAIN_INVENTORY, this.listContainers_0.add_wxm5ur$(0, o); var s = u(); for (e = this.listContainers_0.iterator(); e.hasNext();) { var l = e.next(); s.add_11rb$(l.containerName) } if (this.spinner_0.setSpinnerList_un5gdn$(s), null != this.playerEquipment_0.inContainerID) for (i = this.hashMapContainerIDs_0.keys.iterator(); i.hasNext();) { var c = i.next(), p = this.hashMapContainerIDs_0.get_11rb$(c); m(p, this.playerEquipment_0.inContainerID) && this.spinner_0.setSpinnerSelection_s8ev37$(this.listContainers_0.indexOf_11rb$(c)) } }, Rat.prototype.onAccept = function () { var t = this.spinner_0.spinner.selectedIndex, e = this.listContainers_0.get_za3lpa$(t); m(e.containerName, Oc().MAIN_INVENTORY) ? this.playerEquipment_0.inContainerID = null : this.playerEquipment_0.inContainerID = this.hashMapContainerIDs_0.get_11rb$(e), 0 === this.spinnerBulkOverride_0.spinner.selectedIndex ? this.playerEquipment_0.bulkOverride = null : this.playerEquipment_0.bulkOverride = this.spinnerBulkOverride_0.spinner.value, this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, Mat.prototype.accept = function () { this.this$DialogEquipmentInformationNew.playerEquipment_0.canRestore_fhac18$(this.closure$dataControl, this.closure$characterBuild) ? (this.this$DialogEquipmentInformationNew.playerEquipment_0.stowed = !1, this.this$DialogEquipmentInformationNew.playerEquipment_0.inContainerID = null, this.this$DialogEquipmentInformationNew.playerEquipment_0.restoreItem_fhac18$(this.closure$dataControl, this.closure$characterBuild), this.closure$mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.closure$characterBuild), this.closure$mainActivity.autoSave()) : this.closure$mainActivity.showMessage_61zpoe$(this.this$DialogEquipmentInformationNew.playerEquipment_0.getRestoreErrorMessage()), this.this$DialogEquipmentInformationNew.destroy() }, Mat.$metadata$ = { kind: p, interfaces: [Vet] }, Nat.prototype.accept = function () { this.this$DialogEquipmentInformationNew.playerEquipment_0.stowed = !1, this.this$DialogEquipmentInformationNew.playerEquipment_0.inContainerID = null, this.this$DialogEquipmentInformationNew.playerEquipment_0.restoreSwapItem_fhac18$(this.closure$dataControl, this.closure$characterBuild), this.closure$mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.closure$characterBuild), this.closure$mainActivity.autoSave(), this.this$DialogEquipmentInformationNew.destroy() }, Nat.$metadata$ = { kind: p, interfaces: [Vet] }, Rat.$metadata$ = { kind: p, simpleName: "DialogEquipmentInformationNew", interfaces: [wet] }, Dat.prototype.onAccept = function () { this.destroy() }, Dat.$metadata$ = { kind: p, simpleName: "DialogExportJson", interfaces: [wet] }; var xat = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function zat(t, e, i, a) { switch (Bat(), Iet.call(this, t, e, i), this.runeType_ynrsrd$_0 = a, this.hashMapRunes_xzf97i$_0 = c(), this.currentOrderType_15r10i$_0 = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, 0), this.currentSelection = null, this.listItems = u(), this.hideAcceptButton(), this.runeType_ynrsrd$_0) { case 0: this.addTypeToMap_m7aakp$_0(Bat().WEAPON_POTENCY_RUNES); break; case 1: this.addTypeToMap_m7aakp$_0(Bat().WEAPON_STRIKING_RUNES); break; case 2: this.addTypeToMap_m7aakp$_0(Bat().ARMOR_POTENCY_RUNES); break; case 3: this.addTypeToMap_m7aakp$_0(Bat().ARMOR_RESILIENT_RUNES) }var r, o = jlt().getDiv(); o.innerHTML = "Give", o.classList.add("modal-button"), o.addEventListener("click", (r = this, function (t) { return r.completeChanges(), n })), this.addButtonToBottom_906ova$(o, 0); var s = jlt().getDiv(); s.innerHTML = "Buy", s.classList.add("modal-button"), s.addEventListener("click", function (t) { return function (e) { return t.buy_9wkhnl$_0(), n } }(this)), this.addButtonToBottom_906ova$(s, 0), this.title.innerHTML = "Fundamental Runes"; var l = jlt().getDiv(); l.innerHTML = "Remove", l.classList.add("modal-button"), l.addEventListener("click", function (t) { return function (e) { return t.onClear(), n } }(this)), this.addButtonToBottom_906ova$(l, 0), this.setListView_9g7nxe$_0() } function Oat() { Fat = this, this.TYPE_WEAPON_POTENCY = 0, this.TYPE_WEAPON_STRIKING = 1, this.TYPE_ARMOR_POTENCY = 2, this.TYPE_ARMOR_RESILIENT = 3, this.WEAPON_POTENCY_RUNES = ["Weapon Potency +1", "Weapon Potency +2", "Weapon Potency +3"], this.WEAPON_STRIKING_RUNES = ["Weapon Striking", "Weapon Striking (Greater)", "Weapon Striking (Major)"], this.ARMOR_POTENCY_RUNES = ["Armor Potency +1", "Armor Potency +2", "Armor Potency +3"], this.ARMOR_RESILIENT_RUNES = ["Armor Resilient", "Armor Resilient (Greater)", "Armor Resilient (Major)"] } Oat.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Fat = null; function Bat() { return null === Fat && new Oat, Fat } function jat(t) { return t.name } function Hat(t) { return t.itemLevel } function qat(t, e) { this.this$DialogFundamentalRunes = t, this.closure$price = e } function Uat(t, e, i) { zat.call(this, t, e, i, 2) } function Gat(t, e, i) { zat.call(this, t, e, i, 3) } function Wat(t, e, i, a) { zat.call(this, t, e, i, 0), this.playerWeapon_0 = a } function Yat(t, e, i, a) { zat.call(this, t, e, i, 1), this.playerWeapon_0 = a } function Vat() { var t, e; this.root_0 = jlt().getDiv(), this.divTitle = jlt().getDiv(), this.topBar_0 = jlt().getDiv(), this.buttonBar_0 = jlt().getDiv(), this.holder_0 = jlt().getDiv(), this.content = jlt().getDiv(), this.buttonAccept_0 = jlt().getDiv(), this.root_0.classList.add("modal"), null != (t = document.body) && t.appendChild(this.root_0), this.holder_0.classList.add("modal-content"), this.holder_0.style.width = "800px", this.root_0.appendChild(this.holder_0), this.holder_0.appendChild(this.topBar_0), this.topBar_0.classList.add("dialog-top-bar"), this.topBar_0.appendChild(this.divTitle), this.divTitle.classList.add("dialog-title"), this.divTitle.innerHTML = "Help", this.holder_0.appendChild(this.content), this.buttonBar_0.classList.add("modal-buttons"), this.holder_0.appendChild(this.buttonBar_0), this.buttonAccept_0.innerHTML = "Accept", this.buttonAccept_0.classList.add("modal-button"), this.buttonAccept_0.addEventListener("click", (e = this, function (t) { return e.destroy(), n })), this.buttonBar_0.appendChild(this.buttonAccept_0); var i = jlt().getDiv(); i.classList.add("scrollable"), this.content.appendChild(i), this.content.style.padding = "0.5em"; var a = jlt().getDiv(); a.classList.add(B9().CSS_ROUNDED_RECTANGLE), a.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), i.appendChild(a); var r = jlt().getDiv(); r.classList.add("help-p"), r.innerHTML = "<b>Step 1</b><br>Plan out your character with planner on the left hand side.  You can plan out as far as you want or just to your current level.  <br><br>Planning helps you to qualify for all the character choices you will take later."; var o = jlt().getImg(); o.classList.add("help-img"), o.src = "img/help1.jpg", a.appendChild(r), a.appendChild(o); var s = jlt().getDiv(); s.style.marginTop = "1em", a.appendChild(s); var l = jlt().getDiv(); l.classList.add("help-p"), l.innerHTML = "You can find Dedication Feats in the drop down at the top of the class feat choice menu. Please note that some archetype feats have the Skill trait and can be found in the skill feat choice menu."; var c = jlt().getImg(); c.src = "img/help1a.jpg", c.classList.add("help-img"), s.appendChild(l), s.appendChild(c), (a = jlt().getDiv()).classList.add(B9().CSS_ROUNDED_RECTANGLE), a.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), i.appendChild(a); var p = jlt().getDiv(); p.classList.add("help-p"), p.innerHTML = "<b>Step 2</b><br>Set your current character level via the button at the top of the character sheet.  You can change your level up and down to see how your character will be at different levels in your plan."; var h = jlt().getImg(); h.src = "img/help2.jpg", h.classList.add("help-img"), a.appendChild(p), a.appendChild(h), (a = jlt().getDiv()).classList.add(B9().CSS_ROUNDED_RECTANGLE), a.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), i.appendChild(a); var d = jlt().getDiv(); d.classList.add("help-p"), d.innerHTML = "<b>Step 3</b><br>Add equipment, weapons and gear via the tabs on the character sheet. You can find options to export your character to a PDF printable character sheet or share a link to your character with other people via the menu at the top left.<br><br>You can view this help again via the menu!"; var u = jlt().getImg(); u.src = "img/help3.jpg", u.classList.add("help-img"), a.appendChild(d), a.appendChild(u) } function Kat(t, i, a) { wet.call(this, t, i, a), this.editTextHP_0 = jlt().getTextInput(), this.editTextTemp_0 = jlt().getTextInput(), this.currentAdjustment_0 = 0, this.maxHP_0 = i.managerClasses.getMaxHP_5btbp7$(a), this.setRestictedWidth(), this.title.innerHTML = "Set Hit Points"; var r = jlt().getDiv(); r.classList.add("grid-container"), r.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(r), this.content.style.padding = "0.5em"; var o = jlt().getDiv(); o.classList.add("grid-item"), r.appendChild(o); var c = jlt().getH3(); c.innerHTML = "Hit Points (Max " + this.maxHP_0 + ")", o.appendChild(c), o.appendChild(this.editTextHP_0); var p = jlt().getDiv(); p.classList.add("grid-item"), r.appendChild(p); var h = jlt().getH3(); h.innerHTML = "Temp Hit Points", p.appendChild(h), p.appendChild(this.editTextTemp_0); var d = jlt().getDiv(); d.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), d.classList.add(B9().CSS_SMALL_TEXT), d.classList.add(B9().CSS_GREY_TEXT), d.innerHTML = "You can set the new total directly or use the + or - symbols to adjust.", this.content.appendChild(d); var u, _ = this.maxHP_0 - a.getCharacterData().getDamageTaken() | 0; this.editTextHP_0.value = _.toString(), this.editTextTemp_0.value = a.getCharacterData().getTemporaryHP().toString(), this.editTextHP_0.classList.add("edittext-dark"), this.editTextTemp_0.classList.add("edittext-dark"), this.editTextHP_0.style.width = "4em", this.editTextTemp_0.style.width = "4em", this.editTextHP_0.addEventListener("click", (u = this, function (t) { return u.editTextHP_0.select(), n })), this.editTextTemp_0.addEventListener("click", function (t) { return function (e) { return t.editTextTemp_0.select(), n } }(this)); var f = jlt().getDiv(); f.innerHTML = "Restore HP", f.classList.add("modal-button"), f.addEventListener("click", function (t, e, i) { return function (a) { return t.getCharacterData().setDamageTaken_za3lpa$(0), e.getNavigationControl().sectionDefenses.updateHP(), e.autoSave(), i.destroy(), n } }(a, t, this)), this.addButtonToBottom_lt8gi4$(f), this.editTextHP_0.addEventListener("keyup", function (t) { return function (i) { try { "Enter" == i.key && (i.preventDefault(), t.onAccept()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this)), this.editTextTemp_0.addEventListener("keyup", function (t) { return function (i) { try { "Enter" == i.key && (i.preventDefault(), t.onAccept()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this)) } function Xat(t, e, i, a, r) { var o, s; switch (Iet.call(this, t, e, i), this.inventorModification_0 = a, this.playerItem = r, this.currentSelection_0 = null, this.listItems = u(), this.listEligibleSpecials_0 = u(), this.hashMapSpecials_0 = c(), this.title.innerHTML = "Select Inventor Modification", this.inventorModification_0.type) { case 0: this.hashMapSpecials_0 = e.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_INVENTOR_MODIFICATIONS_ARMOR); break; case 2: this.hashMapSpecials_0 = e.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_INVENTOR_MODIFICATIONS_CONSTRUCT); break; case 1: this.hashMapSpecials_0 = e.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_INVENTOR_MODIFICATIONS_WEAPON) }var l = u(); for (o = this.hashMapSpecials_0.keys.iterator(); o.hasNext();) { var p = o.next(), h = this.hashMapSpecials_0.get_11rb$(p); null != h && Ic().isEnabled_kc4y8q$(t.characterBuild.getCharacterData(), h.src) && this.inventorModification_0.level >= h.level && l.add_11rb$(p) } if (2 === this.inventorModification_0.type) { var d = t.characterBuild.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_CONSTRUCT); null != d && (this.listEligibleSpecials_0 = t.getDataControl().managerEquipment.getListAllowInventorConstruct_f23gbp$(t.characterBuild, this.inventorModification_0.type, d, l, this.inventorModification_0)) } else null != this.playerItem && (this.listEligibleSpecials_0 = e.managerEquipment.getListAllowInventorMods_qmgi3v$(i, this.inventorModification_0.type, this.playerItem, l)); var _, f = u(); for (s = l.iterator(); s.hasNext();) { var y = s.next(); this.listEligibleSpecials_0.contains_11rb$(y) || f.add_11rb$(y) } if (Q(this.listEligibleSpecials_0), Q(f), this.listItems.addAll_brywnq$(this.listEligibleSpecials_0), this.listItems.addAll_brywnq$(f), 2 === this.inventorModification_0.type) { var m = t.characterBuild.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_CONSTRUCT); null != m && (this.currentSelection_0 = m.getPetData().getSpecialSelection_puj7f4$(this.inventorModification_0.ref, "No ref")) } else null != this.playerItem && (this.currentSelection_0 = this.playerItem.getInvModSelection_61zpoe$(this.inventorModification_0.ref)); this.setListView_0(), this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0), this.divScrollable.addEventListener("dblclick", (_ = this, function (t) { return _.onAccept(), n })) } zat.prototype.onAccept = function () { this.destroy() }, zat.prototype.addTypeToMap_m7aakp$_0 = function (t) { var e, i, a = null != (e = this.mainActivity.getDataControl().managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(104)) ? e : c(); for (i = 0; i !== t.length; ++i) { var r = t[i], n = this.hashMapRunes_xzf97i$_0, s = o(a.get_11rb$(r)); n.put_xwzc9p$(r, s) } }, zat.prototype.openPRD = function () { null != this.currentSelection && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection).url) }, zat.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection = e.isType(i = t, Wp) ? i : d() }, zat.prototype.setListView_9g7nxe$_0 = function () { var t, e; for (this.listItems.clear(), this.divScrollable.innerHTML = "", t = this.hashMapRunes_xzf97i$_0.values.iterator(); t.hasNext();) { var i = t.next(); Ic().isEnabled_kc4y8q$(this.getCharacterData(), i.src) && this.listItems.add_11rb$(i) } if (0 === this.currentOrderType_15r10i$_0) { var a = this.listItems; a.size > 1 && q(a, new G(xat(jat))) } else { var r = this.listItems; r.size > 1 && q(r, new G(xat(Hat))) } for (e = this.listItems.iterator(); e.hasNext();) { var n = e.next(); this.divScrollable.appendChild(this.getRuneListView_o2jqi7$_0(n)) } }, zat.prototype.getRuneListView_o2jqi7$_0 = function (t) { var e, i = new Ylt(!1); return i.setName_61zpoe$(t.name), i.setTraits_pdl1vj$(t.traits), htt().setItemLevelBox_c4iwwi$(i.itemLevel, t.itemLevel, t.traits), i.setDescription_61zpoe$(t.getItemFullDetails()), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, qat.prototype.accept = function () { this.this$DialogFundamentalRunes.dataControl.managerEquipment.deductCost_5sfiqf$(this.this$DialogFundamentalRunes.characterBuild, this.closure$price), this.this$DialogFundamentalRunes.completeChanges() }, qat.$metadata$ = { kind: p, interfaces: [Vet] }, zat.prototype.buy_9wkhnl$_0 = function () { if (null != this.currentSelection) { var t = this.getPrice_whuh8d$(o(this.currentSelection)); this.dataControl.managerEquipment.canAffordItem_5sfiqf$(this.characterBuild, t) ? Xet(!0, "Really buy " + o(this.currentSelection).name + " for " + pe().getPriceString_14dthe$(t) + "? Warning: this will simplify your coins. The price of your existing fundamental rune has automatically been subtracted from the cost of this item.", new qat(this, t)).show() : this.mainActivity.showMessage_61zpoe$("You cannot afford this item") } }, zat.$metadata$ = { kind: p, simpleName: "DialogFundamentalRunes", interfaces: [Iet] }, Uat.prototype.completeChanges = function () { var t, e = this.characterBuild.getCharacterData().getPlayerArmor(); if (null != this.currentSelection) { t = Bat().ARMOR_POTENCY_RUNES.length; for (var i = 0; i < t; i++)m(o(this.currentSelection).name, Bat().ARMOR_POTENCY_RUNES[i]) && e.setPotency_za3lpa$(i + 1 | 0) } this.update_0() }, Uat.prototype.getPrice_whuh8d$ = function (t) { switch (this.characterBuild.getCharacterData().getPlayerArmor().getPotencyManualSetting()) { case 0: return t.price; case 1: return t.price - 160; case 2: return t.price - 1060; case 3: return t.price - 20560 }return t.price }, Uat.prototype.onClear = function () { this.characterBuild.getCharacterData().getPlayerArmor().setPotency_za3lpa$(0), this.update_0() }, Uat.prototype.update_0 = function () { var t = this.characterBuild.getCharacterData().getPlayerArmor(), e = document.getElementById("buttonPotencyArmor"); null != e && (0 === t.getPotencyManualSetting() ? e.innerHTML = "No Potency Rune" : e.innerHTML = Bat().ARMOR_POTENCY_RUNES[t.getPotencyManualSetting() - 1 | 0]), this.mainActivity.getGuiUpdateControl().onArmorChanged_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, Uat.$metadata$ = { kind: p, simpleName: "DialogFundamentalRunesArmorPotency", interfaces: [zat] }, Gat.prototype.completeChanges = function () { var t, e = this.characterBuild.getCharacterData().getPlayerArmor(); if (null != this.currentSelection) { t = Bat().ARMOR_RESILIENT_RUNES.length; for (var i = 0; i < t; i++)m(o(this.currentSelection).name, Bat().ARMOR_RESILIENT_RUNES[i]) && e.setItemResilient_za3lpa$(i + 1 | 0) } this.update_0() }, Gat.prototype.getPrice_whuh8d$ = function (t) { switch (this.characterBuild.getCharacterData().getPlayerArmor().getPotencyManualSetting()) { case 0: return t.price; case 1: return t.price - 340; case 2: return t.price - 3440; case 3: return t.price - 49440 }return t.price }, Gat.prototype.onClear = function () { this.characterBuild.getCharacterData().getPlayerArmor().setItemResilient_za3lpa$(0), this.update_0() }, Gat.prototype.update_0 = function () { var t, e, i = this.characterBuild.getCharacterData().getPlayerArmor(), a = document.getElementById("buttonResilient"); for (null != a && (0 === i.getItemResilientManualSetting() ? a.innerHTML = "No Resilient Rune" : a.innerHTML = Bat().ARMOR_RESILIENT_RUNES[i.getItemResilientManualSetting() - 1 | 0]), t = _K().ARRAY_SAVE_PROFICIENCIES, e = 0; e !== t.length; ++e) { var r = t[e], n = this.characterBuild.getProficiency_61zpoe$(o(r)); o(n).addBonus_rpybz1$(0, _K().ITEM_BONUS_ARMOR_RESILIENT, i.getItemResilient_5btbp7$(this.characterBuild)); var s = this.dataControl.hashMapBuffIDsToNames, l = _K().ITEM_BONUS_ARMOR_RESILIENT; s.put_xwzc9p$(l, "Resilient Armor Bonus") } this.mainActivity.getGuiUpdateControl().onArmorChanged_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, Gat.$metadata$ = { kind: p, simpleName: "DialogFundamentalRunesArmorResilient", interfaces: [zat] }, Wat.prototype.completeChanges = function () { var t; if (null != this.playerWeapon_0) { t = Bat().WEAPON_POTENCY_RUNES.length; for (var e = 0; e < t; e++)m(o(this.currentSelection).name, Bat().WEAPON_POTENCY_RUNES[e]) && this.playerWeapon_0.setPotency_za3lpa$(e + 1 | 0) } this.update_0() }, Wat.prototype.onClear = function () { var t; null != (t = this.playerWeapon_0) && t.setPotency_za3lpa$(0), this.update_0() }, Wat.prototype.getPrice_whuh8d$ = function (t) { if (null != this.playerWeapon_0) switch (this.playerWeapon_0.getPotencyManualSetting()) { case 0: return t.price; case 1: return t.price - 35; case 2: return t.price - 935; case 3: return t.price - 8935 }return t.price }, Wat.prototype.update_0 = function () { var t = document.getElementById("buttonPotency"); null != t && null != this.playerWeapon_0 && (0 === this.playerWeapon_0.getPotencyManualSetting() ? t.innerHTML = "No Potency Rune" : t.innerHTML = Bat().WEAPON_POTENCY_RUNES[this.playerWeapon_0.getPotencyManualSetting() - 1 | 0]), this.mainActivity.getGuiUpdateControl().onWeaponAdded_21ghvs$(this.characterBuild, this.playerWeapon_0), this.mainActivity.autoSave(), this.destroy() }, Wat.$metadata$ = { kind: p, simpleName: "DialogFundamentalRunesWeaponPotency", interfaces: [zat] }, Yat.prototype.completeChanges = function () { var t; if (null != this.playerWeapon_0) { t = Bat().WEAPON_STRIKING_RUNES.length; for (var e = 0; e < t; e++)m(o(this.currentSelection).name, Bat().WEAPON_STRIKING_RUNES[e]) && this.playerWeapon_0.setItemStriking_za3lpa$(e + 1 | 0) } this.update_0() }, Yat.prototype.getPrice_whuh8d$ = function (t) { if (null != this.playerWeapon_0) switch (this.playerWeapon_0.getStrikingManualSetting()) { case 0: return t.price; case 1: return t.price - 65; case 2: return t.price - 1065; case 3: return t.price - 31065 }return t.price }, Yat.prototype.onClear = function () { var t; null != (t = this.playerWeapon_0) && t.setItemStriking_za3lpa$(0), this.update_0() }, Yat.prototype.update_0 = function () { var t = document.getElementById("buttonStriking"); null != t && null != this.playerWeapon_0 && (0 === this.playerWeapon_0.getStrikingManualSetting() ? t.innerHTML = "No Striking Rune" : t.innerHTML = Bat().WEAPON_STRIKING_RUNES[this.playerWeapon_0.getStrikingManualSetting() - 1 | 0]), this.mainActivity.getGuiUpdateControl().onWeaponAdded_21ghvs$(this.characterBuild, this.playerWeapon_0), this.mainActivity.autoSave(), this.destroy() }, Yat.$metadata$ = { kind: p, simpleName: "DialogFundamentalRunesWeaponStriking", interfaces: [zat] }, Vat.prototype.destroy = function () { var t; null != (t = document.body) && t.removeChild(this.root_0) }, Vat.prototype.show = function () { this.root_0.style.display = "flex" }, Vat.$metadata$ = { kind: p, simpleName: "DialogHelp", interfaces: [] }, Kat.prototype.onAccept = function () { try { var t = this.editTextTemp_0.value, i = V(this.editTextTemp_0.value); if (_(t, "-") || i < 0 || _(t, "+")) { var a = this.characterBuild.getCharacterData().getTemporaryHP() + i | 0; a < 0 && (a = 0), this.characterBuild.getCharacterData().setTemporaryHP_za3lpa$(a) } else this.characterBuild.getCharacterData().setTemporaryHP_za3lpa$(i); 0 === this.characterBuild.getCharacterData().getTemporaryHP() && this.characterBuild.getCharacterData().setTemporaryHPSource_pdl1vj$(null) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to process the number you entered for Temporary Hit Points!"); throw t } try { var r = this.editTextHP_0.value, n = V(this.editTextHP_0.value); if (_(r, "+") || _(r, "-") || n < 0) { var o = this.characterBuild.getCharacterData().getDamageTaken() - n | 0; o > this.maxHP_0 && (o = this.maxHP_0), o < 0 && (o = 0), this.characterBuild.getCharacterData().setDamageTaken_za3lpa$(o) } else n >= this.maxHP_0 ? this.characterBuild.getCharacterData().setDamageTaken_za3lpa$(0) : this.characterBuild.getCharacterData().setDamageTaken_za3lpa$(this.maxHP_0 - n | 0) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to process the number you entered for Hit Points!"); throw t } this.mainActivity.getNavigationControl().sectionDefenses.updateHP(), this.mainActivity.autoSave(), this.destroy() }, Kat.$metadata$ = { kind: p, simpleName: "DialogHP", interfaces: [wet] }, Xat.prototype.onAccept = function () { if (null != this.currentSelection_0) { if (2 === this.inventorModification_0.type) { var t = this.characterBuild.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_CONSTRUCT); null != t && this.dataControl.managerEquipment.changeInventorModificationConstruct_5jnxnw$(this.characterBuild, this.inventorModification_0, o(this.currentSelection_0), t), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, XV().PET_REFERENCE_CONSTRUCT) } else null != this.playerItem && (this.dataControl.managerEquipment.changeInventorModification_bc7vnm$(this.characterBuild, this.inventorModification_0, o(this.currentSelection_0), this.playerItem), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild)); this.mainActivity.autoSave() } this.destroy() }, Xat.prototype.setListView_0 = function () { var t; for (this.divScrollable.innerHTML = "", t = this.listItems.iterator(); t.hasNext();) { var e = t.next(), i = this.hashMapSpecials_0.get_11rb$(e); null != i && this.divScrollable.appendChild(this.getSpecialListView_0(i, e)) } }, Xat.prototype.openPRD = function () { if (null != this.currentSelection_0) { var t, i = this.hashMapSpecials_0, a = this.currentSelection_0, r = (e.isType(t = i, y) ? t : d()).get_11rb$(a); null != r && this.mainActivity.openBrowser_61zpoe$(r.url) } }, Xat.prototype.onItemClicked_za3rmp$ = function (t) { var e; this.currentSelection_0 = "string" == typeof (e = t) ? e : d() }, Xat.prototype.getSpecialListView_0 = function (t, e) { var i, a, r, n = new Ylt(!1); n.setDescription_61zpoe$(t.textDescription), n.setTraits_pdl1vj$(null != (i = t.flags) ? i : ""); var o = null != (a = t.name) ? a : ""; return n.setName_61zpoe$(lt(o)), n.setAction_za3lpa$(t.action), n.setLevel_pdl1vj$(t.level.toString()), n.setCopyright_61zpoe$(null != (r = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? r : ""), this.listEligibleSpecials_0.contains_11rb$(e) || n.setIllegal(), this.hashMapDivs.put_xwzc9p$(n, e), n.div }, Xat.$metadata$ = { kind: p, simpleName: "DialogInventorModifications", interfaces: [Iet] }; var Jat = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Zat(t, e, i, a) { switch (ert(), Iet.call(this, t, e, i), this.materialType_ir7goi$_0 = a, this.hashMapMaterial_rwwdhw$_0 = c(), this.currentOrderType_nb5tq4$_0 = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, 0), this.currentSelection = null, this.listItems = u(), this.hideAcceptButton(), this.materialType_ir7goi$_0) { case 0: this.hashMapMaterial_rwwdhw$_0 = e.managerEquipment.hashMapMaterialWeapons; break; case 1: this.hashMapMaterial_rwwdhw$_0 = e.managerEquipment.hashMapMaterialArmor }var r, o = jlt().getDiv(); o.innerHTML = "Give", o.classList.add("modal-button"), o.addEventListener("click", (r = this, function (t) { return r.completeChanges(), n })), this.addButtonToBottom_906ova$(o, 0); var s = jlt().getDiv(); s.innerHTML = "Buy", s.classList.add("modal-button"), s.addEventListener("click", function (t) { return function (e) { return t.buy_6h32wr$_0(), n } }(this)), this.addButtonToBottom_906ova$(s, 0), this.title.innerHTML = "Equipment Material"; var l = jlt().getDiv(); l.innerHTML = "Remove", l.classList.add("modal-button"), l.addEventListener("click", function (t) { return function (e) { return t.onClear(), n } }(this)), this.addButtonToBottom_906ova$(l, 0), this.setListView_55ta10$_0() } function Qat() { trt = this, this.TYPE_WEAPON_MATERIAL = 0, this.TYPE_ARMOR_MATERIAL = 1 } Qat.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var trt = null; function ert() { return null === trt && new Qat, trt } function irt(t) { return t.level } function art(t) { return t.level } function rrt(t, e) { this.this$DialogItemMaterial = t, this.closure$price = e } function nrt(t, e, i) { Zat.call(this, t, e, i, 1), this.bulk_0 = 0; var a = i.getCharacterData().getPlayerArmor(), r = a.getMaterial(); a.setMaterial_pdl1vj$(null); var n = e.managerAncestry.getSize_5btbp7$(i), o = e.managerArmor.getWornArmorInformation_5btbp7$(i); this.bulk_0 = a.getBulk_lrvmev$(e, o, n), a.setMaterial_pdl1vj$(r) } function ort(t, e, i, a) { if (Zat.call(this, t, e, i, 0), this.playerWeapon_0 = a, this.bulk_0 = 0, null != this.playerWeapon_0) { var r = e.managerWeapons.hashMapWeapons.get_11rb$(this.playerWeapon_0.weaponName); if (null != r) { var n = this.playerWeapon_0.getMaterial(); this.playerWeapon_0.setMaterial_pdl1vj$(null); var o = e.managerAncestry.getSize_5btbp7$(i); this.bulk_0 = this.playerWeapon_0.getBulk_nw4zkx$(e, r, o), this.playerWeapon_0.setMaterial_pdl1vj$(n) } } } function srt(t, i, a) { var r; wet.call(this, t, i, a), this.divScrollable = jlt().getDiv(), this.checkBoxCommonLanguages_0 = u(), this.checkBoxUncommonLanguages_0 = u(), this.checkBoxRareLanguages_0 = u(), this.checkBoxSecretLanguages_0 = u(), this.checkBoxDialects_0 = e.newArray(6, null), this.editTextDialects_0 = e.newArray(6, null), this.setSingleFinishedButton(), this.title.innerHTML = "Set Languages", this.divScrollable.classList.add("scrollable"), this.content.appendChild(this.divScrollable), this.setBonusLanguages_0(); var n = i.loaderSetInterface.getLanguageInformation(), o = u(), s = u(), l = u(), c = u(); for (r = n.keys.iterator(); r.hasNext();) { var p = r.next(), h = n.get_11rb$(p); switch (null != h ? h.type : null) { case 0: o.add_11rb$(p); break; case 1: s.add_11rb$(p); break; case 2: l.add_11rb$(p); break; case 3: c.add_11rb$(p) } } Q(o), Q(s), Q(l), Q(c), this.addLanguageSet_0("Common Languages", this.checkBoxCommonLanguages_0, o, n), this.addLanguageSet_0("Uncommon Languages", this.checkBoxUncommonLanguages_0, s, n), this.addLanguageSet_0("Rare Languages", this.checkBoxRareLanguages_0, l, n), this.addLanguageSet_0("Secret Languages", this.checkBoxSecretLanguages_0, c, n), this.setCustomLanguages_0() } function lrt(t, e, i, a) { return function (r) { return t.isChecked() ? (t.setChecked_6taknv$(!1), e.getCharacterData().listLanguages.remove_11rb$(i), a.classList.remove("selected-language")) : (t.setChecked_6taknv$(!0), e.getCharacterData().listLanguages.add_11rb$(i), a.classList.add("selected-language")), n } } function crt(t) { return function (e) { return t.toggle(), n } } function prt(t, e, i) { wet.call(this, t, e, i), this.newLevel_0 = i.getCharacterData().getCharacterLevel(), this.title.innerHTML = "Set Character Level"; var a = jlt().getDiv(); a.classList.add("button-bar"); for (var r = 1, n = 0; n <= 3; n++) { var o = jlt().getDiv(); o.classList.add("grid-container"), a.appendChild(o); for (var s = 0; s <= 4; s++) { var l = jlt().getDiv(); l.classList.add("grid-item"), o.appendChild(l); var c = jlt().getDiv(); c.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), c.classList.add(B9().CSS_DIV_BUTTON), c.classList.add(B9().CSS_PADDING_STANDARD), c.classList.add("centered-flex"), c.innerHTML = "Level " + r; var p = r; c.addEventListener("click", hrt(p, i, e, t, this)), l.appendChild(c), r = r + 1 | 0 } } this.hideAcceptButton(), a.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.appendChild(a) } function hrt(t, e, i, a, r) { return function (o) { return t !== e.getCharacterData().getCharacterLevel() && (e.updateReportAbilityScores_vvjzl1$(i, t), i.managerClasses.setNewCharacterLevel_vy76y1$(e, t), a.setNameLevel(), a.getGuiUpdateControl().onLevelChanged_n40yp2$(e), a.autoSave()), r.destroy(), n } } Zat.prototype.onAccept = function () { this.destroy() }, Zat.prototype.openPRD = function () { null != this.currentSelection && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection).url) }, Zat.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection = e.isType(i = t, ah) ? i : d() }, Zat.prototype.setListView_55ta10$_0 = function () { var t, e; for (this.listItems.clear(), this.divScrollable.innerHTML = "", t = this.hashMapMaterial_rwwdhw$_0.values.iterator(); t.hasNext();) { var i = t.next(); Ic().isEnabled_kc4y8q$(this.getCharacterData(), i.src) && this.listItems.add_11rb$(i) } if (0 === this.currentOrderType_nb5tq4$_0) { var a = this.listItems; a.size > 1 && q(a, new G(Jat(irt))) } else { var r = this.listItems; r.size > 1 && q(r, new G(Jat(art))) } for (e = this.listItems.iterator(); e.hasNext();) { var n = e.next(); this.divScrollable.appendChild(this.getRuneListView_9ng6zi$_0(n)) } }, Zat.prototype.getRuneListView_9ng6zi$_0 = function (t) { var e, i = new Ylt(!1); return i.setName_61zpoe$(t.name), i.setTraits_pdl1vj$(t.traits), htt().setItemLevelBox_c4iwwi$(i.itemLevel, t.level, t.traits), i.setDescription_61zpoe$("Price: " + t.getPriceString() + "<br><br>" + t.description), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, rrt.prototype.accept = function () { this.this$DialogItemMaterial.dataControl.managerEquipment.deductCost_5sfiqf$(this.this$DialogItemMaterial.characterBuild, this.closure$price), this.this$DialogItemMaterial.completeChanges() }, rrt.$metadata$ = { kind: p, interfaces: [Vet] }, Zat.prototype.buy_6h32wr$_0 = function () { if (null != this.currentSelection) { var t = this.getPrice_97ys1c$(o(this.currentSelection)); this.dataControl.managerEquipment.canAffordItem_5sfiqf$(this.characterBuild, t) ? Xet(!0, "Really buy " + o(this.currentSelection).name + " for " + pe().getPriceString_14dthe$(t) + "? Warning: this will simplify your coins.", new rrt(this, t)).show() : this.mainActivity.showMessage_61zpoe$("You cannot afford this item") } }, Zat.$metadata$ = { kind: p, simpleName: "DialogItemMaterial", interfaces: [Iet] }, nrt.prototype.completeChanges = function () { this.characterBuild.getCharacterData().getPlayerArmor().setMaterial_pdl1vj$(o(this.currentSelection).name), this.update_0() }, nrt.prototype.onClear = function () { this.characterBuild.getCharacterData().getPlayerArmor().setMaterial_pdl1vj$(null), this.update_0() }, nrt.prototype.getPrice_97ys1c$ = function (t) { var e = t.base / 10 * this.bulk_0; return t.base + e }, nrt.prototype.update_0 = function () { var t = this.characterBuild.getCharacterData().getPlayerArmor(), e = document.getElementById("buttonMaterialArmor"); null != e && (null == t.getMaterial() ? e.innerHTML = "No Material" : e.innerHTML = o(t.getMaterial())), this.mainActivity.getGuiUpdateControl().onArmorChanged_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, nrt.$metadata$ = { kind: p, simpleName: "DialogItemMaterialArmor", interfaces: [Zat] }, ort.prototype.completeChanges = function () { var t; null != (t = this.playerWeapon_0) && t.setMaterial_pdl1vj$(o(this.currentSelection).name), this.update_0() }, ort.prototype.onClear = function () { var t; null != (t = this.playerWeapon_0) && t.setMaterial_pdl1vj$(null), this.update_0() }, ort.prototype.getPrice_97ys1c$ = function (t) { var e = t.base / 10 * this.bulk_0; return t.base + e }, ort.prototype.update_0 = function () { var t = document.getElementById("buttonMaterialWeapon"); null != t && null != this.playerWeapon_0 && (null == this.playerWeapon_0.getMaterial() ? t.innerHTML = "No Material" : t.innerHTML = o(this.playerWeapon_0.getMaterial())), this.mainActivity.getGuiUpdateControl().onWeaponAdded_21ghvs$(this.characterBuild, this.playerWeapon_0), this.mainActivity.autoSave(), this.destroy() }, ort.$metadata$ = { kind: p, simpleName: "DialogItemMaterialWeapon", interfaces: [Zat] }, srt.prototype.addLanguageSet_0 = function (t, e, i, a) { var r, n = jlt().getDiv(); n.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), n.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), this.divScrollable.appendChild(n); var s = jlt().getH3(); for (s.innerHTML = t, n.appendChild(s), r = i.iterator(); r.hasNext();) { var l = r.next(), c = a.get_11rb$(l), p = new Let, h = jlt().getDiv(); h.style.marginBottom = "0.3em", n.appendChild(h), h.appendChild(p.div); var d = jlt().getLabel(); d.style.marginLeft = "0.6em", d.innerHTML = l + " (" + o(c).spokenBy + ")", h.appendChild(d), e.add_11rb$(p), h.addEventListener("click", lrt(p, this, l, h)), this.getCharacterData().listLanguages.contains_11rb$(l) && (p.setChecked_6taknv$(!0), h.classList.add("selected-language")) } }, srt.prototype.setCustomLanguages_0 = function () { var t, e = jlt().getDiv(); e.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), e.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), this.divScrollable.appendChild(e); var i = jlt().getH3(); i.innerHTML = "Custom Languages", e.appendChild(i); for (var a = 0; a <= 5; a++) { var r = jlt().getDiv(); r.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM); var n = new Let; this.checkBoxDialects_0[a] = n, n.div.style.marginRight = "0.3em", n.div.addEventListener("click", crt(n)), r.appendChild(n.div); var o = jlt().getTextInput(); r.appendChild(o), this.editTextDialects_0[a] = o, null != this.getCharacterData().dialects[a] && (o.value = null != (t = this.getCharacterData().dialects[a]) ? t : "", n.setChecked_6taknv$(!0)), o.placeholder = "Custom Language", e.appendChild(r) } }, srt.prototype.setBonusLanguages_0 = function () { var t = jlt().getDiv(); t.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), t.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM); var i = jlt().getP(); i.classList.add(B9().CSS_SMALL_TEXT); var a = this.dataControl.managerAncestry.getAncestryTemplate_5btbp7$(this.characterBuild); i.innerHTML = a.langugages, t.appendChild(i), this.divScrollable.appendChild(t); var r = htt().getAbilityMod_za3lpa$(o(this.characterBuild.getPlayReportAbilityScores_sfkw43$(this.dataControl)).abilityScoresBuffed[3]); r < 0 && (r = 0), r = r + a.bonusLanguage | 0; var n = 2; Lq().hasFeatByLevel_w0akbr$(this.characterBuild, "no ref", this.getCharacterData().getCharacterLevel(), "GNOME_Gnome Polyglot") && (r = r + 3 | 0, n = 3); var s = Lq().getNumTimesFeatSelectByLevelExcludingChoiceRef_uf1787$(this.characterBuild, "No Feat Choice Ref", this.getCharacterData().getCharacterLevel(), "GENERAL_Multilingual"); r = r + e.imul(n, s) | 0; var l = o(this.characterBuild.getProficiency_61zpoe$(pK().SOCIETY)).getProficiencyAtLevel_za3lpa$(this.getCharacterData().getCharacterLevel()); l >= 6 && (r = r + s | 0), l >= 8 && (r = r + s | 0), (i = jlt().getP()).classList.add(B9().CSS_SMALL_TEXT), t.appendChild(i), i.innerHTML = "Bonus languages: " + r }, srt.prototype.saveCustomDialects_0 = function () { for (var t, e, i = 0; i <= 5; i++) { var a = null != (e = null != (t = this.checkBoxDialects_0[i]) ? t.isChecked() : null) && e, r = $X().DIALECT_TRIGGER + i.toString(), n = o(this.editTextDialects_0[i]).value, s = a; s && (s = n.length > 0), s ? (this.getCharacterData().listLanguages.contains_11rb$(r) || this.getCharacterData().listLanguages.add_11rb$(r), this.getCharacterData().dialects[i] = n) : (this.getCharacterData().listLanguages.remove_11rb$(r), this.getCharacterData().dialects[i] = null) } }, srt.prototype.onAccept = function () { this.saveCustomDialects_0(), this.mainActivity.getNavigationControl().tabbedAreaDetails.setLanguages(), this.mainActivity.autoSave(), this.destroy() }, srt.$metadata$ = { kind: p, simpleName: "DialogLanguages", interfaces: [wet] }, prt.prototype.onAccept = function () { this.destroy() }, prt.$metadata$ = { kind: p, simpleName: "DialogLevel", interfaces: [wet] }; var drt, urt, _rt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })), frt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(a), r(i)) } } })); function yrt(t, e, i, a) { var r; Iet.call(this, t, e, i), this.listFake = a, this.currentSelection_0 = null, this.currentSelectionGDrive_0 = null, this.listItems_0 = u(), this.currentFolder_0 = new M7(x7().FOLDER_MAIN_ID, x7().FOLDER_MAIN_NAME), this.spinnerFolderHolder_0 = jlt().getSpan(), this.listFolders_0 = u(), this.buttonDeleteFolder_0 = new Elt("Delete Folder", "img/icon_folder_delete.png"), this.buttonEditFolder_0 = new Elt("Edit Folder", "img/icon_folder_edit.png"), this.buttonMove_0 = jlt().getDiv(), this.buttonDelete_0 = jlt().getDiv(), this.mode_0 = grt(), this.listGoogleItems_0 = null, this.buttonsEnabled_0 = !0, this.exportBundle_0 = null, this.classFilter_0 = null, this.ancestryFilter_0 = null, this.levelFilter_0 = null, this.buttonAddFolder_0 = new Elt("Add Folder", "img/icon_folder_add.png"), this.currentOrderType_0 = 0, this.title.innerHTML = "Load Character", this.buttonPRD.style.display = "none", htt().setHidden_njr4nn$(this.buttonPRD, !1); var s, l, c = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_LAST_LOCAL_GOOGLE_USE, 0); for (this.setSpinnerSource_0(c), this.setSpinnerOrder_0(), this.setSpinnerClass_0(), this.setSpinnerAncestry_0(), this.setSpinnerLevel_0(), this.divInfo.innerHTML = B9().SAVE_WARNING, this.buttonDelete_0.innerHTML = "Delete", this.buttonDelete_0.classList.add("modal-button"), this.buttonDelete_0.addEventListener("click", (s = this, l = t, function (t) { return s.mode_0 === grt() && null != s.currentSelection_0 ? Xet(!0, "Really delete " + o(s.currentSelection_0).characterName + "?", new Frt(s, l)).show() : s.mode_0 === vrt() && null != s.currentSelectionGDrive_0 && s.buttonsEnabled_0 && Xet(!0, "Really delete " + o(s.currentSelectionGDrive_0).name + " from your google drive?", new Brt(l, s)).show(), n })), this.addButtonToBottom_lt8gi4$(this.buttonDelete_0), r = this.listFake.iterator(); r.hasNext();) { var p = r.next(), h = new P7(p.characterName, p.classLevel, p.timestamp, p.webID, p.folderID); this.listItems_0.add_11rb$(h) } htt().setInvisible_njr4nn$(this.buttonDeleteFolder_0.buttonDiv, !1), htt().setInvisible_njr4nn$(this.buttonEditFolder_0.buttonDiv, !1), this.addWidgetToTop_lt8gi4$(this.spinnerFolderHolder_0), this.setListFolderFiles_0(), 1 === c ? (this.enableDisableButtons_0(!1), htt().setInvisible_njr4nn$(this.spinnerFolderHolder_0, !1), htt().setInvisible_njr4nn$(this.buttonAddFolder_0.buttonDiv, !1), htt().setInvisible_njr4nn$(this.buttonDeleteFolder_0.buttonDiv, !1), htt().setInvisible_njr4nn$(this.buttonEditFolder_0.buttonDiv, !1), this.mode_0 = vrt(), this.setListGDriveFiles_0()) : this.setListView_0(), this.divScrollable.addEventListener("dblclick", function (t) { return function (e) { return t.onAccept(), n } }(this)), this.buttonMove_0.innerHTML = "Move", this.buttonMove_0.classList.add("modal-button"), this.buttonMove_0.addEventListener("click", function (t, e, i, a) { return function (r) { if (t.mode_0 === grt() && null != t.currentSelection_0) { var s = new Hrt(t); new Urt(e, i, a, o(t.currentSelection_0).characterName, t.listFolders_0, s, !1, o(t.currentSelection_0).folderID).show() } else if (t.mode_0 === vrt() && null != t.currentSelectionGDrive_0) { var l = new qrt(t); new Urt(e, i, a, o(t.currentSelectionGDrive_0).name, t.listFolders_0, l, !0, null).show() } return n } }(this, t, e, i)), this.addButtonToBottom_lt8gi4$(this.buttonMove_0) } function mrt(t, e) { Lt.call(this), this.name$ = t, this.ordinal$ = e } function $rt() { $rt = function () { }, drt = new mrt("LOCAL", 0), urt = new mrt("GOOGLE", 1) } function grt() { return $rt(), drt } function vrt() { return $rt(), urt } function Srt(t, e) { this.closure$folderFile = t, this.this$DialogLoad = e } function Crt(t) { this.this$DialogLoad = t } function Ert() { } function Art(t) { this.this$DialogLoad = t } function brt(t) { this.this$DialogLoad = t } function Irt(t) { this.this$DialogLoad = t } function wrt(t) { this.this$DialogLoad = t } function Lrt(t) { this.this$DialogLoad = t } function Trt(t) { this.this$DialogLoad = t } function krt(t) { this.this$DialogLoad = t } function Rrt(t) { this.this$DialogLoad = t } function Prt(t) { this.this$DialogLoad = t } function Mrt(t) { return t.name } function Nrt(t) { return t.timestamp } function Drt(t) { return t.characterName.toLowerCase() } function xrt(t) { this.this$DialogLoad = t } function zrt(t) { return t.timeStamp } function Ort(t) { return t.name.toLowerCase() } function Frt(t, e) { this.this$DialogLoad = t, this.closure$mainActivity = e } function Brt(t, e) { this.closure$mainActivity = t, this.this$DialogLoad = e } function jrt(t) { this.this$DialogLoad = t } function Hrt(t) { this.this$DialogLoad = t } function qrt(t) { this.this$DialogLoad = t } function Urt(t, e, i, a, r, o, s, l) { wet.call(this, t, e, i), this.listFolders = r, this.folderFileReturn = o, this.spinnerSource_0 = new Uet(!1), this.spinnerFolder_0 = new Wet(this.listFolders, !1), this.checkboxCopy_0 = new Met("Make a new copy"), this.setRestictedWidth(), this.title.innerHTML = "Save: " + a; var c = jlt().getDiv(); c.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(c), this.content.style.padding = "0.5em"; var p = jlt().getDiv(); p.style.display = "flex", c.appendChild(p), p.style.marginBottom = "0.5em", p.appendChild(this.spinnerSource_0.spinner), this.spinnerSource_0.spinner.classList.add("spinner-dark"), this.spinnerSource_0.spinner.style.flex = "1", this.spinnerSource_0.spinner.style.marginRight = "0.5em"; var h, d, u = [B9().FILE_SOURCE_LOCAL_NAME, B9().FILE_SOURCE_GOOGLE_NAME]; this.spinnerSource_0.setSpinnerList_kand9s$(u), this.spinnerSource_0.spinner.addEventListener("change", (h = this, d = t, function (t) { return 0 === h.spinnerSource_0.spinner.selectedIndex ? htt().setInvisible_njr4nn$(h.spinnerFolder_0.spinner, !0) : (d.getDataControl().isFullAppEnabled() || d.setUpgradeMessage_61zpoe$(" save and load from google drive."), htt().setInvisible_njr4nn$(h.spinnerFolder_0.spinner, !1)), n })), s ? (this.spinnerSource_0.spinner.selectedIndex = 1, htt().setInvisible_njr4nn$(this.spinnerFolder_0.spinner, !1)) : this.spinnerFolder_0.setSpinnerSelectionByFolderID_pdl1vj$(l), p.appendChild(this.spinnerFolder_0.spinner), this.spinnerFolder_0.spinner.classList.add("spinner-dark"), this.spinnerFolder_0.spinner.style.marginLeft = "0.5em", this.spinnerFolder_0.spinner.style.flex = "1", c.appendChild(this.checkboxCopy_0.divWithLabel), this.checkboxCopy_0.setChecked_6taknv$(!0), this.checkboxCopy_0.divWithLabel.addEventListener("click", function (t) { return function (e) { return t.checkboxCopy_0.toggle(), n } }(this)); var _ = jlt().getP(); _.innerHTML = B9().SAVE_WARNING, c.appendChild(_) } function Grt() { } function Wrt(t, e, i) { wet.call(this, t, e, i), this.divScrollable = jlt().getDiv(), this.buttonGoogle = jlt().getImg(), this.buttonReddit = jlt().getImg(), t.gDriveManager.signOut(), this.title.innerHTML = "Login and Upgrade App", this.holder.style.width = "700px", this.hideAcceptButton(), this.divScrollable.classList.add("scrollable"), this.content.style.display = "flex", this.content.appendChild(this.divScrollable); var a = jlt().getDiv(); a.classList.add(B9().CSS_ROUNDED_RECTANGLE), a.style.width = "620px"; var r = jlt().getH3(); a.appendChild(r), r.innerHTML = "Pathbuilder 2e Web Full Unlock for $5.99 (USA)"; var o = jlt().getDiv(); a.appendChild(o), o.innerHTML = "One time payment - no subscription. Android and Web versions are separate products and require individual purchases.", a.style.margin = "10px", this.divScrollable.appendChild(a); var s = jlt().getDiv(); s.style.display = "inline-block", s.classList.add(B9().CSS_ROUNDED_RECTANGLE), s.classList.add("login-box"), this.divScrollable.appendChild(s), this.buttonGoogle.id = "gSignIn", this.buttonGoogle.classList.add("button-login"), this.buttonGoogle.src = "img/button_google.jpg", s.appendChild(this.buttonGoogle); var l = jlt().getP(); l.innerHTML = "Sign in via google and give permission for configuration data if you wish to save and load to google drive.", s.appendChild(l); var c, p = jlt().getDiv(); p.style.display = "inline-block", p.classList.add(B9().CSS_ROUNDED_RECTANGLE), p.classList.add("login-box"), this.divScrollable.appendChild(p), this.buttonReddit.src = "img/button_reddit.jpg", this.buttonReddit.classList.add("button-login"), p.appendChild(this.buttonReddit), (l = jlt().getP()).innerHTML = "Sign in via reddit if you do not have a google account or do not wish to use it.", p.appendChild(l), t.gDriveManager.loadClientAuth2_3sqz61$(new Krt(this)), this.buttonReddit.addEventListener("click", (c = t, function (t) { var e = c.getGuiUpdateControl().getPlatformUUID(), i = window.location.href; _(i, "localhost") ? e = "local" : _(i, "beta") ? e = "beta" : _(i, "alpha") && (e = "alpha"), B9().setPreferenceString_puj7f4$("reddit_login_nonce", e); var a = "https://ssl.reddit.com/api/v1/authorize?client_id=PxPyh1jlzA1Qzw&response_type=code&state=" + e + "&redirect_uri=https://pathbuilder2e.com/pbonline/app/redditredirect.php&duration=permanent&scope=identity"; return window.open(a, "_self"), n })); var h = jlt().getDiv(); h.classList.add(B9().CSS_ROUNDED_RECTANGLE), h.style.margin = "10px", h.style.width = "620px", h.innerHTML = "Full unlock gives you:<ul><li>Gamesmastery Guide options: Dual Class,  Free Archetype, Proficiency without level, Stamina</li><li>JSON export for use in Virtual Table Tops</del></li><li>Custom skill increases, feat choices and ability increases</li><li>Google drive saving options</li><li>Custom backgrounds, gear, scrolls, buffs, weapons, armor and shields</li><li>Animal Companion and Familiar management</li></ul>" + j(this.divScrollable.appendChild(h)), (h = jlt().getDiv()).classList.add(B9().CSS_ROUNDED_RECTANGLE), h.style.margin = "10px", h.style.width = "620px", h.innerHTML = "<b>Disclaimer</b><br><br>Pathbuilder 2e does not store any personal details about you on its servers.<br><a href='https://stripe.com/en-gb/privacy' target='_blank'>View Stripe's privacy policy.</a>.<br>Pathbuilder 2e web app and android apps require separate purchases to unlock.<br>Privacy Badger chrome extension will prevent users from logging in via google.", this.divScrollable.appendChild(h) } function Yrt(t) { console.log(t) } function Vrt() { return n } function Krt(t) { this.this$DialogLogin = t } function Xrt(t, e, i) { wet.call(this, t, e, i), this.title.innerHTML = "Account Upgraded", this.hideAcceptButton(), this.setRestictedWidth(), this.content.style.background = "#222831"; var a = jlt().getDiv(); a.style.padding = "1em", this.content.appendChild(a); var r = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ACCOUNT, 0), o = B9().getPreferenceString_61zpoe$(B9().PREFERENCE_USER_NAME); 0 === r ? (t.setAccountUpgradedFunctions(), this.destroy()) : 1 === r ? a.innerHTML = "Logged in via google as " + o : 2 === r && (a.innerHTML = "Logged in via reddit as " + o); var s, l, c = jlt().getDiv(); c.innerHTML = "Logout", c.classList.add("modal-button"), c.addEventListener("click", (s = t, l = this, function (t) { return B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_ACCOUNT, 0), s.setAccountUpgradedFunctions(), s.gDriveManager.signOut(), l.destroy(), n })), this.addButtonToBottom_lt8gi4$(c) } function Jrt(t, e, i) { wet.call(this, t, e, i), this.title.innerHTML = "New Character", this.hideAcceptButton(), this.hideCancelButton(), this.setRestictedWidth(); var a = jlt().getDiv(); a.classList.add(B9().CSS_ROUNDED_RECTANGLE), a.style.margin = "0.5em", this.content.appendChild(a); var r = jlt().getP(); r.innerHTML = "You can <b>Get Started</b> right away, view <b>Character Options</b>, or keep things simple by selecting  <b>Core Rulebook Only</b>.", a.appendChild(r); var o, s = Dlt("Get Started"); s.buttonDiv.addEventListener("click", (o = this, function (t) { return o.destroy(), n })), a.appendChild(s.buttonDiv), s.buttonDiv.style.fontSize = "1.3em", s.buttonDiv.style.padding = "0.5em", s.buttonDiv.style.marginTop = "1em"; var l = jlt().getDiv(); a.appendChild(l), l.style.marginTop = "1em", l.classList.add(B9().CSS_GRID_CONTAINER); var c = Dlt("Character Options"); c.buttonDiv.addEventListener("click", function (t, e, i, a) { return function (r) { return t.openDialog_ip94j4$(new Qrt(t, e, i)), a.destroy(), n } }(t, e, i, this)), c.buttonDiv.classList.add(B9().CSS_GRID_ITEM), l.appendChild(c.buttonDiv); var p = Dlt("Core Rulebook Only"); p.buttonDiv.addEventListener("click", function (t) { return function (e) { return Xet(!0, "This will only allow character options from the Core Rulebook. You can re-enable those options at any time via the Character Options menu. Continue?", new Zrt(t)).show(), n } }(this)), p.buttonDiv.classList.add(B9().CSS_GRID_ITEM), l.appendChild(p.buttonDiv), l = jlt().getDiv(), a.appendChild(l), l.style.marginTop = "1em", l.classList.add(B9().CSS_GRID_CONTAINER); var h = new Met("Allow 3rd Party?"); h.setChecked_6taknv$(!0), h.divWithLabel.classList.add(B9().CSS_GRID_ITEM), l.appendChild(h.divWithLabel), h.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), e.disableThirdParty_0(t.isChecked()), n } }(h, this)); var d = new Met("Allow Adventure Paths?"); d.setChecked_6taknv$(!0), d.divWithLabel.classList.add(B9().CSS_GRID_ITEM), l.appendChild(d.divWithLabel), d.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), e.disableAP_0(t.isChecked()), n } }(d, this)); var u, _ = new Met("Stop showing this dialog for new characters"); _.divWithLabel.addEventListener("click", (u = _, function (t) { return u.toggle(), B9().setPreferenceBoolean_ivxn3r$(B9().PREFERENCE_NEW_CHARACTER_DIALOG, !u.isChecked()), n })), _.divWithLabel.style.marginTop = "1em", a.appendChild(_.divWithLabel), _.divWithLabel.classList.add(B9().CSS_GREY_TEXT), _.divWithLabel.classList.add(B9().CSS_SMALL_TEXT) } function Zrt(t) { this.this$DialogNewCharacter = t } function Qrt(t, e, i) { wet.call(this, t, e, i), this.divAdventuresParent_0 = jlt().getDiv(), this.title.innerHTML = "Options", this.setSingleFinishedButton(), this.content.style.padding = "0.3em", this.content.style.marginRight = "2em"; var a = jlt().getDiv(); a.classList.add("scrollable"), this.content.appendChild(a); var r = jlt().getDiv(); r.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), a.appendChild(r); var s, l, c, p, h = Dlt("Manage Available Rulebooks"); h.buttonDiv.style.fontSize = "1.3em", r.appendChild(h.buttonDiv), h.buttonDiv.addEventListener("click", (s = t, l = e, c = i, p = this, function (t) { return s.openDialog_ip94j4$(new vnt(s, l, c, !0)), p.destroy(), n })), h.buttonDiv.style.marginBottom = "1em"; var d = new Met("Autosave Character?"); d.setChecked_6taknv$(this.getCharacterData().isAutoSave()), d.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), e.getCharacterData().setAutoSave_6taknv$(t.isChecked()), n } }(d, this)), r.appendChild(d.divWithLabel); var u = new Met("Add Class Archetype choice?"); null != this.getCharacterData().getClassArchetype() && u.setChecked_6taknv$(!0), u.divWithLabel.addEventListener("click", function (t, e, i, a) { return function (r) { return t.toggle(), t.isChecked() ? (e.showClassArchetypeInfo_0(), e.getCharacterData().setClassArchetype_pdl1vj$(_l().CLASS_ARCHETYPE_NONE), i.managerFeats.addClassArchetypeFeatChoice_ryqv3o$(!0, a)) : (i.managerFeats.addClassArchetypeFeatChoice_ryqv3o$(!1, a), e.getCharacterData().setClassArchetype_pdl1vj$(null)), n } }(u, this, e, i)), r.appendChild(u.divWithLabel); var _ = new Met("Confirm when adding/removing from spellbook?"); _.setChecked_6taknv$(this.getCharacterData().isShowSpellbookConfirmation()), _.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), e.getCharacterData().setShowSpellbookConfirmation_6taknv$(t.isChecked()), n } }(_, this)), r.appendChild(_.divWithLabel); var f = new Met("Seperate Adventurer's Kit into individual inventory items?"); f.setChecked_6taknv$(this.getCharacterData().isSeparateAdventurersKit()), f.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), e.getCharacterData().setSeparateAdventurersKit_6taknv$(t.isChecked()), n } }(f, this)), r.appendChild(f.divWithLabel); var y = new Met("Allow Half-Orc and Half-Elf for all ancestries?"); y.setChecked_6taknv$(this.getCharacterData().isAllowHalfHeritages()), y.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), e.getCharacterData().setAllowHalfHeritages_6taknv$(t.isChecked()), n } }(y, this)), r.appendChild(y.divWithLabel); var m = new Met("Add generic caster for staves etc?"); m.setChecked_6taknv$(this.getCharacterData().isOtherCaster()), m.divWithLabel.addEventListener("click", function (t, e, i) { return function (a) { return t.toggle(), e.getCharacterData().setOtherCaster_6taknv$(t.isChecked()), t.isChecked() ? i.hashMapSpellCasters.put_xwzc9p$(z2().SPELLCASTER_OTHER, new n2) : i.hashMapSpellCasters.remove_11rb$(z2().SPELLCASTER_OTHER), n } }(m, this, i)), r.appendChild(m.divWithLabel); var $ = new Met("Show dice rolling buttons"); $.setChecked_6taknv$(t.showDiceRollers), $.divWithLabel.addEventListener("click", function (t, e, i) { return function (a) { return t.toggle(), B9().setPreferenceBoolean_ivxn3r$(B9().PREFERENCE_SHOW_ROLLERS, t.isChecked()), e.showDiceRollers = t.isChecked(), e.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(i), e.getNavigationControl().showHideDiceSwitch(), n } }($, t, i)), r.appendChild($.divWithLabel); var g = new Met("Play dice rolling sound"); g.setChecked_6taknv$(t.playDiceSound), g.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.toggle(), B9().setPreferenceBoolean_ivxn3r$(B9().PREFERENCE_PLAY_DICE, t.isChecked()), e.playDiceSound = t.isChecked(), n } }(g, t)), r.appendChild(g.divWithLabel); var v = jlt().getDiv(); v.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), a.appendChild(v); var S = jlt().getP(); S.innerText = "Advanced Options", S.classList.add(B9().CSS_BOLD_STANDARD), v.appendChild(S); var C = new Met("Allow Gamesmastery Guide Dual Classing?"); C.setChecked_6taknv$(null != this.getCharacterData().getDualClass()), v.appendChild(C.divWithLabel); var E = new Met("Allow Gamesmastery Guide Free Archetype?"), A = new Met("Remove Free Archetype feat restrictions?"), b = new Met("Remove Free Archetype ability requirements"), I = new Met("Use GMG Automatic Bonus Progression?"); E.setChecked_6taknv$(this.getCharacterData().isFreeArchetype()), htt().setHidden_njr4nn$(A.divWithLabel, E.isChecked()), htt().setHidden_njr4nn$(b.divWithLabel, E.isChecked()), v.appendChild(E.divWithLabel), v.appendChild(A.divWithLabel), A.divWithLabel.style.marginLeft = "2em", A.setChecked_6taknv$(this.getCharacterData().isIgnoreFreeArcheRest()), b.divWithLabel.style.marginLeft = "2em", b.setChecked_6taknv$(this.getCharacterData().isIgnoreFreeArcheAbilityReq()), v.appendChild(b.divWithLabel), I.setChecked_6taknv$(this.getCharacterData().isABP()), v.appendChild(I.divWithLabel); var w = new Met("Add level to proficiency?"); w.setChecked_6taknv$(this.getCharacterData().isAddLevelToProficiency()), v.appendChild(w.divWithLabel); var L = new Met("Use Gamesmastery Guide stamina rules?"); L.setChecked_6taknv$(this.getCharacterData().isUseStamina()), v.appendChild(L.divWithLabel); var T = new Met("Use Gamesmastery Ancestry Paragon rules?"); T.setChecked_6taknv$(this.getCharacterData().isAncestryParagon()), v.appendChild(T.divWithLabel); var k = new Met("Use Gamesmastery Gradual Ability Boost rules?"); if (k.setChecked_6taknv$(this.getCharacterData().isGradualAbilityBoost()), v.appendChild(k.divWithLabel), t.getDataControl().isFullAppEnabled()) C.divWithLabel.addEventListener("click", function (t, e, i, a) { return function (r) { return t.toggle(), null != e.getCharacterData().getDualClass() ? i.managerClasses.activateDualClass_o7np2w$(a, null) : i.managerClasses.activateDualClass_o7np2w$(a, e.getDefaultDualClass_0()), n } }(C, this, e, i)), E.divWithLabel.addEventListener("click", function (t, e, i, a, r, o) { return function (s) { return t.toggle(), e.getCharacterData().setFreeArchetype_6taknv$(t.isChecked()), i.managerFeats.addFreeArchetypeFeats_ryqv3o$(t.isChecked(), a), htt().setHidden_njr4nn$(r.divWithLabel, t.isChecked()), htt().setHidden_njr4nn$(o.divWithLabel, t.isChecked()), n } }(E, this, e, i, A, b)), A.divWithLabel.addEventListener("click", function (t, e, i, a) { return function (r) { return t.toggle(), e.managerFeats.setFreeArchetypeFeatsUnrestricted_ryqv3o$(t.isChecked(), i), a.getCharacterData().setIgnoreFreeArcheRest_6taknv$(t.isChecked()), n } }(A, e, i, this)), b.divWithLabel.addEventListener("click", function (t, e, i, a) { return function (r) { return t.toggle(), e.managerFeats.setFreeArchetypeFeatsNoAbilityCheck_ryqv3o$(t.isChecked(), i), a.getCharacterData().setIgnoreFreeArcheAbilityReq_6taknv$(t.isChecked()), n } }(b, e, i, this)), w.divWithLabel.addEventListener("click", function (t, e) { return function (i) { return t.isChecked() ? Xet(!0, "Not adding level to proficiency is an optional GMG rule that will substantially change your character's power level. Proceed?", new tnt(t, e)).show() : (t.toggle(), e.getCharacterData().setAddLevelToProficiency_6taknv$(!0)), n } }(w, this)), L.divWithLabel.addEventListener("click", function (t, e, i) { return function (a) { return t.toggle(), e.getCharacterData().setUseStamina_6taknv$(t.isChecked()), i.getNavigationControl().sectionDefenses.setHPLayout(), n } }(L, this, t)), T.divWithLabel.addEventListener("click", function (t, e, i, a, r) { return function (o) { return t.toggle(), e.getCharacterData().setAncestryParagon_6taknv$(t.isChecked()), i.managerFeats.applyAncestryParagon_7z7xgi$(a, t.isChecked()), r.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(a), r.getGuiUpdateControl().updateBuildFragment_n40yp2$(a), n } }(T, this, e, i, t)), k.divWithLabel.addEventListener("click", function (t, e, i, a, r) { return function (s) { t.toggle(); for (var l = 2; l <= 20; l++)e.getCharacterData().hashMapAbilityBoosts.containsKey_11rb$(l) && o(e.getCharacterData().hashMapAbilityBoosts.get_11rb$(l)).clear(); e.getCharacterData().setGradualAbilityBoost_6taknv$(t.isChecked()), i.setBoostLevels(), i.setFreshPlayReportAbilityScores_sfkw43$(a); for (var c = 2; c <= 20; c++)a.managerProficiencies.checkIntelligenceBoostSkillChoices_vy76y1$(i, c); return r.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(i), r.getGuiUpdateControl().updateBuildFragment_n40yp2$(i), n } }(k, this, i, e, t)), I.divWithLabel.addEventListener("click", function (t, e, i, a) { return function (r) { return t.toggle(), e.getCharacterData().setABP_6taknv$(t.isChecked()), El().activateABP_syiyjf$(i, a, t.isChecked()), n } }(I, this, e, i)); else { C.divWithLabel.classList.add(B9().CSS_GREY_TEXT), E.divWithLabel.classList.add(B9().CSS_GREY_TEXT), A.divWithLabel.classList.add(B9().CSS_GREY_TEXT), w.divWithLabel.classList.add(B9().CSS_GREY_TEXT), L.divWithLabel.classList.add(B9().CSS_GREY_TEXT), T.divWithLabel.classList.add(B9().CSS_GREY_TEXT), k.divWithLabel.classList.add(B9().CSS_GREY_TEXT), I.divWithLabel.classList.add(B9().CSS_GREY_TEXT); var R = jlt().getP(); R.innerHTML = "Unlock full app to enable advanced options!", v.appendChild(R), v.addEventListener("click", function (t, e, i, a) { return function (r) { return t.openDialog_ip94j4$(new Wrt(t, e, i)), a.destroy(), n } }(t, e, i, this)) } } function tnt(t, e) { this.closure$checkBox8 = t, this.this$DialogOptions = e } function ent(t, i, a, r, o, s) { var l, c; wet.call(this, t, i, a), this.accountType = r, this.userID = o, this.userName = s, this.price = "$5.99 (usd)", this.stripe = window.Stripe("pk_live_51IqFrDDwORle9Er4QkIuUtMo7HCFUwBZWh8E9CvPT9QAc4Nb0xFemEv3yZou2yuf05mIbtvIlYNJIVzfMvpRZbFV00CSZlSG8J"), this.divScrollable = jlt().getDiv(), this.form = e.isType(l = document.createElement("form"), HTMLFormElement) ? l : d(), this.button = e.isType(c = document.createElement("button"), HTMLButtonElement) ? c : d(), this.pCardError = jlt().getP(), this.divSpinner = jlt().getDiv(), this.buttonText = jlt().getSpan(), this.text = jlt().getH2(), this.hideAcceptButton(), this.content.style.background = "white", this.divScrollable.classList.add("scrollable"); var p = B9().ACCOUNT_TYPES[this.accountType]; this.title.innerHTML = "Logged in via " + p + " as " + this.userName, this.content.style.display = "flex", this.content.appendChild(this.divScrollable); var h = jlt().getImg(); h.src = "img/stripe.png", this.divScrollable.appendChild(h), this.text.style.color = "black", this.text.style.textAlign = "center", this.text.style.width = "600px", this.text.innerHTML = "Pay $5.99 (usd)", this.divScrollable.appendChild(this.text), this.form.id = "payment-form", this.divScrollable.appendChild(this.form); var u = jlt().getDiv(); u.id = "card-element", this.form.appendChild(u), this.button.id = "submit", this.form.appendChild(this.button), this.divSpinner.classList.add("spinner-card"), this.divSpinner.classList.add("hidden"), this.divSpinner.id = "spinner", this.button.appendChild(this.divSpinner), this.buttonText.id = "button-text", this.buttonText.innerHTML = "Pay now", this.button.appendChild(this.buttonText), this.pCardError.id = "card-error", this.pCardError.setAttribute("role", "alert"), this.pCardError.classList.add("result-message"), this.pCardError.classList.add("hidden"), this.pCardError.innerHTML = "Payment Successful", this.form.appendChild(this.pCardError); var _, f, y = bt([$("userID", this.userID)]), m = new XMLHttpRequest; m.open("POST", "https://pathbuilder2e.com/pbonline/app/create_order.php", !0), m.setRequestHeader("Content-Type", "application/json"), m.setRequestHeader("Accept", "application/json"), m.onreadystatechange = (_ = m, f = this, function () { if (4 == _.readyState) if (200 == _.status) { var t = JSON.parse(_.response); f.setCardPayment_0(t) } else f.showError_za3rmp$(_.response) }), m.send(JSON.stringify(y)); var g = jlt().getDiv(); g.style.marginTop = "2em", g.style.textAlign = "center", g.style.color = "blue", g.style.cursor = "pointer", g.innerHTML = "or pay by Paypal", this.divScrollable.appendChild(g), g.addEventListener("click", function (t, e, i, a) { return function (r) { return t.openDialog_ip94j4$(new int(t, e, i, a.accountType, a.userID, a.userName)), a.destroy(), n } }(t, i, a, this)) } function int(t, e, i, a, r, n) { wet.call(this, t, e, i), this.accountType = a, this.userID = r, this.userName = n, this.divScrollable = jlt().getDiv(), this.buttonPaypal = jlt().getDiv(), this.buttonPaypal.id = "paypal-button-container", this.hideAcceptButton(), this.content.style.background = "white", this.divScrollable.classList.add("scrollable"); var o = B9().ACCOUNT_TYPES[this.accountType]; this.title.innerHTML = "Logged in via " + o + " as " + this.userName, this.content.style.display = "flex", this.content.appendChild(this.divScrollable), this.divScrollable.appendChild(this.buttonPaypal), this.renderPaypalContainers_0() } function ant(t) { return function (e, i) { var a = function (t) { return function (e) { var i, a = "string" == typeof (i = e.id) ? i : d(); B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_ACCOUNT, t.accountType), B9().setPreferenceString_puj7f4$(B9().PREFERENCE_USER_NAME, t.userName), B9().setPreferenceString_puj7f4$(B9().PREFERENCE_ORDER_ID, a), B9().setPreferenceString_puj7f4$(B9().PREFERENCE_USER_ID, t.userID), t.mainActivity.setAccountUpgradedFunctions(); var r = "Successfully logged in and upgraded as " + t.userName + ".<br><br>Remember to refresh any other pathbuilder2e.com pages or tabs you have open!"; switch (t.mainActivity.showMessage_puj7f4$("Logged In", r), t.accountType) { case 1: t.updateGoogleAccountStatus_0(a); break; case 2: t.updateRedditAccountStatus_0(a) }t.destroy() } }(t); return i.order.capture().then(a) } } function rnt(t, e, i, a, r, s, l, c, p) { var h, d, u; wet.call(this, t, e, i), this.characterData_0 = i.getCharacterData(), this.characterOrPetBuild_0 = i, this.title.innerHTML = "Proficiency Information", this.setRestictedWidth40(); var _ = i.getPlayReportAbilityScores_sfkw43$(e); if (null != c) { var f = i.hashMapPetCharacterBuilds.get_11rb$(c); this.characterData_0 = o(f).getCharacterData(), _ = f.getPlayReportAbilityScores_sfkw43$(e), this.characterOrPetBuild_0 = f } var y = new Fet(!1, !1), $ = jlt().getDiv(); if (this.content.appendChild($), $.classList.add(B9().CSS_LAYOUT_ITEM), $.appendChild(y.div), null != p) { var g = jlt().getDiv(); g.classList.add(B9().CSS_LAYOUT_ITEM), g.innerHTML = p, this.content.appendChild(g) } this.setSingleFinishedButton(); var v = null != (h = this.characterOrPetBuild_0.getProficiency_61zpoe$(a)) ? h : new nK, S = i.getCharacterData().getCharacterLevel(), C = rK(e, this.characterOrPetBuild_0, v); l && C.addAttackBuffs_cvmu72$(e, this.characterOrPetBuild_0, r); var E, A, b, I, w = C.totalBuffExcludingItem; if (console.log("in dialogh prof buffs " + a), m(a, pK().CLASS_DC)) { var L = 0; null != this.getCharacterData().getDualClass() && (L = 1); var T = e.managerClasses.getClassMasteryLevel_vy76y1$(i, L), k = e.managerClasses.getKeyAbilityRef_qll6wu$(i, L, !0), R = htt().getAbilityMod_za3lpa$(_.abilityScoresBuffed[k]), P = pK().getFinalProficiencyTotal_xek4lp$(this.getCharacterData(), T, this.getCharacterData().getCharacterLevel()), M = 10 + P + R + w | 0; y.setProficiencyImage_za3lpa$(T), y.setProficiency_za3lpa$(P); var N = se().ARRAY_ABILITIES_SHORT[k]; y.setAbility_bm4lxs$(N, R), y.setItemBonus_za3lpa$(0), y.setName_61zpoe$(a + " " + j(M)), y.setColorBasedOnBuff_za3lpa$(w) } else { var D = v.getProficiencyAtLevel_za3lpa$(S); y.setProficiencyImage_za3lpa$(D); var x = pK().getFinalProficiencyTotal_xek4lp$(i.getCharacterData(), D, S); y.setProficiency_za3lpa$(x); var z = se().ARRAY_ABILITIES_SHORT[r], O = htt().getAbilityMod_za3lpa$(_.abilityScoresBuffed[r]); y.setAbility_bm4lxs$(z, O), y.setItemBonus_za3lpa$(s); var F = x + O + s + w | 0; if (y.setName_61zpoe$(a + " " + htt().getSignedValue_za3lpa$(F)), y.setColorBasedOnBuff_za3lpa$(w), t.showDiceRollers) { var B = new Plt; B.buttonDiv.style.marginTop = "0.5em", B.buttonDiv.addEventListener("click", (E = this, A = t, b = a, I = F, function (t) { return E.destroy(), A.getNavigationControl().openDiceTray(), A.diceUIControl.setUpD20Roll_bm4lxs$(b, I), n })), $.insertBefore(B.buttonDiv, $.firstChild) } } if (!C.listBuffDetails.isEmpty()) { Q(C.listBuffDetails); var H = ""; for (d = C.listBuffDetails.iterator(); d.hasNext();) { var q = d.next(); H.length > 0 && (H += "<br>"), e.hashMapBuffIDsToNames.containsKey_11rb$(q) ? H += e.hashMapBuffIDsToNames.get_11rb$(q) : H += q } var U = jlt().getP(); U.classList.add(B9().CSS_LAYOUT_ITEM), this.content.appendChild(U), U.innerHTML = H } if (!C.listDebuffDetails.isEmpty()) { Q(C.listDebuffDetails); var G = ""; for (u = C.listDebuffDetails.iterator(); u.hasNext();) { var W = u.next(); G.length > 0 && (G += "<br>"), e.hashMapBuffIDsToNames.containsKey_11rb$(W) ? G += e.hashMapBuffIDsToNames.get_11rb$(W) : G += W } var Y = jlt().getP(); Y.classList.add(B9().CSS_LAYOUT_ITEM), this.content.appendChild(Y), Y.innerHTML = G } } function nnt(t) { var i, a, r, o, s, l, c, p, h; this.root_0 = jlt().getDiv(), this.divTitle = jlt().getDiv(), this.topBar_0 = jlt().getDiv(), this.buttonBar_0 = jlt().getDiv(), this.holder_0 = jlt().getDiv(), this.content = jlt().getDiv(), this.buttonAccept_0 = jlt().getDiv(), this.buttonCancel_0 = jlt().getDiv(), this.text1_0 = "I've definitely set my character level properly.", this.text2_0 = "I understand that the Bard and Druid dedications do not award the feats and powers from their muse or order.", this.text3_0 = "I understand that not all classes get a class feat at level 1. I have read the CRB Errata and understand that Wizards do not get a class feat at level 1.", this.text4_0 = "I understand that Archetype Skill Feats can only be found under skill feats, NOT class feats.", this.text5_0 = "I understand that Way of the Spellshot is a class archetype and I have to enable class archetypes to use it.", this.arrayCheckBox_0 = [new Met(this.text1_0), new Met(this.text2_0), new Met(this.text3_0), new Met(this.text4_0), new Met(this.text5_0)], this.root_0.classList.add("modal"), null != (i = document.body) && i.appendChild(this.root_0), this.holder_0.classList.add("modal-content"), this.holder_0.style.width = "800px", this.root_0.appendChild(this.holder_0), this.holder_0.appendChild(this.topBar_0), this.topBar_0.classList.add("dialog-top-bar"), this.topBar_0.appendChild(this.divTitle), this.divTitle.classList.add("dialog-title"), this.divTitle.innerHTML = "Report Bug", this.holder_0.appendChild(this.content), this.buttonBar_0.classList.add("modal-buttons"), this.holder_0.appendChild(this.buttonBar_0), this.buttonAccept_0.innerHTML = "Accept", this.buttonAccept_0.classList.add("modal-button"), this.buttonAccept_0.addEventListener("click", (p = this, h = t, function (t) { var e, i, a = !0; for (e = p.arrayCheckBox_0, i = 0; i !== e.length; ++i)e[i].isChecked() || (a = !1); return a ? (h.openBrowser_61zpoe$("https://gitlab.com/doctor.unspeakable/pathbuilder-2e-web-version/-/issues"), p.destroy()) : h.showMessage_61zpoe$("Please read and check all the checkboxes before reporting your bug!"), n })), this.buttonBar_0.appendChild(this.buttonAccept_0), this.buttonCancel_0.innerHTML = "Cancel", this.buttonCancel_0.classList.add("modal-button"), this.buttonCancel_0.addEventListener("click", function (t) { return function (e) { return t.destroy(), n } }(this)), this.buttonBar_0.appendChild(this.buttonCancel_0); var u = jlt().getDiv(); u.classList.add("scrollable"), u.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.appendChild(u), this.content.style.padding = "0.5em"; var _ = jlt().getP(); for (_.innerHTML = "Please read and check the boxes to make sure you are submitting a valid bug report.", u.appendChild(_), a = this.arrayCheckBox_0, r = 0; r !== a.length; ++r) { var f = a[r]; f.divWithLabel.style.marginTop = "1em", u.appendChild(f.divWithLabel), f.divWithLabel.addEventListener("click", ont(f)) } var y = jlt().getDiv(); y.style.marginTop = "2em", y.innerText = "Other Issues", u.appendChild(y); var m = e.isType(o = document.createElement("ul"), HTMLUListElement) ? o : d(); y.appendChild(m); var $ = e.isType(s = document.createElement("li"), HTMLLIElement) ? s : d(); $.innerHTML = "Privacy Badger chrome extension will prevent you from logging in via google", m.appendChild($), ($ = e.isType(l = document.createElement("li"), HTMLLIElement) ? l : d()).innerHTML = "Bitdefender Free currently (Aug 2021) has a bug that corrupts XHR POST requests, preventing this site from working correctly.", m.appendChild($), ($ = e.isType(c = document.createElement("li"), HTMLLIElement) ? c : d()).innerHTML = "Firefox v96.0.1 has an error handling cookies that prevents Google Login under certain conditions. The issue may be solved by clearing site cookies or reinstalling firefox. Remember to backup your local database first!", m.appendChild($) } function ont(t) { return function (e) { return t.toggle(), n } } function snt(t, e, i) { wet.call(this, t, e, i), this.checkBoxHeal_0 = new Met("Regain Hit Points equal to your Constitution modifier (minimum 1) multiplied by your level"), this.checkBoxFatgue_0 = new Met("Lose the Fatigued condition"), this.checkBoxDoomed_0 = new Met("Reduce the severity of the doomed and drained conditions by 1"), this.checkBoxSpells_0 = new Met("Restore spell slots"), this.title.innerHTML = "Rest", this.content.style.padding = "0.3em", this.content.style.marginRight = "2em"; var a = jlt().getDiv(); a.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.appendChild(a); var r, o = jlt().getDiv(); o.innerHTML = "Characters require 8 hours of sleep each day. Though resting typically happens at night, a group gains the same benefits for resting during the day. Either way, they can gain the benefits of resting only once every 24 hours.", a.appendChild(o), o.style.marginBottom = "1em", this.checkBoxHeal_0.setChecked_6taknv$(!0), this.checkBoxHeal_0.divWithLabel.addEventListener("click", (r = this, function (t) { return r.checkBoxHeal_0.toggle(), n })), a.appendChild(this.checkBoxHeal_0.divWithLabel), this.checkBoxFatgue_0.setChecked_6taknv$(!0), this.checkBoxFatgue_0.divWithLabel.addEventListener("click", function (t) { return function (e) { return t.checkBoxFatgue_0.toggle(), n } }(this)), a.appendChild(this.checkBoxFatgue_0.divWithLabel), this.checkBoxDoomed_0.setChecked_6taknv$(!0), this.checkBoxDoomed_0.divWithLabel.addEventListener("click", function (t) { return function (e) { return t.checkBoxDoomed_0.toggle(), n } }(this)), a.appendChild(this.checkBoxDoomed_0.divWithLabel), this.checkBoxSpells_0.setChecked_6taknv$(!0), this.checkBoxSpells_0.divWithLabel.addEventListener("click", function (t) { return function (e) { return t.checkBoxSpells_0.toggle(), n } }(this)), a.appendChild(this.checkBoxSpells_0.divWithLabel) } mrt.$metadata$ = { kind: p, simpleName: "MODES", interfaces: [Lt] }, mrt.values = function () { return [grt(), vrt()] }, mrt.valueOf_61zpoe$ = function (t) { switch (t) { case "LOCAL": return grt(); case "GOOGLE": return vrt(); default: Tt("No enum constant views.fragments.dialogs.playdialogs.DialogLoad.MODES." + t) } }, yrt.prototype.setSpinnerOrder_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(["Most Recent", "Alphabetically"]), i.setSpinnerSelection_s8ev37$(this.currentOrderType_0), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.currentOrderType_0 = t.spinner.selectedIndex, e.mode_0 === vrt() && null != e.listGoogleItems_0 ? e.setListViewGDrive_0() : e.setListView_0(), n })), this.addWidgetToTopSecondLayer_lt8gi4$(i.spinner) }, yrt.prototype.setSpinnerClass_0 = function () { var t, e, i, a = new Uet(!0), r = w(this.dataControl.managerClasses.classInformationSet.hashMap.keys); Q(r), r.add_wxm5ur$(0, "All Classes"), a.setSpinnerList_un5gdn$(r), a.spinner.addEventListener("change", (t = a, e = this, i = r, function (a) { var r = t.spinner.selectedIndex; return e.classFilter_0 = 0 === r ? null : i.get_za3lpa$(r), e.mode_0 === vrt() ? e.setListViewGDrive_0() : e.setListView_0(), n })), this.addWidgetToTopSecondLayer_lt8gi4$(a.spinner) }, yrt.prototype.setSpinnerAncestry_0 = function () { var t, e, i, a = new Uet(!0), r = w(this.dataControl.managerAncestry.hashMapAncestries.keys); Q(r), r.add_wxm5ur$(0, "All Ancestries"), a.setSpinnerList_un5gdn$(r), a.spinner.addEventListener("change", (t = a, e = this, i = r, function (a) { var r = t.spinner.selectedIndex; return e.ancestryFilter_0 = 0 === r ? null : i.get_za3lpa$(r), e.mode_0 === vrt() ? e.setListViewGDrive_0() : e.setListView_0(), n })), this.addWidgetToTopSecondLayer_lt8gi4$(a.spinner) }, yrt.prototype.setSpinnerLevel_0 = function () { for (var t, e, i = new Uet(!0), a = u(), r = 1; r <= 20; r++)a.add_11rb$("Level " + r); a.add_wxm5ur$(0, "All Levels"), i.setSpinnerList_un5gdn$(a), i.spinner.addEventListener("change", (t = i, e = this, function (i) { var a = t.spinner.selectedIndex; return e.levelFilter_0 = 0 === a ? null : a, e.mode_0 === vrt() ? e.setListViewGDrive_0() : e.setListView_0(), n })), this.addWidgetToTopSecondLayer_lt8gi4$(i.spinner) }, Srt.prototype.completion_5b2adw$ = function (t) { if (null != t) { t.setWebID_pdl1vj$(null), this.closure$folderFile.isMainFolder() ? t.setFolderID_pdl1vj$(null) : t.setFolderID_pdl1vj$(this.closure$folderFile.uuid), this.this$DialogLoad.mainActivity.fileManager.saveFile_g7kqbx$(t); var e = new P7(o(this.this$DialogLoad.currentSelection_0).characterName, o(this.this$DialogLoad.currentSelection_0).classLevel, Date.now(), t.getWebID(), t.getFolderID()); this.this$DialogLoad.listItems_0.add_11rb$(e), this.this$DialogLoad.setListView_0() } else this.this$DialogLoad.mainActivity.showMessage_61zpoe$("An error occurred copying this character") }, Srt.$metadata$ = { kind: p, interfaces: [v7] }, Ert.prototype.onCompletion_8kj6y5$ = function (t, e) { }, Ert.$metadata$ = { kind: p, interfaces: [K7] }, Crt.prototype.completion_5b2adw$ = function (t) { null != t && (this.this$DialogLoad.listGoogleItems_0 = null, this.this$DialogLoad.mainActivity.gDriveManager.saveNewGoogleFileWithMetaData_n5xo6q$(t, new Ert)) }, Crt.$metadata$ = { kind: p, interfaces: [v7] }, yrt.prototype.fromLocalCopy_mh747l$ = function (t, e) { if (null != this.currentSelection_0) if (0 === t) { var i = new Srt(e, this); this.mainActivity.fileManager.getCharacterData_m6lddt$(o(this.currentSelection_0).webID, o(this.currentSelection_0).folderID, i) } else if (1 === t) { var a = new Crt(this); this.mainActivity.fileManager.getCharacterData_m6lddt$(o(this.currentSelection_0).webID, o(this.currentSelection_0).folderID, a) } }, brt.prototype.onCompletion_8kj6y5$ = function (t, i) { if (t && null != this.this$DialogLoad.currentSelection_0) { this.this$DialogLoad.mainActivity.fileManager.deleteCharacterFile_qxwh7q$(o(this.this$DialogLoad.currentSelection_0)); var a, r = this.this$DialogLoad.listItems_0, n = this.this$DialogLoad.currentSelection_0; (e.isType(a = r, ht) ? a : d()).remove_11rb$(n), this.this$DialogLoad.currentSelection_0 = null, this.this$DialogLoad.setListView_0() } }, brt.$metadata$ = { kind: p, interfaces: [K7] }, Art.prototype.completion_5b2adw$ = function (t) { null != t && (this.this$DialogLoad.listGoogleItems_0 = null, this.this$DialogLoad.mainActivity.gDriveManager.saveNewGoogleFileWithMetaData_n5xo6q$(t, new brt(this.this$DialogLoad))) }, Art.$metadata$ = { kind: p, interfaces: [v7] }, yrt.prototype.fromLocalMove_mh747l$ = function (t, e) { var i; if (null != this.currentSelection_0) if (0 === t) { e.isMainFolder() ? o(this.currentSelection_0).folderID = null : o(this.currentSelection_0).folderID = e.uuid; var a = JSON.stringify(this.currentSelection_0); this.mainActivity.fileManager.saveFileMetaData_puj7f4$(a, "string" == typeof (i = o(this.currentSelection_0).webID) ? i : d()) } else if (1 === t) { var r = new Art(this); this.mainActivity.fileManager.getCharacterData_m6lddt$(o(this.currentSelection_0).webID, o(this.currentSelection_0).folderID, r) } }, Irt.prototype.onCompletion_8kj6y5$ = function (t, e) { this.this$DialogLoad.listGoogleItems_0 = null, this.this$DialogLoad.setListGDriveFiles_0() }, Irt.$metadata$ = { kind: p, interfaces: [K7] }, yrt.prototype.fromGoogleCopy_mh747l$ = function (t, e) { var i; if (null != this.currentSelectionGDrive_0 && null != this.exportBundle_0 && null != (i = o(this.exportBundle_0).characterData)) { var a = i; if (0 === t) { e.isMainFolder() ? a.setFolderID_pdl1vj$(null) : a.setFolderID_pdl1vj$(e.uuid), this.mainActivity.fileManager.saveFile_g7kqbx$(a); var r = a.getAncestry() + " " + a.getClassName() + " " + a.getCharacterLevel().toString(), n = new P7(a.getCharacterName(), r, Date.now(), a.getWebID(), a.getFolderID()); this.listItems_0.add_11rb$(n) } else 1 === t && this.mainActivity.gDriveManager.saveNewGoogleFileWithMetaData_n5xo6q$(a, new Irt(this)) } }, wrt.prototype.onCompletion_6taknv$ = function (t) { this.this$DialogLoad.divInfo.innerHTML = ""; var i, a = o(this.this$DialogLoad.listGoogleItems_0), r = this.this$DialogLoad.currentSelectionGDrive_0; (e.isType(i = a, ht) ? i : d()).remove_11rb$(r), this.this$DialogLoad.currentSelectionGDrive_0 = null, this.this$DialogLoad.setListViewGDrive_0() }, wrt.$metadata$ = { kind: p, interfaces: [rtt] }, yrt.prototype.fromGoogleMove_mh747l$ = function (t, e) { var i; if (null != this.currentSelectionGDrive_0 && null != this.exportBundle_0 && null != (i = o(this.exportBundle_0).characterData)) { var a = i; if (0 === t) { e.isMainFolder() ? a.setFolderID_pdl1vj$(null) : a.setFolderID_pdl1vj$(e.uuid), this.mainActivity.fileManager.saveFile_g7kqbx$(a); var r = a.getAncestry() + " " + a.getClassName() + " " + a.getCharacterLevel().toString(), n = new P7(a.getCharacterName(), r, Date.now(), a.getWebID(), a.getFolderID()); this.listItems_0.add_11rb$(n), this.mainActivity.gDriveManager.deleteGDriveFile_42b9o5$(o(this.currentSelectionGDrive_0).id, new wrt(this)) } } }, Lrt.prototype.onCompletion_32e6x9$ = function (t) { Ntt().removeSpinner(), this.this$DialogLoad.enableDisableButtons_0(!0), null != t ? (this.this$DialogLoad.exportBundle_0 = t, this.this$DialogLoad.mainActivity.fileManager.setStatBlockToDiv_afcxx0$(o(t.characterData), this.this$DialogLoad.divInfo)) : this.this$DialogLoad.divInfo.innerHTML = "Unable to load file." }, Lrt.$metadata$ = { kind: p, interfaces: [Y7] }, yrt.prototype.cloneToInfo_q80y7p$ = function (t) { if (this.mode_0 === grt() && null != this.currentSelection_0) null != o(this.currentSelection_0).webID && this.mainActivity.fileManager.setFileStatBlock_epyyjl$(o(o(this.currentSelection_0).webID), this.divInfo); else if (this.mode_0 === vrt() && null != this.currentSelectionGDrive_0) { this.enableDisableButtons_0(!1), this.divInfo.innerHTML = "", this.exportBundle_0 = null, Ntt().addSpinner_61zpoe$("Fetching"); var e = new Lrt(this); this.mainActivity.gDriveManager.getGDriveFile_i837kp$(o(this.currentSelectionGDrive_0).id, e) } }, yrt.prototype.enableDisableButtons_0 = function (t) { this.buttonsEnabled_0 = t; var e = "modal-button-disabled"; t ? (this.buttonAccept.classList.remove(e), this.buttonMove_0.classList.remove(e), this.buttonDelete_0.classList.remove(e)) : (this.buttonAccept.classList.add(e), this.buttonMove_0.classList.add(e), this.buttonDelete_0.classList.add(e)) }, yrt.prototype.setSpinnerSource_0 = function (t) { var e, i, a = new Uet(!0), r = [B9().FILE_SOURCE_LOCAL_NAME, B9().FILE_SOURCE_GOOGLE_NAME]; a.setSpinnerList_kand9s$(r), this.addWidgetToTop_lt8gi4$(a.spinner), a.setSpinnerSelection_s8ev37$(t), a.spinner.addEventListener("change", (e = this, i = a, function (t) { return e.divInfo.innerHTML = "", B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_LAST_LOCAL_GOOGLE_USE, i.spinner.selectedIndex), 0 === i.spinner.selectedIndex ? (e.enableDisableButtons_0(!0), htt().setInvisible_njr4nn$(e.spinnerFolderHolder_0, !0), htt().setInvisible_njr4nn$(e.buttonAddFolder_0.buttonDiv, !0), e.currentFolder_0.isMainFolder() || (htt().setInvisible_njr4nn$(e.buttonDeleteFolder_0.buttonDiv, !0), htt().setInvisible_njr4nn$(e.buttonEditFolder_0.buttonDiv, !0)), e.mode_0 = grt(), e.setListView_0()) : 1 === i.spinner.selectedIndex && (e.enableDisableButtons_0(!1), htt().setInvisible_njr4nn$(e.spinnerFolderHolder_0, !1), htt().setInvisible_njr4nn$(e.buttonAddFolder_0.buttonDiv, !1), htt().setInvisible_njr4nn$(e.buttonDeleteFolder_0.buttonDiv, !1), htt().setInvisible_njr4nn$(e.buttonEditFolder_0.buttonDiv, !1), e.mode_0 = vrt(), e.setListGDriveFiles_0()), n })) }, krt.prototype.additionalInfo_61zpoe$ = function (t) { if (t.length > 0) { var e = new M7(this.this$DialogLoad.mainActivity.getGuiUpdateControl().getPlatformUUID(), t); this.this$DialogLoad.mainActivity.fileManager.fileManagementFolders.saveFolderFile_elxfi1$(e), this.this$DialogLoad.listFolders_0.add_11rb$(e), this.this$DialogLoad.setSpinnerFolders_0() } }, krt.$metadata$ = { kind: p, interfaces: [v9] }, Rrt.prototype.accept = function () { var t; for (t = this.this$DialogLoad.listItems_0.iterator(); t.hasNext();) { var e = t.next(); if (null != e.folderID && m(e.folderID, this.this$DialogLoad.currentFolder_0.uuid) && null != e.webID) { e.folderID = null; var i = JSON.stringify(e); this.this$DialogLoad.mainActivity.fileManager.saveFileMetaData_puj7f4$(i, e.webID) } } this.this$DialogLoad.listFolders_0.remove_11rb$(this.this$DialogLoad.currentFolder_0), this.this$DialogLoad.mainActivity.fileManager.fileManagementFolders.deleteFolderFile_elxfi1$(o(this.this$DialogLoad.currentFolder_0)), this.this$DialogLoad.currentFolder_0 = new M7(x7().FOLDER_MAIN_ID, x7().FOLDER_MAIN_NAME), this.this$DialogLoad.setSpinnerFolders_0(), this.this$DialogLoad.setListView_0() }, Rrt.$metadata$ = { kind: p, interfaces: [Vet] }, Prt.prototype.additionalInfo_61zpoe$ = function (t) { t.length > 0 && (this.this$DialogLoad.currentFolder_0.name = t, this.this$DialogLoad.mainActivity.fileManager.fileManagementFolders.saveFolderFile_elxfi1$(this.this$DialogLoad.currentFolder_0), this.this$DialogLoad.setSpinnerFolders_0()) }, Prt.$metadata$ = { kind: p, interfaces: [v9] }, Trt.prototype.completion_lkwbu8$ = function (t) { var e; this.this$DialogLoad.listFolders_0 = t, this.this$DialogLoad.setSpinnerFolders_0(), this.this$DialogLoad.buttonAddFolder_0 = new Elt("Add Folder", "img/icon_folder_add.png"), this.this$DialogLoad.buttonAddFolder_0.buttonDiv.addEventListener("click", (e = this.this$DialogLoad, function (t) { var i = new krt(e); return e.mainActivity.getAdditionalInfo_k9w0wi$("Folder Name", "", i, !1), n })), this.this$DialogLoad.addWidgetToTop_lt8gi4$(this.this$DialogLoad.buttonAddFolder_0.buttonDiv), this.this$DialogLoad.addWidgetToTop_lt8gi4$(this.this$DialogLoad.buttonDeleteFolder_0.buttonDiv), this.this$DialogLoad.buttonDeleteFolder_0.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.currentFolder_0.isMainFolder() || Xet(!0, "Really delete folder " + t.currentFolder_0.name + "? Any characters in it will be returned to the main folder.", new Rrt(t)).show(), n } }(this.this$DialogLoad)), this.this$DialogLoad.buttonEditFolder_0.buttonDiv.addEventListener("click", function (t) { return function (e) { if (!t.currentFolder_0.isMainFolder()) { var i = new Prt(t); t.mainActivity.getAdditionalInfo_k9w0wi$("Set Folder Name", t.currentFolder_0.name, i, !1) } return n } }(this.this$DialogLoad)), this.this$DialogLoad.addWidgetToTop_lt8gi4$(this.this$DialogLoad.buttonEditFolder_0.buttonDiv) }, Trt.$metadata$ = { kind: p, interfaces: [r7] }, yrt.prototype.setListFolderFiles_0 = function () { var t = new Trt(this); this.mainActivity.fileManager.fileManagementFolders.getSortedListFolderFiles_d3bi5s$(t) }, yrt.prototype.setSpinnerFolders_0 = function () { var t = this.listFolders_0.indexOf_11rb$(this.currentFolder_0); (t < 0 || t > (this.listFolders_0.size - 1 | 0)) && (t = 0), this.listFolders_0.removeAt_za3lpa$(0); var e = this.listFolders_0; e.size > 1 && q(e, new G(_rt(Mrt))); var i = new M7(x7().FOLDER_MAIN_ID, x7().FOLDER_MAIN_NAME); this.listFolders_0.add_wxm5ur$(0, i), this.spinnerFolderHolder_0.innerHTML = ""; var a, r, o = new Wet(this.listFolders_0, !0); o.spinner.addEventListener("change", (a = o, r = this, function (t) { return r.currentFolder_0 = a.getSelectedFolderFile(), r.currentFolder_0.isMainFolder() ? (htt().setInvisible_njr4nn$(r.buttonDeleteFolder_0.buttonDiv, !1), htt().setInvisible_njr4nn$(r.buttonEditFolder_0.buttonDiv, !1)) : (htt().setInvisible_njr4nn$(r.buttonDeleteFolder_0.buttonDiv, !0), htt().setInvisible_njr4nn$(r.buttonEditFolder_0.buttonDiv, !0)), r.setListView_0(), n })), o.setSpinnerSelection_s8ev37$(t), this.spinnerFolderHolder_0.appendChild(o.spinner) }, yrt.prototype.correctClassFilter_0 = function (t) { return null == this.classFilter_0 || _(t, o(this.classFilter_0)) }, yrt.prototype.correctAncestryFilter_0 = function (t) { return null == this.ancestryFilter_0 || _(t, o(this.ancestryFilter_0)) }, yrt.prototype.correctLevelFilter_0 = function (t) { return null == this.levelFilter_0 || (this.mode_0 === vrt() ? m(t, o(this.levelFilter_0).toString()) : _(t, " " + o(this.levelFilter_0).toString())) }, yrt.prototype.meetsRequirements_0 = function (t) { return this.correctClassFilter_0(t.classLevel) && this.correctAncestryFilter_0(t.classLevel) && this.correctLevelFilter_0(t.classLevel) }, yrt.prototype.setListView_0 = function () { var t; if (this.divScrollable.innerHTML = "", 0 === this.currentOrderType_0) { var e = this.listItems_0; e.size > 1 && q(e, new G(frt(Nrt))) } else { var i = this.listItems_0; i.size > 1 && q(i, new G(_rt(Drt))) } for (t = this.listItems_0.iterator(); t.hasNext();) { var a = t.next(); if (this.correctFolder_0(a) && this.meetsRequirements_0(a)) { var r = new Ylt(!1); r.topDiv.style.fontWeight = "bold", r.div.classList.add(B9().CSS_BUTTON_TEXT), r.setName_61zpoe$(a.characterName); var n = new Date(a.timestamp), o = n.toDateString(), s = n.getMinutes(); o += s < 10 ? ", " + j(n.getHours()) + ":0" + j(s) : ", " + j(n.getHours()) + ":" + j(s); var l = a.classLevel + "<br>Last Modified: " + o; r.setDescription_61zpoe$(l), r.setAction_za3lpa$(-2), htt().setHidden_njr4nn$(r.layoutDetail, !0), this.divScrollable.appendChild(r.div), this.hashMapDivs.put_xwzc9p$(r, a) } } }, xrt.prototype.onCompletion_ck5902$ = function (t) { this.this$DialogLoad.listGoogleItems_0 = t, this.this$DialogLoad.enableDisableButtons_0(!0), this.this$DialogLoad.setListViewGDrive_0() }, xrt.$metadata$ = { kind: p, interfaces: [ttt] }, yrt.prototype.setListGDriveFiles_0 = function () { this.divScrollable.innerHTML = "", this.mainActivity.getDataControl().isFullAppEnabled() ? null == this.listGoogleItems_0 ? (Ntt().addSpinner_61zpoe$("Fetching"), this.mainActivity.gDriveManager.getListGDriveMeta_u40oby$(new xrt(this))) : this.setListViewGDrive_0() : this.mainActivity.setUpgradeMessage_61zpoe$(" save and load from google drive.") }, yrt.prototype.meetsRequirementsGoogle_0 = function (t) { return this.correctClassFilter_0(t.className) && this.correctAncestryFilter_0(t.ancestry) && this.correctLevelFilter_0(t.level) }, yrt.prototype.setListViewGDrive_0 = function () { var t; if (this.divScrollable.innerHTML = "", 0 === this.currentOrderType_0) { var e = o(this.listGoogleItems_0); e.size > 1 && q(e, new G(frt(zrt))) } else { var i = o(this.listGoogleItems_0); i.size > 1 && q(i, new G(_rt(Ort))) } for (t = o(this.listGoogleItems_0).iterator(); t.hasNext();) { var a = t.next(); if (this.meetsRequirementsGoogle_0(a)) { var r = new Ylt(!1); r.topDiv.style.fontWeight = "bold", r.div.classList.add(B9().CSS_BUTTON_TEXT), r.setName_61zpoe$(a.name); var n = a.ancestry + " " + a.className + " " + a.level + "<br>Last Modified: " + a.timeStamp; r.setDescription_61zpoe$(n), r.setAction_za3lpa$(-2), htt().setHidden_njr4nn$(r.layoutDetail, !0), this.divScrollable.appendChild(r.div), this.hashMapDivs.put_xwzc9p$(r, a) } } }, yrt.prototype.correctFolder_0 = function (t) { return this.currentFolder_0.isMainFolder() ? null == t.folderID : null != t.folderID && m(t.folderID, this.currentFolder_0.uuid) }, yrt.prototype.folderDoesNotExist_0 = function (t) { var e; if (null != t.folderID) { console.log("SEEKING FOLDER " + t.folderID); var i = !1; for (e = this.listFolders_0.iterator(); e.hasNext();) { var a = e.next(); console.log("CHECKING " + a.uuid), m(a.uuid, t.folderID) && (console.log("found is true"), i = !0) } if (!i) return !0 } return !1 }, yrt.prototype.openPRD = function () { }, yrt.prototype.onItemClicked_za3rmp$ = function (t) { var i, a; this.mode_0 === grt() ? this.currentSelection_0 = e.isType(i = t, P7) ? i : d() : this.mode_0 === vrt() && (this.currentSelectionGDrive_0 = e.isType(a = t, stt) ? a : d()) }, yrt.prototype.onAccept = function () { this.mode_0 === grt() && null != this.currentSelection_0 ? (this.mainActivity.characterIsAlreadyOpen_pdl1vj$(o(this.currentSelection_0).webID) ? new bet("Alert!", "This character is already open!").show() : this.mainActivity.loadFileByID_rkkr90$(o(this.currentSelection_0).webID, o(this.currentSelection_0).folderID), this.destroy()) : this.mode_0 === vrt() && null != this.currentSelectionGDrive_0 && this.buttonsEnabled_0 && null != this.exportBundle_0 && (o(o(this.exportBundle_0).characterData).setGoogleFileID_pdl1vj$(o(this.currentSelectionGDrive_0).id), this.mainActivity.setGDriveCharacter_torya4$(o(this.exportBundle_0)), this.destroy()) }, Frt.prototype.accept = function () { var t; this.this$DialogLoad.divInfo.innerHTML = "", this.closure$mainActivity.fileManager.deleteCharacterFile_qxwh7q$(e.isType(t = this.this$DialogLoad.currentSelection_0, P7) ? t : d()); var i, a = this.this$DialogLoad.listItems_0, r = this.this$DialogLoad.currentSelection_0; (e.isType(i = a, ht) ? i : d()).remove_11rb$(r), this.this$DialogLoad.currentSelection_0 = null, this.this$DialogLoad.setListView_0() }, Frt.$metadata$ = { kind: p, interfaces: [Vet] }, jrt.prototype.onCompletion_6taknv$ = function (t) { this.this$DialogLoad.divInfo.innerHTML = ""; var i, a = o(this.this$DialogLoad.listGoogleItems_0), r = this.this$DialogLoad.currentSelectionGDrive_0; (e.isType(i = a, ht) ? i : d()).remove_11rb$(r), this.this$DialogLoad.currentSelectionGDrive_0 = null, this.this$DialogLoad.setListViewGDrive_0() }, jrt.$metadata$ = { kind: p, interfaces: [rtt] }, Brt.prototype.accept = function () { this.closure$mainActivity.gDriveManager.deleteGDriveFile_42b9o5$(o(this.this$DialogLoad.currentSelectionGDrive_0).id, new jrt(this.this$DialogLoad)) }, Brt.$metadata$ = { kind: p, interfaces: [Vet] }, Hrt.prototype.folderFileSelected_3uvjaw$ = function (t, e, i) { i ? this.this$DialogLoad.fromLocalCopy_mh747l$(t, e) : this.this$DialogLoad.fromLocalMove_mh747l$(t, e), this.this$DialogLoad.setListView_0() }, Hrt.$metadata$ = { kind: p, interfaces: [Grt] }, qrt.prototype.folderFileSelected_3uvjaw$ = function (t, e, i) { i ? this.this$DialogLoad.fromGoogleCopy_mh747l$(t, e) : this.this$DialogLoad.fromGoogleMove_mh747l$(t, e), this.this$DialogLoad.setListGDriveFiles_0() }, qrt.$metadata$ = { kind: p, interfaces: [Grt] }, yrt.$metadata$ = { kind: p, simpleName: "DialogLoad", interfaces: [Iet] }, Urt.prototype.onAccept = function () { var t = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ACCOUNT, 0); if (1 === this.spinnerSource_0.spinner.selectedIndex && 1 !== t) this.mainActivity.showMessage_61zpoe$("You must be logged in via google to save and load to google drive"); else { var e = this.spinnerFolder_0.getSelectedFolderFile(); this.folderFileReturn.folderFileSelected_3uvjaw$(this.spinnerSource_0.spinner.selectedIndex, e, this.checkboxCopy_0.isChecked()), this.destroy() } }, Grt.$metadata$ = { kind: H, simpleName: "FolderFileReturn", interfaces: [] }, Urt.$metadata$ = { kind: p, simpleName: "DialogLoadMoveCopy", interfaces: [wet] }, Wrt.prototype.renderGoogleButton = function () { var t, e = (t = this, function (e) { var i, a, r = e.getBasicProfile(), n = e.getId(), o = r.getName(), s = B9().SITE_URL + B9().SITE_EXT + "check_user_google.php"; t.mainActivity.masterDataHandler.checkAccountStatus_xowcs4$(s, 1, "string" == typeof (i = n) ? i : d(), "string" == typeof (a = o) ? a : d()), t.destroy() }), i = Yrt; window.gapi.auth2.getAuthInstance().attachClickHandler(this.buttonGoogle, Vrt, e, i) }, Wrt.prototype.onAccept = function () { this.destroy() }, Krt.prototype.onStart = function () { this.this$DialogLogin.renderGoogleButton() }, Krt.prototype.onFailure = function () { }, Krt.$metadata$ = { kind: p, interfaces: [q7] }, Wrt.$metadata$ = { kind: p, simpleName: "DialogLogin", interfaces: [wet] }, Xrt.prototype.onAccept = function () { this.destroy() }, Xrt.$metadata$ = { kind: p, simpleName: "DialogLogout", interfaces: [wet] }, Jrt.prototype.disableThirdParty_0 = function (t) { var e; for (e = this.dataControl.managerCopyright.hashMapCopyrightInformation.keys.iterator(); e.hasNext();) { var i = e.next(), a = this.dataControl.managerCopyright.hashMapCopyrightInformation.get_11rb$(i); 2 === o(a).type && (t ? this.getCharacterData().listDisabledRulebooks.remove_11rb$(i) : this.getCharacterData().listDisabledRulebooks.add_11rb$(i)) } }, Jrt.prototype.disableAP_0 = function (t) { var e; for (e = this.dataControl.managerCopyright.hashMapCopyrightInformation.keys.iterator(); e.hasNext();) { var i = e.next(), a = this.dataControl.managerCopyright.hashMapCopyrightInformation.get_11rb$(i); 1 === o(a).type && (t ? this.getCharacterData().listDisabledRulebooks.remove_11rb$(i) : this.getCharacterData().listDisabledRulebooks.add_11rb$(i)) } }, Jrt.prototype.disableAllBooks_0 = function () { var t; for (t = this.dataControl.managerCopyright.hashMapCopyrightInformation.keys.iterator(); t.hasNext();) { var e = t.next(); m(e, Ic().BOOK_CRB) || this.getCharacterData().listDisabledRulebooks.add_11rb$(e) } }, Jrt.prototype.onAccept = function () { this.destroy() }, Zrt.prototype.accept = function () { this.this$DialogNewCharacter.disableAllBooks_0(), this.this$DialogNewCharacter.destroy() }, Zrt.$metadata$ = { kind: p, interfaces: [Vet] }, Jrt.$metadata$ = { kind: p, simpleName: "DialogNewCharacter", interfaces: [wet] }, Qrt.prototype.getDefaultDualClass_0 = function () { return m(this.getCharacterData().getClassName(), Rr().CLASS_FIGHTER) ? er().CLASS_ALCHEMIST : Rr().CLASS_FIGHTER }, Qrt.prototype.showClassArchetypeInfo_0 = function () { this.mainActivity.showMessage_61zpoe$("Class archetypes are different from normal archetypes, and make fundamental changes to the static features of your class. Normal archetype dedication feats can be found in by changing the drop down at the top of the class feat dialog.") }, Qrt.prototype.onAccept = function () { this.mainActivity.getGuiUpdateControl().updateBuildFragment_n40yp2$(this.characterBuild), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, tnt.prototype.accept = function () { this.closure$checkBox8.toggle(), this.this$DialogOptions.getCharacterData().setAddLevelToProficiency_6taknv$(!1) }, tnt.$metadata$ = { kind: p, interfaces: [Vet] }, Qrt.$metadata$ = { kind: p, simpleName: "DialogOptions", interfaces: [wet] }, ent.prototype.setCardPayment_0 = function (t) { var e, i = this.stripe.elements(), a = bt([$("base", bt([$("color", "#32325d"), $("fontFamily", "Arial, sans-serif"), $("fontSmoothing", "antialiased"), $("fontSize", "16px"), $("::placeholder", bt([$("color", "#32325d")]))])), $("invalid", bt([$("fontFamily", "Arial, sans-serif"), $("color", "#fa755a"), $("iconColor", "#fa755a")]))]), r = i.create("card", bt([$("style", a)])); r.mount("#card-element"), r.on("change", (e = this, function (t) { var i; e.button.disabled = t.empty, t.error && (e.pCardError.textContent = null != (i = t.error.message) ? i : "") })), this.form.addEventListener("submit", function (t, e, i) { return function (a) { return a.preventDefault(), t.payWithCard_2br51b$(t.stripe, e, i.clientSecret), n } }(this, r, t)) }, ent.prototype.payWithCard_2br51b$ = function (t, e, i) { this.loading_6taknv$(!0); var a, r = bt([$("payment_method", bt([$("card", e)]))]); t.confirmCardPayment(i, r).then((a = this, function (t) { var e; if (t.error) a.showError_za3rmp$(t.error.message); else { var i = "string" == typeof (e = t.paymentIntent.id) ? e : d(); B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_ACCOUNT, a.accountType), B9().setPreferenceString_puj7f4$(B9().PREFERENCE_USER_NAME, a.userName), B9().setPreferenceString_puj7f4$(B9().PREFERENCE_ORDER_ID, i), B9().setPreferenceString_puj7f4$(B9().PREFERENCE_USER_ID, a.userID), a.mainActivity.setAccountUpgradedFunctions(); var r = "Successfully logged in and upgraded as " + a.userName + ".<br><br>Remember to refresh any other pathbuilder2e.com pages or tabs you have open!<br><br>Your order ID is " + i + ".<br><br>Please take a note of your order ID for your records."; switch (a.mainActivity.showMessage_puj7f4$("Logged In", r), a.accountType) { case 1: a.updateGoogleAccountStatus_0(i); break; case 2: a.updateRedditAccountStatus_0(i) }a.destroy() } })) }, ent.prototype.showError_za3rmp$ = function (t) { var e; this.loading_6taknv$(!1), this.pCardError.classList.remove("hidden"), this.pCardError.textContent = t, window.setTimeout((e = this, function () { e.pCardError.textContent = "", e.pCardError.classList.add("hidden") }), 4e3) }, ent.prototype.loading_6taknv$ = function (t) { t ? (this.button.disabled = !0, this.divSpinner.classList.remove("hidden"), this.buttonText.classList.add("hidden")) : (this.button.disabled = !1, this.divSpinner.classList.add("hidden"), this.buttonText.classList.remove("hidden")) }, ent.prototype.updateGoogleAccountStatus_0 = function (t) { var e = B9().SITE_URL + B9().SITE_EXT + "update_account_google.php", i = bt([$("googleid", this.userID), $("orderid", t)]); this.mainActivity.masterDataHandler.sendDataToServer_x0a6t6$(e, JSON.stringify(i), t, this.userID, this.userName) }, ent.prototype.updateRedditAccountStatus_0 = function (t) { var e = B9().SITE_URL + B9().SITE_EXT + "update_account_reddit.php", i = bt([$("redditid", this.userID), $("orderid", t)]); this.mainActivity.masterDataHandler.sendDataToServer_x0a6t6$(e, JSON.stringify(i), t, this.userID, this.userName) }, ent.prototype.onAccept = function () { this.destroy() }, ent.$metadata$ = { kind: p, simpleName: "DialogPaypal", interfaces: [wet] }, int.prototype.renderPaypalContainers_0 = function () { var t, e = (t = this, function (e, i) { var a = bt([$("value", 5.99), $("currency_code", "USD"), $("breakdown", bt([$("item_total", bt([$("currency_code", "USD"), $("value", 5.99)]))]))]), r = bt([$("amount", a), $("items", [bt([$("name", "Pathbuilder2e Web"), $("category", "DIGITAL_GOODS"), $("quantity", "1"), $("unit_amount", bt([$("value", 5.99), $("currency_code", "USD")]))])]), $("description", "Pathbuilder 2e Web Full Unlock"), $("custom_id", t.userID)]), n = bt([$("purchase_units", [r]), $("application_context", bt([$("shipping_preference", "NO_SHIPPING")]))]); return i.order.create(n) }), i = ant(this), a = bt([$("createOrder", e), $("onApprove", i), $("target", "PayPal")]); window.paypal.Buttons(a).render("#paypal-button-container") }, int.prototype.updateGoogleAccountStatus_0 = function (t) { var e = B9().SITE_URL + B9().SITE_EXT + "update_account_google.php", i = bt([$("googleid", this.userID), $("orderid", t)]); this.mainActivity.masterDataHandler.sendDataToServer_x0a6t6$(e, JSON.stringify(i), t, this.userID, this.userName) }, int.prototype.updateRedditAccountStatus_0 = function (t) { var e = B9().SITE_URL + B9().SITE_EXT + "update_account_reddit.php", i = bt([$("redditid", this.userID), $("orderid", t)]); this.mainActivity.masterDataHandler.sendDataToServer_x0a6t6$(e, JSON.stringify(i), t, this.userID, this.userName) }, int.prototype.onAccept = function () { this.destroy() }, int.$metadata$ = { kind: p, simpleName: "DialogPaypalActual", interfaces: [wet] }, rnt.prototype.onAccept = function () { this.destroy() }, rnt.$metadata$ = { kind: p, simpleName: "DialogProficiencyBuffs", interfaces: [wet] }, nnt.prototype.destroy = function () { var t; null != (t = document.body) && t.removeChild(this.root_0) }, nnt.prototype.show = function () { this.root_0.style.display = "flex" }, nnt.$metadata$ = { kind: p, simpleName: "DialogReportBug", interfaces: [] }, snt.prototype.onAccept = function () { var t, i, a; if (this.checkBoxHeal_0.isChecked()) { var r = htt().getAbilityMod_za3lpa$(this.characterBuild.getPlayReportAbilityScores_sfkw43$(this.dataControl).abilityScoresBuffed[2]); r < 1 && (r = 1); var n = e.imul(r, this.getCharacterData().getCharacterLevel()); for (n >= this.getCharacterData().getDamageTaken() ? this.getCharacterData().setDamageTaken_za3lpa$(0) : this.getCharacterData().setDamageTaken_za3lpa$(this.getCharacterData().getDamageTaken() - n | 0), t = this.characterBuild.hashMapPetCharacterBuilds.values.iterator(); t.hasNext();) { var o = t.next(); if (1 === o.getPetData().getPetType()) n >= o.getPetData().getDamageTaken() ? o.getPetData().setDamageTaken_za3lpa$(0) : o.getPetData().setDamageTaken_za3lpa$(o.getPetData().getDamageTaken() - n | 0); else { var s = htt().getAbilityMod_za3lpa$(o.getPlayReportAbilityScores_sfkw43$(this.dataControl).abilityScoresBuffed[2]), l = e.imul(s, this.getCharacterData().getCharacterLevel()); l >= o.getPetData().getDamageTaken() ? o.getPetData().setDamageTaken_za3lpa$(0) : o.getPetData().setDamageTaken_za3lpa$(o.getPetData().getDamageTaken() - l | 0) } } } if (this.checkBoxFatgue_0.isChecked() && this.getCharacterData().hashMapActiveConditions.containsKey_11rb$("Fatigued") && (this.dataControl.managerClasses.applyConditionEffect_q0qzv0$(!1, this.characterBuild, "Fatigued", -1), this.getCharacterData().hashMapActiveConditions.remove_11rb$("Fatigued"), this.getCharacterData().listCurrentlyInactiveBuffs.remove_11rb$("Fatigued")), this.checkBoxDoomed_0.isChecked()) { if (this.getCharacterData().hashMapActiveConditions.containsKey_11rb$("Doomed")) { var c = "number" == typeof (i = this.getCharacterData().hashMapActiveConditions.get_11rb$("Doomed")) ? i : d(); (c = c - 1 | 0) <= 0 ? (this.getCharacterData().hashMapActiveConditions.remove_11rb$("Doomed"), this.getCharacterData().listCurrentlyInactiveBuffs.remove_11rb$("Doomed"), this.dataControl.managerClasses.applyConditionEffect_q0qzv0$(!1, this.characterBuild, "Doomed", -1)) : (this.getCharacterData().hashMapActiveConditions.put_xwzc9p$("Doomed", c), this.getCharacterData().listCurrentlyInactiveBuffs.contains_11rb$("Doomed") || this.dataControl.managerClasses.applyConditionEffect_q0qzv0$(!0, this.characterBuild, "Doomed", c)) } if (this.getCharacterData().hashMapActiveConditions.containsKey_11rb$("Drained")) { var p = "number" == typeof (a = this.getCharacterData().hashMapActiveConditions.get_11rb$("Drained")) ? a : d(); (p = p - 1 | 0) <= 0 ? (this.getCharacterData().hashMapActiveConditions.remove_11rb$("Drained"), this.getCharacterData().listCurrentlyInactiveBuffs.remove_11rb$("Drained"), this.dataControl.managerClasses.applyConditionEffect_q0qzv0$(!1, this.characterBuild, "Drained", -1)) : (this.getCharacterData().hashMapActiveConditions.put_xwzc9p$("Drained", p), this.getCharacterData().listCurrentlyInactiveBuffs.contains_11rb$("Drained") || this.dataControl.managerClasses.applyConditionEffect_q0qzv0$(!0, this.characterBuild, "Drained", p)) } } this.checkBoxSpells_0.isChecked() && this.mainActivity.getNavigationControl().tabbedAreaSpells.completeRest(), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.destroy(), this.mainActivity.autoSave() }, snt.$metadata$ = { kind: p, simpleName: "DialogRest", interfaces: [wet] }; var lnt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function cnt(t, e, i, a, r) { var o, s, l; dnt(), Iet.call(this, t, e, i), this.runeType_jk6ezg$_0 = a, this.remainingRunes_lwx3f$_0 = r, this.hashMapRunes_x1v79v$_0 = null, this.currentOrderType_qcw7s9$_0 = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, 0), this.currentSelection = null, this.listItems = u(), this.hideAcceptButton(), 1 === this.runeType_jk6ezg$_0 ? this.hashMapRunes_x1v79v$_0 = null != (o = t.getDataControl().managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(102)) ? o : c() : 0 === this.runeType_jk6ezg$_0 ? this.hashMapRunes_x1v79v$_0 = null != (s = t.getDataControl().managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(101)) ? s : c() : 2 === this.runeType_jk6ezg$_0 ? this.hashMapRunes_x1v79v$_0 = null != (l = t.getDataControl().managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(103)) ? l : c() : this.hashMapRunes_x1v79v$_0 = c(); var p, h = jlt().getDiv(); h.innerHTML = "Give", h.classList.add("modal-button"), h.addEventListener("click", (p = this, function (t) { return p.completeChanges(), n })), this.addButtonToBottom_906ova$(h, 0); var d = jlt().getDiv(); d.innerHTML = "Buy", d.classList.add("modal-button"), d.addEventListener("click", function (t) { return function (e) { return t.buy_mq5rre$_0(), n } }(this)), this.addButtonToBottom_906ova$(d, 0), this.addFundamentalButtons(), this.setSpinnerOrder_q9osyt$_0(), this.setRemaining_m93ybo$_0(), this.setListView_u3ol2v$_0() } function pnt() { hnt = this, this.TYPE_ARMOR = 0, this.TYPE_WEAPON = 1, this.TYPE_SHIELD = 2 } pnt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var hnt = null; function dnt() { return null === hnt && new pnt, hnt } function unt(t) { return t.name } function _nt(t) { return t.itemLevel } function fnt(t) { this.this$DialogRunes = t } function ynt(t, e, i, a) { cnt.call(this, t, e, i, 0, a), this.remainingRunes_0 = a } function mnt(t, e, i, a) { cnt.call(this, t, e, i, 2, a), this.remainingRunes_0 = a } function $nt(t, e, i, a, r) { cnt.call(this, t, e, i, 1, r), this.playerWeapon_0 = a, this.remainingRunes_0 = r } cnt.prototype.onAccept = function () { this.destroy() }, cnt.prototype.setRemaining_m93ybo$_0 = function () { this.title.innerHTML = "Remaining Rune Slots " + this.remainingRunes_lwx3f$_0 }, cnt.prototype.setSpinnerOrder_q9osyt$_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(["Sort Alphabetically", "Sort By Item Level"]), i.setSpinnerSelection_s8ev37$(this.currentOrderType_qcw7s9$_0), i.spinner.addEventListener("change", (t = this, e = i, function (i) { return t.currentOrderType_qcw7s9$_0 !== e.spinner.selectedIndex && (t.currentOrderType_qcw7s9$_0 = e.spinner.selectedIndex, B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, t.currentOrderType_qcw7s9$_0), t.setListView_u3ol2v$_0()), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, cnt.prototype.openPRD = function () { null != this.currentSelection && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection).url) }, cnt.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection = e.isType(i = t, Wp) ? i : d() }, cnt.prototype.setListView_u3ol2v$_0 = function () { var t, e; for (this.listItems.clear(), this.divScrollable.innerHTML = "", t = this.hashMapRunes_x1v79v$_0.values.iterator(); t.hasNext();) { var i = t.next(); Ic().isEnabled_kc4y8q$(this.getCharacterData(), i.src) && this.listItems.add_11rb$(i) } if (0 === this.currentOrderType_qcw7s9$_0) { var a = this.listItems; a.size > 1 && q(a, new G(lnt(unt))) } else { var r = this.listItems; r.size > 1 && q(r, new G(lnt(_nt))) } for (e = this.listItems.iterator(); e.hasNext();) { var n = e.next(); this.divScrollable.appendChild(this.getRuneListView_3hnkze$_0(n)) } }, cnt.prototype.getRuneListView_3hnkze$_0 = function (t) { var e, i = new Ylt(!1); return i.setName_61zpoe$(t.name), i.setTraits_pdl1vj$(t.traits), htt().setItemLevelBox_c4iwwi$(i.itemLevel, t.itemLevel, t.traits), i.setDescription_61zpoe$(t.getItemFullDetails()), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, fnt.prototype.accept = function () { this.this$DialogRunes.dataControl.managerEquipment.deductCost_5sfiqf$(this.this$DialogRunes.characterBuild, o(this.this$DialogRunes.currentSelection).price), this.this$DialogRunes.completeChanges() }, fnt.$metadata$ = { kind: p, interfaces: [Vet] }, cnt.prototype.buy_mq5rre$_0 = function () { null != this.currentSelection && (this.dataControl.managerEquipment.canAffordItem_5sfiqf$(this.characterBuild, o(this.currentSelection).price) ? Xet(!0, "Really buy " + o(this.currentSelection).name + " for " + pe().getPriceString_14dthe$(o(this.currentSelection).price) + "? Warning: this will simplify your coins.", new fnt(this)).show() : this.mainActivity.showMessage_61zpoe$("You cannot afford this item")) }, cnt.$metadata$ = { kind: p, simpleName: "DialogRunes", interfaces: [Iet] }, ynt.prototype.addFundamentalButtons = function () { var t, e = jlt().getDiv(); e.innerHTML = "Potency", e.classList.add("modal-button"), e.addEventListener("click", (t = this, function (e) { return t.destroy(), t.mainActivity.openDialog_ip94j4$(new Uat(t.mainActivity, t.dataControl, t.characterBuild)), n })), this.addButtonToBottom_lt8gi4$(e); var i = jlt().getDiv(); i.innerHTML = "Resilient", i.classList.add("modal-button"), i.addEventListener("click", function (t) { return function (e) { return t.destroy(), t.mainActivity.openDialog_ip94j4$(new Gat(t.mainActivity, t.dataControl, t.characterBuild)), n } }(this)), this.addButtonToBottom_lt8gi4$(i) }, ynt.prototype.completeChanges = function () { var t, e = this.characterBuild.getCharacterData().getPlayerArmor(); if (null != this.currentSelection) { var i = null != (t = o(this.currentSelection).name) ? t : "Shadow"; e.getListPropertyRunes().add_11rb$(i), this.dataControl.managerEquipment.activateArmorRune_gg017k$(this.characterBuild, !0, i), this.mainActivity.getGuiUpdateControl().onArmorChanged_n40yp2$(this.characterBuild), this.mainActivity.autoSave() } this.destroy() }, ynt.$metadata$ = { kind: p, simpleName: "DialogRunesArmor", interfaces: [cnt] }, mnt.prototype.addFundamentalButtons = function () { }, mnt.prototype.completeChanges = function () { var t = this.getCharacterData().getPlayerShieldNew(); if (null != t && null != this.currentSelection) { var e = o(this.currentSelection).name; t.getListPropertyRunes().add_11rb$(e), this.mainActivity.getGuiUpdateControl().onShieldChanged_n40yp2$(this.characterBuild), this.mainActivity.autoSave() } this.destroy() }, mnt.$metadata$ = { kind: p, simpleName: "DialogRunesShields", interfaces: [cnt] }, $nt.prototype.addFundamentalButtons = function () { var t, e = jlt().getDiv(); e.innerHTML = "Potency", e.classList.add("modal-button"), e.addEventListener("click", (t = this, function (e) { return t.destroy(), t.mainActivity.openDialog_ip94j4$(new Wat(t.mainActivity, t.dataControl, t.characterBuild, t.playerWeapon_0)), n })), this.addButtonToBottom_lt8gi4$(e); var i = jlt().getDiv(); i.innerHTML = "Striking", i.classList.add("modal-button"), i.addEventListener("click", function (t) { return function (e) { return t.destroy(), t.mainActivity.openDialog_ip94j4$(new Yat(t.mainActivity, t.dataControl, t.characterBuild, t.playerWeapon_0)), n } }(this)), this.addButtonToBottom_lt8gi4$(i) }, $nt.prototype.completeChanges = function () { if (null != this.currentSelection) { var t = o(this.currentSelection).name; this.playerWeapon_0.getListPropertyRunes().add_11rb$(t), this.dataControl.managerWeapons.activateWeaponRune_kt1j5c$(!0, this.characterBuild, this.playerWeapon_0, t), this.mainActivity.getGuiUpdateControl().onWeaponAdded_21ghvs$(this.characterBuild, this.playerWeapon_0), this.mainActivity.autoSave() } this.destroy() }, $nt.$metadata$ = { kind: p, simpleName: "DialogRunesWeapon", interfaces: [cnt] }; var gnt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function vnt(t, i, a, r) { var s; wet.call(this, t, i, a), this.showControls_0 = r, this.title.innerHTML = "OPEN GAME LICENSE Version 1.0a", this.setSingleFinishedButton(), this.holder.style.width = "95vw", this.content.style.padding = "0.3em", this.content.style.marginRight = "2em"; var l = jlt().getDiv(); l.classList.add("scrollable"), this.content.appendChild(l); var c, p, h, _ = jlt().getDiv(), f = jlt().getH3(); if (this.showControls_0) { var y = { childList: !0, attributes: void 0, characterData: void 0, subtree: !0, attributeOldValue: void 0, characterDataOldValue: void 0, attributeFilter: void 0 }, m = y; new MutationObserver((c = l, p = _, h = f, function (t, e) { c.focus(), p.scrollIntoView(), o(h.parentElement).scrollTop = o(h.parentElement).scrollTop - 10, e.disconnect() })).observe(l, m) } var $ = jlt().getDiv(); $.classList.add(B9().CSS_ROUNDED_RECTANGLE), $.style.marginBottom = "1em", this.showControls_0 && ($.style.fontSize = "0.8em"), $.innerHTML = '    <p>The following text is the property of Wizards of the Coast, Inc. and is Copyright 2000 Wizards of the Coast, Inc ("Wizards"). All Rights Reserved.</p> \n    <p><b>1. Definitions</b>: (a)"Contributors" means the copyright and/or trademark owners who have contributed Open Game Content; (b)"Derivative Material" means copyrighted material including derivative works and translations (including into other computer languages), potation, modification, correction, addition, extension, upgrade, improvement, compilation, abridgment or other form in which an existing work may be recast, transformed or adapted; (c) "Distribute" means to reproduce, license, rent, lease, sell, broadcast, publicly display, transmit or otherwise distribute; (d)"Open Game Content" means the game mechanic and includes the methods, procedures, processes and routines to the extent such content does not embody the Product Identity and is an enhancement over the prior art and any additional content clearly identified as Open Game Content by the Contributor, and means any work covered by this License, including translations and derivative works under copyright law, but specifically excludes Product Identity. (e) "Product Identity" means product and product line names, logos and identifying marks including trade dress; artifacts; creatures characters; stories, storylines, plots, thematic elements, dialogue, incidents, language, artwork, symbols, designs, depictions, likenesses, formats, poses, concepts, themes and graphic, photographic and other visual or audio representations; names and descriptions of characters, spells, enchantments, personalities, teams, personas, likenesses and special abilities; places, locations, environments, creatures, equipment, magical or supernatural abilities or effects, logos, symbols, or graphic designs; and any other trademark or registered trademark clearly identified as Product identity by the owner of the Product Identity, and which specifically excludes the Open Game Content; (f) "Trademark" means the logos, names, mark, sign, motto, designs that are used by a Contributor to identify itself or its products or the associated products contributed to the Open Game License by the Contributor (g) "Use", "Used" or "Using" means to use, Distribute, copy, edit, format, modify, translate and otherwise create Derivative Material of Open Game Content. (h) "You" or "Your" means the licensee in terms of this agreement.</p> \n    <p><b>2. The License</b>: This License applies to any Open Game Content that contains a notice indicating that the Open Game Content may only be Used under and in terms of this License. You must affix such a notice to any Open Game Content that you Use. No terms may be added to or subtracted from this License except as described by the License itself. No other terms or conditions may be applied to any Open Game Content distributed using this License.</p> \n    <p><b>3. Offer and Acceptance</b>: By Using the Open Game Content You indicate Your acceptance of the terms of this License.</p> \n    <p><b>4. Grant and Consideration</b>: In consideration for agreeing to use this License, the Contributors grant You a perpetual, worldwide, royalty-free, non-exclusive license with the exact terms of this License to Use, the Open Game Content.</p> \n    <p><b>5. Representation of Authority to Contribute</b>: If You are contributing original material as Open Game Content, You represent that Your Contributions are Your original creation and/or You have sufficient rights to grant the rights conveyed by this License.</p> \n    <p><b>6. Notice of License Copyright</b>: You must update the COPYRIGHT NOTICE portion of this License to include the exact text of the COPYRIGHT NOTICE of any Open Game Content You are copying, modifying or distributing, and You must add the title, the copyright date, and the copyright holder\'s name to the COPYRIGHT NOTICE of any original Open Game Content you Distribute.</p> \n    <p><b>7. Use of Product Identity</b>: You agree not to Use any Product Identity, including as an indication as to compatibility, except as expressly licensed in another, independent Agreement with the owner of each element of that Product Identity. You agree not to indicate compatibility or co-adaptability with any Trademark or Registered Trademark in conjunction with a work containing Open Game Content except as expressly licensed in another, independent Agreement with the owner of such Trademark or Registered Trademark. The use of any Product Identity in Open Game Content does not constitute a challenge to the ownership of that Product Identity. The owner of any Product Identity used in Open Game Content shall retain all rights, title and interest in and to that Product Identity.</p> \n    <p><b>8. Identification</b>: If you distribute Open Game Content You must clearly indicate which portions of the work that you are distributing are Open Game Content.</p> \n    <p><b>9. Updating the License</b>: Wizards or its designated Agents may publish updated versions of this License. You may use any authorized version of this License to copy, modify and distribute any Open Game Content originally distributed under any version of this License.</p> \n    <p><b>10. Copy of this License</b>: You MUST include a copy of this License with every copy of the Open Game Content You Distribute.</p> \n    <p><b>11. Use of Contributor Credits</b>: You may not market or advertise the Open Game Content using the name of any Contributor unless You have written permission from the Contributor to do so.</p> \n    <p><b>12. Inability to Comply</b>: If it is impossible for You to comply with any of the terms of this License with respect to some or all of the Open Game Content due to statute, judicial order, or governmental regulation then You may not Use any Open Game Material so affected.</p> \n    <p><b>13. Termination</b>: This License will terminate automatically if You fail to comply with all terms herein and fail to cure such breach within 30 days of becoming aware of the breach. All sublicenses shall survive the termination of this License.</p> \n    <p><b>14. Reformation</b>: If any provision of this License is held to be unenforceable, such provision shall be reformed only to the extent necessary to make it enforceable.</p> \n    <p><b>15. COPYRIGHT NOTICE</b><br><br>Open Game License v 1.0 Copyright 2000, Wizards of the Coast, Inc.<br>System Reference Document. Copyright 2000. Wizards of the Coast, Inc; Authors: Jonathan Tweet, Monte Cook, Skip Williams, based on material by E. Gary Gygax and Dave Arneson. ', l.appendChild($), _.classList.add(B9().CSS_ROUNDED_RECTANGLE), _.style.marginBottom = "1em", l.appendChild(_); var g = u(), v = u(), S = u(), C = u(); for (s = i.managerCopyright.hashMapCopyrightInformation.keys.iterator(); s.hasNext();) { var E = s.next(), A = i.managerCopyright.hashMapCopyrightInformation.get_11rb$(E); 0 === o(A).type ? g.add_11rb$(A) : 1 === A.type ? S.add_11rb$(A) : 2 === A.type ? C.add_11rb$(A) : 3 === A.type && v.add_11rb$(A) } g.size > 1 && q(g, new G(gnt(Cnt))), C.size > 1 && q(C, new G(gnt(Ent))), S.size > 1 && q(S, new G(gnt(Ant))), v.size > 1 && q(v, new G(gnt(bnt))); var b = jlt().getDiv(); b.classList.add(B9().CSS_ROUNDED_RECTANGLE), b.style.marginBottom = "1em", l.appendChild(b); var I = jlt().getDiv(); I.classList.add(B9().CSS_ROUNDED_RECTANGLE), I.style.marginBottom = "1em", l.appendChild(I); var w, L, T, k, R = jlt().getDiv(); if (R.classList.add(B9().CSS_ROUNDED_RECTANGLE), l.appendChild(R), this.showControls_0) { f.innerHTML = "Rulebooks", _.appendChild(f); var P = jlt().getH3(); P.innerHTML = "Third Party Rulebooks", b.appendChild(P), (P = jlt().getH3()).innerHTML = "Adventure Paths", I.appendChild(P), (P = jlt().getH3()).innerHTML = "Bestiaries", R.appendChild(P); var M = jlt().getDiv(); M.classList.add(B9().CSS_GRID_CONTAINER), I.appendChild(M); var N = Dlt("Select All"); N.buttonDiv.classList.add(B9().CSS_GRID_ITEM), M.appendChild(N.buttonDiv), N.buttonDiv.addEventListener("click", (w = i, L = this, T = S, k = I, function (t) { var i; for (i = w.managerCopyright.hashMapCopyrightInformation.values.iterator(); i.hasNext();) { var a = i.next(); if (1 === a.type) { var r, o = L.getCharacterData().listDisabledRulebooks, s = a.name; (e.isType(r = o, ht) ? r : d()).remove_11rb$(s) } } return L.addToLayout_0(T, k), n })), (N = Dlt("Deselect All")).buttonDiv.classList.add(B9().CSS_GRID_ITEM), M.appendChild(N.buttonDiv), N.buttonDiv.addEventListener("click", function (t, e, i, a) { return function (r) { var o, s; for (o = t.managerCopyright.hashMapCopyrightInformation.values.iterator(); o.hasNext();) { var l = o.next(); 1 !== l.type || B(e.getCharacterData().listDisabledRulebooks, l.name) || null != (s = l.name) && e.getCharacterData().listDisabledRulebooks.add_11rb$(s) } return e.addToLayout_0(i, a), n } }(i, this, S, I)); var D = jlt().getDiv(); _.appendChild(D); var x = jlt().getDiv(); b.appendChild(x); var z = jlt().getDiv(); I.appendChild(z); var O = jlt().getDiv(); R.appendChild(O), this.addToLayout_0(g, D), this.addToLayout_0(C, x), this.addToLayout_0(S, z), this.addToLayout_0(v, O) } else this.addToLayout_0(g, _), this.addToLayout_0(C, b), this.addToLayout_0(S, I), this.addToLayout_0(v, R) } function Snt(t, i, a) { return function (r) { if (t.toggle(), t.isChecked()) { var s, l = i.getCharacterData().listDisabledRulebooks, c = a.name; (e.isType(s = l, ht) ? s : d()).remove_11rb$(c) } else i.getCharacterData().listDisabledRulebooks.add_11rb$(o(a.name)); return n } } function Cnt(t) { return t.title } function Ent(t) { return t.title } function Ant(t) { return t.title } function bnt(t) { return t.title } function Int(t) { var i, a; this.root_0 = jlt().getDiv(), this.title = jlt().getDiv(), this.topBar_0 = jlt().getDiv(), this.buttonBar_0 = jlt().getDiv(), this.holder_0 = jlt().getDiv(), this.content = jlt().getDiv(), this.buttonAccept_0 = jlt().getDiv(), this.holder_0.style.width = "30em", this.root_0.classList.add("modal"), null != (i = document.body) && i.appendChild(this.root_0), this.holder_0.classList.add("modal-content"), this.root_0.appendChild(this.holder_0), this.holder_0.appendChild(this.topBar_0), this.topBar_0.classList.add("dialog-top-bar"), this.topBar_0.appendChild(this.title), this.title.classList.add("dialog-title"), this.title.innerHTML = "Share Character", this.holder_0.appendChild(this.content), this.buttonBar_0.classList.add("modal-buttons"), this.holder_0.appendChild(this.buttonBar_0), this.buttonAccept_0.innerHTML = "Finished", this.buttonAccept_0.classList.add("modal-button"), this.buttonAccept_0.addEventListener("click", (a = this, function (t) { return a.destroy(), n })), this.buttonBar_0.appendChild(this.buttonAccept_0); var r = jlt().getDiv(); r.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE); var o = jlt().getP(); o.innerHTML = "A copy of your character has been uploaded and can be accessed via the following link:", r.appendChild(o); var c = jlt().getDiv(); r.appendChild(c), c.style.display = "flex", c.style.alignItems = "center"; var p, h = jlt().getTextInput(); h.style.flex = "1", c.appendChild(h), h.value = t, h.style.display = "inline-block", h.style.padding = "0.3em"; var d = { childList: !0, attributes: void 0, characterData: void 0, subtree: !0, attributeOldValue: void 0, characterDataOldValue: void 0, attributeFilter: void 0 }, u = d; new MutationObserver((p = h, function (t, i) { try { p.focus(), p.select(), p.setSelectionRange(0, 99999) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } i.disconnect() })).observe(c, u); var _ = Dlt("Copy"); _.buttonDiv.style.marginLeft = "0.5em", _.buttonDiv.style.display = "inline-block", _.buttonDiv.style.width = "5em", _.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.select(), t.setSelectionRange(0, 99999), document.execCommand("copy"), n } }(h)), c.appendChild(_.buttonDiv), this.content.appendChild(r), this.content.style.padding = "0.5em" } vnt.prototype.addToLayout_0 = function (t, e) { var i; for (e.innerHTML = "", i = t.iterator(); i.hasNext();) { var a = i.next(), r = new Pet(o(a.title), o(a.description), this.showControls_0); B(this.getCharacterData().listDisabledRulebooks, a.name) || r.setChecked_6taknv$(!0), this.showControls_0 && (m(a.name, Ic().BOOK_CRB) ? r.setChecked_6taknv$(!0) : r.divWithLabel.addEventListener("click", Snt(r, this, a))), e.appendChild(r.divWithLabel) } }, vnt.prototype.onAccept = function () { this.mainActivity.getGuiUpdateControl().updateBuildFragment_n40yp2$(this.characterBuild), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, vnt.$metadata$ = { kind: p, simpleName: "DialogSection15", interfaces: [wet] }, Int.prototype.destroy = function () { var t; null != (t = document.body) && t.removeChild(this.root_0) }, Int.prototype.show = function () { this.root_0.style.display = "flex" }, Int.$metadata$ = { kind: p, simpleName: "DialogShareCopy", interfaces: [] }; var wnt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Lnt(t, e, i, a) { Nnt(), Iet.call(this, t, e, i), this.additionalStowed = a, this.sortTypes = ["Item Level", "Alphabetically"], this.types_0 = ["Standard", "Custom"], this.currentSelection_0 = null, this.listItems = u(), this.type = 0, this.sort_0 = 0, this.buttonEdit_0 = jlt().getDiv(), this.buttonDelete_0 = jlt().getDiv(), this.finishedCreation = new Dnt(this), this.title.innerHTML = "Select Shield", this.hideAcceptButton(); var r, s = jlt().getDiv(); s.innerHTML = "Give", s.classList.add("modal-button"), s.addEventListener("click", (r = this, function (t) { return r.checkArmor_0(!1), n })), this.addButtonToBottom_906ova$(s, 0); var l = jlt().getDiv(); l.innerHTML = "Buy", l.classList.add("modal-button"), l.addEventListener("click", function (t) { return function (e) { return t.checkArmor_0(!0), n } }(this)), this.addButtonToBottom_906ova$(l, 0); var c = jlt().getDiv(); c.innerHTML = "Custom", c.addEventListener("click", function (t) { return function (e) { return t.fullAppEnabledCheck_0(), n } }(this)), this.addButtonToBottom_lt8gi4$(c), e.isFullAppEnabled() || c.classList.add("modal-button-disabled"), this.buttonEdit_0.innerHTML = "Edit", htt().setInvisible_njr4nn$(this.buttonEdit_0, !1), this.buttonEdit_0.addEventListener("click", function (t, e, i, a) { return function (r) { return null != t.currentSelection_0 && e.openDialog_ip94j4$(new hat(e, i, a, o(t.currentSelection_0).uniqueIdentiier, t.finishedCreation)), n } }(this, t, e, i)), this.addButtonToBottom_lt8gi4$(this.buttonEdit_0), this.buttonDelete_0.innerHTML = "Delete", htt().setInvisible_njr4nn$(this.buttonDelete_0, !1), this.buttonDelete_0.addEventListener("click", function (t, e, i, a) { return function (r) { return null != t.currentSelection_0 && Xet(!0, "Really delete " + o(t.currentSelection_0).name + " from your database?", new xnt(t, e, i, a)).show(), n } }(this, e, i, t)), this.addButtonToBottom_lt8gi4$(this.buttonDelete_0), null == this.getCharacterData().getPlayerShieldNew() || this.additionalStowed || (this.currentSelection_0 = e.managerEquipment.hashMapShields.get_11rb$(o(this.getCharacterData().getPlayerShieldNew()).shieldName), null != this.currentSelection_0 && o(this.currentSelection_0).databaseID > -1 && (this.type = 1)), this.setListView_0(), this.setSpinnerSort_0(), this.setSpinnerType_0(), this.setButtonVisibility_0(), this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0) } function Tnt(t) { return t.itemLevel } function knt(t) { return t.name } function Rnt(t) { this.this$DialogShield = t } function Pnt() { Mnt = this, this.REQ_BASIC_BASIC = 0, this.REQ_BASIC_CUSTOM = 1 } Lnt.prototype.onAccept = function () { this.destroy() }, Lnt.prototype.fullAppEnabledCheck_0 = function () { this.dataControl.isFullAppEnabled() ? this.mainActivity.openDialog_ip94j4$(new hat(this.mainActivity, this.dataControl, this.characterBuild, null, this.finishedCreation)) : this.mainActivity.setUpgradeMessage_61zpoe$("create custom shields") }, Lnt.prototype.setButtonVisibility_0 = function () { null != this.currentSelection_0 && (o(this.currentSelection_0).databaseID > -1 ? (htt().setInvisible_njr4nn$(this.buttonDelete_0, !0), htt().setInvisible_njr4nn$(this.buttonEdit_0, !0)) : (htt().setInvisible_njr4nn$(this.buttonDelete_0, !1), htt().setInvisible_njr4nn$(this.buttonEdit_0, !1))) }, Lnt.prototype.checkReqBasic_0 = function (t) { return 1 === this.type && t.databaseID > -1 || 0 === this.type && -1 === t.databaseID }, Lnt.prototype.setSpinnerSort_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(this.sortTypes), i.setSpinnerSelection_s8ev37$(this.sort_0), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.sort_0 = t.spinner.selectedIndex, e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, Lnt.prototype.setSpinnerType_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerSelection_s8ev37$(this.type), i.setSpinnerList_kand9s$(this.types_0), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.type = t.spinner.selectedIndex, e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, Lnt.prototype.setListView_0 = function () { var t, i, a; this.divScrollable.innerHTML = "", this.listItems.clear(); var r = this.dataControl.managerEquipment.hashMapShields; for (t = r.keys.iterator(); t.hasNext();) { var n = t.next(), o = null != (i = r.get_11rb$(n)) ? i : yu("Error"); try { this.checkReqBasic_0(o) && Ic().isEnabled_kc4y8q$(this.getCharacterData(), o.src) && this.listItems.add_11rb$(o) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } if (0 === this.sort_0) { var c = this.listItems; c.size > 1 && q(c, new G(wnt(Tnt))) } else { var p = this.listItems; p.size > 1 && q(p, new G(wnt(knt))) } for (a = this.listItems.iterator(); a.hasNext();) { var h = a.next(); this.divScrollable.appendChild(this.getListView_0(h)) } }, Lnt.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, Lnt.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, lu) ? i : d(), this.setButtonVisibility_0() }, Lnt.prototype.getListView_0 = function (t) { var e, i = new Ylt(!1); i.setName_61zpoe$(t.name), i.setTraits_pdl1vj$(t.traits), t.itemLevel > 0 ? i.setLevel_pdl1vj$(t.itemLevel.toString()) : i.setLevel_pdl1vj$(null); var a = "AC +" + t.ac + "<br>Hardness: " + j(t.hardness) + "<br>Hit Points: " + j(t.hp) + "<br>" + t.getItemFullDetails(); return i.setDescription_61zpoe$(a), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""), null != this.currentSelection_0 && m(this.currentSelection_0, t) && i.layoutDetail.classList.remove(B9().CSS_HIDDEN), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, Lnt.prototype.checkArmor_0 = function (t) { null != this.currentSelection_0 && (this.sameAsOldSelection_0() ? (t && this.mainActivity.showMessage_61zpoe$("You already own this item."), this.destroy()) : t ? this.buy_0() : this.completeChanges_0()) }, Rnt.prototype.accept = function () { this.this$DialogShield.dataControl.managerEquipment.deductCost_5sfiqf$(this.this$DialogShield.characterBuild, o(this.this$DialogShield.currentSelection_0).price), this.this$DialogShield.completeChanges_0() }, Rnt.$metadata$ = { kind: p, interfaces: [Vet] }, Lnt.prototype.buy_0 = function () { null != this.currentSelection_0 && (this.dataControl.managerEquipment.canAffordItem_5sfiqf$(this.characterBuild, o(this.currentSelection_0).price) ? Xet(!0, "Really buy " + o(this.currentSelection_0).name + " for " + pe().getPriceString_14dthe$(o(this.currentSelection_0).price) + "? Warning: this will simplify your coins.", new Rnt(this)).show() : this.mainActivity.showMessage_61zpoe$("You cannot afford this item")) }, Lnt.prototype.completeChanges_0 = function () { if (null != this.currentSelection_0) if (this.additionalStowed) this.getCharacterData().listStowedPlayerShields.add_11rb$(new ms(this.getShieldHashMapID_0(o(this.currentSelection_0)), 0)), this.mainActivity.showMessage_61zpoe$("Added " + o(this.currentSelection_0).name + " to the gear tab!"); else { this.dataControl.managerEquipment.activateShieldEffects_ejs4i3$(!1, this.characterBuild); var t = new ms(this.getShieldHashMapID_0(o(this.currentSelection_0)), 0); this.getCharacterData().setPlayerShieldNew_hbhz1b$(t), console.log("SETTING PLAYER SHIELD TO " + t.shieldName), this.dataControl.managerEquipment.activateShieldEffects_ejs4i3$(!0, this.characterBuild) } this.mainActivity.getNavigationControl().sectionDefenses.shieldRaised && this.mainActivity.getNavigationControl().sectionDefenses.toggleRaiseShieldBonuses(), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, Lnt.prototype.getShieldHashMapID_0 = function (t) { var e; return 1 === t.databaseID && null != t.uniqueIdentiier ? "string" == typeof (e = t.uniqueIdentiier) ? e : d() : t.name }, Lnt.prototype.sameAsOldSelection_0 = function () { return null != this.getCharacterData().getPlayerShieldNew() && null != this.currentSelection_0 && m(o(this.getCharacterData().getPlayerShieldNew()).shieldName, o(this.currentSelection_0).name) }, Pnt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Mnt = null; function Nnt() { return null === Mnt && new Pnt, Mnt } function Dnt(t) { this.this$DialogShield = t } function xnt(t, e, i, a) { this.this$DialogShield = t, this.closure$dataControl = e, this.closure$characterBuild = i, this.closure$mainActivity = a } function znt(t, i, a) { var r, o; wet.call(this, t, i, a), this.editTextHP_0 = jlt().getTextInput(), this.playerShield_0 = null, this.maxHP_0 = 0, this.playerShield_0 = null != (r = a.getCharacterData().getPlayerShieldNew()) ? r : new ms("Steel Shield", 0), this.setSingleFinishedButton(), this.setRestictedWidth(); var c = null != (o = i.managerEquipment.hashMapShields.get_11rb$(this.playerShield_0.shieldName)) ? o : yu("Error"); this.title.innerHTML = "Set Shield Hit Points"; var p = jlt().getDiv(); p.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), p.classList.add("grid-container"), this.content.appendChild(p); var h = jlt().getDiv(); h.classList.add("grid-item"), p.appendChild(h); var d = jlt().getH3(); h.appendChild(d), h.appendChild(this.editTextHP_0); var u = jlt().getDiv(); u.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), u.classList.add(B9().CSS_SMALL_TEXT), u.classList.add(B9().CSS_GREY_TEXT), u.innerHTML = "You can set the new total directly or use the + or - symbols to adjust.", this.content.appendChild(u), this.editTextHP_0.classList.add("edittext-dark"), this.maxHP_0 = c.getHp_9khk5$(i, a); var _ = this.maxHP_0 - this.playerShield_0.shieldDamage | 0; _ < 0 && (_ = 0), d.innerHTML = "Shield Hit Points (Max " + this.maxHP_0 + ")", this.editTextHP_0.value = _.toString(); var f, y, m = jlt().getDiv(); m.innerHTML = "Restore All Shield HP", m.classList.add("modal-button"), m.addEventListener("click", (f = this, y = t, function (t) { return f.playerShield_0.shieldDamage = 0, y.getNavigationControl().sectionDefenses.updateShield(), y.autoSave(), f.destroy(), n })), this.addButtonToBottom_lt8gi4$(m), m.style.width = "10em", this.editTextHP_0.addEventListener("click", function (t) { return function (e) { return t.editTextHP_0.select(), n } }(this)), this.editTextHP_0.addEventListener("keyup", function (t) { return function (i) { try { "Enter" == i.key && (i.preventDefault(), t.onAccept()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this)) } Dnt.prototype.completed = function () { this.this$DialogShield.currentSelection_0 = null, this.this$DialogShield.divInfo.innerHTML = "", this.this$DialogShield.setListView_0() }, Dnt.$metadata$ = { kind: p, interfaces: [yit] }, xnt.prototype.accept = function () { var t = o(o(this.this$DialogShield.currentSelection_0).uniqueIdentiier); this.closure$dataControl.managerEquipment.removeShieldFromCharacterAndPets_t0kavo$(this.closure$characterBuild, t), this.closure$dataControl.managerEquipment.hashMapShields.remove_11rb$(t), this.closure$mainActivity.fileManager.fileManagementCustomFiles.deleteCustomFile_61zpoe$(t), this.closure$mainActivity.getGuiUpdateControl().onShieldChanged_n40yp2$(this.closure$characterBuild), this.this$DialogShield.finishedCreation.completed() }, xnt.$metadata$ = { kind: p, interfaces: [Vet] }, Lnt.$metadata$ = { kind: p, simpleName: "DialogShield", interfaces: [Iet] }, znt.prototype.onAccept = function () { try { var t = this.editTextHP_0.value, i = V(this.editTextHP_0.value); if (_(t, "+") || _(t, "-") || i < 0) { var a = this.playerShield_0.shieldDamage - i | 0; a > this.maxHP_0 && (a = this.maxHP_0), a < 0 && (a = 0), this.playerShield_0.shieldDamage = a } else i >= this.maxHP_0 ? this.playerShield_0.shieldDamage = 0 : this.playerShield_0.shieldDamage = this.maxHP_0 - i | 0 } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to process the number you entered for Hit Points!"); throw t } this.mainActivity.getNavigationControl().sectionDefenses.updateShield(), this.mainActivity.autoSave(), this.destroy() }, znt.$metadata$ = { kind: p, simpleName: "DialogShieldHP", interfaces: [wet] }; var Ont = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Fnt(t, e, i, a, r, n) { wet.call(this, t, e, i), this.skillName_0 = a, this.abilityScores_0 = r, this.skillProficiency_0 = n, this.divScrollable = jlt().getDiv(), this.divFeats_0 = jlt().getDiv(), this.divActions_0 = jlt().getDiv(), this.divScrollable.classList.add("scrollable"), this.content.appendChild(this.divScrollable), this.setSingleFinishedButton(), this.title.innerHTML = this.skillName_0; var s = ""; s = _(this.skillName_0, "Lore") ? o(e.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$("Lore")).textDescription : o(e.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$(this.skillName_0)).textDescription, this.setProficiencyLayout_0(); var l = jlt().getDiv(); l.classList.add(B9().CSS_LAYOUT_ITEM), l.innerHTML = s, this.divScrollable.appendChild(l), this.divFeats_0.classList.add(B9().CSS_LAYOUT_ITEM), this.divScrollable.appendChild(this.divFeats_0), this.addFeats_0(), this.divActions_0.classList.add(B9().CSS_LAYOUT_ITEM), this.divScrollable.appendChild(this.divActions_0), this.addSkillActions_0() } function Bnt(t) { return t.name } function jnt(t) { return t.name } function Hnt(t) { return t.name } Fnt.prototype.onAccept = function () { this.destroy() }, Fnt.prototype.setProficiencyLayout_0 = function () { var t, e, i = jlt().getDiv(); i.classList.add(B9().CSS_LAYOUT_ITEM), this.divScrollable.appendChild(i); var a = new Fet(this.skillProficiency_0.armorPenalty, !0); i.appendChild(a.div); var r, o = this.characterBuild.getCharacterData().getCharacterLevel(), s = 0, l = this.skillProficiency_0.getProficiencyAtLevel_za3lpa$(o), c = pK().getFinalProficiencyTotalSkill_r1xdi3$(this.dataControl, this.characterBuild, l, o), p = se().ARRAY_ABILITIES_SHORT[this.skillProficiency_0.abilityRef], h = htt().getAbilityMod_za3lpa$(this.abilityScores_0[this.skillProficiency_0.abilityRef]), d = rK(this.dataControl, this.characterBuild, this.skillProficiency_0); r = d.getTypedBuff_za3lpa$(0), this.skillProficiency_0.armorPenalty && (s = this.dataControl.managerArmor.getArmorPenalty_yjt0at$(this.characterBuild, this.abilityScores_0[0], this.skillName_0), a.setArmorPenalty_za3lpa$(s)); var u = c + h + r + s | 0; a.div.style.display = "inline-block", a.setProficiencyImage_za3lpa$(l), a.setProficiency_za3lpa$(c), a.setAbility_bm4lxs$(p, h), a.setItemBonus_za3lpa$(r), a.setName_61zpoe$(this.skillName_0 + " " + htt().getSignedValue_za3lpa$(u)); var _, f, y = d.totalBuffExcludingItem; if (a.setColorBasedOnBuff_za3lpa$(y), this.mainActivity.showDiceRollers) { var m = new Plt; m.buttonDiv.style.marginTop = "0.5em", m.buttonDiv.addEventListener("click", (_ = this, f = u, function (t) { return _.destroy(), _.mainActivity.getNavigationControl().openDiceTray(), _.mainActivity.diceUIControl.setUpD20Roll_bm4lxs$(_.skillName_0, f), n })), i.insertBefore(m.buttonDiv, i.firstChild) } Q(d.listBuffDetails), Q(d.listDebuffDetails); var $ = !d.listBuffDetails.isEmpty(); if ($ || ($ = !d.listDebuffDetails.isEmpty()), $) { var g = jlt().getDiv(); for (g.classList.add(B9().CSS_LAYOUT_ITEM), this.divScrollable.appendChild(g), t = d.listBuffDetails.iterator(); t.hasNext();) { var v = t.next(), S = jlt().getP(); S.innerHTML = v, g.appendChild(S) } for (e = d.listDebuffDetails.iterator(); e.hasNext();) { var C = e.next(), E = jlt().getP(); E.innerHTML = C, g.appendChild(E) } } }, Fnt.prototype.addFeats_0 = function () { var t, e, i, a, r = u(), n = new Ya(this.dataControl); for (n.createSnapshot_vy76y1$(this.characterBuild, this.characterBuild.getCharacterData().getCharacterLevel()), t = n.hashMapFeatSelections.keys.iterator(); t.hasNext();) { var s = t.next(), l = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(s); if (null != l) { for (e = o(n.hashMapFeatSelections.get_11rb$(s)).iterator(); e.hasNext();) { var c = e.next(); if (this.characterBuild.hashMapFeatExtraInformation.containsKey_11rb$(c) && dt(this.characterBuild.hashMapFeatExtraInformation.get_11rb$(c), this.skillName_0)) { r.add_11rb$(l); break } } r.contains_11rb$(l) || (null != l.hashMapRequiredProficiences && o(l.hashMapRequiredProficiences).keys.contains_11rb$(this.skillName_0) && r.add_11rb$(l), !r.contains_11rb$(l) && this.checkParentFeats_0(l) && r.add_11rb$(l)) } else console.log("NULL FEAT ID " + s) } if (r.isEmpty()) null != (i = this.divFeats_0.parentElement) && i.removeChild(this.divFeats_0); else for (r.size > 1 && q(r, new G(Ont(Bnt))), a = r.iterator(); a.hasNext();) { var p = a.next(), h = new Ylt(!0); this.divFeats_0.appendChild(h.div), h.setLevel_pdl1vj$("FEAT " + j(p.level)), h.setAction_za3lpa$(p.action), h.setName_61zpoe$(p.name), h.setTraits_pdl1vj$(p.traits), h.setDescription_61zpoe$(p.textDescription) } }, Fnt.prototype.checkParentFeats_0 = function (t) { var i, a; try { if (null != t.reqFeats) for (i = o(t.reqFeats), a = 0; a !== i.length; ++a) { var r = i[a], n = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(r); if (null != n) { if (null != n.hashMapRequiredProficiences && o(n.hashMapRequiredProficiences).keys.contains_11rb$(this.skillName_0)) return !0; if (this.checkParentFeats_0(n)) return !0 } } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return !1 }, Fnt.prototype.addSkillActions_0 = function () { var t, e, i, a = u(), r = this.dataControl.managerProficiencies.skillActionSet, n = u(), s = u(); if (_(this.skillName_0.toLowerCase(), "lore")) for (t = o(r.hashMapSkillsToActionsList.get_11rb$("Lore")).iterator(); t.hasNext();) { var l = t.next(); null != l && (l.trained ? s.add_11rb$(l) : n.add_11rb$(l)) } else if (r.hashMapSkillsToActionsList.containsKey_11rb$(this.skillName_0)) for (e = o(r.hashMapSkillsToActionsList.get_11rb$(this.skillName_0)).iterator(); e.hasNext();) { var c = e.next(); null != c && (c.trained ? s.add_11rb$(c) : n.add_11rb$(c)) } for (n.size > 1 && q(n, new G(Ont(jnt))), s.size > 1 && q(s, new G(Ont(Hnt))), a.addAll_brywnq$(n), a.addAll_brywnq$(s), i = a.iterator(); i.hasNext();) { var p = i.next(), h = new Ylt(!0); this.divActions_0.appendChild(h.div); var d = ""; p.trained && (d = " (Trained Only)"), h.setName_61zpoe$(p.name + d), h.setTraits_pdl1vj$(p.traits), h.setDescription_61zpoe$(p.description), h.setAction_za3lpa$(p.actions) } }, Fnt.$metadata$ = { kind: p, simpleName: "DialogSkillActions", interfaces: [wet] }; var qnt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Unt(t, e, i, a, r, s, l, c, p, h) { Jnt(), Iet.call(this, t, e, i), this.spellCaster_0 = a, this.spellSlotReference_0 = r, this.bonusSpell_0 = s, this.spellLevel_0 = l, this.spellcastingMod_0 = c, this.spellAttack_0 = h, this.currentSelection_0 = null, this.listItems_0 = u(), this.playerSpell_0 = null, this.heighten_0 = 0, this.spellList_0 = 0, this.knownOnly_0 = !1, this.searchType_0 = 0, this.searchField_0 = "", this.searchOff_0 = !0, this.actionFilter_0 = 0, this.school_0 = null, this.checkboxAutoHeighten_0 = new Met("Auto-heighten?"), 0 === this.spellLevel_0 ? this.title.innerHTML = "Cantrip (DC " + p + ")" : this.title.innerHTML = pe().getOrdinal_za3lpa$(this.spellLevel_0) + " Level Spell DC(" + p + ")"; var d, _, f, y, m = jlt().getDiv(); if (m.innerHTML = "Clear", m.classList.add("modal-button"), m.addEventListener("click", (d = i, _ = this, f = e, y = t, function (t) { return d.getCharacterData().getHashMapPlayerSpells().remove_11rb$(_.spellSlotReference_0), f.managerSpells.clearPossiblyBlendedSpellAndRecalcutateBlending_4oflqk$(d, _.spellCaster_0, _.spellSlotReference_0), y.autoSave(), y.getNavigationControl().tabbedAreaSpells.updateAll(), _.destroy(), n })), this.addButtonToBottom_lt8gi4$(m), this.getCharacterData().getHashMapPlayerSpells().containsKey_11rb$(this.spellSlotReference_0) && (this.playerSpell_0 = this.getCharacterData().getHashMapPlayerSpells().get_11rb$(this.spellSlotReference_0)), this.setDefaults_0(), this.setSpinnerSpellLevel_0(), this.setSpinnerSpellList_0(), this.setSpinnerActions_0(), this.setSearchControls_0(), this.setSpinnerSchool_0(), this.setCheckBoxKnownOnly_0(), this.setCheckBoxHeightenDescriptions_0(), this.setSpellBlendingControls_0(), 0 === this.spellCaster_0.typeCaster && this.spellLevel_0 > 0) { var $ = jlt().getDiv(); this.addWideButtonToBottom_lt8gi4$($), this.spellCaster_0.isSignatureSpell_rkreee$(e, i, this.spellSlotReference_0, this.spellLevel_0) ? ($.innerHTML = "Remove Signature Spell", $.addEventListener("click", function (t) { return function (e) { return t.clearSignatureSpell_0(), t.onAccept(), n } }(this))) : ($.innerHTML = "Set Signature Spell", $.addEventListener("click", function (t) { return function (e) { return t.setSignatureSpell_0(), t.onAccept(), n } }(this))) } null != this.playerSpell_0 && e.managerSpells.hashMapSpells.containsKey_11rb$(o(this.playerSpell_0).spellName) && (this.currentSelection_0 = e.managerSpells.hashMapSpells.get_11rb$(o(this.playerSpell_0).spellName)), this.setListView_0(), this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0) } function Gnt(t) { this.this$DialogSpells = t } function Wnt(t) { return t.name } function Ynt(t, e, i) { this.this$DialogSpells = t, this.closure$spellInformation = e, this.closure$layoutSpellChoice = i } function Vnt(t, e, i) { this.this$DialogSpells = t, this.closure$spellInformation = e, this.closure$layoutSpellChoice = i } function Knt() { Xnt = this, this.SEARCH_TYPE_NAMES = 0, this.SEARCH_TYPE_TRAITS = 1, this.SEARCH_TYPE_OTHER = 2, this.ACTION_POSITION_ALL = 0, this.ACTION_POSITION_1 = 1, this.ACTION_POSITION_2 = 2, this.ACTION_POSITION_3 = 3, this.ACTION_POSITION_FREE = 4, this.ACTION_POSITION_REACTION = 5 } Unt.prototype.onAccept = function () { null != this.currentSelection_0 && (!this.spellCaster_0.spellbookCaster || this.spellCaster_0.knowsAllSpells || k0().knowsSpell_egl760$(this.characterBuild, this.spellCaster_0, o(this.currentSelection_0).name) ? this.addSpellAndDismiss_0() : this.openSpellbookDialog_0()) }, Gnt.prototype.accept = function () { this.this$DialogSpells.addSpellAndDismiss_0() }, Gnt.$metadata$ = { kind: p, interfaces: [Vet] }, Unt.prototype.openSpellbookDialog_0 = function () { Xet(!0, o(this.currentSelection_0).name + this.getWarningMessage_0(), new Gnt(this)).show() }, Unt.prototype.getWarningMessage_0 = function () { return this.spellCaster_0.isWitch ? " isn't known by your familiar.  Click on the familiar icon next to the spell to add it.  Select this spell anyway?" : " isn't in your spellbook.  Click on the book icon next to the spell to add it.  Select this spell anyway?" }, Unt.prototype.addSpellAndDismiss_0 = function () { this.dataControl.managerSpells.clearPossiblyBlendedSpellAndRecalcutateBlending_4oflqk$(this.characterBuild, this.spellCaster_0, this.spellSlotReference_0); var t = new S2(this.spellList_0, o(this.currentSelection_0).name, this.heighten_0), e = this.characterBuild.getCharacterData().getHashMapPlayerSpells(), i = this.spellSlotReference_0; e.put_xwzc9p$(i, t), this.mainActivity.autoSave(), this.mainActivity.getNavigationControl().tabbedAreaSpells.updateAll(), this.destroy() }, Unt.prototype.setSpellBlendingControls_0 = function () { var t; BK().hasSpecialByLevel_o7aqax$(this.characterBuild, "Spell Blending", this.getCharacterData().getCharacterLevel()) && 1 <= (t = this.spellLevel_0) && t <= 8 && (this.addButtonToBottom_lt8gi4$(this.getBlendButton_0(1)), this.spellLevel_0 < 8 && this.addButtonToBottom_lt8gi4$(this.getBlendButton_0(2))) }, Unt.prototype.getBlendButton_0 = function (t) { var e, i, a = jlt().getDiv(), r = this.spellLevel_0 + t | 0; return a.innerHTML = "Blend to " + r, a.classList.add("modal-button"), a.addEventListener("click", (e = this, i = r, function (t) { return e.dataControl.managerSpells.clearPossiblyBlendedSpellAndRecalcutateBlending_4oflqk$(e.characterBuild, e.spellCaster_0, e.spellSlotReference_0), e.dataControl.managerSpells.addBlendedSpell_b58gva$(e.getCharacterData(), e.spellCaster_0, new N0(e.spellSlotReference_0, e.spellLevel_0, i)), e.characterBuild.getCharacterData().getHashMapPlayerSpells().remove_11rb$(e.spellSlotReference_0), e.mainActivity.autoSave(), e.dataControl.managerSpells.setBlendedSpells_xnal2y$(e.characterBuild, e.spellCaster_0), e.mainActivity.getNavigationControl().tabbedAreaSpells.updateAll(), e.destroy(), n })), a }, Unt.prototype.setDefaults_0 = function () { null != this.playerSpell_0 ? this.spellList_0 = o(this.playerSpell_0).spellList : this.characterBuild.isElementalist ? this.spellList_0 = 5 : this.isWitch_0() ? this.spellList_0 = 4 : this.spellList_0 = this.spellCaster_0.spellList, null != this.playerSpell_0 && (this.heighten_0 = o(this.playerSpell_0).getHeighten_5btbp7$(this.characterBuild)) }, Unt.prototype.setSignatureSpell_0 = function () { var t, e, i, a, r, n, s, l; if (null != this.currentSelection_0) { if (!this.getCharacterData().hashMapSignatureSpellsMultiple.containsKey_11rb$(this.spellCaster_0.casterName)) { var p = this.getCharacterData().hashMapSignatureSpellsMultiple, h = this.spellCaster_0.casterName, d = c(); p.put_xwzc9p$(h, d) } o(null != (t = this.getCharacterData().hashMapSignatureSpellsMultiple.get_11rb$(this.spellCaster_0.casterName)) ? t.containsKey_11rb$(this.spellLevel_0) : null) || null != (e = this.getCharacterData().hashMapSignatureSpellsMultiple.get_11rb$(this.spellCaster_0.casterName)) && e.put_xwzc9p$(this.spellLevel_0, u()), k0().hasMultipleSignatureSpellsAtLevel_cvmu72$(this.dataControl, this.characterBuild, this.getCharacterData().getCharacterLevel()) || null != (a = null != (i = this.getCharacterData().hashMapSignatureSpellsMultiple.get_11rb$(this.spellCaster_0.casterName)) ? i.get_11rb$(this.spellLevel_0) : null) && a.clear(), o(null != (n = null != (r = this.getCharacterData().hashMapSignatureSpellsMultiple.get_11rb$(this.spellCaster_0.casterName)) ? r.get_11rb$(this.spellLevel_0) : null) ? n.contains_11rb$(o(this.currentSelection_0).name) : null) || null != (l = null != (s = this.getCharacterData().hashMapSignatureSpellsMultiple.get_11rb$(this.spellCaster_0.casterName)) ? s.get_11rb$(this.spellLevel_0) : null) && l.add_11rb$(o(this.currentSelection_0).name) } }, Unt.prototype.clearSignatureSpell_0 = function () { var t, e, i; if (this.getCharacterData().getHashMapPlayerSpells().containsKey_11rb$(this.spellSlotReference_0)) { var a = this.getCharacterData().getHashMapPlayerSpells().get_11rb$(this.spellSlotReference_0); null != a && this.getCharacterData().hashMapSignatureSpellsMultiple.containsKey_11rb$(this.spellCaster_0.casterName) && !0 === (null != (t = this.getCharacterData().hashMapSignatureSpellsMultiple.get_11rb$(this.spellCaster_0.casterName)) ? t.containsKey_11rb$(this.spellLevel_0) : null) && null != (i = null != (e = this.getCharacterData().hashMapSignatureSpellsMultiple.get_11rb$(this.spellCaster_0.casterName)) ? e.get_11rb$(this.spellLevel_0) : null) && i.remove_11rb$(a.spellName) } }, Unt.prototype.setSearchControls_0 = function () { var t, e, i, a = jlt().getTextInput(), r = new Uet(!0); a.classList.add("modal-widget"), a.placeholder = "search", a.addEventListener("input", (t = a, e = r, i = this, function (a) { return i.searchContent_0(t.value, e.spinner.selectedIndex), n })), this.addWidgetToTopSecondLayer_lt8gi4$(a), r.setSpinnerList_kand9s$(["Names", "Traits", "Other"]), r.spinner.addEventListener("change", function (t, e, i) { return function (a) { var r = t.spinner.selectedIndex, o = e.value; return i.searchContent_0(o, r), n } }(r, a, this)), this.addWidgetToTopSecondLayer_lt8gi4$(r.spinner) }, Unt.prototype.searchContent_0 = function (t, e) { 0 === t.length && this.searchOff_0 || (this.searchOff_0 = 0 === t.length, m(this.searchField_0, t) && this.searchType_0 === e || (this.searchField_0 = t.toLowerCase(), this.searchType_0 = e, this.currentSelection_0 = null, this.setListView_0())) }, Unt.prototype.setCheckBoxKnownOnly_0 = function () { if (!this.spellCaster_0.knowsAllSpells) { var t = new Met("Known Only?"); t.setWhite(), t.divWithLabel.style.display = "inline-block", t.divWithLabel.addEventListener("click", (e = t, i = this, function (t) { return e.toggle(), i.knownOnly_0 = !i.knownOnly_0, i.currentSelection_0 = null, i.divInfo.innerHTML = "", i.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(t.divWithLabel) } var e, i }, Unt.prototype.setCheckBoxHeightenDescriptions_0 = function () { var t; this.checkboxAutoHeighten_0.setWhite(), this.checkboxAutoHeighten_0.divWithLabel.style.display = "inline-block", this.checkboxAutoHeighten_0.setChecked_6taknv$(B9().getPreferenceBoolean_ivxn3r$(B9().PREFERENCE_AUTO_HEIGHTEN, !0)), this.checkboxAutoHeighten_0.divWithLabel.addEventListener("click", (t = this, function (e) { if (t.checkboxAutoHeighten_0.toggle(), t.divInfo.innerHTML = "", t.setListView_0(), null != t.currentSelection_0) { var i = t.getLayoutAction_za3rmp$(o(t.currentSelection_0)); null != i && t.cloneToInfo_q80y7p$(i) } return B9().setPreferenceBoolean_ivxn3r$(B9().PREFERENCE_AUTO_HEIGHTEN, t.checkboxAutoHeighten_0.isChecked()), n })), this.addWidgetToTop_lt8gi4$(this.checkboxAutoHeighten_0.divWithLabel) }, Unt.prototype.setSpinnerActions_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(["All Actions", "1 Action", "2 Actions", "3 Actions", "Free", "Reaction"]), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.actionFilter_0 = t.spinner.selectedIndex, e.currentSelection_0 = null, e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, Unt.prototype.setSpinnerSchool_0 = function () { var t, e, i, a = new Uet(!0), r = u(); st(r, k0().ARRAY_SCHOOLS), r.add_wxm5ur$(0, "All Schools"), a.setSpinnerList_un5gdn$(r), a.spinner.addEventListener("change", (t = a, e = this, i = r, function (a) { return 0 === t.spinner.selectedIndex ? e.school_0 = null : e.school_0 = i.get_za3lpa$(t.spinner.selectedIndex), e.currentSelection_0 = null, e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(a.spinner) }, Unt.prototype.setSpinnerSpellLevel_0 = function () { if (this.spellLevel_0 > 1 && !m(this.spellCaster_0.casterName, j3().CASTER_CLERIC_FONT)) { for (var t = new Uet(!0), e = u(), i = this.spellLevel_0 - 1 | 0; i >= 1; i--) { var a = this.spellLevel_0 - i | 0; e.add_11rb$("+" + a + " Heighten") } e.add_wxm5ur$(0, "Level " + j(this.spellLevel_0)), t.setSpinnerList_un5gdn$(e), t.setSpinnerSelection_s8ev37$(this.heighten_0), t.spinner.addEventListener("change", (r = t, o = this, function (t) { return o.heighten_0 = r.spinner.selectedIndex, o.currentSelection_0 = null, o.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(t.spinner) } var r, o }, Unt.prototype.setSpinnerSpellList_0 = function () { var t, e, i = new Uet(!0), a = u(); a.add_11rb$("Arcane"), a.add_11rb$("Divine"), a.add_11rb$("Occult"), a.add_11rb$("Primal"), 6 === this.spellList_0 && a.add_11rb$("Nonstandard"), this.spellCaster_0.isWitch && a.add_11rb$("Witch"), this.characterBuild.isElementalist && a.add_11rb$("Elementalist"), i.setSpinnerList_un5gdn$(a), this.characterBuild.isElementalist ? (a.add_11rb$("Elementalist"), null != this.playerSpell_0 ? 5 === o(this.playerSpell_0).spellList ? i.setSpinnerSelection_s8ev37$(a.indexOf_11rb$("Elementalist")) : o(this.playerSpell_0).spellList < a.size && i.setSpinnerSelection_s8ev37$(o(this.playerSpell_0).spellList) : i.setSpinnerSelection_s8ev37$(a.indexOf_11rb$("Elementalist"))) : this.spellCaster_0.isWitch ? null != this.playerSpell_0 ? i.setSpinnerSelection_s8ev37$(o(this.playerSpell_0).spellList) : i.setSpinnerSelection_s8ev37$(a.indexOf_11rb$("Witch")) : i.setSpinnerSelection_s8ev37$(this.spellList_0), i.spinner.addEventListener("change", (t = i, e = this, function (i) { var a, r = t.spinner.value, o = null != (a = k0().HASHMAP_SPELLLIST_NAME_TO_INT.get_11rb$(r)) ? a : 0; return e.spellList_0 !== o && (e.spellList_0 = o, e.setListView_0()), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, Unt.prototype.setListView_0 = function () { var t, e, i, a; if (this.divScrollable.innerHTML = "", this.listItems_0.clear(), this.hashMapDivs.clear(), this.bonusSpell_0 && this.spellCaster_0.getHashMapBonusSpell_fhac18$(this.dataControl, this.characterBuild).containsKey_11rb$(this.spellSlotReference_0)) { var r = this.spellCaster_0.getHashMapBonusSpell_fhac18$(this.dataControl, this.characterBuild).get_11rb$(this.spellSlotReference_0); null == (a = o(r).getListSpellsAtLevel_vux9f0$(this.spellList_0, this.spellLevel_0 - this.heighten_0 | 0)) && (a = this.dataControl.managerSpells.getListSpellsAtLevel_bh8xs5$(this.mainActivity.characterBuild, this.spellList_0, this.spellLevel_0 - this.heighten_0 | 0)) } else a = this.dataControl.managerSpells.getListSpellsAtLevel_bh8xs5$(this.mainActivity.characterBuild, this.spellList_0, this.spellLevel_0 - this.heighten_0 | 0); if (this.knownOnly_0) for (t = a.iterator(); t.hasNext();) { var n = t.next(); k0().knowsSpell_egl760$(this.characterBuild, this.spellCaster_0, n.name) && this.meetsSearch_0(n) && this.meetsActionFilter_0(n) && this.meetsSchoolFilter_0(n) && this.listItems_0.add_11rb$(n) } else for (e = a.iterator(); e.hasNext();) { var s = e.next(); this.meetsSearch_0(s) && this.meetsActionFilter_0(s) && this.meetsSchoolFilter_0(s) && this.listItems_0.add_11rb$(s) } var l = this.listItems_0; for (l.size > 1 && q(l, new G(qnt(Wnt))), i = this.listItems_0.iterator(); i.hasNext();) { var c = i.next(); this.divScrollable.appendChild(this.getListView_0(c)) } }, Unt.prototype.meetsActionFilter_0 = function (t) { if (0 === this.actionFilter_0) return !0; switch (this.actionFilter_0) { case 1: return 1 === t.actions || 4 === t.actions; case 2: return 2 === t.actions || 4 === t.actions; case 3: return 3 === t.actions || 4 === t.actions; case 4: return -1 === t.actions; case 5: return 0 === t.actions }return !0 }, Unt.prototype.meetsSchoolFilter_0 = function (t) { var e; return null == this.school_0 || !!_(t.traits, "string" == typeof (e = this.school_0) ? e : d()) }, Unt.prototype.meetsSearch_0 = function (t) { if (this.searchOff_0 || 0 === this.searchField_0.length) return !0; switch (this.searchType_0) { case 0: return _(t.name.toLowerCase(), this.searchField_0); case 1: return _(t.traits.toLowerCase(), this.searchField_0); case 2: return _(t.description.toLowerCase(), this.searchField_0) }return !1 }, Unt.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, Unt.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, H0) ? i : d() }, Unt.prototype.getListView_0 = function (t) { var e, i = new _lt(this.spellCaster_0.spellbookCaster, this.isWitch_0(), !1); i.setName_61zpoe$(t.name), i.setTraits_pdl1vj$(t.traits), i.itemLevel.classList.add("item-level-box"); var a = this.spellLevel_0; if (m(t.type, "Cantrip")) { var r = this.getCharacterData().getCharacterLevel() / 2; a = C(I.ceil(r)) } htt().setItemLevelBox_c4iwwi$(i.itemLevel, a, t.traits), i.setAction_za3lpa$(t.actions), this.checkboxAutoHeighten_0.isChecked() || (a = t.level); var o = t.getHeightenedDescription_vux9f0$(a, this.spellcastingMod_0); if (this.mainActivity.showDiceRollers) { if (_(t.traits.toLowerCase(), "attack")) { var s = new Mlt("Spell Attack " + htt().getSignedValue_za3lpa$(this.spellAttack_0), "1d20" + htt().getSignedValue_za3lpa$(this.spellAttack_0)); i.layoutRollers.appendChild(s.buttonDiv) } for (e = htt().getListRollsFromSpell_bm4lxs$(o, this.spellcastingMod_0).iterator(); e.hasNext();) { var l = e.next(), c = new Mlt(l.getDiceAndFlatAsString(), l.getDiceAndFlatAsString()); i.layoutRollers.appendChild(c.buttonDiv) } } var p, h, d, u = t.cast + "<br>" + o; return u = htt().getParseDescriptionForInlineActions_61zpoe$(u), i.setDescription_61zpoe$(u), this.spellCaster_0.knowsAllSpells || (i.setSpellKnown_6taknv$(k0().knowsSpell_egl760$(this.characterBuild, this.spellCaster_0, t.name)), i.iconSpellBook.addEventListener("click", (p = this, h = t, d = i, function (t) { return t.stopPropagation(), k0().knowsSpell_egl760$(p.characterBuild, p.spellCaster_0, h.name) ? p.mainActivity.characterBuild.getCharacterData().isShowSpellbookConfirmation() ? p.openRemoveSpellConfirmation_0(d, h) : (k0().removeSpell_egl760$(p.characterBuild, p.spellCaster_0, h.name), d.setSpellKnown_6taknv$(!1)) : p.mainActivity.characterBuild.getCharacterData().isShowSpellbookConfirmation() ? p.openAddSpellConfirmation_0(d, h) : (k0().addSpell_1tozu1$(p.characterBuild, p.spellCaster_0, h.name), d.setSpellKnown_6taknv$(!0)), p.mainActivity.autoSave(), n }))), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, Ynt.prototype.accept = function () { k0().addSpell_1tozu1$(this.this$DialogSpells.characterBuild, this.this$DialogSpells.spellCaster_0, this.closure$spellInformation.name), this.closure$layoutSpellChoice.setSpellKnown_6taknv$(!0) }, Ynt.$metadata$ = { kind: p, interfaces: [Vet] }, Unt.prototype.openAddSpellConfirmation_0 = function (t, e) { Xet(!0, "Add " + e.name + " to your known spells?", new Ynt(this, e, t)).show() }, Vnt.prototype.accept = function () { k0().removeSpell_egl760$(this.this$DialogSpells.characterBuild, this.this$DialogSpells.spellCaster_0, this.closure$spellInformation.name), this.closure$layoutSpellChoice.setSpellKnown_6taknv$(!1) }, Vnt.$metadata$ = { kind: p, interfaces: [Vet] }, Unt.prototype.openRemoveSpellConfirmation_0 = function (t, e) { Xet(!0, "Remove " + e.name + " from your known spells?", new Vnt(this, e, t)).show() }, Unt.prototype.isWitch_0 = function () { return m(this.spellCaster_0.casterName, Bn().CLASS_NAME) || m(this.spellCaster_0.casterName, o3().ARCHETYPE_CASTER_WITCH) }, Knt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Xnt = null; function Jnt() { return null === Xnt && new Knt, Xnt } function Znt(t, e, i, a) { eot(), wet.call(this, t, e, i), this.spellCaster_0 = a, this.arraySpinnerSpellLevels_0 = u(), this.arrayCheckboxPerDay_0 = u(), this.arrayCheckBoxPrepare_0 = u(), this.layoutParent_0 = jlt().getDiv(), this.title.innerHTML = this.spellCaster_0.casterName + " Bonus Spells", this.content.style.padding = "0.5em", this.content.appendChild(this.layoutParent_0), this.layoutParent_0.classList.add("scrollable"); var r = u(); r.add_11rb$("+0"); for (var n = 1; n <= 30; n++)r.add_11rb$("Bonus Spells +" + n); for (var o = 0; o <= 10; o++) { var s = jlt().getDiv(); s.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.layoutParent_0.appendChild(s); var l = jlt().getDiv(); l.classList.add(B9().CSS_BOLD_STANDARD), l.style.marginBottom = "0.5em", l.innerHTML = "Spell Level " + o, s.appendChild(l); var c = new Uet(!1); c.setSpinnerList_un5gdn$(r); var p = new Met("Added prepared spell slot"); p.divWithLabel.style.display = "inline-block", p.divWithLabel.style.marginLeft = "1em"; var h = new Met("Add to spells per day"); h.divWithLabel.style.display = "inline-block", h.divWithLabel.style.marginLeft = "1em", h.divWithLabel.addEventListener("click", iot(h)), p.divWithLabel.addEventListener("click", aot(p)), this.arraySpinnerSpellLevels_0.add_11rb$(c), this.arrayCheckBoxPrepare_0.add_11rb$(p), this.arrayCheckboxPerDay_0.add_11rb$(h), s.appendChild(c.spinner), s.appendChild(h.divWithLabel), s.appendChild(p.divWithLabel) } this.setCasterLayout_0() } function Qnt() { tot = this } Unt.$metadata$ = { kind: p, simpleName: "DialogSpells", interfaces: [Iet] }, Znt.prototype.onAccept = function () { var t, e = this.spellCaster_0.casterName; this.getCharacterData().getHashMapBonusSpellSlots().containsKey_11rb$(e) && null != (t = this.getCharacterData().getHashMapBonusSpellSlots().get_11rb$(e)) && this.spellCaster_0.removeUserCreatedBonusSpellSlots_2pw41m$(t); var i = c(), a = c(), r = c(); this.getCharacterData().getHashMapBonusSpellPerDay().containsKey_11rb$(e) || this.getCharacterData().getHashMapBonusSpellPerDay().put_xwzc9p$(e, c()), this.getCharacterData().getHashMapBonusSpellPrepared().containsKey_11rb$(e) || this.getCharacterData().getHashMapBonusSpellPrepared().put_xwzc9p$(e, c()); for (var n = 0; n <= 10; n++)if (0 !== this.arraySpinnerSpellLevels_0.get_za3lpa$(n).spinner.selectedIndex) { var o = this.arraySpinnerSpellLevels_0.get_za3lpa$(n).spinner.selectedIndex; if (i.put_xwzc9p$(n, o), 1 !== this.spellCaster_0.typeCaster || this.spellCaster_0.flexibleCaster) { var s = this.arrayCheckboxPerDay_0.get_za3lpa$(n).isChecked(); a.put_xwzc9p$(n, s); var l = this.arrayCheckBoxPrepare_0.get_za3lpa$(n).isChecked(); r.put_xwzc9p$(n, l) } else a.put_xwzc9p$(n, !0), r.put_xwzc9p$(n, !0) } i.size > 0 ? (this.getCharacterData().getHashMapBonusSpellSlots().put_xwzc9p$(e, i), this.getCharacterData().getHashMapBonusSpellPerDay().put_xwzc9p$(e, a), this.getCharacterData().getHashMapBonusSpellPrepared().put_xwzc9p$(e, r), this.spellCaster_0.addUserCreatedBonusSpellSlots_mm95vs$(this.dataControl, this.characterBuild, i, a, r)) : (this.getCharacterData().getHashMapBonusSpellSlots().remove_11rb$(e), this.getCharacterData().getHashMapBonusSpellPerDay().remove_11rb$(e), this.getCharacterData().getHashMapBonusSpellPrepared().remove_11rb$(e)), this.mainActivity.autoSave(), this.mainActivity.getGuiUpdateControl().updateSpells_n40yp2$(this.characterBuild), this.destroy() }, Znt.prototype.setCasterLayout_0 = function () { var t, e, i, a, r = this.spellCaster_0.casterName; if (this.getCharacterData().getHashMapBonusSpellSlots().keys.contains_11rb$(r)) for (var n = 0; n <= 10; n++)o(this.getCharacterData().getHashMapBonusSpellSlots().get_11rb$(r)).containsKey_11rb$(n) ? this.arraySpinnerSpellLevels_0.get_za3lpa$(n).setSpinnerSelection_s8ev37$(o(this.getCharacterData().getHashMapBonusSpellSlots().get_11rb$(r)).get_11rb$(n)) : this.arraySpinnerSpellLevels_0.get_za3lpa$(n).setSpinnerSelection_s8ev37$(0); var s = this.characterBuild.hashMapSpellCasters.get_11rb$(r); if (null != s && 1 === s.typeCaster && !s.flexibleCaster) for (var l = 0; l <= 10; l++)null != (t = this.arrayCheckboxPerDay_0.get_za3lpa$(l).divWithLabel.parentElement) && t.removeChild(this.arrayCheckboxPerDay_0.get_za3lpa$(l).divWithLabel), null != (e = this.arrayCheckBoxPrepare_0.get_za3lpa$(l).divWithLabel.parentElement) && e.removeChild(this.arrayCheckBoxPrepare_0.get_za3lpa$(l).divWithLabel); if (this.getCharacterData().getHashMapBonusSpellPerDay().keys.contains_11rb$(r)) for (var c = 0; c <= 10; c++)o(this.getCharacterData().getHashMapBonusSpellSlots().get_11rb$(r)).containsKey_11rb$(c) && null != (i = o(this.getCharacterData().getHashMapBonusSpellPerDay().get_11rb$(r)).get_11rb$(c)) && this.arrayCheckboxPerDay_0.get_za3lpa$(c).setChecked_6taknv$(i); if (this.getCharacterData().getHashMapBonusSpellPrepared().keys.contains_11rb$(r)) for (var p = 0; p <= 10; p++)o(this.getCharacterData().getHashMapBonusSpellPrepared().get_11rb$(r)).containsKey_11rb$(p) && null != (a = o(this.getCharacterData().getHashMapBonusSpellPrepared().get_11rb$(r)).get_11rb$(p)) && this.arrayCheckBoxPrepare_0.get_za3lpa$(p).setChecked_6taknv$(a); else for (var h = 0; h <= 10; h++)this.arrayCheckBoxPrepare_0.get_za3lpa$(h).setChecked_6taknv$(!0) }, Qnt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var tot = null; function eot() { return null === tot && new Qnt, tot } function iot(t) { return function (e) { return t.setChecked_6taknv$(!t.isChecked()), n } } function aot(t) { return function (e) { return t.setChecked_6taknv$(!t.isChecked()), n } } function rot(t, e, i, a) { var r; sot(), wet.call(this, t, e, i), this.spellCaster_0 = a, this.arraySpinnerSpellLevels_0 = u(), this.layoutParent_0 = jlt().getDiv(), this.maxRepertoire_0 = this.spellCaster_0.getSummonerMaxRepertoire_5btbp7$(i), this.maxSpellLevel_0 = this.spellCaster_0.getMaxSpellLevel_za3lpa$(this.getCharacterData().getCharacterLevel()), this.totalSpells = 0, this.content.style.padding = "0.5em", this.content.appendChild(this.layoutParent_0), this.layoutParent_0.classList.add("scrollable"); for (var n = u(), o = 0; o <= 5; o++)n.add_11rb$(o.toString() + " spells in repertoire"); r = this.maxSpellLevel_0; for (var s = 1; s <= r; s++) { var l = jlt().getDiv(); l.classList.add(B9().CSS_ROUNDED_RECTANGLE), l.style.marginTop = "0.5em", this.layoutParent_0.appendChild(l); var c = jlt().getDiv(); c.classList.add(B9().CSS_BOLD_STANDARD), c.style.marginBottom = "0.5em", c.innerHTML = "Spell Level " + s, l.appendChild(c); var p = new Uet(!1); p.setSpinnerList_un5gdn$(n), p.spinner.addEventListener("change", lot(this)), this.arraySpinnerSpellLevels_0.add_11rb$(p), l.appendChild(p.spinner) } this.setCasterLayout_0(), this.checkTotalInRepertoire_0() } function not() { oot = this } Znt.$metadata$ = { kind: p, simpleName: "DialogSpellsBonusSlots", interfaces: [wet] }, rot.prototype.onAccept = function () { var t; if (this.totalSpells === this.maxRepertoire_0) { var e = c(); t = this.maxSpellLevel_0; for (var i = 1; i <= t; i++) { var a = this.arraySpinnerSpellLevels_0.get_za3lpa$(i - 1 | 0); if (a.spinner.selectedIndex > 0) { var r = a.spinner.selectedIndex; e.put_xwzc9p$(i, r) } } var n = this.getCharacterData().getHashMapRepertoireOverride(), o = this.spellCaster_0.casterName; n.put_xwzc9p$(o, e), this.mainActivity.getGuiUpdateControl().updateSpells_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() } else this.mainActivity.showMessage_61zpoe$("You need to assign " + this.maxRepertoire_0 + " spells to your repertoire") }, rot.prototype.checkTotalInRepertoire_0 = function () { var t; for (this.totalSpells = 0, t = this.arraySpinnerSpellLevels_0.iterator(); t.hasNext();) { var e = t.next(); this.totalSpells = this.totalSpells + e.spinner.selectedIndex | 0 } this.title.innerHTML = this.totalSpells.toString() + "/" + this.maxRepertoire_0 + " in Spell Repertoire" }, rot.prototype.setCasterLayout_0 = function () { var t, e; if (this.getCharacterData().getHashMapRepertoireOverride().containsKey_11rb$(this.spellCaster_0.casterName)) { var i = this.getCharacterData().getHashMapRepertoireOverride().get_11rb$(this.spellCaster_0.casterName); e = this.maxSpellLevel_0; for (var a = 1; a <= e; a++)o(i).containsKey_11rb$(a) && (this.arraySpinnerSpellLevels_0.get_za3lpa$(a - 1 | 0).spinner.selectedIndex = o(i.get_11rb$(a))) } else { t = this.maxSpellLevel_0; for (var r = 1; r <= t; r++) { var n = this.spellCaster_0.getSummonerDefaultRepertoire_98w4uv$(this.characterBuild, this.getCharacterData().getCharacterLevel(), r, this.maxSpellLevel_0); this.arraySpinnerSpellLevels_0.get_za3lpa$(r - 1 | 0).spinner.selectedIndex = n } } }, not.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var oot = null; function sot() { return null === oot && new not, oot } function lot(t) { return function (e) { return t.checkTotalInRepertoire_0(), n } } function cot(t, i, a) { wet.call(this, t, i, a), this.editTextStamina_0 = jlt().getTextInput(), this.editTextTemp_0 = jlt().getTextInput(), this.currentAdjustment_0 = 0, this.maxStamina_0 = i.managerClasses.getMaxStamina_5btbp7$(a), this.setRestictedWidth(), this.title.innerHTML = "Set Stamina"; var r = jlt().getDiv(); r.classList.add("grid-container"), r.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(r), this.content.style.padding = "0.5em"; var o = jlt().getDiv(); o.classList.add("grid-item"), r.appendChild(o); var c = jlt().getH3(); c.innerHTML = "Stamina Points (Max " + this.maxStamina_0 + ")", o.appendChild(c), o.appendChild(this.editTextStamina_0); var p = jlt().getDiv(); p.classList.add("grid-item"), r.appendChild(p); var h = jlt().getH3(); h.innerHTML = "Temp Hit Points", p.appendChild(h), p.appendChild(this.editTextTemp_0); var d = jlt().getDiv(); d.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), d.classList.add(B9().CSS_SMALL_TEXT), d.classList.add(B9().CSS_GREY_TEXT), d.innerHTML = "You can set the new total directly or use the + or - symbols to adjust.", this.content.appendChild(d); var u, _ = this.maxStamina_0 - a.getCharacterData().getStaminaDamage() | 0; this.editTextStamina_0.value = _.toString(), this.editTextTemp_0.value = a.getCharacterData().getTemporaryHP().toString(), this.editTextStamina_0.classList.add("edittext-dark"), this.editTextTemp_0.classList.add("edittext-dark"), this.editTextStamina_0.addEventListener("click", (u = this, function (t) { return u.editTextStamina_0.select(), n })), this.editTextTemp_0.addEventListener("click", function (t) { return function (e) { return t.editTextTemp_0.select(), n } }(this)); var f = jlt().getDiv(); f.innerHTML = "Restore", f.classList.add("modal-button"), f.addEventListener("click", function (t, e, i) { return function (a) { return t.getCharacterData().setStaminaDamage_za3lpa$(0), e.getNavigationControl().sectionDefenses.updateHP(), e.autoSave(), i.destroy(), n } }(a, t, this)), this.addButtonToBottom_lt8gi4$(f), this.editTextStamina_0.addEventListener("keyup", function (t) { return function (i) { try { "Enter" == i.key && (i.preventDefault(), t.onAccept()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this)), this.editTextTemp_0.addEventListener("keyup", function (t) { return function (i) { try { "Enter" == i.key && (i.preventDefault(), t.onAccept()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this)) } function pot(t, e, i, a) { wet.call(this, t, e, i), this.petReference = a, this.checkBoxCommon_0 = new Met("Hide common actions descriptions (Shield Block etc)"), this.checkBoxAll_0 = new Met("Hide all action descriptions"), this.title.innerHTML = "Stat Block", this.setRestictedWidth(), this.content.style.padding = "0.3em", this.content.style.marginRight = "2em"; var r, o = jlt().getDiv(); o.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.appendChild(o), this.checkBoxCommon_0.divWithLabel.addEventListener("click", (r = this, function (t) { return r.checkBoxCommon_0.toggle(), n })), o.appendChild(this.checkBoxCommon_0.divWithLabel), this.checkBoxAll_0.divWithLabel.addEventListener("click", function (t) { return function (e) { return t.checkBoxAll_0.toggle(), n } }(this)), o.appendChild(this.checkBoxAll_0.divWithLabel) } rot.$metadata$ = { kind: p, simpleName: "DialogSpellsSummonerRepertoire", interfaces: [wet] }, cot.prototype.onAccept = function () { try { var t = this.editTextTemp_0.value, i = V(this.editTextTemp_0.value); if (_(t, "-") || i < 0 || _(t, "+")) { var a = this.characterBuild.getCharacterData().getTemporaryHP() + i | 0; a < 0 && (a = 0), this.characterBuild.getCharacterData().setTemporaryHP_za3lpa$(a) } else this.characterBuild.getCharacterData().setTemporaryHP_za3lpa$(i); 0 === this.characterBuild.getCharacterData().getTemporaryHP() && this.characterBuild.getCharacterData().setTemporaryHPSource_pdl1vj$(null) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to process the number you entered for Temporary Hit Points!"); throw t } try { var r = this.editTextStamina_0.value, n = V(this.editTextStamina_0.value); if (_(r, "+") || _(r, "-") || n < 0) { var o = this.characterBuild.getCharacterData().getStaminaDamage() - n | 0; o > this.maxStamina_0 && (o = this.maxStamina_0), o < 0 && (o = 0), this.characterBuild.getCharacterData().setStaminaDamage_za3lpa$(o) } else n >= this.maxStamina_0 ? this.characterBuild.getCharacterData().setStaminaDamage_za3lpa$(0) : this.characterBuild.getCharacterData().setStaminaDamage_za3lpa$(this.maxStamina_0 - n | 0) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to process the number you entered for Hit Points!"); throw t } this.mainActivity.getNavigationControl().sectionDefenses.updateHP(), this.mainActivity.autoSave(), this.destroy() }, cot.$metadata$ = { kind: p, simpleName: "DialogStamina", interfaces: [wet] }, pot.prototype.onAccept = function () { if (null != this.petReference) { var t = this.mainActivity.characterBuild.hashMapPetCharacterBuilds.get_11rb$(this.petReference), e = o(t).getPetData(), i = new W1(this.mainActivity.getDataControl(), t, e.getCharacterLevel()), a = ""; 0 === t.getPetData().getPetType() ? a = new a8(this.mainActivity, t, e, i, this.checkBoxCommon_0.isChecked(), this.checkBoxAll_0.isChecked(), !0, !0).getHtml() : 1 === t.getPetData().getPetType() ? a = new o8(this.mainActivity, t, e, i, this.checkBoxCommon_0.isChecked(), this.checkBoxAll_0.isChecked(), !0, !0).getHtml() : 2 === t.getPetData().getPetType() ? a = new n8(this.mainActivity, t, e, i, this.checkBoxCommon_0.isChecked(), this.checkBoxAll_0.isChecked()).getHtml() : 3 === t.getPetData().getPetType() && (a = new r8(this.mainActivity, t, e, i, this.checkBoxCommon_0.isChecked(), this.checkBoxAll_0.isChecked()).getHtml()), localStorage.setItem("statblock", a) } else { var r = this.characterBuild.getPlayReportAbilityScores_sfkw43$(this.mainActivity.getDataControl()), n = new e8(this.mainActivity, this.characterBuild, this.getCharacterData(), r, this.checkBoxCommon_0.isChecked(), this.checkBoxAll_0.isChecked(), !0, !0).getHtml(); localStorage.setItem("statblock", n) } window.open("statblock.html", "_blank"), this.destroy() }, pot.$metadata$ = { kind: p, simpleName: "DialogStatBlock", interfaces: [wet] }; var hot = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function dot(t, e, i) { $ot(), Iet.call(this, t, e, i), this.orders_0 = ["Alphabetically", "By Level"], this.currentSelection_0 = null, this.listItems = u(), this.currentOrderType = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, 0), this.category_0 = 0, this.searchType_0 = 0, this.searchField_0 = "", this.featType_0 = se().FEATS_ALCHEMIST, this.title.innerHTML = "Feat Browser", this.setSingleFinishedButton(), this.setSpinnerCategory_0(), this.setSpinnerOrder_0(), this.setSearchControls_0(), this.orderFeats_0(); var a, r, o, s, l = jlt().getDiv(); l.style.width = "8em", l.style.marginLeft = "2em", l.innerHTML = "View Free Feats", l.classList.add("modal-button"), l.addEventListener("click", (a = t, r = e, o = i, s = this, function (t) { return a.openDialog_ip94j4$(new vot(a, r, o, null)), s.destroy(), n })), this.addButtonToBottom_lt8gi4$(l); var c = jlt().getDiv(); c.innerHTML = "Add Free Feat", c.classList.add("modal-button"), c.style.width = "8em", c.addEventListener("click", function (t, e, i, a) { return function (r) { return t.isFullAppEnabled() ? null != e.currentSelection_0 && (i.openDialog_ip94j4$(new vot(i, t, a, e.currentSelection_0)), e.destroy()) : i.setUpgradeMessage_61zpoe$(" add user generated free feats."), n } }(e, this, t, i)), e.isFullAppEnabled() || c.classList.add("div-button-disabled"), this.addButtonToBottom_lt8gi4$(c), this.divScrollable.addEventListener("dblclick", function (t) { return function (e) { return t.onAccept(), n } }(this)) } function uot(t) { return t.name } function _ot(t) { return t.level } function fot(t) { return t.name } function yot() { mot = this, this.ORDER_ALPHABETICAL_0 = 0, this.ORDER_FEAT_LEVEL_0 = 1, this.SEARCH_TYPE_NAMES = 0, this.SEARCH_TYPE_TRAITS = 1, this.SEARCH_TYPE_OTHER = 2, this.CATEGORY_CLASS = 0, this.CATEGORY_DEDICATION = 1, this.CATEGORY_ARCHETYPE = 2, this.CATEGORY_ALL = 3, this.GENERAL_CAT_ALL = 0, this.GENERAL_CAT_SKILLS = 1, this.GENERAL_CAT_GEN = 2 } dot.prototype.onAccept = function () { this.destroy() }, dot.prototype.setSpinnerCategory_0 = function () { var t, e, i, a = new Uet(!0), r = u(); for (t = this.dataControl.managerFeats.hashMapFeatsByCategory.keys.iterator(); t.hasNext();) { var o = t.next(); _(o, "Heritage") || r.add_11rb$(o) } r.remove_11rb$(se().FEATS_CLASS_ARCHETYPE), Q(r), r.add_11rb$("All"), a.setSpinnerList_un5gdn$(r), a.spinner.addEventListener("change", (e = a, i = this, function (t) { return i.featType_0 = e.spinner.value, i.orderFeats_0(), n })), this.addWidgetToTop_lt8gi4$(a.spinner) }, dot.prototype.setSearchControls_0 = function () { var t, e, i, a = jlt().getTextInput(), r = new Uet(!0); a.classList.add("modal-widget"), a.placeholder = "search", a.addEventListener("input", (t = a, e = r, i = this, function (a) { return i.searchContent_0(t.value, e.spinner.selectedIndex), n })), this.addWidgetToTop_lt8gi4$(a), r.setSpinnerList_kand9s$(["Names", "Traits", "Other"]), r.spinner.addEventListener("change", function (t, e, i) { return function (a) { var r = t.spinner.selectedIndex, o = e.value; return i.searchContent_0(o, r), n } }(r, a, this)), this.addWidgetToTop_lt8gi4$(r.spinner) }, dot.prototype.searchContent_0 = function (t, e) { m(this.searchField_0, t) && this.searchType_0 == this.searchType_0 || (this.searchField_0 = t.toLowerCase(), this.searchType_0 = e, this.orderFeats_0()) }, dot.prototype.setSpinnerOrder_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(this.orders_0), i.setSpinnerSelection_s8ev37$(this.currentOrderType), i.spinner.addEventListener("change", (t = this, e = i, function (i) { return t.currentOrderType !== e.spinner.selectedIndex && (t.currentOrderType = e.spinner.selectedIndex, t.orderFeats_0()), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, dot.prototype.setListView_0 = function () { var t; for (this.divScrollable.innerHTML = "", t = this.listItems.iterator(); t.hasNext();) { var e = t.next(); this.divScrollable.appendChild(this.getFeatListView_0(e)) } }, dot.prototype.orderFeats_0 = function () { var t, e; if (this.listItems.clear(), m(this.featType_0, "All")) for (t = this.dataControl.managerFeats.getAllFeatsWithoutDuplicatesForBrowsing().iterator(); t.hasNext();) { var i = t.next(); this.meetsSearch_0(i) && this.listItems.add_11rb$(i) } else if (this.dataControl.managerFeats.hashMapFeatsByCategory.containsKey_11rb$(this.featType_0)) for (e = o(this.dataControl.managerFeats.hashMapFeatsByCategory.get_11rb$(this.featType_0)).values.iterator(); e.hasNext();) { var a = e.next(); this.meetsSearch_0(a) && this.listItems.add_11rb$(a) } if (0 === this.currentOrderType) { var r = this.listItems; r.size > 1 && q(r, new G(hot(uot))) } else 1 === this.currentOrderType && q(this.listItems, Wt([_ot, fot])); null == this.currentSelection_0 || B(this.listItems, this.currentSelection_0) || (this.currentSelection_0 = null), this.setListView_0() }, dot.prototype.meetsSearch_0 = function (t) { if (0 === this.searchField_0.length) return !0; switch (this.searchType_0) { case 0: return _(t.name.toLowerCase(), this.searchField_0); case 1: return null != t.traits && _(o(t.traits).toLowerCase(), this.searchField_0); case 2: return _(t.textDescription.toLowerCase(), this.searchField_0) }return !1 }, dot.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, dot.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, $q) ? i : d() }, dot.prototype.getFeatListView_0 = function (t) { var e, i = new Ylt(!1), a = htt().getParseDescriptionForInlineActions_61zpoe$(t.textDescription); return i.setDescription_61zpoe$(a), i.setTraits_pdl1vj$(t.traits), i.setName_61zpoe$(t.name), i.setAction_za3lpa$(t.action), htt().setItemLevelBox_c4iwwi$(i.itemLevel, t.level, t.traits), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""), null != this.currentSelection_0 && m(this.currentSelection_0, t) && i.layoutDetail.classList.remove(B9().CSS_HIDDEN), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, yot.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var mot = null; function $ot() { return null === mot && new yot, mot } dot.$metadata$ = { kind: p, simpleName: "DialogUniversalFeatBrowser", interfaces: [Iet] }; var got = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function vot(t, e, i, a) { if (wet.call(this, t, e, i), this.divAdded = jlt().getDiv(), this.listLevels = u(), this.setSingleFinishedButton(), this.title.innerHTML = "Custom Free Feats", this.setRestictedWidth40(), this.content.style.padding = "0.5em", this.content.appendChild(this.divAdded), this.divAdded.classList.add("scrollable"), null != a) { var r = new AW(a.id, a.level); e.managerFeats.activateAndAddFreeFeat_ubuv6q$(i, !0, "FREE FEAT" + r.featID, r.featID, se().FEATS_CLASS, r.level), i.getCharacterData().listUserBonusFeats.add_11rb$(r), t.getGuiUpdateControl().updateBuildFragment_n40yp2$(i), t.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(i), t.autoSave() } for (var o = 1; o <= 20; o++)this.listLevels.add_11rb$("Level " + o); if (this.setDivAdded_0(), i.getCharacterData().listUserBonusFeats.isEmpty()) { var s = jlt().getDiv(); s.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.divAdded.appendChild(s), s.innerHTML = "You do not have any user created bonus feats.  Use the Feat Browser to select and add one." } var l, c, p, h, d = jlt().getDiv(); d.style.width = "8em", d.innerHTML = "Return to Browser", d.classList.add("modal-button"), d.addEventListener("click", (l = t, c = e, p = i, h = this, function (t) { return l.openDialog_ip94j4$(new dot(l, c, p)), h.destroy(), n })), this.addButtonToBottom_lt8gi4$(d) } function Sot(t) { return t.level } vot.prototype.setDivAdded_0 = function () { var t; this.divAdded.innerHTML = ""; var e = this.characterBuild.getCharacterData().listUserBonusFeats; for (e.size > 1 && q(e, new G(got(Sot))), t = this.characterBuild.getCharacterData().listUserBonusFeats.iterator(); t.hasNext();) { var i = t.next(); this.addToParent_0(i) } }, vot.prototype.addToParent_0 = function (t) { var e, i, a, r = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(t.featID); if (null != r) { var o = jlt().getDiv(); o.classList.add(B9().CSS_ROUNDED_RECTANGLE), o.style.display = "flex", this.divAdded.appendChild(o), o.style.marginBottom = "1em"; var s = new Uet(!1); s.setSpinnerList_un5gdn$(this.listLevels), s.spinner.selectedIndex = t.level - 1 | 0, s.spinner.addEventListener("change", (e = this, i = t, a = s, function (t) { return e.dataControl.managerFeats.activateAndAddFreeFeat_ubuv6q$(e.characterBuild, !1, "FREE FEAT" + i.featID, i.featID, se().FEATS_CLASS, i.level), i.level = a.spinner.selectedIndex + 1 | 0, e.dataControl.managerFeats.activateAndAddFreeFeat_ubuv6q$(e.characterBuild, !0, "FREE FEAT" + i.featID, i.featID, se().FEATS_CLASS, i.level), e.mainActivity.getGuiUpdateControl().updateBuildFragment_n40yp2$(e.characterBuild), e.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(e.characterBuild), e.mainActivity.autoSave(), n })), o.appendChild(s.spinner); var l = jlt().getDiv(); l.style.flex = "1", l.style.display = "inline-block", l.innerHTML = r.name, l.style.marginLeft = "1em", l.style.marginTop = "0.3em", l.style.verticalAlign = "middle", o.appendChild(l); var c = Dlt("Remove"); c.buttonDiv.style.display = "inline-block", o.appendChild(c.buttonDiv), c.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.characterBuild.getCharacterData().listUserBonusFeats.remove_11rb$(e), t.dataControl.managerFeats.activateAndAddFreeFeat_ubuv6q$(t.characterBuild, !1, "FREE FEAT" + e.featID, e.featID, se().FEATS_CLASS, e.level), t.setDivAdded_0(), t.mainActivity.getGuiUpdateControl().updateBuildFragment_n40yp2$(t.characterBuild), t.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(t.characterBuild), t.mainActivity.autoSave(), n } }(this, t)) } }, vot.prototype.onAccept = function () { this.destroy(), this.mainActivity.autoSave() }, vot.$metadata$ = { kind: p, simpleName: "DialogUserAddedFeats", interfaces: [wet] }; var Cot = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Eot(t, e, i) { Lot(), Iet.call(this, t, e, i), this.WEAPON_PROFICIENCIES_0 = ["All Proficiencies", "Simple", "Martial", "Advanced", "Unarmed"], this.COMMON_UNCOMMON_0 = ["All Rarities", "Common", "Uncommon"], this.currentSelection_0 = null, this.listItems = u(), this.hashMapWeapons_0 = t.getDataControl().managerWeapons.hashMapWeapons, this.currentProficiencyFilter_0 = 0, this.currentRangedFilter_0 = 0, this.currentCommonFilter_0 = 0, this.currentBasicFilter_0 = 0, this.currentGroupFilter_0 = null, this.currentTraitFilter1_0 = null, this.currentTraitFilter2_0 = null, this.currentHandsFilter_0 = null, this.currentDiceFilter_0 = null, this.buttonEdit_0 = jlt().getDiv(), this.buttonDelete_0 = jlt().getDiv(), this.finishedCreation = new Tot(this), this.title.innerHTML = "Select Weapon", this.hideAcceptButton(); var a, r = jlt().getDiv(); r.innerHTML = "Give", r.classList.add("modal-button"), r.addEventListener("click", (a = this, function (t) { return a.checkWeapon_0(!1), n })), this.addButtonToBottom_906ova$(r, 0); var s = jlt().getDiv(); s.innerHTML = "Buy", s.classList.add("modal-button"), s.addEventListener("click", function (t) { return function (e) { return t.checkWeapon_0(!0), n } }(this)), this.addButtonToBottom_906ova$(s, 0); var l = jlt().getDiv(); l.innerHTML = "Custom", l.addEventListener("click", function (t) { return function (e) { return t.fullAppEnabledCheck_0(), n } }(this)), this.addButtonToBottom_lt8gi4$(l), e.isFullAppEnabled() || l.classList.add("modal-button-disabled"), this.buttonEdit_0.innerHTML = "Edit", htt().setInvisible_njr4nn$(this.buttonEdit_0, !1), this.buttonEdit_0.addEventListener("click", function (t, e, i, a) { return function (r) { return null != t.currentSelection_0 && e.openDialog_ip94j4$(new uat(e, i, a, o(t.currentSelection_0).uniqueIdentiier, t.finishedCreation)), n } }(this, t, e, i)), this.addButtonToBottom_lt8gi4$(this.buttonEdit_0), this.buttonDelete_0.innerHTML = "Delete", htt().setInvisible_njr4nn$(this.buttonDelete_0, !1), this.buttonDelete_0.addEventListener("click", function (t, e, i, a) { return function (r) { return null != t.currentSelection_0 && Xet(!0, "Really delete " + o(t.currentSelection_0).name + " from your database?", new kot(t, e, i, a)).show(), n } }(this, e, i, t)), this.addButtonToBottom_lt8gi4$(this.buttonDelete_0), this.setListView_0(), this.setSpinnerProficiency_0(), this.setSpinnerMagicCustom_0(), this.setSpinnerType_0(), this.setSpinnerMeleeRanged_0(), this.setWeaponGroupFilter_0(), this.setHandsFilter_0(), this.setTraitFilter_0(), this.setDiceFilter_0(), this.setButtonVisibility_0(), this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0) } function Aot(t) { return t.name } function bot(t) { this.this$DialogWeapon = t } function Iot() { wot = this, this.REQ_RANGED_ALL_0 = 0, this.REQ_RANGED_MELEE_0 = 1, this.REQ_RANGED_RANGED_0 = 2, this.REQ_RANGED_FIREARM_0 = 3, this.REQ_RANGED_FIREARM_ACCESSORY_0 = 4, this.REQ_PROF_ALL_0 = 0, this.REQ_PROF_SIMPLE_0 = 1, this.REQ_PROF_MARTIAL_0 = 2, this.REQ_PROF_EXOTIC_0 = 3, this.REQ_PROF_UNARMED_0 = 4, this.REQ_COMMON_ALL_0 = 0, this.REQ_COMMON_COMMON_0 = 1, this.REQ_COMMON_UNCOMMON_0 = 2, this.REQ_BASIC_BASIC = 0, this.REQ_BASIC_MAGIC = 1, this.REQ_BASIC_CUSTOM = 2 } Eot.prototype.onAccept = function () { this.destroy() }, Eot.prototype.fullAppEnabledCheck_0 = function () { this.dataControl.isFullAppEnabled() ? this.mainActivity.openDialog_ip94j4$(new uat(this.mainActivity, this.dataControl, this.characterBuild, null, this.finishedCreation)) : this.mainActivity.setUpgradeMessage_61zpoe$("create custom weapons") }, Eot.prototype.setSpinnerProficiency_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(this.WEAPON_PROFICIENCIES_0), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.currentProficiencyFilter_0 = t.spinner.selectedIndex, e.currentSelection_0 = null, e.divInfo.innerHTML = "", e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, Eot.prototype.setSpinnerMagicCustom_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(["Standard", "Magic", "Custom"]), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.currentBasicFilter_0 = t.spinner.selectedIndex, e.currentSelection_0 = null, e.divInfo.innerHTML = "", e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, Eot.prototype.setSpinnerType_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(this.COMMON_UNCOMMON_0), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.currentCommonFilter_0 = t.spinner.selectedIndex, e.currentSelection_0 = null, e.divInfo.innerHTML = "", e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, Eot.prototype.setSpinnerMeleeRanged_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(["All Types", "Melee", "Ranged", "Firearms", "Firearm Accessories"]), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.currentRangedFilter_0 = t.spinner.selectedIndex, e.currentSelection_0 = null, e.divInfo.innerHTML = "", e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, Eot.prototype.setWeaponGroupFilter_0 = function () { var t, e, i, a = new Uet(!0), r = u(); r.add_11rb$("All Groups"), r.addAll_brywnq$(this.dataControl.managerWeapons.listWeaponGroups), a.setSpinnerList_un5gdn$(r), a.spinner.addEventListener("change", (t = a, e = this, i = r, function (a) { var r = t.spinner.selectedIndex; return e.currentGroupFilter_0 = 0 === r ? null : i.get_za3lpa$(r), e.setListView_0(), n })), this.addWidgetToTopSecondLayer_lt8gi4$(a.spinner) }, Eot.prototype.setHandsFilter_0 = function () { var t, e, i, a = new Uet(!0), r = u(); r.add_11rb$("All Hands"), r.add_11rb$("1"), r.add_11rb$("2"), r.add_11rb$("1+"), r.add_11rb$("1 or 2"), a.setSpinnerList_un5gdn$(r), a.spinner.addEventListener("change", (t = a, e = this, i = r, function (a) { var r = t.spinner.selectedIndex; return e.currentHandsFilter_0 = 0 === r ? null : i.get_za3lpa$(r), e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(a.spinner) }, Eot.prototype.setDiceFilter_0 = function () { var t, e, i, a = new Uet(!0); a.setSpinnerList_kand9s$(["All Dice", "d4", "d6", "d8", "d10", "d12"]), a.spinner.addEventListener("change", (t = a, e = this, i = [0, 4, 6, 8, 10, 12], function (a) { var r = t.spinner.selectedIndex; return e.currentDiceFilter_0 = 0 === r ? null : i[r], e.setListView_0(), n })), this.addWidgetToTopSecondLayer_lt8gi4$(a.spinner) }, Eot.prototype.setTraitFilter_0 = function () { var t, e = u(); for (t = this.dataControl.managerWeapons.hashMapTraitWeapons.keys.iterator(); t.hasNext();) { var i = t.next(), a = this.dataControl.managerWeapons.hashMapTraitWeapons.get_11rb$(i); o(a).weaponTrait && e.add_11rb$(i) } Q(e), e.add_wxm5ur$(0, "All Traits"); var r, s, l, c = { v: new Uet(!0) }; c.v.setSpinnerList_un5gdn$(e), c.v.spinner.addEventListener("change", (r = c, s = this, l = e, function (t) { var e = r.v.spinner.selectedIndex; return s.currentTraitFilter1_0 = 0 === e ? null : l.get_za3lpa$(e), s.setListView_0(), n })), this.addWidgetToTopSecondLayer_lt8gi4$(c.v.spinner); var p = { v: new Uet(!0) }; p.v.setSpinnerList_un5gdn$(e), p.v.spinner.addEventListener("change", function (t, e, i) { return function (a) { var r = t.v.spinner.selectedIndex; return e.currentTraitFilter2_0 = 0 === r ? null : i.get_za3lpa$(r), e.setListView_0(), n } }(p, this, e)), this.addWidgetToTopSecondLayer_lt8gi4$(p.v.spinner) }, Eot.prototype.setButtonVisibility_0 = function () { null != this.currentSelection_0 && (o(this.currentSelection_0).databaseID > -1 ? (htt().setInvisible_njr4nn$(this.buttonDelete_0, !0), htt().setInvisible_njr4nn$(this.buttonEdit_0, !0)) : (htt().setInvisible_njr4nn$(this.buttonDelete_0, !1), htt().setInvisible_njr4nn$(this.buttonEdit_0, !1))) }, Eot.prototype.setListView_0 = function () { var t, e, i; for (this.divScrollable.innerHTML = "", this.listItems.clear(), this.currentSelection_0 = null, t = this.hashMapWeapons_0.keys.iterator(); t.hasNext();) { var a = t.next(), r = null != (e = this.hashMapWeapons_0.get_11rb$(a)) ? e : g1("Error"); this.checkReqRanged_0(r) && this.checkReqProf_0(r) && this.checkReqCommon_0(r) && this.checkReqBasic_0(r) && this.checkReqGroup_0(r) && this.checkReqTraits1_0(r) && this.checkReqTraits2_0(r) && this.checkReqHands_0(r) && this.checkReqDice_0(r) && Ic().isEnabled_kc4y8q$(this.getCharacterData(), o(r).src) && this.listItems.add_11rb$(r) } var n = this.listItems; for (n.size > 1 && q(n, new G(Cot(Aot))), i = this.listItems.iterator(); i.hasNext();) { var s = i.next(); this.divScrollable.appendChild(this.getWeaponListView_0(s)) } }, Eot.prototype.checkReqRanged_0 = function (t) { return 0 === this.currentRangedFilter_0 ? t.rangedType < 4 : (this.currentRangedFilter_0 - 1 | 0) === t.rangedType }, Eot.prototype.checkReqProf_0 = function (t) { return 0 === this.currentProficiencyFilter_0 || 1 === this.currentProficiencyFilter_0 && 0 === t.proficiencyType || 2 === this.currentProficiencyFilter_0 && 1 === t.proficiencyType || 3 === this.currentProficiencyFilter_0 && 2 === t.proficiencyType || 4 === this.currentProficiencyFilter_0 && 3 === t.proficiencyType }, Eot.prototype.checkReqCommon_0 = function (t) { if (0 === this.currentCommonFilter_0) return !0; var e = 1 === this.currentCommonFilter_0; if (e && (e = !_(o(t.weaponTraits).toLowerCase(), "uncommon")), e) return !0; var i = 2 === this.currentCommonFilter_0; return i && (i = _(o(t.weaponTraits).toLowerCase(), "uncommon")), i }, Eot.prototype.checkReqBasic_0 = function (t) { return 0 === this.currentBasicFilter_0 && -1 === t.databaseID && null == t.identity || 1 === this.currentBasicFilter_0 && -1 === t.databaseID && null != t.identity || 2 === this.currentBasicFilter_0 && t.databaseID > -1 }, Eot.prototype.checkReqGroup_0 = function (t) { return null == this.currentGroupFilter_0 || dt(t.group, o(this.currentGroupFilter_0), !0) }, Eot.prototype.checkReqHands_0 = function (t) { return null == this.currentHandsFilter_0 || dt(t.hands, o(this.currentHandsFilter_0), !0) }, Eot.prototype.checkReqDice_0 = function (t) { return null == this.currentDiceFilter_0 || t.damage === this.currentDiceFilter_0 }, Eot.prototype.checkReqTraits1_0 = function (t) { return null == this.currentTraitFilter1_0 || null != t.weaponTraits && _(o(t.weaponTraits), o(this.currentTraitFilter1_0)) }, Eot.prototype.checkReqTraits2_0 = function (t) { return null == this.currentTraitFilter2_0 || null != t.weaponTraits && _(o(t.weaponTraits), o(this.currentTraitFilter2_0)) }, Eot.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, Eot.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, h1) ? i : d(), this.setButtonVisibility_0() }, Eot.prototype.getWeaponListView_0 = function (t) { var e, i, a = new Ylt(!1); a.title.classList.add("listview-title-limited"), a.setName_61zpoe$(t.name + " (" + t.damageString + ")"); var r = null != (e = t.weaponTraits) ? e : ""; return t.traits.length > 0 && (r.length > 0 && (r += ", "), r += t.traits), a.setTraits_pdl1vj$(r), htt().setItemLevelBox_c4iwwi$(a.itemLevel, t.itemLevel, r), a.setDescription_61zpoe$(t.getFullWeaponDetails()), a.setCopyright_61zpoe$(null != (i = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? i : ""), null != this.currentSelection_0 && m(this.currentSelection_0, t) && a.layoutDetail.classList.remove(B9().CSS_HIDDEN), this.hashMapDivs.put_xwzc9p$(a, t), a.div }, Eot.prototype.checkWeapon_0 = function (t) { null != this.currentSelection_0 && (t ? this.buy_0() : this.completeChanges_0()) }, bot.prototype.accept = function () { this.this$DialogWeapon.dataControl.managerEquipment.deductCost_5sfiqf$(this.this$DialogWeapon.characterBuild, o(this.this$DialogWeapon.currentSelection_0).price), this.this$DialogWeapon.completeChanges_0() }, bot.$metadata$ = { kind: p, interfaces: [Vet] }, Eot.prototype.buy_0 = function () { null != this.currentSelection_0 && (this.dataControl.managerEquipment.canAffordItem_5sfiqf$(this.characterBuild, o(this.currentSelection_0).price) ? Xet(!0, "Really buy " + o(this.currentSelection_0).name + " for " + pe().getPriceString_14dthe$(o(this.currentSelection_0).price) + "? Warning: this will simplify your coins.", new bot(this)).show() : this.mainActivity.showMessage_61zpoe$("You cannot afford this item")) }, Eot.prototype.completeChanges_0 = function () { var t, e; if (null != this.currentSelection_0) { var i = new i1(null != (t = o(this.currentSelection_0).uniqueIdentiier) ? t : o(this.currentSelection_0).name, o(this.currentSelection_0).defaultAttackAbilityRef); if (this.getCharacterData().listPlayerWeapons.add_11rb$(i), i.amount = 1, i.setPotency_za3lpa$(0), i.setMaterial_pdl1vj$(null), i.setItemStriking_za3lpa$(0), i.getListPropertyRunes().clear(), i.setDefaultAttack_fha2vo$(this.dataControl, this.characterBuild, o(this.currentSelection_0)), o(this.currentSelection_0).potency > 0 && i.setPotency_za3lpa$(o(this.currentSelection_0).potency), o(this.currentSelection_0).striking > 0 && i.setItemStriking_za3lpa$(o(this.currentSelection_0).striking), o(this.currentSelection_0).rune.length > 0) for (e = v(o(this.currentSelection_0).rune, ["&"]).iterator(); e.hasNext();) { var a = e.next(); i.getListPropertyRunes().add_11rb$(a) } this.dataControl.managerWeapons.activatePlayerWeapon_clt9wi$(!0, this.characterBuild, i), this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() } }, Iot.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var wot = null; function Lot() { return null === wot && new Iot, wot } function Tot(t) { this.this$DialogWeapon = t } function kot(t, e, i, a) { this.this$DialogWeapon = t, this.closure$dataControl = e, this.closure$characterBuild = i, this.closure$mainActivity = a } function Rot(t, i, a, r) { var n, o; wet.call(this, t, i, a), this.playerWeapon = r, this.weaponInformation_0 = null != (n = i.managerWeapons.hashMapWeapons.get_11rb$(this.playerWeapon.weaponName)) ? n : g1("Error"), this.layoutProficiency_0 = new Fet(!1, !1), this.divDamageBreakdown_0 = jlt().getDiv(), this.spinnerAttack_0 = new Uet(!1), this.spinnerAmount_0 = new Uet(!1), this.spinnerBulkOverride_0 = new Uet(!1), this.checkBoxIncreasedDice_0 = jlt().getCheckbox(), this.checkBoxLargeWeapon_0 = jlt().getCheckbox(), this.spinnerAttackOverride_0 = new Uet(!1), this.spinnerDamageOverride_0 = new Uet(!1), this.listMaterials_0 = u(), this.edittextExtraTraits_0 = jlt().getTextInput(), this.edittextWeaponNameOverride_0 = jlt().getTextInput(), this.originalWeapon_0 = new i1("Copy", 0), this.divScrollable = e.isType(o = document.createElement("div"), HTMLDivElement) ? o : d(), this.originalWeapon_0.attackAbilityRef = this.playerWeapon.attackAbilityRef, this.originalWeapon_0.setPotency_za3lpa$(this.playerWeapon.getPotencyManualSetting()), this.originalWeapon_0.setItemStriking_za3lpa$(this.playerWeapon.getStrikingManualSetting()), this.originalWeapon_0.attackOverride = this.playerWeapon.attackOverride, this.originalWeapon_0.damageBonusOverride = this.playerWeapon.damageBonusOverride, this.originalWeapon_0.damageAbilityRef = this.playerWeapon.damageAbilityRef, this.originalWeapon_0.material = this.playerWeapon.material, this.originalWeapon_0.increasedDice = this.playerWeapon.increasedDice, this.originalWeapon_0.sizeChange = this.playerWeapon.sizeChange, this.originalWeapon_0.amount = this.playerWeapon.amount, this.title.innerHTML = this.playerWeapon.getWeaponFullName_umk5sj$(this.weaponInformation_0, a), this.divScrollable.classList.add("scrollable"), this.content.appendChild(this.divScrollable); var s = jlt().getDiv(); this.divScrollable.appendChild(s), s.classList.add(B9().CSS_LAYOUT_ITEM), s.appendChild(this.layoutProficiency_0.div), this.divDamageBreakdown_0.style.marginTop = "1em", s.appendChild(this.divDamageBreakdown_0), this.layoutProficiency_0.tdName.style.width = "14em", this.setProficiency_0(), this.setTable_0(), this.setDescriptions_0() } function Pot(t, e, i, a) { Iet.call(this, t, e, i), this.petReference = a, this.petCharacterBuild_0 = null, this.petData_0 = null, this.currentSelection_0 = null, this.listItems_0 = null, this.title.innerHTML = "Select Advancement", this.petCharacterBuild_0 = o(i.hashMapPetCharacterBuilds.get_11rb$(this.petReference)), this.petData_0 = this.petCharacterBuild_0.getPetData(), this.currentSelection_0 = o(e.managerPets.hashMapAnimalAdvancements.get_11rb$(this.petData_0.getIncredibleType())), this.listItems_0 = e.managerPets.getListEnabledAdvancements_5btbp7$(i), this.setListView_0() } function Mot(t, i, a, r) { var o, s; wet.call(this, t, i, a), this.petReference = r, this.edittextName_0 = jlt().getTextInput(), this.petCharacterBuild_0 = null, this.petData_0 = null, this.spinnerPetType_0 = new Uet(!1), this.checkboxUseLarger_0 = new Met("Use Larger Version?"), this.layoutAnimalCompanion_0 = jlt().getDiv(), this.title.innerHTML = "Animal Companion", this.setSingleFinishedButton(), this.petCharacterBuild_0 = e.isType(o = a.hashMapPetCharacterBuilds.get_11rb$(this.petReference), qV) ? o : d(), this.petData_0 = this.petCharacterBuild_0.getPetData(); var l = jlt().getDiv(), c = jlt().getDiv(); l.appendChild(c), c.classList.add(B9().CSS_ROUNDED_RECTANGLE), l.classList.add("scrollable"), this.content.appendChild(l), c.appendChild(this.spinnerPetType_0.spinner); var p, h, u, _ = i.managerPets.allAnimalNames; this.spinnerPetType_0.spinner.style.width = "20em", this.spinnerPetType_0.spinner.style.marginRight = "2em", this.spinnerPetType_0.setSpinnerList_un5gdn$(_), this.spinnerPetType_0.setSpinnerSelection_s8ev37$(Kt(_, this.petData_0.getPetName())), this.spinnerPetType_0.spinner.addEventListener("change", (p = this, h = i, u = a, function (t) { var e = p.spinnerPetType_0.spinner.value; return h.managerPets.setAnimal_3dmheu$(u, p.petCharacterBuild_0, e), p.setLayout_0(), n })), c.appendChild(this.edittextName_0), this.edittextName_0.style.marginTop = "1em", this.edittextName_0.style.width = "20em", this.edittextName_0.classList.add("edittext-dark"), this.edittextName_0.style.display = "inline-block", this.edittextName_0.placeholder = "Pet Nickname", this.edittextName_0.value = null != (s = this.petData_0.getNickname()) ? s : "", c.appendChild(this.checkboxUseLarger_0.divWithLabel), this.checkboxUseLarger_0.divWithLabel.style.marginTop = "1em", this.checkboxUseLarger_0.divWithLabel.addEventListener("click", function (t) { return function (e) { return t.checkboxUseLarger_0.toggle(), t.petData_0.setSwitchA_6taknv$(t.checkboxUseLarger_0.isChecked()), t.setLayout_0(), n } }(this)), this.layoutAnimalCompanion_0.style.marginTop = "1em", this.layoutAnimalCompanion_0.style.marginTop = "1em", l.appendChild(this.layoutAnimalCompanion_0), this.setLayout_0() } function Not(t, i, a, r, n) { var s; if (Iet.call(this, t, i, a), this.petReference = r, this.specializationReference_0 = n, this.petCharacterBuild_0 = null, this.petData_0 = null, this.currentSelection_0 = null, this.listItems_0 = u(), this.listLegal_0 = u(), this.title.innerHTML = "Select Specialization", this.petCharacterBuild_0 = o(a.hashMapPetCharacterBuilds.get_11rb$(this.petReference)), this.petData_0 = this.petCharacterBuild_0.getPetData(), this.petData_0.getHashMapAnimalSpecializations().containsKey_11rb$(this.specializationReference_0)) { var l, c = this.petData_0.getHashMapAnimalSpecializations().get_11rb$(this.specializationReference_0), p = i.managerPets.hashMapAnimalSpecializations; this.currentSelection_0 = (e.isType(l = p, y) ? l : d()).get_11rb$(c) } var h = i.managerPets.getListEnabledSpecializations_5btbp7$(a), _ = i.managerPets.getListEligibleSpecs_p92vx1$(this.specializationReference_0, this.petCharacterBuild_0.getPetData(), h); for (this.listLegal_0.addAll_brywnq$(_), this.listItems_0.addAll_brywnq$(this.listLegal_0), s = h.iterator(); s.hasNext();) { var f = s.next(); this.listLegal_0.contains_11rb$(f) || this.listItems_0.add_11rb$(f) } this.setListView_0() } Tot.prototype.completed = function () { this.this$DialogWeapon.currentSelection_0 = null, this.this$DialogWeapon.divInfo.innerHTML = "", this.this$DialogWeapon.setListView_0() }, Tot.$metadata$ = { kind: p, interfaces: [yit] }, kot.prototype.accept = function () { var t = o(o(this.this$DialogWeapon.currentSelection_0).uniqueIdentiier); this.closure$dataControl.managerWeapons.activateAllWeaponEffects_ryqv3o$(!1, this.closure$characterBuild), this.closure$dataControl.managerWeapons.removeWeaponFromCharacterAndPets_t0kavo$(this.closure$characterBuild, t), this.closure$dataControl.managerWeapons.hashMapWeapons.remove_11rb$(t), this.closure$mainActivity.fileManager.fileManagementCustomFiles.deleteCustomFile_61zpoe$(t), this.closure$dataControl.managerWeapons.activateAllWeaponEffects_ryqv3o$(!0, this.closure$characterBuild), this.closure$mainActivity.getGuiUpdateControl().onWeaponAdded_21ghvs$(this.closure$characterBuild, null), this.this$DialogWeapon.finishedCreation.completed() }, kot.$metadata$ = { kind: p, interfaces: [Vet] }, Eot.$metadata$ = { kind: p, simpleName: "DialogWeapon", interfaces: [Iet] }, Rot.prototype.setDescriptions_0 = function () { var t = jlt().getDiv(); this.divScrollable.appendChild(t), t.classList.add(B9().CSS_LAYOUT_ITEM); var e = "", i = this.playerWeapon.getItemLevel_fhac18$(this.dataControl, this.characterBuild); i > 1 && (e = "Item Level: " + i + "<br><br>"), e += this.weaponInformation_0.getFullWeaponDetails(); var a = this.weaponInformation_0.group, r = this.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_WEAPON_GROUPS).get_11rb$(a); null != r && (e += "<br><br>" + r.textDescription), t.innerHTML = e }, Rot.prototype.getTableLabelSpan_0 = function () { var t = jlt().getDiv(); return t.classList.add("weapon-table-label"), t }, Rot.prototype.getTableRow_0 = function () { var t = jlt().getDiv(); return t.classList.add(B9().CSS_GRID_CONTAINER), t.style.marginBottom = "0.6em", t }, Rot.prototype.setTable_0 = function () { var t, i = u(); i.add_11rb$("None"); for (var a = 1; a <= 3; a++)i.add_11rb$("+" + a); if (this.characterBuild.getCharacterData().isABP()) { var r = jlt().getDiv(); r.classList.add(B9().CSS_ROUNDED_RECTANGLE), r.innerHTML = "Potency and striking item values are automatically set by Automatic Bonus Progression.", this.divScrollable.appendChild(r) } var p = jlt().getDiv(); p.classList.add(B9().CSS_LAYOUT_ITEM), this.divScrollable.appendChild(p); var h, d, _ = yZ().getInnovation_5btbp7$(this.characterBuild); if (null != _ && m(_, yZ().INNOVATION_WEAPON)) { var f = jlt().getTableRow(); p.appendChild(f); var y = jlt().getTableCell(); f.appendChild(y), y.innerHTML = "Inventor Innovation?", y = jlt().getTableCell(), f.appendChild(y); var $ = new Let; $.setWhite(), $.setChecked_6taknv$(null != this.playerWeapon.mapInvModSel), $.div.addEventListener("click", (h = $, d = this, function (t) { return h.toggle(), h.isChecked() ? d.playerWeapon.mapInvModSel = c() : (d.dataControl.managerEquipment.activateInventorModificationsInPlayerItem_hihe8v$(!1, d.characterBuild, d.playerWeapon), d.playerWeapon.mapInvModSel = null), n })), y.appendChild($.div) } if (!this.characterBuild.getCharacterData().isABP()) { var g = this.getTableRow_0(); p.appendChild(g); var v = jlt().getDiv(); v.classList.add(B9().CSS_GRID_ITEM), g.appendChild(v); var S = this.getTableLabelSpan_0(); v.appendChild(S), S.innerHTML = "Potency Rune", S = this.getTableLabelSpan_0(), v.appendChild(S); var C = Dlt(""); C.buttonDiv.id = "buttonPotency", 0 === this.playerWeapon.getPotencyManualSetting() ? C.buttonDiv.innerHTML = "No Potency Rune" : C.buttonDiv.innerHTML = Bat().WEAPON_POTENCY_RUNES[this.playerWeapon.getPotencyManualSetting() - 1 | 0], C.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new Wat(t.mainActivity, t.dataControl, t.characterBuild, t.playerWeapon)), n } }(this)), S.appendChild(C.buttonDiv), (v = jlt().getDiv()).classList.add(B9().CSS_GRID_ITEM), g.appendChild(v), S = this.getTableLabelSpan_0(), v.appendChild(S), S.innerHTML = "Striking Rune", S = this.getTableLabelSpan_0(), v.appendChild(S); var E = Dlt(""); E.buttonDiv.id = "buttonStriking", 0 === this.playerWeapon.getStrikingManualSetting() ? E.buttonDiv.innerHTML = "No Striking Rune" : E.buttonDiv.innerHTML = Bat().WEAPON_STRIKING_RUNES[this.playerWeapon.getStrikingManualSetting() - 1 | 0], E.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new Yat(t.mainActivity, t.dataControl, t.characterBuild, t.playerWeapon)), n } }(this)), S.appendChild(E.buttonDiv) } var A = this.getTableRow_0(); p.appendChild(A); var b = jlt().getDiv(); b.classList.add(B9().CSS_GRID_ITEM), A.appendChild(b); var I = this.getTableLabelSpan_0(); b.appendChild(I), I.innerHTML = "Attack", I = this.getTableLabelSpan_0(), b.appendChild(I), this.spinnerAttack_0.setSpinnerList_kand9s$(se().ARRAY_ABILITIES), this.spinnerAttack_0.setSpinnerSelection_s8ev37$(this.playerWeapon.getAttackAbilityRef()), this.spinnerAttack_0.spinner.classList.add("standard-spinner-width"), this.spinnerAttack_0.spinner.addEventListener("change", function (t) { return function (e) { return t.playerWeapon.setAttackAbilityRef_za3lpa$(t.spinnerAttack_0.spinner.selectedIndex), t.setProficiency_0(), n } }(this)), I.appendChild(this.spinnerAttack_0.spinner), (b = jlt().getDiv()).classList.add(B9().CSS_GRID_ITEM), A.appendChild(b), I = this.getTableLabelSpan_0(), b.appendChild(I), I.innerHTML = "Amount", I = this.getTableLabelSpan_0(), b.appendChild(I), this.spinnerAmount_0.setSpinnerList_kand9s$(["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]); try { this.spinnerAmount_0.setSpinnerSelection_s8ev37$(this.playerWeapon.amount - 1 | 0) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } this.spinnerAmount_0.spinner.classList.add("standard-spinner-width"), I.appendChild(this.spinnerAmount_0.spinner), A = this.getTableRow_0(), p.appendChild(A), (b = jlt().getDiv()).classList.add(B9().CSS_GRID_ITEM), A.appendChild(b), I = this.getTableLabelSpan_0(), b.appendChild(I), I.innerHTML = "Attack Override", I = this.getTableLabelSpan_0(), b.appendChild(I); for (var w = u(), L = 1; L <= 40; L++)w.add_11rb$(htt().getSignedValue_za3lpa$(L)); for (w.add_wxm5ur$(0, "None"), this.spinnerAttackOverride_0.setSpinnerList_un5gdn$(w), null != this.playerWeapon.attackOverride && o(this.playerWeapon.attackOverride) < w.size && this.spinnerAttackOverride_0.setSpinnerSelection_s8ev37$(this.playerWeapon.attackOverride), this.spinnerAttackOverride_0.spinner.classList.add("standard-spinner-width"), I.appendChild(this.spinnerAttackOverride_0.spinner), (b = jlt().getDiv()).classList.add(B9().CSS_GRID_ITEM), A.appendChild(b), I = this.getTableLabelSpan_0(), b.appendChild(I), I.innerHTML = "Damage Override", I = this.getTableLabelSpan_0(), b.appendChild(I), this.spinnerDamageOverride_0.setSpinnerList_un5gdn$(w), null != this.playerWeapon.damageBonusOverride && o(this.playerWeapon.damageBonusOverride) < w.size && this.spinnerDamageOverride_0.setSpinnerSelection_s8ev37$(this.playerWeapon.damageBonusOverride), this.spinnerDamageOverride_0.spinner.classList.add("standard-spinner-width"), I.appendChild(this.spinnerDamageOverride_0.spinner), A = this.getTableRow_0(), p.appendChild(A), (b = jlt().getDiv()).classList.add(B9().CSS_GRID_ITEM), A.appendChild(b), I = this.getTableLabelSpan_0(), b.appendChild(I), I.innerHTML = "Material", I = this.getTableLabelSpan_0(), b.appendChild(I), t = this.dataControl.managerEquipment.hashMapMaterialWeapons.keys.iterator(); t.hasNext();) { var T = t.next(); this.listMaterials_0.add_11rb$(T) } Q(this.listMaterials_0), this.listMaterials_0.add_wxm5ur$(0, "None"); var k = Dlt(""); k.buttonDiv.id = "buttonMaterialWeapon", null == this.playerWeapon.getMaterial() ? k.buttonDiv.innerHTML = "No Material" : k.buttonDiv.innerHTML = o(this.playerWeapon.getMaterial()), k.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new ort(t.mainActivity, t.dataControl, t.characterBuild, t.playerWeapon)), n } }(this)), I.appendChild(k.buttonDiv), (b = jlt().getDiv()).classList.add(B9().CSS_GRID_ITEM), A.appendChild(b), I = this.getTableLabelSpan_0(), b.appendChild(I), I.innerHTML = "Bulk override", I = this.getTableLabelSpan_0(), b.appendChild(I); var R = u(); R.add_11rb$("None"), R.add_11rb$("L"); for (var P = 1; P <= 10; P++)R.add_11rb$(P.toString()); this.spinnerBulkOverride_0.setSpinnerList_un5gdn$(R), null != this.playerWeapon.bulkOverride && this.spinnerBulkOverride_0.setSpinnerSelection_s8ev37$(Kt(R, this.playerWeapon.bulkOverride)), this.spinnerBulkOverride_0.spinner.classList.add("standard-spinner-width"), I.appendChild(this.spinnerBulkOverride_0.spinner), A = this.getTableRow_0(), p.appendChild(A), (b = jlt().getDiv()).classList.add(B9().CSS_GRID_ITEM), A.appendChild(b), I = this.getTableLabelSpan_0(), b.appendChild(I), I.innerHTML = "Increase Dice", I = this.getTableLabelSpan_0(), b.appendChild(I), I.appendChild(this.checkBoxIncreasedDice_0), this.checkBoxIncreasedDice_0.checked = this.playerWeapon.increasedDice, (b = jlt().getDiv()).classList.add(B9().CSS_GRID_ITEM), A.appendChild(b), I = this.getTableLabelSpan_0(), b.appendChild(I), I.innerHTML = "Large Weapon", I = this.getTableLabelSpan_0(), b.appendChild(I), I.appendChild(this.checkBoxLargeWeapon_0), 1 === this.playerWeapon.sizeChange && (this.checkBoxLargeWeapon_0.checked = !0), A = this.getTableRow_0(), p.appendChild(A), (b = jlt().getDiv()).classList.add(B9().CSS_GRID_ITEM), A.appendChild(b), I = this.getTableLabelSpan_0(), b.appendChild(I), I.innerHTML = "Additional traits", I = this.getTableLabelSpan_0(), b.appendChild(I), this.edittextExtraTraits_0.style.width = "100%", this.edittextExtraTraits_0.classList.add("edittext-dark"), this.edittextExtraTraits_0.placeholder = "eg. Trip, Shove"; var M = this.playerWeapon.extraTraits; null != M && 0 !== M.length && (this.edittextExtraTraits_0.value = o(this.playerWeapon.extraTraits)), I.appendChild(this.edittextExtraTraits_0), (b = jlt().getDiv()).classList.add(B9().CSS_GRID_ITEM), A.appendChild(b), I = this.getTableLabelSpan_0(), b.appendChild(I), I.innerHTML = "Custom weapon name", I = this.getTableLabelSpan_0(), b.appendChild(I), this.edittextWeaponNameOverride_0.style.width = "100%", this.edittextWeaponNameOverride_0.classList.add("edittext-dark"), null != this.playerWeapon.nameOverride && (this.edittextWeaponNameOverride_0.value = o(this.playerWeapon.nameOverride)), I.appendChild(this.edittextWeaponNameOverride_0) }, Rot.prototype.setProficiency_0 = function () { var t, e, i = this.playerWeapon.getAttackDice_fha2vo$(this.dataControl, this.characterBuild, this.weaponInformation_0), a = this.characterBuild.getPlayReportAbilityScores_sfkw43$(this.dataControl); this.characterBuild.getCharacterData().getCharacterLevel(), this.layoutProficiency_0.setProficiencyImage_za3lpa$(i.trainingLevel), this.layoutProficiency_0.setProficiency_za3lpa$(i.finalProficiency); var r = se().ARRAY_ABILITIES_SHORT[this.playerWeapon.attackAbilityRef], n = htt().getAbilityMod_za3lpa$(a.abilityScoresBuffed[this.playerWeapon.attackAbilityRef]); if (this.layoutProficiency_0.setAbility_bm4lxs$(r, n), this.layoutProficiency_0.setItemBonus_za3lpa$(i.itemBonusTotal), this.layoutProficiency_0.setName_61zpoe$(i.weaponType + " " + htt().getSignedValue_za3lpa$(i.attackTotal)), this.layoutProficiency_0.setColorBasedOnBuff_za3lpa$(i.totalAttackBuff), !i.attackBuffSet.listBuffDetails.isEmpty()) { Q(i.attackBuffSet.listBuffDetails); var o = ""; for (t = i.attackBuffSet.listBuffDetails.iterator(); t.hasNext();) { var s = t.next(); o.length > 0 && (o += "<br>"), this.dataControl.hashMapBuffIDsToNames.containsKey_11rb$(s) ? o += this.dataControl.hashMapBuffIDsToNames.get_11rb$(s) : o += s } var l = jlt().getP(); l.classList.add(B9().CSS_LAYOUT_ITEM), this.divScrollable.appendChild(l), l.innerHTML = o } if (!i.attackBuffSet.listDebuffDetails.isEmpty()) { Q(i.attackBuffSet.listDebuffDetails); var c = ""; for (e = i.attackBuffSet.listDebuffDetails.iterator(); e.hasNext();) { var p = e.next(); c.length > 0 && (c += "<br>"), this.dataControl.hashMapBuffIDsToNames.containsKey_11rb$(p) ? c += this.dataControl.hashMapBuffIDsToNames.get_11rb$(p) : c += p } var h = jlt().getP(); h.classList.add(B9().CSS_LAYOUT_ITEM), this.divScrollable.appendChild(h), h.innerHTML = c } var d = this.playerWeapon.getAbilityDamageBonus_sw8vqo$(this.dataControl, this.characterBuild, a.abilityScoresBuffed, this.weaponInformation_0), u = this.playerWeapon.getWeaponSpecBonus_ivk615$(this.dataControl, this.characterBuild, i.trainingLevel), _ = aK(); _.addDamageBuffs_a9h5n9$(this.dataControl, this.characterBuild, a, this.playerWeapon, this.weaponInformation_0); var f = d + u + _.totalBuffExcludingItem | 0, y = "Damage Bonus " + htt().getSignedValue_za3lpa$(f) + " <i>(Ability Damage " + htt().getSignedValue_za3lpa$(d); u > 0 && (y += ", Weapon Specialization " + htt().getSignedValue_za3lpa$(u)), 0 !== _.totalBuffExcludingItem && (y += ", Damage Buff " + htt().getSignedValue_za3lpa$(_.totalBuffExcludingItem)), y += ")</i>", this.divDamageBreakdown_0.innerHTML = y }, Rot.prototype.cancel = function () { this.playerWeapon.setPotency_za3lpa$(this.originalWeapon_0.getPotencyManualSetting()), this.playerWeapon.setItemStriking_za3lpa$(this.originalWeapon_0.getStrikingManualSetting()), this.playerWeapon.attackAbilityRef = this.originalWeapon_0.attackAbilityRef, this.destroy() }, Rot.prototype.onAccept = function () { this.edittextExtraTraits_0.value.length > 0 ? this.playerWeapon.extraTraits = htt().formatTraitsFromString_61zpoe$(this.edittextExtraTraits_0.value) : this.playerWeapon.extraTraits = null, 0 === this.spinnerBulkOverride_0.spinner.selectedIndex ? this.playerWeapon.bulkOverride = null : this.playerWeapon.bulkOverride = this.spinnerBulkOverride_0.spinner.value, this.edittextWeaponNameOverride_0.value.length > 0 ? this.playerWeapon.nameOverride = this.edittextWeaponNameOverride_0.value : this.playerWeapon.nameOverride = null, this.playerWeapon.amount = this.spinnerAmount_0.spinner.selectedIndex + 1 | 0, this.playerWeapon.increasedDice = this.checkBoxIncreasedDice_0.checked, this.checkBoxLargeWeapon_0.checked ? this.playerWeapon.sizeChange = 1 : this.playerWeapon.sizeChange = 0, 0 === this.spinnerAttackOverride_0.spinner.selectedIndex ? this.playerWeapon.attackOverride = null : this.playerWeapon.attackOverride = this.spinnerAttackOverride_0.spinner.selectedIndex, 0 === this.spinnerDamageOverride_0.spinner.selectedIndex ? this.playerWeapon.damageBonusOverride = null : this.playerWeapon.damageBonusOverride = this.spinnerDamageOverride_0.spinner.selectedIndex, this.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.characterBuild), this.mainActivity.autoSave(), this.destroy() }, Rot.$metadata$ = { kind: p, simpleName: "DialogWeaponMods", interfaces: [wet] }, Pot.prototype.onAccept = function () { this.dataControl.managerPets.buildAnimalCompanion_a999ig$(!1, this.characterBuild, this.petCharacterBuild_0), this.petData_0.setIncredibleType_za3lpa$(this.currentSelection_0.ref), this.dataControl.managerPets.buildAnimalCompanion_a999ig$(!0, this.characterBuild, this.petCharacterBuild_0), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, this.petReference), this.mainActivity.autoSave(), this.destroy() }, Pot.prototype.setListView_0 = function () { var t, e; for (this.divScrollable.innerHTML = "", this.divInfo.innerHTML = "", t = this.listItems_0.iterator(); t.hasNext();) { var i = t.next(); this.divScrollable.appendChild(this.getListViewItem_0(i)) } this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0), this.divScrollable.addEventListener("dblclick", (e = this, function (t) { return e.onAccept(), n })) }, Pot.prototype.openPRD = function () { var t; this.mainActivity.openBrowser_61zpoe$(null != (t = this.currentSelection_0.url) ? t : "") }, Pot.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, eY) ? i : d() }, Pot.prototype.getListViewItem_0 = function (t) { var e, i = new Ylt(!1); return i.setDescription_61zpoe$(t.description), i.setTraits_pdl1vj$(t.traits), i.setName_61zpoe$(t.name), i.setAction_za3lpa$(-2), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.source)) ? e : ""), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, Pot.$metadata$ = { kind: p, simpleName: "DialogPetAnimalAdvancement", interfaces: [Iet] }, Mot.prototype.setLayout_0 = function () { var t, i, a = this.dataControl.managerPets.hashMapAnimalCompanions, r = this.petData_0.getPetName(); if (null != (t = (e.isType(i = a, y) ? i : d()).get_11rb$(r))) { var n = t; n.larger ? this.checkboxUseLarger_0.divWithLabel.style.display = "block" : (this.checkboxUseLarger_0.divWithLabel.style.display = "none", this.checkboxUseLarger_0.setChecked_6taknv$(!1)), this.layoutAnimalCompanion_0.innerHTML = ""; var s = jlt().getDiv(); s.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.layoutAnimalCompanion_0.appendChild(s); var l = jlt().getDiv(); l.classList.add("subtitle"), s.appendChild(l), l.innerHTML = this.petData_0.getDisplayName_5btbp7$(this.characterBuild); var c = n.traits; if (null != c && 0 !== c.length) { var p = jlt().getDiv(); p.style.marginTop = "0.5em", s.appendChild(p), htt().addTraitsToFlexbox_h2l30b$(p, n.traits) } var h = jlt().getP(); s.appendChild(h), h.innerHTML = n.description, h = jlt().getP(), s.appendChild(h), h.innerHTML = "<b>Size</b> " + this.dataControl.managerPets.getAnimalSize_krmj4$(this.characterBuild, this.petData_0, n); var u = this.petCharacterBuild_0.abilityBonuses, _ = this.dataControl.managerPets.getAnimalAttackString_2zbcyx$(0, this.characterBuild, this.petCharacterBuild_0, this.petData_0, n); h = jlt().getP(), s.appendChild(h), h.innerHTML = _, n.listAnimalAttacks.size > 1 && (h = jlt().getP(), s.appendChild(h), _ = this.dataControl.managerPets.getAnimalAttackString_2zbcyx$(1, this.characterBuild, this.petCharacterBuild_0, this.petData_0, n), h.innerHTML = _), h = jlt().getP(), s.appendChild(h); var f = "<b>Str</b> " + pe().getSignedValue_za3lpa$(u[0]); f += ", <b>Dex</b> " + pe().getSignedValue_za3lpa$(u[1]), f += ", <b>Con</b> " + pe().getSignedValue_za3lpa$(u[2]), f += ", <b>Int</b> " + pe().getSignedValue_za3lpa$(u[3]), f += ", <b>Wis</b> " + pe().getSignedValue_za3lpa$(u[4]), f += ", <b>Cha</b> " + pe().getSignedValue_za3lpa$(u[5]), h.innerHTML = f, h = jlt().getP(), s.appendChild(h), h.innerHTML = "<b>Hit Points</b> " + j(this.petCharacterBuild_0.getMaxHP_fhac18$(this.dataControl, this.characterBuild)) + " (base " + j(n.ancestryHP) + ")", h = jlt().getP(), s.appendChild(h), h.innerHTML = "<b>Skill</b> " + n.skill, h = jlt().getP(), s.appendChild(h), h.innerHTML = "<b>Senses</b> " + n.senses, h = jlt().getP(), s.appendChild(h), h.innerHTML = "<b>Speed</b> " + new tY(this.dataControl, this.petCharacterBuild_0, this.characterBuild).speedString, n.special.length > 0 && (h = jlt().getP(), s.appendChild(h), h.innerHTML = "<b>Special</b> " + n.special), h = jlt().getP(), s.appendChild(h), h.innerHTML = "<b>Support Benefit</b> " + n.support, h = jlt().getP(), s.appendChild(h), h.innerHTML = "<b>Advanced Maneuver</b> " + o(n.advancedAction).name; var m = new Ylt(!1); m.div.classList.add(B9().CSS_ROUNDED_RECTANGLE), m.div.style.marginTop = "1em", this.layoutAnimalCompanion_0.appendChild(m.div), m.setName_61zpoe$(o(n.advancedAction).name), htt().setHidden_njr4nn$(m.layoutDetail, !0), m.setAction_za3lpa$(o(n.advancedAction).action), o(n.advancedAction).traits.length > 0 && m.setTraits_pdl1vj$(o(n.advancedAction).traits), m.setDescription_61zpoe$(o(n.advancedAction).description) } }, Mot.prototype.onAccept = function () { var t = this.edittextName_0.value; this.petData_0.setNickname_pdl1vj$(t), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, this.petReference), this.mainActivity.autoSave(), this.destroy() }, Mot.$metadata$ = { kind: p, simpleName: "DialogPetAnimalCompanion", interfaces: [wet] }, Not.prototype.onAccept = function () { null != this.currentSelection_0 && (this.dataControl.managerPets.activateNewAnimalSpecialization_q8fthw$(this.characterBuild, this.petCharacterBuild_0, o(this.currentSelection_0).name, this.specializationReference_0), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, this.petReference), this.mainActivity.autoSave(), this.destroy()) }, Not.prototype.setListView_0 = function () { var t, e; for (this.divScrollable.innerHTML = "", this.divInfo.innerHTML = "", t = this.listItems_0.iterator(); t.hasNext();) { var i = t.next(); this.divScrollable.appendChild(this.getListViewItem_0(i)) } this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0), this.divScrollable.addEventListener("dblclick", (e = this, function (t) { return e.onAccept(), n })) }, Not.prototype.openPRD = function () { this.mainActivity.openBrowser_61zpoe$("https://2e.aonprd.com/AnimalCompanions.aspx?Specialized=true") }, Not.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, wY) ? i : d() }, Not.prototype.getListViewItem_0 = function (t) { var e, i = new Ylt(!1); return i.setDescription_61zpoe$(t.description), i.setName_61zpoe$(t.name), i.setAction_za3lpa$(-2), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""), this.listLegal_0.contains_11rb$(t) || i.setIllegal(), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, Not.$metadata$ = { kind: p, simpleName: "DialogPetAnimalSpecialization", interfaces: [Iet] }; var Dot = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function xot(t, e, i, a) { Iet.call(this, t, e, i), this.petReference = a, this.petCharacterBuild_0 = null, this.petData_0 = null, this.currentSelection_0 = null, this.listItems_0 = u(), this.type = 0, this.types_0 = ["Standard", "Magic", "Custom"], this.REQ_BASIC_BASIC = 0, this.REQ_BASIC_MAGIC = 1, this.REQ_BASIC_CUSTOM = 2, this.title.innerHTML = "Select Barding", this.petCharacterBuild_0 = o(i.hashMapPetCharacterBuilds.get_11rb$(this.petReference)), this.petData_0 = this.petCharacterBuild_0.getPetData(), this.hideAcceptButton(); var r, s = jlt().getDiv(); s.innerHTML = "Give", s.classList.add("modal-button"), s.addEventListener("click", (r = this, function (t) { return r.checkArmor_0(!1), n })), this.addButtonToBottom_906ova$(s, 0); var l = jlt().getDiv(); l.innerHTML = "Buy", l.classList.add("modal-button"), l.addEventListener("click", function (t) { return function (e) { return t.checkArmor_0(!0), n } }(this)), this.addButtonToBottom_906ova$(l, 0), this.setSpinnerType_0(), this.setListView_0() } function zot(t) { this.this$DialogPetBarding = t } function Oot(t) { return t.name } function Fot(t, i, a, r) { var o, s; wet.call(this, t, i, a), this.petReference = r, this.edittextName_0 = jlt().getTextInput(), this.petCharacterBuild_0 = null, this.petData_0 = null, this.checkboxSmall_0 = new Met("Small size?"), this.checkboxLarge_0 = new Met("Large size?"), this.title.innerHTML = "Construct", this.setSingleFinishedButton(), this.setRestictedWidth(), this.petCharacterBuild_0 = e.isType(o = a.hashMapPetCharacterBuilds.get_11rb$(this.petReference), qV) ? o : d(), this.petData_0 = this.petCharacterBuild_0.getPetData(); var l, c = jlt().getDiv(); c.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.appendChild(c), c.appendChild(this.edittextName_0), this.edittextName_0.style.width = "100%", this.edittextName_0.classList.add("edittext-dark"), this.edittextName_0.style.display = "block", this.edittextName_0.placeholder = "Pet Nickname", this.edittextName_0.value = null != (s = this.petData_0.getNickname()) ? s : "", this.checkboxSmall_0.setChecked_6taknv$(this.petData_0.isSwitchA()), this.checkboxLarge_0.setChecked_6taknv$(this.petData_0.isSwitchB()), c.appendChild(this.checkboxSmall_0.divWithLabel), this.checkboxSmall_0.divWithLabel.style.marginTop = "1em", this.checkboxSmall_0.divWithLabel.addEventListener("click", (l = this, function (t) { return l.checkboxSmall_0.toggle(), l.checkboxSmall_0.isChecked() && l.checkboxLarge_0.setChecked_6taknv$(!1), n })), c.appendChild(this.checkboxLarge_0.divWithLabel), this.checkboxLarge_0.divWithLabel.style.marginTop = "1em", this.checkboxLarge_0.divWithLabel.addEventListener("click", function (t) { return function (e) { return t.checkboxLarge_0.toggle(), t.checkboxLarge_0.isChecked() && t.checkboxSmall_0.setChecked_6taknv$(!1), n } }(this)) } function Bot(t, i, a, r, n, c) { var p; wet.call(this, t, i, a), this.petReference = r, this.eidolonAttack = n, this.attackType = c, this.editTextAttackName_0 = jlt().getTextInput(), this.editTextAdditionalTraits_0 = jlt().getTextInput(), this.petCharacterBuild_0 = null, this.petData_0 = null, this.spinnerDamageType_0 = new Uet(!1), this.setSingleFinishedButton(), this.setRestictedWidth(), this.petCharacterBuild_0 = e.isType(p = a.hashMapPetCharacterBuilds.get_11rb$(this.petReference), qV) ? p : d(), this.petData_0 = this.petCharacterBuild_0.getPetData(), 0 === this.attackType ? this.title.innerHTML = "Eidolon Primary Attack" : 1 === this.attackType ? this.title.innerHTML = "Eidolon Secondary Attack" : 2 === this.attackType && (this.title.innerHTML = "Eidolon Ranged Attack"); var h = jlt().getDiv(); h.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.appendChild(h), this.content.classList.add("scrollable"), h.appendChild(this.editTextAttackName_0), this.editTextAttackName_0.style.width = "98%", this.editTextAttackName_0.classList.add("edittext-dark"), this.editTextAttackName_0.style.display = "block"; var _ = jlt().getDiv(); _.style.marginTop = "0.5em", _.classList.add(B9().CSS_GRID_CONTAINER), h.appendChild(_), _.appendChild(this.getGridP_0("Damage Type")), this.spinnerDamageType_0.spinner.classList.add(B9().CSS_GRID_ITEM), _.appendChild(this.spinnerDamageType_0.spinner), this.editTextAdditionalTraits_0.style.width = "98%", this.editTextAdditionalTraits_0.style.marginTop = "0.5em", this.editTextAdditionalTraits_0.classList.add("edittext-dark"), this.editTextAdditionalTraits_0.placeholder = "Additional weapon traits (comma separated)", h.appendChild(this.editTextAdditionalTraits_0), null != this.eidolonAttack.extraTraits && (this.editTextAdditionalTraits_0.value = o(this.eidolonAttack.extraTraits)), this.editTextAttackName_0.value = this.eidolonAttack.weaponName; var f = u(); f.add_11rb$("B"), f.add_11rb$("P"), f.add_11rb$("S"), f.add_11rb$("Acid"), f.add_11rb$("Cold"), f.add_11rb$("Electricity"), f.add_11rb$("Fire"), f.add_11rb$("Sonic"), f.add_11rb$("Force"), f.add_11rb$("Negative"), f.add_11rb$("Positive"), this.spinnerDamageType_0.setSpinnerList_un5gdn$(f); var y = 0; try { y = f.indexOf_11rb$(this.eidolonAttack.damageType) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } this.spinnerDamageType_0.setSpinnerSelection_s8ev37$(y) } function jot(t, i, a, r) { var o, s, l; wet.call(this, t, i, a), this.petReference = r, this.edittextName_0 = jlt().getTextInput(), this.petCharacterBuild_0 = null, this.petData_0 = null, this.spinnerPetType_0 = new Uet(!1), this.checkboxStartSmall_0 = new Met("Start with at small size?"), this.eidolonInformation_0 = null, this.title.innerHTML = "Eidolon", this.setSingleFinishedButton(), this.setRestictedWidth(), this.petCharacterBuild_0 = e.isType(o = a.hashMapPetCharacterBuilds.get_11rb$(this.petReference), qV) ? o : d(), this.petData_0 = this.petCharacterBuild_0.getPetData(); var c, p = i.managerPets.hashMapEidolonInformation, h = this.petData_0.getPetName(); this.eidolonInformation_0 = null != (s = (e.isType(c = p, y) ? c : d()).get_11rb$(h)) ? s : new YY; var _, f = jlt().getDiv(); f.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.appendChild(f), f.appendChild(this.edittextName_0), this.edittextName_0.style.width = "100%", this.edittextName_0.classList.add("edittext-dark"), this.edittextName_0.style.display = "block", this.edittextName_0.placeholder = "Pet Nickname", this.edittextName_0.value = null != (l = this.petData_0.getNickname()) ? l : "", f.appendChild(this.checkboxStartSmall_0.divWithLabel), this.checkboxStartSmall_0.divWithLabel.style.marginTop = "1em", this.checkboxStartSmall_0.divWithLabel.addEventListener("click", (_ = this, function (t) { return _.checkboxStartSmall_0.toggle(), n })), this.spinnerPetType_0.spinner.style.marginTop = "1em", this.spinnerPetType_0.spinner.style.width = "100%", f.appendChild(this.spinnerPetType_0.spinner); var m = u(); m.add_11rb$(this.eidolonInformation_0.type1), m.add_11rb$(this.eidolonInformation_0.type2), this.spinnerPetType_0.setSpinnerList_un5gdn$(m), this.petData_0.isSwitchB() && this.spinnerPetType_0.setSpinnerSelection_s8ev37$(1) } function Hot(t, i, a, r) { var n, o, s; if (wet.call(this, t, i, a), this.petReference = r, this.petCharacterBuild_0 = null, this.petData_0 = null, this.div_0 = jlt().getDiv(), this.hashMapBoostAtLevel_0 = c(), this.level_0 = 0, this.arrayLevels_0 = new Int32Array([5, 10, 15, 20]), this.title.innerHTML = "Eidolon Ability Increases", this.setSingleFinishedButton(), this.setRestictedWidth(), this.petCharacterBuild_0 = e.isType(n = a.hashMapPetCharacterBuilds.get_11rb$(this.petReference), qV) ? n : d(), this.petData_0 = this.petCharacterBuild_0.getPetData(), this.level_0 = this.getCharacterData().getCharacterLevel(), this.content.classList.add("scrollable"), this.content.appendChild(this.div_0), this.level_0 < 5) { var l = jlt().getP(); l.classList.add(B9().CSS_ROUNDED_RECTANGLE), l.innerHTML = "Your eidolon has no ability boosts to select at this level.", this.div_0.appendChild(l) } for (this.level_0 >= 17 && this.setSpinnerApex_0(), o = this.arrayLevels_0, s = 0; s !== o.length; ++s) { var p = o[s]; this.level_0 >= p && this.addBoostLayout_0(p) } } function qot(t, e, i, a, r) { return function (o) { var s, l; if (!t.disabled) for (t.toggle(), t.isChecked() ? (e.remaining = e.remaining - 1 | 0, i.petData_0.getListAbilityBoosts_za3lpa$(a).add_11rb$(r)) : (e.remaining = e.remaining + 1 | 0, i.petData_0.getListAbilityBoosts_za3lpa$(a).remove_11rb$(r)), s = i.arrayLevels_0, l = 0; l !== s.length; ++l) { var c = s[l]; i.level_0 >= c && (i.setBoostsRemaining_0(c), i.setAbilityScores_0(c)) } return n } } function Uot() { this.remaining = 4, this.divParent = jlt().getDiv(), this.layoutAbilityIncrease = new Net } function Got(t, i, a, r, n, c) { var p, h; wet.call(this, t, i, a), this.petReference = r, this.eidolonAttack = n, this.attackType = c, this.editTextAttackName_0 = jlt().getTextInput(), this.editTextAdditionalTraits_0 = jlt().getTextInput(), this.petCharacterBuild_0 = null, this.petData_0 = null, this.spinnerAttackRef_0 = new Uet(!1), this.spinnerDamageType_0 = new Uet(!1), this.spinnerPotency_0 = new Uet(!1), this.spinnerStriking_0 = new Uet(!1), this.eidolonInformation_0 = null, this.setSingleFinishedButton(), this.setRestictedWidth(), this.petCharacterBuild_0 = e.isType(p = a.hashMapPetCharacterBuilds.get_11rb$(this.petReference), qV) ? p : d(), this.petData_0 = this.petCharacterBuild_0.getPetData(); var _, f = i.managerPets.hashMapEidolonInformation, m = this.petData_0.getPetName(); this.eidolonInformation_0 = null != (h = (e.isType(_ = f, y) ? _ : d()).get_11rb$(m)) ? h : new YY, 0 === this.attackType ? this.title.innerHTML = "Eidolon Primary Attack" : 1 === this.attackType ? this.title.innerHTML = "Eidolon Secondary Attack" : 2 === this.attackType && (this.title.innerHTML = "Eidolon Ranged Attack"); var $ = jlt().getDiv(); $.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.appendChild($), this.content.classList.add("scrollable"), $.appendChild(this.editTextAttackName_0), this.editTextAttackName_0.style.width = "98%", this.editTextAttackName_0.classList.add("edittext-dark"), this.editTextAttackName_0.style.display = "block", this.spinnerAttackRef_0.spinner.style.marginTop = "0.5em", $.appendChild(this.spinnerAttackRef_0.spinner), this.spinnerAttackRef_0.spinner.style.width = "100%"; var g = jlt().getDiv(); g.style.marginTop = "0.5em", g.classList.add(B9().CSS_GRID_CONTAINER), $.appendChild(g), g.appendChild(this.getGridP_0("Damage Type")), this.spinnerDamageType_0.spinner.classList.add(B9().CSS_GRID_ITEM), g.appendChild(this.spinnerDamageType_0.spinner), (g = jlt().getDiv()).style.marginTop = "0.5em", g.classList.add(B9().CSS_GRID_CONTAINER), $.appendChild(g), g.appendChild(this.getGridP_0("Potency Rune")), this.spinnerPotency_0.spinner.classList.add(B9().CSS_GRID_ITEM), g.appendChild(this.spinnerPotency_0.spinner), (g = jlt().getDiv()).style.marginTop = "0.5em", g.classList.add(B9().CSS_GRID_CONTAINER), $.appendChild(g), g.appendChild(this.getGridP_0("Striking Rune")), this.spinnerStriking_0.spinner.classList.add(B9().CSS_GRID_ITEM), g.appendChild(this.spinnerStriking_0.spinner), this.editTextAdditionalTraits_0.style.width = "98%", this.editTextAdditionalTraits_0.style.marginTop = "0.5em", this.editTextAdditionalTraits_0.classList.add("edittext-dark"), this.editTextAdditionalTraits_0.placeholder = "Additional weapon traits (comma separated)", $.appendChild(this.editTextAdditionalTraits_0), null != this.eidolonAttack.extraTraits && (this.editTextAdditionalTraits_0.value = o(this.eidolonAttack.extraTraits)), this.editTextAttackName_0.value = this.eidolonAttack.weaponName; var v = u(); 0 === this.attackType ? (v.add_11rb$("1d8 damage (disarm)"), v.add_11rb$("1d8 damage (nonlethal)"), v.add_11rb$("1d8 damage (trip)"), v.add_11rb$("1d8 damage (shove)"), v.add_11rb$("1d6 damage (fatal d10)"), v.add_11rb$("1d6 damage (forceful and sweep)"), v.add_11rb$("1d6 damage (deadly d8 and finesse)")) : 1 === this.attackType ? v.add_11rb$("1d6 damage (agile, finesse)") : 2 === this.attackType && v.add_11rb$("1d4 damage (magical, propulsive)"), this.spinnerAttackRef_0.setSpinnerList_un5gdn$(v), this.spinnerAttackRef_0.setSpinnerSelection_s8ev37$(this.eidolonAttack.ref); var S = u(); S.add_11rb$("B"), S.add_11rb$("P"), S.add_11rb$("S"), S.add_11rb$("Acid"), S.add_11rb$("Cold"), S.add_11rb$("Electricity"), S.add_11rb$("Fire"), S.add_11rb$("Sonic"), S.add_11rb$("Force"), S.add_11rb$("Negative"), S.add_11rb$("Positive"), this.spinnerDamageType_0.setSpinnerList_un5gdn$(S); var C = 0; try { C = S.indexOf_11rb$(this.eidolonAttack.damageType) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } this.spinnerDamageType_0.setSpinnerSelection_s8ev37$(C); var E = u(); E.add_11rb$("None"); for (var A = 1; A <= 3; A++)E.add_11rb$("+" + A); this.spinnerPotency_0.setSpinnerList_un5gdn$(E), this.spinnerPotency_0.setSpinnerSelection_s8ev37$(this.eidolonAttack.getPotencyManualSetting()), this.spinnerStriking_0.setSpinnerList_kand9s$(n1().ARRAY_STRIKING), this.spinnerStriking_0.setSpinnerSelection_s8ev37$(this.eidolonAttack.getPotencyManualSetting()) } xot.prototype.onAccept = function () { this.destroy() }, xot.prototype.checkArmor_0 = function (t) { null != this.currentSelection_0 && (t ? this.buy_0() : this.completeChanges_0()) }, zot.prototype.accept = function () { this.this$DialogPetBarding.dataControl.managerEquipment.deductCost_5sfiqf$(this.this$DialogPetBarding.characterBuild, o(this.this$DialogPetBarding.currentSelection_0).price), this.this$DialogPetBarding.completeChanges_0() }, zot.$metadata$ = { kind: p, interfaces: [Vet] }, xot.prototype.buy_0 = function () { null != this.currentSelection_0 && (this.dataControl.managerEquipment.canAffordItem_5sfiqf$(this.characterBuild, o(this.currentSelection_0).price) ? Xet(!0, "Really buy " + o(this.currentSelection_0).name + " for " + pe().getPriceString_14dthe$(o(this.currentSelection_0).price) + "? Warning: this will simplify your coins.", new zot(this)).show() : this.mainActivity.showMessage_61zpoe$("You cannot afford this item")) }, xot.prototype.completeChanges_0 = function () { var t; null != this.currentSelection_0 && (this.petData_0.getPlayerArmor().armorName = null != (t = o(this.currentSelection_0).uniqueIdentiier) ? t : o(this.currentSelection_0).name, this.mainActivity.getGuiUpdateControl().onPetEquipmentChanged_nwzcgj$(this.characterBuild, this.petReference), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, this.petReference), this.mainActivity.autoSave(), this.destroy()) }, xot.prototype.setSpinnerType_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(this.types_0), i.setSpinnerSelection_s8ev37$(this.type), i.spinner.addEventListener("change", (t = i, e = this, function (i) { return e.type = t.spinner.selectedIndex, e.currentSelection_0 = null, e.divInfo.innerHTML = "", e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, xot.prototype.setListView_0 = function () { var t, e; for (this.divScrollable.innerHTML = "", this.divInfo.innerHTML = "", this.listItems_0.clear(), t = this.mainActivity.getDataControl().managerArmor.hashMapArmor.keys.iterator(); t.hasNext();) { var i = t.next(), a = this.mainActivity.getDataControl().managerArmor.hashMapArmor.get_11rb$(i); 4 === o(a).proficiencyType && this.checkReqBasic_0(a) && this.listItems_0.add_11rb$(a) } this.listItems_0.add_11rb$(o(this.dataControl.managerArmor.hashMapArmor.get_11rb$(Oo().ARMOR_NONE))); var r, s = this.listItems_0; for (s.size > 1 && q(s, new G(Dot(Oot))), e = this.listItems_0.iterator(); e.hasNext();) { var l = e.next(); this.divScrollable.appendChild(this.getListViewItem_0(l)) } this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0), this.divScrollable.addEventListener("dblclick", (r = this, function (t) { return r.onAccept(), n })) }, xot.prototype.checkReqBasic_0 = function (t) { return this.type === this.REQ_BASIC_CUSTOM && t.databaseID > -1 || this.type === this.REQ_BASIC_BASIC && null == t.identity && -1 === t.databaseID || this.type === this.REQ_BASIC_MAGIC && null != t.identity }, xot.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, xot.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, Qo) ? i : d() }, xot.prototype.getListViewItem_0 = function (t) { var e, i = new Ylt(!1); return i.setDescription_61zpoe$(t.getFullArmorDetails()), i.setTraits_pdl1vj$(t.traits), i.setName_61zpoe$(t.name), i.setAction_za3lpa$(-2), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, xot.$metadata$ = { kind: p, simpleName: "DialogPetBarding", interfaces: [Iet] }, Fot.prototype.onAccept = function () { var t = this.edittextName_0.value; this.petData_0.setNickname_pdl1vj$(t), this.petData_0.setSwitchA_6taknv$(this.checkboxSmall_0.isChecked()), this.petData_0.setSwitchB_6taknv$(this.checkboxLarge_0.isChecked()), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, XV().PET_REFERENCE_CONSTRUCT), this.mainActivity.autoSave(), this.destroy() }, Fot.$metadata$ = { kind: p, simpleName: "DialogPetConstruct", interfaces: [wet] }, Bot.prototype.getGridP_0 = function (t) { var e = jlt().getP(); return e.classList.add(B9().CSS_GRID_ITEM), e.innerHTML = t, e }, Bot.prototype.onAccept = function () { var t = this.editTextAdditionalTraits_0.value; t.length > 0 ? this.eidolonAttack.extraTraits = t : this.eidolonAttack.extraTraits = null, this.eidolonAttack.damageType = this.spinnerDamageType_0.spinner.value; var e = this.editTextAttackName_0.value; 0 === e.length && (e = "Fist"), this.eidolonAttack.setWeapon_61zpoe$(e), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, XV().PET_REFERENCE_CONSTRUCT), this.mainActivity.autoSave(), this.destroy() }, Bot.$metadata$ = { kind: p, simpleName: "DialogPetConstructAttacks", interfaces: [wet] }, jot.prototype.onAccept = function () { var t = this.edittextName_0.value; this.petData_0.setNickname_pdl1vj$(t), this.petData_0.setSwitchA_6taknv$(this.checkboxStartSmall_0.isChecked()), 0 === this.spinnerPetType_0.spinner.selectedIndex ? this.petData_0.setSwitchB_6taknv$(!1) : this.petData_0.setSwitchB_6taknv$(!0); for (var e = new Int32Array(6), i = 0; i <= 5; i++)this.petData_0.isSwitchB() ? e[i] = this.eidolonInformation_0.array2.get_za3lpa$(i) : e[i] = this.eidolonInformation_0.array1.get_za3lpa$(i); this.petCharacterBuild_0.setBaseAbilityBonuses_q5rwfd$(e), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, XV().PET_REFERENCE_EIDOLON), this.mainActivity.autoSave(), this.destroy() }, jot.$metadata$ = { kind: p, simpleName: "DialogPetEidolon", interfaces: [wet] }, Hot.prototype.setSpinnerApex_0 = function () { var t = jlt().getDiv(); t.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.div_0.appendChild(t); var e = jlt().getP(); e.innerHTML = "Eidolon Transcendence Ability", t.appendChild(e); var i, a, r = new Uet(!1); t.appendChild(r.spinner), r.setSpinnerList_kand9s$(se().ARRAY_ABILITIES), r.setSpinnerSelection_s8ev37$(this.petData_0.getIncredibleType()), r.spinner.addEventListener("change", (i = this, a = r, function (t) { return i.petData_0.setIncredibleType_za3lpa$(a.spinner.selectedIndex), i.level_0 >= 20 && i.setAbilityScores_0(20), n })) }, Hot.prototype.addBoostLayout_0 = function (t) { var e = new Uot; this.div_0.appendChild(e.divParent), e.divParent.classList.add(B9().CSS_ROUNDED_RECTANGLE), e.divParent.style.marginTop = "0.5em"; var i = jlt().getP(); i.innerHTML = "Level " + t + " Ability Boosts", e.divParent.appendChild(i), e.divParent.appendChild(e.layoutAbilityIncrease.table), this.hashMapBoostAtLevel_0.put_xwzc9p$(t, e); for (var a = 0; a <= 5; a++) { var r = e.layoutAbilityIncrease.arrayCheckBoxes[a]; o(r.div.parentElement).addEventListener("click", qot(r, e, this, t, a)), this.petData_0.getListAbilityBoosts_za3lpa$(t).contains_11rb$(a) && r.setChecked_6taknv$(!0) } this.setBoostsRemaining_0(t), this.setAbilityScores_0(t) }, Hot.prototype.setBoostsRemaining_0 = function (t) { var e, i, a, r, n = this.hashMapBoostAtLevel_0.get_11rb$(t); if (o(n).remaining = 4 - this.petData_0.getListAbilityBoosts_za3lpa$(t).size | 0, n.layoutAbilityIncrease.setRemaining_za3lpa$(n.remaining), 0 === n.remaining) for (e = n.layoutAbilityIncrease.arrayCheckBoxes, i = 0; i !== e.length; ++i) { var s = e[i]; s.isChecked() || (s.disabled = !0) } else for (a = n.layoutAbilityIncrease.arrayCheckBoxes, r = 0; r !== a.length; ++r)a[r].disabled = !1 }, Hot.prototype.setAbilityScores_0 = function (t) { for (var e = o(this.hashMapBoostAtLevel_0.get_11rb$(t)), i = new W1(this.dataControl, this.petCharacterBuild_0, t).abilityScores, a = 0; a !== i.length; ++a)e.layoutAbilityIncrease.setAbility_vux9f0$(i[a], a) }, Hot.prototype.onAccept = function () { this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, XV().PET_REFERENCE_EIDOLON), this.mainActivity.autoSave(), this.destroy() }, Uot.$metadata$ = { kind: p, simpleName: "BoostAtLevel", interfaces: [] }, Hot.$metadata$ = { kind: p, simpleName: "DialogPetEidolonAbilityIncreases", interfaces: [wet] }, Got.prototype.getGridP_0 = function (t) { var e = jlt().getP(); return e.classList.add(B9().CSS_GRID_ITEM), e.innerHTML = t, e }, Got.prototype.onAccept = function () { var t = this.editTextAdditionalTraits_0.value; t.length > 0 ? this.eidolonAttack.extraTraits = t : this.eidolonAttack.extraTraits = null, this.eidolonAttack.ref = this.spinnerAttackRef_0.spinner.selectedIndex, this.eidolonAttack.damageType = this.spinnerDamageType_0.spinner.value, this.eidolonAttack.setItemStriking_za3lpa$(this.spinnerStriking_0.spinner.selectedIndex), this.eidolonAttack.setPotency_za3lpa$(this.spinnerPotency_0.spinner.selectedIndex); var e = this.editTextAttackName_0.value; 0 === e.length && (e = "Fist"), this.eidolonAttack.setWeapon_61zpoe$(e), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, XV().PET_REFERENCE_EIDOLON), this.mainActivity.autoSave(), this.destroy() }, Got.$metadata$ = { kind: p, simpleName: "DialogPetEidolonAttacks", interfaces: [wet] }; var Wot = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Yot(t, i, a, r, o, l, p) { var _, f, m; ist(), Iet.call(this, t, i, a), this.featLevel_0 = r, this.featRef_0 = o, this.featChoice_0 = l, this.petReference_0 = p, this.orders_0 = ["Alphabetically", "By Level"], this.currentSelection_0 = null, this.listItems = u(), this.listEligibleFeats_0 = u(), this.listInEligibleFeats_0 = u(), this.currentOrderType = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, 0), this.category_0 = 0, this.searchType_0 = 0, this.searchField_0 = "", this.allowCommon_0 = !0, this.allowUncommon_0 = !0, this.allowRare_0 = !0, this.petCharacterBuild_0 = null, this.title.innerHTML = "Select Feat", this.petCharacterBuild_0 = e.isType(_ = a.hashMapPetCharacterBuilds.get_11rb$(this.petReference_0), qV) ? _ : d(); var $, g, v, S, C = jlt().getDiv(); C.innerHTML = "Clear", C.classList.add("modal-button"), C.addEventListener("click", ($ = this, g = t, v = i, S = a, function (t) { return $.getCharacterData().hashMapFeatSelections.containsKey_11rb$($.featRef_0) && (g.finishedLoading = !1, v.managerFeats.deactivateFeat_8fzv80$(S, $.featLevel_0, $.featChoice_0, $.featRef_0), $.getCharacterData().hashMapFeatSelections.remove_11rb$($.featRef_0), g.finishedLoading = !0, g.getGuiUpdateControl().onPetChanged_nwzcgj$(S, $.petReference_0), g.autoSave()), $.destroy(), n })), this.addButtonToBottom_lt8gi4$(C); var E = UH().getClonedCharacterBuild_iww7pb$(i, a, this.petCharacterBuild_0, this.getCharacterData().getCharacterLevel()), A = new Ya(i); A.createSnapshot_vy76y1$(E, this.getCharacterData().getCharacterLevel()); var b = c(), I = this.featChoice_0.getListFeatIDs_rllpxe$(i, this.petCharacterBuild_0, this.featRef_0); for (I.isEmpty() ? b.putAll_a2k3zr$(i.managerFeats.getFeatsOfType_xmn46k$(this.petCharacterBuild_0, A, this.featChoice_0.featType, !0, this.featRef_0, this.getCharacterData().getCharacterLevel(), this.featChoice_0.maxLevel)) : b.putAll_a2k3zr$(i.managerFeats.getFeatsFromList_mhpeer$(I)), this.category_0 = 0, this.setSpinnerOrder_0(), this.setSearchControls_0(), this.listEligibleFeats_0 = i.managerFeats.getListEligibleFeats_oknxu0$(this.petCharacterBuild_0, A, this.featRef_0, this.featLevel_0, b), f = b.keys.iterator(); f.hasNext();) { var w = f.next(), L = e.isType(m = b.get_11rb$(w), $q) ? m : d(); this.listEligibleFeats_0.contains_11rb$(L) || this.listInEligibleFeats_0.add_11rb$(L) } try { if (this.petCharacterBuild_0.getPetData().hashMapFeatSelections.containsKey_11rb$(this.featRef_0)) { var T, k = this.petCharacterBuild_0.getPetData().hashMapFeatSelections.get_11rb$(this.featRef_0); this.currentSelection_0 = (e.isType(T = b, y) ? T : d()).get_11rb$(k) } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } this.orderFeats_0(), this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0), this.divScrollable.addEventListener("dblclick", function (t) { return function (e) { return t.onAccept(), n } }(this)) } function Vot(t) { return t.name } function Kot(t) { return t.name } function Xot(t) { return t.level } function Jot(t) { return t.name } function Zot(t) { return t.level } function Qot(t) { return t.name } function tst() { est = this, this.ORDER_ALPHABETICAL_0 = 0, this.ORDER_FEAT_LEVEL_0 = 1, this.SEARCH_TYPE_NAMES = 0, this.SEARCH_TYPE_TRAITS = 1, this.SEARCH_TYPE_OTHER = 2, this.CATEGORY_CLASS = 0, this.CATEGORY_DEDICATION = 1, this.CATEGORY_ARCHETYPE = 2, this.CATEGORY_ALL = 3, this.GENERAL_CAT_ALL = 0, this.GENERAL_CAT_SKILLS = 1, this.GENERAL_CAT_GEN = 2 } Yot.prototype.onAccept = function () { null != this.currentSelection_0 && (this.dataControl.managerFeats.deactivateExistingAndActivateNewFeat_x04vjk$(this.petCharacterBuild_0, this.featLevel_0, this.featRef_0, o(this.currentSelection_0)), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, XV().PET_REFERENCE_EIDOLON), this.mainActivity.autoSave(), this.destroy()) }, Yot.prototype.setSearchControls_0 = function () { var t, e, i, a = jlt().getTextInput(), r = new Uet(!0); a.classList.add("modal-widget"), a.placeholder = "search", a.addEventListener("input", (t = a, e = r, i = this, function (a) { return i.searchContent_0(t.value, e.spinner.selectedIndex), n })), this.addWidgetToTop_lt8gi4$(a), r.setSpinnerList_kand9s$(["Names", "Traits", "Other"]), r.spinner.addEventListener("change", function (t, e, i) { return function (a) { var r = t.spinner.selectedIndex, o = e.value; return i.searchContent_0(o, r), n } }(r, a, this)), this.addWidgetToTop_lt8gi4$(r.spinner) }, Yot.prototype.searchContent_0 = function (t, e) { m(this.searchField_0, t) && this.searchType_0 == this.searchType_0 || (this.searchField_0 = t.toLowerCase(), this.searchType_0 = e, this.orderFeats_0()) }, Yot.prototype.setSpinnerOrder_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(this.orders_0), i.setSpinnerSelection_s8ev37$(this.currentOrderType), i.spinner.addEventListener("change", (t = this, e = i, function (i) { return t.currentOrderType !== e.spinner.selectedIndex && (t.currentOrderType = e.spinner.selectedIndex, B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, t.currentOrderType), t.orderFeats_0()), n })), m(this.featChoice_0.featType, se().FEATS_HERITAGE) || m(this.featChoice_0.featType, se().FEATS_CLASS_ARCHETYPE) || this.addWidgetToTop_lt8gi4$(i.spinner) }, Yot.prototype.setListView_0 = function () { var t; for (this.divScrollable.innerHTML = "", t = this.listItems.iterator(); t.hasNext();) { var e = t.next(); this.divScrollable.appendChild(this.getFeatListView_0(e)) } }, Yot.prototype.orderFeats_0 = function () { var t, e; for (this.listItems.clear(), t = this.listEligibleFeats_0.iterator(); t.hasNext();) { var i = t.next(); this.correctCategory_0(i) && this.meetsSearch_0(i) && this.listItems.add_11rb$(i) } if (0 === this.currentOrderType || m(this.featChoice_0.featType, se().FEATS_HERITAGE) || m(this.featChoice_0.featType, se().FEATS_CLASS_ARCHETYPE)) { var a = this.listItems; a.size > 1 && q(a, new G(Wot(Vot))); var r = this.listInEligibleFeats_0; r.size > 1 && q(r, new G(Wot(Kot))) } else 1 === this.currentOrderType && (q(this.listItems, Wt([Xot, Jot])), q(this.listInEligibleFeats_0, Wt([Zot, Qot]))); for (e = this.listInEligibleFeats_0.iterator(); e.hasNext();) { var n = e.next(); this.correctCategory_0(n) && this.meetsSearch_0(n) && this.listItems.add_11rb$(n) } null == this.currentSelection_0 || B(this.listItems, this.currentSelection_0) || (this.currentSelection_0 = null), this.setListView_0() }, Yot.prototype.correctCategory_0 = function (t) { if (m(this.featChoice_0.featType, se().FEATS_CLASS)) { if (3 === this.category_0) return !0; if (null == t.traits) return !0; switch (this.category_0) { case 1: return _(o(t.traits), "Dedication"); case 2: return _(o(t.traits), "Archetype") && !_(o(t.traits), "Dedication"); case 0: return !_(o(t.traits), "Archetype") && !_(o(t.traits), "Dedication") }return !1 } if (m(this.featChoice_0.featType, se().FEATS_GENERAL)) { if (0 === this.category_0) return !0; if (null == t.traits) return !0; switch (this.category_0) { case 1: return _(o(t.traits), "Skill"); case 2: return !_(o(t.traits), "Skill") }return !1 } if (m(this.featChoice_0.featType, se().FEATS_ARCHETYPE)) { if (null == t.traits) return !0; switch (this.category_0) { case 0: return _(o(t.traits), "Dedication"); case 1: return _(o(t.traits), "Archetype") && !_(o(t.traits), "Dedication") } } else if (m(this.featChoice_0.featType, se().FEATS_HERITAGE)) return null == t.traits ? this.allowCommon_0 : !(!_(o(t.traits), "Uncommon") || !this.allowUncommon_0) || !(!_(o(t.traits), "Rare") || !this.allowRare_0) || !(_(o(t.traits), "Uncommon") || _(o(t.traits), "Rare") || !this.allowCommon_0); return !0 }, Yot.prototype.meetsSearch_0 = function (t) { if (0 === this.searchField_0.length) return !0; switch (this.searchType_0) { case 0: return _(t.name.toLowerCase(), this.searchField_0); case 1: return null != t.traits && _(o(t.traits).toLowerCase(), this.searchField_0); case 2: return _(t.textDescription.toLowerCase(), this.searchField_0) }return !1 }, Yot.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, Yot.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, $q) ? i : d() }, Yot.prototype.getFeatListView_0 = function (t) { var e, i = new Ylt(!1), a = htt().getParseDescriptionForInlineActions_61zpoe$(t.textDescription); return i.setDescription_61zpoe$(a), i.setTraits_pdl1vj$(t.traits), i.setName_61zpoe$(t.name), i.setAction_za3lpa$(t.action), m(this.featChoice_0.featType, se().FEATS_HERITAGE) || m(this.featChoice_0.featType, se().FEATS_CLASS_ARCHETYPE) ? i.setLevel_pdl1vj$(null) : htt().setItemLevelBox_c4iwwi$(i.itemLevel, t.level, t.traits), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""), this.listInEligibleFeats_0.contains_11rb$(t) && i.setIllegal(), null != this.currentSelection_0 && m(this.currentSelection_0, t) && i.layoutDetail.classList.remove(B9().CSS_HIDDEN), this.hashMapDivs.put_xwzc9p$(i, t), i.div }, tst.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var est = null; function ist() { return null === est && new tst, est } function ast(t, e, i, a) { Est.call(this, t, e, i, a), this.hashMapRows_0 = c(), this.level_0 = i.getCharacterData().getCharacterLevel(), this.listSelectedSkills_0 = u(), this.listItems_0 = u(), this.abilityScores_0 = null, this.hashMapLayoutSkill_0 = c(), this.table_0 = jlt().getTable(), this.clonedCharacterBuild_0 = null, this.clonedCharacterBuild_0 = UH().getClonedCharacterBuild_iww7pb$(e, t.characterBuild, this.petCharacterBuild, this.level_0), this.abilityScores_0 = new W1(e, this.petCharacterBuild, this.level_0).abilityScoresBuffed, this.setRestictedWidth40(), this.title.innerHTML = "Eidolon Skills", this.setSingleFinishedButton(); var r = jlt().getDiv(); r.classList.add("scrollable"), r.style.display = "flex", this.table_0.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.table_0.style.flex = "1", r.appendChild(this.table_0), this.content.appendChild(r), this.setSkillList_0() } Yot.$metadata$ = { kind: p, simpleName: "DialogPetEidolonFeats", interfaces: [Iet] }, ast.prototype.onAccept = function () { this.mainActivity.autoSave(), this.destroy() }, ast.prototype.setSkillList_0 = function () { var t, e; for (this.listItems_0.clear(), t = this.clonedCharacterBuild_0.hashMapSkillProficiencies.keys.iterator(); t.hasNext();) { var i = t.next(); null != this.clonedCharacterBuild_0.hashMapSkillProficiencies.get_11rb$(i) && this.listItems_0.add_11rb$(i) } for (Q(this.listItems_0), e = this.listItems_0.iterator(); e.hasNext();) { var a = e.next(), r = this.clonedCharacterBuild_0.getSkillProficiency_61zpoe$(a); this.table_0.appendChild(this.getSkillListView_0(r, a)) } }, ast.prototype.getSkillListView_0 = function (t, e) { var i = new Fet(!1, !0); this.hashMapLayoutSkill_0.put_xwzc9p$(e, i), this.setValuesBasedOnProficiency_0(t, e); var a = this.hashMapRows_0, r = i.div; return a.put_xwzc9p$(r, e), i.div }, ast.prototype.setValuesBasedOnProficiency_0 = function (t, e) { var i = o(this.hashMapLayoutSkill_0.get_11rb$(e)); if (null != t) { var a = t.getProficiencyAtLevel_za3lpa$(this.level_0), r = pK().getFinalProficiencyTotalSkill_r1xdi3$(this.dataControl, this.petCharacterBuild, a, this.level_0), n = se().ARRAY_ABILITIES_SHORT[t.abilityRef], s = htt().getAbilityMod_za3lpa$(this.abilityScores_0[t.abilityRef]), l = r + s + 0 + 0 | 0; this.listSelectedSkills_0.contains_11rb$(e) ? i.setHighlighted_6taknv$(!0) : i.setHighlighted_6taknv$(!1), i.setProficiencyImage_za3lpa$(a), i.setProficiency_za3lpa$(r), i.setAbility_bm4lxs$(n, s), i.setName_61zpoe$(e + " " + htt().getSignedValue_za3lpa$(l)) } }, ast.$metadata$ = { kind: p, simpleName: "DialogPetEidolonSkills", interfaces: [Est] }; var rst = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function nst(t, e, i, a) { _st(), Iet.call(this, t, e, i), this.petReference = a, this.petCharacterBuild_0 = null, this.petData_0 = null, this.currentSelection_0 = null, this.listSelectedItems = u(), this.listItems = u(), this.currentOrderType_0 = B9().getPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, 0), this.category_0 = 0, this.searchType_0 = 0, this.searchField_0 = "", this.addCheckboxes_0 = !0, this.finishedCreation = new fst(this), this.title.innerHTML = "Pet Equipment", this.root.onKeyUp = null, this.root.onKeyDown = null, this.root.onEnterAction = null, this.petCharacterBuild_0 = o(i.hashMapPetCharacterBuilds.get_11rb$(this.petReference)), this.petData_0 = this.petCharacterBuild_0.getPetData(), this.hideAcceptButton(); var r, s = jlt().getDiv(); s.innerHTML = "Give", s.classList.add("modal-button"), s.addEventListener("click", (r = this, function (t) { return r.kitCheck_0(!1), n })), this.addButtonToBottom_906ova$(s, 0); var l = jlt().getDiv(); l.innerHTML = "Buy", l.classList.add("modal-button"), l.addEventListener("click", function (t) { return function (e) { return t.kitCheck_0(!0), n } }(this)), this.addButtonToBottom_906ova$(l, 0), this.setSpinnerCategory_0(), this.setSpinnerOrder_0(), this.setSearchControls_0(), this.setListView_0() } function ost(t) { return t.name } function sst(t) { return t.itemLevel } function lst(t) { return t.name } function cst(t, e) { return function (i) { return t.listSelectedItems.remove_11rb$(e), t.selectedElement = null, t.currentSelection_0 = null, t.setInfoPanel_0(), t.setListView_0(), n } } function pst(t, e) { this.closure$buyAction = t, this.this$DialogPetEquipment = e } function hst(t, e) { this.this$DialogPetEquipment = t, this.closure$totalPrice = e } function dst() { ust = this, this.SEARCH_TYPE_NAMES = 0, this.SEARCH_TYPE_TRAITS = 1, this.SEARCH_TYPE_OTHER = 2 } nst.prototype.onAccept = function () { var t, e; for (t = this.listSelectedItems.iterator(); t.hasNext();) { var i = t.next(), a = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(i); if (null != a) { var r = !1; for (e = this.getCharacterData().listPlayerFormula.iterator(); e.hasNext();) { var n = e.next(); m(n.name, i) && (r = !0) } if (!r) { var s = new Vd(o(a.uniqueIdentiier)); this.getCharacterData().listPlayerFormula.add_11rb$(s) } } } this.mainActivity.getNavigationControl().tabbedAreaGear.updateFormula(), this.mainActivity.autoSave(), this.destroy() }, nst.prototype.setSpinnerCategory_0 = function () { var t, e, i = new Uet(!0), a = kc().ARRAY_EQUIPMENT_CATEGORIES_PETS; m(this.petReference, XV().PET_REFERENCE_EIDOLON) && (a = ["Eidolon", "Gear", "Alchemical"]), i.setSpinnerList_kand9s$(a), m(this.petReference, XV().PET_REFERENCE_EIDOLON) ? this.category_0 = 12 : (i.setSpinnerSelection_s8ev37$(9), this.category_0 = 9), i.spinner.addEventListener("change", (t = i, e = this, function (i) { var a, r = t.spinner.value; return e.category_0 = null != (a = e.dataControl.managerEquipment.hashMapEquipmentCategoryNames.get_11rb$(r)) ? a : 0, e.setListView_0(), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, nst.prototype.setSearchControls_0 = function () { var t, e, i, a = jlt().getTextInput(), r = new Uet(!0); a.classList.add("modal-widget"), a.placeholder = "search", a.addEventListener("input", (t = a, e = r, i = this, function (a) { return i.searchContent_0(t.value, e.spinner.selectedIndex), n })), this.addWidgetToTop_lt8gi4$(a), r.setSpinnerList_kand9s$(["Names", "Traits", "Other"]), r.spinner.addEventListener("change", function (t, e, i) { return function (a) { var r = t.spinner.selectedIndex, o = e.value; return i.searchContent_0(o, r), n } }(r, a, this)), this.addWidgetToTop_lt8gi4$(r.spinner) }, nst.prototype.searchContent_0 = function (t, e) { m(this.searchField_0, t) && this.searchType_0 == this.searchType_0 || (this.searchField_0 = t.toLowerCase(), this.searchType_0 = e, this.setListView_0()) }, nst.prototype.setSpinnerOrder_0 = function () { var t, e, i = new Uet(!0); i.setSpinnerList_kand9s$(["Alphabetically", "By Item Level"]), i.setSpinnerSelection_s8ev37$(this.currentOrderType_0), i.spinner.addEventListener("change", (t = this, e = i, function (i) { return t.currentOrderType_0 !== e.spinner.selectedIndex && (t.currentOrderType_0 = e.spinner.selectedIndex, B9().setPreferenceInt_bm4lxs$(B9().PREFERENCE_ALPHA_ORDER, t.currentOrderType_0), t.setListView_0()), n })), this.addWidgetToTop_lt8gi4$(i.spinner) }, nst.prototype.setListView_0 = function () { var t, e; for (this.divScrollable.innerHTML = "", this.hashMapDivs.clear(), this.listItems.clear(), t = this.mainActivity.getDataControl().managerEquipment.getEquipmentByCategory_za3lpa$(this.category_0).values.iterator(); t.hasNext();) { var i = t.next(); Ic().isEnabled_kc4y8q$(this.getCharacterData(), i.src) && this.meetsSearch_0(i) && this.listItems.add_11rb$(i) } if (0 === this.currentOrderType_0) { var a = this.listItems; a.size > 1 && q(a, new G(rst(ost))) } else q(this.listItems, Wt([sst, lst])); for (e = this.listItems.iterator(); e.hasNext();) { var r = e.next(); this.divScrollable.appendChild(this.getListView_0(r, !1).div) } }, nst.prototype.meetsSearch_0 = function (t) { if (0 === this.searchField_0.length) return !0; switch (this.searchType_0) { case 0: return _(t.name.toLowerCase(), this.searchField_0); case 1: return _(t.traits.toLowerCase(), this.searchField_0); case 2: return _(t.getFullDescription().toLowerCase(), this.searchField_0) }return !1 }, nst.prototype.openPRD = function () { null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(o(this.currentSelection_0).url) }, nst.prototype.onItemClicked_za3rmp$ = function (t) { var i, a, r, n; if (this.currentSelection_0 = e.isType(i = t, Wp) ? i : d(), this.addCheckboxes_0 && null != this.currentSelection_0) { var s = e.isType(a = this.getLayoutAction_za3rmp$(t), Vlt) ? a : d(); if (B(this.listSelectedItems, o(this.currentSelection_0).uniqueIdentiier)) { var l, c = this.listSelectedItems, p = o(this.currentSelection_0).uniqueIdentiier; (e.isType(l = c, ht) ? l : d()).remove_11rb$(p), this.setListView_0() } else this.listSelectedItems.add_11rb$("string" == typeof (r = o(this.currentSelection_0).uniqueIdentiier) ? r : d()), s.checkbox.setChecked_6taknv$(!0); this.setInfoPanel_0() } else this.listSelectedItems.clear(), this.listSelectedItems.add_11rb$("string" == typeof (n = o(this.currentSelection_0).uniqueIdentiier) ? n : d()) }, nst.prototype.setInfoPanel_0 = function () { var t, e, i, a; this.divInfo.innerHTML = ""; var r = jlt().getDiv(); for (r.innerHTML = "Total Cost: " + this.getTotalCostString_0(), this.divInfo.appendChild(r), r.style.marginBottom = "2em", t = Xt(this.listSelectedItems).iterator(); t.hasNext();) { var n = t.next(), o = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(n); if (null != o) { var s = this.getListView_0(o, !0); s.title.classList.remove("listview-title-limited"), s.checkbox.div.addEventListener("click", cst(this, n)); var l = s.div.getElementsByClassName("listview-detail"); e = l.length; for (var c = 0; c < e; c++)null != (a = null != (i = l[c]) ? i.classList : null) && a.remove(B9().CSS_HIDDEN); this.divInfo.appendChild(s.div) } } }, nst.prototype.cloneToInfo_q80y7p$ = function (t) { this.addCheckboxes_0 || Iet.prototype.cloneToInfo_q80y7p$.call(this, t) }, nst.prototype.getListView_0 = function (t, e) { var i = new Vlt(e); return this.setDetails_0(i, t), htt().setHidden_njr4nn$(i.layoutDetail, !1), B(this.listSelectedItems, t.uniqueIdentiier) && i.checkbox.setChecked_6taknv$(!0), this.hashMapDivs.put_xwzc9p$(i, t), i }, nst.prototype.setDetails_0 = function (t, e) { var i; t.setName_61zpoe$(e.name), t.setTraits_pdl1vj$(e.traits), t.title.classList.add("listview-title-limited"), htt().setItemLevelBox_c4iwwi$(t.itemLevel, e.itemLevel, e.traits), t.setDescription_61zpoe$(e.getItemFullDetails()), t.setCopyright_61zpoe$(null != (i = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(e.src)) ? i : ""), null != this.currentSelection_0 && m(this.currentSelection_0, e) && t.layoutDetail.classList.remove(B9().CSS_HIDDEN) }, pst.prototype.accept = function () { this.closure$buyAction ? this.this$DialogPetEquipment.buy_0() : this.this$DialogPetEquipment.completeChanges_0() }, pst.$metadata$ = { kind: p, interfaces: [Vet] }, nst.prototype.kitCheck_0 = function (t) { this.containsKit_0() ? Xet(!0, "Warning. This kit will add all of the equipment and weapons to your inventory and set your armor.  Continue?", new pst(t, this)).show() : t ? this.buy_0() : this.completeChanges_0() }, nst.prototype.containsKit_0 = function () { var t; for (t = this.listSelectedItems.iterator(); t.hasNext();) { var e = t.next(); if (_(e, "Kit, ")) return !0 } return !1 }, nst.prototype.getTotalCostString_0 = function () { var t, e = 0; for (t = this.listSelectedItems.iterator(); t.hasNext();) { var i = t.next(), a = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(i); null != a && (e += a.price) } return e = C(S(e *= 100)) / 100, pe().getPriceStringSimplified_14dthe$(e) }, hst.prototype.accept = function () { this.this$DialogPetEquipment.dataControl.managerEquipment.deductCost_5sfiqf$(this.this$DialogPetEquipment.characterBuild, this.closure$totalPrice.v), this.this$DialogPetEquipment.completeChanges_0() }, hst.$metadata$ = { kind: p, interfaces: [Vet] }, nst.prototype.buy_0 = function () { var t; if (!this.listSelectedItems.isEmpty()) { var e = "", i = { v: 0 }; for (t = this.listSelectedItems.iterator(); t.hasNext();) { var a = t.next(), r = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(a); null != r && (e.length > 0 && (e += ", "), e += r.name, i.v += r.price) } i.v *= 100; var n = C(S(i.v)); i.v = n / 100, this.dataControl.managerEquipment.canAffordItem_5sfiqf$(this.characterBuild, i.v) ? Xet(!0, "Really buy " + e + " for " + pe().getPriceStringSimplified_14dthe$(i.v) + "? Warning: this will simplify your coins.", new hst(this, i)).show() : this.mainActivity.showMessage_61zpoe$("You cannot afford this item") } }, nst.prototype.completeChanges_0 = function () { var t, e; for (t = this.listSelectedItems.iterator(); t.hasNext();) { var i = t.next(), a = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(i); if (null != a) { var r = !1; for (e = this.petData_0.listPlayerEquipment.iterator(); e.hasNext();) { var n = e.next(); m(n.name, a.name) && (null != a.amount ? n.quantity = n.quantity + o(a.amount) | 0 : n.quantity = n.quantity + 1 | 0, r = !0) } if (!r) { var s = new Vd(o(a.uniqueIdentiier)); null != a.amount && (s.quantity = o(a.amount)), this.petData_0.listPlayerEquipment.add_11rb$(s), this.dataControl.managerEquipment.applyEquipmentBonus_qumra2$(this.petCharacterBuild_0, s) } } } this.petCharacterBuild_0.updateReportAbilityScores_vvjzl1$(this.dataControl, this.characterBuild.getCharacterData().getCharacterLevel()), this.mainActivity.autoSave(), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, this.petReference), this.destroy() }, dst.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var ust = null; function _st() { return null === ust && new dst, ust } function fst(t) { this.this$DialogPetEquipment = t } function yst(t, i, a, r) { var s, l, c; wet.call(this, t, i, a), this.petReference = r, this.edittextName_0 = jlt().getTextInput(), this.petCharacterBuild_0 = null, this.petData_0 = null, this.spinnerPetType_0 = new Uet(!1), this.checkboxSwimmer_0 = new Met("Start with swim speed instead of land speed?"), this.title.innerHTML = "Familiar", this.setSingleFinishedButton(), this.setRestictedWidth(), this.petCharacterBuild_0 = e.isType(s = a.hashMapPetCharacterBuilds.get_11rb$(this.petReference), qV) ? s : d(), this.petData_0 = this.petCharacterBuild_0.getPetData(); var p, h = jlt().getDiv(); if (h.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.content.appendChild(h), h.appendChild(this.edittextName_0), this.edittextName_0.style.width = "100%", this.edittextName_0.classList.add("edittext-dark"), this.edittextName_0.style.display = "block", this.edittextName_0.placeholder = "Pet Nickname", this.edittextName_0.value = null != (l = this.petData_0.getNickname()) ? l : "", h.appendChild(this.checkboxSwimmer_0.divWithLabel), this.checkboxSwimmer_0.divWithLabel.style.marginTop = "1em", this.checkboxSwimmer_0.divWithLabel.addEventListener("click", (p = this, function (t) { return p.checkboxSwimmer_0.toggle(), n })), this.spinnerPetType_0.spinner.style.marginTop = "1em", this.spinnerPetType_0.spinner.style.width = "100%", h.appendChild(this.spinnerPetType_0.spinner), WV().getListFamiliarAbilityReferences_38cnzz$(i, a, this.petData_0.getFamiliarSpecific()).size < this.getMinReq_0()) this.spinnerPetType_0.spinner.style.display = "none"; else { var _ = u(); for (c = i.managerPets.hashMapSpecificFamiliars.values.iterator(); c.hasNext();) { var f = c.next(); i.managerPets.isSpecificFamiliarLegal_vy76y1$(a, f.req) && _.add_11rb$(o(f.name)) } _.add_wxm5ur$(0, "Generic Familiar"), this.spinnerPetType_0.setSpinnerList_un5gdn$(_), null != this.petData_0.getFamiliarSpecific() && this.spinnerPetType_0.setSpinnerSelection_s8ev37$(Kt(_, this.petData_0.getFamiliarSpecific())), this.spinnerPetType_0.spinner.addEventListener("change", function (t, e, i) { return function (a) { return t.managerPets.clearOldFamiliar_v0xutk$(e, i.petCharacterBuild_0), 0 === i.spinnerPetType_0.spinner.selectedIndex ? t.managerPets.setSpecificFamiliar_xp8xqz$(e, i.petCharacterBuild_0, null) : t.managerPets.setSpecificFamiliar_xp8xqz$(e, i.petCharacterBuild_0, i.spinnerPetType_0.spinner.value), n } }(i, a, this)) } } function mst(t, i, a, r, n) { if (Iet.call(this, t, i, a), this.petReference = r, this.familiarAbilityRef = n, this.petCharacterBuild_0 = null, this.petData_0 = null, this.currentSelection_0 = null, this.listItems_0 = u(), this.listEligible_0 = u(), this.title.innerHTML = "Select Familiar Ability", this.petCharacterBuild_0 = o(a.hashMapPetCharacterBuilds.get_11rb$(this.petReference)), this.petData_0 = this.petCharacterBuild_0.getPetData(), this.petData_0.getHashMapSelectedFamiliarAbilities().containsKey_11rb$(this.familiarAbilityRef)) { var s, l = this.petData_0.getHashMapSelectedFamiliarAbilities().get_11rb$(this.familiarAbilityRef), c = i.managerPets.hashMapFamiliarAbilities; this.currentSelection_0 = (e.isType(s = c, y) ? s : d()).get_11rb$(l) } this.setListView_0() } function $st(t, e, i, a) { Est.call(this, t, e, i, a), this.level_0 = i.getCharacterData().getCharacterLevel(), this.listItems_0 = u(), this.hashMapLayoutSkill_0 = c(), this.table_0 = jlt().getTable(), this.spellCastingMod_0 = 0, this.setRestictedWidth40(), this.title.innerHTML = "Pet Skills", this.setSingleFinishedButton(); var r = jlt().getDiv(); r.classList.add("scrollable"), r.style.display = "flex", this.table_0.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.table_0.style.flex = "1", r.appendChild(this.table_0), this.content.appendChild(r), this.spellCastingMod_0 = e.managerPets.getFamiliarSpellCastingAbilityMod_jn8rkh$(i, i.getPlayReportAbilityScores_sfkw43$(e)), this.setSkillList_0() } function gst(t, i, a, r, o) { wet.call(this, t, i, o), this.petReference = a, this.petData_0 = null, this.editTextHP_0 = jlt().getTextInput(), this.editTextTemp_0 = jlt().getTextInput(), this.currentAdjustment_0 = 0, this.maxHP_0 = 0, this.petData_0 = r.getPetData(), this.maxHP_0 = r.getMaxHP_fhac18$(i, o), this.setRestictedWidth(), this.title.innerHTML = "Set Hit Points"; var c = jlt().getDiv(); c.classList.add("grid-container"), c.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.content.appendChild(c), this.content.style.padding = "0.5em"; var p = jlt().getDiv(); p.classList.add("grid-item"), c.appendChild(p); var h = jlt().getH3(); h.innerHTML = "Hit Points (Max " + this.maxHP_0 + ")", p.appendChild(h), p.appendChild(this.editTextHP_0); var d = jlt().getDiv(); d.classList.add("grid-item"), c.appendChild(d); var u = jlt().getH3(); u.innerHTML = "Temp Hit Points", d.appendChild(u), d.appendChild(this.editTextTemp_0); var _ = jlt().getDiv(); _.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), _.classList.add(B9().CSS_SMALL_TEXT), _.classList.add(B9().CSS_GREY_TEXT), _.innerHTML = "You can set the new total directly or use the + or - symbols to adjust.", this.content.appendChild(_); var f, y = this.maxHP_0 - this.petData_0.getDamageTaken() | 0; this.editTextHP_0.value = y.toString(), this.editTextTemp_0.value = this.petData_0.getTemporaryHP().toString(), this.editTextHP_0.classList.add("edittext-dark"), this.editTextTemp_0.classList.add("edittext-dark"), this.editTextHP_0.addEventListener("click", (f = this, function (t) { return f.editTextHP_0.select(), n })), this.editTextTemp_0.addEventListener("click", function (t) { return function (e) { return t.editTextTemp_0.select(), n } }(this)); var m = jlt().getDiv(); m.innerHTML = "Restore HP", m.classList.add("modal-button"), m.addEventListener("click", function (t, e) { return function (i) { return t.petData_0.setDamageTaken_za3lpa$(0), e.getNavigationControl().tabbedAreaPets.updateAll(), e.autoSave(), t.destroy(), n } }(this, t)), this.addButtonToBottom_lt8gi4$(m), this.editTextHP_0.addEventListener("keyup", function (t) { return function (i) { try { "Enter" == i.key && (i.preventDefault(), t.onAccept()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this)), this.editTextTemp_0.addEventListener("keyup", function (t) { return function (i) { try { "Enter" == i.key && (i.preventDefault(), t.onAccept()) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this)) } function vst(t, e, i, a) { Est.call(this, t, e, i, a), this.hashMapRows_0 = c(), this.level_0 = i.getCharacterData().getCharacterLevel(), this.listSelectedSkills_0 = u(), this.listItems_0 = u(), this.abilityScores_0 = null, this.hashMapLayoutSkill_0 = c(), this.table_0 = jlt().getTable(), this.abilityScores_0 = this.petCharacterBuild.getPlayReportAbilityScores_sfkw43$(e).abilityScoresBuffed, this.setRestictedWidth40(), this.title.innerHTML = "Pet Skills", this.setSingleFinishedButton(); var r = jlt().getDiv(); r.classList.add("scrollable"), r.style.display = "flex", this.table_0.classList.add(B9().CSS_ROUNDED_RECTANGLE_WHITE), this.table_0.style.flex = "1", r.appendChild(this.table_0), this.content.appendChild(r), this.setSkillList_0() } function Sst(t, e, i, a, r, n, o) { cnt.call(this, t, e, i, r, a), this.remainingRunes_0 = a, this.runeType = r, this.playerWeapon = n, this.playerArmor = o } function Cst(t, e, i, a, r, n) { cnt.call(this, t, e, i, 1, r), this.eidolonAttack_0 = a, this.remainingRunes_0 = r, this.petReference = n } function Est(t, e, i, a) { var r; wet.call(this, t, e, i), this.masterCharacterBuild = null, this.petCharacterBuild = null, this.masterCharacterBuild = i, this.petCharacterBuild = null != (r = this.masterCharacterBuild.hashMapPetCharacterBuilds.get_11rb$(a)) ? r : new qV } function Ast(t, i) { var a, r; ylt.call(this, t, i), this.layoutParent_0 = e.isType(a = document.getElementById("divBuildLevels"), HTMLDivElement) ? a : d(), this.hashMapLayoutLevels_0 = c(), this.hashMapFeatButtons_0 = e.newArray(20, null), this.hashMapFeatChoices_0 = e.newArray(20, null), this.buttonClass_0 = Tlt(0, "Class"), this.buttonDualClass_0 = Tlt(0, "Dual Class"), this.buttonAncestry_0 = Tlt(1, "Ancestry"), this.buttonBackground_0 = Tlt(2, "Background"), this.spanClassSkills_0 = jlt().getSpan(), this.cogButtonStartingAbilities_0 = new Slt, this.cogButtonStartingSkills_0 = new Slt, this.rootView = e.isType(r = document.getElementById("divBuild"), HTMLDivElement) ? r : d() } function bst(t, e, i) { return function (a) { return t.mainActivity.openDialog_ip94j4$(new Eet(t.mainActivity, t.dataControl, t.getCharacterBuild(), e, i)), n } } function Ist() { Fst() } function wst() { Ost = this } function Lst(t, e, i) { return function (a) { return t.showMessage_puj7f4$(e, i.description), n } } function Tst(t, e, i, a, r, o, s, l) { return function (c) { var p; t.checkBox.toggle(); var h = null != (p = e.hashMapActiveConditions.get_11rb$(i)) ? p : 0; return t.checkBox.isChecked() ? (e.listCurrentlyInactiveBuffs.remove_11rb$(i), a.managerClasses.applyConditionEffect_q0qzv0$(!0, r, i, h)) : (e.listCurrentlyInactiveBuffs.add_11rb$(i), a.managerClasses.applyConditionEffect_q0qzv0$(!1, r, i, h)), o.getGuiUpdateControl().onConditionChanged_kvhkcm$(r, s, l), n } } function kst(t, e, i, a, r, o, s, l) { return function (c) { var p, h = null != (p = t.hashMapActiveConditions.get_11rb$(e)) ? p : 0; return h > 1 && (h = h - 1 | 0), t.hashMapActiveConditions.put_xwzc9p$(e, h), i.divValue.innerHTML = h.toString(), t.listCurrentlyInactiveBuffs.contains_11rb$(e) || (a.managerClasses.applyConditionEffect_q0qzv0$(!0, r, e, h), o.getGuiUpdateControl().onConditionChanged_kvhkcm$(r, s, l)), o.autoSave(), n } } function Rst(t, e, i, a, r, o, s, l) { return function (c) { var p, h = null != (p = t.hashMapActiveConditions.get_11rb$(e)) ? p : 0; return h = h + 1 | 0, t.hashMapActiveConditions.put_xwzc9p$(e, h), t.listCurrentlyInactiveBuffs.contains_11rb$(e) || (i.managerClasses.applyConditionEffect_q0qzv0$(!0, a, e, h), r.getGuiUpdateControl().onConditionChanged_kvhkcm$(a, o, s)), l.divValue.innerHTML = h.toString(), r.autoSave(), n } } function Pst(t, e, i, a, r, o, s) { return function (l) { return t.listCurrentlyInactiveBuffs.contains_11rb$(e) ? t.listCurrentlyInactiveBuffs.remove_11rb$(e) : i.managerClasses.applyConditionEffect_q0qzv0$(!1, a, e, -1), t.hashMapActiveConditions.remove_11rb$(e), r.getGuiUpdateControl().onConditionChanged_kvhkcm$(a, o, s), r.autoSave(), n } } function Mst(t, e) { return function (i) { return t.showMessage_puj7f4$(e.name, e.fullDescription), n } } function Nst(t, e, i, a, r, o, s, l) { return function (c) { return t.checkBox.toggle(), t.checkBox.isChecked() ? (e.listCurrentlyInactiveBuffs.remove_11rb$(i), a.managerClasses.applyCustomBuff_hqcflu$(!0, r, o)) : (e.listCurrentlyInactiveBuffs.add_11rb$(i), a.managerClasses.applyCustomBuff_hqcflu$(!1, r, o)), s.getGuiUpdateControl().onCustomBuffChanged_nwzcgj$(r, l), s.autoSave(), n } } function Dst(t, e, i, a) { return function (r) { var o, s = null != (o = t.hashMapActiveCustomBuffs.get_11rb$(e)) ? o : 0; return s > 1 && (s = s - 1 | 0), t.hashMapActiveCustomBuffs.put_xwzc9p$(e, s), i.divValue.innerHTML = s.toString(), a.autoSave(), n } } function xst(t, e, i, a) { return function (r) { var o, s = null != (o = t.hashMapActiveCustomBuffs.get_11rb$(e)) ? o : 0; return s = s + 1 | 0, t.hashMapActiveCustomBuffs.put_xwzc9p$(e, s), i.divValue.innerHTML = s.toString(), a.autoSave(), n } } function zst(t, e, i, a, r, o, s) { return function (l) { return t.listCurrentlyInactiveBuffs.contains_11rb$(e) ? t.listCurrentlyInactiveBuffs.remove_11rb$(e) : i.managerClasses.applyCustomBuff_hqcflu$(!1, a, r), t.hashMapActiveCustomBuffs.remove_11rb$(e), o.getGuiUpdateControl().onCustomBuffChanged_nwzcgj$(a, s), o.autoSave(), n } } fst.prototype.completed = function () { this.this$DialogPetEquipment.currentSelection_0 = null, this.this$DialogPetEquipment.setInfoPanel_0(), this.this$DialogPetEquipment.setListView_0() }, fst.$metadata$ = { kind: p, interfaces: [yit] }, nst.$metadata$ = { kind: p, simpleName: "DialogPetEquipment", interfaces: [Iet] }, yst.prototype.getMinReq_0 = function () { var t, e = 100; for (t = this.dataControl.managerPets.hashMapSpecificFamiliars.values.iterator(); t.hasNext();) { var i = t.next(); i.req < e && (e = i.req) } return e }, yst.prototype.onAccept = function () { var t = this.edittextName_0.value; this.petData_0.setNickname_pdl1vj$(t), this.petData_0.setSwitchA_6taknv$(this.checkboxSwimmer_0.isChecked()), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, this.petReference), this.mainActivity.autoSave(), this.destroy() }, yst.$metadata$ = { kind: p, simpleName: "DialogPetFamiliar", interfaces: [wet] }, mst.prototype.onAccept = function () { if (null != this.currentSelection_0) { if (this.petData_0.getHashMapSelectedFamiliarAbilities().containsKey_11rb$(this.familiarAbilityRef)) { var t = this.petData_0.getHashMapSelectedFamiliarAbilities().get_11rb$(this.familiarAbilityRef); if (m(o(this.currentSelection_0).name, t)) return void this.destroy(); this.dataControl.managerPets.activateFamiliarAbility_f8hr8l$(!1, this.characterBuild, this.petCharacterBuild_0, o(t), this.familiarAbilityRef) } this.petData_0.getHashMapSelectedFamiliarAbilities().put_xwzc9p$(this.familiarAbilityRef, o(this.currentSelection_0).name), this.dataControl.managerPets.activateFamiliarAbility_f8hr8l$(!0, this.characterBuild, this.petCharacterBuild_0, o(this.currentSelection_0).name, this.familiarAbilityRef), this.mainActivity.getGuiUpdateControl().onFamiliarAbilityChanged_nwzcgj$(this.characterBuild, this.petReference), this.mainActivity.autoSave(), this.destroy() } }, mst.prototype.setListView_0 = function () { var t, e; this.divScrollable.innerHTML = "", this.divInfo.innerHTML = ""; var i = this.mainActivity.getDataControl().managerPets.getAllFamiliarAbilities_5btbp7$(this.characterBuild); this.listEligible_0 = this.mainActivity.getDataControl().managerPets.getListEligibleFamiliarAbilities_7bpcrd$(this.characterBuild, this.petCharacterBuild_0, this.familiarAbilityRef, i); var a, r = u(), s = u(); for (t = i.iterator(); t.hasNext();) { var l = t.next(); this.listEligible_0.contains_11rb$(l) ? r.add_11rb$(l) : s.add_11rb$(l) } for (r.addAll_brywnq$(s), e = r.iterator(); e.hasNext();) { var c = e.next(), p = o(this.dataControl.managerPets.hashMapFamiliarAbilities.get_11rb$(c)); this.listItems_0.add_11rb$(p), this.divScrollable.appendChild(this.getListViewItem_0(p)) } this.scrollToCurrentSelection_s8jyv4$(this.currentSelection_0), this.divScrollable.addEventListener("dblclick", (a = this, function (t) { return a.onAccept(), n })) }, mst.prototype.openPRD = function () { var t; null != this.currentSelection_0 && this.mainActivity.openBrowser_61zpoe$(null != (t = o(this.currentSelection_0).url) ? t : "") }, mst.prototype.onItemClicked_za3rmp$ = function (t) { var i; this.currentSelection_0 = e.isType(i = t, KY) ? i : d() }, mst.prototype.getListViewItem_0 = function (t) { var e, i = new Ylt(!1); i.setName_61zpoe$(t.name), i.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(t.src)) ? e : ""); var a = ""; return t.reqs.length > 0 && (a += "<b>Requirements</b> " + t.reqs + "<br>"), a += t.description, i.setDescription_61zpoe$(a), this.hashMapDivs.put_xwzc9p$(i, t), this.listEligible_0.contains_11rb$(t.name) || i.setIllegal(), i.div }, mst.$metadata$ = { kind: p, simpleName: "DialogPetFamiliarAbilities", interfaces: [Iet] }, $st.prototype.onAccept = function () { this.mainActivity.autoSave(), this.destroy() }, $st.prototype.setSkillList_0 = function () { var t, e; for (this.listItems_0.clear(), t = this.petCharacterBuild.listAllSkillProficiencies.iterator(); t.hasNext();) { var i = t.next(); this.listItems_0.add_11rb$(i) } for (Q(this.listItems_0), e = this.listItems_0.iterator(); e.hasNext();) { var a = e.next(), r = this.petCharacterBuild.getSkillProficiency_61zpoe$(a); this.table_0.appendChild(this.getSkillListView_0(r, a)) } }, $st.prototype.getSkillListView_0 = function (t, e) { var i = jlt().getP(); if (null != t) { var a = rK(this.dataControl, this.petCharacterBuild, t).totalBuffExcludingItem, r = a; BV().shouldApplySpellCastingBonus_e0dl4x$(this.petCharacterBuild, e) && (r = r + this.spellCastingMod_0 | 0), this.characterBuild.getCharacterData().isAddLevelToProficiency() && (r = r + this.characterBuild.getCharacterData().getCharacterLevel() | 0), i.innerHTML = e + " " + htt().getSignedValue_za3lpa$(r), htt().setColorBasedOnBuff_xlcra$(a, i) } return i }, $st.$metadata$ = { kind: p, simpleName: "DialogPetFamiliarSkills", interfaces: [Est] }, gst.prototype.onAccept = function () { try { var t = this.editTextTemp_0.value, i = V(this.editTextTemp_0.value); if (_(t, "-") || i < 0 || _(t, "+")) { var a = this.petData_0.getTemporaryHP() + i | 0; a < 0 && (a = 0), this.petData_0.setTemporaryHP_za3lpa$(a) } else this.petData_0.setTemporaryHP_za3lpa$(i); 0 === this.petData_0.getTemporaryHP() && this.petData_0.setTemporaryHPSource_pdl1vj$(null) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to process the number you entered for Temporary Hit Points!"); throw t } try { var r = this.editTextHP_0.value, n = V(this.editTextHP_0.value); if (_(r, "+") || _(r, "-") || n < 0) { var o = this.petData_0.getDamageTaken() - n | 0; o > this.maxHP_0 && (o = this.maxHP_0), o < 0 && (o = 0), this.petData_0.setDamageTaken_za3lpa$(o) } else n >= this.maxHP_0 ? this.petData_0.setDamageTaken_za3lpa$(0) : this.petData_0.setDamageTaken_za3lpa$(this.maxHP_0 - n | 0) } catch (t) { if (e.isType(t, l)) return void this.mainActivity.showMessage_61zpoe$("Unable to process the number you entered for Hit Points!"); throw t } this.mainActivity.getNavigationControl().tabbedAreaPets.updateAll(), this.mainActivity.autoSave(), this.destroy() }, gst.$metadata$ = { kind: p, simpleName: "DialogPetHP", interfaces: [wet] }, vst.prototype.onAccept = function () { this.mainActivity.autoSave(), this.destroy() }, vst.prototype.setSkillList_0 = function () { var t, e; for (this.listItems_0.clear(), t = this.petCharacterBuild.listAllSkillProficiencies.iterator(); t.hasNext();) { var i = t.next(); this.listItems_0.add_11rb$(i) } for (Q(this.listItems_0), e = this.listItems_0.iterator(); e.hasNext();) { var a = e.next(), r = this.petCharacterBuild.getSkillProficiency_61zpoe$(a); this.table_0.appendChild(this.getSkillListView_0(r, a)) } }, vst.prototype.getSkillListView_0 = function (t, e) { var i = new Fet(!1, !0); this.hashMapLayoutSkill_0.put_xwzc9p$(e, i), this.setValuesBasedOnProficiency_0(t, e); var a = this.hashMapRows_0, r = i.div; return a.put_xwzc9p$(r, e), i.div }, vst.prototype.setValuesBasedOnProficiency_0 = function (t, e) { var i = o(this.hashMapLayoutSkill_0.get_11rb$(e)); if (null != t) { var a = rK(this.dataControl, this.petCharacterBuild, t), r = a.totalBuffExcludingItem, n = a.getTypedBuff_za3lpa$(0), s = t.getProficiencyAtLevel_za3lpa$(this.level_0), l = pK().getFinalProficiencyTotalSkill_r1xdi3$(this.dataControl, this.petCharacterBuild, s, this.level_0), c = se().ARRAY_ABILITIES_SHORT[t.abilityRef], p = htt().getAbilityMod_za3lpa$(this.abilityScores_0[t.abilityRef]), h = l + p + n + 0 + r | 0; this.listSelectedSkills_0.contains_11rb$(e) ? i.setHighlighted_6taknv$(!0) : i.setHighlighted_6taknv$(!1), i.setProficiencyImage_za3lpa$(s), i.setProficiency_za3lpa$(l), i.setAbility_bm4lxs$(c, p), i.setItemBonus_za3lpa$(n), i.setName_61zpoe$(e + " " + htt().getSignedValue_za3lpa$(h)), htt().setColorBasedOnBuff_xlcra$(r, i.tdName) } }, vst.$metadata$ = { kind: p, simpleName: "DialogPetSkills", interfaces: [Est] }, Sst.prototype.addFundamentalButtons = function () { }, Sst.prototype.completeChanges = function () { var t = this.characterBuild.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_CONSTRUCT); if (null != t) if (1 === this.runeType) { if (null != this.currentSelection && null != this.playerWeapon) { var e = o(this.currentSelection).name; this.playerWeapon.getListPropertyRunes().add_11rb$(e), this.dataControl.managerWeapons.activateWeaponRune_kt1j5c$(!0, t, this.playerWeapon, e) } } else if (0 === this.runeType && null != this.currentSelection && null != this.playerArmor) { var i = o(this.currentSelection).name; this.playerArmor.getListPropertyRunes().add_11rb$(i), this.dataControl.managerEquipment.activateArmorRune_gg017k$(t, !0, i) } this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, XV().PET_REFERENCE_CONSTRUCT), this.mainActivity.autoSave(), this.destroy() }, Sst.$metadata$ = { kind: p, simpleName: "DialogRunesConstruct", interfaces: [cnt] }, Cst.prototype.addFundamentalButtons = function () { }, Cst.prototype.completeChanges = function () { var t = this.characterBuild.hashMapPetCharacterBuilds.get_11rb$(this.petReference); if (null != this.currentSelection && null != t) { var e = o(this.currentSelection).name; this.eidolonAttack_0.getListPropertyRunes().add_11rb$(e), this.dataControl.managerWeapons.activateWeaponRune_kt1j5c$(!0, t, this.eidolonAttack_0, e), this.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.characterBuild, this.petReference), this.mainActivity.autoSave() } this.destroy() }, Cst.$metadata$ = { kind: p, simpleName: "DialogRunesEidolon", interfaces: [cnt] }, Est.$metadata$ = { kind: p, simpleName: "PetDialogTemplate", interfaces: [wet] }, Ast.prototype.scrollToLevel_za3lpa$ = function (t) { var i; this.hashMapLayoutLevels_0.containsKey_11rb$(t) && (e.isType(i = this.hashMapLayoutLevels_0.get_11rb$(t), Qlt) ? i : d()).layoutLevel.scrollIntoView() }, Ast.prototype.scrollToTop = function () { this.rootView.scrollTo(0, 0) }, Ast.prototype.onCreate = function () { for (var t, i = 0; i <= 19; i++)this.hashMapFeatButtons_0[i] = c(), this.hashMapFeatChoices_0[i] = c(); var a, r = e.isType(t = document.getElementById("divTopButtons"), HTMLDivElement) ? t : d(); r.appendChild(this.buttonAncestry_0.buttonDiv), r.appendChild(this.buttonBackground_0.buttonDiv), r.appendChild(this.buttonClass_0.buttonDiv), r.appendChild(this.buttonDualClass_0.buttonDiv), this.buttonClass_0.buttonDiv.addEventListener("click", (a = this, function (t) { return a.mainActivity.openDialog_ip94j4$(new ret(a.mainActivity, a.dataControl, a.getCharacterBuild(), !1)), n })), this.buttonDualClass_0.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new ret(t.mainActivity, t.dataControl, t.getCharacterBuild(), !0)), n } }(this)), this.buttonAncestry_0.buttonDiv.style.marginTop = "0.5em", this.buttonAncestry_0.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new qtt(t.mainActivity, t.dataControl, t.getCharacterBuild())), n } }(this)), this.buttonBackground_0.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new Gtt(t.mainActivity, t.dataControl, t.getCharacterBuild(), -1)), n } }(this)), this.hashMapLayoutLevels_0 = c(); for (var s = 1; s <= 20; s++)this.addLevel_0(s); for (var l = 1; l <= 20; l++)this.setTrainedOnlySkills_za3lpa$(l); var p = this.hashMapLayoutLevels_0.get_11rb$(1); o(p).divCogs.appendChild(this.cogButtonStartingSkills_0.buttonDiv), this.cogButtonStartingSkills_0.setLabel_61zpoe$("Skill Training"), this.cogButtonStartingSkills_0.buttonDiv.addEventListener("click", function (t) { return function (e) { var i = t.dataControl.managerProficiencies.getNumStartingSkills_5btbp7$(t.getCharacterBuild()); return t.mainActivity.openDialog_ip94j4$(new vet(t.mainActivity, t.dataControl, t.getCharacterBuild(), 1, i)), n } }(this)), p.divCogs.appendChild(this.spanClassSkills_0), this.checkFeatEligibility_za3lpa$(1), this.updateAll() }, Ast.prototype.updateAll = function () { this.updateClassButton(), this.updateDualClassButton(), this.updateAncestryButton(), this.updateBackgroundButton(), this.setStartingAbilityBoostsRemaining(), this.setClassSkillChoiceButton(); for (var t = 1; t <= 20; t++)this.updateSkillChoicesRemaining_za3lpa$(t), this.updateBoostsRemaining_za3lpa$(t), this.setCustomAbilityIncreases_za3lpa$(t); this.checkFeatEligibility_za3lpa$(1) }, Ast.prototype.setAbilityBoostButton_0 = function (t, e) { if (1 === t) { var i = 4 - this.getCharacterData().getListAbilityBoosts_za3lpa$(1).size | 0; this.cogButtonStartingAbilities_0.setLabel_61zpoe$("Set Abilities"), this.cogButtonStartingAbilities_0.setRemaining_za3lpa$(i), this.cogButtonStartingAbilities_0.buttonDiv.addEventListener("click", (a = this, function (t) { return a.mainActivity.openDialog_ip94j4$(new tet(a.mainActivity, a.dataControl, a.getCharacterBuild())), n })), e.divCogs.appendChild(this.cogButtonStartingAbilities_0.buttonDiv) } var a }, Ast.prototype.updateBoostsStart = function () { var t = 4 - this.getCharacterBuild().getCharacterData().getListAbilityBoosts_za3lpa$(1).size | 0; this.cogButtonStartingAbilities_0.setRemaining_za3lpa$(t) }, Ast.prototype.updateBoostsRemaining_za3lpa$ = function (t) { var i, a, r, o = e.isType(i = this.hashMapLayoutLevels_0.get_11rb$(t), Qlt) ? i : d(); if (this.getCharacterBuild().listBoostLevels.contains_11rb$(t)) { o.divAbilityBoostCogs.innerHTML = ""; var s = new Slt; s.setLabel_61zpoe$("Ability Boosts"), o.divAbilityBoostCogs.appendChild(s.buttonDiv), s.buttonDiv.addEventListener("click", (a = this, r = t, function (t) { return a.mainActivity.openDialog_ip94j4$(new Ztt(a.mainActivity, a.dataControl, a.getCharacterBuild(), r)), n })); var l = 4; this.getCharacterData().isGradualAbilityBoost() && (l = 1); var c = l - this.getCharacterBuild().getCharacterData().getListAbilityBoosts_za3lpa$(t).size | 0; s.setRemaining_za3lpa$(c) } else o.divAbilityBoostCogs.innerHTML = "" }, Ast.prototype.setStartingAbilityBoostsRemaining = function () { var t = 4 - this.getCharacterData().getListAbilityBoosts_za3lpa$(1).size | 0; this.cogButtonStartingAbilities_0.setRemaining_za3lpa$(t) }, Ast.prototype.updateFreeFeatsAndSpecials_za3lpa$ = function (t) { if (this.hashMapLayoutLevels_0.containsKey_11rb$(t)) { var e = this.hashMapLayoutLevels_0.get_11rb$(t); null != e && Wlt().updateFreeFeatsAndSpecials_jt2pum$(this.mainActivity, this.dataControl, this.getCharacterBuild(), e.parentFree, e.parentOptions, t) } }, Ast.prototype.checkFeatEligibility_za3lpa$ = function (t) { for (var e, i, a = t; a <= 20; a++) { var r = null; if (null != this.hashMapFeatChoices_0[a - 1 | 0]) for (i = o(null != (e = this.hashMapFeatChoices_0[a - 1 | 0]) ? e.keys : null).iterator(); i.hasNext();) { var n = i.next(), s = o(this.hashMapFeatChoices_0[a - 1 | 0]).get_11rb$(n); if (o(s).level === a && !s.ignorePrerequisites && this.getCharacterData().hashMapFeatSelections.containsKey_11rb$(n)) { null == r && (r = new Ya(this.dataControl)).createSnapshot_vy76y1$(this.getCharacterBuild(), a); var l = o(this.getCharacterData().hashMapFeatSelections.get_11rb$(n)), c = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(l); if (null != c && o(this.hashMapFeatButtons_0[a - 1 | 0]).containsKey_11rb$(n)) { var p = this.dataControl.managerFeats.isLegalDedication_k1ysgf$(this.getCharacterBuild(), r, n, s, a), h = o(this.hashMapFeatButtons_0[a - 1 | 0]).get_11rb$(n); null != h && (this.dataControl.managerFeats.featPrereq.abstractCheck_4jy1nw$(this.getCharacterBuild(), r, s, n, a, l, c, p) ? h.setError_6taknv$(!0) : h.setError_6taknv$(!1)) } else console.log("FEAT WAS NULL FOR " + l) } } } }, Ast.prototype.setTrainedOnlySkills_za3lpa$ = function (t) { var e; if (this.hashMapLayoutLevels_0.containsKey_11rb$(t)) { var i = o(this.hashMapLayoutLevels_0.get_11rb$(t)); for (i.clearCurrentAdditionalCogs(), e = this.getCharacterBuild().hashMapTrainedOnlySkillChoices.keys.iterator(); e.hasNext();) { var a = e.next(); if (!m(a, pK().INCREASE_TYPE_STANDARD_SELECTION)) { var r = o(this.getCharacterBuild().hashMapTrainedOnlySkillChoices.get_11rb$(a)); if (r.level === t) { var n = new Slt; n.setLabel_61zpoe$(r.title), i.addAdditionalCog_pbo2j8$(n), n.buttonDiv.addEventListener("click", bst(this, t, a)); var s = r.numChoices, l = 0; this.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(a) && (l = o(this.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(a)).size); var c = s - l | 0; n.setRemaining_za3lpa$(c) } } } } }, Ast.prototype.setClassSkillChoiceButton = function () { var t, i, a, r; if (this.spanClassSkills_0.innerHTML = "", null == this.getCharacterData().getDualClass()) { var n = this.getCharacterBuild().getClassTemplate(); if (!n.listClassChoiceSkillTraining.isEmpty() || n.classFreeChoiceSkillTraining) { var c = new Slt; this.spanClassSkills_0.appendChild(c.buttonDiv), htt().setHidden_njr4nn$(c.buttonDiv, !0); var p = u(); if (n.classFreeChoiceSkillTraining) for (t = this.dataControl.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(this.getCharacterBuild()).iterator(); t.hasNext();) { var h = t.next(); this.getCharacterBuild().skillProficiencyExists_61zpoe$(h) && p.add_11rb$(h) } else p.addAll_brywnq$(n.listClassChoiceSkillTraining); this.setClassSkillButton_0(c, this.getCharacterData().getClassName(), !1, p, this.getCharacterData().getClassOptionalTrainedSkill()) } } else try { var _ = e.isType(i = this.getCharacterBuild().getClassTemplate(), Wn) ? i : d(); if (!o(_.mainClassListClassChoiceSkillTraining).isEmpty() || _.mainClassFreeChoiceSkillTraining) { var f = new Slt; this.spanClassSkills_0.appendChild(f.buttonDiv), htt().setHidden_njr4nn$(f.buttonDiv, !0); var y = u(); if (_.mainClassFreeChoiceSkillTraining) for (a = this.dataControl.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(this.getCharacterBuild()).iterator(); a.hasNext();) { var m = a.next(); this.getCharacterBuild().skillProficiencyExists_61zpoe$(m) && y.add_11rb$(m) } else y.addAll_brywnq$(o(_.mainClassListClassChoiceSkillTraining)); this.setClassSkillButton_0(f, this.getCharacterData().getClassName(), !1, y, this.getCharacterData().getClassOptionalTrainedSkill()) } if (!o(_.secondaryClassListClassChoiceSkillTraining).isEmpty() || _.secondaryClassFreeChoiceSkillTraining) { var $ = new Slt; htt().setHidden_njr4nn$($.buttonDiv, !0); var g = u(); if (_.secondaryClassFreeChoiceSkillTraining) for (r = this.dataControl.managerProficiencies.getAllSkillsAsArrayList_5btbp7$(this.getCharacterBuild()).iterator(); r.hasNext();) { var v = r.next(); this.getCharacterBuild().skillProficiencyExists_61zpoe$(v) && g.add_11rb$(v) } else g.addAll_brywnq$(o(_.secondaryClassListClassChoiceSkillTraining)); this.setClassSkillButton_0($, this.getCharacterData().getDualClass(), !0, g, this.getCharacterData().getClassDualOptionalTrainedSkill()) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Ast.prototype.setClassSkillButton_0 = function (t, e, i, a, r) { var o, s, l, c = "Class Skill"; (m(e, Sr().CLASS_CLERIC) || m(e, yr().CLASS_CHAMPION)) && (c = "Deity Skill"), t.setLabel_61zpoe$(c), null != r ? t.setRemaining_za3lpa$(0) : t.setRemaining_za3lpa$(1), t.buttonDiv.addEventListener("click", (o = this, s = i, l = a, function (t) { return o.mainActivity.openDialog_ip94j4$(new Set(o.mainActivity, o.dataControl, o.getCharacterBuild(), s, l)), n })) }, Ast.prototype.updateAllSkillChoicesRemainingStartingFrom_za3lpa$ = function (t) { for (var e = t; e <= 20; e++)this.updateSkillChoicesRemaining_za3lpa$(e) }, Ast.prototype.updateSkillChoicesRemaining_za3lpa$ = function (t) { if (this.hashMapLayoutLevels_0.containsKey_11rb$(t)) if (1 !== t) { var e = this.dataControl.managerProficiencies.getTotalSkillIncreasesAtLevel_vy76y1$(this.getCharacterBuild(), t), i = this.dataControl.managerProficiencies.getUsedSkillIncreasesAtLevel_vy76y1$(this.getCharacterBuild(), t), a = o(this.hashMapLayoutLevels_0.get_11rb$(t)); if (e > 0 || i > 0) { a.buttonSkillTraining.buttonDiv.classList.remove(B9().CSS_HIDDEN); var r = e - i | 0; a.buttonSkillTraining.setRemaining_za3lpa$(r) } else a.buttonSkillTraining.buttonDiv.classList.contains(B9().CSS_HIDDEN) || (a.buttonSkillTraining.setRemaining_za3lpa$(99), a.buttonSkillTraining.buttonDiv.classList.add(B9().CSS_HIDDEN)) } else { var n = this.dataControl.managerProficiencies.getNumStartingSkills_5btbp7$(this.getCharacterBuild()), s = 0; this.getCharacterData().hashMapTrainedOnlySkillChoices.containsKey_11rb$(pK().INCREASE_TYPE_STANDARD_SELECTION) && (s = o(this.getCharacterData().hashMapTrainedOnlySkillChoices.get_11rb$(pK().INCREASE_TYPE_STANDARD_SELECTION)).size); var l = n - s | 0; this.cogButtonStartingSkills_0.setRemaining_za3lpa$(l) } }, Ast.prototype.setCustomAbilityIncreases_za3lpa$ = function (t) { var e; if (this.hashMapLayoutLevels_0.containsKey_11rb$(t)) { var i = this.hashMapLayoutLevels_0.get_11rb$(t), a = "Custom Ability Increase: "; if (this.getCharacterData().hashMapCustomAbilityIncreases.containsKey_11rb$(t)) { if (null == (e = this.getCharacterData().hashMapCustomAbilityIncreases.get_11rb$(t))) return; for (var r = e, n = !1, o = 0; o <= 5; o++)0 !== r[o] && (n = !0, a.length > 0 && (a += " "), a += se().ARRAY_ABILITIES_SHORT[o] + " " + htt().getSignedValue_za3lpa$(r[o])); n || (a = ""), null != i && i.setCustomAbilityIncreaseText_61zpoe$(a) } else null != i && i.setCustomAbilityIncreaseText_61zpoe$("") } }, Ast.prototype.updateClassButton = function () { this.buttonClass_0.selection.innerHTML = this.getCharacterData().getClassName(), this.mainActivity.setNameLevel() }, Ast.prototype.updateDualClassButton = function () { var t; null == this.getCharacterData().getDualClass() ? htt().setHidden_njr4nn$(this.buttonDualClass_0.buttonDiv, !1) : (htt().setHidden_njr4nn$(this.buttonDualClass_0.buttonDiv, !0), this.buttonDualClass_0.selection.innerHTML = null != (t = this.getCharacterData().getDualClass()) ? t : "Not Selected") }, Ast.prototype.updateBackgroundButton = function () { var t, e; this.buttonBackground_0.selection.innerHTML = null != (e = null != (t = this.dataControl.managerBackgrounds.getBackground_5btbp7$(this.getCharacterBuild())) ? t.name : null) ? e : "Not Selected" }, Ast.prototype.updateAncestryButton = function () { this.buttonAncestry_0.selection.innerHTML = this.getCharacterData().getAncestry() }, Ast.prototype.addLevel_0 = function (t) { var e, i, a = tct(t); this.layoutParent_0.appendChild(a.layoutLevel), this.hashMapLayoutLevels_0.put_xwzc9p$(t, a), a.buttonSkillTraining.buttonDiv.addEventListener("click", (e = this, i = t, function (t) { var a = e.dataControl.managerProficiencies.getTotalSkillIncreasesAtLevel_vy76y1$(e.getCharacterBuild(), i); return e.mainActivity.openDialog_ip94j4$(new vet(e.mainActivity, e.dataControl, e.getCharacterBuild(), i, a)), n })), t > 1 ? a.header.innerText = "Level " + t : a.header.style.display = "hidden", this.setFeats_za3lpa$(t), this.updateSkillChoicesRemaining_za3lpa$(t), this.updateFreeFeatsAndSpecials_za3lpa$(t), this.setAbilityBoostButton_0(t, a) }, Ast.prototype.setFeats_za3lpa$ = function (t) { var e; if (this.hashMapLayoutLevels_0.containsKey_11rb$(t)) { var i = this.hashMapLayoutLevels_0.get_11rb$(t); if (null != i) for (i.parentFeats.innerHTML = "", o(this.hashMapFeatButtons_0[t - 1 | 0]).clear(), o(this.hashMapFeatChoices_0[t - 1 | 0]).clear(), e = o(this.getCharacterBuild().getFeatChoicesAtLevel_za3lpa$(t)).keys.iterator(); e.hasNext();) { var a = e.next(), r = o(this.getCharacterBuild().getFeatChoicesAtLevel_za3lpa$(t)).get_11rb$(a); null != r && (this.addFeatButton_0(o(i).parentFeats, t, 0, r, a), this.addChildFeatChoice_0(o(i).parentFeats, t, r, 0)) } else console.log("layout level " + t + " was null") } else console.log("level hashmap did not contain " + t) }, Ast.prototype.addChildFeatChoice_0 = function (t, e, i, a) { var r; for (r = o(i).hashMapChildFeatChoices.keys.iterator(); r.hasNext();) { var n = r.next(), s = i.hashMapChildFeatChoices.get_11rb$(n); null != s && null != n && (this.addFeatButton_0(t, e, a + 1 | 0, s, n), this.addChildFeatChoice_0(t, e, s, a + 1 | 0)) } }, Ast.prototype.addFeatButton_0 = function (t, e, i, a, r) { var s, l, c, p, h = new Clt(this.dataControl, this.getCharacterBuild(), a, r, i); o(this.hashMapFeatButtons_0[e - 1 | 0]).put_xwzc9p$(r, h), o(this.hashMapFeatChoices_0[e - 1 | 0]).put_xwzc9p$(r, a), t.appendChild(h.buttonDiv), h.buttonDiv.addEventListener("click", (s = this, l = e, c = r, p = a, function (t) { return s.mainActivity.openDialog_ip94j4$(new oet(s.mainActivity, s.dataControl, s.getCharacterBuild(), l, c, p)), n })), this.updateFeatText_vqvrqt$(e, r) }, Ast.prototype.updateFeatText_vqvrqt$ = function (t, i) { try { if (o(this.hashMapFeatButtons_0[t - 1 | 0]).containsKey_11rb$(o(i))) { var a = o(o(this.hashMapFeatButtons_0[t - 1 | 0]).get_11rb$(i)); if (this.getCharacterData().hashMapFeatSelections.containsKey_11rb$(i)) { var r = this.getCharacterData().hashMapFeatSelections.get_11rb$(i), n = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(r); if (null != n) { var c = n.name; this.getCharacterData().hashMapFeatExtraSelections.containsKey_11rb$(i) && (c += " (" + j(this.getCharacterData().hashMapFeatExtraSelections.get_11rb$(i)) + ")"), a.setAction_za3lpa$(n.action), a.selection.innerHTML = c, a.selection.classList.remove(B9().CSS_RED_TEXT) } } else a.setAction_za3lpa$(-2), a.selection.innerHTML = se().NOT_SELECTED, a.selection.classList.add(B9().CSS_RED_TEXT) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Ast.$metadata$ = { kind: p, simpleName: "FragmentBuild", interfaces: [ylt] }, wst.prototype.updateConditionsAndBuffs_aqq2df$ = function (t, i, a, r, n, o) { var c, p, h, d, u, _ = 0; for (c = n.hashMapActiveConditions.keys.iterator(); c.hasNext();) { var f = c.next(), y = null != (p = n.hashMapActiveConditions.get_11rb$(f)) ? p : 0; try { var m = null != (h = i.managerClasses.conditionInformationSet.hashMap.get_11rb$(f)) ? h : new Ql, $ = new qst; o.get_za3lpa$(_).appendChild($.div), (_ = _ + 1 | 0) === o.size && (_ = 0), $.textName.addEventListener("click", Lst(t, f, m)), $.setName_61zpoe$(f), $.setDescription_61zpoe$(m.description), $.checkBox.div.addEventListener("click", Tst($, n, f, i, r, t, a, m)), $.checkBox.setChecked_6taknv$(!n.listCurrentlyInactiveBuffs.contains_11rb$(f)), m.value ? ($.divValue.innerHTML = y.toString(), $.buttonLess.addEventListener("click", kst(n, f, $, i, r, t, a, m)), $.buttonMore.addEventListener("click", Rst(n, f, i, r, t, a, m, $))) : (htt().setInvisible_njr4nn$($.divValue, !1), htt().setInvisible_njr4nn$($.buttonLess, !1), htt().setInvisible_njr4nn$($.buttonMore, !1)), $.buttonClear.addEventListener("click", Pst(n, f, i, r, t, a, m)) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } for (d = n.hashMapActiveCustomBuffs.keys.iterator(); d.hasNext();) { var g = d.next(), v = null != (u = n.hashMapActiveCustomBuffs.get_11rb$(g)) ? u : 0; try { var S = i.managerClasses.customBuffSet.hashMap.get_11rb$(g); if (null != S) { var C = new qst; o.get_za3lpa$(_).appendChild(C.div), (_ = _ + 1 | 0) === o.size && (_ = 0), C.setName_61zpoe$(S.name), C.setDescription_61zpoe$(S.fullDescription), C.textName.addEventListener("click", Mst(t, S)), C.checkBox.setChecked_6taknv$(!n.listCurrentlyInactiveBuffs.contains_11rb$(g)), C.checkBox.div.addEventListener("click", Nst(C, n, g, i, r, S, t, a)), C.divValue.innerHTML = v.toString(), C.buttonLess.addEventListener("click", Dst(n, g, C, t)), C.buttonMore.addEventListener("click", xst(n, g, C, t)), C.buttonClear.addEventListener("click", zst(n, g, i, r, S, t, a)) } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } }, wst.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Ost = null; function Fst() { return null === Ost && new wst, Ost } function Bst(t, e, i) { this.mainActivity_0 = t, this.dataControl_0 = e, this.progressBarHP_0 = jlt().getDiv(), this.progressBarTemp_0 = jlt().getDiv(), this.hpText_0 = jlt().getDiv(); var a, r = jlt().getDiv(); i.appendChild(r), r.classList.add("progress-bar-container"), r.appendChild(this.progressBarTemp_0), r.appendChild(this.progressBarHP_0), this.hpText_0.classList.add("progress-bar-text"), r.appendChild(this.hpText_0), this.progressBarHP_0.classList.add("progress-bar"), this.progressBarHP_0.classList.add("progress-bar-red"), this.progressBarTemp_0.classList.add("progress-bar"), this.progressBarTemp_0.classList.add("progress-bar-green"), r.addEventListener("click", (a = this, function (t) { return a.mainActivity_0.openDialog_ip94j4$(new Kat(a.mainActivity_0, a.dataControl_0, a.getCharacterBuild_0())), n })), this.updateHP() } function jst() { } function Hst() { this.div = jlt().getDiv(), this.imageTraining = jlt().getImg(), this.textName = jlt().getDiv(), this.textLevel = jlt().getDiv(), this.textItemBonus = jlt().getDiv(), this.textDexCap = jlt().getDiv(), this.divTraits = jlt().getDiv(), this.layoutProficiency = new Fet(!1, !0), this.divRunes = jlt().getDiv(), this.buttonChange_0 = Dlt("Change"), this.buttonInfo_0 = Dlt("Options"), this.buttonRunes_0 = Dlt("Runes"), this.buttonStow_0 = Dlt("Stow"), this.divMods = jlt().getDiv(); var t = jlt().getDiv(); this.div.appendChild(t), this.buttonInfo_0.buttonDiv.classList.add("weapon-button"), this.buttonRunes_0.buttonDiv.classList.add("weapon-button"), this.buttonStow_0.buttonDiv.classList.add("weapon-button"), this.buttonChange_0.buttonDiv.classList.add("weapon-button"), this.buttonInfo_0.buttonDiv.id = "button-info", this.buttonRunes_0.buttonDiv.id = "button-runes", this.buttonStow_0.buttonDiv.id = "button-stow", this.buttonChange_0.buttonDiv.id = "button-change", t.appendChild(this.buttonChange_0.buttonDiv), t.appendChild(this.buttonInfo_0.buttonDiv), t.appendChild(this.buttonRunes_0.buttonDiv), t.appendChild(this.buttonStow_0.buttonDiv), t.style.display = "flex", t.style.marginBottom = "0.8em"; var e = jlt().getDiv(); this.imageTraining.style.verticalAlign = "middle", e.appendChild(this.imageTraining), this.imageTraining.style.marginRight = "0.5em", e.style.verticalAlign = "middle", this.textName.classList.add("weapon-name"), e.appendChild(this.textName); var i = jlt().getImg(); i.style.verticalAlign = "middle", i.src = "img/icon_ac_small.png", e.appendChild(i), this.textItemBonus.style.width = "7em", this.textItemBonus.style.display = "inline-block", this.textItemBonus.style.verticalAlign = "middle", e.appendChild(this.textItemBonus); var a = jlt().getImg(); a.style.verticalAlign = "middle", a.src = "img/icon_dex_cap.png", e.appendChild(a), this.textDexCap.style.display = "inline-block", this.textDexCap.style.verticalAlign = "middle", e.appendChild(this.textDexCap), this.div.appendChild(e), this.divTraits.classList.add("weapon-traits"), this.div.appendChild(this.divTraits), this.divRunes.style.marginTop = "0.3em", this.div.appendChild(this.divRunes), this.div.appendChild(this.divMods) } function qst() { this.div = jlt().getDiv(), this.divTop_0 = jlt().getDiv(), this.divBottom_0 = jlt().getDiv(), this.checkBox = new Let, this.textName = jlt().getSpan(), this.buttonClear = jlt().getDiv(), this.buttonLess = jlt().getDiv(), this.divValue = jlt().getSpan(), this.buttonMore = jlt().getDiv(), this.div.appendChild(this.divTop_0), this.divTop_0.classList.add("condition"), this.divTop_0.appendChild(this.checkBox.div), this.textName.classList.add("condition-name"), this.divTop_0.appendChild(this.textName), this.buttonClear.innerHTML = "X", this.buttonClear.classList.add("condition-button"), this.buttonClear.classList.add("div-button-simple"), this.divTop_0.appendChild(this.buttonClear), this.buttonLess.classList.add("div-button-simple"), this.buttonLess.classList.add("condition-button"), this.buttonLess.innerHTML = "-", this.divTop_0.appendChild(this.buttonLess), this.divTop_0.appendChild(this.divValue), this.divValue.classList.add("condition-button"), this.buttonMore.classList.add("div-button-simple"), this.buttonMore.classList.add("condition-button"), this.buttonMore.innerHTML = "+", this.divTop_0.appendChild(this.buttonMore), this.divBottom_0.classList.add(B9().CSS_SMALL_TEXT), htt().setHidden_njr4nn$(this.divBottom_0, !1), this.div.appendChild(this.divBottom_0) } function Ust() { this.div = jlt().getDiv(), this.textName = jlt().getDiv(), this.textLevel = jlt().getDiv(), this.divTraits = jlt().getDiv(), this.textAC = jlt().getDiv(), this.textHP = jlt().getDiv(), this.textHard = jlt().getDiv(), this.textActions = jlt().getDiv(), this.buttonChange = Dlt("Change"), this.buttonInfo = Dlt("Info"), this.buttonRemove = Dlt("Remove"), this.buttonStow = Dlt("Stow"), this.buttonRunes = Dlt("Runes"), this.divShieldDetails = jlt().getDiv(), this.divRunes = jlt().getDiv(); var t = jlt().getDiv(); this.div.appendChild(t), this.buttonChange.buttonDiv.classList.add("weapon-button"), this.buttonInfo.buttonDiv.classList.add("weapon-button"), this.buttonRemove.buttonDiv.classList.add("weapon-button"), this.buttonStow.buttonDiv.classList.add("weapon-button"), this.buttonRunes.buttonDiv.classList.add("weapon-button"), this.buttonChange.buttonDiv.id = "button-change", this.buttonInfo.buttonDiv.id = "button-info", this.buttonStow.buttonDiv.id = "button-stow", this.buttonRemove.buttonDiv.id = "button-remove", this.buttonRunes.buttonDiv.id = "button-runes", t.appendChild(this.buttonChange.buttonDiv), t.appendChild(this.buttonInfo.buttonDiv), t.appendChild(this.buttonRemove.buttonDiv), t.appendChild(this.buttonStow.buttonDiv), t.appendChild(this.buttonRunes.buttonDiv), t.style.display = "flex", t.style.marginBottom = "0.8em"; var e = jlt().getDiv(); e.style.verticalAlign = "middle", this.textName.classList.add("weapon-name"), this.textName.style.width = "22em", e.appendChild(this.textName), this.divShieldDetails.style.display = "inline-block", this.divShieldDetails.style.verticalAlign = "middle", e.appendChild(this.divShieldDetails); var i = jlt().getImg(); i.style.verticalAlign = "middle", i.src = "img/icon_shield.png", this.divShieldDetails.appendChild(i), this.textAC.style.width = "6.5em", this.textAC.style.display = "inline-block", this.textAC.style.verticalAlign = "middle", this.divShieldDetails.appendChild(this.textAC); var a = jlt().getImg(); a.style.marginLeft = "1em", a.style.verticalAlign = "middle", a.src = "img/icon_shield_hardness.png", this.divShieldDetails.appendChild(a), this.textHard.style.display = "inline-block", this.textHard.style.verticalAlign = "middle", this.divShieldDetails.appendChild(this.textHard); var r = jlt().getImg(); r.style.marginLeft = "1em", r.style.verticalAlign = "middle", r.src = "img/icon_shield_health.png", this.divShieldDetails.appendChild(r), this.textHP.style.display = "inline-block", this.textHP.style.verticalAlign = "middle", this.divShieldDetails.appendChild(this.textHP), this.div.appendChild(e), this.divTraits.style.paddingBottom = "0.3em", this.divTraits.classList.add("weapon-traits"), this.div.appendChild(this.divTraits), this.divRunes.style.marginTop = "0.3em", this.div.appendChild(this.divRunes) } function Gst() { this.progressBarHP_0 = jlt().getDiv(), this.hpText = jlt().getDiv(), this.divButton = jlt().getDiv(), this.divButton.style.cursor = "pointer", this.divButton.classList.add("button-text"), this.divButton.style.marginBottom = "0.5em", this.divButton.style.marginRight = "0.3em"; var t = jlt().getDiv(); t.classList.add("progress-bar-container"), this.divButton.appendChild(t), t.appendChild(this.progressBarHP_0), this.hpText.classList.add("progress-bar-text"), t.appendChild(this.hpText), this.progressBarHP_0.classList.add("progress-bar"), this.progressBarHP_0.classList.add("progress-bar-red") } function Wst(t, e, i) { this.mainActivity_0 = t, this.dataControl_0 = e, this.progressBarStamina_0 = jlt().getDiv(), this.progressBarHP_0 = jlt().getDiv(), this.progressBarTemp_0 = jlt().getDiv(), this.hpText_0 = jlt().getDiv(), this.staminaText_0 = jlt().getDiv(), i.style.display = "flex"; var a = jlt().getDiv(); a.style.flex = "1", a.style.marginRight = "0.3em", i.appendChild(a), a.classList.add("progress-bar-container"), a.appendChild(this.progressBarTemp_0), a.appendChild(this.progressBarHP_0), this.hpText_0.classList.add("progress-bar-text"), a.appendChild(this.hpText_0), this.progressBarHP_0.classList.add("progress-bar"), this.progressBarHP_0.classList.add("progress-bar-red"), this.progressBarTemp_0.classList.add("progress-bar"), this.progressBarTemp_0.classList.add("progress-bar-green"); var r, o = jlt().getDiv(); o.style.flex = "1", o.style.marginLeft = "0.3em", i.appendChild(o), o.classList.add("progress-bar-container"), o.appendChild(this.progressBarStamina_0), this.staminaText_0.classList.add("progress-bar-text"), o.appendChild(this.staminaText_0), this.progressBarStamina_0.classList.add("progress-bar"), this.progressBarStamina_0.classList.add("progress-bar-stamina"), a.addEventListener("click", (r = this, function (t) { return r.mainActivity_0.openDialog_ip94j4$(new Kat(r.mainActivity_0, r.dataControl_0, r.getCharacterBuild_0())), n })), o.addEventListener("click", function (t) { return function (e) { return t.mainActivity_0.openDialog_ip94j4$(new cot(t.mainActivity_0, t.dataControl_0, t.getCharacterBuild_0())), n } }(this)), this.updateHP() } function Yst() { this.div = jlt().getDiv(), this.textName = jlt().getDiv(), this.textBulk = jlt().getDiv(), this.buttonEditContainer = Dlt("Edit"), this.divParent = jlt().getDiv(), this.textName.classList.add("subtitle"), this.textName.style.marginBottom = "1em", this.div.appendChild(this.textName), this.div.appendChild(this.divParent); var t = jlt().getDiv(); t.style.display = "flex", t.style.alignItems = "center", t.style.marginTop = "1em", this.div.appendChild(t); var e = jlt().getDiv(); e.style.flex = "1", t.appendChild(e), this.textBulk.style.width = "5em", t.appendChild(this.textBulk), this.buttonEditContainer.buttonDiv.style.width = "5em", t.appendChild(this.buttonEditContainer.buttonDiv) } function Vst() { this.div = jlt().getDiv(), this.buttonRemove = Dlt("Remove"), this.title = jlt().getSpan(); var t = jlt().getDiv(); this.buttonRemove.buttonDiv.style.display = "inline-block", this.div.appendChild(this.buttonRemove.buttonDiv), this.div.appendChild(t), this.div.style.marginTop = "0.3em", this.div.style.display = "flex", this.div.style.alignItems = "center", this.title.classList.add("button-text"), this.title.classList.add("listview-title"), this.title.style.flex = "1", this.title.style.marginLeft = "0.3em", this.div.appendChild(this.title) } function Kst() { this.div = jlt().getDiv(), this.textQty_0 = jlt().getSpan(), this.buttonLess = Dlt("-"), this.buttonMore = Dlt("+"), this.title = jlt().getDiv(), this.checkboxInvest = new Met("I"), this.div.style.display = "flex", this.div.style.alignItems = "center", this.div.style.marginTop = "0.3em", this.div.setAttribute("draggable", "true"), htt().setHidden_njr4nn$(this.checkboxInvest.divWithLabel, !1), this.buttonLess.buttonDiv.style.display = "inline-block", this.buttonMore.buttonDiv.style.display = "inline-block", this.buttonLess.buttonDiv.style.width = "1.5em", this.buttonMore.buttonDiv.style.width = "1.5em", this.buttonLess.buttonDiv.style.fontWeight = "bold", this.buttonMore.buttonDiv.style.fontWeight = "bold", this.textQty_0.style.width = "3em", this.div.appendChild(this.buttonLess.buttonDiv), this.textQty_0.style.marginLeft = "0.3em", this.textQty_0.style.marginRight = "0.3em", this.div.appendChild(this.textQty_0), this.div.appendChild(this.buttonMore.buttonDiv), this.title.style.flex = "1", this.title.style.marginLeft = "0.3em", this.title.style.display = "inline-block", this.div.appendChild(this.title), this.title.classList.add("button-text"), this.title.classList.add("listview-title") } function Xst(t, e) { this.playerWeapon_0 = e, this.div = jlt().getDiv(), this.textName = jlt().getDiv(), this.textLevel_0 = jlt().getDiv(), this.divTraits_0 = jlt().getDiv(), this.imageWeaponTraining = jlt().getImg(), this.textHitTotal = jlt().getDiv(), this.imgDice = jlt().getImg(), this.textDamage = jlt().getSpan(), this.divBottom_0 = jlt().getDiv(), this.buttonUp = jlt().getImg(), this.buttonDown = jlt().getImg(), this.divPrecision = jlt().getDiv(), this.divRunes_0 = jlt().getDiv(), this.divMaterial_0 = jlt().getDiv(), this.weaponDescription_0 = jlt().getDiv(), this.buttonRoll = new Plt, this.buttonInfo_0 = Dlt("Options"), this.buttonRunes_0 = Dlt("Runes"), this.buttonStow_0 = Dlt("Stow"), this.buttonDelete_0 = Dlt("Delete"), this.divMods_0 = jlt().getDiv(), this.div.classList.add("weapon-container"), this.imageWeaponTraining.style.verticalAlign = "middle"; var i = jlt().getImg(); i.style.verticalAlign = "middle", i.src = "img/icon_d20.png?v=dm-1", i.classList.add("icon-dice"), i.style.verticalAlign = "middle", this.div.classList.add("layout-tabbed-line"); var a = jlt().getDiv(); this.div.appendChild(a), t.showDiceRollers && a.appendChild(this.buttonRoll.buttonDiv), this.buttonInfo_0.buttonDiv.classList.add("weapon-button"), this.buttonRunes_0.buttonDiv.classList.add("weapon-button"), this.buttonStow_0.buttonDiv.classList.add("weapon-button"), this.buttonDelete_0.buttonDiv.classList.add("weapon-button"), this.buttonInfo_0.buttonDiv.id = "button-info", this.buttonRunes_0.buttonDiv.id = "button-runes", this.buttonStow_0.buttonDiv.id = "button-stow", this.buttonDelete_0.buttonDiv.id = "button-delete", a.appendChild(this.buttonInfo_0.buttonDiv), a.appendChild(this.buttonRunes_0.buttonDiv), a.appendChild(this.buttonStow_0.buttonDiv), a.appendChild(this.buttonDelete_0.buttonDiv), a.style.display = "flex", a.style.marginBottom = "0.8em"; var r = jlt().getDiv(); a.appendChild(r), r.style.flex = "1"; var n = jlt().getDiv(); this.buttonUp.id = "button-up", this.buttonDown.id = "button-down", this.buttonDown.style.cursor = "pointer", n.style.display = "inline-block", a.appendChild(n), this.buttonUp.src = "img/icon_arrow_up.png", this.buttonUp.style.cursor = "pointer", this.buttonUp.style.marginRight = "0.5em", n.appendChild(this.buttonUp), this.buttonDown.src = "img/icon_arrow_down.png", n.appendChild(this.buttonDown); var o = jlt().getDiv(); this.div.appendChild(o), o.appendChild(this.imageWeaponTraining), this.textName.style.marginLeft = "1em", this.textName.classList.add("weapon-name"), o.appendChild(this.textName); var s = jlt().getDiv(); o.appendChild(s), s.style.display = "inline-block", s.classList.add("tooltip"), this.textHitTotal.classList.add("weapon-hit"), s.appendChild(i), s.appendChild(this.textHitTotal); var l = jlt().getDiv(); l.classList.add("tooltip"), l.style.display = "inline-block", o.appendChild(l), this.imgDice.style.verticalAlign = "middle", l.appendChild(this.imgDice), l.appendChild(this.textDamage), this.divTraits_0.classList.add("weapon-traits"), this.div.appendChild(this.divTraits_0), this.divBottom_0.style.marginTop = "0.5em", this.div.appendChild(this.divBottom_0), this.divRunes_0.style.display = "inline-block", this.divBottom_0.appendChild(this.divRunes_0), this.divMaterial_0.style.display = "inline-block", this.divBottom_0.appendChild(this.divMaterial_0), this.div.appendChild(this.divMods_0), this.divPrecision.style.marginTop = "0.5em", this.divPrecision.style.marginLeft = "0.2em", this.div.appendChild(this.divPrecision) } function Jst(t, e, i, a, r) { return function (o) { return t.toggle(), t.isChecked() ? e.playerWeapon_0.listEnabledPrecisionKeys.contains_11rb$(i) || e.playerWeapon_0.listEnabledPrecisionKeys.add_11rb$(i) : e.playerWeapon_0.listEnabledPrecisionKeys.remove_11rb$(i), a.getGuiUpdateControl().onWeaponAdded_21ghvs$(r, e.playerWeapon_0), n } } function Zst(t, e, i, a, r) { return function (o) { return t.toggle(), t.isChecked() ? e.playerWeapon_0.listEnabledPrecisionKeys.contains_11rb$(i) || e.playerWeapon_0.listEnabledPrecisionKeys.add_11rb$(i) : e.playerWeapon_0.listEnabledPrecisionKeys.remove_11rb$(i), a.getGuiUpdateControl().onWeaponAdded_21ghvs$(r, e.playerWeapon_0), n } } function Qst(t, e, i) { this.mainActivity = t, this.dataControl = e, this.divAlchemyParent_0 = jlt().getDiv() } function tlt(t, e, i, a, r, n) { this.closure$alchemicalCaster = t, this.closure$layoutAlchemicalCaster = e, this.closure$formulaName = i, this.closure$layoutFormula = a, this.closure$adjustment = r, this.this$FragmentSpellsAlchemy = n } function elt(t, e) { this.mainActivity = t, this.dataControl = e, this.divClassDC_0 = jlt().getDiv(), this.divParentPowers_0 = jlt().getDiv(), this.divFocusPoints_0 = jlt().getDiv(), this.arrayFocusImg_0 = [jlt().getImg(), jlt().getImg(), jlt().getImg()], this.arrayFocusImg_0[0].classList.add("icon-spell-slot"), this.arrayFocusImg_0[1].classList.add("icon-spell-slot"), this.arrayFocusImg_0[2].classList.add("icon-spell-slot"), this.setFocusPointControls_0() } function ilt(t, e) { return function (i) { var a = t.dataControl.managerSpells.getMaxFocusPoints_5btbp7$(t.getCharacterBuild_0()) - t.getCharacterData_0().getSpentSpellPoints() | 0; return e >= a ? t.getCharacterData_0().adjustSpentSpellPoints_za3lpa$(-1) : t.getCharacterData_0().adjustSpentSpellPoints_za3lpa$(1), t.updateSpellPoints_0(), t.mainActivity.autoSave(), n } } function alt() { this.div = jlt().getDiv(), this.title = jlt().getDiv(), this.textMaxInfusions = jlt().getSpan(), this.textCurrentInfusions = jlt().getSpan(), this.divInfusedReagents = jlt().getDiv(), this.buttonLess = Dlt("-"), this.buttonMore = Dlt("+"), this.buttonAddFormula = Dlt("Add Formula"), this.divParentForumula = jlt().getDiv(), this.buttonPrint = Dlt("Print"); var t = jlt().getDiv(); t.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.div.appendChild(t); var e = jlt().getDiv(); e.classList.add("centered-div-holder"), t.appendChild(e), e.appendChild(this.title), (e = jlt().getDiv()).style.marginTop = "1em", e.classList.add("centered-div-holder"), t.appendChild(e), this.buttonAddFormula.buttonDiv.style.width = "14em", this.buttonAddFormula.buttonDiv.style.display = "inline-block", e.appendChild(this.buttonAddFormula.buttonDiv), this.buttonPrint.buttonDiv.style.width = "14em", this.buttonPrint.buttonDiv.style.display = "inline-block", e.appendChild(this.buttonPrint.buttonDiv), this.divInfusedReagents.style.margin = "0.5em", this.divInfusedReagents.style.alignItems = "center", this.divInfusedReagents.style.display = "flex", this.divInfusedReagents.style.marginBottom = "0.5em", t.appendChild(this.divInfusedReagents), this.buttonLess.buttonDiv.style.display = "inline-block", this.buttonMore.buttonDiv.style.display = "inline-block", this.buttonLess.buttonDiv.style.width = "1.5em", this.buttonMore.buttonDiv.style.width = "1.5em", this.buttonLess.buttonDiv.style.fontWeight = "bold", this.buttonMore.buttonDiv.style.fontWeight = "bold", this.buttonLess.buttonDiv.style.marginLeft = "2em", this.textMaxInfusions.style.flex = "1", this.textCurrentInfusions.style.marginLeft = "0.3em", this.textCurrentInfusions.style.marginRight = "0.3em", this.divInfusedReagents.appendChild(this.textMaxInfusions), this.divInfusedReagents.appendChild(this.buttonLess.buttonDiv), this.divInfusedReagents.appendChild(this.textCurrentInfusions), this.divInfusedReagents.appendChild(this.buttonMore.buttonDiv), this.div.appendChild(this.divParentForumula) } function rlt() { this.div = jlt().getDiv(), this.title = jlt().getDiv(), this.buttonLess = Dlt("-"), this.buttonMore = Dlt("+"), this.buttonAdvanced = Dlt("Adv."), this.buttonQuick = Dlt("Qck."), this.textQty = jlt().getSpan(), this.spacer = jlt().getSpan(), this.div.style.display = "flex", this.div.style.alignItems = "center", this.div.style.marginTop = "0.3em", this.title.classList.add("button-text"), this.title.classList.add("listview-title"), this.buttonQuick.buttonDiv.style.display = "inline-block", this.div.appendChild(this.buttonQuick.buttonDiv), this.buttonAdvanced.buttonDiv.style.display = "inline-block", this.div.appendChild(this.buttonAdvanced.buttonDiv), this.buttonLess.buttonDiv.style.display = "inline-block", this.buttonMore.buttonDiv.style.display = "inline-block", this.buttonLess.buttonDiv.style.width = "1.5em", this.buttonMore.buttonDiv.style.width = "1.5em", this.buttonLess.buttonDiv.style.fontWeight = "bold", this.buttonMore.buttonDiv.style.fontWeight = "bold", this.textQty.style.width = "3em", this.div.appendChild(this.buttonLess.buttonDiv), this.textQty.style.marginLeft = "0.3em", this.textQty.style.marginRight = "0.3em", this.div.appendChild(this.textQty), this.div.appendChild(this.buttonMore.buttonDiv), this.title.style.flex = "1", this.title.style.marginLeft = "0.3em", this.title.style.display = "inline-block", this.div.appendChild(this.title) } function nlt() { this.div = jlt().getDiv(), this.buttonCast = jlt().getDiv(), this.buttonSpell = jlt().getDiv(), this.imgSpellActions = jlt().getImg(), this.textSpellName = jlt().getSpan(), this.textDuration = jlt().getDiv(), this.textRange = jlt().getDiv(), this.textSave = jlt().getDiv(), this.textTarget = jlt().getDiv(), this.div.classList.add("spell-button-row"), this.buttonCast.innerHTML = "Cast", this.buttonCast.classList.add("button-cast"), this.div.appendChild(this.buttonCast), this.div.appendChild(this.buttonSpell), this.buttonSpell.classList.add("button-spell"), this.div.classList.add("button-text"), this.imgSpellActions.style.display = "inline-block", this.imgSpellActions.style.verticalAlign = "middle", this.imgSpellActions.style.alignSelf = "center"; var t = jlt().getDiv(); t.classList.add("spell-action-holder"), this.div.appendChild(t), t.appendChild(this.imgSpellActions), this.textSpellName.classList.add("text-spell"), this.buttonSpell.appendChild(this.textSpellName), this.textDuration.classList.add("spell-detail"), this.textRange.classList.add("spell-detail"), this.textSave.classList.add("spell-detail"), this.textTarget.classList.add("spell-detail"), this.textSave.classList.add("div-spell-extra"), this.textTarget.classList.add("div-spell-extra"), this.div.appendChild(this.textDuration), this.div.appendChild(this.textRange), this.div.appendChild(this.textSave), this.div.appendChild(this.textTarget) } function olt(t, i, a, r, o, s) { ult(), this.mainActivity = t, this.dataControl = i, this.characterBuild = a, this.spellCaster_0 = r, this.hashMapInnateAreas_0 = o, this.div = jlt().getDiv(), this.title = jlt().getDiv(), this.layoutProficiency_0 = new Fet(!1, !0), this.divSpellLevels = jlt().getDiv(), this.buttonBonusSpells_0 = Dlt("Bonus Spells"), this.hashMapSponanetousIcons_0 = c(), this.hashMapPreparedCastingRows_0 = c(), this.spellDC_0 = 10, this.spellAttack_0 = 0, this.div.style.marginTop = "1em"; var l = jlt().getDiv(); if (l.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.div.appendChild(l), s) { var p = jlt().getDiv(); p.style.display = "flex", p.style.alignItems = "center", p.style.justifyContent = "center", l.appendChild(p); var h = jlt().getDiv(); h.style.fontSize = "1.2em", h.innerHTML = this.spellCaster_0.casterName, p.appendChild(h) } var u, _ = jlt().getDiv(); if (_.style.display = "flex", _.style.alignItems = "center", _.style.justifyContent = "center", l.appendChild(_), this.layoutProficiency_0.tdName.style.width = "15em", m(this.spellCaster_0.casterName, z2().SPELLCASTER_OTHER) || _.appendChild(this.layoutProficiency_0.div), this.spellCaster_0.isSummoner && this.getCharacterData_0().getCharacterLevel() >= 5) { var f = Dlt("Set Summoner Repertoire"), y = jlt().getDiv(); y.style.display = "flex", y.style.alignItems = "center", y.style.justifyContent = "center", this.div.appendChild(y), y.appendChild(f.buttonDiv), f.buttonDiv.style.width = "14em", f.buttonDiv.style.margin = "1em", f.buttonDiv.addEventListener("click", (u = this, function (t) { return u.mainActivity.openDialog_ip94j4$(new rot(u.mainActivity, u.dataControl, u.characterBuild, u.spellCaster_0)), n })) } this.div.appendChild(this.divSpellLevels), this.layoutProficiency_0.div.addEventListener("click", function (t) { return function (i) { var a, r = pK().ARRAY_SPELL_PROFICIENCIES[t.spellCaster_0.spellList], o = e.isType(a = t.characterBuild.getProficiency_61zpoe$(r), nK) ? a : d(), s = rK(t.dataControl, t.characterBuild, o).getTypedBuff_za3lpa$(0); return t.mainActivity.openDialog_ip94j4$(new rnt(t.mainActivity, t.dataControl, t.characterBuild, r, t.spellCaster_0.castingAbilityRef, s, !1, null, null)), n } }(this)), this.spellCaster_0.hasBonusSlots && (_.appendChild(this.buttonBonusSpells_0.buttonDiv), this.buttonBonusSpells_0.buttonDiv.style.display = "inline-block", this.buttonBonusSpells_0.buttonDiv.style.verticalAlign = "middle", this.buttonBonusSpells_0.buttonDiv.style.marginLeft = "2em", this.buttonBonusSpells_0.buttonDiv.style.width = "8em", this.buttonBonusSpells_0.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new Znt(t.mainActivity, t.dataControl, t.characterBuild, t.spellCaster_0)), n } }(this))); var $ = Dlt("Print"); _.appendChild($.buttonDiv), $.buttonDiv.addEventListener("click", function (t) { return function (e) { return localStorage.setItem("spellbook", new $9(t.dataControl, t.characterBuild, t.spellCaster_0, !0).getHtml()), window.open("spellbook.html", "_blank"), n } }(this)) } function slt(t, i, a, r) { return function (o) { var s; return (e.isType(s = o.target, HTMLElement) ? s : d()).classList.contains("button-cast") && 0 !== t ? a.castSpell_0(t, i, !1) : a.mainActivity.openDialog_ip94j4$(new Unt(a.mainActivity, a.dataControl, a.characterBuild, a.spellCaster_0, i, !1, t, r, a.spellDC_0, a.spellAttack_0)), n } } function llt(t, e, i) { return function (a) { return i.castSpell_0(t, e, !0), n } } function clt(t, e, i, a) { return function (r) { return t.mainActivity.openDialog_ip94j4$(new Unt(t.mainActivity, t.dataControl, t.characterBuild, t.spellCaster_0, e, !0, i, a, t.spellDC_0, t.spellAttack_0)), n } } function plt(t, e, i, a) { return function (r) { var o = t.getCharacterData_0().getNumSpontaneousSpellsCast_bm4lxs$(t.spellCaster_0.casterName, e); return o = i.isOn_38alav$(a) ? o + 1 | 0 : o - 1 | 0, t.getCharacterData_0().setNumSpontaneousSpellsCast_3m52m6$(t.spellCaster_0.casterName, e, o), i.redrawSpells_za3lpa$(o), t.mainActivity.autoSave(), n } } function hlt() { dlt = this, this.SRC_SPELLSLOT_OFF = "img/icon_spellslot_off.png?v=dm-1", this.SRC_SPELLSLOT_ON = "img/icon_spellslot.png?v=dm-1" } Bst.prototype.updateHP = function () { var t = this.dataControl_0.managerClasses.getMaxHP_5btbp7$(this.getCharacterBuild_0()), e = t + this.getCharacterData_0().getTemporaryHP() | 0; this.setProgress_0(e, t - this.getCharacterData_0().getDamageTaken() | 0, this.progressBarHP_0), this.setProgress_0(e, e - this.getCharacterData_0().getDamageTaken() | 0, this.progressBarTemp_0); var i = e - this.getCharacterData_0().getDamageTaken() | 0; this.hpText_0.innerHTML = "HP " + i + "/" + e }, Bst.prototype.setProgress_0 = function (t, e, i) { var a = C(S(e / t * 100)); i.style.width = a.toString() + "%" }, Bst.prototype.getCharacterBuild_0 = function () { return this.mainActivity_0.characterBuild }, Bst.prototype.getCharacterData_0 = function () { return this.getCharacterBuild_0().getCharacterData() }, Bst.$metadata$ = { kind: p, simpleName: "HealthBar", interfaces: [jst] }, jst.$metadata$ = { kind: H, simpleName: "HPControlInterface", interfaces: [] }, Hst.$metadata$ = { kind: p, simpleName: "LayoutArmor", interfaces: [] }, qst.prototype.setName_61zpoe$ = function (t) { this.textName.innerHTML = t }, qst.prototype.setDescription_61zpoe$ = function (t) { this.divBottom_0.innerHTML = t }, qst.$metadata$ = { kind: p, simpleName: "LayoutCondition", interfaces: [] }, Ust.$metadata$ = { kind: p, simpleName: "LayoutShield", interfaces: [] }, Gst.prototype.setProgress_vux9f0$ = function (t, e) { var i = C(S(e / t * 100)); this.progressBarHP_0.style.width = i.toString() + "%" }, Gst.$metadata$ = { kind: p, simpleName: "ShieldHealthBar", interfaces: [] }, Wst.prototype.updateHP = function () { var t = this.dataControl_0.managerClasses.getMaxHP_5btbp7$(this.getCharacterBuild_0()), e = t + this.getCharacterData_0().getTemporaryHP() | 0; this.setProgress_0(e, t - this.getCharacterData_0().getDamageTaken() | 0, this.progressBarHP_0), this.setProgress_0(e, e - this.getCharacterData_0().getDamageTaken() | 0, this.progressBarTemp_0); var i = e - this.getCharacterData_0().getDamageTaken() | 0; this.hpText_0.innerHTML = "HP " + i + "/" + e; var a = this.dataControl_0.managerClasses.getMaxStamina_5btbp7$(this.getCharacterBuild_0()), r = a - this.getCharacterData_0().getStaminaDamage() | 0; this.setProgress_0(a, r, this.progressBarStamina_0), this.staminaText_0.innerHTML = "STA " + r + "/" + a }, Wst.prototype.setProgress_0 = function (t, e, i) { var a = C(S(e / t * 100)); i.style.width = a.toString() + "%" }, Wst.prototype.getCharacterBuild_0 = function () { return this.mainActivity_0.characterBuild }, Wst.prototype.getCharacterData_0 = function () { return this.getCharacterBuild_0().getCharacterData() }, Wst.$metadata$ = { kind: p, simpleName: "StaminaHealthBar", interfaces: [jst] }, Yst.$metadata$ = { kind: p, simpleName: "LayoutContainer", interfaces: [] }, Vst.prototype.setName_61zpoe$ = function (t) { this.title.innerHTML = t }, Vst.$metadata$ = { kind: p, simpleName: "LayoutEquipmentFormula", interfaces: [] }, Kst.prototype.setName_61zpoe$ = function (t) { this.title.innerHTML = t }, Kst.prototype.setQty_za3lpa$ = function (t) { this.textQty_0.innerHTML = "Qty " + t }, Kst.$metadata$ = { kind: p, simpleName: "LayoutEquipmentNew", interfaces: [] }, Xst.prototype.updateValues_er8vok$ = function (t, e, i, a, r, n) { var s, l, c, p, h = null != (s = e.managerWeapons.hashMapWeapons.get_11rb$(this.playerWeapon_0.weaponName)) ? s : g1("Error"), u = i.getCharacterData().getCharacterLevel(); this.textName.innerHTML = this.playerWeapon_0.getWeaponNameFundamentals_umk5sj$(h, i); var _ = this.playerWeapon_0.getWeaponItemLevel_fhac18$(e, i); _ > 0 ? (this.textLevel_0.style.display = "inline-block", this.textLevel_0.innerHTML = _.toString()) : this.textLevel_0.style.display = "none"; var f = this.playerWeapon_0.getAttackDice_fha2vo$(e, i, h); if (this.divTraits_0.innerHTML = "", htt().addTraitsToFlexbox_h2l30b$(this.divTraits_0, f.traits), this.textHitTotal.innerHTML = "<span class='weapon-span'><i>Hit:</i></span> " + htt().getSignedValue_za3lpa$(f.attackTotal) + "<span class='tooltiptextCrit'>" + f.getAttackMAPString_fhac18$(e, i) + "</span>", this.imageWeaponTraining.src = htt().getImageBasedOnProficiency_za3lpa$(f.trainingLevel), htt().setColorBasedOnBuff_xlcra$(f.totalAttackBuff, this.textHitTotal), 0 === h.damage) this.textDamage.innerHTML = "<span class='weapon-span'><i>Damage:</i></span> Special", htt().setInvisible_njr4nn$(this.imgDice, !1); else { var y = htt().getDiceIcon_za3lpa$(f.diceSize); null == y ? htt().setInvisible_njr4nn$(this.imgDice, !1) : this.imgDice.src = "img/icon_" + j(y) + ".png?v=4", this.textDamage.innerHTML = "<span class='weapon-span'><i>Damage:</i></span> " + f.getDamageString() + "<span class='tooltiptextCrit'>" + f.getCriticalDamageString() + "</span>", f.totalDamageBuff > 0 ? (htt().setGreenHighlight_njr4nn$(this.textDamage, !0), htt().setWarningHighlight_njr4nn$(this.textDamage, !1)) : f.totalDamageBuff < 0 ? (htt().setWarningHighlight_njr4nn$(this.textDamage, !0), htt().setGreenHighlight_njr4nn$(this.textDamage, !1)) : (htt().setWarningHighlight_njr4nn$(this.textDamage, !1), htt().setGreenHighlight_njr4nn$(this.textDamage, !1)) } for (this.divPrecision.innerHTML = "", l = i.hashMapSneakAttackTracks.keys.iterator(); l.hasNext();) { var m = l.next(), $ = o(i.hashMapSneakAttackTracks.get_11rb$(m)), g = $.getDiceAtLevel_za3lpa$(u); if (null != g) { var v = new Met($.precisionType + ": " + g.diceAsString); this.divPrecision.appendChild(v.divWithLabel), this.playerWeapon_0.listEnabledPrecisionKeys.contains_11rb$(m) && v.setChecked_6taknv$(!0), v.divWithLabel.addEventListener("click", Jst(v, this, m, t, i)) } var S = $.getFlatBonusAtLevel_za3lpa$(u); if (0 !== S) { var C = new Met($.precisionType + ": " + j(S)); this.divPrecision.appendChild(C.divWithLabel), this.playerWeapon_0.listEnabledPrecisionKeys.contains_11rb$(m) && C.setChecked_6taknv$(!0), C.divWithLabel.addEventListener("click", Zst(C, this, m, t, i)) } } if (this.divRunes_0.innerHTML = "", this.playerWeapon_0.getListPropertyRunes().isEmpty()) htt().setHidden_njr4nn$(this.divRunes_0, !1); else for (htt().setHidden_njr4nn$(this.divRunes_0, !0), c = this.playerWeapon_0.getListPropertyRunes().iterator(); c.hasNext();) { var E = c.next(); this.divRunes_0.appendChild(this.getPropertyRuneLayout_0(t, e, i, E).div) } if (null != this.playerWeapon_0.material && (this.divMaterial_0.innerHTML = "string" == typeof (p = this.playerWeapon_0.material) ? p : d()), null == this.playerWeapon_0.material && this.playerWeapon_0.getListPropertyRunes().isEmpty() ? this.divBottom_0.style.display = "none" : this.divBottom_0.style.display = "block", i.getCharacterData().listPlayerWeapons.size > 1 ? (this.buttonUp.style.display = "inline-block", this.buttonDown.style.display = "inline-block") : (this.buttonUp.style.display = "none", this.buttonDown.style.display = "none"), this.divMods_0.innerHTML = "", null != this.playerWeapon_0.mapInvModSel) { var A = new nct(t, e, i, 1, this.playerWeapon_0); A.hashMapModsToButtons.isEmpty() || this.divMods_0.appendChild(A.layoutMain) } }, Xst.prototype.getPropertyRuneLayout_0 = function (t, e, i, a) { var r, s, l, c, p = zlt(a); return p.buttonMain.addEventListener("click", (r = e, s = a, l = t, c = i, function (t) { var e = o(r.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(102)).get_11rb$(s); return null != e && l.openDialog_ip94j4$(new Tat(l, r, c, e.name, e.itemLevel, e.traits, e.getItemFullDetails())), n })), p.buttonX.addEventListener("click", function (t, e, i, a, r) { return function (o) { return t.playerWeapon_0.getListPropertyRunes().remove_11rb$(e), i.managerWeapons.activateWeaponRune_kt1j5c$(!1, a, t.playerWeapon_0, e), r.getGuiUpdateControl().onWeaponAdded_21ghvs$(a, t.playerWeapon_0), n } }(this, a, e, i, t)), p }, Xst.$metadata$ = { kind: p, simpleName: "LayoutWeaponLine", interfaces: [] }, Qst.prototype.addAlchemy_im6mxv$ = function (t, e) { this.divAlchemyParent_0.innerHTML = "", e.appendChild(this.divAlchemyParent_0), this.setAlchemyDetails_0(t) }, Qst.prototype.setAlchemyDetails_0 = function (t) { var i, a, r, o, c, p, h, d = new alt; this.divAlchemyParent_0.appendChild(d.div), d.buttonAddFormula.buttonDiv.addEventListener("click", (p = this, h = t, function (t) { return p.mainActivity.openDialog_ip94j4$(new $it(p.mainActivity, p.dataControl, p.getCharacterBuild_0(), h)), n })), d.buttonPrint.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return localStorage.setItem("spellbook", new d9(t.dataControl, t.getCharacterBuild_0(), e).getHtml()), window.open("spellbook.html", "_blank"), n } }(this, t)); var _ = t.getAlchemyLevel_za3lpa$(this.getCharacterData_0().getCharacterLevel()); d.title.innerHTML = t.casterName + " Formula  (Alchemy Level " + j(_) + ")", htt().setHidden_njr4nn$(d.divInfusedReagents, !0); var f = t.getMaxInfusedReagents_fhac18$(this.dataControl, this.getCharacterBuild_0()); Wr().isAlchemicalSciences_5btbp7$(this.getCharacterBuild_0()) ? d.textMaxInfusions.innerHTML = "Max Vials " + f : d.textMaxInfusions.innerHTML = "Max Infusions " + f, this.setInfusedRemaining_0(d, t), d.buttonLess.buttonDiv.addEventListener("click", function (t, i, a) { return function (r) { try { t.getCharacterData_0().adjustUsedInfusedReagents_bm4lxs$(i.casterName, 1), t.setInfusedRemaining_0(a, i), t.mainActivity.autoSave() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this, t, d)), d.buttonMore.buttonDiv.addEventListener("click", function (t, i, a) { return function (r) { try { t.getCharacterData_0().adjustUsedInfusedReagents_bm4lxs$(i.casterName, -1), t.setInfusedRemaining_0(a, i), t.mainActivity.autoSave() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this, t, d)); var y = u(); if (this.getCharacterData_0().getHashMapFormulaBookByCaster().containsKey_11rb$(t.casterName)) { null != (i = this.getCharacterData_0().getHashMapFormulaBookByCaster().get_11rb$(t.casterName)) && y.addAll_brywnq$(i.keys), Q(y), d.divParentForumula.classList.add(B9().CSS_GRID_CONTAINER), d.divParentForumula.classList.add(B9().CSS_LAYOUT_TABBED_LINE); var m = htt().getColumns_za3lpa$(2); for (a = m.iterator(); a.hasNext();) { var $ = a.next(); $.classList.add(B9().CSS_GRID_ITEM), d.divParentForumula.appendChild($) } var g = 0; for (r = y.iterator(); r.hasNext();) { var v = r.next(), S = null != (c = null != (o = this.getCharacterData_0().getHashMapFormulaBookByCaster().get_11rb$(t.casterName)) ? o.get_11rb$(v) : null) ? c : 0; m.get_za3lpa$(g).appendChild(this.getFormulaLayout_0(t, d, v, S).div), (g = g + 1 | 0) === m.size && (g = 0) } } }, Qst.prototype.getFormulaLayout_0 = function (t, i, a, r) { var o, c = new rlt; if (null == (o = this.dataControl.managerEquipment.hashMapAllEquipmentByName.get_11rb$(a))) return c; var p, h, d, u = o; c.title.addEventListener("click", (p = this, h = t, d = a, function (t) { return p.mainActivity.openDialog_ip94j4$(new bit(p.mainActivity, p.dataControl, p.getCharacterBuild_0(), h, d)), n })); var _ = a; return k0().isSignatureFormula_o7np2w$(this.getCharacterBuild_0(), u.uniqueIdentiier) && (_ += " <i><b>- Signature</b></i>"), c.title.innerHTML = _, this.setBatch_0(t, a, c), c.buttonLess.buttonDiv.addEventListener("click", function (t, i, a, r) { return function (o) { try { t.getCharacterData_0().adjustCurrentBatch_rjan26$(i.casterName, a, -1), t.setBatch_0(i, a, r), t.mainActivity.getGuiUpdateControl().onBulkChanged_n40yp2$(t.getCharacterBuild_0()), t.mainActivity.autoSave() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this, t, a, c)), c.buttonMore.buttonDiv.addEventListener("click", function (t, i, a, r) { return function (o) { try { t.getCharacterData_0().adjustCurrentBatch_rjan26$(i.casterName, a, 1), t.setBatch_0(i, a, r), t.mainActivity.getGuiUpdateControl().onBulkChanged_n40yp2$(t.getCharacterBuild_0()), t.mainActivity.autoSave() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } }(this, t, a, c)), t.hasAdvanced || t.hasVials ? m(t.casterName, i3().ALCHEMY_INVESTIGATOR_SCIENCES) ? (htt().setHidden_njr4nn$(c.buttonAdvanced.buttonDiv, !1), c.buttonAdvanced.buttonDiv.innerHTML = "Quick", c.buttonAdvanced.buttonDiv.addEventListener("click", function (t, e, i, a, r) { return function (o) { return e.getInfusedRemaining_0(t) > 0 ? e.adjustBatchAndUseInfusedReagent_0(t, i, a, r, 1) : e.confirmOutOfInfused_0(t, i, a, r, 1), n } }(t, this, i, a, c))) : u.itemLevel <= t.getAlchemyLevel_za3lpa$(this.getCharacterData_0().getCharacterLevel()) ? c.buttonAdvanced.buttonDiv.addEventListener("click", function (t, e, i, a, r, o) { return function (s) { var l = t.dataControl.managerSpells.getBatchSize_u2i524$(t.getCharacterBuild_0(), e); return t.getInfusedRemaining_0(i) > 0 ? t.adjustBatchAndUseInfusedReagent_0(i, a, r, o, l) : t.confirmOutOfInfused_0(i, a, r, o, l), n } }(this, u, t, i, a, c)) : htt().setHidden_njr4nn$(c.buttonAdvanced.buttonDiv, !1) : htt().setHidden_njr4nn$(c.buttonAdvanced.buttonDiv, !1), t.hasQuick && u.itemLevel <= t.getAlchemyLevel_za3lpa$(this.getCharacterData_0().getCharacterLevel()) ? c.buttonQuick.buttonDiv.addEventListener("click", function (t, e, i, a, r) { return function (o) { return e.getInfusedRemaining_0(t) > 0 ? e.adjustBatchAndUseInfusedReagent_0(t, i, a, r, 1) : e.confirmOutOfInfused_0(t, i, a, r, 1), n } }(t, this, i, a, c)) : htt().setHidden_njr4nn$(c.buttonQuick.buttonDiv, !1), c }, tlt.prototype.accept = function () { this.this$FragmentSpellsAlchemy.adjustBatchAndUseInfusedReagent_0(this.closure$alchemicalCaster, this.closure$layoutAlchemicalCaster, this.closure$formulaName, this.closure$layoutFormula, this.closure$adjustment) }, tlt.$metadata$ = { kind: p, interfaces: [Vet] }, Qst.prototype.confirmOutOfInfused_0 = function (t, e, i, a, r) { Xet(!0, "You don't have any more Infused Reagents. Continue anyway?", new tlt(t, e, i, a, r, this)).show() }, Qst.prototype.adjustBatchAndUseInfusedReagent_0 = function (t, i, a, r, n) { try { this.getCharacterData_0().adjustCurrentBatch_rjan26$(t.casterName, a, n), this.setBatch_0(t, a, r), this.getCharacterData_0().adjustUsedInfusedReagents_bm4lxs$(t.casterName, 1), this.setInfusedRemaining_0(i, t), this.mainActivity.getGuiUpdateControl().onBulkChanged_n40yp2$(this.getCharacterBuild_0()), this.mainActivity.autoSave() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, Qst.prototype.setBatch_0 = function (t, i, a) { var r = 0; try { r = this.getCharacterData_0().getCurrentBatch_puj7f4$(t.casterName, i) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } a.textQty.innerHTML = "Qty " + r }, Qst.prototype.setInfusedRemaining_0 = function (t, e) { t.textCurrentInfusions.innerHTML = "Current " + this.getInfusedRemaining_0(e) }, Qst.prototype.getInfusedRemaining_0 = function (t) { var e = this.getCharacterData_0().getUsedInfusedReagents_61zpoe$(t.casterName); return t.getMaxInfusedReagents_fhac18$(this.dataControl, this.getCharacterBuild_0()) - e | 0 }, Qst.prototype.getCharacterBuild_0 = function () { return this.mainActivity.characterBuild }, Qst.prototype.getCharacterData_0 = function () { return this.getCharacterBuild_0().getCharacterData() }, Qst.$metadata$ = { kind: p, simpleName: "FragmentSpellsAlchemy", interfaces: [] }, elt.prototype.setFocusPointControls_0 = function () { var t = jlt().getDiv(); t.style.width = "100%", t.style.display = "flex", t.style.justifyContent = "center", t.style.alignItems = "center", t.style.marginBottom = "0.5em", this.divFocusPoints_0.appendChild(t); var e = jlt().getDiv(); e.style.verticalAlign = "middle", e.innerHTML = "Focus Points", e.style.marginRight = "1.5em", t.appendChild(e); var i = jlt().getDiv(); t.appendChild(i), i.classList.add(B9().CSS_GRID_CONTAINER); for (var a = 0; a <= 2; a++) { var r = jlt().getDiv(); i.appendChild(r), r.classList.add(B9().CSS_GRID_ITEM), r.style.cursor = "pointer", r.appendChild(this.arrayFocusImg_0[a]), this.arrayFocusImg_0[a].src = $ct().SRC_HERO_OFF; var n = a; r.addEventListener("click", ilt(this, n)) } }, elt.prototype.updateSpellPoints_0 = function () { var t = this.dataControl.managerSpells.getMaxFocusPoints_5btbp7$(this.getCharacterBuild_0()), e = t - this.getCharacterData_0().getSpentSpellPoints() | 0; e > 3 && (e = 3), e < 0 && (e = 0); for (var i = 0; i <= 2; i++)i < t ? (this.arrayFocusImg_0[i].style.display = "inline-block", this.arrayFocusImg_0[i].src = i >= e ? ult().SRC_SPELLSLOT_OFF : ult().SRC_SPELLSLOT_ON) : this.arrayFocusImg_0[i].style.display = "none" }, elt.prototype.updatePowers_6if5g$ = function (t, e) { var i, a, r, n; if (e) { var o = jlt().getDiv(); o.style.textAlign = "center", o.innerHTML = "Focus Spells", t.appendChild(o) } t.style.marginRight = "1em"; var s = jlt().getDiv(); s.style.marginTop = "1em", s.classList.add(B9().CSS_LAYOUT_TABBED_LINE), t.appendChild(s), s.appendChild(this.divClassDC_0), s.appendChild(this.divFocusPoints_0), t.appendChild(this.divParentPowers_0); var l = this.updateClassDC_0(); this.updateSpellPoints_0(); var c = this.dataControl.managerClasses.getClassMasteryLevel_vy76y1$(this.getCharacterBuild_0(), 0), p = pK().getFinalProficiencyTotal_xek4lp$(this.getCharacterData_0(), c, this.getCharacterData_0().getCharacterLevel()) + l + this.dataControl.managerSpells.getSpellAttackBuff_5btbp7$(this.getCharacterBuild_0()) | 0; this.divParentPowers_0.innerHTML = ""; var h = k0().getListSortedPowers_5btbp7$(this.getCharacterBuild_0()), d = u(), _ = u(), f = u(); for (i = h.iterator(); i.hasNext();) { var y = i.next(), $ = this.dataControl.managerSpells.hashMapSpells.get_11rb$(y.name); null != $ ? m($.type, "Cantrip") ? d.add_11rb$($) : m($.type, "Focus") ? _.add_11rb$($) : f.add_11rb$($) : console.log("NULL POWER SPELL INFORMATION: " + y.name) } if (!d.isEmpty()) { var g = jlt().getDiv(); g.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.divParentPowers_0.appendChild(g); var v = jlt().getDiv(); for (v.classList.add("subtitle"), v.innerHTML = "Focus Cantrips", g.appendChild(v), a = d.iterator(); a.hasNext();) { var S = a.next(); g.appendChild(this.getPowerLayout_0(S, l, p).div) } } if (!_.isEmpty()) { var C = jlt().getDiv(); C.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.divParentPowers_0.appendChild(C); var E = jlt().getDiv(); for (E.classList.add("subtitle"), E.innerHTML = "Focus Spells", C.appendChild(E), r = _.iterator(); r.hasNext();) { var A = r.next(); C.appendChild(this.getPowerLayout_0(A, l, p).div) } } if (!f.isEmpty()) { var b = jlt().getDiv(); b.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.divParentPowers_0.appendChild(b); var I = jlt().getDiv(); for (I.classList.add("subtitle"), I.innerHTML = "Relevant Spells", b.appendChild(I), n = f.iterator(); n.hasNext();) { var w = n.next(); b.appendChild(this.getPowerLayout_0(w, l, p).div) } } }, elt.prototype.updateClassDC_0 = function () { this.divClassDC_0.innerHTML = ""; var t = new Fet(!1, !0), e = jlt().getDiv(); e.style.display = "flex", e.style.alignItems = "center", e.style.justifyContent = "center", this.divClassDC_0.appendChild(e), t.tdName.style.width = "15em", e.appendChild(t.div); var i = this.getCharacterBuild_0().getPlayReportAbilityScores_sfkw43$(this.dataControl), a = (this.getCharacterData_0().getCharacterLevel(), this.dataControl.managerClasses.getClassMasteryLevel_vy76y1$(this.getCharacterBuild_0(), 0)), r = this.dataControl.managerClasses.getKeyAbilityRef_qll6wu$(this.getCharacterBuild_0(), 0, !1), o = htt().getAbilityMod_za3lpa$(i.abilityScoresBuffed[r]), s = pK().getFinalProficiencyTotal_xek4lp$(this.getCharacterData_0(), a, this.getCharacterData_0().getCharacterLevel()), l = 10 + s + o | 0; t.setProficiencyImage_za3lpa$(a), t.setProficiency_za3lpa$(s); var c = se().ARRAY_ABILITIES_SHORT[r]; t.setAbility_bm4lxs$(c, o); var p = this.getCharacterData_0().getClassName() + " "; m(this.getCharacterData_0().getClassName(), yr().CLASS_CHAMPION) ? p += "Spellcasting " : m(this.getCharacterData_0().getClassName(), an().CLASS_MONK) && (p = "Ki Spells "), t.setName_61zpoe$(p + " DC " + l); var h, d = Dlt("Print"); return e.appendChild(d.buttonDiv), d.buttonDiv.addEventListener("click", (h = this, function (t) { return localStorage.setItem("spellbook", new y9(h.dataControl, h.getCharacterBuild_0()).getHtml()), window.open("spellbook.html", "_blank"), n })), o }, elt.prototype.getPowerLayout_0 = function (t, e, i) { var a, r = new _lt(!1, !1, !0); r.div.style.border = "none", r.setName_61zpoe$(t.name), r.setTraits_pdl1vj$(t.traits); var n = this.getCharacterData_0().getCharacterLevel() / 2, o = C(I.ceil(n)), s = t.type; o > t.level ? s += " " + G0().getHeightenedTags_no852v$(t.level.toString(), o.toString(), o, t.level, !0) : s += " " + t.level, r.setLevel_pdl1vj$(s), r.setAction_za3lpa$(t.actions); var l = t.cast + "<br>" + t.getHeightenedDescription_vux9f0$(o, e); if (r.setDescription_61zpoe$(l), this.mainActivity.showDiceRollers) { if (_(t.traits.toLowerCase(), "attack")) { var c = new Mlt("Spell Attack " + htt().getSignedValue_za3lpa$(i), "1d20" + htt().getSignedValue_za3lpa$(i)); r.layoutRollers.appendChild(c.buttonDiv) } for (a = htt().getListRollsFromSpell_bm4lxs$(l, e).iterator(); a.hasNext();) { var p = a.next(), h = new Mlt(p.getDiceAndFlatAsString(), p.getDiceAndFlatAsString()); r.layoutRollers.appendChild(h.buttonDiv) } } return r }, elt.prototype.getCharacterBuild_0 = function () { return this.mainActivity.characterBuild }, elt.prototype.getCharacterData_0 = function () { return this.getCharacterBuild_0().getCharacterData() }, elt.$metadata$ = { kind: p, simpleName: "FragmentSpellsPowers", interfaces: [] }, alt.$metadata$ = { kind: p, simpleName: "LayoutAlchemicalCaster", interfaces: [] }, rlt.$metadata$ = { kind: p, simpleName: "LayoutAlchemyFormula", interfaces: [] }, nlt.prototype.setCastEnabled_6taknv$ = function (t) { t ? this.div.classList.remove(B9().CSS_GREY_TEXT) : this.div.classList.add(B9().CSS_GREY_TEXT) }, nlt.prototype.setSpellText_pdl1vj$ = function (t) { null == t || m(t, se().NOT_SELECTED) ? (this.textSpellName.innerHTML = se().NOT_SELECTED, this.textSpellName.classList.contains(B9().CSS_GREY_TEXT) || this.textSpellName.classList.add(B9().CSS_GREY_TEXT)) : (this.textSpellName.classList.remove(B9().CSS_GREY_TEXT), this.textSpellName.innerHTML = t) }, nlt.prototype.setAction_za3lpa$ = function (t) { htt().setActionSymbol_1j8abp$(this.imgSpellActions, t) }, nlt.prototype.setDetails_lea942$ = function (t, e, i) { var a, r, n = t.getHeightenedDuration_vux9f0$(e, i); null == n || gt(n) ? this.textDuration.innerHTML = "" : this.textDuration.innerHTML = n; var o = t.getHeightenedRange_vux9f0$(e, i); null == o || gt(o) ? this.textRange.innerHTML = "" : this.textRange.innerHTML = "string" == typeof (a = o) ? a : d(); var s = t.save; null == s || gt(s) ? this.textSave.innerHTML = "" : this.textSave.innerHTML = "string" == typeof (r = t.save) ? r : d(); var l = "", c = t.getHeightenedArea_vux9f0$(e, i); null != c && (l = c); var p = t.getHeightenedTarget_vux9f0$(e, i); null != p && (l.length > 0 && (l += ", "), l += p), l.length > 0 ? this.textTarget.innerHTML = l : this.textTarget.innerHTML = "" }, nlt.$metadata$ = { kind: p, simpleName: "LayoutSpellButtons", interfaces: [] }, olt.prototype.onCompleteRest = function () { var t, e; for (t = this.hashMapPreparedCastingRows_0.values.iterator(); t.hasNext();)t.next().setCastEnabled_6taknv$(!0); for (e = this.hashMapSponanetousIcons_0.values.iterator(); e.hasNext();)e.next().restoreAllSpells() }, olt.prototype.setSpellLevels = function () { var t, e, i, a; this.divSpellLevels.innerHTML = ""; var r = this.characterBuild.getPlayReportAbilityScores_sfkw43$(this.dataControl), n = htt().getAbilityMod_za3lpa$(r.abilityScoresBuffed[this.spellCaster_0.getSpellCasterAbilityRef_n40yp2$(this.characterBuild)]), s = this.characterBuild.getCharacterData().getCharacterLevel(); t = this.spellCaster_0.getSpellLevelsAvailable_za3lpa$(s); for (var l = 0; l <= t; l++) { var p = jlt().getDiv(); this.spellCaster_0.innate || (p.classList.add("div-spell-level-new"), this.divSpellLevels.appendChild(p)); var h = jlt().getDiv(); h.classList.add("subtitle"); var d = jlt().getDiv(); d.classList.add("centered-div-holder"), d.appendChild(h), p.appendChild(d), h.innerHTML = "Spell Level " + l; var _ = l; if (0 === l) { var f = s / 2, y = C(I.ceil(f)); _ = y; var m = "Cantrips"; y > 1 && (m += " (Heightened Level " + y + ")"), h.innerHTML = m } (0 === this.spellCaster_0.typeCaster || this.spellCaster_0.flexibleCaster) && l > 0 && ((d = jlt().getDiv()).classList.add("centered-div-holder"), d.appendChild(this.getSpontaneousSpellCasterButtons_0(l)), p.appendChild(d)); var $ = this.spellCaster_0.getSpellsRepetoire_bh8xs5$(this.characterBuild, s, l); p.appendChild(ult().getHeaders()); var g = $; if (-1 === g && (g = 0), (g = g + this.spellCaster_0.getNumBonusSpellsAtSpellLevel_za3lpa$(l) | 0) < 1) this.spellCaster_0.isSummoner ? l < (this.spellCaster_0.getMaxSpellLevel_za3lpa$(this.getCharacterData_0().getCharacterLevel()) - 1 | 0) && (h.style.display = "none", p.style.display = "none") : (h.style.display = "none", p.style.display = "none"); else for (var v = 0; v < $; v++) { var S = new nlt; this.spellCaster_0.innate ? (o(o(this.hashMapInnateAreas_0).get_11rb$(this.spellCaster_0.spellList)).containsKey_11rb$(l) || o(this.hashMapInnateAreas_0.get_11rb$(this.spellCaster_0.spellList)).put_xwzc9p$(l, u()), o(o(this.hashMapInnateAreas_0.get_11rb$(this.spellCaster_0.spellList)).get_11rb$(l)).add_11rb$(S)) : p.appendChild(S.div); var E = this.spellCaster_0.getSpellSlotReference_vux9f0$(l, v); (0 === l || this.spellCaster_0.isSummoner) && htt().setInvisible_njr4nn$(S.buttonCast, !1), S.div.addEventListener("click", slt(l, E, this, n)), this.getCharacterData_0().getListSpentSpellSlots().contains_11rb$(E) && S.setCastEnabled_6taknv$(!1), this.hashMapPreparedCastingRows_0.put_xwzc9p$(E, S), this.updateSpellButton_0(this.spellCaster_0, E, l, _, n) } var A = this.spellCaster_0.getHashMapBonusSpell_fhac18$(this.dataControl, this.characterBuild); if (!A.isEmpty()) { var b = jlt().getDiv(), w = c(); for (e = A.keys.iterator(); e.hasNext();) { var L = e.next(), T = A.get_11rb$(L); if (o(T).spellLevel === l && T.addPrepared && T.isAvailableAtCharacterLevel_za3lpa$(this.getCharacterData_0().getCharacterLevel())) { var k = new nlt, R = T.header; if (null == R && (R = "Bonus Spell"), !w.containsKey_11rb$(R)) { var P = R, M = u(); w.put_xwzc9p$(P, M) } o(w.get_11rb$(R)).add_11rb$(k), 0 === l ? htt().setHidden_njr4nn$(k.buttonCast, !1) : k.buttonCast.addEventListener("click", llt(l, L, this)), k.buttonSpell.addEventListener("click", clt(this, L, l, n)), this.getCharacterData_0().getListSpentSpellSlots().contains_11rb$(L) && k.setCastEnabled_6taknv$(!1), this.hashMapPreparedCastingRows_0.put_xwzc9p$(L, k), this.updateSpellButton_0(this.spellCaster_0, L, l, _, n) } } for (w.size > 0 && p.appendChild(b), i = w.keys.iterator(); i.hasNext();) { var N = i.next(), D = jlt().getDiv(); for (D.style.padding = "0.3em", D.classList.add(B9().CSS_SMALL_TEXT), D.classList.add(B9().CSS_GREY_TEXT), D.innerHTML = N, b.appendChild(D), a = o(w.get_11rb$(N)).iterator(); a.hasNext();) { var x = a.next(); this.spellCaster_0.innate ? (o(o(this.hashMapInnateAreas_0).get_11rb$(this.spellCaster_0.spellList)).containsKey_11rb$(l) || o(this.hashMapInnateAreas_0.get_11rb$(this.spellCaster_0.spellList)).put_xwzc9p$(l, u()), o(o(this.hashMapInnateAreas_0.get_11rb$(this.spellCaster_0.spellList)).get_11rb$(l)).add_11rb$(x)) : b.appendChild(x.div) } } } p.childElementCount <= 2 && (p.style.display = "none") } }, olt.prototype.updateSpellButton_0 = function (t, i, a, r, n) { var o; if (this.hashMapPreparedCastingRows_0.containsKey_11rb$(i)) { var s = e.isType(o = this.hashMapPreparedCastingRows_0.get_11rb$(i), nlt) ? o : d(); if (this.getCharacterData_0().hashMapSpellBlending.containsKey_11rb$(t.casterName)) { var l = k0().isSlotBlended_g789m1$(this.characterBuild, t.casterName, i); if (null != l) return s.setSpellText_pdl1vj$("Blended to Spell Level " + l.LevelTo), s.buttonSpell.classList.add(B9().CSS_GREY_TEXT), void htt().setInvisible_njr4nn$(s.buttonCast, !1) } var c = t.getSpellSelectionDisplay_yiom1f$(this.dataControl, this.characterBuild, i, a); s.setSpellText_pdl1vj$(c); var p = this.dataControl.managerSpells.hashMapSpells.get_11rb$(t.getSpellNameIgnoreHeighten_zici4a$(this.characterBuild, i, a)); null != p && (s.setAction_za3lpa$(p.actions), s.setDetails_lea942$(p, r, n)) } }, olt.prototype.castSpell_0 = function (t, e, i) { 0 === this.spellCaster_0.typeCaster || this.spellCaster_0.flexibleCaster && !i ? this.castSpellSpontaneous_0(t, e) : this.castSpellPrepared_0(t, e), this.mainActivity.autoSave() }, olt.prototype.castSpellSpontaneous_0 = function (t, i) { var a; if (this.getCharacterData_0().getHashMapPlayerSpells().containsKey_11rb$(i)) { var r = e.isType(a = this.hashMapSponanetousIcons_0.get_11rb$(t), flt) ? a : d(), n = this.getCharacterData_0().getNumSpontaneousSpellsCast_bm4lxs$(this.spellCaster_0.casterName, t); n >= r.numSlots ? this.mainActivity.showMessage_61zpoe$("You don't have any spell slots left to cast with!") : (r.useSpell(), n = n + 1 | 0, this.getCharacterData_0().setNumSpontaneousSpellsCast_3m52m6$(this.spellCaster_0.casterName, t, n), this.mainActivity.autoSave()) } }, olt.prototype.castSpellPrepared_0 = function (t, i) { var a; if (this.hashMapPreparedCastingRows_0.containsKey_11rb$(i) && this.getCharacterData_0().getHashMapPlayerSpells().containsKey_11rb$(i)) { var r = e.isType(a = this.hashMapPreparedCastingRows_0.get_11rb$(i), nlt) ? a : d(); this.getCharacterData_0().getListSpentSpellSlots().contains_11rb$(i) ? (r.setCastEnabled_6taknv$(!0), this.getCharacterData_0().getListSpentSpellSlots().remove_11rb$(i)) : (r.setCastEnabled_6taknv$(!1), this.getCharacterData_0().getListSpentSpellSlots().add_11rb$(i)) } }, olt.prototype.getSpontaneousSpellCasterButtons_0 = function (t) { var e, i = this.characterBuild.getCharacterData().getNumSpontaneousSpellsCast_bm4lxs$(this.spellCaster_0.casterName, t), a = new flt(this.spellCaster_0.getSpontaneousSpellsMax_vux9f0$(this.characterBuild.getCharacterData().getCharacterLevel(), t)); for (e = a.listIcons.iterator(); e.hasNext();) { var r = e.next(); r.addEventListener("click", plt(this, t, a, r)) } for (var n = 0; n < i; n++)a.useSpell(); return this.hashMapSponanetousIcons_0.put_xwzc9p$(t, a), a.div }, olt.prototype.setSpellProficiencies = function () { var t, i; if (this.spellCaster_0.hideProficiencies) this.layoutProficiency_0.div.style.display = "none"; else { var a = this.characterBuild.getCharacterData().getCharacterLevel(), r = pK().ARRAY_SPELL_PROFICIENCIES[this.spellCaster_0.spellList], n = e.isType(t = this.characterBuild.getProficiency_61zpoe$(r), nK) ? t : d(), o = n.getProficiencyAtLevel_za3lpa$(a); this.spellCaster_0.innate && (o = this.dataControl.managerSpells.getHighestSpellCasterTraining_vy76y1$(this.characterBuild, a)), this.layoutProficiency_0.setProficiencyImage_za3lpa$(o); var s = pK().getFinalProficiencyTotal_xek4lp$(this.characterBuild.getCharacterData(), o, a); this.layoutProficiency_0.setProficiency_za3lpa$(s); var l = se().ARRAY_ABILITIES_SHORT[this.spellCaster_0.getSpellCasterAbilityRef_n40yp2$(this.characterBuild)], c = this.characterBuild.getPlayReportAbilityScores_sfkw43$(this.dataControl), p = htt().getAbilityMod_za3lpa$(c.abilityScoresBuffed[this.spellCaster_0.getSpellCasterAbilityRef_n40yp2$(this.characterBuild)]); this.layoutProficiency_0.setAbility_bm4lxs$(l, p); var h = rK(this.dataControl, this.characterBuild, n), u = h.totalBuffExcludingItem, _ = h.getTypedBuff_za3lpa$(0); this.layoutProficiency_0.setItemBonus_za3lpa$(_), this.spellDC_0 = 10 + s + p + _ + u | 0, this.layoutProficiency_0.setColorBasedOnBuff_za3lpa$(u); var f = this.dataControl.managerSpells.getSpellAttackBuff_5btbp7$(this.characterBuild); if (this.spellAttack_0 = this.spellDC_0 - 10 + f | 0, !this.characterBuild.hashMapSpellAttackOverrides.isEmpty()) { var y = o; for (i = this.characterBuild.hashMapSpellAttackOverrides.values.iterator(); i.hasNext();) { var m = i.next(); m.level <= a && m.increase > y && (y = m.increase) } if (y > o) { var $ = pK().getFinalProficiencyTotal_xek4lp$(this.characterBuild.getCharacterData(), y, a); this.spellAttack_0 = $ + p + _ + u + f | 0 } } this.layoutProficiency_0.setName_61zpoe$(r + " DC " + this.spellDC_0 + " (Attack " + htt().getSignedValue_za3lpa$(this.spellAttack_0) + ")") } }, olt.prototype.getCharacterData_0 = function () { return this.characterBuild.getCharacterData() }, hlt.prototype.getHeaders = function () { var t = jlt().getDiv(); t.classList.add("spell-headers"); var e = jlt().getDiv(); e.style.width = "27em", t.appendChild(e); var i = jlt().getDiv(); return i.classList.add("spell-header-label"), i.innerHTML = "Duration", t.appendChild(i), (i = jlt().getDiv()).classList.add("spell-header-label"), i.innerHTML = "Range", t.appendChild(i), (i = jlt().getDiv()).classList.add("spell-header-label"), i.classList.add("div-spell-extra"), i.innerHTML = "Save", t.appendChild(i), (i = jlt().getDiv()).classList.add("spell-header-label"), i.classList.add("div-spell-extra"), i.innerHTML = "Area/Targets", t.appendChild(i), t }, hlt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var dlt = null; function ult() { return null === dlt && new hlt, dlt } function _lt(t, e, i) { Ylt.call(this, i), this.witch = e, this.iconSpellBook = jlt().getImg(), this.layoutRollers = jlt().getDiv(), this.layoutDetail.insertBefore(this.layoutRollers, this.layoutDetail.firstChild), t && (this.witch ? this.iconSpellBook.src = "img/icon_known_witch_off.png?v=dm-1" : this.iconSpellBook.src = "img/icon_known_off.png?v=dm-1", this.topDiv.insertBefore(this.iconSpellBook, this.topDiv.children[0])), this.iconSpellBook.classList.add("icon-spellbook") } function flt(t) { var e; this.numSlots = t, this.div = jlt().getDiv(), this.listIcons = u(), this.div.classList.add("icon-spell-slot-holder"), e = this.numSlots; for (var i = 0; i < e; i++) { var a = jlt().getImg(); a.classList.add("icon-spell-slot"), a.src = ult().SRC_SPELLSLOT_ON, this.listIcons.add_11rb$(a), this.div.appendChild(a) } } function ylt(t, e) { this.mainActivity = t, this.dataControl = e, this.rootView_k852di$_0 = this.rootView_k852di$_0, this.mainHolder_n434bg$_0 = this.mainHolder_n434bg$_0 } function mlt() { this.div = jlt().getDiv(), this.buttonMain = jlt().getDiv(), this.buttonX = jlt().getDiv(), this.imgConnect = jlt().getImg() } function $lt(t, e) { e = e || Object.create(mlt.prototype), mlt.call(e), e.div.classList.add("active-build-section"), e.div.appendChild(e.buttonX), e.div.appendChild(e.buttonMain); var i = jlt().getDiv(); return i.classList.add("dot-holder"), e.div.appendChild(i), e.imgConnect.classList.add("dot"), i.appendChild(e.imgConnect), e.imgConnect.classList.add("hidden"), e.buttonMain.innerHTML = t, e.buttonMain.style.marginRight = "0.3em", e.buttonX.innerHTML = "X", e.buttonX.style.display = "inline-block", e.buttonMain.classList.add("button-active-build"), e.buttonMain.classList.add("button-text"), e.buttonX.classList.add("button-active-build"), e.buttonX.classList.add("button-text"), e.buttonX.style.display = "inline-block", e } function glt() { this.buttonDiv = jlt().getDiv(), this.smallHeader = jlt().getDiv(), this.selection = jlt().getDiv() } function vlt(t, e) { return e = e || Object.create(glt.prototype), glt.call(e), e.buttonDiv.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), e.buttonDiv.classList.add(B9().CSS_DIV_BUTTON), e.smallHeader.classList.add(B9().CSS_SMALL_TEXT), e.smallHeader.classList.add(B9().CSS_GREY_TEXT), e.buttonDiv.appendChild(e.smallHeader), e.smallHeader.classList.add("button-text"), e.smallHeader.innerHTML = t, e.selection.classList.add("button-selection"), e.selection.classList.add("button-text"), e.buttonDiv.appendChild(e.selection), e } function Slt() { this.buttonDiv = jlt().getDiv(), this.divCentered_0 = jlt().getDiv(), this.cog_0 = jlt().getImg(), this.divRemaining_0 = jlt().getDiv(), this.label_0 = jlt().getDiv(), this.buttonDiv.classList.add(B9().CSS_DIV_BUTTON), this.buttonDiv.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), this.buttonDiv.classList.add("padding5"), this.buttonDiv.classList.add("cogButton"), this.divCentered_0.classList.add("centred-parent"), this.buttonDiv.appendChild(this.divCentered_0), this.cog_0.src = "img/icon_cog.png?v=dm-1", this.cog_0.classList.add("centred"), this.divCentered_0.appendChild(this.cog_0), this.divRemaining_0.classList.add("cogText"), this.divRemaining_0.classList.add("centred"), this.divRemaining_0.classList.add("button-text"), this.divCentered_0.appendChild(this.divRemaining_0), this.label_0.classList.add(B9().CSS_CENTERED_TINY), this.label_0.classList.add("centered-flex"), this.label_0.classList.add("button-text"), this.buttonDiv.appendChild(this.label_0) } function Clt(t, e, i, a, r) { Llt(this), r > 0 && this.buttonDiv.classList.add(this.getIndentClass_0(r)), this.image.src = this.getIconSource_0(i), this.setHeader_0(t, e, i, a) } function Elt(t, e) { this.buttonDiv = jlt().getDiv(), this.image = jlt().getImg(), this.title = jlt().getDiv(), this.buttonDiv.style.display = "inline-block", this.title.innerHTML = t, this.image.src = e, this.image.style.width = "1.5em", this.image.style.height = "1.5em", this.createButton_n49kwd$_0() } function Alt() { wlt(), this.buttonDiv = jlt().getDiv(), this.image = jlt().getImg(), this.smallHeader = jlt().getDiv(), this.selectionDiv_mi374t$_0 = jlt().getDiv(), this.selection = jlt().getSpan(), this.action = jlt().getImg(), this.error_815q9w$_0 = jlt().getDiv() } function blt() { Ilt = this, this.TYPE_CLASS = 0, this.TYPE_ANCESTRY = 1, this.TYPE_BACKGROUND = 2 } olt.$metadata$ = { kind: p, simpleName: "LayoutSpellCasterNew", interfaces: [] }, _lt.prototype.setSpellKnown_6taknv$ = function (t) { t ? this.witch ? this.iconSpellBook.src = "img/icon_known_witch.png?v=dm-1" : this.iconSpellBook.src = "img/icon_known.png?v=dm-1" : this.witch ? this.iconSpellBook.src = "img/icon_known_witch_off.png?v=dm-1" : this.iconSpellBook.src = "img/icon_known_off.png?v=dm-1" }, _lt.$metadata$ = { kind: p, simpleName: "LayoutSpellChoice", interfaces: [Ylt] }, flt.prototype.restoreAllSpells = function () { var t; for (t = this.listIcons.iterator(); t.hasNext();)t.next().src = ult().SRC_SPELLSLOT_ON }, flt.prototype.useSpell = function () { var t; for (t = Xt(this.listIcons).iterator(); t.hasNext();) { var e = t.next(); if (_(e.src, ult().SRC_SPELLSLOT_ON)) { e.src = ult().SRC_SPELLSLOT_OFF; break } } }, flt.prototype.isOn_38alav$ = function (t) { return _(t.src, ult().SRC_SPELLSLOT_ON) }, flt.prototype.redrawSpells_za3lpa$ = function (t) { var e, i = this.listIcons.size - t | 0; e = this.listIcons.size; for (var a = 0; a < e; a++)this.listIcons.get_za3lpa$(a).src = a < i ? ult().SRC_SPELLSLOT_ON : ult().SRC_SPELLSLOT_OFF }, flt.$metadata$ = { kind: p, simpleName: "LayoutSpontanousRemaining", interfaces: [] }, Object.defineProperty(ylt.prototype, "rootView", { configurable: !0, get: function () { return null == this.rootView_k852di$_0 ? Yt("rootView") : this.rootView_k852di$_0 }, set: function (t) { this.rootView_k852di$_0 = t } }), Object.defineProperty(ylt.prototype, "mainHolder", { configurable: !0, get: function () { return null == this.mainHolder_n434bg$_0 ? Yt("mainHolder") : this.mainHolder_n434bg$_0 }, set: function (t) { this.mainHolder_n434bg$_0 = t } }), ylt.prototype.getCharacterBuild = function () { return this.mainActivity.characterBuild }, ylt.prototype.getCharacterData = function () { return this.mainActivity.characterBuild.getCharacterData() }, ylt.prototype.minimise = function () { this.rootView.style.display = "none" }, ylt.prototype.maximinse = function () { this.rootView.style.display = "block" }, ylt.$metadata$ = { kind: p, simpleName: "FragmentTemplate", interfaces: [] }, mlt.$metadata$ = { kind: p, simpleName: "ButtonActiveBuild", interfaces: [] }, glt.prototype.isVisible = function () { return this.buttonDiv.classList.contains("hidden") }, glt.prototype.hide = function () { this.buttonDiv.classList.contains("hidden") || this.buttonDiv.classList.add("hidden") }, glt.prototype.show = function () { this.buttonDiv.classList.remove("hidden") }, glt.$metadata$ = { kind: p, simpleName: "ButtonBasic", interfaces: [] }, Slt.prototype.setLabel_61zpoe$ = function (t) { this.label_0.innerHTML = t }, Slt.prototype.setRemaining_za3lpa$ = function (t) { 0 === t ? (this.cog_0.src = "img/icon_cog_tick.png?v=3", this.divRemaining_0.classList.contains("hidden") || this.divRemaining_0.classList.add("hidden")) : (this.cog_0.src = "img/icon_cog.png?v=3", this.divRemaining_0.classList.remove("hidden"), this.divRemaining_0.innerHTML = t.toString()) }, Slt.$metadata$ = { kind: p, simpleName: "ButtonCog", interfaces: [] }, Clt.prototype.setHeader_0 = function (t, e, i, a) { var r = i.featType; i.custom && (r += " (Custom)"), m(i.featType, se().FEATS_CLASS) && null != e.getCharacterData().getDualClass() && (i.combinedClass ? r = "Class Feat" : null != i.specificHeader ? i.specificHeader : e.getClassTemplate().getClassFeatReference_61zpoe$(a)), null != i.specificHeader && (r = o(i.specificHeader)), this.smallHeader.innerHTML = r }, Clt.prototype.getIndentClass_0 = function (t) { return "indent-" + t }, Clt.prototype.getIconSource_0 = function (t) { return m(t.featType, se().FEATS_GENERAL) ? "img/icon_general.png?v=dm-1" : m(t.featType, se().FEATS_SKILL) ? "img/icon_skill.png?v=dm-1" : m(t.featType, se().FEATS_CLASS) ? "img/icon_class.png?v=dm-1" : "img/icon_ancestry.png?v=dm-1" }, Clt.$metadata$ = { kind: p, simpleName: "ButtonFeat", interfaces: [Alt] }, Elt.prototype.createButton_n49kwd$_0 = function () { this.buttonDiv.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), this.buttonDiv.classList.add(B9().CSS_BUTTON_TEXT); var t = jlt().getDiv(); t.classList.add("button-column"), this.buttonDiv.appendChild(t), this.image.classList.add("button-icon"), t.appendChild(this.image); var e = jlt().getDiv(); e.classList.add("button-column"), this.buttonDiv.appendChild(e), e.appendChild(this.title), this.title.style.color = "White" }, Elt.$metadata$ = { kind: p, simpleName: "ButtonFolder", interfaces: [] }, blt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Ilt = null; function wlt() { return null === Ilt && new blt, Ilt } function Llt(t) { return t = t || Object.create(Alt.prototype), Alt.call(t), t.createButton_1gjxi2$_0(), t } function Tlt(t, e, i) { return i = i || Object.create(Alt.prototype), Alt.call(i), i.smallHeader.innerHTML = e, i.image.src = i.getIconSource_8kcprw$_0(t), i.createButton_1gjxi2$_0(), i } function klt(t, e) { this.buttonDiv = jlt().getDiv(), this.image = jlt().getImg(), this.smallHeader = jlt().getDiv(), this.selection = jlt().getSpan(), this.buttonDiv.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), this.buttonDiv.classList.add(B9().CSS_DIV_BUTTON), this.buttonDiv.classList.add("button-money"); var i = jlt().getDiv(); i.classList.add("button-column"), this.buttonDiv.appendChild(i), this.image.style.marginTop = "0.3em", this.image.src = "img/icon_money_" + t + ".png?v=dm-1", i.appendChild(this.image); var a = jlt().getDiv(); a.classList.add("button-column"), this.buttonDiv.appendChild(a), this.smallHeader.classList.add(B9().CSS_SMALL_TEXT), this.smallHeader.classList.add(B9().CSS_GREY_TEXT), this.smallHeader.innerHTML = e, a.appendChild(this.smallHeader), this.selection.classList.add("button-selection"), a.appendChild(this.selection); var r = jlt().getDiv(); r.style.position = "relative", this.buttonDiv.appendChild(r), r.classList.add("centred-parent"), this.buttonDiv.style.cursor = "pointer", r.classList.add(B9().CSS_GRID_ITEM) } function Rlt(t) { Dlt(t, this), this.imageViewRoll = jlt().getImg(), this.imageViewRoll.src = "img/icon_d20_orange_small.png?v=2", this.imageViewRoll.style.verticalAlign = "middle", this.buttonDiv.style.display = "inline-block", this.imageViewRoll.classList.add("dice-proficiency"), this.imageViewRoll.style.marginRight = "1em", this.buttonDiv.classList.add("dice-button"), this.buttonDiv.insertBefore(this.imageViewRoll, this.buttonDiv.firstChild) } function Plt() { Rlt.call(this, "Roll") } function Mlt(t, e) { Rlt.call(this, t), this.imageViewRoll.classList.add("named-roll"), this.buttonDiv.classList.add("named-roll"), this.imageViewRoll.dataset.rollValue = e, this.buttonDiv.dataset.rollValue = e } function Nlt() { this.buttonDiv = jlt().getDiv() } function Dlt(t, e) { return e = e || Object.create(Nlt.prototype), Nlt.call(e), e.buttonDiv.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), e.buttonDiv.classList.add(B9().CSS_DIV_BUTTON_SIMPLE), e.buttonDiv.classList.add("button-simple"), e.buttonDiv.classList.add("button-text"), e.buttonDiv.innerHTML = t, e } function xlt() { this.div = jlt().getDiv(), this.buttonMain = jlt().getDiv(), this.buttonX = jlt().getDiv() } function zlt(t, e) { return e = e || Object.create(xlt.prototype), xlt.call(e), e.div.style.display = "inline-block", e.div.style.marginRight = "1em", e.div.appendChild(e.buttonMain), e.div.appendChild(e.buttonX), e.buttonMain.classList.add(B9().CSS_DIV_BUTTON_SIMPLE), e.buttonMain.style.display = "inline-block", e.buttonMain.classList.add("button-simple"), e.buttonMain.classList.add("button-text"), e.buttonMain.innerHTML = t, e.buttonMain.style.marginRight = "0.1em", e.buttonX.innerHTML = "X", e.buttonX.classList.add(B9().CSS_DIV_BUTTON_SIMPLE), e.buttonX.classList.add("button-simple"), e.buttonX.classList.add("button-text"), e.buttonX.style.display = "inline-block", e } function Olt() { jlt() } function Flt() { Blt = this } Alt.prototype.createButton_1gjxi2$_0 = function () { this.buttonDiv.classList.add(B9().CSS_MARGIN_RIGHT_BOTTOM), this.buttonDiv.classList.add(B9().CSS_DIV_BUTTON); var t = jlt().getDiv(); t.classList.add("button-column"), this.buttonDiv.appendChild(t), this.image.classList.add("button-icon"), t.appendChild(this.image); var e = jlt().getDiv(); e.classList.add("button-column"), this.buttonDiv.appendChild(e), this.smallHeader.classList.add(B9().CSS_SMALL_TEXT), this.smallHeader.classList.add(B9().CSS_GREY_TEXT), e.appendChild(this.smallHeader), this.selection.classList.add("button-selection"), this.selectionDiv_mi374t$_0.appendChild(this.selection), this.selectionDiv_mi374t$_0.appendChild(this.action), this.action.style.display = "none", this.action.style.marginLeft = "0.3em", e.appendChild(this.selectionDiv_mi374t$_0), this.error_815q9w$_0.classList.add(B9().CSS_WARNING_TEXT), this.error_815q9w$_0.classList.add(B9().CSS_HIDDEN), this.error_815q9w$_0.classList.add(B9().CSS_SMALL_TEXT), this.error_815q9w$_0.innerHTML = "Prerequisites not met or taken too many times!", this.buttonDiv.appendChild(this.error_815q9w$_0) }, Alt.prototype.setAction_za3lpa$ = function (t) { htt().setActionSymbol_1j8abp$(this.action, t) }, Alt.prototype.setError_6taknv$ = function (t) { t ? (htt().setHidden_njr4nn$(this.error_815q9w$_0, !1), this.selection.classList.remove(B9().CSS_WARNING_TEXT)) : (htt().setHidden_njr4nn$(this.error_815q9w$_0, !0), this.selection.classList.contains(B9().CSS_WARNING_TEXT) && this.selection.classList.remove(B9().CSS_WARNING_TEXT)) }, Alt.prototype.getIconSource_8kcprw$_0 = function (t) { return 0 === t ? "img/icon_class.png?v=dm-1" : 1 === t ? "img/icon_ancestry.png?v=dm-1" : 2 === t ? "img/icon_background.png?v=dm-1" : "img/icon_class.png?v=dm-1" }, Alt.$metadata$ = { kind: p, simpleName: "ButtonImg", interfaces: [] }, klt.$metadata$ = { kind: p, simpleName: "ButtonMoney", interfaces: [] }, Rlt.$metadata$ = { kind: p, simpleName: "ButtonNamedRoll", interfaces: [Nlt] }, Plt.$metadata$ = { kind: p, simpleName: "ButtonRoll", interfaces: [Rlt] }, Mlt.$metadata$ = { kind: p, simpleName: "ButtonRollSpell", interfaces: [Rlt] }, Nlt.$metadata$ = { kind: p, simpleName: "ButtonSimple", interfaces: [] }, xlt.$metadata$ = { kind: p, simpleName: "ButtonWithX", interfaces: [] }, Flt.prototype.getAside_61zpoe$ = function (t) { var i, a = e.isType(i = document.createElement("aside"), HTMLElement) ? i : d(); return a.setAttribute("aria-label", t), a }, Flt.prototype.getDiv = function () { var t; return e.isType(t = document.createElement("div"), HTMLDivElement) ? t : d() }, Flt.prototype.getH2 = function () { var t; return e.isType(t = document.createElement("h2"), HTMLHeadingElement) ? t : d() }, Flt.prototype.getH3 = function () { var t; return e.isType(t = document.createElement("h3"), HTMLHeadingElement) ? t : d() }, Flt.prototype.getP = function () { var t; return e.isType(t = document.createElement("p"), HTMLParagraphElement) ? t : d() }, Flt.prototype.getSpan = function () { var t; return e.isType(t = document.createElement("span"), HTMLSpanElement) ? t : d() }, Flt.prototype.getImg = function () { var t; return e.isType(t = document.createElement("img"), HTMLImageElement) ? t : d() }, Flt.prototype.getSpinner = function () { var t; return e.isType(t = document.createElement("select"), HTMLSelectElement) ? t : d() }, Flt.prototype.getSpinnerOption = function () { var t; return e.isType(t = document.createElement("option"), HTMLOptionElement) ? t : d() }, Flt.prototype.getCheckbox = function () { var t, i = e.isType(t = document.createElement("input"), HTMLInputElement) ? t : d(); return i.type = "checkbox", i }, Flt.prototype.getNumericInput = function () { var t, i = e.isType(t = document.createElement("input"), HTMLInputElement) ? t : d(); return i.type = "number", i }, Flt.prototype.getImageInput = function () { var t, i = e.isType(t = document.createElement("input"), HTMLInputElement) ? t : d(); return i.type = "file", i.accept = "image/jpeg, image/png", i }, Flt.prototype.getFileBackupInput = function () { var t, i = e.isType(t = document.createElement("input"), HTMLInputElement) ? t : d(); return i.type = "file", i.accept = ".pbex", i }, Flt.prototype.getTextInput = function () { var t; return e.isType(t = document.createElement("input"), HTMLInputElement) ? t : d() }, Flt.prototype.getTextArea = function () { var t; return e.isType(t = document.createElement("textarea"), HTMLTextAreaElement) ? t : d() }, Flt.prototype.getTable = function () { var t; return e.isType(t = document.createElement("table"), HTMLTableElement) ? t : d() }, Flt.prototype.getTableRow = function () { var t; return e.isType(t = document.createElement("tr"), HTMLTableRowElement) ? t : d() }, Flt.prototype.getTableCell = function () { var t; return e.isType(t = document.createElement("td"), HTMLTableCellElement) ? t : d() }, Flt.prototype.getLabel = function () { var t; return e.isType(t = document.createElement("label"), HTMLLabelElement) ? t : d() }, Flt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Blt = null; function jlt() { return null === Blt && new Flt, Blt } function Hlt() { Wlt() } function qlt() { Glt = this } function Ult(t, e, i, a, r, o) { return function (s) { return s.stopImmediatePropagation(), s.preventDefault(), t.openDialog_ip94j4$(new Cet(t, e, i, a, r, o)), n } } qlt.prototype.updateFreeFeatsAndSpecials_jt2pum$ = function (t, e, i, a, r, n) { a.innerHTML = "", r.innerHTML = "", r.style.display = "none", this.setSpecials_0(t, e, i, n, a, r), this.addFreeFeats_0(t, a, r, n) }, qlt.prototype.addFreeFeats_0 = function (t, e, i, a) { var r; for (r = t.characterBuild.getListFreeFeatsAtLevel_za3lpa$(a).iterator(); r.hasNext();) { var n = r.next(), o = new Ylt(!0), s = t.getDataControl().managerFeats.getFeatInformation_pdl1vj$(n.featID); if (null != s) { var l = "Free Feat: " + s.name; null != n.extraInformation && (l += " (" + n.extraInformation + ")"), o.setName_61zpoe$(l), o.setTraits_pdl1vj$(s.traits), o.setDescription_61zpoe$(s.textDescription), o.setAction_za3lpa$(s.action), e.appendChild(o.div) } } }, qlt.prototype.setSpecials_0 = function (t, e, i, a, r, n) { var s, l = u(), c = u(); for (s = o(i.hashMapSpecialInformation[a - 1 | 0]).keys.iterator(); s.hasNext();) { var p = s.next(), h = o(i.hashMapSpecialInformation[a - 1 | 0]).get_11rb$(p); o(h).hashMapSpecialChoices.isEmpty() ? l.add_11rb$(p) : c.add_11rb$(p) } Q(l), Q(c), this.addSpecials_0(t, e, i, l, a, r, n), this.addSpecials_0(t, e, i, c, a, r, n) }, qlt.prototype.addSpecials_0 = function (t, e, i, a, r, n, s) { var l, c; for (l = a.iterator(); l.hasNext();) { var p = l.next(), h = o(i.hashMapSpecialInformation[r - 1 | 0]).get_11rb$(p), d = new Ylt(!0), u = null != (c = o(h).name) ? c : ""; d.setName_61zpoe$(lt(u)), d.setDescription_61zpoe$(h.textDescription), d.setTraits_pdl1vj$(h.flags), d.setAction_za3lpa$(h.action), h.hashMapSpecialChoices.isEmpty() ? n.appendChild(d.div) : (this.addSpecialChoice_0(t, e, i, h, r, p, d, 0), s.appendChild(d.div), s.style.display = "block") } }, qlt.prototype.addSpecialChoice_0 = function (t, e, i, a, r, n, s, l) { var c, p, h = i.getCharacterData(); for (c = o(a).hashMapSpecialChoices.keys.iterator(); c.hasNext();) { var d = c.next(), u = vlt(d); u.buttonDiv.style.marginTop = "0.5em", s.div.appendChild(u.buttonDiv), u.buttonDiv.addEventListener("click", Ult(t, e, i, r, n, d)); var f = h.getSpecialSelection_puj7f4$(n, d); if (null != f) { var y = o(a.getHashMapSpecialChoices_61zpoe$(d)).get_11rb$(f); if (null != y) { var m = null != (p = y.name) ? p : ""; u.selection.innerHTML = lt(m), u.selection.classList.remove(B9().CSS_RED_TEXT), this.addSpecialChoice_0(t, e, i, y, r, f, s, l + 20 | 0) } } else u.selection.innerHTML = B9().NOT_SELECTED, _(u.selection.style.display, B9().CSS_RED_TEXT) || u.selection.classList.add(B9().CSS_RED_TEXT) } }, qlt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Glt = null; function Wlt() { return null === Glt && new qlt, Glt } function Ylt(t) { this.div = jlt().getDiv(), this.topDiv = jlt().getDiv(), this.itemLevel = jlt().getDiv(), this.action_m4yoz9$_0 = jlt().getImg(), this.title = jlt().getDiv(), this.layoutDetail = jlt().getDiv(), this.traits_kkn66c$_0 = jlt().getDiv(), this.description_ypb0h5$_0 = jlt().getDiv(), this.bottomDiv_oxqei5$_0 = jlt().getDiv(), this.copyright_iu80us$_0 = jlt().getDiv(), this.div.classList.add("listview-item"), this.div.appendChild(this.topDiv), this.div.style.padding = "0.2em", this.topDiv.classList.add("button-text"), this.topDiv.classList.add("top-div"), this.title.classList.add(B9().CSS_LISTVIEW_TITLE), this.topDiv.appendChild(this.title), this.topDiv.appendChild(this.action_m4yoz9$_0); var i, a = jlt().getDiv(); a.style.flex = "1", this.topDiv.appendChild(a), this.topDiv.appendChild(this.itemLevel), this.itemLevel.classList.add("listview-item-level"), htt().setHidden_njr4nn$(this.itemLevel, !1), this.div.appendChild(this.layoutDetail), this.layoutDetail.appendChild(this.traits_kkn66c$_0), this.description_ypb0h5$_0.style.marginTop = "0.3em", this.layoutDetail.classList.add("listview-detail"), this.layoutDetail.appendChild(this.description_ypb0h5$_0), this.copyright_iu80us$_0.classList.add("copyright"), this.layoutDetail.appendChild(this.bottomDiv_oxqei5$_0), this.bottomDiv_oxqei5$_0.appendChild(this.copyright_iu80us$_0), this.bottomDiv_oxqei5$_0.style.display = "flex", this.copyright_iu80us$_0.style.marginTop = "0.3em", this.copyright_iu80us$_0.style.flex = "1", htt().setHidden_njr4nn$(this.layoutDetail, !1), this.bottomDiv_oxqei5$_0.style.marginTop = "0.3m", t ? this.div.addEventListener("click", (i = this, function (t) { var a, r = e.isType(a = t.target, HTMLElement) ? a : d(); return r.classList.contains(B9().CSS_TRAIT) || r.classList.contains("named-roll") || (i.layoutDetail.classList.contains(B9().CSS_HIDDEN) ? htt().setHidden_njr4nn$(i.layoutDetail, !0) : htt().setHidden_njr4nn$(i.layoutDetail, !1)), n })) : this.bottomDiv_oxqei5$_0.style.marginBottom = "1em" } function Vlt(t) { Ylt.call(this, t), this.checkbox = new Let, this.checkbox.div.style.marginTop = "0.2em", this.checkbox.img.classList.add("checkbox-buy"), this.topDiv.insertBefore(this.checkbox.div, this.topDiv.firstChild) } function Klt() { Zlt() } function Xlt() { Jlt = this, this.ID_HEADER = "id_header", this.ID_PARENT_FEATS = "id_parent_feats", this.ID_PARENT_OPTIONS = "id_parent_options", this.ID_PARENT_FREE = "id_parent_free" } Ylt.prototype.setName_61zpoe$ = function (t) { this.title.innerHTML = t }, Ylt.prototype.hideName = function () { htt().setHidden_njr4nn$(this.title, !1) }, Ylt.prototype.setDescription_61zpoe$ = function (t) { this.description_ypb0h5$_0.innerHTML = t }, Ylt.prototype.setLevel_pdl1vj$ = function (t) { null != t ? (this.itemLevel.innerHTML = t, htt().setHidden_njr4nn$(this.itemLevel, !0)) : htt().setHidden_njr4nn$(this.itemLevel, !1) }, Ylt.prototype.setTraits_pdl1vj$ = function (t) { this.traits_kkn66c$_0.innerHTML = "", null != t && htt().addTraitsToFlexbox_h2l30b$(this.traits_kkn66c$_0, t) }, Ylt.prototype.setAction_za3lpa$ = function (t) { htt().setActionSymbol_1j8abp$(this.action_m4yoz9$_0, t) }, Ylt.prototype.setIllegal = function () { this.title.classList.add(B9().CSS_RED_TEXT), this.description_ypb0h5$_0.classList.add(B9().CSS_RED_TEXT), this.copyright_iu80us$_0.classList.add(B9().CSS_RED_TEXT) }, Ylt.prototype.setCopyright_61zpoe$ = function (t) { this.copyright_iu80us$_0.innerHTML = t }, Ylt.$metadata$ = { kind: p, simpleName: "LayoutAction", interfaces: [] }, Vlt.$metadata$ = { kind: p, simpleName: "LayoutActionWithCheckbox", interfaces: [Ylt] }, Xlt.prototype.getLayoutLevel = function () { var t = jlt().getDiv(), e = jlt().getH2(); e.id = this.ID_HEADER, t.appendChild(e); var i = jlt().getDiv(); i.id = this.ID_PARENT_FEATS, t.appendChild(i); var a = jlt().getDiv(); a.id = this.ID_PARENT_OPTIONS, t.appendChild(a); var r = jlt().getDiv(); return r.id = this.ID_PARENT_FREE, t.appendChild(r), t }, Xlt.prototype.getCogButton = function () { var t = jlt().getDiv(); t.classList.add("styleButton"); var e = jlt().getSpan(); return e.innerText = "Temp", t.appendChild(e), t }, Xlt.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Jlt = null; function Zlt() { return null === Jlt && new Xlt, Jlt } function Qlt() { this.layoutLevel = jlt().getDiv(), this.header = jlt().getDiv(), this.divCogs = jlt().getDiv(), this.divAbilityBoostCogs = jlt().getDiv(), this.parentFeats = jlt().getDiv(), this.parentOptions = jlt().getDiv(), this.parentFree = jlt().getDiv(), this.customAbilityIncrease_0 = jlt().getDiv(), this.listActiveAdditionalCogs_0 = u(), this.buttonSkillTraining = new Slt } function tct(t, e) { e = e || Object.create(Qlt.prototype), Qlt.call(e), e.layoutLevel.classList.add("build-section"); var i = jlt().getAside_61zpoe$("Level " + t + " Options"); e.layoutLevel.appendChild(i); var a = jlt().getDiv(); a.classList.add("centered-div-holder"), i.appendChild(a), e.header.classList.add("subtitle"), e.header.style.marginTop = "1em", e.header.id = Zlt().ID_HEADER, e.header.innerHTML = "Level " + t, a.appendChild(e.header); var r = jlt().getDiv(); r.classList.add(B9().CSS_ROUNDED_RECTANGLE), i.appendChild(r); var n = jlt().getDiv(); return n.classList.add("centered-flex"), n.appendChild(e.divCogs), r.appendChild(n), 1 !== t && (e.divCogs.appendChild(e.buttonSkillTraining.buttonDiv), e.buttonSkillTraining.setLabel_61zpoe$("Skill Increase"), e.divCogs.appendChild(e.divAbilityBoostCogs), e.divAbilityBoostCogs.style.display = "inline-block"), e.customAbilityIncrease_0.style.textAlign = "center", r.appendChild(e.customAbilityIncrease_0), e.parentFeats.id = Zlt().ID_PARENT_FEATS, r.appendChild(e.parentFeats), e.parentOptions.id = Zlt().ID_PARENT_OPTIONS, r.appendChild(e.parentOptions), e.parentFree.id = Zlt().ID_PARENT_FREE, r.appendChild(e.parentFree), e } function ect(t) { this.holder = jlt().getDiv(), this.holder.id = "ring-holder"; var e = jlt().getDiv(); e.classList.add("lds-ring"), this.holder.appendChild(e); var i = jlt().getSpan(); i.innerHTML = t, e.appendChild(i); var a = jlt().getDiv(); e.appendChild(a), a = jlt().getDiv(), e.appendChild(a), a = jlt().getDiv(), e.appendChild(a), a = jlt().getDiv(), e.appendChild(a) } function ict(t) { this.mainActivity_0 = t, this.listExtraFeatRefresh = u() } function act() { this.div = jlt().getDiv(), this.imageViewRoll = jlt().getImg(), this.imageView = jlt().getImg(), this.divTotal = jlt().getDiv(), this.textName = jlt().getDiv(), this.div.classList.add("section-skill"), this.imageViewRoll.style.verticalAlign = "middle", this.imageViewRoll.style.marginRight = "0.5em", this.imageViewRoll.classList.add("dice-proficiency"), this.imageViewRoll.src = "img/icon_d20_orange_small.png?v=2", this.div.appendChild(this.imageViewRoll), this.imageView.style.verticalAlign = "middle", this.div.appendChild(this.imageView), this.div.appendChild(this.divTotal), this.divTotal.classList.add("section-skill-total"), this.textName.classList.add("section-skill-name"), this.div.appendChild(this.textName) } Qlt.prototype.setCustomAbilityIncreaseText_61zpoe$ = function (t) { 0 === t.length ? (this.customAbilityIncrease_0.innerHTML = "", htt().setHidden_njr4nn$(this.customAbilityIncrease_0, !1)) : (this.customAbilityIncrease_0.innerHTML = t, htt().setHidden_njr4nn$(this.customAbilityIncrease_0, !0)) }, Qlt.prototype.clearCurrentAdditionalCogs = function () { var t, e; for (t = this.listActiveAdditionalCogs_0.iterator(); t.hasNext();) { var i = t.next(); null != (e = i.buttonDiv.parentElement) && e.removeChild(i.buttonDiv) } this.listActiveAdditionalCogs_0.clear() }, Qlt.prototype.addAdditionalCog_pbo2j8$ = function (t) { this.listActiveAdditionalCogs_0.add_11rb$(t), this.divCogs.appendChild(t.buttonDiv) }, Qlt.$metadata$ = { kind: p, simpleName: "LayoutLevel", interfaces: [] }, ect.$metadata$ = { kind: p, simpleName: "LoadingSpinner", interfaces: [] }, ict.prototype.updateAllPlayFragments_n40yp2$ = function (t) { this.mainActivity_0.finishedLoading && (this.mainActivity_0.getNavigationControl().sectionTop.updateAll(), this.mainActivity_0.getNavigationControl().sectionDefenses.updateAll(), this.mainActivity_0.getNavigationControl().sectionSkills.updateAll(), this.mainActivity_0.getNavigationControl().sectionConditions.updateConditions(), this.mainActivity_0.getNavigationControl().tabbedAreaActions.updateAll(), this.mainActivity_0.getNavigationControl().tabbedAreaArmor.updateAll(), this.mainActivity_0.getNavigationControl().tabbedAreaWeapons.updateAll(), this.mainActivity_0.getNavigationControl().tabbedAreaGear.updateAll(), this.mainActivity_0.getNavigationControl().tabbedAreaSpells.updateAll(), this.mainActivity_0.getNavigationControl().tabbedAreaFeats.updateAll(), this.mainActivity_0.getNavigationControl().tabbedAreaDetails.updateAll(), this.mainActivity_0.getNavigationControl().tabbedAreaPets.updateAll()) }, ict.prototype.onLevelChanged_n40yp2$ = function (t) { this.updateAllPlayFragments_n40yp2$(t) }, ict.prototype.onBulkChanged_n40yp2$ = function (t) { this.mainActivity_0.finishedLoading && this.mainActivity_0.getNavigationControl().tabbedAreaGear.updateBulk() }, ict.prototype.onConditionChanged_kvhkcm$ = function (t, e, i) { this.mainActivity_0.finishedLoading && (null == e ? this.mainActivity_0.getDataControl().managerClasses.conditionEffects.hashMapConditionEffects.containsKey_11rb$(o(i).condition) ? this.updateAllPlayFragments_n40yp2$(t) : this.mainActivity_0.getNavigationControl().sectionConditions.updateConditions() : this.mainActivity_0.getNavigationControl().tabbedAreaPets.updatePet_61zpoe$(e)) }, ict.prototype.onClassChanged_n40yp2$ = function (t) { this.updateBuildFragment_n40yp2$(t), this.updateAllPlayFragments_n40yp2$(t) }, ict.prototype.onBackgroundChange_n40yp2$ = function (t) { this.onAbilityScoresChanged_hxv71$(t, 1, !1), this.onFreeFeatsOrSpecialsChanged_hxv71$(t, 1, !1), this.mainActivity_0.finishedLoading && this.mainActivity_0.getNavigationControl().getFragmentBuild().updateBackgroundButton(), this.updateAllPlayFragments_n40yp2$(t) }, ict.prototype.onAncestryChanged_n40yp2$ = function (t) { var e, i, a = this.mainActivity_0.getDataControl().managerAncestry.getAncestryTemplate_5btbp7$(this.mainActivity_0.characterBuild); for (e = o(a).ancestryFeatLevels, i = 0; i !== e.length; ++i) { var r = e[i]; this.onFeatChanged_hxv71$(t, r, !1) } this.mainActivity_0.finishedLoading && this.mainActivity_0.getNavigationControl().getFragmentBuild().updateAncestryButton(), this.onAbilityScoresChanged_hxv71$(t, 1, !1), this.updateAllPlayFragments_n40yp2$(t) }, ict.prototype.onWeaponProficiencyChanged_hdt6c$ = function (t, e) { this.mainActivity_0.finishedLoading && e >= this.mainActivity_0.characterBuild.getCharacterData().getCharacterLevel() && this.mainActivity_0.getNavigationControl().tabbedAreaWeapons.updateAll() }, ict.prototype.onFreeFeatsOrSpecialsChanged_hxv71$ = function (t, e, i) { for (var a = e; a <= 20; a++)this.listExtraFeatRefresh.contains_11rb$(a) || this.listExtraFeatRefresh.add_11rb$(a); this.mainActivity_0.finishedLoading && (this.refreshExtraFeats_0(), e <= this.mainActivity_0.characterBuild.getCharacterData().getCharacterLevel() && i && this.updateAllPlayFragments_n40yp2$(t)) }, ict.prototype.onFeatChanged_hxv71$ = function (t, e, i) { this.updateBuildFragment_n40yp2$(t), this.updateAllPlayFragments_n40yp2$(t) }, ict.prototype.refreshExtraFeats_0 = function () { var t; if (this.mainActivity_0.finishedLoading) { var e = this.mainActivity_0.getNavigationControl().getFragmentBuild(); for (t = this.listExtraFeatRefresh.iterator(); t.hasNext();) { var i = t.next(); e.setFeats_za3lpa$(i), e.updateFreeFeatsAndSpecials_za3lpa$(i), e.checkFeatEligibility_za3lpa$(i), e.setTrainedOnlySkills_za3lpa$(i) } this.listExtraFeatRefresh.clear() } }, ict.prototype.onSkillProficiencyChange_hdt6c$ = function (t, e) { if (this.mainActivity_0.finishedLoading) { var i = this.mainActivity_0.getNavigationControl().getFragmentBuild(); i.updateAllSkillChoicesRemainingStartingFrom_za3lpa$(e), i.setTrainedOnlySkills_za3lpa$(e), e <= this.mainActivity_0.characterBuild.getCharacterData().getCharacterLevel() && this.mainActivity_0.getNavigationControl().sectionSkills.updateAll() } }, ict.prototype.onLoreAdded_hdt6c$ = function (t, e) { this.mainActivity_0.finishedLoading && (this.mainActivity_0.getNavigationControl().getFragmentBuild().updateAll(), e <= this.mainActivity_0.characterBuild.getCharacterData().getCharacterLevel() && this.mainActivity_0.getNavigationControl().sectionSkills.updateAll()) }, ict.prototype.onArmorChanged_n40yp2$ = function (t) { this.mainActivity_0.finishedLoading && (this.mainActivity_0.getNavigationControl().tabbedAreaPets.updateAll(), this.mainActivity_0.getNavigationControl().sectionDefenses.updateAll(), this.mainActivity_0.getNavigationControl().sectionSkills.updateAll(), this.mainActivity_0.getNavigationControl().tabbedAreaArmor.updatePlayerArmorTextViews(), this.mainActivity_0.getNavigationControl().tabbedAreaGear.updateMoneyButtons()), this.onSpeedChanged_n40yp2$(t), this.onBulkChanged_n40yp2$(t) }, ict.prototype.onWeaponAdded_21ghvs$ = function (t, e) { this.mainActivity_0.finishedLoading && (this.mainActivity_0.getNavigationControl().tabbedAreaWeapons.updateAll(), this.mainActivity_0.getNavigationControl().tabbedAreaGear.updateBulk(), this.mainActivity_0.getNavigationControl().tabbedAreaGear.updateMoneyButtons()) }, ict.prototype.onShieldChanged_n40yp2$ = function (t) { this.mainActivity_0.finishedLoading && (this.mainActivity_0.getNavigationControl().sectionDefenses.updateShield(), this.mainActivity_0.getNavigationControl().sectionSkills.updateAll(), this.mainActivity_0.getNavigationControl().tabbedAreaArmor.updatePlayerShieldTextViews(), this.mainActivity_0.getNavigationControl().tabbedAreaGear.updateBulk(), this.mainActivity_0.getNavigationControl().tabbedAreaGear.updateMoneyButtons()) }, ict.prototype.onSpeedChanged_n40yp2$ = function (t) { this.mainActivity_0.finishedLoading && this.mainActivity_0.getNavigationControl().sectionTop.setSpeed() }, ict.prototype.onAbilityScoresChanged_hxv71$ = function (t, e, i) { if (this.mainActivity_0.finishedLoading) { var a = this.mainActivity_0.getNavigationControl().getFragmentBuild(); a.checkFeatEligibility_za3lpa$(e), a.updateSkillChoicesRemaining_za3lpa$(e), e <= this.mainActivity_0.characterBuild.getCharacterData().getCharacterLevel() && i && this.updateAllPlayFragments_n40yp2$(this.mainActivity_0.characterBuild) } }, ict.prototype.onIntelligenceChanged_hdt6c$ = function (t, e) { this.mainActivity_0.finishedLoading && this.mainActivity_0.getNavigationControl().getFragmentBuild().setTrainedOnlySkills_za3lpa$(e), this.updateSpells_n40yp2$(t) }, ict.prototype.updateAfterLoad_n40yp2$ = function (t) { if (this.mainActivity_0.finishedLoading) { for (var e = 1; e <= 20; e++)this.onFeatChanged_hxv71$(t, e, !1); this.onAbilityScoresChanged_hxv71$(t, 1, !1), this.mainActivity_0.getNavigationControl().getFragmentBuild().updateAll(), this.mainActivity_0.getNavigationControl().sectionDefenses.setHPLayout() } this.updateAllPlayFragments_n40yp2$(t) }, ict.prototype.updateSpells_n40yp2$ = function (t) { this.mainActivity_0.finishedLoading && this.mainActivity_0.getNavigationControl().tabbedAreaSpells.updateAll() }, ict.prototype.updateFeatText_wothqf$ = function (t, e, i) { this.mainActivity_0.finishedLoading && this.mainActivity_0.getNavigationControl().getFragmentBuild().updateFeatText_vqvrqt$(e, i) }, ict.prototype.setTrainedOnlySkills_zf3t43$ = function (t, e) { var i; if (this.mainActivity_0.finishedLoading) { var a = this.mainActivity_0.getNavigationControl().getFragmentBuild(); if (null != e) for (i = e.iterator(); i.hasNext();) { var r = i.next(); null != r && a.setTrainedOnlySkills_za3lpa$(r) } } }, ict.prototype.getAdditionalInfo_q8jdea$ = function (t, e, i, a) { return !!this.mainActivity_0.finishedLoading && (this.mainActivity_0.getAdditionalInfo_k9w0wi$(e, i, a, !1), !0) }, ict.prototype.addExtraFeatRefreshLevel_hdt6c$ = function (t, e) { this.listExtraFeatRefresh.contains_11rb$(e) || this.listExtraFeatRefresh.add_11rb$(e) }, ict.prototype.finishedLoading_n40yp2$ = function (t) { return this.mainActivity_0.finishedLoading }, ict.prototype.showInformationAlert_nwzcgj$ = function (t, e) { null != e && this.mainActivity_0.showMessage_61zpoe$(e) }, ict.prototype.logError_nwzcgj$ = function (t, e) { console.log("ERROR: " + e) }, ict.prototype.logWarning_nwzcgj$ = function (t, e) { console.log("WARNING: " + e) }, ict.prototype.onPetChanged_nwzcgj$ = function (t, e) { this.mainActivity_0.finishedLoading && this.mainActivity_0.getNavigationControl().tabbedAreaPets.updateAll() }, ict.prototype.onPetEquipmentChanged_nwzcgj$ = function (t, e) { this.mainActivity_0.finishedLoading && null != e && (this.mainActivity_0.getNavigationControl().tabbedAreaPets.updatePet_61zpoe$(e), this.mainActivity_0.getNavigationControl().tabbedAreaGear.updateMoneyButtons()) }, ict.prototype.onFamiliarAbilityChanged_nwzcgj$ = function (t, e) { this.updateAllPlayFragments_n40yp2$(t) }, ict.prototype.onCustomBuffChanged_nwzcgj$ = function (t, e) { this.mainActivity_0.finishedLoading && (null == e ? this.updateAllPlayFragments_n40yp2$(t) : this.mainActivity_0.getNavigationControl().tabbedAreaPets.updatePet_61zpoe$(e)) }, ict.prototype.updateBuildFragment_n40yp2$ = function (t) { if (this.mainActivity_0.finishedLoading) { var e = this.mainActivity_0.getNavigationControl().getFragmentBuild(); e.updateAll(); for (var i = 1; i <= 20; i++)e.setFeats_za3lpa$(i), e.updateFreeFeatsAndSpecials_za3lpa$(i), e.checkFeatEligibility_za3lpa$(i), e.setTrainedOnlySkills_za3lpa$(i); this.listExtraFeatRefresh.clear() } }, ict.prototype.updateGearFragment_n40yp2$ = function (t) { this.mainActivity_0.finishedLoading && this.mainActivity_0.getNavigationControl().tabbedAreaGear.updateAll() }, ict.prototype.getPlatformUUID = function () { var t, e = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx", i = Qt("[xy]"); t: do { var a = i.find_905azu$(e); if (null == a) { t = e.toString(); break t } var r = 0, n = e.length, s = te(n); do { var l = o(a); s.append_ezbsdh$(e, r, l.range.start); var c = s.append_gw00v9$, p = C(16 * Jt.Default.nextFloat()); m(l.value, "y") && (p = 3 & p | 8), c.call(s, Zt(p, 16)), r = l.range.endInclusive + 1 | 0, a = l.next() } while (r < n && null != a); r < n && s.append_ezbsdh$(e, r, n), t = s.toString() } while (0); return t }, ict.$metadata$ = { kind: p, simpleName: "GuiUpdateControl", interfaces: [Po] }, act.$metadata$ = { kind: p, simpleName: "LayoutProficiencyShort", interfaces: [] }; var rct = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function nct(t, e, i, a, r) { var n, o; this.characterBuild = i, this.layoutMain = jlt().getDiv(), this.hashMapModsToButtons = c(); var s = u(); for (n = this.characterBuild.hashMapInventorModifications.values.iterator(); n.hasNext();) { var l = n.next(); l.type === a && this.characterBuild.getCharacterData().getCharacterLevel() >= l.reqCharacterLevel && s.add_11rb$(l) } for (s.size > 1 && q(s, new G(rct(oct))), o = s.iterator(); o.hasNext();) { var p = o.next(), h = vlt(p.name); this.layoutMain.appendChild(h.buttonDiv), this.hashMapModsToButtons.put_xwzc9p$(p, h), h.buttonDiv.addEventListener("click", sct(t, e, this, p, r)), this.setButtonName_4m763w$(this.characterBuild, p, r) } } function oct(t) { return t.level } function sct(t, e, i, a, r) { return function (o) { return t.openDialog_ip94j4$(new Xat(t, e, i.characterBuild, a, r)), n } } function lct(t, i) { var a, r, n, o, s, l, c, p, h; this.mainActivity_0 = t, this.dataControl_0 = i, this.currentTabbedIndex = 0, this.tabbedAreaDisplay_0 = jlt().getDiv(), this.subMenu = jlt().getDiv(), this.subMenuPets = jlt().getDiv(), this.showPlan_0 = !0, this.tabbedAreaArmor = new kct(this.mainActivity_0, this.dataControl_0), this.tabbedAreaWeapons = new upt(this.mainActivity_0, this.dataControl_0), this.tabbedAreaGear = new Vct(this.mainActivity_0, this.dataControl_0), this.tabbedAreaSpells = new npt(this.mainActivity_0, this.dataControl_0, this.subMenu), this.tabbedAreaPets = new apt(this.mainActivity_0, this.dataControl_0, this.subMenuPets), this.tabbedAreaDetails = new Nct(this.mainActivity_0, this.dataControl_0), this.tabbedAreaFeats = new Bct(this.mainActivity_0, this.dataControl_0), this.tabbedAreaActions = new Ict(this.mainActivity_0, this.dataControl_0), this.sectionTop = new Cct(this.mainActivity_0, this.dataControl_0), this.sectionDefenses = new _ct(this.mainActivity_0, this.dataControl_0), this.sectionSkills = new fct(this.mainActivity_0, this.dataControl_0), this.sectionConditions = new uct(this.mainActivity_0, this.dataControl_0), this.fragmentBuild_0 = new Ast(this.mainActivity_0, this.dataControl_0), this.menu_0 = jlt().getDiv(), this.menuOpen = !1, this.diceTrayOpen = !1, this.diceTray_0 = e.isType(a = document.getElementsByClassName("dice-tray")[0], HTMLDivElement) ? a : d(), this.sideNav = e.isType(r = document.getElementById("mySidenav"), HTMLDivElement) ? r : d(), this.backdrop = e.isType(n = document.getElementById("backdrop"), HTMLDivElement) ? n : d(), this.diceBackdrop = e.isType(o = document.getElementById("dice-backdrop"), HTMLDivElement) ? o : d(), this.diceSwitch = e.isType(s = document.getElementsByClassName("dice-switch")[0], HTMLDivElement) ? s : d(), this.diceSwitch.classList.remove("hidden"); var u = document.getElementById("beta-text"); if (null != (l = null != u ? u.parentNode : null) && l.removeChild(u), this.showHideDiceSwitch(), this.sectionTop.onCreate(), this.sectionDefenses.onCreate(), this.createTabbedArea_0(), this.fragmentBuild_0.onCreate(), (e.isType(c = document.getElementsByClassName("top-bar")[0], HTMLDivElement) ? c : d()).classList.remove("hidden"), this.mainActivity_0.gmMode) { (e.isType(p = document.getElementById("menu"), HTMLDivElement) ? p : d()).style.display = "none"; var _ = e.isType(h = document.getElementById("gmBar"), HTMLDivElement) ? h : d(); _.classList.remove("hidden"), _.innerHTML = "GM Mode" } this.setSideNavControls_0() } function cct(t) { return t.target.classList.remove("dragged-item"), n } function pct(t) { return t.preventDefault(), n } function hct(t) { var i, a; try { if ("Escape" == t.key) { t.preventDefault(); var r = document.getElementsByClassName("modal"); if (r.length > 0) { var o = e.isType(i = r[r.length - 1 | 0], HTMLElement) ? i : d(); null != (a = document.body) && a.removeChild(o) } } else if ("Enter" == t.key) { var c = document.getElementsByClassName("modal"); if (c.length > 0) { var p = c[0].onEnterAction; null != p && p() } } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } function dct(t) { try { if ("ArrowUp" == t.key) { var i = document.getElementsByClassName("modal"); if (i.length > 0) { var a = i[0].onKeyUp; null != a && (t.preventDefault(), a()) } } else if ("ArrowDown" == t.key) { var r = document.getElementsByClassName("modal"); if (r.length > 0) { var o = r[0].onKeyDown; null != o && (t.preventDefault(), o()) } } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return n } function uct(t, i) { var a; Sct.call(this, t, i), this.divBuffs_0 = jlt().getDiv(), this.divConditions_0 = jlt().getDiv(), this.buttonAddCustomBuff_0 = Dlt("Add Custom Buff"), this.rootView = e.isType(a = document.getElementById("section-conditions"), HTMLDivElement) ? a : d(), this.rootView.classList.add(B9().CSS_ROUNDED_RECTANGLE); var r = jlt().getDiv(); r.classList.add(B9().CSS_GRID_CONTAINER), this.rootView.appendChild(r); var o = Dlt("Rest"); o.buttonDiv.classList.add(B9().CSS_GRID_ITEM), r.appendChild(o.buttonDiv); var s, l, c, p = Dlt("Add Condition"); p.buttonDiv.classList.add(B9().CSS_GRID_ITEM), r.appendChild(p.buttonDiv), this.buttonAddCustomBuff_0.buttonDiv.classList.add(B9().CSS_GRID_ITEM), r.appendChild(this.buttonAddCustomBuff_0.buttonDiv), o.buttonDiv.addEventListener("click", (s = t, l = i, c = this, function (t) { return s.openDialog_ip94j4$(new snt(s, l, c.getCharacterBuild())), n })), p.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.openDialog_ip94j4$(new Git(t, e, i.getCharacterBuild(), null)), n } }(t, i, this)), this.buttonAddCustomBuff_0.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.fullAppEnabledCheck_0(), n } }(this)), this.divConditions_0.classList.add(B9().CSS_GRID_CONTAINER), this.divConditions_0.classList.add("div-conditions"), this.rootView.appendChild(this.divConditions_0), this.setEnabledFunctions(), this.updateConditions() } function _ct(t, e) { var i; Sct.call(this, t, e), this.hpControlInterface_0 = null, this.divHPControls_0 = jlt().getDiv(), this.textAC_0 = jlt().getDiv(), this.shieldHealthBar_0 = new Gst, this.buttonFort_0 = new act, this.buttonReflex_0 = new act, this.buttonWill_0 = new act, this.shieldInfoTable_0 = jlt().getDiv(), this.textShieldRaised_0 = Dlt("Raise"), this.textShieldHardness_0 = jlt().getDiv(), this.textShieldHP_0 = jlt().getDiv(), this.shieldRaised = !1, this.rootView = jlt().getDiv(), null != (i = document.getElementById("container-row-0-col-0")) && i.appendChild(this.rootView), this.rootView.classList.add("section-defenses"), this.rootView.classList.add(B9().CSS_ROUNDED_RECTANGLE) } function fct(t, i) { var a; $ct(), Sct.call(this, t, i), this.abilityScores_0 = new Int32Array(6), this.listItems_0 = u(), this.divSkills_0 = jlt().getDiv(), this.divPerceptionInit_0 = jlt().getDiv(), this.textInitBonuses_0 = jlt().getDiv(), this.layoutProfPerception_0 = new act, this.layoutClassDC_0 = new act, this.arrayHeroImg_0 = [jlt().getImg(), jlt().getImg(), jlt().getImg()], this.rootView = e.isType(a = document.getElementById("container-section-skills"), HTMLDivElement) ? a : d(), this.rootView.style.display = "inline-flex", this.rootView.style.flexDirection = "column", this.rootView.style.marginTop = "0.5em", this.rootView.style.marginBottom = "0.5em", this.rootView.style.verticalAlign = "top", this.setHeroPointControls_0(), this.divSkills_0.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.divSkills_0.classList.add("section-skills"), this.divPerceptionInit_0.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.divPerceptionInit_0.style.marginBottom = "0.5em", this.divPerceptionInit_0.style.height = "7em", this.rootView.appendChild(this.divPerceptionInit_0), this.rootView.appendChild(this.divSkills_0), this.setPerceptionControls_0(), this.updateAll() } function yct() { mct = this, this.SRC_HERO_ON = "img/icon_hero_point_on.png?v=dm-1", this.SRC_HERO_OFF = "img/icon_hero_point_off.png?v=dm-1" } nct.prototype.setButtonName_4m763w$ = function (t, e, i) { if (this.hashMapModsToButtons.containsKey_11rb$(e)) { var a = this.hashMapModsToButtons.get_11rb$(e), r = i.getInvModSelection_61zpoe$(e.ref); o(a).selection.innerHTML = null != r ? r : B9().NOT_SELECTED } }, nct.$metadata$ = { kind: p, simpleName: "LayoutInventorModifications", interfaces: [] }, lct.prototype.showHideDiceSwitch = function () { this.mainActivity_0.showDiceRollers ? htt().setHidden_njr4nn$(this.diceSwitch, !0) : htt().setHidden_njr4nn$(this.diceSwitch, !1) }, lct.prototype.resetTabs = function () { var t, i; try { this.menu_0.childElementCount > this.currentTabbedIndex && (e.isType(t = this.menu_0.childNodes[this.currentTabbedIndex], HTMLDivElement) ? t : d()).classList.remove("section-menu-selected"), this.currentTabbedIndex = 0, this.menu_0.childElementCount > 0 && (e.isType(i = this.menu_0.childNodes[this.currentTabbedIndex], HTMLDivElement) ? i : d()).classList.add("section-menu-selected") } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, lct.prototype.createTabbedArea_0 = function () { var t, i, a, r, o, s = ["Weapons", "Armor", "Gear", "Spells", "Pets", "Details", "Feats", "Actions"], l = e.isType(t = document.getElementById("tabbed-area"), HTMLDivElement) ? t : d(); for (l.classList.add(B9().CSS_ROUNDED_RECTANGLE), l.classList.add("tabbed-area"), this.menu_0.classList.add("tabbed-area-menu"), l.appendChild(this.menu_0), this.subMenu.classList.add("submenu"), this.subMenu.style.display = "none", l.appendChild(this.subMenu), this.subMenuPets.classList.add("submenu"), this.subMenuPets.style.display = "none", l.appendChild(this.subMenuPets), i = 0; i !== s.length; ++i) { var c = s[i], p = jlt().getDiv(); p.classList.add("section-menu"), p.style.fontSize = "1.3em", p.innerHTML = c, this.menu_0.appendChild(p) } (e.isType(a = this.menu_0.childNodes[this.currentTabbedIndex], HTMLDivElement) ? a : d()).classList.add("section-menu-selected"), this.menu_0.addEventListener("click", (r = s, o = this, function (t) { var i, a, s, l = e.isType(i = t.target, HTMLElement) ? i : d(); if (l.classList.contains("section-menu")) { var c = ot(r, l.innerHTML); c !== o.currentTabbedIndex && ((e.isType(a = o.menu_0.childNodes[o.currentTabbedIndex], HTMLDivElement) ? a : d()).classList.remove("section-menu-selected"), o.currentTabbedIndex = c, (e.isType(s = o.menu_0.childNodes[o.currentTabbedIndex], HTMLDivElement) ? s : d()).classList.add("section-menu-selected"), o.setTabbedAreaDisplay()) } return n })), l.classList.add("tabbed-area"), this.tabbedAreaDisplay_0.classList.add("tabbed-area-display-holder"), l.appendChild(this.tabbedAreaDisplay_0), this.setTabbedAreaDisplay() }, lct.prototype.setTabbedAreaDisplay = function () { switch (this.tabbedAreaDisplay_0.innerHTML = "", this.subMenu.style.display = "none", this.subMenuPets.style.display = "none", this.currentTabbedIndex) { case 0: this.tabbedAreaDisplay_0.appendChild(this.tabbedAreaWeapons.rootView); break; case 1: this.tabbedAreaDisplay_0.appendChild(this.tabbedAreaArmor.rootView); break; case 2: this.tabbedAreaDisplay_0.appendChild(this.tabbedAreaGear.rootView); break; case 3: this.tabbedAreaDisplay_0.appendChild(this.tabbedAreaSpells.rootView), this.subMenu.style.display = "block"; break; case 4: this.tabbedAreaDisplay_0.appendChild(this.tabbedAreaPets.rootView), this.subMenuPets.style.display = "block"; break; case 5: this.tabbedAreaDisplay_0.appendChild(this.tabbedAreaDetails.rootView); break; case 6: this.tabbedAreaDisplay_0.appendChild(this.tabbedAreaFeats.rootView); break; case 7: this.tabbedAreaDisplay_0.appendChild(this.tabbedAreaActions.rootView) } }, lct.prototype.togglePlan = function () { var t; this.showPlan_0 = !this.showPlan_0; var i, a, r = e.isType(t = document.getElementsByClassName("main-column-right")[0], HTMLDivElement) ? t : d(); if (this.showPlan_0) this.fragmentBuild_0.rootView.classList.remove("hidden"), window.setTimeout((i = this, a = r, function () { i.fragmentBuild_0.rootView.classList.remove("visuallyhidden"), a.classList.remove("main-column-right-hidden") }), 20); else { this.fragmentBuild_0.rootView.classList.add("visuallyhidden"); var n = bt([$("capture", !1), $("once", !0), $("passive", !1)]); this.fragmentBuild_0.rootView.addEventListener("transitionend", function (t, e) { return function (i) { t.fragmentBuild_0.rootView.classList.add("hidden"), e.classList.add("main-column-right-hidden") } }(this, r), n) } }, lct.prototype.scrollToPanel_0 = function (t) { t.rootView.style.display = "block", t.mainHolder.scrollIntoView() }, lct.prototype.setMenuAccountLoginControls_6taknv$ = function (t) { var i, a, r, n, o, s, l = e.isType(i = document.getElementById("sidenav-upgrade"), HTMLElement) ? i : d(), c = e.isType(a = document.getElementById("sidenav-logout"), HTMLElement) ? a : d(), p = e.isType(r = document.getElementById("sidenav-json"), HTMLElement) ? r : d(), h = e.isType(n = document.getElementById("sidenav-custom-ability"), HTMLElement) ? n : d(), u = e.isType(o = document.getElementById("sidenav-custom-feat-choice"), HTMLElement) ? o : d(), _ = e.isType(s = document.getElementById("sidenav-custom-skill-increase"), HTMLElement) ? s : d(); if (t) { l.style.display = "none", c.style.display = "block"; var f = B9().getPreferenceString_61zpoe$(B9().PREFERENCE_USER_NAME); c.innerHTML = "Logged in: " + f, p.classList.remove(B9().CSS_GREY_TEXT), h.classList.remove(B9().CSS_GREY_TEXT), u.classList.remove(B9().CSS_GREY_TEXT), _.classList.remove(B9().CSS_GREY_TEXT), this.mainActivity_0.listSaveDisabledCharacterBuilds.clear() } else l.style.display = "block", c.style.display = "none", p.classList.add(B9().CSS_GREY_TEXT), h.classList.add(B9().CSS_GREY_TEXT), u.classList.add(B9().CSS_GREY_TEXT), _.classList.add(B9().CSS_GREY_TEXT); this.mainActivity_0.setActiveBuildButtons(), this.tabbedAreaPets.updateAll(), this.sectionConditions.setEnabledFunctions() }, lct.prototype.getContainerFromDrop_0 = function (t) { if (t.classList.contains("equipment-container")) return t; var e = this.goDownTree_0(t); return null == e && (e = this.goUpTree_0(t)), null != e ? e : null }, lct.prototype.goDownTree_0 = function (t) { var i, a; i = t.children.length; for (var r = 0; r < i; r++) { var n = e.isType(a = t.children[r], HTMLElement) ? a : d(); if (n.classList.contains("equipment-container")) return n; var o = this.goDownTree_0(n); if (null != o) return o } return null }, lct.prototype.goUpTree_0 = function (t) { var i; if (null != t.parentElement) { var a = e.isType(i = t.parentElement, HTMLElement) ? i : d(); if (a.classList.contains("equipment-container")) return a; var r = this.goUpTree_0(a); if (null != r) return r } return null }, lct.prototype.setSideNavControls_0 = function () { var t, i, a, r = { v: null }, c = { v: null }; document.addEventListener("dragstart", (t = r, function (e) { return t.v = e.target, e.target.classList.contains("dragged-item") || e.target.classList.add("dragged-item"), n }), !1), document.addEventListener("dragend", cct, !1), document.addEventListener("dragover", pct, !1), document.addEventListener("dragenter", (i = this, a = c, function (t) { var r, s; s = e.isType(r = t.target, HTMLElement) ? r : d(); var l = i.getContainerFromDrop_0(s); return null != l && (null != a.v && o(a.v).classList.remove("potential-drop"), a.v = l, o(a.v).classList.contains("potential-drop") || o(a.v).classList.add("potential-drop")), n }), !1), document.addEventListener("dragleave", function (t, i) { return function (a) { var r, s; s = e.isType(r = a.target, HTMLElement) ? r : d(); var l = t.getContainerFromDrop_0(s); return null == i.v || m(l, i.v) || o(i.v).classList.remove("potential-drop"), n } }(this, c), !1), document.addEventListener("drop", function (t, i, a) { return function (r) { var s, l, c; r.preventDefault(), null != t.v && o(t.v).classList.remove("potential-drop"), r.target.classList.remove("potential-drop"), l = e.isType(s = r.target, HTMLElement) ? s : d(); var p = i.getContainerFromDrop_0(l); if (null != p && null != a.v) { var h = p.id, u = null == (c = a.v.playerEquipment) || e.isType(c, Vd) ? c : d(); null != u && (m(h, "MAIN INVENTORY") ? u.inContainerID = null : u.inContainerID = h, i.mainActivity_0.getGuiUpdateControl().updateGearFragment_n40yp2$(i.mainActivity_0.characterBuild), i.mainActivity_0.autoSave()) } return n } }(c, this, r), !1), document.addEventListener("click", function (t) { return function (i) { var a, r, o, c, p = e.isType(a = i.target, HTMLElement) ? a : d(); if (m(p.id, "sidenav-custom-ability")) t.mainActivity_0.getDataControl().isFullAppEnabled() ? t.mainActivity_0.openDialog_ip94j4$(new Xit(t.mainActivity_0, t.dataControl_0, t.mainActivity_0.characterBuild)) : t.mainActivity_0.setUpgradeMessage_61zpoe$("set custom ability increases."); else if (m(p.id, "sidenav-custom-feat-choice")) t.mainActivity_0.getDataControl().isFullAppEnabled() ? t.mainActivity_0.openDialog_ip94j4$(new oat(t.mainActivity_0, t.dataControl_0, t.mainActivity_0.characterBuild)) : t.mainActivity_0.setUpgradeMessage_61zpoe$("add custom feat choices."); else if (m(p.id, "sidenav-custom-skill-increase")) t.mainActivity_0.getDataControl().isFullAppEnabled() ? t.mainActivity_0.openDialog_ip94j4$(new dat(t.mainActivity_0, t.dataControl_0, t.mainActivity_0.characterBuild)) : t.mainActivity_0.setUpgradeMessage_61zpoe$("add custom skill increases."); else if (m(p.id, "sidenav-help")) (new Vat).show(); else if (m(p.id, "sidenav-options")) t.mainActivity_0.openDialog_ip94j4$(new Qrt(t.mainActivity_0, t.dataControl_0, t.mainActivity_0.characterBuild)); else if (m(p.id, "sidenav-new")) t.mainActivity_0.newCharacter(), t.resetViews(); else if (m(p.id, "sidenav-save")) t.mainActivity_0.saveCharacter(); else if (m(p.id, "sidenav-load")) t.mainActivity_0.load(); else if (m(p.id, "sidenav-pdf")) R5().exportPDF_fhac18$(t.mainActivity_0.getDataControl(), t.mainActivity_0.characterBuild); else if (m(p.id, "sidenav-statblock")) t.mainActivity_0.openDialog_ip94j4$(new pot(t.mainActivity_0, t.dataControl_0, t.mainActivity_0.characterBuild, null)); else if (m(p.id, "sidenav-share")) w5().encodeAndEmail_q5lgdl$(t.mainActivity_0, t.mainActivity_0.characterBuild.getCharacterData()); else if (m(p.id, "sidenav-ogl")) t.mainActivity_0.openDialog_ip94j4$(new vnt(t.mainActivity_0, t.dataControl_0, t.mainActivity_0.characterBuild, !1)); else if (m(p.id, "sidenav-patch")) t.mainActivity_0.openBrowser_61zpoe$(B9().SITE_URL + "/patchnotes.html?v=" + j(44)); else if (m(p.id, "sidenav-export")) t.mainActivity_0.openDialog_ip94j4$(new zit(t.mainActivity_0, t.dataControl_0, t.mainActivity_0.characterBuild)); else if (m(p.id, "sidenav-error")) new nnt(t.mainActivity_0).show(); else if (!m(p.id, "sidenav-connect")) if (m(p.id, "sidenav-upgrade")) t.mainActivity_0.openDialog_ip94j4$(new Wrt(t.mainActivity_0, t.dataControl_0, t.mainActivity_0.characterBuild)); else if (m(p.id, "sidenav-json")) t.mainActivity_0.getDataControl().isFullAppEnabled() ? t.mainActivity_0.masterDataHandler.postJson_nyd8tv$(t.dataControl_0, t.mainActivity_0.characterBuild, t.mainActivity_0.characterBuild.getCharacterData()) : t.mainActivity_0.setUpgradeMessage_61zpoe$("export character JSON."); else if (m(p.id, "sidenav-logout")) t.mainActivity_0.openDialog_ip94j4$(new Xrt(t.mainActivity_0, t.dataControl_0, t.mainActivity_0.characterBuild)); else if (m(p.id, "sidenav-feat-browser")) t.mainActivity_0.openDialog_ip94j4$(new dot(t.mainActivity_0, t.dataControl_0, t.mainActivity_0.characterBuild)); else if (p.classList.contains(B9().CSS_TRAIT)) { var h = p.innerHTML, u = pe().getTraitRef_61zpoe$(h); t.dataControl_0.managerWeapons.hashMapTraitWeapons.containsKey_11rb$(u) && new bet(u, null != (o = (null != (r = t.dataControl_0.managerWeapons.hashMapTraitWeapons.get_11rb$(u)) ? r : new p1).description) ? o : "").show() } else if (p.classList.contains("dice-switch")) t.mainActivity_0.diceUIControl.setUpFreeRoll(), t.openDiceTray(); else if (p.classList.contains("named-roll")) try { var _ = p.dataset.rollValue; if (null != _) { var f = wo(_); t.mainActivity_0.diceUIControl.setUpSpellDiceRoll_5woyrq$(f, p.innerText), t.mainActivity_0.getNavigationControl().openDiceTray() } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return m(p.id, "menu") || m(null != (c = p.parentElement) ? c.id : null, "menu") ? (t.sideNav.style.width = "360px", t.backdrop.style.width = "100%", t.setParaBooks_5btbp7$(t.mainActivity_0.characterBuild), t.menuOpen = !0) : !t.menuOpen || p.classList.contains("sidenav-part") || p.classList.contains("sidenav") ? t.diceTrayOpen && !t.isInDiceTray_0(p) && (t.diceTray_0.style.right = "-360px", t.diceBackdrop.style.width = "0%", t.diceTrayOpen = !1, clear()) : (t.sideNav.style.width = "0em", t.backdrop.style.width = "0%", t.menuOpen = !1), n } }(this)), document.addEventListener("keyup", hct), document.addEventListener("keydown", dct) }, lct.prototype.openDiceTray = function () { this.diceTray_0.style.right = "0px", this.diceBackdrop.style.width = "100%", this.diceTrayOpen = !0 }, lct.prototype.isInDiceTray_0 = function (t) { var i; if (t.classList.contains("dice-tray") || t.classList.contains("dice-switch") || t.classList.contains("dice-proficiency") || t.classList.contains("dice-button")) return !0; if (null != t.parentElement) { var a = e.isType(i = t.parentElement, HTMLElement) ? i : d(); if (this.isInDiceTray_0(a)) return !0 } return !1 }, lct.prototype.resetViews = function () { this.fragmentBuild_0.scrollToTop() }, lct.prototype.getFragmentBuild = function () { return this.fragmentBuild_0 }, lct.prototype.setParaBooks_5btbp7$ = function (t) { var i, a = e.isType(i = document.getElementById("para-books"), HTMLParagraphElement) ? i : d(); if (t.getCharacterData().listDisabledRulebooks.isEmpty()) a.innerHTML = ""; else { var r = t.getCharacterData().listDisabledRulebooks.size; a.innerHTML = r.toString() + " disabled rulebook(s)" } }, lct.prototype.setCurrentFileLocationFlag = function () { var t, i = e.isType(t = document.getElementById("sidenav-save"), HTMLElement) ? t : d(); this.mainActivity_0.characterBuild.getCharacterData().isCloudStorage() ? i.innerHTML = "Save Character (GDrive)" : i.innerHTML = "Save Character (Local)" }, lct.$metadata$ = { kind: p, simpleName: "NavigationControl", interfaces: [] }, uct.prototype.setEnabledFunctions = function () { this.dataControl.isFullAppEnabled() ? this.buttonAddCustomBuff_0.buttonDiv.classList.remove("modal-button-disabled") : this.buttonAddCustomBuff_0.buttonDiv.classList.contains("modal-button-disabled") || this.buttonAddCustomBuff_0.buttonDiv.classList.add("modal-button-disabled") }, uct.prototype.fullAppEnabledCheck_0 = function () { this.dataControl.isFullAppEnabled() ? this.mainActivity.openDialog_ip94j4$(new Fit(this.mainActivity, this.dataControl, this.getCharacterBuild(), null)) : this.mainActivity.setUpgradeMessage_61zpoe$("create and use custom buffs") }, uct.prototype.updateConditions = function () { var t; this.divConditions_0.innerHTML = ""; var e = htt().getColumns_za3lpa$(2); for (t = e.iterator(); t.hasNext();) { var i = t.next(); i.classList.add(B9().CSS_GRID_ITEM), this.divConditions_0.appendChild(i) } Fst().updateConditionsAndBuffs_aqq2df$(this.mainActivity, this.dataControl, null, this.getCharacterBuild(), this.getCharacterData(), e) }, uct.$metadata$ = { kind: p, simpleName: "SectionConditions", interfaces: [Sct] }, _ct.prototype.onCreate = function () { this.divHPControls_0.style.cursor = "pointer", this.divHPControls_0.classList.add("button-text"); var t = jlt().getDiv(); t.classList.add("ac-holder"), this.rootView.appendChild(t); var e = jlt().getImg(); e.src = "img/icon_ac.png?v=dm-1", e.classList.add("ac-image"), t.appendChild(e); var i = jlt().getDiv(); i.innerHTML = "AC", i.classList.add("ac-label"), t.appendChild(i), this.textAC_0.classList.add("ac-text"), t.appendChild(this.textAC_0); var a = jlt().getDiv(); a.classList.add("defense-lines"), this.rootView.appendChild(a); var r = jlt().getDiv(); r.classList.add("defense-top-line"), a.appendChild(r); var o, s = jlt().getDiv(); s.classList.add("defense-second-line"), a.appendChild(s), this.divHPControls_0.classList.add("healthbar"), r.appendChild(this.divHPControls_0), this.buttonFort_0.textName.innerHTML = "Fortitude", this.buttonReflex_0.textName.innerHTML = "Reflex", this.buttonWill_0.textName.innerHTML = "Will", this.buttonFort_0.div.classList.add("saves-button"), this.buttonReflex_0.div.classList.add("saves-button"), this.buttonWill_0.div.classList.add("saves-button"), this.addSaveButton_0(this.buttonFort_0, pK().PROFICIENCY_FORTITUDE, 2, this.getSpecialText_0(["Greater Juggernaut", "Juggernaut"])), this.addSaveButton_0(this.buttonReflex_0, pK().PROFICIENCY_REFLEX, 1, this.getSpecialText_0(["Improved Evasion", "Evasion"])), this.addSaveButton_0(this.buttonWill_0, pK().PROFICIENCY_WILL, 4, this.getSpecialText_0(["Greater Resolve", "Slippery Mind", "Indomitable Will", "bravery", "Resolve"])), s.appendChild(this.buttonFort_0.div), s.appendChild(this.buttonReflex_0.div), s.appendChild(this.buttonWill_0.div), this.shieldHealthBar_0.divButton.classList.add("shield-healthbar"), this.shieldHealthBar_0.divButton.addEventListener("click", (o = this, function (t) { return null != o.getCharacterData().getPlayerShieldNew() && o.mainActivity.openDialog_ip94j4$(new znt(o.mainActivity, o.dataControl, o.getCharacterBuild())), n })), r.appendChild(this.shieldHealthBar_0.divButton), r.appendChild(this.shieldInfoTable_0), this.shieldInfoTable_0.classList.add(B9().CSS_GRID_CONTAINER), this.textShieldRaised_0.buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.textShieldHardness_0.classList.add(B9().CSS_GRID_ITEM), this.textShieldHP_0.classList.add(B9().CSS_GRID_ITEM), this.shieldInfoTable_0.appendChild(this.textShieldRaised_0.buttonDiv), this.textShieldHardness_0.classList.add("shield-info"), this.textShieldHP_0.classList.add("shield-info"), this.shieldInfoTable_0.appendChild(this.textShieldHardness_0), this.shieldInfoTable_0.appendChild(this.textShieldHP_0), this.textShieldRaised_0.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.toggleRaiseShieldBonuses(), t.mainActivity.getGuiUpdateControl().onArmorChanged_n40yp2$(t.getCharacterBuild()), n } }(this)), this.updateAll() }, _ct.prototype.addSaveButton_0 = function (t, i, a, r) { var s, l, c, p; t.div.addEventListener("click", (s = this, l = i, c = a, p = r, function (t) { var i, a, r = null != (i = s.getCharacterBuild().getProficiency_61zpoe$(l)) ? i : new nK, h = rK(s.dataControl, s.getCharacterBuild(), r), u = h.getTypedBuff_za3lpa$(0); if ((e.isType(a = t.target, HTMLElement) ? a : d()).classList.contains("dice-proficiency")) { var _ = r.getProficiencyAtLevel_za3lpa$(s.getCharacterData().getCharacterLevel()), f = pK().getFinalProficiencyTotal_xek4lp$(s.getCharacterData(), _, s.getCharacterData().getCharacterLevel()) + htt().getAbilityMod_za3lpa$(s.getCharacterBuild().getPlayReportAbilityScores_sfkw43$(s.dataControl).abilityScoresBuffed[c]) + u + h.totalBuffExcludingItem | 0; s.mainActivity.getNavigationControl().openDiceTray(), s.mainActivity.diceUIControl.setUpD20Roll_bm4lxs$(l, f) } else { var y = o(s.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$(l)).textDescription; y += p, s.mainActivity.openDialog_ip94j4$(new rnt(s.mainActivity, s.dataControl, s.getCharacterBuild(), l, c, u, !1, null, y)) } return n })) }, _ct.prototype.toggleRaiseShieldBonuses = function () { this.shieldRaised ? this.textShieldRaised_0.buttonDiv.classList.remove("button-highlight") : this.textShieldRaised_0.buttonDiv.classList.add("button-highlight"), this.shieldRaised = !this.shieldRaised; var t = this.dataControl.managerArmor.getWornShieldInformation_5btbp7$(this.getCharacterBuild()); if (null != t) try { var i = V(t.ac); re().addProficiencyBonus_jn4iy8$(this.shieldRaised, this.getCharacterBuild(), 2, B9().BUFF_RAISE_SHIELD, pK().PROFICIENCY_UNARMORED, i), re().addProficiencyBonus_jn4iy8$(this.shieldRaised, this.getCharacterBuild(), 2, B9().BUFF_RAISE_SHIELD, pK().PROFICIENCY_LIGHT_ARMOR, i), re().addProficiencyBonus_jn4iy8$(this.shieldRaised, this.getCharacterBuild(), 2, B9().BUFF_RAISE_SHIELD, pK().PROFICIENCY_MEDIUM_ARMOR, i), re().addProficiencyBonus_jn4iy8$(this.shieldRaised, this.getCharacterBuild(), 2, B9().BUFF_RAISE_SHIELD, pK().PROFICIENCY_HEAVY_ARMOR, i) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, _ct.prototype.getSpecialText_0 = function (t) { for (var e, i, a = this.getCharacterData().getCharacterLevel(); a >= 1; a--)for (e = o(this.getCharacterBuild().hashMapSpecialInformation[a - 1 | 0]).keys.iterator(); e.hasNext();) { var r = e.next(), n = o(this.getCharacterBuild().hashMapSpecialInformation[a - 1 | 0]).get_11rb$(r); if (null != n) for (i = 0; i !== t.length; ++i) { var s = t[i]; if (m(n.name, s)) return "<br><br><b>" + s + "</b><br>" + n.textDescription } } return "" }, _ct.prototype.updateAll = function () { this.updateAC(), this.updateHP(), this.updateSaves_0(), this.updateShield() }, _ct.prototype.updateShield = function () { var t, e = this.getCharacterData().getPlayerShieldNew(); if (null == e) this.shieldHealthBar_0.setProgress_vux9f0$(100, 100), this.shieldHealthBar_0.hpText.innerHTML = "No Shield", this.textShieldHP_0.innerHTML = "", htt().setInvisible_njr4nn$(this.textShieldRaised_0.buttonDiv, !1), this.textShieldHardness_0.innerHTML = ""; else { if (htt().setInvisible_njr4nn$(this.textShieldRaised_0.buttonDiv, !0), null == (t = this.dataControl.managerArmor.getWornShieldInformation_5btbp7$(this.getCharacterBuild()))) return; var i = t, a = i.getHp_9khk5$(this.dataControl, this.getCharacterBuild()); this.textShieldRaised_0.buttonDiv.innerHTML = "Raise +" + i.ac + " AC", this.textShieldHardness_0.innerHTML = "Hardness: " + i.getHardness_9khk5$(this.dataControl, this.getCharacterBuild()).toString(); var r = "Broken: " + j(i.getBT_za3lpa$(a)); this.textShieldHP_0.innerHTML = r; var n = a - e.shieldDamage | 0; this.shieldHealthBar_0.hpText.innerHTML = "SHIELD " + n + "/" + a, this.shieldHealthBar_0.setProgress_vux9f0$(a, n) } }, _ct.prototype.updateSaves_0 = function () { htt().updateSaves_jondbn$(this.dataControl, this.getCharacterBuild(), pK().PROFICIENCY_FORTITUDE, 2, this.buttonFort_0), htt().updateSaves_jondbn$(this.dataControl, this.getCharacterBuild(), pK().PROFICIENCY_REFLEX, 1, this.buttonReflex_0), htt().updateSaves_jondbn$(this.dataControl, this.getCharacterBuild(), pK().PROFICIENCY_WILL, 4, this.buttonWill_0) }, _ct.prototype.invalidateHPControlInterface = function () { this.hpControlInterface_0 = null }, _ct.prototype.updateHP = function () { null != this.hpControlInterface_0 ? o(this.hpControlInterface_0).updateHP() : this.setHPLayout() }, _ct.prototype.setHPLayout = function () { this.divHPControls_0.innerHTML = "", this.getCharacterData().isUseStamina() ? this.hpControlInterface_0 = new Wst(this.mainActivity, this.dataControl, this.divHPControls_0) : this.hpControlInterface_0 = new Bst(this.mainActivity, this.dataControl, this.divHPControls_0) }, _ct.prototype.updateAC = function () { var t, e = this.getCharacterData().getPlayerArmor(); if (null != this.dataControl.managerArmor.getWornArmorInformation_5btbp7$(this.getCharacterBuild())) { var i = this.dataControl.managerArmor.getArmorProficiencyType_s8qicq$(e), a = null != (t = this.getCharacterBuild().getProficiency_61zpoe$(i)) ? t : new nK, r = this.dataControl.managerArmor.getArmorTrainingLevel_a0vkeb$(this.getCharacterBuild(), e, this.getCharacterData().getCharacterLevel()), n = pK().getFinalProficiencyTotal_xek4lp$(this.getCharacterData(), r, this.getCharacterData().getCharacterLevel()), o = this.dataControl.managerArmor.getArmorAbilityBonus_5btbp7$(this.getCharacterBuild()), s = rK(this.dataControl, this.getCharacterBuild(), a), l = s.getArmorItemBonus_fhac18$(this.dataControl, this.getCharacterBuild()), c = s.totalBuffExcludingItem, p = 10 + n + o + l + c | 0; this.textAC_0.innerHTML = p.toString(), htt().setHighlighBasedOnBuff_xlcra$(c, this.textAC_0) } }, _ct.$metadata$ = { kind: p, simpleName: "SectionDefensesNew", interfaces: [Sct] }, yct.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var mct = null; function $ct() { return null === mct && new yct, mct } function gct(t, e) { return function (i) { var a = t.getCharacterData().getHeroPoints(); return e >= a ? t.getCharacterData().adjustHeroPoints_za3lpa$(1) : t.getCharacterData().adjustHeroPoints_za3lpa$(-1), t.updateHeroPoints_0(), t.mainActivity.autoSave(), n } } function vct(t, i, a, r) { return function (o) { var s; return (e.isType(s = o.target, HTMLElement) ? s : d()).classList.contains("dice-proficiency") ? (t.mainActivity.getNavigationControl().openDiceTray(), t.mainActivity.diceUIControl.setUpD20Roll_bm4lxs$(i, a)) : t.mainActivity.openDialog_ip94j4$(new Fnt(t.mainActivity, t.dataControl, t.getCharacterBuild(), i, t.abilityScores_0, r)), n } } function Sct(t, e) { this.mainActivity = t, this.dataControl = e, this.rootView_os3vg$_0 = this.rootView_os3vg$_0, this.mainHolder_o9uf5m$_0 = this.mainHolder_o9uf5m$_0 } function Cct(t, e) { var i; Sct.call(this, t, e), this.buttonName_0 = vlt("Character Name"), this.buttonLevel_0 = vlt("Level"), this.buttonXP_0 = vlt("XP"), this.size_0 = jlt().getDiv(), this.speed_0 = jlt().getSpan(), this.arrayMods_0 = [jlt().getDiv(), jlt().getDiv(), jlt().getDiv(), jlt().getDiv(), jlt().getDiv(), jlt().getDiv()], this.arrayTotals_0 = [jlt().getDiv(), jlt().getDiv(), jlt().getDiv(), jlt().getDiv(), jlt().getDiv(), jlt().getDiv()], this.rootView = jlt().getDiv(), this.rootView.classList.add("section-top"), this.rootView.classList.add(B9().CSS_ROUNDED_RECTANGLE), null != (i = document.getElementById("container-row-0-col-0")) && i.appendChild(this.rootView) } function Ect(t) { this.this$SectionTop = t } function Act(t) { this.this$SectionTop = t } fct.prototype.setHeroPointControls_0 = function () { var t = jlt().getDiv(); t.style.width = "100%", t.style.display = "flex", t.style.justifyContent = "center", t.style.alignItems = "center", t.style.marginBottom = "0.5em", t.classList.add(B9().CSS_ROUNDED_RECTANGLE), this.rootView.appendChild(t); var e = jlt().getDiv(); e.style.display = "inline-block", e.style.verticalAlign = "middle", e.style.marginRight = "1em", e.innerHTML = "Hero Points", t.appendChild(e); var i = jlt().getDiv(); t.appendChild(i), i.classList.add(B9().CSS_GRID_CONTAINER), i.style.display = "inline-grid", i.style.flex = "1"; for (var a = 0; a <= 2; a++) { var r = jlt().getDiv(); i.appendChild(r), r.classList.add(B9().CSS_GRID_ITEM), r.style.cursor = "pointer", r.appendChild(this.arrayHeroImg_0[a]), this.arrayHeroImg_0[a].src = $ct().SRC_HERO_OFF; var n = a; r.addEventListener("click", gct(this, n)) } }, fct.prototype.setPerceptionControls_0 = function () { var t; this.layoutClassDC_0.div.addEventListener("click", (t = this, function (e) { var i, a = null != (i = t.getCharacterBuild().getProficiency_61zpoe$(pK().CLASS_DC)) ? i : new nK, r = rK(t.dataControl, t.getCharacterBuild(), a).getTypedBuff_za3lpa$(0), s = o(t.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$("Class DC")).textDescription; return t.mainActivity.openDialog_ip94j4$(new rnt(t.mainActivity, t.dataControl, t.getCharacterBuild(), pK().CLASS_DC, 4, r, !1, null, s)), n })), this.layoutClassDC_0.div.style.marginBottom = "1em", this.divPerceptionInit_0.appendChild(this.layoutClassDC_0.div), this.layoutClassDC_0.textName.innerHTML = "Class DC", htt().setInvisible_njr4nn$(this.layoutClassDC_0.imageViewRoll, !1), this.divPerceptionInit_0.appendChild(this.layoutProfPerception_0.div), this.layoutProfPerception_0.textName.innerHTML = "Perception", this.layoutProfPerception_0.div.addEventListener("click", function (t) { return function (i) { var a, r, s = null != (a = t.getCharacterBuild().getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)) ? a : new nK, l = rK(t.dataControl, t.getCharacterBuild(), s), c = l.getTypedBuff_za3lpa$(0), p = s.getProficiencyAtLevel_za3lpa$(t.getCharacterData().getCharacterLevel()), h = pK().getFinalProficiencyTotal_xek4lp$(t.getCharacterData(), p, t.getCharacterData().getCharacterLevel()) + htt().getAbilityMod_za3lpa$(t.getCharacterBuild().getPlayReportAbilityScores_sfkw43$(t.dataControl).abilityScoresBuffed[4]) + c + l.totalBuffExcludingItem | 0; if ((e.isType(r = i.target, HTMLElement) ? r : d()).classList.contains("dice-proficiency")) t.mainActivity.getNavigationControl().openDiceTray(), t.mainActivity.diceUIControl.setUpD20Roll_bm4lxs$("Perception", h); else { var u = o(t.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$("Perception")).textDescription; t.mainActivity.openDialog_ip94j4$(new rnt(t.mainActivity, t.dataControl, t.getCharacterBuild(), pK().PROFICIENCY_PERCEPTION, 4, c, !1, null, u)) } return n } }(this)); var i = jlt().getDiv(); i.classList.add("section-init"), this.divPerceptionInit_0.appendChild(i), i.appendChild(this.textInitBonuses_0), this.textInitBonuses_0.style.marginLeft = "57px", this.textInitBonuses_0.classList.add("section-skill-total"); var a = jlt().getDiv(); a.innerHTML = "Initiative", a.classList.add("section-skill-name"), i.appendChild(a) }, fct.prototype.updateAll = function () { this.setSkillList_0(), this.updatePerception_0(), this.updateHeroPoints_0() }, fct.prototype.updateHeroPoints_0 = function () { var t = this.getCharacterData().getHeroPoints(); t > 3 && (t = 3), t < 0 && (t = 0); for (var e = 0; e <= 2; e++)this.arrayHeroImg_0[e].src = e >= t ? $ct().SRC_HERO_OFF : $ct().SRC_HERO_ON }, fct.prototype.setSkillList_0 = function () { var t, e; for (this.abilityScores_0 = this.getCharacterBuild().getPlayReportAbilityScores_sfkw43$(this.dataControl).abilityScoresBuffed, this.listItems_0.clear(), this.divSkills_0.innerHTML = "", t = this.getCharacterBuild().listAllSkillProficiencies.iterator(); t.hasNext();) { var i = t.next(); this.listItems_0.add_11rb$(i) } Q(this.listItems_0); var a = this.getCharacterData().getCharacterLevel(), r = this.getCharacterBuild().getPlayReportAbilityScores_sfkw43$(this.dataControl); for (e = this.listItems_0.iterator(); e.hasNext();) { var n = e.next(), o = this.getCharacterBuild().getSkillProficiency_61zpoe$(n); if (null != o) { var s = new act, l = this.getCharacterBuild().getSkillProficiency_61zpoe$(n); if (null != l) { var c = l.getProficiencyAtLevel_za3lpa$(a); s.imageView.src = htt().getImageBasedOnProficiency_za3lpa$(c); var p = 0; l.armorPenalty && (p = this.dataControl.managerArmor.getArmorPenalty_yjt0at$(this.getCharacterBuild(), r.abilityScoresBuffed[0], n)); var h = pK().getFinalProficiencyTotalSkill_r1xdi3$(this.dataControl, this.getCharacterBuild(), c, a), d = htt().getAbilityMod_za3lpa$(r.abilityScoresBuffed[o.abilityRef]), u = rK(this.dataControl, this.getCharacterBuild(), l), _ = u.totalBuffExcludingItem, f = h + d + u.getTypedBuff_za3lpa$(0) + _ + p | 0; s.divTotal.innerHTML = htt().getSignedValue_za3lpa$(f), htt().setColorBasedOnBuff_xlcra$(_, s.divTotal), s.textName.innerHTML = n, this.divSkills_0.appendChild(s.div), this.mainActivity.showDiceRollers || htt().setHidden_njr4nn$(s.imageViewRoll, !1), s.div.addEventListener("click", vct(this, n, f, o)) } } } }, fct.prototype.updatePerception_0 = function () { var t, e, i = this.getCharacterBuild().getPlayReportAbilityScores_sfkw43$(this.dataControl), a = 0; null != this.getCharacterBuild().getCharacterData().getDualClass() && (a = 1); var r = this.dataControl.managerClasses.getClassMasteryLevel_vy76y1$(this.getCharacterBuild(), a), n = this.dataControl.managerClasses.getKeyAbilityRef_qll6wu$(this.getCharacterBuild(), a, !0), o = htt().getAbilityMod_za3lpa$(i.abilityScoresBuffed[n]), s = pK().getFinalProficiencyTotal_xek4lp$(this.getCharacterData(), r, this.getCharacterData().getCharacterLevel()), l = null != (t = this.getCharacterBuild().getProficiency_61zpoe$(pK().CLASS_DC)) ? t : new nK, c = rK(this.dataControl, this.getCharacterBuild(), l).totalBuffExcludingItem, p = 10 + s + o + c | 0; this.layoutClassDC_0.imageView.src = htt().getImageBasedOnProficiency_za3lpa$(r), this.layoutClassDC_0.divTotal.innerHTML = p.toString(), htt().setColorBasedOnBuff_xlcra$(c, this.layoutClassDC_0.div); var h = (null != (e = this.getCharacterBuild().getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION)) ? e : new nK).getProficiencyAtLevel_za3lpa$(this.getCharacterData().getCharacterLevel()); this.layoutProfPerception_0.imageView.src = htt().getImageBasedOnProficiency_za3lpa$(h), htt().updateGeneralProficiencyNoName_livki7$(this.dataControl, this.getCharacterBuild(), pK().PROFICIENCY_PERCEPTION, 4, this.layoutProfPerception_0.divTotal), this.textInitBonuses_0.innerHTML = ""; var d = this.dataControl.managerClasses.getInitiaitveBonus_5btbp7$(this.getCharacterBuild()); this.textInitBonuses_0.innerHTML = htt().getSignedValue_za3lpa$(d) }, fct.$metadata$ = { kind: p, simpleName: "SectionSkills", interfaces: [Sct] }, Object.defineProperty(Sct.prototype, "rootView", { configurable: !0, get: function () { return null == this.rootView_os3vg$_0 ? Yt("rootView") : this.rootView_os3vg$_0 }, set: function (t) { this.rootView_os3vg$_0 = t } }), Object.defineProperty(Sct.prototype, "mainHolder", { configurable: !0, get: function () { return null == this.mainHolder_o9uf5m$_0 ? Yt("mainHolder") : this.mainHolder_o9uf5m$_0 }, set: function (t) { this.mainHolder_o9uf5m$_0 = t } }), Sct.prototype.getCharacterBuild = function () { return this.mainActivity.characterBuild }, Sct.prototype.getCharacterData = function () { return this.mainActivity.characterBuild.getCharacterData() }, Sct.prototype.minimise = function () { this.rootView.style.display = "none" }, Sct.prototype.maximinse = function () { this.rootView.style.display = "block" }, Sct.$metadata$ = { kind: p, simpleName: "SectionTemplate", interfaces: [] }, Ect.prototype.additionalInfo_61zpoe$ = function (t) { if (t.length > 0) { try { var i = V(t); this.this$SectionTop.getCharacterData().setExperiencePoints_za3lpa$(i), this.this$SectionTop.updateXP() } catch (t) { if (!e.isType(t, l)) throw t } this.this$SectionTop.mainActivity.autoSave() } }, Ect.$metadata$ = { kind: p, interfaces: [v9] }, Act.prototype.additionalInfo_61zpoe$ = function (t) { t.length > 0 ? (this.this$SectionTop.getCharacterData().setCharacterName_61zpoe$(t), this.this$SectionTop.setCharacterName(), this.this$SectionTop.mainActivity.setNameLevel(), this.this$SectionTop.mainActivity.autoSave()) : this.this$SectionTop.getCharacterData().setCharacterName_61zpoe$("Unknown Adventurer") }, Act.$metadata$ = { kind: p, interfaces: [v9] }, Cct.prototype.onCreate = function () { var t = jlt().getDiv(); t.style.display = "inline-block", t.style.verticalAlign = "top", this.rootView.appendChild(t); var e = jlt().getDiv(); e.style.verticalAlign = "top", t.appendChild(e); var i = jlt().getDiv(); e.appendChild(i), i.style.display = "inline-block", i.style.verticalAlign = "top"; var a, r, o = Dlt("Hide Plan"); o.buttonDiv.classList.add("button-show-plan"), o.buttonDiv.addEventListener("click", (a = this, r = o, function (t) { return a.mainActivity.getNavigationControl().togglePlan(), m(r.buttonDiv.innerHTML, "Hide Plan") ? (r.buttonDiv.innerHTML = "Show Plan", r.buttonDiv.classList.add("button-highlight")) : (r.buttonDiv.innerHTML = "Hide Plan", r.buttonDiv.classList.remove("button-highlight")), n })), i.appendChild(o.buttonDiv), i = jlt().getDiv(), e.appendChild(i), this.buttonLevel_0.buttonDiv.style.width = "5em", i.style.display = "inline-block", this.buttonLevel_0.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new prt(t.mainActivity, t.dataControl, t.getCharacterBuild())), n } }(this)), i.appendChild(this.buttonLevel_0.buttonDiv), this.setCharacterLevel(), i = jlt().getDiv(), e.appendChild(i), this.buttonXP_0.buttonDiv.style.width = "5em", i.style.display = "inline-block", this.buttonXP_0.buttonDiv.addEventListener("click", function (t) { return function (e) { var i = new Ect(t); return t.mainActivity.getAdditionalInfo_k9w0wi$("Set XP", t.getCharacterData().getExperiencePoints().toString(), i, !0), n } }(this)), i.appendChild(this.buttonXP_0.buttonDiv), this.updateXP(), i = jlt().getDiv(), e.appendChild(i), this.buttonName_0.buttonDiv.classList.add("button-name"), i.style.display = "inline-block", this.buttonName_0.buttonDiv.addEventListener("click", function (t) { return function (e) { var i = new Act(t); return t.mainActivity.getAdditionalInfo_k9w0wi$(t.buttonName_0.smallHeader.innerHTML, t.getCharacterData().getCharacterName(), i, !1), n } }(this)), i.appendChild(this.buttonName_0.buttonDiv), this.setCharacterName(), (e = jlt().getDiv()).style.marginTop = "0.3em", t.appendChild(e); var s = jlt().getDiv(); s.classList.add("speed-size-section"); var l = jlt().getImg(); l.src = "img/scale.png?v=dm-1", l.classList.add("speed-size-img"), s.appendChild(l); var c = jlt().getDiv(); c.classList.add("speed-size-right"), s.appendChild(c); var p = jlt().getDiv(); p.classList.add("speed-size-label"), p.innerHTML = "SIZE", c.appendChild(p), c.appendChild(this.size_0), e.appendChild(s); var h = jlt().getDiv(); h.classList.add("speed-size-section"), (l = jlt().getImg()).src = "img/speed.png?v=dm-1", l.classList.add("speed-size-img"), h.appendChild(l), (c = jlt().getDiv()).classList.add("speed-size-right"), h.appendChild(c), (p = jlt().getDiv()).classList.add("speed-size-label"), p.innerHTML = "SPEED", c.appendChild(p), c.appendChild(this.speed_0), e.appendChild(h); for (var d = 0; d <= 5; d++)e.appendChild(this.getAbilitySpan_0(d)); this.setSize(), this.setSpeed(), this.updateAbilities() }, Cct.prototype.getAbilitySpan_0 = function (t) { var e, i, a = jlt().getDiv(); a.classList.add("ability-span"), a.addEventListener("click", (e = this, i = t, function (t) { var a = e.getCharacterBuild().getPlayReportAbilityScores_sfkw43$(e.dataControl), r = htt().getSignedValue_za3lpa$(htt().getAbilityMod_za3lpa$(a.abilityScoresBuffed[i])), o = "Total: " + j(a.abilityScoresBuffed[i]) + "<br><br>Modifier: " + r; return e.mainActivity.showMessage_puj7f4$(se().ARRAY_ABILITIES[i], o), n })); var r = jlt().getDiv(); r.classList.add("abilityLabel"), r.innerHTML = se().ARRAY_ABILITIES_SHORT[t].toUpperCase(), a.appendChild(r); var o = this.arrayMods_0[t]; return o.classList.add("abilityMod"), a.appendChild(o), a }, Cct.prototype.updateAll = function () { this.updateXP(), this.setCharacterName(), this.setCharacterLevel(), this.setSize(), this.setSpeed(), this.updateAbilities() }, Cct.prototype.updateAbilities = function () { for (var t = this.getCharacterBuild().getPlayReportAbilityScores_sfkw43$(this.dataControl), e = 0; e <= 5; e++)this.arrayTotals_0[e].innerHTML = t.abilityScoresBuffed[e].toString(), this.arrayMods_0[e].innerHTML = htt().getSignedValue_za3lpa$(htt().getAbilityMod_za3lpa$(t.abilityScoresBuffed[e])), t.isBuffed_za3lpa$(e) ? htt().setGreenHighlight_njr4nn$(this.arrayMods_0[e], !0) : htt().setGreenHighlight_njr4nn$(this.arrayMods_0[e], !1) }, Cct.prototype.updateXP = function () { this.buttonXP_0.selection.innerHTML = this.getCharacterData().getExperiencePoints().toString() }, Cct.prototype.setCharacterName = function () { this.buttonName_0.selection.innerHTML = this.getCharacterData().getCharacterName() }, Cct.prototype.setCharacterLevel = function () { this.buttonLevel_0.selection.innerHTML = this.getCharacterData().getCharacterLevel().toString() }, Cct.prototype.setSize = function () { this.size_0.innerHTML = this.dataControl.managerAncestry.getSize_5btbp7$(this.getCharacterBuild()) }, Cct.prototype.setSpeed = function () { this.speed_0.innerHTML = this.dataControl.managerEquipment.getSpeed_5btbp7$(this.getCharacterBuild()).toString() + "ft." }, Cct.$metadata$ = { kind: p, simpleName: "SectionTop", interfaces: [Sct] }; var bct = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Ict(t, e) { Sct.call(this, t, e), this.KEY_SOURCE_0 = ["Class", "Skills", "Gear", "Basic", "Exploration", "Downtime"], this.IMG_ACTIONS_0 = ["free", "reaction", "single", "double", "triple"], this.arrayCheckBoxSources_0 = [new Let, new Let, new Let, new Let, new Let, new Let], this.arrayCheckBoxSAction_0 = [new Let, new Let, new Let, new Let, new Let, new Let], this.divActions_0 = jlt().getDiv(), this.listAllItems_0 = u(), this.listItems_0 = u(), this.currentSelection_0 = null, this.searchType_0 = 0, this.searchField_0 = "", this.editTextSearch_0 = jlt().getTextInput(), this.spinnerSearch_0 = new Uet(!1), this.rootView = jlt().getDiv(), this.rootView.classList.add("tabbed-area-display"), this.rootView.style.marginRight = "1.5em", this.rootView.classList.add(B9().CSS_LAYOUT_TABBED_LINE); var i = jlt().getDiv(); i.classList.add("tabbed-area-top-holder"), this.rootView.appendChild(i); var a = jlt().getDiv(); a.classList.add("tabbed-area-top"), i.appendChild(a); var r = jlt().getDiv(); r.classList.add(B9().CSS_GRID_CONTAINER), a.appendChild(r); for (var o = 0; o <= 5; o++) { var s = this.arrayCheckBoxSources_0[o], l = jlt().getDiv(); l.style.marginRight = "0.5em", l.classList.add(B9().CSS_GRID_ITEM), l.appendChild(s.div); var c = jlt().getSpan(); c.style.marginLeft = "0.5em", c.innerHTML = this.KEY_SOURCE_0[o], l.appendChild(c), r.appendChild(l), s.setChecked_6taknv$(B9().getPreferenceBoolean_ivxn3r$(this.KEY_SOURCE_0[o], !0)), l.addEventListener("click", Lct(s, this, o)) } var p = jlt().getDiv(); p.style.marginTop = "0.3em", p.classList.add(B9().CSS_GRID_CONTAINER), a.appendChild(p); for (var h = 0; h <= 4; h++) { var d = this.arrayCheckBoxSAction_0[h], _ = jlt().getDiv(); _.style.marginRight = "0.5em", _.classList.add(B9().CSS_GRID_ITEM), _.appendChild(d.div); var f = jlt().getImg(); f.style.marginLeft = "0.5em", f.classList.add("action-icon"), f.src = "img/action_" + this.IMG_ACTIONS_0[h] + ".png?v=dm-1", _.appendChild(f), p.appendChild(_), d.setChecked_6taknv$(B9().getPreferenceBoolean_ivxn3r$(this.IMG_ACTIONS_0[h], !0)), _.addEventListener("click", Tct(d, this, h)) } var y = this.arrayCheckBoxSAction_0[5], m = jlt().getDiv(); m.style.marginRight = "0.5em", m.classList.add(B9().CSS_GRID_ITEM), m.appendChild(y.div); var $, g, v = jlt().getSpan(); v.style.marginLeft = "0.5em", v.innerHTML = "Activity", m.appendChild(v), p.appendChild(m), y.setChecked_6taknv$(B9().getPreferenceBoolean_ivxn3r$("Activity", !0)), m.addEventListener("click", ($ = y, g = this, function (t) { return $.isChecked() ? $.setChecked_6taknv$(!1) : $.setChecked_6taknv$(!0), B9().setPreferenceBoolean_ivxn3r$("Activity", $.isChecked()), g.setListView_0(), n })), this.setSearchControls_0(); var S = jlt().getDiv(); S.style.marginTop = "0.5em", S.style.display = "flex", a.appendChild(S), S.appendChild(this.editTextSearch_0), S.appendChild(this.spinnerSearch_0.spinner), this.updateAll() } function wct(t) { return t.name } function Lct(t, e, i) { return function (a) { return t.isChecked() ? t.setChecked_6taknv$(!1) : t.setChecked_6taknv$(!0), B9().setPreferenceBoolean_ivxn3r$(e.KEY_SOURCE_0[i], t.isChecked()), e.setListView_0(), n } } function Tct(t, e, i) { return function (a) { return t.isChecked() ? t.setChecked_6taknv$(!1) : t.setChecked_6taknv$(!0), B9().setPreferenceBoolean_ivxn3r$(e.IMG_ACTIONS_0[i], t.isChecked()), e.setListView_0(), n } } function kct(t, e) { Sct.call(this, t, e), this.layoutArmorDetails_0 = new Hst, this.layoutShield_0 = new Ust, this.divLight_0 = jlt().getDiv(), this.divMedium_0 = jlt().getDiv(), this.divHeavy_0 = jlt().getDiv(), this.divUnarmored_0 = jlt().getDiv(), this.textResistances_0 = jlt().getDiv(), this.textACBreakdown_0 = jlt().getDiv(), this.rootView = jlt().getDiv(), this.rootView.classList.add("tabbed-area-display"), this.divLight_0.classList.add("short-proficiency"), this.divMedium_0.classList.add("short-proficiency"), this.divHeavy_0.classList.add("short-proficiency"), this.divUnarmored_0.classList.add("short-proficiency"), this.divLight_0.style.marginRight = "1em", this.divMedium_0.style.marginRight = "1em", this.divHeavy_0.style.marginRight = "1em"; var i = jlt().getDiv(); this.rootView.appendChild(i), i.classList.add(B9().CSS_LAYOUT_TABBED_LINE); var a = jlt().getDiv(); a.classList.add("tabbed-area-top-holder"), i.appendChild(a); var r = jlt().getDiv(); r.classList.add("tabbed-area-top"), a.appendChild(r); var o = jlt().getDiv(); r.appendChild(o), o.appendChild(this.divLight_0), o.appendChild(this.divMedium_0), o.appendChild(this.divHeavy_0), o.appendChild(this.divUnarmored_0), this.textResistances_0.style.textAlign = "center", this.textACBreakdown_0.style.marginTop = "0.3em", this.textACBreakdown_0.style.textAlign = "center", r.appendChild(this.textACBreakdown_0), r.appendChild(this.textResistances_0); var s = jlt().getDiv(); s.style.marginTop = "0.5em", s.style.display = "flex", s.style.justifyContent = "center", r.appendChild(s); var l, c, p, h = Dlt("Stow Additional Armor"); h.buttonDiv.style.width = "12em", h.buttonDiv.addEventListener("click", (l = t, c = e, p = this, function (t) { return l.openDialog_ip94j4$(new Lit(l, c, p.getCharacterBuild(), !0)), n })), s.appendChild(h.buttonDiv); var d = Dlt("Stow Additional Shield"); d.buttonDiv.style.width = "12em", d.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.openDialog_ip94j4$(new Lnt(t, e, i.getCharacterBuild(), !0)), n } }(t, e, this)), s.appendChild(d.buttonDiv), this.setArmorControls_0(), this.setShieldControls_0(), this.updateAll() } function Rct(t) { this.this$TabbedAreaArmor = t } function Pct(t) { this.this$TabbedAreaArmor = t } function Mct(t) { this.this$TabbedAreaArmor = t } function Nct(t, i) { Sct.call(this, t, i), this.buttonDeity_0 = vlt("Deity"), this.buttonAlignment_0 = vlt("Alignment"), this.buttonGender_0 = vlt("Gender"), this.buttonAge_0 = vlt("Age"), this.buttonLanguages_0 = vlt("Languages"), this.divWarnings_0 = jlt().getDiv(), this.portrait_0 = jlt().getImg(), this.divNotes_0 = jlt().getDiv(), this.edittext_0 = jlt().getTextArea(), this.rootView = jlt().getDiv(), this.rootView.classList.add("tabbed-area-display"), this.rootView.classList.add("details-root"); var a = jlt().getDiv(); a.classList.add(B9().CSS_LAYOUT_TABBED_LINE), a.classList.add("tabbed-area-top-holder"), this.rootView.appendChild(a); var r = jlt().getDiv(); r.classList.add("tabbed-area-top"), a.appendChild(r), this.portrait_0.classList.add("portrait"), this.portrait_0.id = "portrait"; var o, s, l, c = jlt().getImageInput(); r.appendChild(this.portrait_0), r.appendChild(c), c.style.display = "none", c.addEventListener("change", (o = this, s = t, function (t) { var i, a = e.isType(i = t.target.files[0], Blob) ? i : d(), r = URL.createObjectURL(a); o.portrait_0.src = r; var l = new FileReader; return l.onloadend = function (t, e, i) { return function (a) { return t.fileManager.savePortraitFile_lk6kg$(e.getCharacterData(), i), n } }(s, o, l), l.readAsDataURL(a), n })), this.portrait_0.addEventListener("click", (l = c, function (t) { return l.click(), n })); var p = jlt().getDiv(); p.classList.add("details-buttons"), r.appendChild(p); var h = jlt().getDiv(); p.appendChild(h), h.appendChild(this.buttonDeity_0.buttonDiv); var u = jlt().getDiv(); u.style.marginTop = "0.5em", p.appendChild(u), u.classList.add(B9().CSS_GRID_CONTAINER), this.buttonAlignment_0.buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.buttonAge_0.buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.buttonGender_0.buttonDiv.classList.add(B9().CSS_GRID_ITEM), u.appendChild(this.buttonAlignment_0.buttonDiv), u.appendChild(this.buttonAge_0.buttonDiv), u.appendChild(this.buttonGender_0.buttonDiv); var _ = jlt().getDiv(); _.style.marginTop = "0.5em", p.appendChild(_), this.buttonLanguages_0.selection.classList.remove("button-selection"), this.buttonLanguages_0.selection.classList.add("selection-languages"), this.buttonLanguages_0.buttonDiv.classList.add("button-languages"), _.appendChild(this.buttonLanguages_0.buttonDiv), this.buttonDeity_0.buttonDiv.addEventListener("click", function (t, e) { return function (i) { var a = new Dct(t, e); return e.getAdditionalInfo_k9w0wi$("Set Deity", t.getCharacterData().getDeity(), a, !1), n } }(this, t)), this.buttonAlignment_0.buttonDiv.addEventListener("click", function (t, e) { return function (i) { var a = new xct(t, e); return e.getAdditionalInfo_k9w0wi$("Set Alignment", t.getCharacterData().getAlignment(), a, !1), n } }(this, t)), this.buttonGender_0.buttonDiv.addEventListener("click", function (t, e) { return function (i) { var a = new zct(t, e); return e.getAdditionalInfo_k9w0wi$("Set Gender", t.getCharacterData().getGender(), a, !1), n } }(this, t)), this.buttonAge_0.buttonDiv.addEventListener("click", function (t, e) { return function (i) { var a = new Oct(t, e); return e.getAdditionalInfo_k9w0wi$("Set Age", t.getCharacterData().getAge(), a, !1), n } }(this, t)), this.buttonLanguages_0.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.openDialog_ip94j4$(new srt(t, e, i.getCharacterBuild())), n } }(t, i, this)), this.divNotes_0.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.rootView.appendChild(this.divNotes_0), this.divNotes_0.classList.add("div-notes"); var f = Dlt("Save Notes"); f.buttonDiv.style.width = "8em", f.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.getCharacterData().setNotes_61zpoe$(t.edittext_0.value), e.autoSave(), n } }(this, t)), this.divNotes_0.appendChild(f.buttonDiv), this.edittext_0.classList.add("edittext-dark"), this.edittext_0.classList.add("textarea-notes"), this.divNotes_0.appendChild(this.edittext_0), this.updateAll() } function Dct(t, e) { this.this$TabbedAreaDetails = t, this.closure$mainActivity = e } function xct(t, e) { this.this$TabbedAreaDetails = t, this.closure$mainActivity = e } function zct(t, e) { this.this$TabbedAreaDetails = t, this.closure$mainActivity = e } function Oct(t, e) { this.this$TabbedAreaDetails = t, this.closure$mainActivity = e } Ict.prototype.updateAll = function () { this.listAllItems_0 = U1().getListActionsAndActivities_syiyjf$(this.mainActivity.getDataControl(), this.mainActivity.characterBuild, !1); var t = this.listAllItems_0; t.size > 1 && q(t, new G(bct(wct))), this.rootView.appendChild(this.divActions_0), this.setListView_0() }, Ict.prototype.setSearchControls_0 = function () { var t; this.editTextSearch_0.classList.add("edittext-dark"), this.editTextSearch_0.placeholder = "search", this.editTextSearch_0.addEventListener("input", (t = this, function (e) { return t.searchContent_0(t.editTextSearch_0.value, t.spinnerSearch_0.spinner.selectedIndex), n })), this.editTextSearch_0.style.flex = "1", this.editTextSearch_0.style.marginRight = "1em", this.spinnerSearch_0.setSpinnerList_kand9s$(["Names", "Traits", "Description"]), this.spinnerSearch_0.spinner.addEventListener("change", function (t) { return function (e) { var i = t.spinnerSearch_0.spinner.selectedIndex, a = t.editTextSearch_0.value; return t.searchContent_0(a, i), n } }(this)) }, Ict.prototype.searchContent_0 = function (t, e) { m(this.searchField_0, t) && this.searchType_0 == this.searchType_0 || (this.searchField_0 = t.toLowerCase(), this.searchType_0 = e, this.setListView_0()) }, Ict.prototype.setListView_0 = function () { var t; for (this.divActions_0.innerHTML = "", t = this.listAllItems_0.iterator(); t.hasNext();) { var e = t.next(); this.correctActionFilter_0(e) && this.correctSourceFilter_0(e) && this.meetsSearch_0(e) && this.divActions_0.appendChild(this.getActionListView_0(e)) } }, Ict.prototype.getActionListView_0 = function (t) { var e = new Ylt(!0); return e.setDescription_61zpoe$(t.description), e.setTraits_pdl1vj$(t.traits), e.setName_61zpoe$(t.name), e.setAction_za3lpa$(t.action), m(t.extra, "Exploration") ? e.setLevel_pdl1vj$("Exploration") : 1 === t.encounterActionType ? e.setLevel_pdl1vj$("Skill (" + t.extra + ")") : e.setLevel_pdl1vj$(this.KEY_SOURCE_0[t.encounterActionType]), null != this.currentSelection_0 && m(this.currentSelection_0, t) && e.layoutDetail.classList.remove(B9().CSS_HIDDEN), e.div }, Ict.prototype.meetsSearch_0 = function (t) { if (0 === this.searchField_0.length) return !0; switch (this.searchType_0) { case 0: return _(t.name.toLowerCase(), this.searchField_0); case 1: return _(t.traits.toLowerCase(), this.searchField_0); case 2: return _(t.description.toLowerCase(), this.searchField_0) }return !1 }, Ict.prototype.correctActionFilter_0 = function (t) { if (-2 === t.action) return this.arrayCheckBoxSAction_0[5].isChecked(); try { return this.arrayCheckBoxSAction_0[t.action + 1 | 0].isChecked() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return !1 }, Ict.prototype.correctSourceFilter_0 = function (t) { if (_(t.traits.toLowerCase(), "downtime") && this.arrayCheckBoxSources_0[5].isChecked()) return !0; if (_(t.traits.toLowerCase(), "exploration") && this.arrayCheckBoxSources_0[4].isChecked()) return !0; try { return this.arrayCheckBoxSources_0[t.encounterActionType].isChecked() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } return !1 }, Ict.$metadata$ = { kind: p, simpleName: "TabbedAreaActions", interfaces: [Sct] }, kct.prototype.updateAll = function () { this.updatePlayerArmorTextViews(), this.updatePlayerShieldTextViews(), this.updatetResistances_0(), this.setProficiencies_0() }, kct.prototype.updatetResistances_0 = function () { var t, e = ""; for (this.textResistances_0.innerHTML = "", t = this.getCharacterBuild().hashMapResistances.values.iterator(); t.hasNext();) { var i = t.next(); e.length > 0 && (e += ", "), e += this.dataControl.managerClasses.getDamageResistance_qvxlip$(this.getCharacterBuild(), i) } e.length > 0 ? (e = e.substring(0, 1).toUpperCase() + e.substring(1), htt().setHidden_njr4nn$(this.textResistances_0, !0), this.textResistances_0.innerHTML = "Resistances: " + e) : htt().setHidden_njr4nn$(this.textResistances_0, !1) }, kct.prototype.setProficiencies_0 = function () { var t = this.getCharacterData().getCharacterLevel(), e = this.dataControl.managerArmor.getArmorTrainingLevelByType_o7aqax$(this.getCharacterBuild(), pK().PROFICIENCY_LIGHT_ARMOR, t); htt().setShortProficiencyWithLevel_w3looh$(pK().PROFICIENCY_LIGHT_ARMOR, e, this.divLight_0), e = this.dataControl.managerArmor.getArmorTrainingLevelByType_o7aqax$(this.getCharacterBuild(), pK().PROFICIENCY_MEDIUM_ARMOR, t), htt().setShortProficiencyWithLevel_w3looh$(pK().PROFICIENCY_MEDIUM_ARMOR, e, this.divMedium_0), e = this.dataControl.managerArmor.getArmorTrainingLevelByType_o7aqax$(this.getCharacterBuild(), pK().PROFICIENCY_HEAVY_ARMOR, t), htt().setShortProficiencyWithLevel_w3looh$(pK().PROFICIENCY_HEAVY_ARMOR, e, this.divHeavy_0), e = this.dataControl.managerArmor.getArmorTrainingLevelByType_o7aqax$(this.getCharacterBuild(), pK().PROFICIENCY_UNARMORED, t), htt().setShortProficiencyWithLevel_w3looh$(pK().PROFICIENCY_UNARMORED, e, this.divUnarmored_0) }, kct.prototype.setArmorControls_0 = function () { var t; this.layoutArmorDetails_0.div.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.rootView.appendChild(this.layoutArmorDetails_0.div), this.layoutArmorDetails_0.div.addEventListener("click", (t = this, function (i) { var a, r = t.getCharacterData().getPlayerArmor(), o = e.isType(a = i.target, HTMLElement) ? a : d(); if (m(o.id, "button-info")) t.mainActivity.openDialog_ip94j4$(new xit(t.mainActivity, t.dataControl, t.getCharacterBuild())); else if (m(o.id, "button-runes")) { var s = r.getPotency_5btbp7$(t.getCharacterBuild()) - r.getListPropertyRunes().size | 0; t.mainActivity.openDialog_ip94j4$(new ynt(t.mainActivity, t.dataControl, t.getCharacterBuild(), s)) } else m(o.id, "button-stow") ? t.stowArmor_0() : m(o.id, "button-change") && t.mainActivity.openDialog_ip94j4$(new Lit(t.mainActivity, t.dataControl, t.getCharacterBuild(), !1)); return n })) }, Rct.prototype.accept = function () { var t, e, i, a; this.this$TabbedAreaArmor.getCharacterData().listStowedPlayerArmor.add_11rb$(this.this$TabbedAreaArmor.getCharacterData().getPlayerArmor()); var r = this.this$TabbedAreaArmor.getCharacterData().getPlayerArmor(); if (null != r.mapInvModSel) for (t = o(r.mapInvModSel).keys.iterator(); t.hasNext();) { var n = t.next(); this.this$TabbedAreaArmor.dataControl.managerEquipment.activateInventorModifications_rvs3un$(!1, this.this$TabbedAreaArmor.getCharacterBuild(), n, !1) } if (this.this$TabbedAreaArmor.dataControl.managerArmor.activateArmorEffects_fahxop$(this.this$TabbedAreaArmor.getCharacterBuild(), !1, this.this$TabbedAreaArmor.getCharacterData().getPlayerArmor()), this.this$TabbedAreaArmor.getCharacterData().getPlayerArmor().getItemResilient_5btbp7$(this.this$TabbedAreaArmor.getCharacterBuild()) > 0) for (e = _K().ARRAY_SAVE_PROFICIENCIES, i = 0; i !== e.length; ++i) { var s = e[i]; (null != (a = this.this$TabbedAreaArmor.getCharacterBuild().getProficiency_61zpoe$(s)) ? a : new nK).removeBonus_vqvrqt$(0, _K().ITEM_BONUS_ARMOR_RESILIENT) } this.this$TabbedAreaArmor.getCharacterData().setPlayerArmor_s8qicq$(new cs), this.this$TabbedAreaArmor.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.this$TabbedAreaArmor.getCharacterBuild()) }, Rct.$metadata$ = { kind: p, interfaces: [Vet] }, kct.prototype.stowArmor_0 = function () { Xet(!0, "Really stow this armor to the gear tab?", new Rct(this)).show() }, Pct.prototype.accept = function () { null != this.this$TabbedAreaArmor.getCharacterData().getPlayerShieldNew() && (this.this$TabbedAreaArmor.getCharacterData().listStowedPlayerShields.add_11rb$(o(this.this$TabbedAreaArmor.getCharacterData().getPlayerShieldNew())), this.this$TabbedAreaArmor.dataControl.managerEquipment.activateShieldEffects_ejs4i3$(!1, this.this$TabbedAreaArmor.getCharacterBuild()), this.this$TabbedAreaArmor.getCharacterData().setPlayerShieldNew_hbhz1b$(null), this.this$TabbedAreaArmor.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.this$TabbedAreaArmor.getCharacterBuild())) }, Pct.$metadata$ = { kind: p, interfaces: [Vet] }, kct.prototype.stowShield_0 = function () { Xet(!0, "Really stow your shield to the gear tab?", new Pct(this)).show() }, kct.prototype.getPropertyRuneLayout_0 = function (t, e) { var i, a, r = zlt(e); return r.buttonMain.addEventListener("click", (i = this, a = e, function (t) { var e = o(i.dataControl.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(101)).get_11rb$(a); return null != e && i.mainActivity.openDialog_ip94j4$(new Tat(i.mainActivity, i.dataControl, i.getCharacterBuild(), e.name, e.itemLevel, e.traits, e.description)), n })), r.buttonX.addEventListener("click", function (t, e, i) { return function (a) { return t.getListPropertyRunes().remove_11rb$(e), i.dataControl.managerEquipment.activateArmorRune_gg017k$(i.getCharacterBuild(), !1, e), i.updateAll(), i.mainActivity.autoSave(), n } }(t, e, this)), r }, kct.prototype.getPropertyRuneLayoutShield_0 = function (t, e) { var i, a, r = zlt(e); return r.buttonMain.addEventListener("click", (i = this, a = e, function (t) { var e = o(i.dataControl.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(103)).get_11rb$(a); return null != e && i.mainActivity.openDialog_ip94j4$(new Tat(i.mainActivity, i.dataControl, i.getCharacterBuild(), e.name, e.itemLevel, e.traits, e.description)), n })), r.buttonX.addEventListener("click", function (t, e) { return function (i) { return null != t.getCharacterData().getPlayerShieldNew() && (o(t.getCharacterData().getPlayerShieldNew()).getListPropertyRunes().remove_11rb$(e), t.updateAll(), t.mainActivity.autoSave()), n } }(this, e)), r }, kct.prototype.updatePlayerArmorTextViews = function () { var t, e, i = this.getCharacterData().getPlayerArmor(), a = this.dataControl.managerArmor.getWornArmorInformation_5btbp7$(this.getCharacterBuild()); if (null != a) { var r = this.dataControl.managerArmor.getArmorProficiencyType_s8qicq$(i), n = null != (t = this.getCharacterBuild().getProficiency_61zpoe$(r)) ? t : new nK, s = this.dataControl.managerArmor.getArmorTrainingLevel_a0vkeb$(this.getCharacterBuild(), i, this.getCharacterData().getCharacterLevel()), l = pK().getFinalProficiencyTotal_xek4lp$(this.getCharacterData(), s, this.getCharacterData().getCharacterLevel()), c = this.dataControl.managerArmor.getArmorAbilityBonus_5btbp7$(this.getCharacterBuild()), p = rK(this.dataControl, this.getCharacterBuild(), n), h = p.getArmorItemBonus_fhac18$(this.dataControl, this.getCharacterBuild()), d = p.totalBuffExcludingItem, u = "<span class='weapon-span'><i>Base</i></span> 10 &nbsp&nbsp&nbsp  <span class='weapon-span'><i>Item</i></span> " + htt().getSignedValue_za3lpa$(h) + "&nbsp&nbsp&nbsp  <span class='weapon-span'><i>Dex</i></span> " + htt().getSignedValue_za3lpa$(c) + "&nbsp&nbsp&nbsp  <span class='weapon-span'><i>Proficiency</i></span> " + htt().getSignedValue_za3lpa$(l); 0 !== d && (u += "&nbsp&nbsp&nbsp <span class='weapon-span'><i>Buff</i></span> " + htt().getSignedValue_za3lpa$(d)), this.textACBreakdown_0.innerHTML = u, this.layoutArmorDetails_0.imageTraining.src = htt().getImageBasedOnProficiency_za3lpa$(s), this.layoutArmorDetails_0.textName.innerHTML = i.getArmorFullName_cfdsd3$(a, this.getCharacterBuild()); var _ = i.geArmorItemLevel_fhac18$(this.dataControl, this.getCharacterBuild()); _ > 0 ? (this.layoutArmorDetails_0.textLevel.style.display = "inline-block", this.layoutArmorDetails_0.textLevel.innerHTML = _.toString()) : this.layoutArmorDetails_0.textLevel.style.display = "none"; var f = " No dex cap"; if (null != a.dexCap && o(a.dexCap) < 10 && (f = " <span class='weapon-span'><i>Dex Cap</i></span> &nbsp" + j(a.dexCap)), this.layoutArmorDetails_0.textItemBonus.innerHTML = "<span class='weapon-span'><i>Item Bonus</i></span> " + htt().getSignedValue_za3lpa$(h), this.layoutArmorDetails_0.textDexCap.innerHTML = f, this.layoutArmorDetails_0.layoutProficiency.setName_61zpoe$(r), this.layoutArmorDetails_0.layoutProficiency.setColorBasedOnBuff_za3lpa$(d), this.layoutArmorDetails_0.layoutProficiency.setProficiency_za3lpa$(l), this.layoutArmorDetails_0.layoutProficiency.setProficiencyImage_za3lpa$(s), this.layoutArmorDetails_0.layoutProficiency.setAbility_bm4lxs$("Dex", c), this.layoutArmorDetails_0.layoutProficiency.setItemBonus_za3lpa$(h), this.layoutArmorDetails_0.divTraits.innerHTML = "", htt().addTraitsToFlexbox_h2l30b$(this.layoutArmorDetails_0.divTraits, i.getTraits_fhac18$(this.dataControl, this.getCharacterBuild())), this.layoutArmorDetails_0.divRunes.innerHTML = "", i.getListPropertyRunes().isEmpty()) this.layoutArmorDetails_0.divRunes.style.display = "none"; else for (this.layoutArmorDetails_0.divRunes.style.display = "flex", e = i.getListPropertyRunes().iterator(); e.hasNext();) { var y = e.next(); this.layoutArmorDetails_0.divRunes.appendChild(this.getPropertyRuneLayout_0(i, y).div) } if (this.layoutArmorDetails_0.divMods.innerHTML = "", null != i.mapInvModSel) { var m = new nct(this.mainActivity, this.dataControl, this.getCharacterBuild(), 0, i); m.hashMapModsToButtons.isEmpty() || this.layoutArmorDetails_0.divMods.appendChild(m.layoutMain) } } }, Mct.prototype.accept = function () { this.this$TabbedAreaArmor.dataControl.managerEquipment.activateShieldEffects_ejs4i3$(!1, this.this$TabbedAreaArmor.getCharacterBuild()), this.this$TabbedAreaArmor.getCharacterData().setPlayerShieldNew_hbhz1b$(null), this.this$TabbedAreaArmor.dataControl.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.this$TabbedAreaArmor.getCharacterBuild()), this.this$TabbedAreaArmor.mainActivity.autoSave() }, Mct.$metadata$ = { kind: p, interfaces: [Vet] }, kct.prototype.setShieldControls_0 = function () { var t, e = jlt().getDiv(); e.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.rootView.appendChild(e), this.layoutShield_0.buttonChange.buttonDiv.addEventListener("click", (t = this, function (e) { return t.mainActivity.openDialog_ip94j4$(new Lnt(t.mainActivity, t.dataControl, t.getCharacterBuild(), !1)), n })), this.layoutShield_0.buttonInfo.buttonDiv.addEventListener("click", function (t) { return function (e) { var i = t.dataControl.managerArmor.getWornShieldInformation_5btbp7$(t.getCharacterBuild()); return null != i && new bet(i.name, i.getItemFullDetails()).show(), n } }(this)), this.layoutShield_0.buttonRunes.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.mainActivity.openDialog_ip94j4$(new mnt(t.mainActivity, t.dataControl, t.getCharacterBuild(), 1)), n } }(this)), this.layoutShield_0.buttonRemove.buttonDiv.addEventListener("click", function (t) { return function (e) { return null != t.getCharacterData().getPlayerShieldNew() && Xet(!0, "Really remove this shield from your character?", new Mct(t)).show(), n } }(this)), this.layoutShield_0.buttonStow.buttonDiv.addEventListener("click", function (t) { return function (e) { return t.stowShield_0(), n } }(this)), e.appendChild(this.layoutShield_0.div) }, kct.prototype.updatePlayerShieldTextViews = function () { var t, e, i = this.getCharacterData().getPlayerShieldNew(); if (null == i) this.layoutShield_0.textName.innerHTML = "No Shield", this.layoutShield_0.divTraits.style.display = "none", this.layoutShield_0.textLevel.style.display = "none", this.layoutShield_0.buttonStow.buttonDiv.style.display = "none", this.layoutShield_0.buttonRemove.buttonDiv.style.display = "none", this.layoutShield_0.buttonInfo.buttonDiv.style.display = "none", this.layoutShield_0.buttonRunes.buttonDiv.style.display = "none", this.layoutShield_0.divShieldDetails.style.display = "none"; else { if (this.layoutShield_0.buttonStow.buttonDiv.style.display = "inline-block", this.layoutShield_0.buttonRemove.buttonDiv.style.display = "inline-block", this.layoutShield_0.buttonInfo.buttonDiv.style.display = "inline-block", this.layoutShield_0.buttonRunes.buttonDiv.style.display = "inline-block", this.layoutShield_0.divShieldDetails.style.display = "inline-block", this.layoutShield_0.divTraits.style.display = "flex", null == (t = this.dataControl.managerArmor.getWornShieldInformation_5btbp7$(this.getCharacterBuild()))) return; var a = t, r = a.getHp_9khk5$(this.dataControl, this.getCharacterBuild()); this.layoutShield_0.textName.innerHTML = a.name, a.itemLevel > 0 ? (this.layoutShield_0.textLevel.style.display = "inline-block", this.layoutShield_0.textLevel.innerHTML = a.itemLevel.toString()) : this.layoutShield_0.textLevel.style.display = "none"; var n = a.getHardness_9khk5$(this.dataControl, this.getCharacterBuild()).toString(), o = a.getBT_za3lpa$(r); if (this.layoutShield_0.textAC.innerHTML = " <span class='weapon-span'><i>Raised AC</i></span> +" + a.ac, this.layoutShield_0.textHard.innerHTML = " <span class='weapon-span'><i>Hardness</i></span> " + n, this.layoutShield_0.textHP.innerHTML = " <span class='weapon-span'><i>HP (BT)</i></span> " + r + " (" + o + ")", this.layoutShield_0.divTraits.innerHTML = "", htt().addTraitsToFlexbox_h2l30b$(this.layoutShield_0.divTraits, a.traits), this.layoutShield_0.divRunes.innerHTML = "", i.getListPropertyRunes().isEmpty()) this.layoutShield_0.divRunes.style.display = "none"; else for (this.layoutShield_0.divRunes.style.display = "flex", e = i.getListPropertyRunes().iterator(); e.hasNext();) { var s = e.next(); this.layoutShield_0.divRunes.appendChild(this.getPropertyRuneLayoutShield_0(i, s).div) } } }, kct.$metadata$ = { kind: p, simpleName: "TabbedAreaArmor", interfaces: [Sct] }, Nct.prototype.updateAll = function () { this.setPortrait_0(), this.setAge(), this.setGender(), this.setDeity(), this.setAlignment(), this.setLanguages(), this.setNotes() }, Nct.prototype.setNotes = function () { this.edittext_0.value = this.getCharacterData().getNotes() }, Nct.prototype.setAlignment = function () { this.buttonAlignment_0.selection.innerHTML = this.getCharacterData().getAlignment() }, Nct.prototype.setAge = function () { this.buttonAge_0.selection.innerHTML = this.getCharacterData().getAge() }, Nct.prototype.setGender = function () { this.buttonGender_0.selection.innerHTML = this.getCharacterData().getGender() }, Nct.prototype.setDeity = function () { this.buttonDeity_0.selection.innerHTML = this.getCharacterData().getDeity() }, Nct.prototype.setLanguages = function () { this.buttonLanguages_0.selection.innerHTML = _l().getLanguagesAsString_5btbp7$(this.getCharacterBuild()) }, Nct.prototype.setPortrait_0 = function () { var t; if (null != this.getCharacterData().getPortraitFilename()) { var e = "string" == typeof (t = this.getCharacterData().getPortraitFilename()) ? t : d(); this.mainActivity.fileManager.setPortraitFile_bblzc9$(e, this.portrait_0) } else this.portrait_0.src = "img/portrait_blank.jpg" }, Dct.prototype.additionalInfo_61zpoe$ = function (t) { this.this$TabbedAreaDetails.getCharacterData().setDeity_61zpoe$(t), this.this$TabbedAreaDetails.setDeity(), this.closure$mainActivity.autoSave() }, Dct.$metadata$ = { kind: p, interfaces: [v9] }, xct.prototype.additionalInfo_61zpoe$ = function (t) { this.this$TabbedAreaDetails.getCharacterData().setAlignment_61zpoe$(t), this.this$TabbedAreaDetails.setAlignment(), this.closure$mainActivity.autoSave() }, xct.$metadata$ = { kind: p, interfaces: [v9] }, zct.prototype.additionalInfo_61zpoe$ = function (t) { this.this$TabbedAreaDetails.getCharacterData().setGender_61zpoe$(t), this.this$TabbedAreaDetails.setGender(), this.closure$mainActivity.autoSave() }, zct.$metadata$ = { kind: p, interfaces: [v9] }, Oct.prototype.additionalInfo_61zpoe$ = function (t) { this.this$TabbedAreaDetails.getCharacterData().setAge_61zpoe$(t), this.this$TabbedAreaDetails.setAge(), this.closure$mainActivity.autoSave() }, Oct.$metadata$ = { kind: p, interfaces: [v9] }, Nct.$metadata$ = { kind: p, simpleName: "TabbedAreaDetails", interfaces: [Sct] }; var Fct = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Bct(t, e) { Gct(), Sct.call(this, t, e), this.featHolder_0 = jlt().getDiv(), this.specialsHolder_0 = jlt().getDiv(), this.listFeatsForSorting_0 = u(), this.listSpecialsForSorting_0 = u(), this.divWarnings_0 = jlt().getDiv(), this.rootView = jlt().getDiv(), this.rootView.classList.add("tabbed-area-display"), this.rootView.appendChild(this.divWarnings_0), this.divWarnings_0.classList.add(B9().CSS_LAYOUT_TABBED_LINE); var i = jlt().getDiv(); i.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.rootView.appendChild(i), i.classList.add(B9().CSS_GRID_CONTAINER); var a = jlt().getDiv(); a.classList.add(B9().CSS_GRID_ITEM), i.appendChild(a), a.style.marginRight = "4em"; var r = jlt().getDiv(); r.classList.add(B9().CSS_GRID_ITEM), i.appendChild(r); var n = jlt().getDiv(); n.style.marginBottom = "0.5em", n.classList.add("subtitle"), n.innerHTML = "Feats", a.appendChild(n), a.appendChild(this.featHolder_0), (n = jlt().getDiv()).style.marginBottom = "0.5em", n.innerHTML = "Specials", n.classList.add("subtitle"), r.appendChild(n), r.appendChild(this.specialsHolder_0), this.updateAll() } function jct(t) { return t.featDisplayName } function Hct(t) { return t.name } function qct() { Uct = this, this.ARRAY_FEAT_SPECIALS_TO_IGNORE_0 = ["Adopted Ancestry", "Assurance", "Canny Acumen", "Skill Training", "Terrain Stalker", "Wilderness Spotter", "Different Worlds Skill", "Advanced Weapon Choice"] } Bct.prototype.updateAll = function () { try { this.setFeats() } catch (t) { if (!e.isType(t, l)) throw t; s(t) } this.updateWarnings() }, Bct.prototype.updateWarnings = function () { if (this.divWarnings_0.innerHTML = "", null == this.getCharacterData().getAbilityScoreOverrides() && this.hasUnspentAbilities_0()) { var t = jlt().getP(); t.innerHTML = "&#8226; You have not yet assigned level 1 ability boosts in your character plan", this.divWarnings_0.appendChild(t) } var e = this.getIncompleteFeats_0(); if (e > 0) { var i = jlt().getP(); i.innerHTML = "&#8226; You have " + e + " unselected feats up to this level in your character plan.", this.divWarnings_0.appendChild(i) } htt().setHidden_njr4nn$(this.divWarnings_0, 0 !== this.divWarnings_0.childElementCount) }, Bct.prototype.hasUnspentAbilities_0 = function () { var t; return !this.getCharacterData().hashMapAbilityBoosts.containsKey_11rb$(1) || 4 !== (null != (t = this.getCharacterData().hashMapAbilityBoosts.get_11rb$(1)) ? t.size : null) }, Bct.prototype.getIncompleteFeats_0 = function () { var t, e, i = 0; t = this.getCharacterData().getCharacterLevel(); for (var a = 1; a <= t; a++)if (null != this.getCharacterBuild().getFeatChoicesAtLevel_za3lpa$(a)) for (e = o(this.getCharacterBuild().getFeatChoicesAtLevel_za3lpa$(a)).keys.iterator(); e.hasNext();) { var r = e.next(); this.getCharacterData().hashMapFeatSelections.containsKey_11rb$(r) || (i = i + 1 | 0) } return i }, Bct.prototype.setFeats = function () { var t, e, i, a; this.featHolder_0.innerHTML = "", this.listFeatsForSorting_0.clear(), this.specialsHolder_0.innerHTML = "", this.listSpecialsForSorting_0.clear(); for (var r = this.getCharacterData().getCharacterLevel(), n = 1; n <= r; n++) { for (t = o(this.getCharacterBuild().getFeatChoicesAtLevel_za3lpa$(n)).keys.iterator(); t.hasNext();) { var s = t.next(), l = o(this.getCharacterBuild().getFeatChoicesAtLevel_za3lpa$(n)).get_11rb$(s); null != l && this.addFeatChoiceSelection_0(s, l, n) } for (e = o(this.getCharacterBuild().hashMapSpecialInformation[n - 1 | 0]).keys.iterator(); e.hasNext();) { var c = e.next(), p = o(this.getCharacterBuild().hashMapSpecialInformation[n - 1 | 0]).get_11rb$(c); if (null != p) if (p.hashMapSpecialChoices.isEmpty()) this.listSpecialsForSorting_0.add_11rb$(p); else for (i = p.hashMapSpecialChoices.keys.iterator(); i.hasNext();) { var h = i.next(); if (this.isDisplaySpecials_0(p)) { var d = this.getCharacterData().getSpecialSelection_puj7f4$(c, h); if (null != d) { var u = o(p.hashMapSpecialChoices.get_11rb$(h)).get_11rb$(d); null != u && this.listSpecialsForSorting_0.add_11rb$(u) } } } } } for (a = this.getCharacterBuild().getListFreeFeatsByLevel_za3lpa$(r).iterator(); a.hasNext();) { var _ = a.next(), f = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(_.featID); if (null != f) { var y = f.name; null != _.extraInformation && (y += " (" + _.extraInformation + ")"), this.listFeatsForSorting_0.add_11rb$(new Wct(f, y, "Awarded Feat")) } } var m = this.listFeatsForSorting_0; m.size > 1 && q(m, new G(Fct(jct))), this.setListFeats_0(); var $ = this.listSpecialsForSorting_0; $.size > 1 && q($, new G(Fct(Hct))), this.setListSpecials_0() }, Bct.prototype.addFeatChoiceSelection_0 = function (t, i, a) { var r; try { if (this.getCharacterData().hashMapFeatSelections.containsKey_11rb$(t)) { var n = this.getCharacterData().hashMapFeatSelections.get_11rb$(t), l = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(o(n)); if (null != l) { var c = l.name; if (this.getCharacterBuild().hashMapFeatExtraInformation.containsKey_11rb$(t) ? c += " (" + this.getCharacterBuild().hashMapFeatExtraInformation.get_11rb$(t) + ")" : this.getCharacterData().hashMapFeatExtraSelections.containsKey_11rb$(t) && (c += " (" + this.getCharacterData().hashMapFeatExtraSelections.get_11rb$(t) + ")"), m(i.featType, se().FEATS_HERITAGE)) { var p = qX(c, 1); p.flags = l.traits, p.textDescription = l.textDescription, p.src = l.src, p.url = l.url, this.listSpecialsForSorting_0.add_11rb$(p) } else for (this.listFeatsForSorting_0.add_11rb$(new Wct(l, c, i.featType)), r = i.hashMapChildFeatChoices.keys.iterator(); r.hasNext();) { var d = r.next(); if (null != d) { var u = i.hashMapChildFeatChoices.get_11rb$(d); null != u && this.addFeatChoiceSelection_0(d, u, a) } } } } } catch (t) { if (!e.isType(t, h)) throw t; s(t) } }, Bct.prototype.setListFeats_0 = function () { var t, e; for (t = this.listFeatsForSorting_0.iterator(); t.hasNext();) { var i = t.next(), a = new Ylt(!0), r = "Feat Source " + i.type + " Level " + j(i.featInformation.level) + "<br><br>"; r += i.featInformation.textDescription, a.setDescription_61zpoe$(r), a.setTraits_pdl1vj$(i.featInformation.traits), a.setName_61zpoe$(i.featDisplayName), a.setAction_za3lpa$(i.featInformation.action), a.setCopyright_61zpoe$(null != (e = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(i.featInformation.src)) ? e : ""), this.featHolder_0.appendChild(a.div) } }, Bct.prototype.setListSpecials_0 = function () { var t, e, i, a; for (t = this.listSpecialsForSorting_0.iterator(); t.hasNext();) { var r = t.next(), n = new Ylt(!0), o = "Awarded Special Feature Level " + r.level.toString() + "<br><br>"; o += r.textDescription, n.setDescription_61zpoe$(o), n.setTraits_pdl1vj$(null != (e = r.flags) ? e : ""), n.setName_61zpoe$(null != (i = r.name) ? i : ""), n.setAction_za3lpa$(r.action), n.setCopyright_61zpoe$(null != (a = this.dataControl.managerCopyright.getCopyrightDetails_pdl1vj$(r.src)) ? a : ""), this.specialsHolder_0.appendChild(n.div) } }, Bct.prototype.isDisplaySpecials_0 = function (t) { var e, i, a; if (null != t.name) for (e = Gct().ARRAY_FEAT_SPECIALS_TO_IGNORE_0, i = 0; i !== e.length; ++i) { var r = e[i]; if (m(t.name, r)) return !1 } for (a = t.hashMapSpecialChoices.keys.iterator(); a.hasNext();) { var n = a.next(); if (_(n.toLowerCase(), "select spell")) return !1 } return !0 }, qct.$metadata$ = { kind: f, simpleName: "Companion", interfaces: [] }; var Uct = null; function Gct() { return null === Uct && new qct, Uct } function Wct(t, e, i) { this.featInformation = t, this.featDisplayName = e, this.type = i } Wct.$metadata$ = { kind: p, simpleName: "FeatForSorting", interfaces: [] }, Bct.$metadata$ = { kind: p, simpleName: "TabbedAreaFeats", interfaces: [Sct] }; var Yct = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Vct(t, e) { Sct.call(this, t, e), this.buttonPP_0 = new klt("pp", "Platinum"), this.buttonGP_0 = new klt("gp", "Gold"), this.buttonSP_0 = new klt("sp", "Silver"), this.buttonCP_0 = new klt("cp", "Copper"), this.textBulkCurrent_0 = jlt().getSpan(), this.textBulkEncumbered_0 = jlt().getSpan(), this.buttonAddGear_0 = Dlt("Add Gear"), this.buttonAddContainer_0 = Dlt("Add Container"), this.buttonAddFormula_0 = Dlt("Add Formula"), this.divEquipment_0 = jlt().getDiv(), this.divEquipmentHolder_0 = jlt().getDiv(), this.divContainers_0 = jlt().getDiv(), this.divFormulaHolder_0 = jlt().getDiv(), this.divFormula_0 = jlt().getDiv(), this.hashMapEquipmentContainerBulks_0 = c(), this.rootView = jlt().getDiv(), this.rootView.classList.add("tabbed-area-display"); var i = jlt().getDiv(); this.rootView.appendChild(i), i.classList.add(B9().CSS_LAYOUT_TABBED_LINE); var a = jlt().getDiv(); a.classList.add("table-money-holder"); var r, o, s, l = jlt().getDiv(); l.classList.add(B9().CSS_GRID_CONTAINER), l.classList.add("table-money"), l.appendChild(this.buttonPP_0.buttonDiv), l.appendChild(this.buttonGP_0.buttonDiv), l.appendChild(this.buttonSP_0.buttonDiv), l.appendChild(this.buttonCP_0.buttonDiv), this.buttonPP_0.buttonDiv.addEventListener("click", (r = t, o = e, s = this, function (t) { return r.openDialog_ip94j4$(new Wit(r, o, s.getCharacterBuild(), 3)), n })), this.buttonGP_0.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.openDialog_ip94j4$(new Wit(t, e, i.getCharacterBuild(), 2)), n } }(t, e, this)), this.buttonSP_0.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.openDialog_ip94j4$(new Wit(t, e, i.getCharacterBuild(), 1)), n } }(t, e, this)), this.buttonCP_0.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.openDialog_ip94j4$(new Wit(t, e, i.getCharacterBuild(), 0)), n } }(t, e, this)), a.appendChild(l), i.appendChild(a); var p = jlt().getDiv(), h = jlt().getDiv(); h.classList.add("div-bulk"), h.appendChild(this.textBulkCurrent_0), this.textBulkEncumbered_0.style.marginLeft = "1em", this.textBulkEncumbered_0.classList.add(B9().CSS_GREY_TEXT), h.appendChild(this.textBulkEncumbered_0), p.appendChild(h), p.classList.add("div-bulk-container"), i.appendChild(p); var d = jlt().getDiv(); d.style.marginTop = "0.5em", d.classList.add("table-money-holder"), i.appendChild(d); var u = jlt().getDiv(); u.classList.add(B9().CSS_GRID_CONTAINER), u.classList.add("table-gear-buttons"), d.appendChild(u), this.buttonAddGear_0.buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.buttonAddContainer_0.buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.buttonAddFormula_0.buttonDiv.classList.add(B9().CSS_GRID_ITEM), u.appendChild(this.buttonAddGear_0.buttonDiv), u.appendChild(this.buttonAddContainer_0.buttonDiv), u.appendChild(this.buttonAddFormula_0.buttonDiv), this.buttonAddGear_0.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.openDialog_ip94j4$(new fat(t, e, i.getCharacterBuild(), !1, null)), n } }(t, e, this)), this.buttonAddContainer_0.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.openDialog_ip94j4$(new wat(t, e, i.getCharacterBuild(), null)), n } }(t, e, this)), this.buttonAddFormula_0.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.openDialog_ip94j4$(new fat(t, e, i.getCharacterBuild(), !0, null)), n } }(t, e, this)); var _ = jlt().getDiv(); _.classList.add("subtitle"), _.innerHTML = "Main Inventory", _.style.marginBottom = "1em", this.divEquipmentHolder_0.appendChild(_), this.divEquipmentHolder_0.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.divEquipment_0.classList.add(B9().CSS_GRID_CONTAINER), this.divEquipmentHolder_0.classList.add("equipment-container"), this.divEquipmentHolder_0.id = "MAIN INVENTORY", this.divEquipmentHolder_0.appendChild(this.divEquipment_0), this.rootView.appendChild(this.divEquipmentHolder_0), this.rootView.appendChild(this.divContainers_0), this.rootView.appendChild(this.divFormulaHolder_0), (_ = jlt().getDiv()).classList.add("subtitle"), _.innerHTML = "Formulae", this.divFormula_0.classList.add(B9().CSS_GRID_CONTAINER), this.divFormulaHolder_0.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.divFormulaHolder_0.appendChild(_), this.divFormulaHolder_0.appendChild(this.divFormula_0), this.updateAll() } function Kct(t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new wat(t.mainActivity, t.dataControl, t.getCharacterBuild(), e)), n } } function Xct(t) { return t.title.innerHTML } function Jct(t) { return t.title.innerHTML } function Zct() { } function Qct(t, e) { this.closure$playerEquipment = t, this.this$TabbedAreaGear = e } function tpt(t, e) { this.this$TabbedAreaGear = t, this.closure$playerEquipment = e } function ept(t, e) { this.closure$playerItem = t, this.this$TabbedAreaGear = e } function ipt(t, e) { this.this$TabbedAreaGear = t, this.closure$playerEquipment = e } function apt(t, e, i) { Sct.call(this, t, e), this.submenu_0 = i, this.fragmentPetsAnimalCompanion_0 = null, this.fragmentPetsFamiliar_0 = null, this.fragmentPetsEidolon_0 = null, this.fragmentPetsConstruct_0 = null, this.divNoPetsWarning_0 = jlt().getP(), this.divHelp_0 = jlt().getP(), this.activePetReference_0 = null, this.submenu_0.innerHTML = "", this.rootView = jlt().getDiv(), this.rootView.classList.add("tabbed-area-display"), this.fragmentPetsAnimalCompanion_0 = new mpt(t, e, this.rootView), this.fragmentPetsFamiliar_0 = new kpt(t, e, this.rootView), this.fragmentPetsEidolon_0 = new wpt(t, e, this.rootView), this.fragmentPetsConstruct_0 = new Ept(t, e, this.rootView), this.divNoPetsWarning_0.innerHTML = "Animal Companions, Eidolons, Constructs and Familiars are gained from feats and class features. You do not have an Animal Companion, Eidolon or Familiar at this level.", this.divNoPetsWarning_0.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.rootView.appendChild(this.divNoPetsWarning_0), this.divHelp_0.innerHTML = "Animal Companions, Eidolons, Constructs and Familiars are only available in the fully unlocked version of this app.", this.divHelp_0.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.rootView.appendChild(this.divHelp_0), this.updateAll() } Vct.prototype.updateAll = function () { this.updateBulk(), this.updateMoneyButtons(), this.updateEquipment(), this.updateFormula() }, Vct.prototype.updateMoneyButtons = function () { this.buttonPP_0.selection.innerHTML = this.getCharacterData().getPlatinum().toString(), this.buttonGP_0.selection.innerHTML = this.getCharacterData().getGold().toString(), this.buttonSP_0.selection.innerHTML = this.getCharacterData().getSilver().toString(), this.buttonCP_0.selection.innerHTML = this.getCharacterData().getCopper().toString() }, Vct.prototype.updateBulk = function () { var t, e, i, a, r = this.dataControl.managerEquipment.getMaxBulk_vy76y1$(this.getCharacterBuild(), 10), n = this.dataControl.managerEquipment.getMaxBulk_vy76y1$(this.getCharacterBuild(), 5), o = this.dataControl.managerEquipment.getCurrentBulk_n40yp2$(this.getCharacterBuild()), s = o.currentBulk, l = C(I.floor(s)); this.textBulkCurrent_0.innerHTML = "Total Bulk " + l; var c = ""; for (c = l > r ? "Over Max" : l > n ? "Encumbered" : "Unencumbered", c += " (Enc: " + n + "; Max: " + r + ")", this.textBulkEncumbered_0.innerHTML = c, t = this.hashMapEquipmentContainerBulks_0.keys.iterator(); t.hasNext();) { var p = t.next(), h = "string" == typeof (e = this.hashMapEquipmentContainerBulks_0.get_11rb$(p)) ? e : d(); if (this.getCharacterData().getHashMapEquipmentContainers().containsKey_11rb$(h)) if (o.hashMapActualBulkByContainerID.containsKey_11rb$(h)) { var u = null != (i = o.hashMapActualBulkByContainerID.get_11rb$(h)) ? I.floor(i) : null, _ = null != (a = o.hashMapAlteredBulkByContainerID.get_11rb$(h)) ? I.floor(a) : null, f = "Bulk: "; o.hashMapActualBulkByContainerID.containsKey_11rb$(h) && (f += j(u)), o.hashMapAlteredBulkByContainerID.containsKey_11rb$(h) && (f += " (" + j(_) + ")"), p.textBulk.innerHTML = f } else p.textBulk.innerHTML = "" } }, Vct.prototype.updateEquipment = function () { var t, i, a, r, n, p, h, _, f, m, $, g, v, S, C, E; this.divEquipment_0.innerHTML = "", this.divContainers_0.innerHTML = ""; var A = c(), b = u(); for (t = this.getCharacterData().listPlayerEquipment.iterator(); t.hasNext();) { var I = t.next(), w = this.getLayoutEquipment_0(I); if (null == I.inContainerID) b.add_11rb$(w); else { var L, T = I.inContainerID; if (!(e.isType(L = A, y) ? L : d()).containsKey_11rb$(T)) { var k = o(I.inContainerID), R = u(); A.put_xwzc9p$(k, R) } var P, M = I.inContainerID; o((e.isType(P = A, y) ? P : d()).get_11rb$(M)).add_11rb$(w) } } var N = c(); for (i = this.getCharacterData().getHashMapEquipmentContainers().keys.iterator(); i.hasNext();) { var D = i.next(), x = this.getCharacterData().getHashMapEquipmentContainers().get_11rb$(D); if (null == x) { var z = x = new Dc; this.getCharacterData().getHashMapEquipmentContainers().put_xwzc9p$(D, z) } var O = new Yst; O.div.classList.add("equipment-container"), O.div.id = D, this.hashMapEquipmentContainerBulks_0.put_xwzc9p$(O, D), O.div.classList.add(B9().CSS_LAYOUT_TABBED_LINE), O.textName.innerHTML = x.containerName, O.buttonEditContainer.buttonDiv.addEventListener("click", Kct(this, D)); var F = O.divParent; N.put_xwzc9p$(D, F), this.divContainers_0.appendChild(O.div) } for (a = this.getCharacterData().listPlayerWeapons.iterator(); a.hasNext();) { var B = a.next(); if (B.stowed) { var j = this.getLayoutStowedItem_a4vgrr$(B), H = null != B.inContainerID; if (H) { var U, W = B.inContainerID; H = (e.isType(U = N, y) ? U : d()).containsKey_11rb$(W) } if (H) { var Y, V = B.inContainerID; if (!(e.isType(Y = A, y) ? Y : d()).containsKey_11rb$(V)) { var K = o(B.inContainerID), X = u(); A.put_xwzc9p$(K, X) } var J, Z = B.inContainerID; o((e.isType(J = A, y) ? J : d()).get_11rb$(Z)).add_11rb$(j) } else b.add_11rb$(j) } } for (r = this.getCharacterData().listStowedPlayerArmor.iterator(); r.hasNext();) { var Q = r.next(), tt = this.getLayoutStowedItem_a4vgrr$(Q), et = null != Q.inContainerID; if (et) { var it, at = Q.inContainerID; et = (e.isType(it = N, y) ? it : d()).containsKey_11rb$(at) } if (et) { var rt, nt = Q.inContainerID; if (!(e.isType(rt = A, y) ? rt : d()).containsKey_11rb$(nt)) { var ot = o(Q.inContainerID), st = u(); A.put_xwzc9p$(ot, st) } var lt, ct = Q.inContainerID; o((e.isType(lt = A, y) ? lt : d()).get_11rb$(ct)).add_11rb$(tt) } else b.add_11rb$(tt) } for (n = this.getCharacterData().listStowedPlayerShields.iterator(); n.hasNext();) { var pt = n.next(), ht = this.getLayoutStowedItem_a4vgrr$(pt), dt = null != pt.inContainerID; if (dt) { var ut, _t = pt.inContainerID; dt = (e.isType(ut = N, y) ? ut : d()).containsKey_11rb$(_t) } if (dt) { var ft, yt = pt.inContainerID; if (!(e.isType(ft = A, y) ? ft : d()).containsKey_11rb$(yt)) { var mt = o(pt.inContainerID), $t = u(); A.put_xwzc9p$(mt, $t) } var gt, vt = pt.inContainerID; o((e.isType(gt = A, y) ? gt : d()).get_11rb$(vt)).add_11rb$(ht) } else b.add_11rb$(ht) } var St = htt().getColumns_za3lpa$(2); for (p = St.iterator(); p.hasNext();) { var Ct = p.next(); Ct.classList.add(B9().CSS_GRID_ITEM), this.divEquipment_0.appendChild(Ct) } b.size > 1 && q(b, new G(Yct(Xct))); var Et = 0; for (h = b.iterator(); h.hasNext();) { var At = h.next(); St.get_za3lpa$(Et).appendChild(At.div), (Et = Et + 1 | 0) === St.size && (Et = 0) } for (_ = A.keys.iterator(); _.hasNext();) { var bt = _.next(), It = o(A.get_11rb$(bt)); for (It.size > 1 && q(It, new G(Yct(Jct))), null != (m = null != (f = N.get_11rb$(bt)) ? f.classList : null) && m.add(B9().CSS_GRID_CONTAINER), $ = (St = htt().getColumns_za3lpa$(2)).iterator(); $.hasNext();) { var wt = $.next(); wt.classList.add(B9().CSS_GRID_ITEM), null != (g = N.get_11rb$(bt)) && g.appendChild(wt) } for (Et = 0, v = It.iterator(); v.hasNext();) { var Lt = v.next(); try { null != (E = null != (C = null != (S = N.get_11rb$(bt)) ? S.children : null) ? C[Et] : null) && E.appendChild(Lt.div), (Et = Et + 1 | 0) === St.size && (Et = 0) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } } } this.divEquipment_0.childElementCount > 0 ? htt().setHidden_njr4nn$(this.divEquipmentHolder_0, !0) : htt().setHidden_njr4nn$(this.divEquipmentHolder_0, !1) }, Zct.$metadata$ = { kind: H, simpleName: "InterfaceInvested", interfaces: [] }, Qct.prototype.onInvestedToggle_6taknv$ = function (t) { this.closure$playerEquipment.invested = t, t ? this.this$TabbedAreaGear.dataControl.managerEquipment.applyEquipmentBonus_qumra2$(this.this$TabbedAreaGear.getCharacterBuild(), this.closure$playerEquipment) : this.this$TabbedAreaGear.dataControl.managerEquipment.removeEquipmentBonus_qumra2$(this.this$TabbedAreaGear.getCharacterBuild(), this.closure$playerEquipment), this.this$TabbedAreaGear.getCharacterBuild().setFreshPlayReportAbilityScores_sfkw43$(this.this$TabbedAreaGear.dataControl), this.this$TabbedAreaGear.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.this$TabbedAreaGear.getCharacterBuild()), this.this$TabbedAreaGear.mainActivity.autoSave() }, Qct.$metadata$ = { kind: p, interfaces: [Zct] }, tpt.prototype.accept = function () { this.this$TabbedAreaGear.getCharacterData().listPlayerEquipment.remove_11rb$(this.closure$playerEquipment), this.this$TabbedAreaGear.dataControl.managerEquipment.removeEquipmentBonus_qumra2$(this.this$TabbedAreaGear.getCharacterBuild(), this.closure$playerEquipment), this.this$TabbedAreaGear.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.this$TabbedAreaGear.getCharacterBuild()), this.this$TabbedAreaGear.mainActivity.autoSave() }, tpt.$metadata$ = { kind: p, interfaces: [Vet] }, Vct.prototype.getLayoutEquipment_0 = function (t) { var e = new Kst; e.div.playerEquipment = t; var i, a, r, o = t.getTraits_fhac18$(this.dataControl, this.getCharacterBuild()), s = { v: null }; _(o.toLowerCase(), "invested") && (s.v = new Qct(t, this)), e.title.addEventListener("click", (i = t, a = this, r = s, function (t) { var e = a.getItemDetails_whuh8d$(i.getBasePlayerEquipment_sfkw43$(a.dataControl)) + i.getDescription_fhac18$(a.dataControl, a.getCharacterBuild()); return console.log(e), a.mainActivity.openDialog_ip94j4$(new Rat(a.mainActivity, a.dataControl, a.getCharacterBuild(), i, e, !1, !1, r.v, i.invested)), n })); var l = t.getDisplayName_fhac18$(this.dataControl, this.getCharacterBuild()); return null != s.v && t.invested && (l += " (<i>Invested</i>)"), e.setName_61zpoe$(l), e.setQty_za3lpa$(t.quantity), e.buttonLess.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { var r; return t.quantity > 1 ? (r = t.quantity, t.quantity = r - 1 | 0, e.setQty_za3lpa$(t.quantity), i.updateBulk()) : Xet(!0, "Really remove item from your equipment?", new tpt(i, t)).show(), i.mainActivity.autoSave(), n } }(t, e, this)), e.buttonMore.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { var r; return r = t.quantity, t.quantity = r + 1 | 0, e.setQty_za3lpa$(t.quantity), i.updateBulk(), i.mainActivity.autoSave(), n } }(t, e, this)), e }, Vct.prototype.getItemDetails_whuh8d$ = function (t) { var e = ""; return t.price > 0 && (e += "PRICE: " + pe().getPriceString_14dthe$(t.price).toString() + "<br>"), null == t.bulk || m(t.bulk, "0") || (e += "BULK: " + t.bulk + "<br>"), t.hands.length > 0 && (e += "HANDS: " + t.hands + "<br>"), t.usage.length > 0 && (e += t.usage + "<br>"), e }, ept.prototype.accept = function () { this.closure$playerItem.removeItem_fhac18$(this.this$TabbedAreaGear.dataControl, this.this$TabbedAreaGear.getCharacterBuild()), this.this$TabbedAreaGear.getCharacterBuild().updateReportAbilityScores_vvjzl1$(this.this$TabbedAreaGear.dataControl, this.this$TabbedAreaGear.getCharacterData().getCharacterLevel()), this.this$TabbedAreaGear.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.this$TabbedAreaGear.getCharacterBuild()), this.this$TabbedAreaGear.mainActivity.autoSave() }, ept.$metadata$ = { kind: p, interfaces: [Vet] }, Vct.prototype.getLayoutStowedItem_a4vgrr$ = function (t) { var e, i = new Kst; i.setName_61zpoe$(t.getDisplayName_fhac18$(this.dataControl, this.getCharacterBuild())), i.setQty_za3lpa$(t.amount); var a, r, o, s = null != (e = t.getDescription_fhac18$(this.dataControl, this.getCharacterBuild())) ? e : "No description"; return i.title.addEventListener("click", (a = this, r = t, o = s, function (t) { return a.mainActivity.openDialog_ip94j4$(new Rat(a.mainActivity, a.dataControl, a.getCharacterBuild(), r, o, !0, !1, null, !1)), n })), i.buttonLess.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { var r; return t.amount > 1 ? (r = t.amount, t.amount = r - 1 | 0, e.setQty_za3lpa$(t.amount), i.updateBulk()) : Xet(!0, "Really remove item from your equipment?", new ept(t, i)).show(), i.mainActivity.autoSave(), n } }(t, i, this)), i.buttonMore.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { var r; return r = t.amount, t.amount = r + 1 | 0, e.setQty_za3lpa$(t.amount), i.updateBulk(), i.mainActivity.autoSave(), n } }(t, i, this)), i }, Vct.prototype.updateFormula = function () { var t, e; if (this.divFormula_0.innerHTML = "", this.getCharacterData().listPlayerFormula.isEmpty()) htt().setHidden_njr4nn$(this.divFormulaHolder_0, !1); else { var i = htt().getColumns_za3lpa$(2); for (t = i.iterator(); t.hasNext();) { var a = t.next(); a.classList.add(B9().CSS_GRID_ITEM), this.divFormula_0.appendChild(a) } htt().setHidden_njr4nn$(this.divFormulaHolder_0, !0); var r = 0; for (e = this.getCharacterData().listPlayerFormula.iterator(); e.hasNext();) { var n = e.next(); i.get_za3lpa$(r).appendChild(this.getLayoutFormula_0(n).div), (r = r + 1 | 0) === i.size && (r = 0) } } }, ipt.prototype.accept = function () { this.this$TabbedAreaGear.getCharacterData().listPlayerFormula.remove_11rb$(this.closure$playerEquipment), this.this$TabbedAreaGear.updateFormula(), this.this$TabbedAreaGear.mainActivity.autoSave() }, ipt.$metadata$ = { kind: p, interfaces: [Vet] }, Vct.prototype.getLayoutFormula_0 = function (t) { var e, i, a = new Vst; return a.setName_61zpoe$(t.getDisplayName_fhac18$(this.dataControl, this.getCharacterBuild())), a.buttonRemove.buttonDiv.addEventListener("click", (e = t, i = this, function (t) { return Xet(!0, "Really remove " + e.getDisplayName_fhac18$(i.dataControl, i.getCharacterBuild()) + " from your formula list?", new ipt(i, e)).show(), n })), a.title.addEventListener("click", function (t, e) { return function (i) { var a, r; return t.mainActivity.openDialog_ip94j4$(new Tat(t.mainActivity, t.dataControl, t.getCharacterBuild(), e.getDisplayName_fhac18$(t.dataControl, t.getCharacterBuild()), e.getItemLevel_fhac18$(t.dataControl, t.getCharacterBuild()), null != (a = e.getTraits_fhac18$(t.dataControl, t.getCharacterBuild())) ? a : "", null != (r = e.getDescription_fhac18$(t.dataControl, t.getCharacterBuild())) ? r : "")), n } }(this, t)), a }, Vct.$metadata$ = { kind: p, simpleName: "TabbedAreaGear", interfaces: [Sct] }, apt.prototype.updateAll = function () { this.submenu_0.innerHTML = "", this.fragmentPetsAnimalCompanion_0.removeAll(), this.fragmentPetsFamiliar_0.removeAll(), this.fragmentPetsEidolon_0.removeAll(), this.fragmentPetsConstruct_0.removeAll(), this.dataControl.isFullAppEnabled() ? (htt().setHidden_njr4nn$(this.divHelp_0, !1), this.dataControl.managerPets.hasPetAtLevel_5btbp7$(this.getCharacterBuild()) ? (htt().setHidden_njr4nn$(this.divNoPetsWarning_0, !1), htt().setInvisible_njr4nn$(this.submenu_0, !0)) : (htt().setHidden_njr4nn$(this.divNoPetsWarning_0, !0), htt().setInvisible_njr4nn$(this.submenu_0, !1)), this.addPets_0()) : (htt().setInvisible_njr4nn$(this.submenu_0, !1), htt().setHidden_njr4nn$(this.divNoPetsWarning_0, !1), htt().setHidden_njr4nn$(this.divHelp_0, !0)) }, apt.prototype.addPets_0 = function () { var t, i, a, r, n, s = u(), l = u(); for (t = this.getCharacterBuild().hashMapPetCharacterBuilds.keys.iterator(); t.hasNext();) { var c = t.next(), p = this.getCharacterBuild().hashMapPetCharacterBuilds.get_11rb$(c), h = o(p).getPetData(); this.getCharacterData().getCharacterLevel() >= h.getSpecificGainedLevel() && (0 === h.getPetType() && ZW().showPetType_vy76y1$(this.getCharacterBuild(), 0) ? s.add_11rb$(c) : 1 === h.getPetType() && ZW().showPetType_vy76y1$(this.getCharacterBuild(), 1) ? l.add_11rb$(c) : (2 === h.getPetType() && ZW().showPetType_vy76y1$(this.getCharacterBuild(), 2) || 3 === h.getPetType() && ZW().showPetType_vy76y1$(this.getCharacterBuild(), 3)) && s.add_11rb$(c)) } for (i = s.iterator(); i.hasNext();) { var _ = i.next(), f = e.isType(a = this.getCharacterBuild().hashMapPetCharacterBuilds.get_11rb$(_), qV) ? a : d(); this.addMenuItem_0(_, f) } for (r = l.iterator(); r.hasNext();) { var m = r.next(), $ = e.isType(n = this.getCharacterBuild().hashMapPetCharacterBuilds.get_11rb$(m), qV) ? n : d(); this.addMenuItem_0(m, $) } if (null != this.activePetReference_0 && (B(l, this.activePetReference_0) || B(s, this.activePetReference_0))) { var g, v = this.getCharacterBuild().hashMapPetCharacterBuilds, S = this.activePetReference_0, C = (e.isType(g = v, y) ? g : d()).get_11rb$(S); if (null != C) return void this.setVisiblePet_0(o(this.activePetReference_0), C) } if (s.isEmpty()) { if (!l.isEmpty()) { var E = l.get_za3lpa$(0), A = this.getCharacterBuild().hashMapPetCharacterBuilds.get_11rb$(E); this.setVisiblePet_0(E, o(A)) } } else { var b = s.get_za3lpa$(0), I = this.getCharacterBuild().hashMapPetCharacterBuilds.get_11rb$(b); this.setVisiblePet_0(b, o(I)) } 0 === this.submenu_0.childElementCount ? htt().setInvisible_njr4nn$(this.submenu_0, !1) : htt().setInvisible_njr4nn$(this.submenu_0, !0) }, apt.prototype.setVisiblePet_0 = function (t, e) { switch (this.activePetReference_0 = t, this.setButtons_0(t), e.getPetData().getPetType()) { case 0: this.fragmentPetsAnimalCompanion_0.addPetLayout_pwmxih$(e, e.getPetData(), t); break; case 2: this.fragmentPetsEidolon_0.addPetLayout_pwmxih$(e, e.getPetData(), t); break; case 3: this.fragmentPetsConstruct_0.addPetLayout_pwmxih$(e, e.getPetData(), t); break; case 1: this.fragmentPetsFamiliar_0.addFamiliarLayout_pwmxih$(e, e.getPetData(), t) } }, apt.prototype.addMenuItem_0 = function (t, e) { var i, a, r, o = jlt().getDiv(); o.classList.add("section-menu"), o.id = t, o.innerHTML = e.getPetData().getDisplayName_5btbp7$(this.getCharacterBuild()), this.submenu_0.appendChild(o), o.addEventListener("click", (i = this, a = t, r = e, function (t) { return i.fragmentPetsAnimalCompanion_0.removeAll(), i.fragmentPetsFamiliar_0.removeAll(), i.fragmentPetsEidolon_0.removeAll(), i.fragmentPetsConstruct_0.removeAll(), i.setVisiblePet_0(a, r), n })), this.submenu_0.appendChild(o) }, apt.prototype.updatePet_61zpoe$ = function (t) { var e = this.getCharacterBuild().hashMapPetCharacterBuilds.get_11rb$(t); this.updateMenuTitle_0(t, o(e)); var i = e.getPetData(); 0 === i.getPetType() ? this.fragmentPetsAnimalCompanion_0.updatePet_pwmxih$(e, i, t) : 1 === i.getPetType() ? this.fragmentPetsFamiliar_0.updatePet_pwmxih$(e, i, t) : 2 === i.getPetType() ? this.fragmentPetsEidolon_0.updatePet_pwmxih$(e, i, t) : 3 === i.getPetType() && this.fragmentPetsConstruct_0.updatePet_pwmxih$(e, i, t) }, apt.prototype.updateHP_e0dl4x$ = function (t, e) { var i = t.getPetData(); 0 === i.getPetType() ? this.fragmentPetsAnimalCompanion_0.updateHP_e0dl4x$(t, e) : 1 === i.getPetType() ? this.fragmentPetsFamiliar_0.updateHP_e0dl4x$(t, e) : 3 === i.getPetType() && this.fragmentPetsConstruct_0.updateHP_e0dl4x$(t, e) }, apt.prototype.setButtons_0 = function (t) { var e; e = this.submenu_0.childElementCount; for (var i = 0; i < e; i++) { var a = this.submenu_0.children[i]; m(o(a).id, t) ? a.classList.contains("section-menu-selected") || a.classList.add("section-menu-selected") : a.classList.remove("section-menu-selected") } }, apt.prototype.updateMenuTitle_0 = function (t, e) { var i; i = this.submenu_0.childElementCount; for (var a = 0; a < i; a++) { var r = this.submenu_0.children[a]; m(o(r).id, t) && (r.innerHTML = e.getPetData().getDisplayName_5btbp7$(this.getCharacterBuild())) } }, apt.$metadata$ = { kind: p, simpleName: "TabbedAreaPets", interfaces: [Sct] }; var rpt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function npt(t, e, i) { Sct.call(this, t, e), this.divCasterButtons_0 = i, this.hashMapSpellSlotButtons_0 = c(), this.fragmentSpellsAlchemy_0 = null, this.fragmentSpellsPowers_0 = null, this.layoutParentSpellCasters_0 = jlt().getDiv(), this.hashMapLayoutSpellCasters_0 = c(), this.currentCaster_0 = null, this.currentCasterAlchemical_0 = !1, this.listPrimary_0 = u(), this.listArchetype_0 = u(), this.listInnate_0 = u(), this.checkboxTabbed_0 = new Met("Use Tabs"), this.divCasterButtons_0.innerHTML = "", this.rootView = jlt().getDiv(), this.rootView.classList.add("tabbed-area-display"), this.rootView.style.marginTop = "0em", this.checkboxTabbed_0.divWithLabel.style.marginLeft = "2em", this.checkboxTabbed_0.divWithLabel.style.display = "inline-block"; var a, r = B9().getPreferenceBoolean_ivxn3r$("useSpellTabs", !0); this.checkboxTabbed_0.setChecked_6taknv$(r), this.checkboxTabbed_0.divWithLabel.addEventListener("click", (a = this, function (t) { return a.checkboxTabbed_0.toggle(), B9().setPreferenceBoolean_ivxn3r$("useSpellTabs", a.checkboxTabbed_0.isChecked()), a.currentCaster_0 = null, a.currentCasterAlchemical_0 = !1, a.setCasterButtons_0(), n })), this.fragmentSpellsAlchemy_0 = new Qst(t, e, this.rootView), this.fragmentSpellsPowers_0 = new elt(t, e), this.rootView.appendChild(this.layoutParentSpellCasters_0), this.updateAll() } function opt(t) { return t.casterName } function spt(t) { return t.casterName } function lpt(t) { return t.casterName } function cpt(t, e) { return function (i) { return t.layoutParentSpellCasters_0.innerHTML = "", t.setVisibleCaster_0(e.casterName, e.alchemicalCaster), n } } function ppt(t, e) { return function (i) { return t.layoutParentSpellCasters_0.innerHTML = "", t.setVisibleCaster_0(e.casterName, e.alchemicalCaster), n } } function hpt(t, e, i) { return function (a) { return localStorage.setItem("spellbook", new $9(t.dataControl, t.getCharacterBuild(), e.get_za3lpa$(i), !0).getHtml()), window.open("spellbook.html", "_blank"), n } } function dpt(t, e) { this.casterName = t, this.alchemicalCaster = e } function upt(t, e) { Sct.call(this, t, e), this.hashMapWeaponLayouts_0 = c(), this.divWeapons_0 = jlt().getDiv(), this.divSimple_0 = jlt().getDiv(), this.divMartial_0 = jlt().getDiv(), this.divAdvanced_0 = jlt().getDiv(), this.divUnarmed_0 = jlt().getDiv(), this.rootView = jlt().getDiv(), this.rootView.classList.add("tabbed-area-display"), this.divSimple_0.style.marginRight = "1em", this.divMartial_0.style.marginRight = "1em", this.divAdvanced_0.style.marginRight = "1em"; var i = jlt().getDiv(); this.rootView.appendChild(i), i.classList.add(B9().CSS_LAYOUT_TABBED_LINE); var a = jlt().getDiv(); a.classList.add("tabbed-area-top-holder"), i.appendChild(a); var r = jlt().getDiv(); r.classList.add("tabbed-area-top"), a.appendChild(r); var o, s, l, p = Dlt("Add Weapon"); p.buttonDiv.style.width = "20em", p.buttonDiv.addEventListener("click", (o = t, s = e, l = this, function (t) { return o.openDialog_ip94j4$(new Eot(o, s, l.getCharacterBuild())), n })); var h = jlt().getDiv(); this.divSimple_0.classList.add("short-proficiency"), this.divMartial_0.classList.add("short-proficiency"), this.divAdvanced_0.classList.add("short-proficiency"), this.divUnarmed_0.classList.add("short-proficiency"), r.appendChild(h), h.appendChild(this.divSimple_0), h.appendChild(this.divMartial_0), h.appendChild(this.divAdvanced_0), h.appendChild(this.divUnarmed_0), (a = jlt().getDiv()).style.marginTop = "0.5em", a.classList.add("tabbed-area-top-holder"), i.appendChild(a), p.buttonDiv.style.display = "inline-block", a.appendChild(p.buttonDiv), this.rootView.appendChild(this.divWeapons_0), this.updateAll() } function _pt(t, e) { this.this$TabbedAreaWeapons = t, this.closure$playerWeapon = e } function fpt(t, e) { this.closure$playerWeapon = t, this.this$TabbedAreaWeapons = e } npt.prototype.updateAll = function () { this.setCasterButtons_0() }, npt.prototype.setCasterButtons_0 = function () { var t, e, i, a, r, o, s, l; this.divCasterButtons_0.innerHTML = "", this.layoutParentSpellCasters_0.innerHTML = "", this.hashMapSpellSlotButtons_0.clear(); var c = 0; for (t = this.getCharacterBuild().hashMapAwardedPowers.values.iterator(); t.hasNext();) { var p = t.next(); this.getCharacterData().getCharacterLevel() >= p.level && (c = c + 1 | 0) } var h, u = this.getCharacterBuild().hashMapSpellCasters.size + this.getCharacterBuild().hashMapAlchemicalCasters.size + c | 0; if (this.listArchetype_0.clear(), this.listPrimary_0.clear(), this.listInnate_0.clear(), u > 0) { for (e = this.getCharacterBuild().hashMapSpellCasters.values.iterator(); e.hasNext();) { var _ = e.next(); this.getCharacterData().getCharacterLevel() >= _.level && (_.archetypeCaster ? this.listArchetype_0.add_11rb$(new dpt(_.casterName, !1)) : _.innate ? this.listInnate_0.add_11rb$(new dpt(_.casterName, !1)) : this.listPrimary_0.add_11rb$(new dpt(_.casterName, !1))) } for (i = this.getCharacterBuild().hashMapAlchemicalCasters.values.iterator(); i.hasNext();) { var f = i.next(); this.getCharacterData().getCharacterLevel() >= f.level && (m(f.casterName, i3().ALCHEMY_ALCHEMIST) || m(f.casterName, i3().ALCHEMY_INVESTIGATOR_SCIENCES) ? this.listPrimary_0.add_11rb$(new dpt(f.casterName, !0)) : this.listArchetype_0.add_11rb$(new dpt(f.casterName, !0))) } var y = this.listPrimary_0; y.size > 1 && q(y, new G(rpt(opt))); var $ = this.listArchetype_0; $.size > 1 && q($, new G(rpt(spt))); var g = this.listInnate_0; g.size > 1 && q(g, new G(rpt(lpt))) } if (this.checkboxTabbed_0.isChecked()) { for (a = this.listPrimary_0.iterator(); a.hasNext();) { var v = a.next(), S = jlt().getDiv(); S.classList.add("section-menu"), S.innerHTML = v.casterName, this.divCasterButtons_0.appendChild(S), S.addEventListener("click", cpt(this, v)), this.divCasterButtons_0.appendChild(S) } for (r = this.listArchetype_0.iterator(); r.hasNext();) { var C = r.next(), E = jlt().getDiv(); E.classList.add("section-menu"), E.innerHTML = C.casterName, this.divCasterButtons_0.appendChild(E), E.addEventListener("click", ppt(this, C)), this.divCasterButtons_0.appendChild(E) } if (this.listInnate_0.size > 0) { var A = jlt().getDiv(); A.classList.add("section-menu"), A.innerHTML = "Innate Spells", this.divCasterButtons_0.appendChild(A), A.addEventListener("click", (h = this, function (t) { return h.layoutParentSpellCasters_0.innerHTML = "", h.setVisibleInnateCasters_0(), n })), this.divCasterButtons_0.appendChild(A) } if (this.getCharacterBuild().hashMapAwardedPowers.size > 0) { var b = jlt().getDiv(); b.classList.add("section-menu"), b.innerHTML = "Focus Spells", this.divCasterButtons_0.appendChild(b), b.addEventListener("click", function (t) { return function (e) { return t.layoutParentSpellCasters_0.innerHTML = "", t.setVisibleFocusPowers_0(), n } }(this)), this.divCasterButtons_0.appendChild(b) } var I = m(this.currentCaster_0, "Innate Spells"); I && (I = !this.listInnate_0.isEmpty()), I ? this.setVisibleInnateCasters_0() : m(this.currentCaster_0, "Focus Spells") && c > 0 ? this.setVisibleFocusPowers_0() : null != this.currentCaster_0 && this.currentCasterExists_0() ? this.setVisibleCaster_0("string" == typeof (o = this.currentCaster_0) ? o : d(), this.currentCasterAlchemical_0) : this.listPrimary_0.isEmpty() ? this.listArchetype_0.isEmpty() ? this.listInnate_0.isEmpty() ? c > 0 && this.setVisibleFocusPowers_0() : this.setVisibleInnateCasters_0() : this.setVisibleCaster_0(this.listArchetype_0.get_za3lpa$(0).casterName, this.listArchetype_0.get_za3lpa$(0).alchemicalCaster) : this.setVisibleCaster_0(this.listPrimary_0.get_za3lpa$(0).casterName, this.listPrimary_0.get_za3lpa$(0).alchemicalCaster) } else { for (s = this.listPrimary_0.iterator(); s.hasNext();) { var w = s.next(); this.setVisibleCaster_0(w.casterName, w.alchemicalCaster) } for (l = this.listArchetype_0.iterator(); l.hasNext();) { var L = l.next(); this.setVisibleCaster_0(L.casterName, L.alchemicalCaster) } this.listInnate_0.size > 0 && this.setVisibleInnateCasters_0(), this.getCharacterBuild().hashMapAwardedPowers.size > 0 && this.setVisibleFocusPowers_0() } 0 === this.divCasterButtons_0.childElementCount ? (htt().setInvisible_njr4nn$(this.divCasterButtons_0, !1), this.layoutParentSpellCasters_0.innerHTML = "") : htt().setInvisible_njr4nn$(this.divCasterButtons_0, !0) }, npt.prototype.currentCasterExists_0 = function () { if (null == this.currentCaster_0) return !1; var t, i = this.getCharacterBuild().hashMapAlchemicalCasters, a = this.currentCaster_0; if ((e.isType(t = i, y) ? t : d()).containsKey_11rb$(a)) return !0; var r, n = this.getCharacterBuild().hashMapSpellCasters, o = this.currentCaster_0; return !!(e.isType(r = n, y) ? r : d()).containsKey_11rb$(o) }, npt.prototype.setVisibleCaster_0 = function (t, e) { if (this.setButtons_0(t), this.currentCaster_0 = t, this.currentCasterAlchemical_0 = e, e) { var i = this.getCharacterBuild().hashMapAlchemicalCasters.get_11rb$(t); null != i && this.fragmentSpellsAlchemy_0.addAlchemy_im6mxv$(i, this.layoutParentSpellCasters_0) } else { var a = this.getCharacterBuild().hashMapSpellCasters.get_11rb$(t); null != a && this.addCasterLayout_0(t, a) } }, npt.prototype.setVisibleFocusPowers_0 = function () { this.currentCaster_0 = "Focus Spells", this.setButtons_0("Focus Spells"), this.fragmentSpellsPowers_0.updatePowers_6if5g$(this.layoutParentSpellCasters_0, !this.checkboxTabbed_0.isChecked()) }, npt.prototype.createMetaCaster_0 = function (t, e) { var i, a = this.getCharacterData().getCharacterLevel(); i = t.getSpellLevelsAvailable_za3lpa$(a); for (var r = 0; r <= i; r++)for (var n = t.getSpellsRepetoire_bh8xs5$(this.getCharacterBuild(), a, r), o = 0; o < n; o++) { var s = t.getSpellSlotReference_vux9f0$(r, o); e.get_za3lpa$(t.spellList).addReference_19mbxw$(r, s) } }, npt.prototype.setVisibleInnateCasters_0 = function () { var t, e, i, a; this.currentCaster_0 = "Innate Spells", this.setButtons_0("Innate Spells"); var r = c(), n = c(); r.put_xwzc9p$(0, n); var s = c(); r.put_xwzc9p$(1, s); var l = c(); r.put_xwzc9p$(2, l); var p = c(); r.put_xwzc9p$(3, p); var h = c(); r.put_xwzc9p$(5, h); var d = c(); r.put_xwzc9p$(6, d); var u = c(); r.put_xwzc9p$(4, u); var _ = nt([new $2(0), new $2(1), new $2(2), new $2(3)]); for (t = this.listInnate_0.iterator(); t.hasNext();) { var f = t.next(), y = this.getCharacterBuild().hashMapSpellCasters.get_11rb$(f.casterName); if (null != y) { var m = new olt(this.mainActivity, this.dataControl, this.getCharacterBuild(), y, r, !this.checkboxTabbed_0.isChecked()); m.setSpellProficiencies(), m.setSpellLevels(); var $ = this.hashMapLayoutSpellCasters_0, g = f.casterName; $.put_xwzc9p$(g, m), this.createMetaCaster_0(y, _) } } for (e = r.keys.iterator(); e.hasNext();) { var v = e.next(); if (!o(r.get_11rb$(v)).isEmpty()) { var S = this.getInnateSpellProficiencyLayout_0(v); S.tdName.style.width = "15em"; var E = jlt().getDiv(); this.layoutParentSpellCasters_0.childElementCount > 0 && (E.style.marginTop = "3em"), E.style.display = "flex", E.style.alignItems = "center", E.style.justifyContent = "center", this.layoutParentSpellCasters_0.appendChild(E), E.appendChild(S.div); var A = Dlt("Print"); for (A.buttonDiv.style.marginLeft = "1em", E.appendChild(A.buttonDiv), A.buttonDiv.addEventListener("click", hpt(this, _, v)), E.style.marginTop = "1em", E.classList.add(B9().CSS_ROUNDED_RECTANGLE), i = o(r.get_11rb$(v)).keys.iterator(); i.hasNext();) { var b = i.next(), w = jlt().getDiv(); w.classList.add("div-spell-level-new"), this.layoutParentSpellCasters_0.appendChild(w); var L = jlt().getDiv(); if (L.classList.add("subtitle"), L.style.marginBottom = "0.5em", 0 === b) { var T = this.getCharacterData().getCharacterLevel() / 2, k = C(I.ceil(T)), R = "Cantrips"; k > 1 && (R += " (Heightened Level " + k + ")"), L.innerHTML = R } else L.innerHTML = "Level " + b; for (w.appendChild(L), w.appendChild(ult().getHeaders()), a = o(o(r.get_11rb$(v)).get_11rb$(b)).iterator(); a.hasNext();) { var P = a.next(); w.appendChild(P.div) } } } } }, npt.prototype.getInnateSpellProficiencyLayout_0 = function (t) { var i, a = new Fet(!1, !0), r = this.getCharacterData().getCharacterLevel(), n = pK().ARRAY_SPELL_PROFICIENCIES[t], o = e.isType(i = this.getCharacterBuild().getProficiency_61zpoe$(n), nK) ? i : d(), s = this.dataControl.managerSpells.getHighestSpellCasterTraining_vy76y1$(this.getCharacterBuild(), r); a.setProficiencyImage_za3lpa$(s); var l = pK().getFinalProficiencyTotal_xek4lp$(this.getCharacterData(), s, r); a.setProficiency_za3lpa$(l); var c = se().ARRAY_ABILITIES_SHORT[5], p = this.getCharacterBuild().getPlayReportAbilityScores_sfkw43$(this.dataControl), h = htt().getAbilityMod_za3lpa$(p.abilityScoresBuffed[5]); a.setAbility_bm4lxs$(c, h); var u = rK(this.dataControl, this.getCharacterBuild(), o), _ = u.totalBuffExcludingItem, f = u.getTypedBuff_za3lpa$(0); a.setItemBonus_za3lpa$(f); var y = 10 + l + h + f + _ | 0; a.setColorBasedOnBuff_za3lpa$(_); var m = y - 10 + this.dataControl.managerSpells.getSpellAttackBuff_5btbp7$(this.getCharacterBuild()) | 0; return a.setName_61zpoe$(n + " DC " + y + " (Attack " + htt().getSignedValue_za3lpa$(m) + ")"), a }, npt.prototype.setButtons_0 = function (t) { var e; if (this.checkboxTabbed_0.isChecked()) { e = this.divCasterButtons_0.childElementCount; for (var i = 0; i < e; i++) { var a = this.divCasterButtons_0.children[i]; m(o(a).innerHTML, t) ? a.classList.contains("section-menu-selected") || a.classList.add("section-menu-selected") : a.classList.remove("section-menu-selected") } } }, npt.prototype.updateAlchemy_o2xmt8$ = function (t) { null != this.currentCaster_0 && m(this.currentCaster_0, t.casterName) && (this.layoutParentSpellCasters_0.innerHTML = "", this.fragmentSpellsAlchemy_0.addAlchemy_im6mxv$(t, this.layoutParentSpellCasters_0)) }, npt.prototype.addCasterLayout_0 = function (t, e) { var i = new olt(this.mainActivity, this.dataControl, this.getCharacterBuild(), e, null, !this.checkboxTabbed_0.isChecked()); i.setSpellProficiencies(), this.layoutParentSpellCasters_0.appendChild(i.div), i.title.innerHTML = t, i.setSpellLevels(), this.hashMapLayoutSpellCasters_0.put_xwzc9p$(t, i) }, npt.prototype.completeRest = function () { var t, e, i; for (t = this.hashMapLayoutSpellCasters_0.values.iterator(); t.hasNext();)t.next().onCompleteRest(); for (this.getCharacterData().clearAllSpellsCast(), this.getCharacterData().resetUsedInfusedReagents(), e = this.getCharacterData().getHashMapFormulaBookByCaster().keys.iterator(); e.hasNext();) { var a = e.next(), r = this.getCharacterData().getHashMapFormulaBookByCaster().get_11rb$(a), n = u(); for (n.addAll_brywnq$(o(r).keys), i = n.iterator(); i.hasNext();) { var s = i.next(); r.put_xwzc9p$(s, 0) } } this.setCasterButtons_0(), this.mainActivity.getGuiUpdateControl().onBulkChanged_n40yp2$(this.getCharacterBuild()), this.getCharacterData().setSpentSpellPoints_za3lpa$(0) }, dpt.$metadata$ = { kind: p, simpleName: "SortableCaster", interfaces: [] }, npt.$metadata$ = { kind: p, simpleName: "TabbedAreaSpells", interfaces: [Sct] }, upt.prototype.updateAll = function () { var t; for (this.hashMapWeaponLayouts_0.clear(), this.divWeapons_0.innerHTML = "", t = this.getCharacterData().listPlayerWeapons.iterator(); t.hasNext();) { var e = t.next(); e.stowed || this.updatePlayerWeapon_0(e) } this.setProficiencies_0() }, upt.prototype.setProficiencies_0 = function () { var t = this.getCharacterData().getCharacterLevel(); htt().setShortProficiency_39pk9y$(this.getCharacterBuild(), pK().PROFICIENCY_SIMPLE_WEAPONS, this.divSimple_0, t), htt().setShortProficiency_39pk9y$(this.getCharacterBuild(), pK().PROFICIENCY_MARTIAL_WEAPONS, this.divMartial_0, t), htt().setShortProficiency_39pk9y$(this.getCharacterBuild(), pK().PROFICIENCY_ADVANCED_WEAPONS, this.divAdvanced_0, t), htt().setShortProficiency_39pk9y$(this.getCharacterBuild(), pK().PROFICIENCY_UNARMED_ATTACKS, this.divUnarmed_0, t) }, upt.prototype.updatePlayerWeapon_0 = function (t) { var i; if (this.hashMapWeaponLayouts_0.containsKey_11rb$(t)) if (t.stowed) try { null != (i = this.hashMapWeaponLayouts_0.get_11rb$(t)) && this.divWeapons_0.removeChild(i.div), this.hashMapWeaponLayouts_0.remove_11rb$(t) } catch (t) { if (!e.isType(t, l)) throw t; s(t) } else this.updatePlayerWeaponTextViews_0(t); else t.stowed || this.addWeaponLayout_0(t) }, _pt.prototype.accept = function () { this.this$TabbedAreaWeapons.dataControl.managerWeapons.activatePlayerWeapon_clt9wi$(!1, this.this$TabbedAreaWeapons.getCharacterBuild(), this.closure$playerWeapon), this.this$TabbedAreaWeapons.getCharacterData().listPlayerWeapons.remove_11rb$(this.closure$playerWeapon), this.this$TabbedAreaWeapons.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.this$TabbedAreaWeapons.getCharacterBuild()), this.this$TabbedAreaWeapons.mainActivity.autoSave() }, _pt.$metadata$ = { kind: p, interfaces: [Vet] }, upt.prototype.addWeaponLayout_0 = function (t) { var i, a, r = new Xst(this.mainActivity, t); this.divWeapons_0.appendChild(r.div), this.hashMapWeaponLayouts_0.put_xwzc9p$(t, r), this.updatePlayerWeaponTextViews_0(t), r.buttonRoll.buttonDiv.addEventListener("click", (i = this, a = t, function (t) { return i.mainActivity.getNavigationControl().openDiceTray(), i.mainActivity.diceUIControl.setUpAttackRoll_5o1jb$(i.dataControl, i.getCharacterBuild(), a), n })), r.div.addEventListener("click", function (t, i) { return function (a) { var r, o = e.isType(r = a.target, HTMLElement) ? r : d(); if (m(o.id, "button-up")) { var s = t.getCharacterData().listPlayerWeapons.indexOf_11rb$(i); s > 0 && (t.getCharacterData().listPlayerWeapons.remove_11rb$(i), t.getCharacterData().listPlayerWeapons.add_wxm5ur$(s - 1 | 0, i), t.mainActivity.getNavigationControl().tabbedAreaWeapons.updateAll()) } else if (m(o.id, "button-down")) { var l = t.getCharacterData().listPlayerWeapons.indexOf_11rb$(i); l < (t.getCharacterData().listPlayerWeapons.size - 1 | 0) && (t.getCharacterData().listPlayerWeapons.remove_11rb$(i), t.getCharacterData().listPlayerWeapons.add_wxm5ur$(l + 1 | 0, i), t.mainActivity.getNavigationControl().tabbedAreaWeapons.updateAll()) } else if (m(o.id, "button-info")) t.mainActivity.openDialog_ip94j4$(new Rot(t.mainActivity, t.dataControl, t.getCharacterBuild(), i)); else if (m(o.id, "button-runes")) { var c = i.getPotency_5btbp7$(t.getCharacterBuild()) - i.getListPropertyRunes().size | 0; t.mainActivity.openDialog_ip94j4$(new $nt(t.mainActivity, t.dataControl, t.getCharacterBuild(), i, c)) } else m(o.id, "button-stow") ? t.stowWeapon_0(i) : m(o.id, "button-delete") && Xet(!0, "Really delete this weapon?", new _pt(t, i)).show(); return n } }(this, t)) }, fpt.prototype.accept = function () { var t; if (this.closure$playerWeapon.stowed = !0, this.this$TabbedAreaWeapons.dataControl.managerWeapons.activatePlayerWeapon_clt9wi$(!1, this.this$TabbedAreaWeapons.getCharacterBuild(), this.closure$playerWeapon), null != this.closure$playerWeapon.mapInvModSel) for (t = o(this.closure$playerWeapon.mapInvModSel).keys.iterator(); t.hasNext();) { var e = t.next(); this.this$TabbedAreaWeapons.dataControl.managerEquipment.activateInventorModifications_rvs3un$(!1, this.this$TabbedAreaWeapons.getCharacterBuild(), e, !1) } this.this$TabbedAreaWeapons.mainActivity.getGuiUpdateControl().updateAllPlayFragments_n40yp2$(this.this$TabbedAreaWeapons.getCharacterBuild()), this.this$TabbedAreaWeapons.mainActivity.autoSave() }, fpt.$metadata$ = { kind: p, interfaces: [Vet] }, upt.prototype.stowWeapon_0 = function (t) { Xet(!0, "Really stow this weapon to the gear tab?", new fpt(t, this)).show() }, upt.prototype.updatePlayerWeaponTextViews_0 = function (t) { var e; null != (e = this.hashMapWeaponLayouts_0.get_11rb$(t)) && e.updateValues_er8vok$(this.mainActivity, this.dataControl, this.getCharacterBuild(), this.getCharacterBuild().getPlayReportAbilityScores_sfkw43$(this.dataControl), !1, !1) }, upt.$metadata$ = { kind: p, simpleName: "TabbedAreaWeapons", interfaces: [Sct] }; var ypt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function mpt(t, e, i) { this.mainActivity = t, this.dataControl = e, this.rootView = i, this.layoutParentAnimalCompanion_0 = jlt().getDiv(), this.hashMapPetLayouts_0 = c(), this.rootView.appendChild(this.layoutParentAnimalCompanion_0) } function $pt(t, e, i, a) { return function (r) { return t.mainActivity.getNavigationControl().openDiceTray(), t.mainActivity.diceUIControl.setUpPetAttackRoll_f4fe7g$(t.getCharacterBuild_0(), e, i, a.textName.innerHTML), n } } function gpt(t, e, i) { return function (a) { return t.mainActivity.openDialog_ip94j4$(new Not(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e, i)), n } } function vpt(t) { return t.title.innerHTML } function Spt(t, e, i, a) { this.closure$petCharacterBuild = t, this.closure$playerEquipment = e, this.this$FragmentPetsAnimalCompanion = i, this.closure$petReference = a } mpt.prototype.removeAll = function () { this.layoutParentAnimalCompanion_0.innerHTML = "", this.hashMapPetLayouts_0.clear() }, mpt.prototype.addPetLayout_pwmxih$ = function (t, e, i) { var a, r, o = new Npt(this.mainActivity, this.dataControl, i, t, this.getCharacterBuild_0()); htt().setHidden_njr4nn$(o.layoutAbilityScores, !0), o.buttonSkills.buttonDiv.addEventListener("click", (a = this, r = i, function (t) { return a.mainActivity.openDialog_ip94j4$(new vst(a.mainActivity, a.dataControl, a.getCharacterBuild_0(), r)), n })), o.buttonEquipment.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new nst(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonEditPet.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new Mot(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonStatBlock.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new pot(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonAdvanced.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new Pot(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonBarding.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new xot(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonCustomBuff.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new Fit(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonCondition.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new Git(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), this.addPetProficiencyButton_0(t, i, o.layoutPerception, pK().PROFICIENCY_PERCEPTION, 4, ""), this.addPetProficiencyButton_0(t, i, o.layoutFortitude, pK().PROFICIENCY_FORTITUDE, 2, ""), this.addPetProficiencyButton_0(t, i, o.layoutReflex, pK().PROFICIENCY_REFLEX, 1, ""), this.addPetProficiencyButton_0(t, i, o.layoutWill, pK().PROFICIENCY_WILL, 4, ""), this.hashMapPetLayouts_0.put_xwzc9p$(i, o), this.updatePet_pwmxih$(t, e, i), this.layoutParentAnimalCompanion_0.appendChild(o.div) }, mpt.prototype.updatePet_pwmxih$ = function (t, i, a) { var r, n, s, l; if (this.hashMapPetLayouts_0.containsKey_11rb$(a)) { var c, p = this.dataControl.managerPets.hashMapAnimalCompanions, h = i.getPetName(); if (null == (r = (e.isType(c = p, y) ? c : d()).get_11rb$(h))) return; var u = r, _ = new W1(this.dataControl, t, i.getCharacterLevel()), f = t.abilityBonuses, m = e.isType(n = this.hashMapPetLayouts_0.get_11rb$(a), Npt) ? n : d(); if (m.textSize.innerHTML = "<b>Size</b> " + this.dataControl.managerPets.getAnimalSize_krmj4$(this.getCharacterBuild_0(), i, u), WV().isIncredible_5btbp7$(this.getCharacterBuild_0())) { htt().setHidden_njr4nn$(m.buttonAdvanced.buttonDiv, !0); var $ = this.dataControl.managerPets.hashMapAnimalAdvancements.get_11rb$(i.getIncredibleType()); m.buttonAdvanced.buttonDiv.innerHTML = null != $ ? "Advancement: " + $.name : "Set Advancement" } else htt().setHidden_njr4nn$(m.buttonAdvanced.buttonDiv, !1); this.setAnimalSpecializationControls_0(m, a, t), this.updateHP_e0dl4x$(t, a), this.setAbilities_0(t, _, m), m.textSpeeds.innerHTML = "<b>Speed</b> " + new tY(this.dataControl, t, this.getCharacterBuild_0()).speedString; var g = m.layoutParentAttacks; for (g.innerHTML = "", s = u.listAnimalAttacks.iterator(); s.hasNext();) { var S = s.next(), C = this.dataControl.managerPets.getAnimalAttackDice_g05lc3$(this.getCharacterBuild_0(), t, S), E = new Fpt(!1, !1, !1); E.textName.innerHTML = v(S.name, ["("]).get_za3lpa$(0), E.textHitTotal.innerHTML = "<span class='weapon-span'><i>Hit:</i></span> " + htt().getSignedValue_za3lpa$(C.attackTotal) + "<span class='tooltiptextCrit'>" + C.getAttackMAPString_fhac18$(this.dataControl, t) + "</span>", E.imageWeaponTraining.src = htt().getImageBasedOnProficiency_za3lpa$(C.trainingLevel), htt().setColorBasedOnBuff_xlcra$(C.totalAttackBuff, E.textHitTotal); var A = htt().getDiceIcon_za3lpa$(C.diceSize); null == A ? htt().setInvisible_njr4nn$(E.imgDice, !1) : E.imgDice.src = "img/icon_" + j(A) + ".png?v=4", E.textDamage.innerHTML = "<span class='weapon-span'><i>Damage:</i></span> " + C.getDamageString() + "<span class='tooltiptextCrit'>" + C.getCriticalDamageString() + "</span>", htt().setColorBasedOnBuff_xlcra$(C.totalDamageBuff, E.textDamage), htt().addTraitsToFlexbox_h2l30b$(E.divTraits, C.traits), g.appendChild(E.div), this.mainActivity.showDiceRollers ? E.buttonRoll.buttonDiv.addEventListener("click", $pt(this, t, C, E)) : o(E.buttonRoll.buttonDiv.parentElement).removeChild(E.buttonRoll.buttonDiv) } if (this.updatePetAC_850vfi$(t, a), htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_PERCEPTION, m.layoutPerception, f[4]), htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_FORTITUDE, m.layoutFortitude, f[2]), htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_REFLEX, m.layoutReflex, f[1]), htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_WILL, m.layoutWill, f[4]), m.textSenses.innerHTML = "<b>Senses</b> " + u.senses, this.updatePetEquipment_0(a, t), u.special.length > 0 ? (htt().setHidden_njr4nn$(m.textSpecials, !0), m.textSpecials.innerHTML = "<b>Special</b> " + u.special) : htt().setHidden_njr4nn$(m.textSpecials, !1), m.textSupport.innerHTML = "<b>Support Benefit</b> " + u.support, WV().isIncredible_5btbp7$(this.getCharacterBuild_0())) { m.layoutAdvancedAction.div.style.display = "block"; var b = u.advancedAction; t.spawnedbyAnimalTrainer && (b = WV().getAnimalTrainerEncounterAction()), null != b && (m.layoutAdvancedAction.setAction_za3lpa$(b.action), m.layoutAdvancedAction.setName_61zpoe$(b.name), m.layoutAdvancedAction.setTraits_pdl1vj$(b.traits), m.layoutAdvancedAction.setDescription_61zpoe$(b.description)) } else m.layoutAdvancedAction.div.style.display = "none"; m.layoutParentConditions.innerHTML = ""; var I = htt().getColumns_za3lpa$(2); for (l = I.iterator(); l.hasNext();) { var w = l.next(); w.classList.add(B9().CSS_GRID_ITEM), m.layoutParentConditions.appendChild(w) } Fst().updateConditionsAndBuffs_aqq2df$(this.mainActivity, this.dataControl, a, t, i, I) } }, mpt.prototype.addPetProficiencyButton_0 = function (t, i, a, r, s, l) { var c, p, h, u, _, f, y, m = this.getCharacterBuild_0().getCharacterData().getCharacterLevel(); a.div.addEventListener("click", (c = t, p = r, h = this, u = m, _ = s, f = l, y = i, function (t) { var i, a, r = null != (i = c.getProficiency_61zpoe$(p)) ? i : new nK, s = rK(h.dataControl, c, r), l = s.getTypedBuff_za3lpa$(0); if ((e.isType(a = t.target, HTMLElement) ? a : d()).classList.contains("dice-proficiency")) { var m = r.getProficiencyAtLevel_za3lpa$(u), $ = pK().getFinalProficiencyTotal_xek4lp$(c.getCharacterData(), m, u) + htt().getAbilityMod_za3lpa$(c.getPlayReportAbilityScores_sfkw43$(h.dataControl).abilityScoresBuffed[_]) + l + s.totalBuffExcludingItem | 0; h.mainActivity.getNavigationControl().openDiceTray(), h.mainActivity.diceUIControl.setUpD20Roll_bm4lxs$(p, $) } else { var g = o(h.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$(p)).textDescription; g += f, h.mainActivity.openDialog_ip94j4$(new rnt(h.mainActivity, h.dataControl, h.getCharacterBuild_0(), p, _, l, !1, y, g)) } return n })) }, mpt.prototype.setAbilities_0 = function (t, e, i) { i.layoutAbilityScores.innerHTML = ""; var a = new Net; htt().setInvisible_njr4nn$(a.span, !1), i.layoutAbilityScores.appendChild(a.table); for (var r = 0; r <= 5; r++)a.arrayCheckBoxes[r].div.style.display = "none"; for (var n = e.abilityScoresBuffed, o = 0; o !== n.length; ++o)a.setAbility_vux9f0$(n[o], o) }, mpt.prototype.setAnimalSpecializationControls_0 = function (t, e, i) { var a, r = i.getPetData(); for (t.divParentSpecializations.innerHTML = "", a = WV().getListSpecializationReference_5btbp7$(this.getCharacterBuild_0()).iterator(); a.hasNext();) { var n = a.next(), s = Dlt(""); if (t.divParentSpecializations.appendChild(s.buttonDiv), r.getHashMapAnimalSpecializations().containsKey_11rb$(n)) { var l = r.getHashMapAnimalSpecializations().get_11rb$(n); s.buttonDiv.innerHTML = o(l) } else s.buttonDiv.innerHTML = ZW().SPECIALIZATION_NONE; s.buttonDiv.addEventListener("click", gpt(this, e, n)) } WV().isIncredible_5btbp7$(this.getCharacterBuild_0()) ? htt().setHidden_njr4nn$(t.divButtonExtra, !0) : htt().setHidden_njr4nn$(t.divButtonExtra, !1) }, mpt.prototype.updatePetEquipment_0 = function (t, e) { var i, a, r = this.hashMapPetLayouts_0.get_11rb$(t), n = e.getPetData(); if (null != r) if (r.layoutParentEquipment.innerHTML = "", n.listPlayerEquipment.isEmpty()) htt().setHidden_njr4nn$(r.layoutParentEquipment, !1); else { htt().setHidden_njr4nn$(r.layoutParentEquipment, !0); var o = u(); for (i = n.listPlayerEquipment.iterator(); i.hasNext();) { var s = i.next(), l = this.getLayoutEquipment_0(s, t, e); o.add_11rb$(l) } for (o.size > 1 && q(o, new G(ypt(vpt))), a = o.iterator(); a.hasNext();) { var c = a.next(); r.layoutParentEquipment.appendChild(c.div) } } }, Spt.prototype.accept = function () { this.closure$petCharacterBuild.getPetData().listPlayerEquipment.remove_11rb$(this.closure$playerEquipment), this.this$FragmentPetsAnimalCompanion.dataControl.managerEquipment.removeEquipmentBonus_qumra2$(this.closure$petCharacterBuild, this.closure$playerEquipment), this.this$FragmentPetsAnimalCompanion.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.this$FragmentPetsAnimalCompanion.getCharacterBuild_0(), this.closure$petReference), this.this$FragmentPetsAnimalCompanion.mainActivity.autoSave() }, Spt.$metadata$ = { kind: p, interfaces: [Vet] }, mpt.prototype.getLayoutEquipment_0 = function (t, e, i) { var a, r, o, s, l = new Kst, c = (t.getTraits_fhac18$(this.dataControl, i), t.getDescription_fhac18$(this.dataControl, i)); l.title.addEventListener("click", (a = this, r = i, o = t, s = c, function (t) { return a.mainActivity.openDialog_ip94j4$(new Rat(a.mainActivity, a.dataControl, r, o, s, !1, !1, null, o.invested)), n })); var p = t.getDisplayName_fhac18$(this.dataControl, i); return l.setName_61zpoe$(p), l.setQty_za3lpa$(t.quantity), l.buttonLess.buttonDiv.addEventListener("click", function (t, e, i, a, r) { return function (o) { var s; return t.quantity > 1 ? (s = t.quantity, t.quantity = s - 1 | 0, e.setQty_za3lpa$(t.quantity)) : Xet(!0, "Really remove item from your equipment?", new Spt(i, t, a, r)).show(), a.mainActivity.autoSave(), n } }(t, l, i, this, e)), l.buttonMore.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { var r; return r = t.quantity, t.quantity = r + 1 | 0, e.setQty_za3lpa$(t.quantity), i.mainActivity.autoSave(), n } }(t, l, this)), l }, mpt.prototype.updateHP_e0dl4x$ = function (t, e) { var i, a = this.hashMapPetLayouts_0.get_11rb$(e); null != (i = null != a ? a.hpControlInterface : null) && i.updateHP() }, mpt.prototype.updatePetAC_850vfi$ = function (t, i) { var a, r = this.hashMapPetLayouts_0, n = (e.isType(a = r, y) ? a : d()).get_11rb$(i), s = t.getPetData(); if (null != n) { var l = s.getPlayerArmor(), c = this.dataControl.managerArmor.getWornArmorInformation_5btbp7$(t); if (null != c) { n.textArmorName.innerHTML = l.getArmorFullName_cfdsd3$(c, t); var p = pK().ARRAY_ARMOR_PROFICIENCY_TYPES[c.proficiencyType], h = t.getProficiency_61zpoe$(p), u = rK(this.dataControl, t, o(h)), _ = u.getArmorItemBonus_fhac18$(this.dataControl, t), f = h.getProficiencyAtLevel_za3lpa$(s.getCharacterLevel()), m = pK().getFinalProficiencyTotal_xek4lp$(t.getPetData(), f, s.getCharacterLevel()), $ = this.dataControl.managerArmor.getArmorAbilityBonus_5btbp7$(t), g = u.totalBuffExcludingItem, v = 10 + m + $ + _ + g | 0; n.imageArmorTraining.src = htt().getImageBasedOnProficiency_za3lpa$(f), n.textAC.innerHTML = v.toString(), htt().setColorBasedOnBuff_xlcra$(g, n.textAC) } } }, mpt.prototype.getCharacterBuild_0 = function () { return this.mainActivity.characterBuild }, mpt.prototype.getCharacterData = function () { return this.getCharacterBuild_0().getCharacterData() }, mpt.$metadata$ = { kind: p, simpleName: "FragmentPetsAnimalCompanion", interfaces: [] }; var Cpt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function Ept(t, e, i) { this.mainActivity = t, this.dataControl = e, this.rootView = i, this.layoutParentConstructs_0 = jlt().getDiv(), this.hashMapPetLayouts_0 = c(), this.rootView.appendChild(this.layoutParentConstructs_0) } function Apt(t) { return t.title.innerHTML } function bpt(t, e, i, a) { this.closure$petCharacterBuild = t, this.closure$playerEquipment = e, this.this$FragmentPetsConstruct = i, this.closure$petReference = a } Ept.prototype.removeAll = function () { this.layoutParentConstructs_0.innerHTML = "", this.hashMapPetLayouts_0.clear() }, Ept.prototype.addPetLayout_pwmxih$ = function (t, e, i) { var a, r, o = new Npt(this.mainActivity, this.dataControl, i, t, this.getCharacterBuild_0()); o.layoutAdvancedAction.div.style.display = "none", htt().setHidden_njr4nn$(o.layoutAbilityScores, !0), o.buttonSkills.buttonDiv.addEventListener("click", (a = this, r = i, function (t) { return a.mainActivity.openDialog_ip94j4$(new vst(a.mainActivity, a.dataControl, a.getCharacterBuild_0(), r)), n })), o.buttonEquipment.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new nst(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonEditPet.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new Fot(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonStatBlock.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new pot(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonBarding.buttonDiv.innerHTML = "Armor Runes", o.buttonBarding.buttonDiv.addEventListener("click", function (t, e) { return function (i) { var a = 1 - t.getPlayerArmor().getListPropertyRunes().size | 0; return e.mainActivity.openDialog_ip94j4$(new Sst(e.mainActivity, e.dataControl, e.getCharacterBuild_0(), a, 0, null, t.getPlayerArmor())), n } }(e, this)), o.buttonCustomBuff.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new Fit(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonCondition.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new Git(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), this.addPetProficiencyButton_0(t, i, o.layoutPerception, pK().PROFICIENCY_PERCEPTION, 4, ""), this.addPetProficiencyButton_0(t, i, o.layoutFortitude, pK().PROFICIENCY_FORTITUDE, 2, ""), this.addPetProficiencyButton_0(t, i, o.layoutReflex, pK().PROFICIENCY_REFLEX, 1, ""), this.addPetProficiencyButton_0(t, i, o.layoutWill, pK().PROFICIENCY_WILL, 4, ""), this.hashMapPetLayouts_0.put_xwzc9p$(i, o), this.updatePet_pwmxih$(t, e, i), this.layoutParentConstructs_0.appendChild(o.div) }, Ept.prototype.addPetProficiencyButton_0 = function (t, i, a, r, s, l) { var c, p, h, u, _, f, y, m = this.getCharacterBuild_0().getCharacterData().getCharacterLevel(); a.div.addEventListener("click", (c = t, p = r, h = this, u = m, _ = s, f = l, y = i, function (t) { var i, a, r = null != (i = c.getProficiency_61zpoe$(p)) ? i : new nK, s = rK(h.dataControl, c, r), l = s.getTypedBuff_za3lpa$(0); if ((e.isType(a = t.target, HTMLElement) ? a : d()).classList.contains("dice-proficiency")) { var m = r.getProficiencyAtLevel_za3lpa$(u), $ = pK().getFinalProficiencyTotal_xek4lp$(c.getCharacterData(), m, u) + htt().getAbilityMod_za3lpa$(c.getPlayReportAbilityScores_sfkw43$(h.dataControl).abilityScoresBuffed[_]) + l + s.totalBuffExcludingItem | 0; h.mainActivity.getNavigationControl().openDiceTray(), h.mainActivity.diceUIControl.setUpD20Roll_bm4lxs$(p, $) } else { var g = o(h.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$(p)).textDescription; g += f, h.mainActivity.openDialog_ip94j4$(new rnt(h.mainActivity, h.dataControl, h.getCharacterBuild_0(), p, _, l, !1, y, g)) } return n })) }, Ept.prototype.updatePet_pwmxih$ = function (t, i, a) { var r, n; if (this.hashMapPetLayouts_0.containsKey_11rb$(a)) { var o = new W1(this.dataControl, t, i.getCharacterLevel()), s = e.isType(r = this.hashMapPetLayouts_0.get_11rb$(a), Npt) ? r : d(), l = o.abilityScoresBuffed; this.updateHP_e0dl4x$(t, a), s.textSize.innerHTML = "<b>Size</b> " + zY().getSize_v0xutk$(this.getCharacterBuild_0(), t), s.textSpeeds.innerHTML = "<b>Speed</b> " + new OY(this.dataControl, t, this.getCharacterBuild_0()).speedString, this.setConstructAttacks_0(t, i, s, o), this.updatePetAC_850vfi$(t, a), this.setAbilities_0(t, o, s), htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_PERCEPTION, s.layoutPerception, htt().getAbilityMod_za3lpa$(l[4])), htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_FORTITUDE, s.layoutFortitude, htt().getAbilityMod_za3lpa$(l[2])), htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_REFLEX, s.layoutReflex, htt().getAbilityMod_za3lpa$(l[1])), htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_WILL, s.layoutWill, htt().getAbilityMod_za3lpa$(l[4])), s.textSenses.innerHTML = "<b>Senses</b> " + zY().getSenses_7npgvs$(t, this.getCharacterBuild_0()), this.updatePetEquipment_0(a, t), s.divButtonExtra.innerHTML = ""; var c = yZ().getInnovation_5btbp7$(this.getCharacterBuild_0()); if (null != c && m(c, yZ().INNOVATION_CONSTRUCT)) { var p = new Dpt(this.mainActivity, this.dataControl, this.getCharacterBuild_0(), 2); p.hashMapModsToButtons.size > 0 && s.divButtonExtra.appendChild(p.layoutMain) } 0 === s.divButtonExtra.childElementCount ? s.divButtonExtra.style.display = "none" : s.divButtonExtra.style.display = "block", zY().hasSelectedModification_q8fthw$(this.getCharacterBuild_0(), t, "Runic Keystone", "No ref") ? htt().setHidden_njr4nn$(s.buttonBarding.buttonDiv, !0) : htt().setHidden_njr4nn$(s.buttonBarding.buttonDiv, !1), s.layoutParentConditions.innerHTML = ""; var h = htt().getColumns_za3lpa$(2); for (n = h.iterator(); n.hasNext();) { var u = n.next(); u.classList.add(B9().CSS_GRID_ITEM), s.layoutParentConditions.appendChild(u) } Fst().updateConditionsAndBuffs_aqq2df$(this.mainActivity, this.dataControl, a, t, i, h) } }, Ept.prototype.updateHP_e0dl4x$ = function (t, e) { var i, a = this.hashMapPetLayouts_0.get_11rb$(e); null != (i = null != a ? a.hpControlInterface : null) && i.updateHP() }, Ept.prototype.setConstructAttacks_0 = function (t, e, i, a) { i.layoutParentAttacks.innerHTML = "", this.addWeaponLayout_0(t, 0, i.layoutParentAttacks, a), this.addWeaponLayout_0(t, 1, i.layoutParentAttacks, a), e.getHashMapEidolonAttacks().containsKey_11rb$(2) && zY().hasSelectedModification_q8fthw$(this.getCharacterBuild_0(), t, "Projectile Launcher", "no ref") && this.addWeaponLayout_0(t, 2, i.layoutParentAttacks, a) }, Ept.prototype.addWeaponLayout_0 = function (t, e, i, a) { var r, s; if (null != (r = t.getPetData().getHashMapEidolonAttacks().get_11rb$(e))) { var l, c, p, h = r, d = new Fpt(!0, !0, !0); i.appendChild(d.div), zY().hasSelectedModification_q8fthw$(this.getCharacterBuild_0(), t, "Runic Keystone", "No ref") ? d.buttonRunes.buttonDiv.addEventListener("click", (l = h, c = t, p = this, function (t) { var e = l.getPotency_5btbp7$(c) - l.getListPropertyRunes().size | 0; return p.mainActivity.openDialog_ip94j4$(new Cst(p.mainActivity, p.dataControl, p.getCharacterBuild_0(), l, e, XV().PET_REFERENCE_CONSTRUCT)), n })) : d.buttonRunes.buttonDiv.style.display = "none", d.buttonInfo.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.mainActivity.openDialog_ip94j4$(new Bot(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), XV().PET_REFERENCE_CONSTRUCT, e, i)), n } }(this, h, e)), d.textName.innerHTML = h.weaponName; var u = this.dataControl.managerPets.getConstructAttackDice_g6uxpc$(this.getCharacterBuild_0(), t, e, h, a); d.imageWeaponTraining.src = htt().getImageBasedOnProficiency_za3lpa$(u.trainingLevel), d.textHitTotal.innerHTML = htt().getSignedValue_za3lpa$(u.attackTotal) + "<span class='tooltiptextCrit'>" + u.getAttackMAPString_fhac18$(this.dataControl, t) + "</span>", htt().setColorBasedOnBuff_xlcra$(u.totalAttackBuff, d.textHitTotal); var _ = htt().getDiceIcon_za3lpa$(u.diceSize); for (null == _ ? htt().setInvisible_njr4nn$(d.imgDice, !1) : d.imgDice.src = "img/icon_" + j(_) + ".png?v=4", d.textDamage.innerHTML = u.getDamageString() + "<span class='tooltiptextCrit'>" + u.getCriticalDamageString() + "</span>", htt().setColorBasedOnBuff_xlcra$(u.totalDamageBuff, d.textDamage), htt().addTraitsToFlexbox_h2l30b$(d.divTraits, u.traits), s = h.getListPropertyRunes().iterator(); s.hasNext();) { var f = s.next(); console.log("adding propert rune " + f), d.divRunes.appendChild(this.getPropertyRuneLayout_0(f, t, h).div) } this.mainActivity.showDiceRollers ? d.buttonRoll.buttonDiv.addEventListener("click", function (t, e, i, a) { return function (r) { return t.mainActivity.getNavigationControl().openDiceTray(), t.mainActivity.diceUIControl.setUpPetAttackRoll_f4fe7g$(t.getCharacterBuild_0(), e, i, a.weaponName), n } }(this, t, u, h)) : o(d.buttonRoll.buttonDiv.parentElement).removeChild(d.buttonRoll.buttonDiv) } }, Ept.prototype.getPropertyRuneLayout_0 = function (t, e, i) { var a, r, s, l = zlt(t); return l.buttonMain.addEventListener("click", (a = this, r = t, s = e, function (t) { var e = o(a.dataControl.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(102)).get_11rb$(r); return null != e && a.mainActivity.openDialog_ip94j4$(new Tat(a.mainActivity, a.dataControl, s, e.name, e.itemLevel, e.traits, e.getItemFullDetails())), n })), l.buttonX.addEventListener("click", function (t, e, i, a) { return function (r) { return t.getListPropertyRunes().remove_11rb$(e), i.dataControl.managerWeapons.activateWeaponRune_kt1j5c$(!1, a, t, e), i.updatePet_pwmxih$(a, a.getPetData(), XV().PET_REFERENCE_CONSTRUCT), i.mainActivity.autoSave(), n } }(i, t, this, e)), l }, Ept.prototype.getPropertyRuneLayoutArmor_0 = function (t, e, i) { var a, r, s, l = zlt(t); return l.buttonMain.addEventListener("click", (a = this, r = t, s = e, function (t) { var e = o(a.dataControl.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(101)).get_11rb$(r); return null != e && a.mainActivity.openDialog_ip94j4$(new Tat(a.mainActivity, a.dataControl, s, e.name, e.itemLevel, e.traits, e.getItemFullDetails())), n })), l.buttonX.addEventListener("click", function (t, e, i, a) { return function (r) { return t.dataControl.managerEquipment.activateArmorRune_gg017k$(e, !1, i), a.getListPropertyRunes().remove_11rb$(i), t.updatePet_pwmxih$(e, e.getPetData(), XV().PET_REFERENCE_CONSTRUCT), t.mainActivity.autoSave(), n } }(this, e, t, i)), l }, Ept.prototype.updatePetEquipment_0 = function (t, e) { var i, a, r = this.hashMapPetLayouts_0.get_11rb$(t), n = e.getPetData(); if (null != r) if (r.layoutParentEquipment.innerHTML = "", n.listPlayerEquipment.isEmpty()) htt().setHidden_njr4nn$(r.layoutParentEquipment, !1); else { htt().setHidden_njr4nn$(r.layoutParentEquipment, !0); var o = u(); for (i = n.listPlayerEquipment.iterator(); i.hasNext();) { var s = i.next(), l = this.getLayoutEquipment_0(s, t, e); o.add_11rb$(l) } for (o.size > 1 && q(o, new G(Cpt(Apt))), a = o.iterator(); a.hasNext();) { var c = a.next(); r.layoutParentEquipment.appendChild(c.div) } } }, Ept.prototype.updatePetAC_850vfi$ = function (t, i) { var a, r, n = this.hashMapPetLayouts_0, s = (e.isType(r = n, y) ? r : d()).get_11rb$(i), l = t.getPetData(); if (null != s) { var c = l.getPlayerArmor(), p = this.dataControl.managerArmor.getWornArmorInformation_5btbp7$(t); if (null != p) { var h = pK().ARRAY_ARMOR_PROFICIENCY_TYPES[p.proficiencyType]; s.textArmorName.innerHTML = h; var u = t.getProficiency_61zpoe$(h), _ = rK(this.dataControl, t, o(u)), f = _.getArmorItemBonus_fhac18$(this.dataControl, t), m = u.getProficiencyAtLevel_za3lpa$(l.getCharacterLevel()), $ = pK().getFinalProficiencyTotal_xek4lp$(t.getPetData(), m, l.getCharacterLevel()), g = this.dataControl.managerArmor.getArmorAbilityBonus_5btbp7$(t), v = _.totalBuffExcludingItem, S = 10 + $ + g + f + v | 0; for (s.imageArmorTraining.src = htt().getImageBasedOnProficiency_za3lpa$(m), s.textAC.innerHTML = S.toString(), htt().setColorBasedOnBuff_xlcra$(v, s.textAC), s.divArmorRunes.innerHTML = "", a = c.getListPropertyRunes().iterator(); a.hasNext();) { var C = a.next(); s.divArmorRunes.appendChild(this.getPropertyRuneLayoutArmor_0(C, t, c).div) } } } }, bpt.prototype.accept = function () { this.closure$petCharacterBuild.getPetData().listPlayerEquipment.remove_11rb$(this.closure$playerEquipment), this.this$FragmentPetsConstruct.dataControl.managerEquipment.removeEquipmentBonus_qumra2$(this.closure$petCharacterBuild, this.closure$playerEquipment), this.this$FragmentPetsConstruct.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.this$FragmentPetsConstruct.getCharacterBuild_0(), this.closure$petReference), this.this$FragmentPetsConstruct.mainActivity.autoSave() }, bpt.$metadata$ = { kind: p, interfaces: [Vet] }, Ept.prototype.getLayoutEquipment_0 = function (t, e, i) { var a, r, o, s, l = new Kst, c = (t.getTraits_fhac18$(this.dataControl, i), t.getDescription_fhac18$(this.dataControl, i)); l.title.addEventListener("click", (a = this, r = i, o = t, s = c, function (t) { return a.mainActivity.openDialog_ip94j4$(new Rat(a.mainActivity, a.dataControl, r, o, s, !1, !1, null, o.invested)), n })); var p = t.getDisplayName_fhac18$(this.dataControl, i); return l.setName_61zpoe$(p), l.setQty_za3lpa$(t.quantity), l.buttonLess.buttonDiv.addEventListener("click", function (t, e, i, a, r) { return function (o) { var s; return t.quantity > 1 ? (s = t.quantity, t.quantity = s - 1 | 0, e.setQty_za3lpa$(t.quantity)) : Xet(!0, "Really remove item from your equipment?", new bpt(i, t, a, r)).show(), a.mainActivity.autoSave(), n } }(t, l, i, this, e)), l.buttonMore.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { var r; return r = t.quantity, t.quantity = r + 1 | 0, e.setQty_za3lpa$(t.quantity), i.mainActivity.autoSave(), n } }(t, l, this)), l }, Ept.prototype.setAbilities_0 = function (t, e, i) { i.layoutAbilityScores.innerHTML = ""; var a = new Net; htt().setInvisible_njr4nn$(a.span, !1), i.layoutAbilityScores.appendChild(a.table); for (var r = 0; r <= 5; r++)a.arrayCheckBoxes[r].div.style.display = "none"; for (var n = e.abilityScoresBuffed, o = 0; o !== n.length; ++o)a.setAbility_vux9f0$(n[o], o) }, Ept.prototype.getCharacterBuild_0 = function () { return this.mainActivity.characterBuild }, Ept.prototype.getCharacterData = function () { return this.getCharacterBuild_0().getCharacterData() }, Ept.$metadata$ = { kind: p, simpleName: "FragmentPetsConstruct", interfaces: [] }; var Ipt = U((function () { var t = e.kotlin.comparisons.compareValues_s00gnj$; return function (e) { return function (i, a) { var r = e; return t(r(i), r(a)) } } })); function wpt(t, e, i) { this.mainActivity = t, this.dataControl = e, this.rootView = i, this.layoutParentEidolons_0 = jlt().getDiv(), this.hashMapPetLayouts_0 = c(), this.hashMapFeatButtons_0 = c(), this.hashMapFeatChoices_0 = c(), this.rootView.appendChild(this.layoutParentEidolons_0) } function Lpt(t) { return t.title.innerHTML } function Tpt(t, e, i, a) { this.closure$petCharacterBuild = t, this.closure$playerEquipment = e, this.this$FragmentPetsEidolon = i, this.closure$petReference = a } function kpt(t, e, i) { this.mainActivity = t, this.dataControl = e, this.rootView = i, this.layoutParentFamiliar_0 = jlt().getDiv(), this.hashMapPetLayouts_0 = c(), this.rootView.appendChild(this.layoutParentFamiliar_0) } function Rpt(t, e, i) { return function (a) { return t.mainActivity.openDialog_ip94j4$(new mst(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e, i)), n } } function Ppt(t, i, a, r) { return function (s) { if (t.spinner.selectedIndex > 0) { var l = i.getHashMapSelectedFamiliarSkilled(), c = o(a), p = t.spinner.value; l.put_xwzc9p$(c, p) } else { var h, u = i.getHashMapSelectedFamiliarSkilled(), _ = a; (e.isType(h = u, rt) ? h : d()).remove_11rb$(_) } return r.mainActivity.autoSave(), n } } function Mpt(t, i, a, r) { return function (s) { if (t.spinner.selectedIndex > 0) { var l = i.getHashMapSelectedFamiliarResistances(), c = o(a), p = t.spinner.value; l.put_xwzc9p$(c, p) } else { var h, u = i.getHashMapSelectedFamiliarResistances(), _ = a; (e.isType(h = u, rt) ? h : d()).remove_11rb$(_) } return r.mainActivity.autoSave(), n } } function Npt(t, e, i, a, r) { this.petReferennce = i, this.petCharacterBuild = a, this.masterCharacterBuild = r, this.div = jlt().getDiv(), this.column0 = jlt().getDiv(), this.column1 = jlt().getDiv(), this.title = jlt().getDiv(), this.buttonEditPet = Dlt("Edit Pet"), this.buttonStatBlock = Dlt("Stat Block"), this.buttonAdvanced = Dlt("Advancement"), this.divParentSpecializations = jlt().getDiv(), this.textAC = jlt().getDiv(), this.imageArmorTraining = jlt().getImg(), this.textArmorName = jlt().getSpan(), this.buttonBarding = Dlt("Barding"), this.divHPControls = jlt().getDiv(), this.hpControlInterface = null, this.layoutAbilityScores = jlt().getDiv(), this.buttonCondition = Dlt("Add Condition"), this.buttonCustomBuff = Dlt("Add Custom Buff"), this.layoutParentConditions = jlt().getDiv(), this.layoutParentAttacks = jlt().getDiv(), this.textSpeeds = jlt().getDiv(), this.textSenses = jlt().getDiv(), this.textSize = jlt().getDiv(), this.textSpecials = jlt().getDiv(), this.textSupport = jlt().getDiv(), this.layoutAdvancedAction = new Ylt(!1), this.layoutPerception = new act, this.layoutFortitude = new act, this.layoutReflex = new act, this.layoutWill = new act, this.divACHP = jlt().getDiv(), this.divArmorRunes = jlt().getDiv(), this.divButtonExtra = jlt().getDiv(), this.buttonEquipment = Dlt("Add Equipment"), this.layoutParentEquipment = jlt().getDiv(), this.buttonSkills = Dlt("View Skills"), this.layoutParentExtra1 = jlt().getDiv(), this.divNotes = jlt().getDiv(), this.edittext_0 = jlt().getTextArea(), this.buttonSaveNotes = Dlt("Save Notes"); var o = jlt().getDiv(); o.classList.add(B9().CSS_LAYOUT_TABBED_LINE), o.style.marginBottom = "0.5em", this.div.appendChild(o), o.classList.add(B9().CSS_GRID_CONTAINER), this.buttonBarding.buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.buttonEquipment.buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.buttonEditPet.buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.buttonStatBlock.buttonDiv.classList.add(B9().CSS_GRID_ITEM), this.buttonSkills.buttonDiv.classList.add(B9().CSS_GRID_ITEM), o.appendChild(this.buttonEditPet.buttonDiv), o.appendChild(this.buttonStatBlock.buttonDiv), o.appendChild(this.buttonSkills.buttonDiv), o.appendChild(this.buttonEquipment.buttonDiv), o.appendChild(this.buttonBarding.buttonDiv); var s, l, c = jlt().getDiv(); c.classList.add("pet-column-holder"), this.div.appendChild(c), this.column0.classList.add("pet-column-0"), this.column1.classList.add("pet-column-1"), c.appendChild(this.column0), c.appendChild(this.column1), this.hpControlInterface = new Bpt(t, e, this.petReferennce, this.petCharacterBuild, this.masterCharacterBuild, this.divHPControls), this.addArmorHpSections_0(this.column0), this.addParentAttacks_0(this.column0), this.addSavePerception_0(this.column0), this.addDivButtonExtra_0(this.column0), this.addLayoutAbilityScores_0(this.column0), this.addSizeSenseSupport_0(this.column1), this.addAdvancedAction_0(this.column1), this.addEquipment_0(this.column1), this.addParentExtra1_0(this.column1), this.addConditionViews_0(this.column1), this.addDivNotes_0(this.column0), this.buttonSaveNotes.buttonDiv.style.width = "8em", this.buttonSaveNotes.buttonDiv.addEventListener("click", (s = this, l = t, function (t) { return s.petCharacterBuild.getPetData().setNotes_61zpoe$(s.edittext_0.value), l.autoSave(), n })), this.edittext_0.value = this.petCharacterBuild.getPetData().getNotes() } function Dpt(t, e, i, a) { var r, n; this.mainActivity = t, this.dataControl = e, this.characterBuild = i, this.requiredModType = a, this.layoutMain = jlt().getDiv(), this.hashMapModsToButtons = c(); var o = u(); for (r = this.characterBuild.hashMapInventorModifications.values.iterator(); r.hasNext();) { var s = r.next(); s.type === this.requiredModType && this.characterBuild.getCharacterData().getCharacterLevel() >= s.reqCharacterLevel && o.add_11rb$(s) } for (q(o, Wt([xpt, zpt])), n = o.iterator(); n.hasNext();) { var l = n.next(), p = vlt(l.name); this.layoutMain.appendChild(p.buttonDiv), this.hashMapModsToButtons.put_xwzc9p$(l, p), p.buttonDiv.addEventListener("click", Opt(this, l)), this.setButtonName_mgzrjz$(this.characterBuild, l) } } function xpt(t) { return t.level } function zpt(t) { return t.name } function Opt(t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new Xat(t.mainActivity, t.dataControl, t.characterBuild, e, null)), n } } function Fpt(t, e, i) { this.div = jlt().getDiv(), this.textName = jlt().getDiv(), this.divTraits = jlt().getDiv(), this.imageWeaponTraining = jlt().getImg(), this.textHitTotal = jlt().getDiv(), this.imgDice = jlt().getImg(), this.textDamage = jlt().getSpan(), this.divRunes = jlt().getDiv(), this.buttonRoll = new Plt, this.buttonInfo = Dlt("Options"), this.buttonRunes = Dlt("Runes"), this.divMods = jlt().getDiv(), this.imageWeaponTraining.style.verticalAlign = "middle"; var a = jlt().getImg(); a.style.verticalAlign = "middle", a.src = "img/icon_d20.png?v=dm-1", a.classList.add("icon-dice"), a.style.verticalAlign = "middle", this.div.classList.add("layout-tabbed-line"); var r = jlt().getDiv(); this.div.appendChild(r), r.style.display = "flex", r.style.marginBottom = "0.8em", r.appendChild(this.buttonRoll.buttonDiv), t && (this.buttonInfo.buttonDiv.classList.add("weapon-button"), this.buttonRunes.buttonDiv.classList.add("weapon-button"), this.buttonInfo.buttonDiv.id = "button-info", this.buttonRunes.buttonDiv.id = "button-runes", r.appendChild(this.buttonInfo.buttonDiv), r.appendChild(this.buttonRunes.buttonDiv)); var n = jlt().getDiv(); r.appendChild(n), n.style.flex = "1"; var o = jlt().getDiv(); this.div.appendChild(o), o.appendChild(this.imageWeaponTraining), this.textName.style.marginLeft = "1em", this.textName.classList.add("weapon-name"), this.textName.style.width = "8em", o.appendChild(this.textName); var s = jlt().getDiv(); s.style.display = "inline-block", s.classList.add("tooltip"), o.appendChild(s), s.appendChild(a), this.textHitTotal.classList.add("weapon-hit"), s.appendChild(this.textHitTotal); var l = jlt().getDiv(); l.style.display = "inline-block", l.classList.add("tooltip"), o.appendChild(l), this.imgDice.style.verticalAlign = "middle", l.appendChild(this.imgDice), l.appendChild(this.textDamage), this.divTraits.classList.add("weapon-traits"), this.div.appendChild(this.divTraits), e && (this.divRunes.style.marginTop = "0.5em", this.div.appendChild(this.divRunes)) } function Bpt(t, e, i, a, r, o) { this.mainActivity_0 = t, this.dataControl_0 = e, this.petReference = i, this.petCharacterBuild_0 = a, this.masterCharacterBuild_0 = r, this.progressBarHP_0 = jlt().getDiv(), this.progressBarTemp_0 = jlt().getDiv(), this.hpText_0 = jlt().getDiv(); var s, l = jlt().getDiv(); o.appendChild(l), l.classList.add("progress-bar-container"), l.appendChild(this.progressBarTemp_0), l.appendChild(this.progressBarHP_0), this.hpText_0.classList.add("progress-bar-text"), l.appendChild(this.hpText_0), this.progressBarHP_0.classList.add("progress-bar"), this.progressBarHP_0.classList.add("progress-bar-red"), this.progressBarTemp_0.classList.add("progress-bar"), this.progressBarTemp_0.classList.add("progress-bar-green"), l.addEventListener("click", (s = this, function (t) { return s.mainActivity_0.openDialog_ip94j4$(new gst(s.mainActivity_0, s.dataControl_0, s.petReference, s.petCharacterBuild_0, s.masterCharacterBuild_0)), n })), this.updateHP() } wpt.prototype.removeAll = function () { this.layoutParentEidolons_0.innerHTML = "", this.hashMapPetLayouts_0.clear() }, wpt.prototype.addPetLayout_pwmxih$ = function (t, e, i) { var a, r, o = new Npt(this.mainActivity, this.dataControl, i, t, this.getCharacterBuild_0()); o.divHPControls.style.display = "none", o.layoutAdvancedAction.div.style.display = "none", htt().setHidden_njr4nn$(o.layoutAbilityScores, !0), o.buttonSkills.buttonDiv.addEventListener("click", (a = this, r = i, function (t) { return a.mainActivity.openDialog_ip94j4$(new ast(a.mainActivity, a.dataControl, a.getCharacterBuild_0(), r)), n })), o.buttonEquipment.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new nst(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonEditPet.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new jot(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonStatBlock.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new pot(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), htt().setHidden_njr4nn$(o.title, !0), o.buttonBarding.buttonDiv.style.display = "none", o.buttonCustomBuff.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new Fit(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonCondition.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new Git(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), this.addPetProficiencyButton_0(t, i, o.layoutPerception, pK().PROFICIENCY_PERCEPTION, 4, ""), this.addPetProficiencyButton_0(t, i, o.layoutFortitude, pK().PROFICIENCY_FORTITUDE, 2, ""), this.addPetProficiencyButton_0(t, i, o.layoutReflex, pK().PROFICIENCY_REFLEX, 1, ""), this.addPetProficiencyButton_0(t, i, o.layoutWill, pK().PROFICIENCY_WILL, 4, ""), this.hashMapPetLayouts_0.put_xwzc9p$(i, o), this.updatePet_pwmxih$(t, e, i), this.layoutParentEidolons_0.appendChild(o.div) }, wpt.prototype.addPetProficiencyButton_0 = function (t, i, a, r, s, l) { if (t.getPetData().isFreeArchetype()) a.div.addEventListener("click", (p = this, h = r, u = t, _ = s, function (t) { var i; if ((e.isType(i = t.target, HTMLElement) ? i : d()).classList.contains("dice-proficiency")) { var a = p.getCharacterBuild_0().getProficiency_61zpoe$(h); if (null != a) { var r = p.getCharacterBuild_0().getCharacterData().getCharacterLevel(), o = a.getProficiencyAtLevel_za3lpa$(r), s = pK().getFinalProficiencyTotal_xek4lp$(p.getCharacterBuild_0().getCharacterData(), o, r), l = rK(p.dataControl, p.getCharacterBuild_0(), a).getTypedBuff_za3lpa$(0), c = rK(p.dataControl, u, a).totalBuffExcludingItem, f = s + htt().getAbilityMod_za3lpa$(u.getPlayReportAbilityScores_sfkw43$(p.dataControl).abilityScoresBuffed[_]) + l + c | 0; p.mainActivity.getNavigationControl().openDiceTray(), p.mainActivity.diceUIControl.setUpD20Roll_bm4lxs$(h, f) } } return n })); else { var c = this.getCharacterBuild_0().getCharacterData().getCharacterLevel(); a.div.addEventListener("click", function (t, i, a, r, s, l, c) { return function (p) { var h, u, _ = null != (h = t.getProficiency_61zpoe$(i)) ? h : new nK, f = rK(a.dataControl, t, _), y = f.getTypedBuff_za3lpa$(0); if ((e.isType(u = p.target, HTMLElement) ? u : d()).classList.contains("dice-proficiency")) { var m = _.getProficiencyAtLevel_za3lpa$(r), $ = pK().getFinalProficiencyTotal_xek4lp$(t.getCharacterData(), m, r) + htt().getAbilityMod_za3lpa$(t.getPlayReportAbilityScores_sfkw43$(a.dataControl).abilityScoresBuffed[s]) + y + f.totalBuffExcludingItem | 0; a.mainActivity.getNavigationControl().openDiceTray(), a.mainActivity.diceUIControl.setUpD20Roll_bm4lxs$(i, $) } else { var g = o(a.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$(i)).textDescription; g += l, a.mainActivity.openDialog_ip94j4$(new rnt(a.mainActivity, a.dataControl, a.getCharacterBuild_0(), i, s, y, !1, c, g)) } return n } }(t, r, this, c, s, l, i)) } var p, h, u, _ }, wpt.prototype.updatePet_pwmxih$ = function (t, i, a) { var r, n, o; if (this.hashMapPetLayouts_0.containsKey_11rb$(a)) { var s, l = this.dataControl.managerPets.hashMapEidolonInformation, c = i.getPetName(); if (null == (r = (e.isType(s = l, y) ? s : d()).get_11rb$(c))) return; var p = r, h = new W1(this.dataControl, t, i.getCharacterLevel()), u = e.isType(n = this.hashMapPetLayouts_0.get_11rb$(a), Npt) ? n : d(); this.setAbilities_0(t, h, u, p); var _ = "<b>Speed</b> " + new VY(this.dataControl, t, this.getCharacterBuild_0(), p).getSpeedString(); u.textSpeeds.innerHTML = _; var f = t.getPetData().isSwitchB() ? p.type2 : p.type1; u.title.innerHTML = f, u.textSize.innerHTML = "<b>Size</b> " + X1().getEidolonSize_v0xutk$(this.getCharacterBuild_0(), t); var m = X1().getEidolonEnergyResistance_x6w84g$(this.getCharacterBuild_0(), t, h), $ = X1().getEidolonDR_x6w84g$(this.getCharacterBuild_0(), t, h); if ($.length > 0 && (m += "<br>" + $), m.length > 0 && (u.textSupport.innerHTML = m), this.setEidolonAttacks_0(t, i, u, h), this.updatePetAC_0(t, a, h, u, p), i.isFreeArchetype()) htt().updateGeneralProficiencyNoNameEidolonBasedOnMaster_ob2d76$(this.dataControl, this.getCharacterBuild_0(), t, pK().PROFICIENCY_PERCEPTION, u.layoutPerception, htt().getAbilityMod_za3lpa$(h.abilityScoresBuffed[4])), htt().updateGeneralProficiencyNoNameEidolonBasedOnMaster_ob2d76$(this.dataControl, this.getCharacterBuild_0(), t, pK().PROFICIENCY_FORTITUDE, u.layoutFortitude, htt().getAbilityMod_za3lpa$(h.abilityScoresBuffed[2])), htt().updateGeneralProficiencyNoNameEidolonBasedOnMaster_ob2d76$(this.dataControl, this.getCharacterBuild_0(), t, pK().PROFICIENCY_REFLEX, u.layoutReflex, htt().getAbilityMod_za3lpa$(h.abilityScoresBuffed[1])), htt().updateGeneralProficiencyNoNameEidolonBasedOnMaster_ob2d76$(this.dataControl, this.getCharacterBuild_0(), t, pK().PROFICIENCY_WILL, u.layoutWill, htt().getAbilityMod_za3lpa$(h.abilityScoresBuffed[4])); else { var g = this.getCharacterData().getPlayerArmor().getItemResilient_5btbp7$(t); htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_PERCEPTION, u.layoutPerception, htt().getAbilityMod_za3lpa$(h.abilityScoresBuffed[4])), htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_FORTITUDE, u.layoutFortitude, htt().getAbilityMod_za3lpa$(h.abilityScoresBuffed[2]) + g | 0), htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_REFLEX, u.layoutReflex, htt().getAbilityMod_za3lpa$(h.abilityScoresBuffed[1]) + g | 0), htt().updateGeneralProficiencyNoNamePets_yx820h$(this.dataControl, t, pK().PROFICIENCY_WILL, u.layoutWill, htt().getAbilityMod_za3lpa$(h.abilityScoresBuffed[4]) + g | 0) } u.textSenses.innerHTML = "<b>Senses</b> " + X1().getEidolonSenses_9f62qa$(t, this.getCharacterBuild_0(), p), this.addSkillButtons_0(u, t), this.updatePetEquipment_0(a, t), this.addEidolonSpecials_0(u, t, p), u.layoutParentConditions.innerHTML = ""; var v = htt().getColumns_za3lpa$(2); for (o = v.iterator(); o.hasNext();) { var S = o.next(); S.classList.add(B9().CSS_GRID_ITEM), u.layoutParentConditions.appendChild(S) } Fst().updateConditionsAndBuffs_aqq2df$(this.mainActivity, this.dataControl, a, t, i, v) } }, wpt.prototype.addEidolonSpecials_0 = function (t, e, i) { var a = t.layoutParentExtra1; htt().setHidden_njr4nn$(a, !0), a.innerHTML = "", e.getPetData().isFreeArchetype() ? Lq().hasFeatByLevel_w0akbr$(this.getCharacterBuild_0(), "No feat ref", this.getCharacterData().getCharacterLevel(), "ARCHETYPE_Initial Eidolon Ability") && a.appendChild(this.getSpecialForAbility_0(e, i.ability1).div) : (a.appendChild(this.getSpecialForAbility_0(e, i.ability1).div), this.getCharacterData().getCharacterLevel() >= 7 && a.appendChild(this.getSpecialForAbility_0(e, i.ability2).div), this.getCharacterData().getCharacterLevel() >= 17 && a.appendChild(this.getSpecialForAbility_0(e, i.ability3).div)) }, wpt.prototype.getSpecialForAbility_0 = function (t, e) { var i = new Ylt(!1); htt().setHidden_njr4nn$(i.layoutDetail, !0); var a = this.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_EIDOLON_ABILTIIES).get_11rb$(e); return null != a && (i.setName_61zpoe$(o(a.name)), i.setTraits_pdl1vj$(a.flags), i.setAction_za3lpa$(a.action), i.setDescription_61zpoe$(a.textDescription)), i }, wpt.prototype.updatePetEquipment_0 = function (t, e) { var i, a, r = this.hashMapPetLayouts_0.get_11rb$(t), n = e.getPetData(); if (null != r) if (r.layoutParentEquipment.innerHTML = "", n.listPlayerEquipment.isEmpty()) htt().setHidden_njr4nn$(r.layoutParentEquipment, !1); else { htt().setHidden_njr4nn$(r.layoutParentEquipment, !0); var o = u(); for (i = n.listPlayerEquipment.iterator(); i.hasNext();) { var s = i.next(), l = this.getLayoutEquipment_0(s, t, e); o.add_11rb$(l) } for (o.size > 1 && q(o, new G(Ipt(Lpt))), a = o.iterator(); a.hasNext();) { var c = a.next(); r.layoutParentEquipment.appendChild(c.div) } } }, Tpt.prototype.accept = function () { this.closure$petCharacterBuild.getPetData().listPlayerEquipment.remove_11rb$(this.closure$playerEquipment), this.this$FragmentPetsEidolon.dataControl.managerEquipment.removeEquipmentBonus_qumra2$(this.closure$petCharacterBuild, this.closure$playerEquipment), this.this$FragmentPetsEidolon.mainActivity.getGuiUpdateControl().onPetChanged_nwzcgj$(this.this$FragmentPetsEidolon.getCharacterBuild_0(), this.closure$petReference), this.this$FragmentPetsEidolon.mainActivity.autoSave() }, Tpt.$metadata$ = { kind: p, interfaces: [Vet] }, wpt.prototype.getLayoutEquipment_0 = function (t, e, i) { var a, r, o, s, l = new Kst, c = (t.getTraits_fhac18$(this.dataControl, i), t.getDescription_fhac18$(this.dataControl, i)); l.title.addEventListener("click", (a = this, r = i, o = t, s = c, function (t) { return a.mainActivity.openDialog_ip94j4$(new Rat(a.mainActivity, a.dataControl, r, o, s, !1, !1, null, o.invested)), n })); var p = t.getDisplayName_fhac18$(this.dataControl, i); return l.setName_61zpoe$(p), l.setQty_za3lpa$(t.quantity), l.buttonLess.buttonDiv.addEventListener("click", function (t, e, i, a, r) { return function (o) { var s; return t.quantity > 1 ? (s = t.quantity, t.quantity = s - 1 | 0, e.setQty_za3lpa$(t.quantity)) : Xet(!0, "Really remove item from your equipment?", new Tpt(i, t, a, r)).show(), a.mainActivity.autoSave(), n } }(t, l, i, this, e)), l.buttonMore.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { var r; return r = t.quantity, t.quantity = r + 1 | 0, e.setQty_za3lpa$(t.quantity), i.mainActivity.autoSave(), n } }(t, l, this)), l }, wpt.prototype.setAbilities_0 = function (t, e, i, a) { i.layoutAbilityScores.innerHTML = ""; var r, o = new Net; o.span.style.marginTop = "0.5em", o.span.classList.add(B9().CSS_DIV_BUTTON), o.span.addEventListener("click", (r = this, function (t) { return r.mainActivity.openDialog_ip94j4$(new Hot(r.mainActivity, r.dataControl, r.getCharacterBuild_0(), XV().PET_REFERENCE_EIDOLON)), n })), i.layoutAbilityScores.appendChild(o.table); for (var s = 0; s <= 5; s++)o.arrayCheckBoxes[s].div.style.display = "none"; for (var l = e.abilityScoresBuffed, c = 0; c !== l.length; ++c)o.setAbility_vux9f0$(l[c], c); var p = this.getRemainingBoosts_0(t); o.setRemaining_za3lpa$(p) }, wpt.prototype.getRemainingBoosts_0 = function (t) { var e, i = 0, a = 0, r = t.getPetData().getCharacterLevel(); for (20 === r ? i = 16 : r >= 15 ? i = 12 : r >= 10 ? i = 8 : r >= 5 && (i = 4), e = t.getPetData().hashMapAbilityBoosts.keys.iterator(); e.hasNext();) { var n = e.next(); r >= n && (a = a + o(t.getPetData().hashMapAbilityBoosts.get_11rb$(n)).size | 0) } return i - a | 0 }, wpt.prototype.setEidolonAttacks_0 = function (t, e, i, a) { i.layoutParentAttacks.innerHTML = "", this.addWeaponLayout_0(t, 0, i.layoutParentAttacks, a), this.addWeaponLayout_0(t, 1, i.layoutParentAttacks, a), e.getHashMapEidolonAttacks().containsKey_11rb$(2) && Lq().hasFeatByLevel_w0akbr$(this.getCharacterBuild_0(), "No feat ref", this.getCharacterData().getCharacterLevel(), "SUMMONER_Ranged Combatant") && this.addWeaponLayout_0(t, 2, i.layoutParentAttacks, a) }, wpt.prototype.addWeaponLayout_0 = function (t, e, i, a) { var r, s; if (null != (r = t.getPetData().getHashMapEidolonAttacks().get_11rb$(e))) { var l, c, p, h = r, d = new Fpt(!0, !0, !1); i.appendChild(d.div), d.buttonRunes.buttonDiv.addEventListener("click", (l = h, c = t, p = this, function (t) { var e = l.getPotency_5btbp7$(c) - l.getListPropertyRunes().size | 0; return p.mainActivity.openDialog_ip94j4$(new Cst(p.mainActivity, p.dataControl, p.getCharacterBuild_0(), l, e, XV().PET_REFERENCE_EIDOLON)), n })), d.buttonInfo.buttonDiv.addEventListener("click", function (t, e, i) { return function (a) { return t.mainActivity.openDialog_ip94j4$(new Got(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), XV().PET_REFERENCE_EIDOLON, e, i)), n } }(this, h, e)), d.textName.innerHTML = h.weaponName; var u = this.dataControl.managerPets.getEidolonAttackDice_g6uxpc$(this.getCharacterBuild_0(), t, e, h, a); d.imageWeaponTraining.src = htt().getImageBasedOnProficiency_za3lpa$(u.trainingLevel), d.textHitTotal.innerHTML = htt().getSignedValue_za3lpa$(u.attackTotal) + "<span class='tooltiptextCrit'>" + u.getAttackMAPString_fhac18$(this.dataControl, t) + "</span>", htt().setColorBasedOnBuff_xlcra$(u.totalAttackBuff, d.textHitTotal); var _ = htt().getDiceIcon_za3lpa$(u.diceSize); for (null == _ ? htt().setInvisible_njr4nn$(d.imgDice, !1) : d.imgDice.src = "img/icon_" + j(_) + ".png?v=4", d.textDamage.innerHTML = u.getDamageString() + "<span class='tooltiptextCrit'>" + u.getCriticalDamageString() + "</span>", htt().setColorBasedOnBuff_xlcra$(u.totalDamageBuff, d.textDamage), htt().addTraitsToFlexbox_h2l30b$(d.divTraits, u.traits), s = h.getListPropertyRunes().iterator(); s.hasNext();) { var f = s.next(); d.divRunes.appendChild(this.getPropertyRuneLayout_0(f, t, h).div) } this.mainActivity.showDiceRollers ? d.buttonRoll.buttonDiv.addEventListener("click", function (t, e, i, a) { return function (r) { return t.mainActivity.getNavigationControl().openDiceTray(), t.mainActivity.diceUIControl.setUpPetAttackRoll_f4fe7g$(t.getCharacterBuild_0(), e, i, a.weaponName), n } }(this, t, u, h)) : o(d.buttonRoll.buttonDiv.parentElement).removeChild(d.buttonRoll.buttonDiv) } }, wpt.prototype.getPropertyRuneLayout_0 = function (t, e, i) { var a, r, s, l = zlt(t); return l.buttonMain.addEventListener("click", (a = this, r = t, s = e, function (t) { var e = o(a.dataControl.managerEquipment.hashMapAllEquipmentByCategory.get_11rb$(102)).get_11rb$(r); return null != e && a.mainActivity.openDialog_ip94j4$(new Tat(a.mainActivity, a.dataControl, s, e.name, e.itemLevel, e.traits, e.getItemFullDetails())), n })), l.buttonX.addEventListener("click", function (t, e, i, a) { return function (r) { return t.getListPropertyRunes().remove_11rb$(e), i.dataControl.managerWeapons.activateWeaponRune_kt1j5c$(!1, a, t, e), i.updatePet_pwmxih$(a, a.getPetData(), XV().PET_REFERENCE_EIDOLON), n } }(i, t, this, e)), l }, wpt.prototype.updatePetAC_0 = function (t, e, i, a, r) { var n = t.getPetData(), s = t.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED), l = r.ac1; n.isSwitchB() && (l = r.ac2), l = l + this.getCharacterData().getPlayerArmor().getPotency_5btbp7$(this.getCharacterBuild_0()) | 0; var c = o(s).getProficiencyAtLevel_za3lpa$(n.getCharacterLevel()), p = pK().getFinalProficiencyTotal_xek4lp$(this.getCharacterData(), c, n.getCharacterLevel()), h = htt().getAbilityMod_za3lpa$(i.abilityScoresBuffed[1]), d = r.dexcap1; n.isSwitchB() && (d = r.dexcap2); var u = ""; h > d && (h = d, u = " (capped)"); var _ = rK(this.dataControl, t, s).totalBuffExcludingItem, f = 10 + p + h + l + _ | 0; a.imageArmorTraining.src = htt().getImageBasedOnProficiency_za3lpa$(c), a.textArmorName.innerHTML = "Item +" + l + ", Dex " + h + u, a.textAC.innerHTML = f.toString(), htt().setColorBasedOnBuff_xlcra$(_, a.textAC) }, wpt.prototype.addSkillButtons_0 = function (t, i) { var a, r, n; this.hashMapFeatChoices_0.clear(), this.hashMapFeatButtons_0.clear(), t.divButtonExtra.innerHTML = "", a = i.getPetData().getCharacterLevel(); for (var s = 0; s < a; s++)if (null != i.hashMapFeatChoices[s]) for (r = o(i.hashMapFeatChoices[s]).keys.iterator(); r.hasNext();) { var l = r.next(), c = e.isType(n = o(i.hashMapFeatChoices[s]).get_11rb$(l), ku) ? n : d(); this.addFeatButton_0(i.getPetData(), t.divButtonExtra, c, l), this.updateFeatText_1dt8mf$(i.getPetData(), l) } 0 === t.divButtonExtra.childElementCount ? t.divButtonExtra.style.display = "none" : t.divButtonExtra.style.display = "block" }, wpt.prototype.addFeatButton_0 = function (t, e, i, a) { var r = new Clt(this.dataControl, this.getCharacterBuild_0(), i, a, 0); this.hashMapFeatButtons_0.put_xwzc9p$(a, r), this.hashMapFeatChoices_0.put_xwzc9p$(a, i), e.appendChild(r.buttonDiv); var s, l, c, p = i.featType, h = null != i.specificHeader; h && (h = o(i.specificHeader).length > 0), h && (p = o(i.specificHeader)), r.smallHeader.innerHTML = p, r.buttonDiv.addEventListener("click", (s = this, l = i, c = a, function (t) { return s.mainActivity.openDialog_ip94j4$(new Yot(s.mainActivity, s.dataControl, s.getCharacterBuild_0(), l.level, c, l, XV().PET_REFERENCE_EIDOLON)), n })), this.updateFeatText_1dt8mf$(t, a) }, wpt.prototype.updateFeatText_1dt8mf$ = function (t, i) { var a; try { var r, n = this.hashMapFeatButtons_0; if ((e.isType(r = n, y) ? r : d()).containsKey_11rb$(i)) { var o, c, p = this.hashMapFeatButtons_0, h = e.isType(a = (e.isType(o = p, y) ? o : d()).get_11rb$(i), Clt) ? a : d(), u = t.hashMapFeatSelections; if ((e.isType(c = u, y) ? c : d()).containsKey_11rb$(i)) { var _, f = t.hashMapFeatSelections, m = (e.isType(_ = f, y) ? _ : d()).get_11rb$(i), $ = this.dataControl.managerFeats.getFeatInformation_pdl1vj$(m); if (null != $) { var g, v = $.name, S = t.hashMapFeatExtraSelections; if ((e.isType(g = S, y) ? g : d()).containsKey_11rb$(i)) { var C, E = t.hashMapFeatExtraSelections; v += " (" + j((e.isType(C = E, y) ? C : d()).get_11rb$(i)) + ")" } h.selection.innerHTML = v, htt().setActionSymbol_1j8abp$(h.action, $.action) } } else htt().setActionSymbol_1j8abp$(h.action, -2), h.selection.innerHTML = B9().NOT_SELECTED } } catch (t) { if (!e.isType(t, l)) throw t; s(t) } }, wpt.prototype.getCharacterBuild_0 = function () { return this.mainActivity.characterBuild }, wpt.prototype.getCharacterData = function () { return this.getCharacterBuild_0().getCharacterData() }, wpt.$metadata$ = { kind: p, simpleName: "FragmentPetsEidolon", interfaces: [] }, kpt.prototype.removeAll = function () { this.layoutParentFamiliar_0.innerHTML = "", this.hashMapPetLayouts_0.clear() }, kpt.prototype.addFamiliarLayout_pwmxih$ = function (t, e, i) { var a, r, o = new Npt(this.mainActivity, this.dataControl, i, t, this.getCharacterBuild_0()); o.buttonSkills.buttonDiv.addEventListener("click", (a = this, r = i, function (t) { return a.mainActivity.openDialog_ip94j4$(new $st(a.mainActivity, a.dataControl, a.getCharacterBuild_0(), r)), n })), o.buttonEquipment.buttonDiv.style.display = "none", o.buttonEditPet.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new yst(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonStatBlock.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new pot(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonBarding.buttonDiv.style.display = "none", o.divButtonExtra.style.display = "none", o.buttonAdvanced.buttonDiv.style.display = "none", o.buttonCustomBuff.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return t.mainActivity.openDialog_ip94j4$(new Fit(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.buttonCondition.buttonDiv.addEventListener("click", function (t, e) { return function (i) { return console.log("clicked condition button"), t.mainActivity.openDialog_ip94j4$(new Git(t.mainActivity, t.dataControl, t.getCharacterBuild_0(), e)), n } }(this, i)), o.layoutAdvancedAction.div.style.display = "none", this.hashMapPetLayouts_0.put_xwzc9p$(i, o), this.updatePet_pwmxih$(t, e, i), this.layoutParentFamiliar_0.appendChild(o.div) }, kpt.prototype.updatePet_pwmxih$ = function (t, i, a) { var r, n; if (this.hashMapPetLayouts_0.containsKey_11rb$(a)) { var o = e.isType(r = this.hashMapPetLayouts_0.get_11rb$(a), Npt) ? r : d(); o.layoutParentEquipment.innerHTML = "", o.layoutParentAttacks.innerHTML = "", this.setFamiliarAbilities_0(a, t, i, o), this.setFamiliarSkilled_0(a, t, i, o), this.setFamiliarProficiencies_0(o, t), this.setFamiliarResistances_0(a, t, i, o), this.setSpecificAbilities_0(a, t, i, o), this.updateHP_e0dl4x$(t, a), htt().setHidden_njr4nn$(o.imageArmorTraining, !1), o.textArmorName.style.marginLeft = "0em", o.textArmorName.innerHTML = "<b>Speed</b> " + new tY(this.dataControl, t, this.getCharacterBuild_0()).speedString, o.layoutParentConditions.innerHTML = ""; var s = htt().getColumns_za3lpa$(2); for (n = s.iterator(); n.hasNext();) { var l = n.next(); l.classList.add(B9().CSS_GRID_ITEM), o.layoutParentConditions.appendChild(l) } Fst().updateConditionsAndBuffs_aqq2df$(this.mainActivity, this.dataControl, a, t, i, s), this.updatePetAC_sutnqi$(t, a, o) } }, kpt.prototype.updateHP_e0dl4x$ = function (t, e) { var i, a = this.hashMapPetLayouts_0.get_11rb$(e); null != (i = null != a ? a.hpControlInterface : null) && i.updateHP() }, kpt.prototype.updatePetAC_sutnqi$ = function (t, i, a) { var r, n, s = t.getPetData(), l = null != (r = this.dataControl.managerArmor.getWornArmorInformation_5btbp7$(this.getCharacterBuild_0())) ? r : ss("Error"), c = pK().ARRAY_ARMOR_PROFICIENCY_TYPES[l.proficiencyType], p = e.isType(n = this.getCharacterBuild_0().getProficiency_61zpoe$(c), nK) ? n : d(), h = rK(this.dataControl, this.getCharacterBuild_0(), p).getArmorItemBonus_fhac18$(this.dataControl, this.getCharacterBuild_0()), u = p.getProficiencyAtLevel_za3lpa$(this.getCharacterBuild_0().getCharacterData().getCharacterLevel()), _ = pK().getFinalProficiencyTotal_xek4lp$(this.getCharacterBuild_0().getCharacterData(), u, this.getCharacterBuild_0().getCharacterData().getCharacterLevel()), f = this.dataControl.managerArmor.getArmorAbilityBonus_5btbp7$(this.getCharacterBuild_0()), y = t.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED), $ = rK(this.dataControl, t, o(y)).totalBuffExcludingItem, g = 10 + _ + f + h + $ | 0; t.getProficiency_61zpoe$(pK().PROFICIENCY_UNARMORED), null != s.getFamiliarSpecific() && m(s.getFamiliarSpecific(), "Spellslime") && (g = 10 + this.getCharacterBuild_0().getCharacterData().getCharacterLevel() | 0), a.textAC.innerHTML = g.toString(), htt().setColorBasedOnBuff_xlcra$($, a.textAC) }, kpt.prototype.setFamiliarAbilities_0 = function (t, i, a, r) { var n, o = jlt().getDiv(); o.classList.add(B9().CSS_LAYOUT_TABBED_LINE), r.layoutParentAttacks.appendChild(o); var s = jlt().getDiv(); s.innerHTML = "Familiar Abilities", o.appendChild(s); var l = WV().getListFamiliarAbilityReferences_38cnzz$(this.dataControl, this.getCharacterBuild_0(), a.getFamiliarSpecific()); n = l.size; for (var c = 0; c < n; c++) { var p = l.get_za3lpa$(c), h = B9().NOT_SELECTED; if (a.getHashMapSelectedFamiliarAbilities().containsKey_11rb$(p)) { h = a.getHashMapSelectedFamiliarAbilities().get_11rb$(p); var u, _ = this.dataControl.managerPets.hashMapFamiliarAbilities, f = h, m = (e.isType(u = _, y) ? u : d()).get_11rb$(f); null != m && (h = m.adjustedName) } var $ = Dlt((c + 1 | 0).toString() + ": " + h); o.appendChild($.buttonDiv), htt().setWarningHighlight_njr4nn$($.buttonDiv, !1), $.buttonDiv.addEventListener("click", Rpt(this, t, p)) } }, kpt.prototype.setSpecificAbilities_0 = function (t, i, a, r) { var n, s, l; if (null != a.getFamiliarSpecific()) { var c, p = this.dataControl.managerPets.hashMapSpecificFamiliars, h = a.getFamiliarSpecific(); if (null == (n = (e.isType(c = p, y) ? c : d()).get_11rb$(h))) return; for (s = n.listSpecial.iterator(); s.hasNext();) { var u = s.next(); if (null != (l = this.dataControl.managerSpecials.getSpecials_61zpoe$(BK().SPECIALS_UNIVERSAL).get_11rb$(u))) { var _ = l, f = new Ylt(!1); htt().setHidden_njr4nn$(f.layoutDetail, !0), r.layoutParentEquipment.appendChild(f.div), f.setName_61zpoe$(o(_.name)), f.setDescription_61zpoe$(_.textDescription), f.setTraits_pdl1vj$(_.flags), f.setAction_za3lpa$(_.action) } } } r.layoutParentEquipment.childElementCount > 0 ? r.layoutParentEquipment.style.display = "block" : r.layoutParentEquipment.style.display = "none" }, kpt.prototype.setFamiliarSkilled_0 = function (t, i, a, r) { var n, o, s; if (0 !== i.listSkilledChoices.size) { var l = jlt().getDiv(); l.classList.add(B9().CSS_LAYOUT_TABBED_LINE), r.layoutParentAttacks.appendChild(l); var c = jlt().getDiv(); c.innerHTML = "Skilled", c.style.marginBottom = "0.5em", l.appendChild(c); var p = u(); for (n = this.dataControl.managerProficiencies.getAllSkillsAsArray_5btbp7$(i), o = 0; o !== n.length; ++o) { var h = n[o]; p.add_11rb$(h) } for (p.remove_11rb$(pK().ACROBATICS), p.remove_11rb$(pK().STEALTH), p.add_wxm5ur$(0, "No Skill Selected"), s = i.listSkilledChoices.iterator(); s.hasNext();) { var _ = s.next(), f = pK().ATHELTICS, m = new Uet(!1); m.spinner.classList.add("familiar-spinner"), l.appendChild(m.spinner), m.setSpinnerList_un5gdn$(p); var $, g = i.hashMapOverrideSelections; if ((e.isType($ = g, y) ? $ : d()).containsKey_11rb$(_)) { var v, S = i.hashMapOverrideSelections; f = (e.isType(v = S, y) ? v : d()).get_11rb$(_), m.spinner.disabled = !0 } else { var C, E = a.getHashMapSelectedFamiliarSkilled(); if ((e.isType(C = E, y) ? C : d()).containsKey_11rb$(_)) { var A, b = a.getHashMapSelectedFamiliarSkilled(); f = (e.isType(A = b, y) ? A : d()).get_11rb$(_) } } m.setSpinnerSelection_s8ev37$(Kt(p, f)), m.spinner.addEventListener("change", Ppt(m, a, _, this)) } } }, kpt.prototype.setFamiliarResistances_0 = function (t, i, a, r) { var n; if (0 !== i.listResistanceChoices.size) { var s = jlt().getDiv(); s.classList.add(B9().CSS_LAYOUT_TABBED_LINE), r.layoutParentAttacks.appendChild(s); var l = jlt().getDiv(); l.innerHTML = "Resistances", l.style.marginBottom = "0.5em", s.appendChild(l); var c = u(); for (c.add_11rb$("Acid"), c.add_11rb$("Cold"), c.add_11rb$("Electricity"), c.add_11rb$("Fire"), c.add_11rb$("Poison"), c.add_11rb$("Sonic"), c.add_11rb$("Negative"), c.add_11rb$("Positive"), c.add_11rb$("Force"), n = i.listResistanceChoices.iterator(); n.hasNext();) { var p = n.next(), h = "Acid", _ = new Uet(!1); _.spinner.classList.add("familiar-spinner"), _.setSpinnerList_un5gdn$(c), s.appendChild(_.spinner); var f, m = i.hashMapOverrideSelections; if ((e.isType(f = m, y) ? f : d()).containsKey_11rb$(p)) { var $, g = i.hashMapOverrideSelections; h = o((e.isType($ = g, y) ? $ : d()).get_11rb$(p)), _.spinner.disabled = !0 } else { var v, S = a.getHashMapSelectedFamiliarResistances(); if ((e.isType(v = S, y) ? v : d()).containsKey_11rb$(p)) { var C, E = a.getHashMapSelectedFamiliarResistances(); h = o((e.isType(C = E, y) ? C : d()).get_11rb$(p)) } } _.setSpinnerSelection_s8ev37$(c.indexOf_11rb$(h)), _.spinner.addEventListener("change", Mpt(_, a, p, this)) } } }, kpt.prototype.setFamiliarProficiencies_0 = function (t, i) { var a, r = this.dataControl.managerPets.getFamiliarSpellCastingAbilityMod_jn8rkh$(this.getCharacterBuild_0(), this.getCharacterBuild_0().getPlayReportAbilityScores_sfkw43$(this.dataControl)); t.textSenses.innerHTML = "<b>Senses</b> " + i.familiarSenses; var o = this.getCharacterBuild_0().getPlayReportAbilityScores_sfkw43$(this.dataControl); this.setShortProfBasedOnMaster_0(o, i, pK().PROFICIENCY_FORTITUDE, 2, t.layoutFortitude), this.setShortProfBasedOnMaster_0(o, i, pK().PROFICIENCY_REFLEX, 1, t.layoutReflex), this.setShortProfBasedOnMaster_0(o, i, pK().PROFICIENCY_WILL, 4, t.layoutWill); var s, l, c = e.isType(a = i.getProficiency_61zpoe$(pK().PROFICIENCY_PERCEPTION), nK) ? a : d(), p = BV().getLevelPlusSpellCastingMod_rwoxnj$(this.dataControl, this.getCharacterBuild_0(), i, c, pK().PROFICIENCY_PERCEPTION, r, !0); t.layoutPerception.divTotal.innerHTML = htt().getSignedValue_za3lpa$(p), t.layoutPerception.imageView.src = "img/icon_prof_expert.png", t.layoutPerception.imageView.style.visibility = "hidden", t.layoutPerception.div.addEventListener("click", (s = this, l = p, function (t) { var i; return (e.isType(i = t.target, HTMLElement) ? i : d()).classList.contains("dice-proficiency") && (s.mainActivity.getNavigationControl().openDiceTray(), s.mainActivity.diceUIControl.setUpD20Roll_bm4lxs$(pK().PROFICIENCY_PERCEPTION, l)), n })) }, kpt.prototype.setShortProfBasedOnMaster_0 = function (t, i, a, r, o) { var s, l, c, p = BV().getProficiencyTotalBasedOnMaster_cub8r7$(this.dataControl, this.getCharacterBuild_0(), i, a, r); o.imageView.src = htt().getImageBasedOnProficiency_za3lpa$(p.trainingLevel), o.textName.innerHTML = a, o.divTotal.innerHTML = htt().getSignedValue_za3lpa$(p.total), htt().setColorBasedOnBuff_xlcra$(p.totalBuff, o.div), o.div.addEventListener("click", (s = this, l = a, c = p, function (t) { var i; return (e.isType(i = t.target, HTMLElement) ? i : d()).classList.contains("dice-proficiency") && (s.mainActivity.getNavigationControl().openDiceTray(), s.mainActivity.diceUIControl.setUpD20Roll_bm4lxs$(l, c.total)), n })) }, kpt.prototype.getCharacterBuild_0 = function () { return this.mainActivity.characterBuild }, kpt.$metadata$ = { kind: p, simpleName: "FragmentPetsFamiliar", interfaces: [] }, Npt.prototype.addDivNotes_0 = function (t) { this.divNotes.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.divNotes.style.flex = "1", this.divNotes.style.display = "flex", this.divNotes.style.flexDirection = "column", t.appendChild(this.divNotes), this.divNotes.appendChild(this.buttonSaveNotes.buttonDiv), this.edittext_0.classList.add("edittext-dark"), this.edittext_0.style.width = "98%", this.edittext_0.style.flex = "1", this.divNotes.appendChild(this.edittext_0) }, Npt.prototype.addArmorHpSections_0 = function (t) { this.divACHP.classList.add(B9().CSS_LAYOUT_TABBED_LINE), this.divACHP.style.display = "flex", t.appendChild(this.divACHP), htt().setHidden_njr4nn$(this.title, !1); var e = jlt().getDiv(); e.classList.add("ac-holder"), this.divACHP.appendChild(e); var i = jlt().getImg(); i.src = "img/icon_ac.png?v=dm-1", i.classList.add("ac-image"), e.appendChild(i); var a = jlt().getDiv(); a.innerHTML = "AC", a.classList.add("ac-label"), e.appendChild(a), this.textAC.classList.add("ac-text"), e.appendChild(this.textAC); var r = jlt().getDiv(); r.style.flex = "1", r.style.marginLeft = "1em", r.style.marginTop = "0.5em", r.style.display = "inline-block", r.style.verticalAlign = "top", this.divACHP.appendChild(r), r.appendChild(this.title), this.divHPControls.style.cursor = "pointer", r.appendChild(this.divHPControls); var n = jlt().getDiv(); n.style.marginTop = "0.5em", r.appendChild(n), this.imageArmorTraining.style.verticalAlign = "middle", this.textArmorName.style.verticalAlign = "middle", n.appendChild(this.imageArmorTraining), this.textArmorName.style.marginLeft = "1em", n.appendChild(this.textArmorName), this.divACHP.appendChild(this.divArmorRunes) }, Npt.prototype.addParentAttacks_0 = function (t) { t.appendChild(this.layoutParentAttacks) }, Npt.prototype.addSavePerception_0 = function (t) { var e = jlt().getDiv(); t.appendChild(e), e.classList.add(B9().CSS_LAYOUT_TABBED_LINE); var i = jlt().getDiv(); i.classList.add(B9().CSS_GRID_CONTAINER), e.appendChild(i), this.layoutFortitude.div.classList.add(B9().CSS_GRID_ITEM), this.layoutFortitude.textName.innerHTML = pK().PROFICIENCY_FORTITUDE, i.appendChild(this.layoutFortitude.div), i.classList.add(B9().CSS_GRID_CONTAINER), e.appendChild(i), this.layoutReflex.div.classList.add(B9().CSS_GRID_ITEM), this.layoutReflex.textName.innerHTML = pK().PROFICIENCY_REFLEX, i.appendChild(this.layoutReflex.div), (i = jlt().getDiv()).classList.add(B9().CSS_GRID_CONTAINER), e.appendChild(i), this.layoutWill.div.classList.add(B9().CSS_GRID_ITEM), this.layoutWill.textName.innerHTML = pK().PROFICIENCY_WILL, i.appendChild(this.layoutWill.div), this.layoutPerception.div.classList.add(B9().CSS_GRID_ITEM), this.layoutPerception.textName.innerHTML = pK().PROFICIENCY_PERCEPTION, i.appendChild(this.layoutPerception.div) }, Npt.prototype.addConditionViews_0 = function (t) { var e = jlt().getDiv(); e.classList.add(B9().CSS_LAYOUT_TABBED_LINE), t.appendChild(e), e.style.minHeight = "10em", e.style.display = "flex", e.style.flex = "1", e.style.flexDirection = "column"; var i = jlt().getDiv(); i.classList.add(B9().CSS_GRID_CONTAINER), e.appendChild(i), this.buttonCondition.buttonDiv.classList.add(B9().CSS_GRID_ITEM), i.appendChild(this.buttonCondition.buttonDiv), this.buttonCustomBuff.buttonDiv.classList.add(B9().CSS_GRID_ITEM), i.appendChild(this.buttonCustomBuff.buttonDiv), e.appendChild(this.layoutParentConditions), this.layoutParentConditions.style.flex = "1" }, Npt.prototype.addDivButtonExtra_0 = function (t) { this.divButtonExtra.classList.add(B9().CSS_LAYOUT_TABBED_LINE), t.appendChild(this.divButtonExtra), this.divButtonExtra.appendChild(this.buttonAdvanced.buttonDiv), this.divButtonExtra.appendChild(this.divParentSpecializations) }, Npt.prototype.addLayoutAbilityScores_0 = function (t) { this.layoutAbilityScores.classList.add(B9().CSS_LAYOUT_TABBED_LINE), htt().setHidden_njr4nn$(this.layoutAbilityScores, !1), t.appendChild(this.layoutAbilityScores) }, Npt.prototype.addSizeSenseSupport_0 = function (t) { var e = jlt().getDiv(); e.classList.add(B9().CSS_LAYOUT_TABBED_LINE), t.appendChild(e), this.textSize.innerHTML = "<b>Size</b> Tiny", e.appendChild(this.textSpeeds), e.appendChild(this.textSenses), e.appendChild(this.textSize), e.appendChild(this.textSpecials), e.appendChild(this.textSupport) }, Npt.prototype.addAdvancedAction_0 = function (t) { this.layoutAdvancedAction.div.classList.add(B9().CSS_LAYOUT_TABBED_LINE), htt().setHidden_njr4nn$(this.layoutAdvancedAction.layoutDetail, !0), this.layoutAdvancedAction.layoutDetail.style.marginLeft = "0.5em", t.appendChild(this.layoutAdvancedAction.div) }, Npt.prototype.addEquipment_0 = function (t) { this.layoutParentEquipment.classList.add(B9().CSS_LAYOUT_TABBED_LINE), t.appendChild(this.layoutParentEquipment) }, Npt.prototype.addParentExtra1_0 = function (t) { this.layoutParentExtra1.classList.add(B9().CSS_LAYOUT_TABBED_LINE), htt().setHidden_njr4nn$(this.layoutParentExtra1, !1), t.appendChild(this.layoutParentExtra1) }, Npt.$metadata$ = { kind: p, simpleName: "LayoutActivePet", interfaces: [] }, Dpt.prototype.setButtonName_mgzrjz$ = function (t, e) { if (this.hashMapModsToButtons.containsKey_11rb$(e)) { var i = this.hashMapModsToButtons.get_11rb$(e), a = t.hashMapPetCharacterBuilds.get_11rb$(XV().PET_REFERENCE_CONSTRUCT); if (null != a) { var r = a.getPetData().getSpecialSelection_puj7f4$(e.ref, "No ref"); null != i && (i.selection.innerHTML = null != r ? r : B9().NOT_SELECTED) } } }, Dpt.$metadata$ = { kind: p, simpleName: "LayoutModsConstruct", interfaces: [] }, Fpt.$metadata$ = { kind: p, simpleName: "LayoutPetAttack", interfaces: [] }, Bpt.prototype.updateHP = function () { var t = this.petCharacterBuild_0.getMaxHP_fhac18$(this.dataControl_0, this.masterCharacterBuild_0), e = t + this.getPetCharacterData_0().getTemporaryHP() | 0; this.setProgress_0(e, t - this.getPetCharacterData_0().getDamageTaken() | 0, this.progressBarHP_0), this.setProgress_0(e, e - this.getPetCharacterData_0().getDamageTaken() | 0, this.progressBarTemp_0); var i = e - this.getPetCharacterData_0().getDamageTaken() | 0; this.hpText_0.innerHTML = "HP " + i + "/" + e }, Bpt.prototype.setProgress_0 = function (t, e, i) { var a = C(S(e / t * 100)); i.style.width = a.toString() + "%" }, Bpt.prototype.getPetCharacterData_0 = function () { return this.petCharacterBuild_0.getPetData() }, Bpt.$metadata$ = { kind: p, simpleName: "PetHealthBar", interfaces: [jst] }; var jpt = t.com || (t.com = {}), Hpt = jpt.redrazors || (jpt.redrazors = {}), qpt = Hpt.pathbuilder2e || (Hpt.pathbuilder2e = {}), Upt = qpt.backend || (qpt.backend = {}); Object.defineProperty(Upt, "Actions", { get: re }), Object.defineProperty(Upt, "BackendConstants", { get: se }), Object.defineProperty(Upt, "BackendUtils", { get: pe }), Object.defineProperty(he, "Companion", { get: _e }); var Gpt = Upt.data || (Upt.data = {}), Wpt = Gpt.ancestries || (Gpt.ancestries = {}); Wpt.AncestryAndroid = he, Object.defineProperty(fe, "Companion", { get: ge }), Wpt.AncestryAutomaton = fe, Object.defineProperty(ve, "Companion", { get: Ee }), Wpt.AncestryAzarketi = ve, Object.defineProperty(Ae, "Companion", { get: we }), Wpt.AncestryCatfolk = Ae, Object.defineProperty(Le, "Companion", { get: Re }), Wpt.AncestryDwarf = Le, Object.defineProperty(Pe, "Companion", { get: De }), Wpt.AncestryElf = Pe, Object.defineProperty(xe, "Companion", { get: Fe }), Wpt.AncestryFetchling = xe, Object.defineProperty(Be, "Companion", { get: Ue }), Wpt.AncestryFleshwarp = Be, Object.defineProperty(Ge, "Companion", { get: Ve }), Wpt.AncestryGnome = Ge, Object.defineProperty(Ke, "Companion", { get: Ze }), Wpt.AncestryGoblin = Ke, Object.defineProperty(Qe, "Companion", { get: ii }), Wpt.AncestryHalfling = Qe, Object.defineProperty(ai, "Companion", { get: oi }), Wpt.AncestryHobgoblin = ai, Object.defineProperty(si, "Companion", { get: pi }), Wpt.AncestryHuman = si, Object.defineProperty(hi, "Companion", { get: _i }), Wpt.AncestryInformation = hi, Object.defineProperty(fi, "Companion", { get: $i }), Wpt.AncestryKitsune = fi, Object.defineProperty(gi, "Companion", { get: Ci }), Wpt.AncestryKobold = gi, Object.defineProperty(Ei, "Companion", { get: Ii }), Wpt.AncestryLeshy = Ei, Object.defineProperty(wi, "Companion", { get: ki }), Wpt.AncestryLizardfolk = wi, Object.defineProperty(Ri, "Companion", { get: Ni }), Wpt.AncestryOrc = Ri, Object.defineProperty(Di, "Companion", { get: Oi }), Wpt.AncestryPoppet = Di, Object.defineProperty(Fi, "Companion", { get: Hi }), Wpt.AncestryRatfolk = Fi, Object.defineProperty(qi, "Companion", { get: Wi }), Wpt.AncestryShoony = qi, Object.defineProperty(Yi, "Companion", { get: Xi }), Wpt.AncestrySprite = Yi, Object.defineProperty(Ji, "Companion", { get: ta }), Wpt.AncestryStrix = Ji, Wpt.AncestryTemplate = ea, Object.defineProperty(ia, "Companion", { get: na }), Wpt.AncestryTengu = ia, Object.defineProperty(oa, "Companion", { get: ca }); var Ypt = Wpt.mwangi || (Wpt.mwangi = {}); Ypt.AncestryAnadi = oa, Object.defineProperty(pa, "Companion", { get: ua }), Ypt.AncestryConrasu = pa, Object.defineProperty(_a, "Companion", { get: ma }), Ypt.AncestryGnoll = _a, Object.defineProperty($a, "Companion", { get: Sa }), Ypt.AncestryGoloma = $a, Object.defineProperty(Ca, "Companion", { get: ba }), Ypt.AncestryGrippli = Ca, Object.defineProperty(Ia, "Companion", { get: Ta }), Ypt.AncestryShisk = Ia, Object.defineProperty(ka, "Companion", { get: Ma }), Gpt.BuildFixes = ka, Gpt.CharacterBuild = Na, Object.defineProperty(Da, "Companion", { get: Oa }), Object.defineProperty(Da, "$serializer", { get: ja }), Gpt.CharacterData_init_q8zkkr$ = Ha, Gpt.CharacterData = Da, Object.defineProperty(qa, "Companion", { get: Wa }), Gpt.CharacterFlag = qa, Object.defineProperty(Ya, "Companion", { get: Xa }), Gpt.CharacterSnapshot = Ya, Object.defineProperty(Ja, "Companion", { get: er }); var Vpt = Gpt.classes || (Gpt.classes = {}); Vpt.ClassAlchemist = Ja, Object.defineProperty(ir, "Companion", { get: or }), Vpt.ClassBarbarian = ir, Object.defineProperty(sr, "Companion", { get: hr }), Vpt.ClassBard = sr, Object.defineProperty(dr, "Companion", { get: yr }), Vpt.ClassChampion = dr, Object.defineProperty(mr, "Companion", { get: Sr }), Vpt.ClassCleric = mr, Object.defineProperty(Cr, "Companion", { get: Ir }), Vpt.ClassDruid = Cr, Object.defineProperty(wr, "Companion", { get: Rr }), Vpt.ClassFighter = wr, Object.defineProperty(Pr, "Companion", { get: xr }), Vpt.ClassGunslinger = Pr, Object.defineProperty(zr, "Companion", { get: jr }), Vpt.ClassInventor = zr, Object.defineProperty(Hr, "Companion", { get: Wr }), Vpt.ClassInvestigator = Hr, Object.defineProperty(Yr, "Companion", { get: Jr }), Vpt.ClassMagus = Yr, Object.defineProperty(Zr, "Companion", { get: an }), Vpt.ClassMonk = Zr, Object.defineProperty(rn, "Companion", { get: ln }), Vpt.ClassOracle = rn, Object.defineProperty(cn, "Companion", { get: un }), Vpt.ClassRanger = cn, Object.defineProperty(_n, "Companion", { get: $n }), Vpt.ClassRogue = _n, Object.defineProperty(gn, "Companion", { get: En }), Vpt.ClassSorcerer = gn, Object.defineProperty(An, "Companion", { get: Ln }), Vpt.ClassSummoner = An, Object.defineProperty(Tn, "Companion", { get: Mn }), Vpt.ClassSwashbuckler = Tn, Nn.ClassDirectCalls = Dn, Vpt.ClassTemplate = Nn, Object.defineProperty(xn, "Companion", { get: Bn }), Vpt.ClassWitch = xn, Object.defineProperty(jn, "Companion", { get: Gn }), Vpt.ClassWizard = jn, Object.defineProperty(Wn, "Companion", { get: Kn }), Vpt.DualClass = Wn, Gpt.CopyrightInformation = Xn, Object.defineProperty(Jn, "Companion", { get: to }), Object.defineProperty(Jn, "$serializer", { get: ao }); var Kpt = Gpt.custom || (Gpt.custom = {}); Kpt.CustomBuff_init_qfc8nh$ = ro, Kpt.CustomBuff_init_61zpoe$ = no, Kpt.CustomBuff_init_uarzb3$ = oo, Kpt.CustomBuff = Jn, Kpt.CustomBuffSet = lo, Object.defineProperty(po, "Companion", { get: _o }), Object.defineProperty(po, "$serializer", { get: mo }), Kpt.CustomEffect_init_g0mmsf$ = $o, Kpt.CustomEffect_init = go, Kpt.CustomEffect_init_664z0f$ = vo, Kpt.CustomEffect = po, Gpt.DataControl = So; var Xpt = Gpt.dice || (Gpt.dice = {}); Xpt.AttackDice = Co, Xpt.Dice_init = Ao, Xpt.Dice_init_vux9f0$ = bo, Xpt.Dice = Eo, Xpt.SpellDice_init_61zpoe$ = wo, Xpt.SpellDice = Io, Gpt.FeatsOnTheFlyGenerator = Lo; var Jpt = Gpt.fixes || (Gpt.fixes = {}); Object.defineProperty(Jpt, "FixBackgroundSkills", { get: Ro }), Gpt.GUIUpdateControlInterface = Po, Gpt.LoaderSetInterface = Mo; var Zpt = Gpt.managers || (Gpt.managers = {}); Zpt.ManagerAncestry = No, Object.defineProperty(Do, "Companion", { get: Oo }), Zpt.ManagerArmor = Do; var Qpt = Zpt.managerarmor || (Zpt.managerarmor = {}); Qpt.ArmorEffect = Fo, Qpt.ArmorEffectMethods = Bo, Object.defineProperty(Qo, "Companion", { get: is }), Object.defineProperty(Qo, "$serializer", { get: ns }), Qpt.ArmorInformation_init_23azps$ = os, Qpt.ArmorInformation_init_61zpoe$ = ss, Qpt.ArmorInformation_init_ydnd0f$ = ls, Qpt.ArmorInformation = Qo, Object.defineProperty(cs, "Companion", { get: ds }), Object.defineProperty(cs, "$serializer", { get: fs }), Qpt.PlayerArmor_init_dklqz$ = ys, Qpt.PlayerArmor = cs, Object.defineProperty(ms, "Companion", { get: vs }), Object.defineProperty(ms, "$serializer", { get: Es }), Qpt.PlayerShield_init_s66j6y$ = As, Qpt.PlayerShield = ms, bs.BackgroundEffect = Is; var tht = Zpt.managerbackground || (Zpt.managerbackground = {}); tht.BackgroundEffectMethods = bs, Object.defineProperty(Ks, "Companion", { get: Zs }), Object.defineProperty(Ks, "$serializer", { get: el }), tht.BackgroundInformation_init_bnh21v$ = il, tht.BackgroundInformation = Ks, Object.defineProperty(al, "Companion", { get: ol }), tht.BackgroundSet = al, Object.defineProperty(sl, "Companion", { get: pl }), Zpt.ManagerBackgrounds = sl, Object.defineProperty(hl, "Companion", { get: _l }), Zpt.ManagerClasses = hl; var eht = Zpt.managerclasses || (Zpt.managerclasses = {}); Object.defineProperty(eht, "ABPHelper", { get: El }), eht.AttackDamageBuff_init_sxv2qc$ = bl, eht.AttackDamageBuff_init_bboz2s$ = Il, eht.AttackDamageBuff = Al, Object.defineProperty(wl, "Companion", { get: kl }), eht.ClassInformation = wl, eht.ClassInformationSet = Rl, Object.defineProperty(eht, "ClassTemplateFactory", { get: Nl }), eht.ConditionEffect = Dl, eht.ConditionEffects = xl, Object.defineProperty(Ql, "Companion", { get: ic }), eht.ConditionInformation = Ql, eht.ConditionInformationSet = ac, Object.defineProperty(rc, "Companion", { get: sc }), eht.EncounterAction_init_avjzi7$ = lc, eht.EncounterAction_init_8xiovz$ = cc, eht.EncounterAction_init_2u2dg3$ = pc, eht.EncounterAction = rc, Object.defineProperty(hc, "Companion", { get: _c }), eht.InventorModification = hc, Object.defineProperty(fc, "Companion", { get: $c }), Object.defineProperty(fc, "$serializer", { get: Sc }), eht.OptionalFlaw_init_ei4ty7$ = Cc, eht.OptionalFlaw = fc, Object.defineProperty(Ec, "Companion", { get: Ic }), Zpt.ManagerCopyright = Ec, Object.defineProperty(wc, "Companion", { get: kc }), Zpt.ManagerEquipment = wc, Object.defineProperty(Rc, "Companion", { get: Nc }); var iht = Zpt.managerequipment || (Zpt.managerequipment = {}); iht.BulkReport = Rc, Object.defineProperty(Dc, "Companion", { get: Oc }), Object.defineProperty(Dc, "$serializer", { get: jc }), iht.EquipmentContainer_init_fztf7k$ = Hc, iht.EquipmentContainer = Dc, iht.EquipmentEffect = qc, iht.EquipmentEffectMethods = Uc, Object.defineProperty(Wp, "Companion", { get: Kp }), Object.defineProperty(Wp, "$serializer", { get: Zp }), iht.EquipmentInformation_init_vsgh2z$ = Qp, iht.EquipmentInformation_init_bm4lxs$ = th, iht.EquipmentInformation_init_61zpoe$ = eh, iht.EquipmentInformation_init_whuh8d$ = ih, iht.EquipmentInformation = Wp, Object.defineProperty(ah, "Companion", { get: oh }), iht.EquipmentMaterial = ah, iht.ExtraTraitsAtLevel = sh, lh.InventorArmorEffect = ch, lh.InventorWeaponEffect = ph, lh.InventorConstructEffect = hh, iht.InventorModificationEffectMethods = lh, iht.InventorModificationRequirementEffects = cd, Object.defineProperty(Vd, "Companion", { get: Jd }), Object.defineProperty(Vd, "$serializer", { get: tu }), iht.PlayerEquipment_init_bznto1$ = eu, iht.PlayerEquipment = Vd, Object.defineProperty(iu, "Companion", { get: nu }), iht.PlayerItem_init_lx1i75$ = ou, iht.PlayerItem = iu, iht.RuneEffect = su, Object.defineProperty(lu, "Companion", { get: hu }), Object.defineProperty(lu, "$serializer", { get: _u }), iht.ShieldInformation_init_tvdqia$ = fu, iht.ShieldInformation_init_61zpoe$ = yu, iht.ShieldInformation_init_ieyh5u$ = mu, iht.ShieldInformation = lu, Object.defineProperty($u, "Companion", { get: Su }), Zpt.ManagerFeats = $u; var aht = Zpt.managerfeats || (Zpt.managerfeats = {}); Object.defineProperty(aht, "ArchetypeFeatLogic", { get: Au }), bu.prototype.DupedFeat = Iu, Object.defineProperty(aht, "DupedFeats", { get: Lu }), aht.EffectiveFeat = Tu, aht.FeatChoice_init = Ru, aht.FeatChoice_init_o4qqg3$ = Pu, aht.FeatChoice_init_9d67ql$ = Mu, aht.FeatChoice_init_xf6674$ = Nu, aht.FeatChoice = ku, Object.defineProperty(Du, "Companion", { get: Ou }), Object.defineProperty(Du, "$serializer", { get: ju }), aht.FeatChoiceSavable_init_iuq4nc$ = Hu, aht.FeatChoiceSavable_init = qu, aht.FeatChoiceSavable_init_bm4lxs$ = Uu, aht.FeatChoiceSavable = Du, aht.FeatEffect = Gu, aht.FeatEffectMethods = Wu; var rht = aht.feateffects || (aht.feateffects = {}); Object.defineProperty(rht, "FeatEffectMethodsGeneral", { get: E_ }); var nht = rht.feateffectsancestry || (rht.feateffectsancestry = {}); Object.defineProperty(nht, "FeatEffecsMethodsAasimar", { get: V_ }), Object.defineProperty(nht, "FeatEffecsMethodsAncestryGeneral", { get: Q_ }), Object.defineProperty(nht, "FeatEffectMethodsAndroid", { get: pf }), Object.defineProperty(nht, "FeatEffectMethodsAutomaton", { get: Of }), Object.defineProperty(nht, "FeatEffectMethodsAzarketi", { get: ey }), Object.defineProperty(nht, "FeatEffecsMethodsBeastkin", { get: py }), Object.defineProperty(nht, "FeatEffecsMethodsCatfolk", { get: gy }), Object.defineProperty(nht, "FeatEffecsMethodsChangeling", { get: Ty }), Object.defineProperty(nht, "FeatEffecsMethodsDhampir", { get: jy }), Object.defineProperty(nht, "FeatEffecsMethodsDuskwalker", { get: em }), Object.defineProperty(nht, "FeatEffecsMethodsDwarf", { get: Cm }), Object.defineProperty(nht, "FeatEffecsMethodsElf", { get: Um }), Object.defineProperty(nht, "FeatEffectMethodsFetchling", { get: a$ }), Object.defineProperty(nht, "FeatEffectMethodsFleshwarp", { get: _$ }), Object.defineProperty(nht, "FeatEffecsMethodsGnome", { get: x$ }), Object.defineProperty(nht, "FeatEffecsMethodsGoblin", { get: Z$ }), Object.defineProperty(nht, "FeatEffecsMethodsHalfling", { get: dg }), Object.defineProperty(nht, "FeatEffecsMethodsHobgoblin", { get: Ag }), Object.defineProperty(nht, "FeatEffecsMethodsHuman", { get: fv }), Object.defineProperty(nht, "FeatEffectMethodsKitsune", { get: Lv }), Object.defineProperty(nht, "FeatEffecsMethodsKobold", { get: Uv }), Object.defineProperty(nht, "FeatEffecsMethodsLeshy", { get: nS }), Object.defineProperty(nht, "FeatEffecsMethodsLizardfolk", { get: vS }), Object.defineProperty(nht, "FeatEffecsMethodsOrc", { get: NS }), Object.defineProperty(nht, "FeatEffectMethodsPoppet", { get: KS }), Object.defineProperty(nht, "FeatEffecsMethodsRatfolk", { get: pC }), Object.defineProperty(nht, "FeatEffecsMethodsShoony", { get: fC }), Object.defineProperty(nht, "FeatEffectMethodsSprite", { get: bC }), Object.defineProperty(nht, "FeatEffectMethodsStrix", { get: xC }), Object.defineProperty(nht, "FeatEffecsMethodsTengu", { get: iE }), Object.defineProperty(nht, "FeatEffecsMethodsTiefling", { get: wE }), Object.defineProperty(nht, "FeatEffecsMethodsVersatile", { get: qE }), Object.defineProperty(nht, "FeatEffecsMethodsVersatileLostOmens", { get: QA }); var oht = nht.mwangi || (nht.mwangi = {}); Object.defineProperty(oht, "FeatEffectMethodsAnadi", { get: hb }), Object.defineProperty(oht, "FeatEffectMethodsConrasu", { get: Cb }), Object.defineProperty(oht, "FeatEffectMethodsGnoll", { get: Bb }), Object.defineProperty(oht, "FeatEffectMethodsGoloma", { get: Xb }), Object.defineProperty(oht, "FeatEffectMethodsGrippli", { get: rI }), Object.defineProperty(oht, "FeatEffectMethodsShisk", { get: $I }); var sht = rht.feateffectsarchetype || (rht.feateffectsarchetype = {}), lht = sht.aps || (sht.aps = {}); Object.defineProperty(lht, "FeatEffectsAP175to", { get: AI }); var cht = sht.classarchetype || (sht.classarchetype = {}); Object.defineProperty(cht, "FeatEffectsClassArchetypeElementalist", { get: kI }), Object.defineProperty(cht, "FeatEffectsClassArchetypeFlexibleSpellcaster", { get: DI }), Object.defineProperty(cht, "FeatEffectsClassArchetypeRunelord", { get: FI }), Object.defineProperty(cht, "FeatEffectsClassArchetypeSpellshot", { get: qI }), Object.defineProperty(sht, "FeatEffectsAPGAtoB", { get: yw }), Object.defineProperty(sht, "FeatEffectsAPGCtoD", { get: Fw }), Object.defineProperty(sht, "FeatEffectsAPGEtoF", { get: Qw }), Object.defineProperty(sht, "FeatEffectsAPGGtoH", { get: lL }), Object.defineProperty(sht, "FeatEffectsAPGItoL", { get: EL }), Object.defineProperty(sht, "FeatEffectsAPGMtoN", { get: PL }), Object.defineProperty(sht, "FeatEffectsAPGPtoR", { get: FL }), Object.defineProperty(sht, "FeatEffectsAPGStoT", { get: oT }), Object.defineProperty(sht, "FeatEffectsAPGUtoZ", { get: yT }), Object.defineProperty(sht, "FeatEffectsArchetypeAlchemist", { get: bT }), Object.defineProperty(sht, "FeatEffectsArchetypeAnimalTrainer", { get: NT }), Object.defineProperty(sht, "FeatEffectsArchetypeBarbarian", { get: GT }), Object.defineProperty(sht, "FeatEffectsArchetypeBard", { get: ak }), Object.defineProperty(sht, "FeatEffectsArchetypeBattlezooBestiary", { get: fk }), Object.defineProperty(sht, "FeatEffectsArchetypeButterflyBlade", { get: Sk }), Object.defineProperty(sht, "FeatEffectsArchetypeChampion", { get: Pk }), Object.defineProperty(sht, "FeatEffectsArchetypeCleric", { get: Hk }), Object.defineProperty(sht, "FeatEffectsArchetypeCrimsonAssassin", { get: Jk }), Object.defineProperty(sht, "FeatEffectsArchetypeCrystalKeeper", { get: iR }), Object.defineProperty(sht, "FeatEffectsArchetypeDruid", { get: _R }), Object.defineProperty(sht, "FeatEffectsArchetypeEldritchResearcher", { get: bR }), Object.defineProperty(sht, "FeatEffectsArchetypeFighter", { get: DR }), Object.defineProperty(sht, "FeatEffectsArchetypeGunslinger", { get: XR }), Object.defineProperty(sht, "FeatEffectsArchetypeHalcyonSpeaker", { get: dP }), Object.defineProperty(sht, "FeatEffectsArchetypeHeavenseeker", { get: gP }), Object.defineProperty(sht, "FeatEffectsArchetypeHellknight", { get: DP }), Object.defineProperty(sht, "FeatEffectsArchetypeInventor", { get: YP }), Object.defineProperty(sht, "FeatEffectsArchetypeMagicWarrior", { get: tM }), Object.defineProperty(sht, "FeatEffectsArchetypeMiscArchetypes", { get: _N }), Object.defineProperty(sht, "FeatEffectsArchetypeMonk", { get: bN }), Object.defineProperty(sht, "FeatEffectsArchetypeOracle", { get: zN }), Object.defineProperty(sht, "FeatEffectsArchetypeRanger", { get: UN }), Object.defineProperty(sht, "FeatEffectsArchetypeRogue", { get: tD }), Object.defineProperty(sht, "FeatEffectsArchetypeRunescarred", { get: oD }), Object.defineProperty(sht, "FeatEffectsArchetypeSorcerer", { get: gD }), Object.defineProperty(sht, "FeatEffectsArchetypeStudentPerfection", { get: wD }), Object.defineProperty(sht, "FeatEffectsArchetypeSwashbuckler", { get: zD }), Object.defineProperty(sht, "FeatEffectsArchetypeWitch", { get: VD }), Object.defineProperty(sht, "FeatEffectsArchetypeWizard", { get: ox }); var pht = sht.gng || (sht.gng = {}); Object.defineProperty(pht, "FeatEffectsArchetypeBeastGunner", { get: _x }), Object.defineProperty(pht, "FeatEffectsGNGMisc", { get: Mx }); var hht = sht.grandbazaar || (sht.grandbazaar = {}); Object.defineProperty(hht, "FeatEffectsGrandBazaarMisc", { get: qx }); var dht = sht.som || (sht.som = {}); Object.defineProperty(dht, "FeatEffectsArchetypeCatharticMage", { get: Zx }), Object.defineProperty(dht, "FeatEffectsArchetypeElementalist", { get: nz }), Object.defineProperty(dht, "FeatEffectsArchetypeFlexibleSpellcaster", { get: pz }), Object.defineProperty(dht, "FeatEffectsArchetypeMagus", { get: Cz }), Object.defineProperty(dht, "FeatEffectsArchetypeRunelord", { get: Iz }), Object.defineProperty(dht, "FeatEffectsArchetypeSOM", { get: Uz }), Object.defineProperty(dht, "FeatEffectsArchetypeSummoner", { get: aO }); var uht = rht.feateffectsclass || (rht.feateffectsclass = {}); Object.defineProperty(uht, "FeatEffecsMethodsBarbarian", { get: cO }), Object.defineProperty(uht, "FeatEffecsMethodsBard", { get: FO }), Object.defineProperty(uht, "FeatEffecsMethodsMonk", { get: lF }), Object.defineProperty(uht, "FeatEffectMethodsAlchemist", { get: mF }), Object.defineProperty(uht, "FeatEffectMethodsChampion", { get: jF }), Object.defineProperty(uht, "FeatEffectsMethodsCleric", { get: QF }), Object.defineProperty(uht, "FeatEffectsMethodsDruid", { get: zB }), Object.defineProperty(uht, "FeatEffectsMethodsFighter", { get: HB }), Object.defineProperty(uht, "FeatEffectsMethodsGunslinger", { get: XB }), Object.defineProperty(uht, "FeatEffectsMethodsInventor", { get: sj }), Object.defineProperty(uht, "FeatEffectsMethodsInvestigator", { get: dj }), Object.defineProperty(uht, "FeatEffectsMethodsMagus", { get: Cj }), Object.defineProperty(uht, "FeatEffectsMethodsOracle", { get: Dj }), Object.defineProperty(uht, "FeatEffectsMethodsRanger", { get: iH }), Object.defineProperty(uht, "FeatEffectsMethodsRogue", { get: cH }), Object.defineProperty(uht, "FeatEffectsMethodsSorcerer", { get: AH }), Object.defineProperty(uht, "FeatEffectsMethodsSummoner", { get: UH }), Object.defineProperty(uht, "FeatEffectsMethodsWitch", { get: nq }), Object.defineProperty(uht, "FeatEffectsMethodsWizard", { get: mq }), Object.defineProperty($q, "Companion", { get: Sq }), aht.FeatInformation_init_61zpoe$ = Cq, aht.FeatInformation_init_23bf0z$ = Eq, aht.FeatInformation_init_z3kxuw$ = Aq, aht.FeatInformation = $q, Object.defineProperty(bq, "Companion", { get: Lq }), aht.FeatPrereq = bq, aht.FeatRequirement = Tq, Object.defineProperty(kq, "Companion", { get: Mq }), aht.FeatRequirementMethods = kq, Object.defineProperty(AW, "Companion", { get: wW }), Object.defineProperty(AW, "$serializer", { get: kW }), aht.FreeFeat_init_7vc2qp$ = RW, aht.FreeFeat = AW; var _ht = Zpt.managermisc || (Zpt.managermisc = {}); _ht.AncestryWeaponExpertiseItem = PW, _ht.EffectiveValue = MW, _ht.GeneralIncreaseItem_init_vux9f0$ = DW, _ht.GeneralIncreaseItem_init_98i29q$ = xW, _ht.GeneralIncreaseItem_init_ydzd23$ = zW, _ht.GeneralIncreaseItem = NW, _ht.ItemIncreaseItem = OW, _ht.SpeedIncreaseItem_init_vux9f0$ = BW, _ht.SpeedIncreaseItem_init_qt1dr2$ = jW, _ht.SpeedIncreaseItem_init_nps3vt$ = HW, _ht.SpeedIncreaseItem_init_j45w6h$ = qW, _ht.SpeedIncreaseItem_init_tjonv8$ = UW, _ht.SpeedIncreaseItem = FW, Object.defineProperty(WW, "Companion", { get: ZW }), Zpt.ManagerPets = WW; var fht = Zpt.managerpets || (Zpt.managerpets = {}), yht = fht.animal || (fht.animal = {}); yht.BaseSpeed = QW, yht.SpeedsPets = tY, fht.AnimalAdvancement = eY, fht.AnimalAttack = iY, Object.defineProperty(aY, "Companion", { get: oY }), fht.AnimalCompanionInformation = aY, sY.AnimalSpecializationEffect = lY, Object.defineProperty(sY, "Companion", { get: hY }), fht.AnimalEffects = sY, Object.defineProperty(wY, "Companion", { get: kY }), fht.AnimalSpecialization = wY, Object.defineProperty(RY, "Companion", { get: NY }); var mht = fht.construct || (fht.construct = {}); mht.ConstructEffects = RY, Object.defineProperty(mht, "ReportConstructMisc", { get: zY }), mht.SpeedsConstruct = OY, Object.defineProperty(FY, "Companion", { get: HY }), Object.defineProperty(FY, "$serializer", { get: GY }); var $ht = fht.eidolons || (fht.eidolons = {}); $ht.EidolonAttack_init_ecl6o5$ = WY, $ht.EidolonAttack = FY, $ht.EidolonInformation = YY, $ht.SpeedsEidolons = VY, Object.defineProperty(KY, "Companion", { get: ZY }), fht.FamiliarAbility = KY, QY.FamiliarAbilityEffect = PV, QY.FamiliarAbilityRequirement = MV, Object.defineProperty(QY, "Companion", { get: xV }), fht.FamiliarAbilityEffects = QY, zV.prototype.FamiliarMasterBasedProf = OV, Object.defineProperty(fht, "FamiliarMiscMethods", { get: BV }), jV.GrantedAbility = HV, fht.FamiliarSpecific = jV, Object.defineProperty(qV, "Companion", { get: WV }), fht.PetCharacterBuild = qV, Object.defineProperty(YV, "Companion", { get: XV }), Object.defineProperty(YV, "$serializer", { get: QV }), fht.PetData_init_r6g4pb$ = tK, fht.PetData = YV, Zpt.ManagerProficiencies = eK; var ght = Zpt.managerproficiency || (Zpt.managerproficiency = {}); ght.BuffSet_init = aK, ght.BuffSet_init_dkaeh5$ = rK, ght.BuffSet = iK, nK.ProficiencyLevelSet = oK, nK.ProficiencyBonus = sK, Object.defineProperty(nK, "Companion", { get: pK }), ght.Proficiency = nK, Object.defineProperty(hK, "Companion", { get: _K }), ght.SaveProficiency = hK, Object.defineProperty(fK, "Companion", { get: $K }), ght.SkillAction = fK, ght.SkillActionSet = gK, Object.defineProperty(SK, "Companion", { get: IK }), ght.SkillProficiency_init_fzusl$ = wK, ght.SkillProficiency_init_jc5y2x$ = LK, ght.SkillProficiency = SK, Object.defineProperty(TK, "Companion", { get: PK }), ght.TrainedOnlySkillChoice_init_et2db5$ = MK, ght.TrainedOnlySkillChoice_init_xj3y8g$ = NK, ght.TrainedOnlySkillChoice_init_fpy5kl$ = DK, ght.TrainedOnlySkillChoice = TK, ght.WeaponGroupProficiency = xK, Object.defineProperty(zK, "Companion", { get: BK }), Zpt.ManagerSpecials = zK, Object.defineProperty(jK, "Companion", { get: UK }); var vht = Zpt.managerspecials || (Zpt.managerspecials = {}), Sht = vht.alchemistResearch || (vht.alchemistResearch = {}); Sht.ResearchField = jK, Sht.ResearchFieldSet = GK, Object.defineProperty(vht, "ArcanePowers", { get: VK }), Object.defineProperty(KK, "Companion", { get: ZK }); var Cht = vht.bloodlines || (vht.bloodlines = {}); Cht.Bloodline = KK, Cht.BloodlineSet = QK, vht.DomainPowers = tX, Object.defineProperty(eX, "Companion", { get: rX }); var Eht = vht.domains || (vht.domains = {}); Eht.Domain = eX, Eht.DomainSet = nX, Object.defineProperty(oX, "Companion", { get: cX }); var Aht = vht.hellknightorders || (vht.hellknightorders = {}); Aht.HellknightOrder = oX, Aht.HellknightOrderSet = pX, Object.defineProperty(vht, "HybridStudyMaps", { get: _X }), Object.defineProperty(fX, "Companion", { get: $X }), vht.LanguageInformation = fX, Object.defineProperty(vht, "MysteryMaps", { get: SX }), Object.defineProperty(vht, "PatronMaps", { get: AX }), vht.PrecisionDamage = bX, Object.defineProperty(IX, "Companion", { get: TX }), vht.Resistance_init_jl0c9m$ = kX, vht.Resistance_init_cqw3wz$ = RX, vht.Resistance_init_5pf6cb$ = PX, vht.Resistance = IX, Object.defineProperty(vht, "RunelordMaps", { get: DX }), vht.SpecialEffect = xX, zX.OnTheFlyHashMapGenerator = OX, Object.defineProperty(zX, "Companion", { get: jX }), vht.SpecialInformation_init = HX, vht.SpecialInformation_init_9d67ql$ = qX, vht.SpecialInformation_init_caszyb$ = UX, vht.SpecialInformation = zX, Object.defineProperty(GX, "Companion", { get: eJ }), vht.SpecialRequirementMethods = GX, Object.defineProperty(vht, "SpecialsAlchemist", { get: oJ }), Object.defineProperty(vht, "SpecialsBarbarian", { get: uJ }), Object.defineProperty(vht, "SpecialsBard", { get: SJ }), Object.defineProperty(vht, "SpecialsChampion", { get: RJ }), Object.defineProperty(vht, "SpecialsCleric", { get: FJ }), Object.defineProperty(vht, "SpecialsDruid", { get: XJ }), Object.defineProperty(vht, "SpecialsFighter", { get: iZ }), Object.defineProperty(vht, "SpecialsGunslinger", { get: pZ }), Object.defineProperty(vht, "SpecialsInventor", { get: yZ }), Object.defineProperty(vht, "SpecialsInvestigator", { get: bZ }), Object.defineProperty(vht, "SpecialSkillMaps", { get: LZ }), Object.defineProperty(vht, "SpecialsMagus", { get: zZ }), Object.defineProperty(vht, "SpecialsMonk", { get: qZ }), Object.defineProperty(vht, "SpecialsOracle", { get: oQ }), Object.defineProperty(vht, "SpecialsRanger", { get: pQ }), Object.defineProperty(vht, "SpecialsRogue", { get: gQ }), Object.defineProperty(vht, "SpecialsSorcerer", { get: bQ }), Object.defineProperty(vht, "SpecialsSummoner", { get: xQ }), Object.defineProperty(vht, "SpecialsSwashbuckler", { get: WQ }), Object.defineProperty(vht, "SpecialsWitch", { get: y0 }), Object.defineProperty(vht, "SpecialsWizard", { get: A0 }), Object.defineProperty(b0, "Companion", { get: k0 }), Zpt.ManagerSpells = b0; var bht = Zpt.managerspells || (Zpt.managerspells = {}); bht.AwardedPower_init_3m52m6$ = P0, bht.AwardedPower_init_yib5kn$ = M0, bht.AwardedPower = R0, Object.defineProperty(N0, "Companion", { get: z0 }), Object.defineProperty(N0, "$serializer", { get: B0 }), bht.BlendedSpell_init_naw3kw$ = j0, bht.BlendedSpell = N0, Object.defineProperty(H0, "Companion", { get: G0 }), bht.SpellInformation = H0, Zpt.ManagerTemplate = W0, Object.defineProperty(Y0, "Companion", { get: X0 }), Zpt.ManagerWeapons = Y0; var Iht = Zpt.managerweapons || (Zpt.managerweapons = {}); Iht.ChangedWeaponProficiency = J0, Iht.DamageIncreaseItem_init_d11t1x$ = Q0, Iht.DamageIncreaseItem_init_3177mc$ = t1, Iht.DamageIncreaseItem_init_vid5pf$ = e1, Iht.DamageIncreaseItem = Z0, Object.defineProperty(i1, "Companion", { get: n1 }), Object.defineProperty(i1, "$serializer", { get: l1 }), Iht.PlayerWeapon_init_2ny6kc$ = c1, Iht.PlayerWeapon = i1, Iht.TraitWeapon = p1, Object.defineProperty(h1, "Companion", { get: _1 }), Object.defineProperty(h1, "$serializer", { get: m1 }), Iht.WeaponInformation_init_dgucsa$ = $1, Iht.WeaponInformation_init_61zpoe$ = g1, Iht.WeaponInformation_init_sm1ve4$ = v1, Iht.WeaponInformation = h1, Iht.WeaponRuneEffect = S1, Iht.WeaponRuneEffectMethods = C1, Object.defineProperty(Gpt, "ReportActions", { get: U1 }); var wht = Gpt.reports || (Gpt.reports = {}); wht.ReportAbilityScores = G1, wht.ReportAbilityScoresPets = W1, wht.ReportAllFeatsAndSpecials = Y1, Object.defineProperty(wht, "ReportEidolonMisc", { get: X1 }), wht.ReportEquipment = J1, wht.ReportTemplate = Z1, Object.defineProperty(Q1, "Companion", { get: i3 }); var Lht = Gpt.spellcasting || (Gpt.spellcasting = {}); Lht.AlchemicalCaster = Q1, Object.defineProperty(a3, "Companion", { get: o3 }), Lht.ArchetypeCaster = a3, Object.defineProperty(s3, "Companion", { get: p3 }), Lht.ArchetypeCasterCatharticMage = s3, Object.defineProperty(h3, "Companion", { get: _3 }), Lht.ArchetypeCasterEldritchArcher = h3, Object.defineProperty(f3, "Companion", { get: $3 }), Lht.ArchetypeCasterHalcyonSpeaker = f3, Lht.ArchetypeCasterWitch = g3, Lht.BonusSpellSlot_init_za3lpa$ = S3, Lht.BonusSpellSlot_init_103y6$ = C3, Lht.BonusSpellSlot_init_zay7ej$ = E3, Lht.BonusSpellSlot = v3, Object.defineProperty(A3, "Companion", { get: w3 }), Lht.BoundedArchetypeCaster = A3, Lht.BoundedArchetypeCasterSummoner = L3, Lht.CasterBard = T3, k3.BlasphemousDecreeSpell = R3, Object.defineProperty(k3, "Companion", { get: N3 }), Lht.CasterBlaspemousDecree = k3, Lht.CasterCaptivator = D3, Lht.CasterCleric = x3, Object.defineProperty(z3, "Companion", { get: j3 }), Lht.CasterClericFont = z3, Lht.CasterCrimsonAssassin = H3, q3.DragonPrinceSpell = U3, Object.defineProperty(q3, "Companion", { get: Y3 }), Lht.CasterDragonPrince = q3, V3.DragonShapeSpell = K3, Lht.CasterDragonShape = V3, Lht.CasterDruid = X3, J3.AlteredSpell = Z3, Lht.CasterFeyDisguise = J3, Object.defineProperty(Q3, "Companion", { get: i2 }), Lht.CasterGhostHunter = Q3, Lht.CasterMagus = a2, Lht.CasterOracle = r2, Lht.CasterOtherSpells = n2, Lht.CasterRunescarred = o2, s2.AlteredSpell = l2, Lht.CasterShadowAssault = s2, Lht.CasterSorcerer = c2, Lht.CasterSummoner = p2, Lht.CasterWitch = h2, Lht.CasterWizard = d2, Object.defineProperty(u2, "Companion", { get: y2 }), Lht.EidolonCaster = u2, Lht.FirstWorldAdept = m2, Lht.InnateCaster = $2, Lht.LimitedSpellListCaster = g2, Lht.MinorMagic = v2, Object.defineProperty(S2, "Companion", { get: A2 }), Object.defineProperty(S2, "$serializer", { get: w2 }), Lht.PlayerSpell_init_vbg14u$ = L2, Lht.PlayerSpell = S2, Lht.SetSpellsArchetypeCaster = T2, Lht.SetSpellsMagicCaster = k2, Lht.SingleCantripMagic = R2, Lht.SingleLevelOneMagic = P2, Object.defineProperty(M2, "Companion", { get: z2 }), M2.ExtraSpellPerDay = O2, Lht.SpellCaster_init_ope5t1$ = F2, Lht.SpellCaster_init_lyo03b$ = B2, Lht.SpellCaster = M2, r["kotlinx-serialization-kotlinx-serialization-core-js-legacy"] = i, r["kotlinx-serialization-kotlinx-serialization-json-js-legacy"] = a, Object.defineProperty(K2, "Companion", { get: Z2 }), Object.defineProperty(K2, "$serializer", { get: e4 }), j2.prototype.CommandBundle_init_8kyvzd$ = i4, j2.prototype.CommandBundle = K2; var Tht = Upt.export || (Upt.export = {}); Object.defineProperty(Tht, "BundleEncoderDecoder", { get: r4 }), Object.defineProperty(o4, "Companion", { get: c4 }), Object.defineProperty(o4, "$serializer", { get: d4 }), n4.SummaryAC_init_ei4ty7$ = u4, n4.SummaryAC = o4, Object.defineProperty(_4, "Companion", { get: m4 }), Object.defineProperty(_4, "$serializer", { get: v4 }), n4.SummaryProficiency_init_ei4ty7$ = S4, n4.SummaryProficiency = _4, Object.defineProperty(C4, "Companion", { get: b4 }), Object.defineProperty(C4, "$serializer", { get: L4 }), n4.SummaryCustomBuff_init_bmpwe9$ = T4, n4.SummaryCustomBuff = C4, Object.defineProperty(n4, "Companion", { get: P4 }), Object.defineProperty(n4, "$serializer", { get: D4 }); var kht = qpt.export || (qpt.export = {}), Rht = kht.json || (kht.json = {}); Rht.ConnectSummary_init_epie83$ = x4, Rht.ConnectSummary = n4, Object.defineProperty(F4, "Companion", { get: H4 }), Object.defineProperty(F4, "$serializer", { get: G4 }), z4.prototype.GMUpdate_init_sb2p8f$ = W4, z4.prototype.GMUpdate = F4, Object.defineProperty(Tht, "ConnectSummaryFactory", { get: V4 }), Object.defineProperty(K4, "Companion", { get: Z4 }), Object.defineProperty(K4, "$serializer", { get: e9 }), Tht.CustomFile_init_st2wu8$ = i9, Tht.CustomFile_init = a9, Tht.CustomFile = K4, Object.defineProperty(r9, "Companion", { get: s9 }), Object.defineProperty(r9, "$serializer", { get: p9 }), Tht.ExportBundle_init_fkcx04$ = h9, Tht.ExportBundle = r9, Tht.HtmlAlchemy = d9, Object.defineProperty(Tht, "HtmlCommonElements", { get: f9 }), Tht.HtmlFocusPowers = y9, Tht.HtmlSpellbook = $9; var Pht = Upt.interfaces || (Upt.interfaces = {}); Pht.AdditionalInfoReturn = v9, Pht.Pair = S9, t.isTooSmall = C9, t.main = w9, t.forwardFromWWW = T9, t.isWWWVersion = k9, t.noIndexed = P9, t.establishDatabaseAndCache = x9, Object.defineProperty(z9, "Companion", { get: B9 }), t.Constants = z9; var Mht = t.dataloaders || (t.dataloaders = {}); Mht.LoaderSet = j9, Object.defineProperty(q9, "Companion", { get: V9 }), Mht.MasterDataHandler = q9, Object.defineProperty(X9, "Companion", { get: Q9 }); var Nht = Mht.tableloaders || (Mht.tableloaders = {}); Nht.AncestryLoader = X9, Object.defineProperty(t6, "Companion", { get: a6 }), Nht.ArmorLoader = t6, Object.defineProperty(r6, "Companion", { get: s6 }), Nht.BackgroundLoader = r6, Object.defineProperty(l6, "Companion", { get: h6 }), Nht.ClassInfoLoader = l6, Object.defineProperty(d6, "Companion", { get: f6 }), Nht.ConditionInfoLoader = d6, Object.defineProperty(y6, "Companion", { get: g6 }), Nht.CopyrightLoader = y6, Object.defineProperty(v6, "Companion", { get: E6 }), Nht.EquipmentLoader = v6, Object.defineProperty(A6, "Companion", { get: w6 }), Nht.FeatLoader = A6, Object.defineProperty(L6, "Companion", { get: R6 }), Nht.MaterialLoader = L6, Object.defineProperty(P6, "Companion", { get: D6 }), Nht.MiscLoader = P6, Object.defineProperty(x6, "Companion", { get: F6 }), Nht.PetLoader = x6, Object.defineProperty(B6, "Companion", { get: q6 }), Nht.SpecialsLoader = B6, Object.defineProperty(U6, "Companion", { get: Y6 }), Nht.SpellLoader = U6, Object.defineProperty(V6, "Companion", { get: e5 }), Nht.WeaponLoader = V6, Object.defineProperty(i5, "Companion", { get: _5 }), (t.dice || (t.dice = {})).DiceUIControl = i5; var Dht = t.export || (t.export = {}), xht = Dht.connect || (Dht.connect = {}); xht.GMConnect = m5, xht.PathbuilderConnect = v5, Object.defineProperty(C5, "Companion", { get: w5 }), Dht.EmailExport = C5, Object.defineProperty(L5, "Companion", { get: R5 }), Dht.ExportPDF = L5, Object.defineProperty(P5, "Companion", { get: D5 }), Rht.ExportData = P5; var zht = kht.charactersheet || (kht.charactersheet = {}), Oht = zht.components || (zht.components = {}); Oht.ExportEquipment = x5, Oht.ExportFeats = z5, (Dht.pdfsections || (Dht.pdfsections = {})).ExportSkills = O5, Oht.ExportSpells = B5, Object.defineProperty(Y5, "Companion", { get: X5 }); var Fht = kht.statblock || (kht.statblock = {}); (Fht.activedetailbuilder || (Fht.activedetailbuilder = {})).ActiveDetailSpellBuilder = Y5, J5.Attack = Z5, J5.Spell = Q5, Fht.ActiveDetails = J5, Fht.ExportStatBlock = e8, Fht.ExportStatBlockAnimalCompanion = a8, Fht.ExportStatBlockConstruct = r8, Fht.ExportStatBlockEidolon = n8, Fht.ExportStatBlockFamiliar = o8, Object.defineProperty(Fht, "StatBlockParser", { get: c8 }); var Bht = Fht.statblockparts || (Fht.statblockparts = {}); Object.defineProperty(Bht, "ParseDefense", { get: d8 }), Object.defineProperty(Bht, "ParseHeader", { get: f8 }), Object.defineProperty(Bht, "ParseOffense", { get: $8 }), Object.defineProperty(t, "ExportManager", { get: C8 }); var jht = t.filemanagement || (t.filemanagement = {}); jht.DataRestored = E8, jht.DomainForwardFix = A8, P8.GetAllUserData = M8; var Hht = jht.filemanagement || (jht.filemanagement = {}); Hht.FileManagementAllExportUserData = P8, X8.CustomFileReturn = J8, Hht.FileManagementCustomFiles = X8, a7.AllFolderFiles = r7, Hht.FileManagementFolders = a7, p7.FileDataCompletion = h7, p7.FileSaveCompletion = v7, p7.LoadedLastCharacter = E7, Object.defineProperty(p7, "Companion", { get: R7 }), jht.FileManager = p7, jht.FileMetaData = P7, Object.defineProperty(M7, "Companion", { get: x7 }), Object.defineProperty(M7, "$serializer", { get: F7 }), jht.FolderFile_init_1jgqbb$ = B7, jht.FolderFile = M7, H7.GoogleStepStarted = q7, H7.GDriveFileCompleted = Y7, H7.GDriveFileSaved = K7, H7.GDriveMetaListCompleted = ttt, H7.GDriveFileDeleted = rtt, jht.GDriveManager = H7, jht.GDriveMeta = stt, Object.defineProperty(ltt, "Companion", { get: htt }), t.GeneralUtils = ltt, Object.defineProperty(utt, "Companion", { get: Ntt }), t.MainActivity = utt; var qht = t.utils || (t.utils = {}); Object.defineProperty(qht, "LZ4K", { get: Htt }); var Uht = t.views || (t.views = {}), Ght = Uht.fragments || (Uht.fragments = {}), Wht = Ght.dialogs || (Ght.dialogs = {}), Yht = Wht.builddialogs || (Wht.builddialogs = {}); Yht.DialogAncestry = qtt, Object.defineProperty(Gtt, "Companion", { get: Xtt }), Yht.DialogBackground = Gtt, Yht.DialogBoostLevel = Ztt, Yht.DialogBoostStart = tet, Yht.DialogClass = ret, Object.defineProperty(oet, "Companion", { get: yet }), Yht.DialogFeats = oet, Yht.DialogLores = met, Yht.DialogSkills = vet, Yht.DialogSkillsClass = Set, Yht.DialogSpecials = Cet, Yht.DialogTrainedOnlySkills = Eet, Wht.DialogAdditionalInfo = Aet, Wht.DialogInfo = bet, Wht.DialogListView = Iet, Wht.DialogTemplate = wet, Object.defineProperty(Let, "Companion", { get: Ret }); var Vht = Wht.dialogwidgets || (Wht.dialogwidgets = {}); Vht.Checkbox = Let, Vht.CheckboxSection15 = Pet, Vht.CheckboxWithLabel = Met, Vht.LayoutAbilityIncrease = Net, Vht.LayoutBoostFlaw = Det, Vht.LayoutBoostFree = xet, Vht.LayoutBoostSet = zet, Vht.LayoutFlawFree = Oet, Object.defineProperty(Fet, "Companion", { get: qet }), Vht.LayoutProficiency = Fet, Vht.Spinner = Uet, Vht.SpinnerBackgroundFeats = Get, Vht.SpinnerFolders = Wet, Yet.AcceptedResult = Vet, Yet.CancelledResult = Ket, Wht.DialogYesNo_init_kqjzmp$ = Xet, Wht.DialogYesNo_init_m9uar8$ = Jet, Wht.DialogYesNo = Yet; var Kht = Wht.playdialogs || (Wht.playdialogs = {}), Xht = Kht.custom || (Kht.custom = {}); Xht.CustomActionLayout = Zet, Object.defineProperty(Qet, "Companion", { get: rit }), Xht.CustomEffectLayout = Qet, Xht.CustomElement = nit, Xht.CustomSpinner = oit, Xht.CustomTextArea = sit, Object.defineProperty(pit, "TEXT", { get: dit }), Object.defineProperty(pit, "NUMBER", { get: uit }), cit.prototype.TYPES = pit, Object.defineProperty(lit, "Companion", { get: fit }), Xht.CustomTextInput = lit, Xht.FinishedCreation = yit, Object.defineProperty($it, "Companion", { get: Ait }), Kht.DialogAlchemyFormula = $it, Kht.DialogAlchemyInformation = bit, Object.defineProperty(Lit, "Companion", { get: Nit }), Kht.DialogArmor = Lit, Kht.DialogArmorMods = xit, Kht.DialogBackupRestore = zit, Object.defineProperty(Fit, "Companion", { get: qit }), Kht.DialogBuff = Fit, Kht.DialogConditions = Git, Object.defineProperty(Wit, "Companion", { get: Kit }), Kht.DialogCurrency = Wit, Kht.DialogCustomAbilityIncrease = Xit, Kht.DialogCustomArmor = Zit, Kht.DialogCustomBackground = tat, Kht.DialogCustomBuff = aat, Kht.DialogCustomEquipment = rat, Kht.DialogCustomFeatChoice = oat, Kht.DialogCustomGearDisambiguator = cat, Kht.DialogCustomScroll = pat, Kht.DialogCustomShield = hat, Kht.DialogCustomSkillIncrease = dat, Kht.DialogCustomWeapon = uat, Object.defineProperty(fat, "Companion", { get: bat }), Kht.DialogEquipment = fat, Kht.DialogEquipmentContainer = wat, Kht.DialogEquipmentInformation = Tat, Kht.DialogEquipmentInformationNew = Rat, Kht.DialogExportJson = Dat, Object.defineProperty(zat, "Companion", { get: Bat }), Kht.DialogFundamentalRunes = zat, Kht.DialogFundamentalRunesArmorPotency = Uat, Kht.DialogFundamentalRunesArmorResilient = Gat, Kht.DialogFundamentalRunesWeaponPotency = Wat, Kht.DialogFundamentalRunesWeaponStriking = Yat, Kht.DialogHelp = Vat, Kht.DialogHP = Kat, Kht.DialogInventorModifications = Xat, Object.defineProperty(Zat, "Companion", { get: ert }), Kht.DialogItemMaterial = Zat, Kht.DialogItemMaterialArmor = nrt, Kht.DialogItemMaterialWeapon = ort, Kht.DialogLanguages = srt, Kht.DialogLevel = prt, Object.defineProperty(mrt, "LOCAL", { get: grt }), Object.defineProperty(mrt, "GOOGLE", { get: vrt }), yrt.MODES = mrt, Kht.DialogLoad = yrt, Urt.FolderFileReturn = Grt, Kht.DialogLoadMoveCopy = Urt, Kht.DialogLogin = Wrt, Kht.DialogLogout = Xrt, Kht.DialogNewCharacter = Jrt, Kht.DialogOptions = Qrt, Kht.DialogPaypal = ent, Kht.DialogPaypalActual = int, Kht.DialogProficiencyBuffs = rnt, Kht.DialogReportBug = nnt, Kht.DialogRest = snt, Object.defineProperty(cnt, "Companion", { get: dnt }), Kht.DialogRunes = cnt, Kht.DialogRunesArmor = ynt, Kht.DialogRunesShields = mnt, Kht.DialogRunesWeapon = $nt, Kht.DialogSection15 = vnt, Kht.DialogShareCopy = Int, Object.defineProperty(Lnt, "Companion", { get: Nnt }), Kht.DialogShield = Lnt, Kht.DialogShieldHP = znt, Kht.DialogSkillActions = Fnt, Object.defineProperty(Unt, "Companion", { get: Jnt }), Kht.DialogSpells = Unt, Object.defineProperty(Znt, "Companion", { get: eot }), Kht.DialogSpellsBonusSlots = Znt, Object.defineProperty(rot, "Companion", { get: sot }), Kht.DialogSpellsSummonerRepertoire = rot, Kht.DialogStamina = cot, Kht.DialogStatBlock = pot, Object.defineProperty(dot, "Companion", { get: $ot }), Kht.DialogUniversalFeatBrowser = dot, Kht.DialogUserAddedFeats = vot, Object.defineProperty(Eot, "Companion", { get: Lot }), Kht.DialogWeapon = Eot, Kht.DialogWeaponMods = Rot; var Jht = Kht.pets || (Kht.pets = {}); Jht.DialogPetAnimalAdvancement = Pot, Jht.DialogPetAnimalCompanion = Mot, Jht.DialogPetAnimalSpecialization = Not, Jht.DialogPetBarding = xot, Jht.DialogPetConstruct = Fot, Jht.DialogPetConstructAttacks = Bot, Jht.DialogPetEidolon = jot, Jht.DialogPetEidolonAbilityIncreases = Hot, Jht.DialogPetEidolonAttacks = Got, Object.defineProperty(Yot, "Companion", { get: ist }), Jht.DialogPetEidolonFeats = Yot, Jht.DialogPetEidolonSkills = ast, Object.defineProperty(nst, "Companion", { get: _st }), Jht.DialogPetEquipment = nst, Jht.DialogPetFamiliar = yst, Jht.DialogPetFamiliarAbilities = mst, Jht.DialogPetFamiliarSkills = $st, Jht.DialogPetHP = gst, Jht.DialogPetSkills = vst, Jht.DialogRunesConstruct = Sst, Jht.DialogRunesEidolon = Cst, Jht.PetDialogTemplate = Est, Ght.FragmentBuild = Ast, Object.defineProperty(Ist, "Companion", { get: Fst }); var Zht = Ght.fragmentdefense || (Ght.fragmentdefense = {}); Zht.ConditionBuffViews = Ist, Zht.HealthBar = Bst, Zht.HPControlInterface = jst, Zht.LayoutArmor = Hst, Zht.LayoutCondition = qst, Zht.LayoutShield = Ust, Zht.ShieldHealthBar = Gst, Zht.StaminaHealthBar = Wst; var Qht = Ght.fragmentgear || (Ght.fragmentgear = {}); Qht.LayoutContainer = Yst, Qht.LayoutEquipmentFormula = Vst, Qht.LayoutEquipmentNew = Kst, (Ght.fragmentoffense || (Ght.fragmentoffense = {})).LayoutWeaponLine = Xst; var tdt = Ght.fragmentspells || (Ght.fragmentspells = {}); tdt.FragmentSpellsAlchemy = Qst, tdt.FragmentSpellsPowers = elt, tdt.LayoutAlchemicalCaster = alt, tdt.LayoutAlchemyFormula = rlt, tdt.LayoutSpellButtons = nlt, Object.defineProperty(olt, "Companion", { get: ult }), tdt.LayoutSpellCasterNew = olt, tdt.LayoutSpellChoice = _lt, tdt.LayoutSpontanousRemaining = flt, Ght.FragmentTemplate = ylt; var edt = Ght.layoutbuild || (Ght.layoutbuild = {}); edt.ButtonActiveBuild_init_61zpoe$ = $lt, edt.ButtonActiveBuild = mlt, edt.ButtonBasic_init_61zpoe$ = vlt, edt.ButtonBasic = glt, edt.ButtonCog = Slt, edt.ButtonFeat = Clt, edt.ButtonFolder = Elt, Object.defineProperty(Alt, "Companion", { get: wlt }), edt.ButtonImg_init = Llt, edt.ButtonImg_init_19mbxw$ = Tlt, edt.ButtonImg = Alt, edt.ButtonMoney = klt, edt.ButtonNamedRoll = Rlt, edt.ButtonRoll = Plt, edt.ButtonRollSpell = Mlt, edt.ButtonSimple_init_61zpoe$ = Dlt, edt.ButtonSimple = Nlt, edt.ButtonWithX_init_61zpoe$ = zlt, edt.ButtonWithX = xlt, Object.defineProperty(Olt, "Companion", { get: jlt }), edt.EleFac = Olt, Object.defineProperty(Hlt, "Companion", { get: Wlt }), edt.FragmentBuildSpecials = Hlt, edt.LayoutAction = Ylt, edt.LayoutActionWithCheckbox = Vlt, Object.defineProperty(Klt, "Companion", { get: Zlt }), edt.LayoutBuildFactory = Klt, edt.LayoutLevel_init_za3lpa$ = tct, edt.LayoutLevel = Qlt, edt.LoadingSpinner = ect, Uht.GuiUpdateControl = ict, Uht.LayoutProficiencyShort = act, (Uht.misc || (Uht.misc = {})).LayoutInventorModifications = nct, Uht.NavigationControl = lct; var idt = Uht.sections || (Uht.sections = {}); idt.SectionConditions = uct, idt.SectionDefensesNew = _ct, Object.defineProperty(fct, "Companion", { get: $ct }), idt.SectionSkills = fct, idt.SectionTemplate = Sct, idt.SectionTop = Cct; var adt = idt.tabbedareas || (idt.tabbedareas = {}); adt.TabbedAreaActions = Ict, adt.TabbedAreaArmor = kct, adt.TabbedAreaDetails = Nct, Object.defineProperty(Bct, "Companion", { get: Gct }), adt.TabbedAreaFeats = Bct, Vct.InterfaceInvested = Zct, adt.TabbedAreaGear = Vct, adt.TabbedAreaPets = apt, adt.TabbedAreaSpells = npt, adt.TabbedAreaWeapons = upt; var rdt = adt.tabbedpets || (adt.tabbedpets = {}); return rdt.FragmentPetsAnimalCompanion = mpt, rdt.FragmentPetsConstruct = Ept, rdt.FragmentPetsEidolon = wpt, rdt.FragmentPetsFamiliar = kpt, rdt.LayoutActivePet = Npt, rdt.LayoutModsConstruct = Dpt, rdt.LayoutPetAttack = Fpt, rdt.PetHealthBar = Bpt, Fa.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, eo.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, fo.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, as.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, us.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, Ss.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, Qs.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, gc.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, Fc.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, Xp.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, Zd.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, du.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, Fu.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, LW.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, qY.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, JV.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, O0.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, o1.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, f1.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, b2.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, Q2.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, p4.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, $4.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, I4.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, M4.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, q4.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, Q4.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, l9.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, z7.prototype.typeParametersSerializers = F.prototype.typeParametersSerializers, w9(), t }) ? a.apply(e, r) : a) || (t.exports = n) }, function (t, e) { var i, a, r = t.exports = {}; function n() { throw new Error("setTimeout has not been defined") } function o() { throw new Error("clearTimeout has not been defined") } function s(t) { if (i === setTimeout) return setTimeout(t, 0); if ((i === n || !i) && setTimeout) return i = setTimeout, setTimeout(t, 0); try { return i(t, 0) } catch (e) { try { return i.call(null, t, 0) } catch (e) { return i.call(this, t, 0) } } } !function () { try { i = "function" == typeof setTimeout ? setTimeout : n } catch (t) { i = n } try { a = "function" == typeof clearTimeout ? clearTimeout : o } catch (t) { a = o } }(); var l, c = [], p = !1, h = -1; function d() { p && l && (p = !1, l.length ? c = l.concat(c) : h = -1, c.length && u()) } function u() { if (!p) { var t = s(d); p = !0; for (var e = c.length; e;) { for (l = c, c = []; ++h < e;)l && l[h].run(); h = -1, e = c.length } l = null, p = !1, function (t) { if (a === clearTimeout) return clearTimeout(t); if ((a === o || !a) && clearTimeout) return a = clearTimeout, clearTimeout(t); try { a(t) } catch (e) { try { return a.call(null, t) } catch (e) { return a.call(this, t) } } }(t) } } function _(t, e) { this.fun = t, this.array = e } function f() { } r.nextTick = function (t) { var e = new Array(arguments.length - 1); if (arguments.length > 1) for (var i = 1; i < arguments.length; i++)e[i - 1] = arguments[i]; c.push(new _(t, e)), 1 !== c.length || p || s(u) }, _.prototype.run = function () { this.fun.apply(null, this.array) }, r.title = "browser", r.browser = !0, r.env = {}, r.argv = [], r.version = "", r.versions = {}, r.on = f, r.addListener = f, r.once = f, r.off = f, r.removeListener = f, r.removeAllListeners = f, r.emit = f, r.prependListener = f, r.prependOnceListener = f, r.listeners = function (t) { return [] }, r.binding = function (t) { throw new Error("process.binding is not supported") }, r.cwd = function () { return "/" }, r.chdir = function (t) { throw new Error("process.chdir is not supported") }, r.umask = function () { return 0 } }, function (t, e, i) { var a, r, n; r = [e, i(0), i(1)], void 0 === (n = "function" == typeof (a = function (t, e, i) { "use strict"; var a, r, n, o, s, l, c, p, h, d, u, _, f, y, m, $, g, v, S, C, E, A, b, I, w, L, T, k = t.$$importsForInline$$ || (t.$$importsForInline$$ = {}), R = e.Kind.CLASS, P = e.kotlin.UInt, M = e.kotlin.ULong, N = e.kotlin.UByte, D = e.kotlin.UShort, x = i.kotlinx.serialization.SerializationException_init_pdl1vj$, z = i.kotlinx.serialization.SerializationException, O = e.kotlin.ranges.coerceAtLeast_dqglrj$, F = e.kotlin.ranges.coerceAtMost_dqglrj$, B = e.toChar, j = e.kotlin.js.internal.ByteCompanionObject, H = e.Kind.OBJECT, q = e.unboxChar, U = e.equals, G = e.kotlin.text.indexOf_8eortd$, W = e.ensureNotNull, Y = e.kotlin.ranges.CharRange, V = e.kotlin.collections.last_2p1efm$, K = e.kotlin.collections.removeLast_vvxzk3$, X = e.kotlin.text.lastIndexOf_l5u8uk$, J = e.defineInlineFunction, Z = e.Long.ZERO, Q = e.Long.MIN_VALUE, tt = e.kotlin.text.get_indices_gw00vp$, et = e.kotlin.text.StringBuilder_init, it = e.kotlin.collections.ArrayList_init_287e2$, at = e.kotlin.collections.getValue_t9ocha$, rt = e.kotlin.collections.singleOrNull_2p1efm$, nt = e.kotlin.collections.emptyMap_q3lmfv$, ot = e.getCallableRef, st = (e.wrapFunction, e.kotlin.collections.Map), lt = e.throwCCE, ct = e.kotlin.collections.LinkedHashMap_init_q3lmfv$, pt = i.kotlinx.serialization.internal.AbstractPolymorphicSerializer, ht = i.kotlinx.serialization.findPolymorphicSerializer_dz33bw$, dt = i.kotlinx.serialization.SealedClassSerializer, ut = i.kotlinx.serialization.internal.jsonCachedSerialNames_583jlf$, _t = i.kotlinx.serialization.descriptors.SerialKind, ft = i.kotlinx.serialization.descriptors.PrimitiveKind, yt = i.kotlinx.serialization.descriptors.PolymorphicKind, mt = e.getKClass, $t = i.kotlinx.serialization.DeserializationStrategy, gt = e.toString, vt = e.kotlin.IllegalStateException_init_pdl1vj$, St = e.kotlin.IllegalArgumentException_init_pdl1vj$, Ct = i.kotlinx.serialization.descriptors.StructureKind, Et = i.kotlinx.serialization.modules.SerializersModuleCollector, At = Object, bt = e.toByte, It = e.toShort, wt = e.kotlin.isFinite_81szk$, Lt = e.kotlin.text.toDouble_pdl1vz$, Tt = e.kotlin.isFinite_yrwdxr$, kt = e.toBoxedChar, Rt = i.kotlinx.serialization.encoding.AbstractDecoder, Pt = e.kotlin.text.toUInt_pdl1vz$, Mt = e.kotlin.text.toULong_pdl1vz$, Nt = e.kotlin.text.toUByte_pdl1vz$, Dt = e.kotlin.text.toUShort_pdl1vz$, xt = e.kotlin.IllegalArgumentException, zt = i.kotlinx.serialization.builtins.serializer_wxu9yi$, Ot = i.kotlinx.serialization.builtins.serializer_de2ylp$, Ft = i.kotlinx.serialization.builtins.serializer_28ajz5$, Bt = i.kotlinx.serialization.builtins.serializer_wdte4j$, jt = e.kotlin.collections.setOf_i5x0yv$, Ht = i.kotlinx.serialization.encoding.AbstractEncoder, qt = i.kotlinx.serialization.SerializationStrategy, Ut = e.kotlin.text.equals_igcy3c$, Gt = e.kotlin.IllegalArgumentException_init, Wt = e.kotlin.ranges.IntRange, Yt = e.kotlin.js.internal.ShortCompanionObject, Vt = e.kotlin.text.single_gw00vp$, Kt = i.kotlinx.serialization.internal.NamedValueDecoder, Xt = e.kotlin.collections.plus_khz7k3$, Jt = e.kotlin.collections.toList_7wnvza$, Zt = e.kotlin.text.toInt_pdl1vz$, Qt = e.kotlin.collections.emptySet_287e2$, te = e.kotlin.Unit, ee = e.throwUPAE, ie = i.kotlinx.serialization.internal.NamedValueEncoder, ae = e.kotlin.Enum, re = e.throwISE, ne = i.kotlinx.serialization.descriptors.getContextualDescriptor_6wk734$, oe = i.kotlinx.serialization.modules, se = i.kotlinx.serialization.StringFormat, le = e.kotlin.text.iterator_gw00vp$, ce = (i.kotlinx.serialization.serializerOrNull_1yb8b7$, i.kotlinx.serialization.KSerializer), pe = i.kotlinx.serialization.descriptors.buildSerialDescriptor_2yu4m$, he = e.Kind.INTERFACE, de = i.kotlinx.serialization.encoding.Decoder, ue = i.kotlinx.serialization.encoding.CompositeDecoder, _e = e.hashCode, fe = e.kotlin.collections.joinToString_fmv235$, ye = e.kotlin.collections.List, me = (e.kotlin.text.toIntOrNull_pdl1vz$, e.kotlin.text.toLong_pdl1vz$), $e = e.kotlin.text.toLongOrNull_pdl1vz$, ge = e.kotlin.text.toDoubleOrNull_pdl1vz$, ve = e.kotlin.Annotation, Se = e.kotlin.text.toULongOrNull_pdl1vz$, Ce = i.kotlinx.serialization.descriptors.PrimitiveSerialDescriptor_xytc2a$, Ee = e.kotlin.js.internal.StringCompanionObject, Ae = i.kotlinx.serialization.builtins.serializer_6eet4j$, be = i.kotlinx.serialization.builtins.MapSerializer_2yqygg$, Ie = i.kotlinx.serialization.descriptors.SerialDescriptor, we = i.kotlinx.serialization.builtins.ListSerializer_swdriu$, Le = e.kotlin.lazy_klfg04$, Te = i.kotlinx.serialization.encoding.Encoder, ke = i.kotlinx.serialization.encoding.CompositeEncoder, Re = e.kotlin.collections.HashMap_init_bwtc7$, Pe = new e.Long(-1, 2097151), Me = (e.kotlin.text.toBoolean_5cw0du$, Math, e.kotlin.text.StringBuilder_init_za3lpa$); function Ne(t, e) { this.sb_8be2vx$ = t, this.json_8be2vx$ = e, this.level_0 = 0, this.writingFirst_rjxylk$_0 = !0 } function De(t, e) { Ne.call(this, t, e) } function xe(t) { x(t, this), this.name = "JsonException" } function ze(t) { xe.call(this, t), this.name = "JsonDecodingException" } function Oe(t, e) { return new ze(t >= 0 ? "Unexpected JSON token at offset " + t + ": " + e : e) } function Fe(t) { xe.call(this, t), this.name = "JsonEncodingException" } function Be(t, e, i) { return Oe(t, e + "\nJSON input: " + Ve(i, t)) } function je(t, e) { return new Fe("Unexpected special floating-point value " + t.toString() + ". By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'\nCurrent output: " + Ve(e)) } function He(t, e, i) { return new Fe(Ge(t, e, i)) } function qe(t, e, i) { return Oe(-1, Ge(t, e, i)) } function Ue(t, e) { t.fail_bm4lxs$("Unexpected special floating-point value " + e.toString() + ". By default, non-finite floating point values are prohibited because they do not conform JSON specification. " + r) } function Ge(t, e, i) { return "Unexpected special floating-point value " + t.toString() + " with key " + e + ". By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'\nCurrent output: " + Ve(i) } function We(t, e) { return Oe(-1, "Encountered unknown key '" + t + "'.\nUse 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.\nCurrent input: " + Ve(e)) } function Ye(t) { return new Fe("Value of type '" + t.serialName + "' can't be used in JSON as a key in the map. It should have either primitive or enum kind, but its kind is '" + t.kind + "'.\n" + o) } function Ve(t, e) { if (void 0 === e && (e = -1), t.length < 200) return t; if (-1 === e) { var i = t.length - 60 | 0; return i <= 0 ? t : "....." + t.substring(i) } var a = e - 30 | 0, r = e + 30 | 0, n = a <= 0 ? "" : ".....", o = r >= t.length ? "" : ".....", s = O(a, 0), l = F(r, t.length); return n + t.substring(s, l) + o } function Ke() { ri = this, this.ESCAPE_2_CHAR = e.charArray(117), this.CHAR_TO_TOKEN = new Int8Array(126), this.initEscape_0(), this.initCharToToken_0() } De.prototype = Object.create(Ne.prototype), De.prototype.constructor = De, xe.prototype = Object.create(z.prototype), xe.prototype.constructor = xe, ze.prototype = Object.create(xe.prototype), ze.prototype.constructor = ze, Fe.prototype = Object.create(xe.prototype), Fe.prototype.constructor = Fe, gi.prototype = Object.create(Rt.prototype), gi.prototype.constructor = gi, vi.prototype = Object.create(Rt.prototype), vi.prototype.constructor = vi, Ci.prototype = Object.create(Ht.prototype), Ci.prototype.constructor = Ci, Ti.prototype = Object.create(Kt.prototype), Ti.prototype.constructor = Ti, ki.prototype = Object.create(Ti.prototype), ki.prototype.constructor = ki, Ri.prototype = Object.create(Ti.prototype), Ri.prototype.constructor = Ri, Pi.prototype = Object.create(Ri.prototype), Pi.prototype.constructor = Pi, Mi.prototype = Object.create(Ti.prototype), Mi.prototype.constructor = Mi, xi.prototype = Object.create(Ht.prototype), xi.prototype.constructor = xi, Di.prototype = Object.create(ie.prototype), Di.prototype.constructor = Di, zi.prototype = Object.create(Di.prototype), zi.prototype.constructor = zi, Oi.prototype = Object.create(Di.prototype), Oi.prototype.constructor = Oi, Fi.prototype = Object.create(Oi.prototype), Fi.prototype.constructor = Fi, Bi.prototype = Object.create(Di.prototype), Bi.prototype.constructor = Bi, ji.prototype = Object.create(ae.prototype), ji.prototype.constructor = ji, Ji.prototype = Object.create(Xi.prototype), Ji.prototype.constructor = Ji, aa.prototype = Object.create(Xi.prototype), aa.prototype.constructor = aa, pa.prototype = Object.create(oa.prototype), pa.prototype.constructor = pa, ma.prototype = Object.create(pa.prototype), ma.prototype.constructor = ma, $a.prototype = Object.create(pa.prototype), $a.prototype.constructor = $a, Sa.prototype = Object.create(oa.prototype), Sa.prototype.constructor = Sa, Ia.prototype = Object.create(oa.prototype), Ia.prototype.constructor = Ia, Object.defineProperty(Ne.prototype, "writingFirst", { configurable: !0, get: function () { return this.writingFirst_rjxylk$_0 }, set: function (t) { this.writingFirst_rjxylk$_0 = t } }), Ne.prototype.indent = function () { this.writingFirst = !0, this.level_0 = this.level_0 + 1 | 0 }, Ne.prototype.unIndent = function () { this.level_0 = this.level_0 - 1 | 0 }, Ne.prototype.nextItem = function () { if (this.writingFirst = !1, this.json_8be2vx$.configuration.prettyPrint) { this.print_61zpoe$("\n"); for (var t = this.level_0, e = 0; e < t; e++)this.print_61zpoe$(this.json_8be2vx$.configuration.prettyPrintIndent) } }, Ne.prototype.space = function () { this.json_8be2vx$.configuration.prettyPrint && this.print_s8itvh$(32) }, Ne.prototype.print_s8itvh$ = function (t) { this.sb_8be2vx$.append_s8itvh$(t) }, Ne.prototype.print_61zpoe$ = function (t) { this.sb_8be2vx$.append_61zpoe$(t) }, Ne.prototype.print_mx4ult$ = function (t) { this.sb_8be2vx$.append_61zpoe$(t.toString()) }, Ne.prototype.print_14dthe$ = function (t) { this.sb_8be2vx$.append_61zpoe$(t.toString()) }, Ne.prototype.print_s8j3t7$ = function (t) { this.sb_8be2vx$.append_s8cxhz$(e.Long.fromInt(t)) }, Ne.prototype.print_mq22fl$ = function (t) { this.sb_8be2vx$.append_s8cxhz$(e.Long.fromInt(t)) }, Ne.prototype.print_za3lpa$ = function (t) { this.sb_8be2vx$.append_s8cxhz$(e.Long.fromInt(t)) }, Ne.prototype.print_s8cxhz$ = function (t) { this.sb_8be2vx$.append_s8cxhz$(t) }, Ne.prototype.print_6taknv$ = function (t) { this.sb_8be2vx$.append_61zpoe$(t.toString()) }, Ne.prototype.printQuoted_61zpoe$ = function (t) { this.sb_8be2vx$.appendQuoted_61zpoe$(t) }, Ne.$metadata$ = { kind: R, simpleName: "Composer", interfaces: [] }, De.prototype.print_za3lpa$ = function (t) { return Ne.prototype.print_61zpoe$.call(this, new P(t).toString()) }, De.prototype.print_s8cxhz$ = function (t) { return Ne.prototype.print_61zpoe$.call(this, new M(t).toString()) }, De.prototype.print_s8j3t7$ = function (t) { return Ne.prototype.print_61zpoe$.call(this, new N(t).toString()) }, De.prototype.print_mq22fl$ = function (t) { return Ne.prototype.print_61zpoe$.call(this, new D(t).toString()) }, De.$metadata$ = { kind: R, simpleName: "ComposerForUnsignedNumbers", interfaces: [Ne] }, xe.$metadata$ = { kind: R, simpleName: "JsonException", interfaces: [z] }, ze.$metadata$ = { kind: R, simpleName: "JsonDecodingException", interfaces: [xe] }, Fe.$metadata$ = { kind: R, simpleName: "JsonEncodingException", interfaces: [xe] }, Ke.prototype.initEscape_0 = function () { for (var t = 0; t <= 31; t++)this.initC2ESC_0(t, m); this.initC2ESC_0(8, 98), this.initC2ESC_0(9, 116), this.initC2ESC_0(10, 110), this.initC2ESC_0(12, 102), this.initC2ESC_0(13, 114), this.initC2ESC_1(47, 47), this.initC2ESC_1(_, _), this.initC2ESC_1(f, f) }, Ke.prototype.initCharToToken_0 = function () { for (var t = 0; t <= 32; t++)this.initC2TC_0(t, T); this.initC2TC_0(9, S), this.initC2TC_0(10, S), this.initC2TC_0(13, S), this.initC2TC_0(32, S), this.initC2TC_1(l, C), this.initC2TC_1(c, E), this.initC2TC_1(p, A), this.initC2TC_1(h, b), this.initC2TC_1(d, I), this.initC2TC_1(u, w), this.initC2TC_1(_, g), this.initC2TC_1(f, v) }, Ke.prototype.initC2ESC_0 = function (t, e) { e !== m && (this.ESCAPE_2_CHAR[0 | e] = B(t)) }, Ke.prototype.initC2ESC_1 = function (t, e) { this.initC2ESC_0(0 | t, e) }, Ke.prototype.initC2TC_0 = function (t, e) { this.CHAR_TO_TOKEN[t] = e }, Ke.prototype.initC2TC_1 = function (t, e) { this.initC2TC_0(0 | t, e) }, Ke.$metadata$ = { kind: H, simpleName: "CharMappings", interfaces: [] }; var Xe, Je, Ze, Qe, ti, ei, ii, ai, ri = null; function ni() { return null === ri && new Ke, ri } function oi(t) { return (0 | t) < 126 ? ni().CHAR_TO_TOKEN[0 | t] : $ } function si(t) { return q(t < 117 ? ni().ESCAPE_2_CHAR[t] : y) } function li(t) { this.source_0 = t, this.currentPosition = 0, this.peekedString_0 = null, this.escapedString_0 = et() } function ci(t) { var i, a, r, n, o, s = (o = t, function (t, i, a) { var r; if ((e.isType(r = t, st) ? r : lt()).containsKey_11rb$(i)) throw new xe("The suggested name '" + i + "' for property " + o.getElementName_za3lpa$(a) + " is already one of the names for property " + o.getElementName_za3lpa$(at(t, i)) + " in " + o); t.put_xwzc9p$(i, a) }), l = { v: null }; i = t.elementsCount; for (var c = 0; c < i; c++) { var p, h, d = t.getElementAnnotations_za3lpa$(c), u = it(); for (p = d.iterator(); p.hasNext();) { var _ = p.next(); e.isType(_, vr) && u.add_11rb$(_) } if (null != (r = null != (a = rt(u)) ? a.names : null)) for (h = 0; h !== r.length; ++h) { var f = r[h]; null == l.v && (l.v = Sr(t.elementsCount)), s(W(l.v), f, c) } } return null != (n = l.v) ? n : nt() } function pi(t, e, i) { var a, r = t.getElementIndex_61zpoe$(i); return -3 !== r ? r : e.configuration.useAlternativeNames ? null != (a = Er(e).getOrPut_a5unbe$(t, Xe, ot("buildAlternativeNamesMap", function (t) { return ci(t) }.bind(null, t))).get_11rb$(i)) ? a : -3 : r } function hi(t, e, i) { var a = pi(t, e, i); if (-3 === a) throw x(t.serialName + " does not contain element with name '" + i + "'"); return a } function di(t, e) { this.lexer_0 = e, this.isLenient_0 = t.isLenient } function ui(t, i, a) { var r, n = e.isType(r = i, pt) ? r : lt(), o = ht(n, t, a); return function (t, i, a) { if (e.isType(t, dt) && ut(i.descriptor).contains_11rb$(a)) { var r = t.descriptor.serialName, n = i.descriptor.serialName; throw vt(("Sealed class '" + n + "' cannot be serialized as base class '" + r + "' because it has property name that conflicts with JSON class discriminator '" + a + "'. You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism").toString()) } }(n, o, t.json.configuration.classDiscriminator), _i(o.descriptor.kind), o } function _i(t) { if (e.isType(t, Object.getPrototypeOf(_t.ENUM).constructor)) throw vt("Enums cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead".toString()); if (e.isType(t, ft)) throw vt("Primitives cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead".toString()); if (e.isType(t, yt)) throw vt("Actual serializer for polymorphic cannot be polymorphic itself".toString()) } function fi(t, i) { var a, r, n, o; if (!e.isType(i, pt) || t.json.configuration.useArrayPolymorphism) return i.deserialize_bq71mq$(t); var s = t.decodeJsonElement(), l = i.descriptor; if (!e.isType(s, Sa)) throw Oe(-1, "Expected " + mt(Sa) + " as the serialized body of " + l.serialName + ", but had " + e.getKClassFromExpression(s)); var c = s, p = t.json.configuration.classDiscriminator, h = null != (r = null != (a = c.get_11rb$(p)) ? ka(a) : null) ? r.content : null, d = null != (n = i.findPolymorphicSerializerOrNull_ca6uye$(t, h)) ? n : function (t, e) { throw Be(-1, "Polymorphic serializer was not found for " + (null == t ? "missing class discriminator ('null')" : "class discriminator '" + gt(t) + "'"), e.toString()) }(h, c); return Li(t.json, p, c, e.isType(o = d, $t) ? o : lt()) } function yi(t, e) { this.useArrayPolymorphism_0 = t, this.discriminator_0 = e } function mi() { this.map_0 = Sr(1) } function $i() { } function gi(t, e, i) { Rt.call(this), this.json_n7tmf6$_0 = t, this.mode_0 = e, this.lexer_8be2vx$ = i, this.serializersModule_5carun$_0 = this.json.serializersModule, this.currentIndex_0 = -1, this.configuration_0 = this.json.configuration } function vi(t, e) { Rt.call(this), this.lexer_0 = t, this.serializersModule_ftyxok$_0 = e.serializersModule } function Si(t) { return t.isInline && Je.contains_11rb$(t) } function Ci(t, e, i, a) { Ht.call(this), this.composer_0 = t, this.json_8uu1uy$_0 = e, this.mode_0 = i, this.modeReuseCache_0 = a, this.serializersModule_tvtxsn$_0 = this.json.serializersModule, this.configuration_0 = this.json.configuration, this.forceQuoting_0 = !1, this.writePolymorphic_0 = !1; var r = this.mode_0.ordinal; null != this.modeReuseCache_0 && (null === this.modeReuseCache_0[r] && this.modeReuseCache_0[r] === this || (this.modeReuseCache_0[r] = this)) } function Ei(t, e, i, a, r) { return r = r || Object.create(Ci.prototype), Ci.call(r, new Ne(t, e), e, i, a), r } function Ai(t) { var e = 15 & t; return B(e < 10 ? e + 48 | 0 : e - 10 + 97 | 0) } function bi(t, e) { var i, a, r, n; t.append_s8itvh$(_); var o = 0; a = (i = tt(e)).first, r = i.last, n = i.step; for (var s = a; s <= r; s += n) { var l = 0 | e.charCodeAt(s); l < Ze.length && null != Ze[l] && (t.append_ezbsdh$(e, o, s), t.append_pdl1vj$(Ze[l]), o = s + 1 | 0) } 0 !== o ? t.append_ezbsdh$(e, o, e.length) : t.append_pdl1vj$(e), t.append_s8itvh$(_) } function Ii(t) { return !!Ut(t, "true", !0) || !Ut(t, "false", !0) && null } function wi(t, i, a) { var r; return (e.isType(i, Sa) ? new Ri(t, i) : e.isType(i, Ia) ? new Mi(t, i) : e.isType(i, ma) || U(i, va()) ? new ki(t, e.isType(r = i, pa) ? r : lt()) : e.noWhenBranchMatched()).decodeSerializableValue_w63s0f$(a) } function Li(t, e, i, a) { return new Ri(t, i, e, a.descriptor).decodeSerializableValue_w63s0f$(a) } function Ti(t, e) { Kt.call(this), this.json_nf7dq8$_0 = t, this.value_admuh1$_0 = e, this.configuration_0 = this.json.configuration } function ki(t, e) { Ti.call(this, t, e), this.value_icegni$_0 = e, this.pushTag_11rb$(Qe) } function Ri(t, e, i, a) { void 0 === i && (i = null), void 0 === a && (a = null), Ti.call(this, t, e), this.value_nyd9q1$_0 = e, this.polyDiscriminator_0 = i, this.polyDescriptor_0 = a, this.position_0 = 0 } function Pi(t, e) { Ri.call(this, t, e), this.value_ozc1lj$_0 = e, this.keys_0 = Jt(this.value.keys), this.size_0 = 2 * this.keys_0.size | 0, this.position_1 = -1 } function Mi(t, e) { Ti.call(this, t, e), this.value_z81zg7$_0 = e, this.size_0 = this.value.size, this.currentIndex_0 = -1 } function Ni(t, e, i) { var a, r = { v: null }; return new Oi(t, (a = r, function (t) { return a.v = t, te })).encodeSerializableValue_tf03ej$(i, e), null == r.v ? ee("result") : r.v } function Di(t, e) { ie.call(this), this.json_927t60$_0 = t, this.nodeConsumer_0 = e, this.configuration_0 = this.json.configuration, this.writePolymorphic_0 = !1 } function xi(t, e) { this.closure$tag = t, this.this$AbstractJsonTreeEncoder = e, Ht.call(this), this.serializersModule_tav261$_0 = e.json.serializersModule } function zi(t, e) { Di.call(this, t, e), this.content_0 = null, this.pushTag_11rb$(Qe) } function Oi(t, e) { Di.call(this, t, e), this.content_0 = ct() } function Fi(t, e) { Oi.call(this, t, e), this.tag_s622uw$_0 = this.tag_s622uw$_0, this.isKey_0 = !0 } function Bi(t, e) { Di.call(this, t, e), this.array_0 = it() } function ji(t, e, i, a) { ae.call(this), this.begin = kt(i), this.end = kt(a), this.name$ = t, this.ordinal$ = e } function Hi() { Hi = function () { }, ti = new ji("OBJ", 0, p, h), ei = new ji("LIST", 1, d, u), ii = new ji("MAP", 2, p, h), ai = new ji("POLY_OBJ", 3, d, u) } function qi() { return Hi(), ti } function Ui() { return Hi(), ei } function Gi() { return Hi(), ii } function Wi() { return Hi(), ai } function Yi() { return [qi(), Ui(), Gi(), Wi()] } function Vi(t, i) { var a; if (a = i.kind, e.isType(a, yt)) return Wi(); if (U(a, Ct.LIST)) return Ui(); if (U(a, Ct.MAP)) { var r, n = Ki(i.getElementDescriptor_za3lpa$(0), t.serializersModule), o = n.kind; if (e.isType(o, ft) || U(o, _t.ENUM)) r = Gi(); else { if (!t.configuration.allowStructuredMapKeys) throw Ye(n); r = Ui() } return r } return qi() } function Ki(t, e) { var i, a; return U(t.kind, _t.CONTEXTUAL) ? null != (a = null != (i = ne(e, t)) ? Ki(i, e) : null) ? a : t : t.isInline ? t.getElementDescriptor_za3lpa$(0) : t } function Xi(t, e) { ea(), this.configuration = t, this.serializersModule_vis8y$_0 = e, this._schemaCache_8be2vx$ = new mi } function Ji() { ta = this, Xi.call(this, new ra, oe.EmptySerializersModule) } li.prototype.expectEof = function () { this.consumeNextToken() !== L && this.fail_bm4lxs$("Expected EOF, but had " + String.fromCharCode(this.source_0.charCodeAt(this.currentPosition - 1 | 0)) + " instead") }, li.prototype.tryConsumeComma = function () { var t = this.skipWhitespaces_0(); return t !== this.source_0.length && 44 === this.source_0.charCodeAt(t) && (this.currentPosition = this.currentPosition + 1 | 0, !0) }, li.prototype.canConsumeValue = function () { for (var t = this.currentPosition; t < this.source_0.length;) { var e = this.source_0.charCodeAt(t); if (32 !== e && 10 !== e && 13 !== e && 9 !== e) return this.currentPosition = t, this.isValidValueStart_0(e); t = t + 1 | 0 } return this.currentPosition = t, !1 }, li.prototype.isValidValueStart_0 = function (t) { var e; switch (t) { case 125: case 93: case 58: case 44: e = !1; break; default: e = !0 }return e }, li.prototype.consumeNextToken_s8j3t7$ = function (t) { var e = this.consumeNextToken(); return e !== t && this.fail_0(t), e }, li.prototype.consumeNextToken_s8itvh$ = function (t) { for (var e, i = this.source_0; this.currentPosition < i.length;) { var a = i.charCodeAt((e = this.currentPosition, this.currentPosition = e + 1 | 0, e)); if (32 !== a && 10 !== a && 13 !== a && 9 !== a) { if (a === t) return; this.unexpectedToken_0(t) } } this.unexpectedToken_0(t) }, li.prototype.unexpectedToken_0 = function (t) { this.currentPosition = this.currentPosition - 1 | 0, t === _ && U(this.consumeStringLenient(), s) && this.fail_bm4lxs$("Expected string literal but 'null' literal was found.\nUse 'coerceInputValues = true' in 'Json {}` builder to coerce nulls to default values.", this.currentPosition - 4 | 0), this.fail_0(oi(t)) }, li.prototype.fail_0 = function (t) { var e; switch (t) { case 1: e = "quotation mark '\"'"; break; case 4: e = "comma ','"; break; case 5: e = "semicolon ':'"; break; case 6: e = "start of the object '{'"; break; case 7: e = "end of the object '}'"; break; case 8: e = "start of the array '['"; break; case 9: e = "end of the array ']'"; break; default: e = "valid token" }var i = e, a = this.currentPosition === this.source_0.length || this.currentPosition <= 0 ? "EOF" : String.fromCharCode(this.source_0.charCodeAt(this.currentPosition - 1 | 0)); this.fail_bm4lxs$("Expected " + i + ", but had '" + a + "' instead", this.currentPosition - 1 | 0) }, li.prototype.peekNextToken = function () { for (var t = this.source_0; this.currentPosition < t.length;) { var e = t.charCodeAt(this.currentPosition); if (32 !== e && 10 !== e && 13 !== e && 9 !== e) return oi(e); this.currentPosition = this.currentPosition + 1 | 0 } return L }, li.prototype.consumeNextToken = function () { for (var t, e = this.source_0; this.currentPosition < e.length;) { var i = oi(e.charCodeAt((t = this.currentPosition, this.currentPosition = t + 1 | 0, t))); if (i !== S) return i } return L }, li.prototype.tryConsumeNotNull = function () { var t = this.skipWhitespaces_0(), e = this.source_0.length - t | 0; if (e < 4) return !0; for (var i = 0; i <= 3; i++)if (s.charCodeAt(i) !== this.source_0.charCodeAt(t + i | 0)) return !0; return e > 4 && oi(this.source_0.charCodeAt(t + 4 | 0)) === $ || (this.currentPosition = t + 4 | 0, !1) }, li.prototype.skipWhitespaces_0 = function () { for (var t = this.currentPosition; t < this.source_0.length;) { var e = this.source_0.charCodeAt(t); if (32 !== e && 10 !== e && 13 !== e && 9 !== e) break; t = t + 1 | 0 } return this.currentPosition = t, t }, li.prototype.peekString_6taknv$ = function (t) { var e, i = this.peekNextToken(); if (t) { if (i !== g && i !== $) return null; e = this.consumeStringLenient() } else { if (i !== g) return null; e = this.consumeString() } var a = e; return this.peekedString_0 = a, a }, li.prototype.consumeKeyString = function () { this.consumeNextToken_s8itvh$(_); var t = this.currentPosition, e = G(this.source_0, 34, t); -1 === e && this.fail_0(g); for (var i = t; i < e; i++)if (this.source_0.charCodeAt(i) === f) return this.consumeString_0(this.currentPosition, i); return this.currentPosition = e + 1 | 0, this.source_0.substring(t, e) }, li.prototype.consumeString = function () { return null != this.peekedString_0 ? this.takePeeked_0() : this.consumeKeyString() }, li.prototype.consumeString_0 = function (t, e) { for (var i, a = e, r = t, n = this.source_0, o = n.charCodeAt(a); o !== _;)o === f ? r = a = this.appendEscape_0(r, a) : (a = a + 1 | 0) >= n.length && this.fail_bm4lxs$("EOF", a), o = n.charCodeAt(a); if (r === t) { var s = r, l = a; i = n.substring(s, l) } else i = this.decodedString_0(r, a); var c = i; return this.currentPosition = a + 1 | 0, c }, li.prototype.appendEscape_0 = function (t, e) { return this.escapedString_0.append_ezbsdh$(this.source_0, t, e), this.appendEsc_0(e + 1 | 0) }, li.prototype.decodedString_0 = function (t, e) { this.appendRange_0(t, e); var i = this.escapedString_0.toString(); return this.escapedString_0.setLength_za3lpa$(0), i }, li.prototype.takePeeked_0 = function () { var t = W(this.peekedString_0); return this.peekedString_0 = null, t }, li.prototype.consumeStringLenientNotNull = function () { var t = this.consumeStringLenient(); return U(t, s) && this.fail_bm4lxs$("Unexpected 'null' value instead of string literal"), t }, li.prototype.consumeStringLenient = function () { if (null != this.peekedString_0) return this.takePeeked_0(); var t = this.skipWhitespaces_0(); t >= this.source_0.length && this.fail_bm4lxs$("EOF", t); var e = oi(this.source_0.charCodeAt(t)); if (e === g) return this.consumeString(); for (e !== $ && this.fail_bm4lxs$("Expected beginning of the string, but got " + String.fromCharCode(this.source_0.charCodeAt(t))); t < this.source_0.length && oi(this.source_0.charCodeAt(t)) === $;)t = t + 1 | 0; var i = this.source_0, a = this.currentPosition, r = t, n = i.substring(a, r); return this.currentPosition = t, n }, li.prototype.appendRange_0 = function (t, e) { this.escapedString_0.append_ezbsdh$(this.source_0, t, e) }, li.prototype.appendEsc_0 = function (t) { var e, i = t, a = this.source_0.charCodeAt((i = (e = i) + 1 | 0, e)); if (a === m) return this.appendHex_0(this.source_0, i); var r = si(0 | a); return r === y && this.fail_bm4lxs$("Invalid escaped char '" + String.fromCharCode(a) + "'"), this.escapedString_0.append_s8itvh$(r), i }, li.prototype.appendHex_0 = function (t, e) { return (e + 4 | 0) >= t.length && this.fail_bm4lxs$("Unexpected EOF during unicode escape"), this.escapedString_0.append_s8itvh$(B((this.fromHexChar_0(t, e) << 12) + (this.fromHexChar_0(t, e + 1 | 0) << 8) + (this.fromHexChar_0(t, e + 2 | 0) << 4) + this.fromHexChar_0(t, e + 3 | 0) | 0)), e + 4 | 0 }, li.prototype.fromHexChar_0 = function (t, e) { var i = t.charCodeAt(e); return new Y(48, 57).contains_mef7kx$(i) ? (0 | i) - 48 | 0 : new Y(97, 102).contains_mef7kx$(i) ? (0 | i) - 97 + 10 | 0 : new Y(65, 70).contains_mef7kx$(i) ? (0 | i) - 65 + 10 | 0 : this.fail_bm4lxs$("Invalid toHexChar char '" + String.fromCharCode(i) + "' in unicode escape") }, li.prototype.skipElement_6taknv$ = function (t) { var e = it(), i = this.peekNextToken(); if (i === I || i === A) for (; ;)if ((i = this.peekNextToken()) !== g) { switch (i) { case 8: case 6: e.add_11rb$(i); break; case 9: if (V(e) !== I) throw Be(this.currentPosition, "found ] instead of }", this.source_0); K(e); break; case 7: if (V(e) !== A) throw Be(this.currentPosition, "found } instead of ]", this.source_0); K(e); break; case 10: this.fail_bm4lxs$("Unexpected end of input due to malformed JSON during ignoring unknown keys") }if (this.consumeNextToken(), 0 === e.size) return } else t ? this.consumeStringLenient() : this.consumeKeyString(); else this.consumeStringLenient() }, li.prototype.toString = function () { return "JsonReader(source='" + this.source_0 + "', currentPosition=" + this.currentPosition + ")" }, li.prototype.failOnUnknownKey_61zpoe$ = function (t) { var e = this.source_0, i = this.currentPosition, a = e.substring(0, i), r = X(a, t); this.fail_bm4lxs$("Encountered an unknown key '" + t + "'.\n" + n, r) }, li.prototype.fail_bm4lxs$ = function (t, e) { throw void 0 === e && (e = this.currentPosition), Be(e, t, this.source_0) }, li.prototype.require_wqn2ds$ = J("kotlinx-serialization-kotlinx-serialization-json-js-legacy.kotlinx.serialization.json.internal.JsonLexer.require_wqn2ds$", (function (t, e, i) { void 0 === e && (e = this.currentPosition), t || this.fail_bm4lxs$(i(), e) })), li.prototype.consumeNumericLiteral = function () { var t, i = this.skipWhitespaces_0(); i === this.source_0.length && this.fail_bm4lxs$("EOF"), this.source_0.charCodeAt(i) === _ ? ((i = i + 1 | 0) === this.source_0.length && this.fail_bm4lxs$("EOF"), t = !0) : t = !1; for (var a = t, r = Z, n = !1, o = i, s = !0; s;) { var l = this.source_0.charCodeAt(i); if (45 !== l) { if (oi(l) !== $) break; s = (i = i + 1 | 0) !== this.source_0.length; var c = l - 48; 0 <= c && c <= 9 || this.fail_bm4lxs$("Unexpected symbol '" + String.fromCharCode(l) + "' in numeric literal"), (r = r.multiply(e.Long.fromInt(10)).subtract(e.Long.fromInt(c))).toNumber() > 0 && this.fail_bm4lxs$("Numeric value overflow") } else i !== o && this.fail_bm4lxs$("Unexpected symbol '-' in numeric literal"), n = !0, i = i + 1 | 0 } return (o === i || n && o === (i - 1 | 0)) && this.fail_bm4lxs$("Expected numeric literal"), a && (s || this.fail_bm4lxs$("EOF"), this.source_0.charCodeAt(i) !== _ && this.fail_bm4lxs$("Expected closing quotation mark"), i = i + 1 | 0), this.currentPosition = i, n ? r : U(r, Q) ? this.fail_bm4lxs$("Numeric value overflow") : r.unaryMinus() }, li.prototype.consumeBoolean = function () { return this.consumeBoolean_0(this.skipWhitespaces_0()) }, li.prototype.consumeBooleanLenient = function () { var t, e = this.skipWhitespaces_0(); e === this.source_0.length && this.fail_bm4lxs$("EOF"), this.source_0.charCodeAt(e) === _ ? (e = e + 1 | 0, t = !0) : t = !1; var i = t, a = this.consumeBoolean_0(e); return i && (this.currentPosition === this.source_0.length && this.fail_bm4lxs$("EOF"), this.source_0.charCodeAt(this.currentPosition) !== _ && this.fail_bm4lxs$("Expected closing quotation mark"), this.currentPosition = this.currentPosition + 1 | 0), a }, li.prototype.consumeBoolean_0 = function (t) { var e, i, a = t; switch (a === this.source_0.length && this.fail_bm4lxs$("EOF"), 32 | this.source_0.charCodeAt((a = (e = a) + 1 | 0, e))) { case 116: this.consumeBooleanLiteral_0("rue", a), i = !0; break; case 102: this.consumeBooleanLiteral_0("alse", a), i = !1; break; default: i = this.fail_bm4lxs$("Expected valid boolean literal prefix, but had '" + this.consumeStringLenient() + "'") }return i }, li.prototype.consumeBooleanLiteral_0 = function (t, e) { var i, a, r, n; (this.source_0.length - e | 0) < t.length && this.fail_bm4lxs$("Unexpected end of boolean literal"), a = (i = tt(t)).first, r = i.last, n = i.step; for (var o = a; o <= r; o += n)(0 | t.charCodeAt(o)) != (32 | this.source_0.charCodeAt(e + o | 0)) && this.fail_bm4lxs$("Expected valid boolean literal prefix, but had '" + this.consumeStringLenient() + "'"); this.currentPosition = e + t.length | 0 }, li.$metadata$ = { kind: R, simpleName: "JsonLexer", interfaces: [] }, di.prototype.readObject_0 = function () { var t = this.lexer_0.consumeNextToken_s8j3t7$(A); this.lexer_0.peekNextToken() === C && this.lexer_0.fail_bm4lxs$("Unexpected leading comma"); for (var e = ct(); this.lexer_0.canConsumeValue();) { var i = this.isLenient_0 ? this.lexer_0.consumeStringLenient() : this.lexer_0.consumeString(); this.lexer_0.consumeNextToken_s8j3t7$(E); var a = this.read(); e.put_xwzc9p$(i, a), (t = this.lexer_0.consumeNextToken()) !== C && t !== b && this.lexer_0.fail_bm4lxs$("Expected end of the object or comma") } return t === A ? this.lexer_0.consumeNextToken_s8j3t7$(b) : t === C && this.lexer_0.fail_bm4lxs$("Unexpected trailing comma"), new Sa(e) }, di.prototype.readArray_0 = function () { var t = this.lexer_0.consumeNextToken(); this.lexer_0.peekNextToken() === C && this.lexer_0.fail_bm4lxs$("Unexpected leading comma"); for (var e = it(); this.lexer_0.canConsumeValue();) { var i = this.read(); if (e.add_11rb$(i), (t = this.lexer_0.consumeNextToken()) !== C) { var a, r = this.lexer_0, n = t === w; a = r.currentPosition, n || r.fail_bm4lxs$("Expected end of the array or comma", a) } } return t === I ? this.lexer_0.consumeNextToken_s8j3t7$(w) : t === C && this.lexer_0.fail_bm4lxs$("Unexpected trailing comma"), new Ia(e) }, di.prototype.readValue_0 = function (t) { var e = this.isLenient_0 || !t ? this.lexer_0.consumeStringLenient() : this.lexer_0.consumeString(); return !t && U(e, s) ? va() : new ma(e, t) }, di.prototype.read = function () { var t; switch (this.lexer_0.peekNextToken()) { case 1: t = this.readValue_0(!0); break; case 0: t = this.readValue_0(!1); break; case 6: t = this.readObject_0(); break; case 8: t = this.readArray_0(); break; default: t = this.lexer_0.fail_bm4lxs$("Can't begin reading element, unexpected token") }return t }, di.$metadata$ = { kind: R, simpleName: "JsonTreeReader", interfaces: [] }, yi.prototype.contextual_vhoqnv$ = function (t, e) { }, yi.prototype.polymorphic_kfyidi$ = function (t, e, i) { var a = i.descriptor; this.checkKind_0(a, e), this.useArrayPolymorphism_0 || this.checkDiscriminatorCollisions_0(a, e) }, yi.prototype.checkKind_0 = function (t, i) { var a = t.kind; if (e.isType(a, yt) || U(a, _t.CONTEXTUAL)) throw St("Serializer for " + gt(i.simpleName) + " can't be registered as a subclass for polymorphic serialization because its kind " + a + " is not concrete. To work with multiple hierarchies, register it as a base class."); if (!this.useArrayPolymorphism_0 && (U(a, Ct.LIST) || U(a, Ct.MAP) || e.isType(a, ft) || e.isType(a, Object.getPrototypeOf(_t.ENUM).constructor))) throw St("Serializer for " + gt(i.simpleName) + " of kind " + a + " cannot be serialized polymorphically with class discriminator.") }, yi.prototype.checkDiscriminatorCollisions_0 = function (t, e) { var i; i = t.elementsCount; for (var a = 0; a < i; a++) { var r = t.getElementName_za3lpa$(a); if (U(r, this.discriminator_0)) throw St("Polymorphic serializer for " + e + " has property '" + r + "' that conflicts with JSON class discriminator. You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism") } }, yi.prototype.polymorphicDefault_yd5wsm$ = function (t, e) { }, yi.$metadata$ = { kind: R, simpleName: "PolymorphismValidator", interfaces: [Et] }, mi.prototype.set_cldnac$ = function (t, i, a) { var r, n, o, s, l, c = this.map_0, p = c.get_11rb$(t); if (null == p) { var h = Sr(1); c.put_xwzc9p$(t, h), l = h } else l = p; s = l, o = e.isType(n = i, $i) ? n : lt(); var d = e.isType(r = a, At) ? r : lt(); s.put_xwzc9p$(o, d) }, mi.prototype.getOrPut_a5unbe$ = function (t, e, i) { var a; if (null != (a = this.get_khmtuq$(t, e))) return a; var r = i(); return this.set_cldnac$(t, e, r), r }, mi.prototype.get_khmtuq$ = function (t, i) { var a, r, n, o; return n = this.map_0.get_11rb$(t), r = e.isType(a = i, $i) ? a : lt(), e.isType(o = null != n ? n.get_11rb$(r) : null, At) ? o : null }, $i.$metadata$ = { kind: R, simpleName: "Key", interfaces: [] }, mi.$metadata$ = { kind: R, simpleName: "DescriptorSchemaCache", interfaces: [] }, Object.defineProperty(gi.prototype, "json", { get: function () { return this.json_n7tmf6$_0 } }), Object.defineProperty(gi.prototype, "serializersModule", { configurable: !0, get: function () { return this.serializersModule_5carun$_0 } }), gi.prototype.decodeJsonElement = function () { return new di(this.json.configuration, this.lexer_8be2vx$).read() }, gi.prototype.decodeSerializableValue_w63s0f$ = function (t) { return fi(this, t) }, gi.prototype.beginStructure_24f42q$ = function (t) { var e, i = Vi(this.json, t); switch (this.lexer_8be2vx$.consumeNextToken_s8itvh$(q(i.begin)), this.checkLeadingComma_0(), i.name) { case "LIST": case "MAP": case "POLY_OBJ": e = new gi(this.json, i, this.lexer_8be2vx$); break; default: e = this.mode_0 === i ? this : new gi(this.json, i, this.lexer_8be2vx$) }return e }, gi.prototype.endStructure_24f42q$ = function (t) { this.lexer_8be2vx$.consumeNextToken_s8itvh$(q(this.mode_0.end)) }, gi.prototype.decodeNotNullMark = function () { return this.lexer_8be2vx$.tryConsumeNotNull() }, gi.prototype.decodeNull = function () { return null }, gi.prototype.checkLeadingComma_0 = function () { this.lexer_8be2vx$.peekNextToken() === C && this.lexer_8be2vx$.fail_bm4lxs$("Unexpected leading comma") }, gi.prototype.decodeElementIndex_24f42q$ = function (t) { var e; switch (this.mode_0.name) { case "OBJ": e = this.decodeObjectIndex_0(t); break; case "MAP": e = this.decodeMapIndex_0(); break; default: e = this.decodeListIndex_0() }return e }, gi.prototype.decodeMapIndex_0 = function () { var t, e = !1, i = this.currentIndex_0 % 2 != 0; if (i ? -1 !== this.currentIndex_0 && (e = this.lexer_8be2vx$.tryConsumeComma()) : this.lexer_8be2vx$.consumeNextToken_s8itvh$(c), this.lexer_8be2vx$.canConsumeValue()) { if (i) if (-1 === this.currentIndex_0) { var a, r = this.lexer_8be2vx$, n = !e; a = r.currentPosition, n || r.fail_bm4lxs$("Unexpected trailing comma", a) } else { var o, s = this.lexer_8be2vx$, l = e; o = s.currentPosition, l || s.fail_bm4lxs$("Expected comma after the key-value pair", o) } this.currentIndex_0 = this.currentIndex_0 + 1 | 0, t = this.currentIndex_0 } else e && this.lexer_8be2vx$.fail_bm4lxs$("Expected '}', but had ',' instead"), t = -1; return t }, gi.prototype.coerceInputValue_0 = function (t, e) { var i, a = this.json, r = t.getElementDescriptor_za3lpa$(e); t: do { var n, o = !r.isNullable; if (o && (o = !this.lexer_8be2vx$.tryConsumeNotNull()), o) { i = !0; break t } if (U(r.kind, _t.ENUM)) { if (null == (n = this.lexer_8be2vx$.peekString_6taknv$(this.configuration_0.isLenient))) { i = !1; break t } if (-3 === pi(r, a, n)) { this.lexer_8be2vx$.consumeString(), i = !0; break t } } i = !1 } while (0); return i }, gi.prototype.decodeObjectIndex_0 = function (t) { for (var e, i = this.lexer_8be2vx$.tryConsumeComma(); this.lexer_8be2vx$.canConsumeValue();) { i = !1; var a = this.decodeStringKey_0(); this.lexer_8be2vx$.consumeNextToken_s8itvh$(c); var r = pi(t, this.json, a); if (-3 !== r) { if (!this.configuration_0.coerceInputValues || !this.coerceInputValue_0(t, r)) return r; i = this.lexer_8be2vx$.tryConsumeComma(), e = !1 } else e = !0; e && (i = this.handleUnknown_0(a)) } return i && this.lexer_8be2vx$.fail_bm4lxs$("Unexpected trailing comma"), -1 }, gi.prototype.handleUnknown_0 = function (t) { return this.configuration_0.ignoreUnknownKeys ? this.lexer_8be2vx$.skipElement_6taknv$(this.configuration_0.isLenient) : this.lexer_8be2vx$.failOnUnknownKey_61zpoe$(t), this.lexer_8be2vx$.tryConsumeComma() }, gi.prototype.decodeListIndex_0 = function () { var t, e = this.lexer_8be2vx$.tryConsumeComma(); return this.lexer_8be2vx$.canConsumeValue() ? (-1 === this.currentIndex_0 || e || this.lexer_8be2vx$.fail_bm4lxs$("Expected end of the array or comma"), this.currentIndex_0 = this.currentIndex_0 + 1 | 0, t = this.currentIndex_0) : (e && this.lexer_8be2vx$.fail_bm4lxs$("Unexpected trailing comma"), t = -1), t }, gi.prototype.decodeBoolean = function () { return this.configuration_0.isLenient ? this.lexer_8be2vx$.consumeBooleanLenient() : this.lexer_8be2vx$.consumeBoolean() }, gi.prototype.decodeByte = function () { var t = this.lexer_8be2vx$.consumeNumericLiteral(); return U(t, e.Long.fromInt(bt(t.toInt()))) || this.lexer_8be2vx$.fail_bm4lxs$("Failed to parse byte for input '" + t.toString() + "'"), bt(t.toInt()) }, gi.prototype.decodeShort = function () { var t = this.lexer_8be2vx$.consumeNumericLiteral(); return U(t, e.Long.fromInt(It(t.toInt()))) || this.lexer_8be2vx$.fail_bm4lxs$("Failed to parse short for input '" + t.toString() + "'"), It(t.toInt()) }, gi.prototype.decodeInt = function () { var t = this.lexer_8be2vx$.consumeNumericLiteral(); return U(t, e.Long.fromInt(t.toInt())) || this.lexer_8be2vx$.fail_bm4lxs$("Failed to parse int for input '" + t.toString() + "'"), t.toInt() }, gi.prototype.decodeLong = function () { return this.lexer_8be2vx$.consumeNumericLiteral() }, gi.prototype.decodeFloat = function () { var t, i = this.lexer_8be2vx$, a = i.consumeStringLenient(); try { t = Lt(a) } catch (t) { if (!e.isType(t, xt)) throw t; i.fail_bm4lxs$("Failed to parse type 'float' for input '" + a + "'") } var r = t; if (this.json.configuration.allowSpecialFloatingPointValues || wt(r)) return r; Ue(this.lexer_8be2vx$, r) }, gi.prototype.decodeDouble = function () { var t, i = this.lexer_8be2vx$, a = i.consumeStringLenient(); try { t = Lt(a) } catch (t) { if (!e.isType(t, xt)) throw t; i.fail_bm4lxs$("Failed to parse type 'double' for input '" + a + "'") } var r = t; if (this.json.configuration.allowSpecialFloatingPointValues || Tt(r)) return r; Ue(this.lexer_8be2vx$, r) }, gi.prototype.decodeChar = function () { var t = this.lexer_8be2vx$.consumeStringLenient(); return 1 !== t.length && this.lexer_8be2vx$.fail_bm4lxs$("Expected single char, but got '" + t + "'"), kt(t.charCodeAt(0)) }, gi.prototype.decodeStringKey_0 = function () { return this.configuration_0.isLenient ? this.lexer_8be2vx$.consumeStringLenientNotNull() : this.lexer_8be2vx$.consumeKeyString() }, gi.prototype.decodeString = function () { return this.configuration_0.isLenient ? this.lexer_8be2vx$.consumeStringLenientNotNull() : this.lexer_8be2vx$.consumeString() }, gi.prototype.decodeInline_24f42q$ = function (t) { return Si(t) ? new vi(this.lexer_8be2vx$, this.json) : Rt.prototype.decodeInline_24f42q$.call(this, t) }, gi.prototype.decodeEnum_24f42q$ = function (t) { return hi(t, this.json, this.decodeString()) }, gi.$metadata$ = { kind: R, simpleName: "StreamingJsonDecoder", interfaces: [Rt, na] }, Object.defineProperty(vi.prototype, "serializersModule", { configurable: !0, get: function () { return this.serializersModule_ftyxok$_0 } }), vi.prototype.decodeElementIndex_24f42q$ = function (t) { throw vt("unsupported".toString()) }, vi.prototype.decodeInt = function () { var t, i = this.lexer_0, a = i.consumeStringLenient(); try { t = Pt(a).data } catch (t) { if (!e.isType(t, xt)) throw t; i.fail_bm4lxs$("Failed to parse type 'UInt' for input '" + a + "'") } return t }, vi.prototype.decodeLong = function () { var t, i = this.lexer_0, a = i.consumeStringLenient(); try { t = Mt(a).data } catch (t) { if (!e.isType(t, xt)) throw t; i.fail_bm4lxs$("Failed to parse type 'ULong' for input '" + a + "'") } return t }, vi.prototype.decodeByte = function () { var t, i = this.lexer_0, a = i.consumeStringLenient(); try { t = Nt(a).data } catch (t) { if (!e.isType(t, xt)) throw t; i.fail_bm4lxs$("Failed to parse type 'UByte' for input '" + a + "'") } return t }, vi.prototype.decodeShort = function () { var t, i = this.lexer_0, a = i.consumeStringLenient(); try { t = Dt(a).data } catch (t) { if (!e.isType(t, xt)) throw t; i.fail_bm4lxs$("Failed to parse type 'UShort' for input '" + a + "'") } return t }, vi.$metadata$ = { kind: R, simpleName: "JsonDecoderForUnsignedTypes", interfaces: [Rt] }, Object.defineProperty(Ci.prototype, "json", { get: function () { return this.json_8uu1uy$_0 } }), Object.defineProperty(Ci.prototype, "serializersModule", { configurable: !0, get: function () { return this.serializersModule_tvtxsn$_0 } }), Ci.prototype.encodeJsonElement_qiw0cd$ = function (t) { this.encodeSerializableValue_tf03ej$(Ya(), t) }, Ci.prototype.shouldEncodeElementDefault_szpzho$ = function (t, e) { return this.configuration_0.encodeDefaults }, Ci.prototype.encodeSerializableValue_tf03ej$ = function (t, i) { t: do { var a, r; if (!e.isType(t, pt) || this.json.configuration.useArrayPolymorphism) { t.serialize_55azsf$(this, i); break t } var n = ui(this, e.isType(a = t, qt) ? a : lt(), e.isType(r = i, At) ? r : lt()); this.writePolymorphic_0 = !0, n.serialize_55azsf$(this, i) } while (0) }, Ci.prototype.encodeTypeInfo_0 = function (t) { this.composer_0.nextItem(), this.encodeString_61zpoe$(this.configuration_0.classDiscriminator), this.composer_0.print_s8itvh$(c), this.composer_0.space(), this.encodeString_61zpoe$(t.serialName) }, Ci.prototype.beginStructure_24f42q$ = function (t) { var e, i, a = Vi(this.json, t); return q(a.begin) !== y && (this.composer_0.print_s8itvh$(q(a.begin)), this.composer_0.indent()), this.writePolymorphic_0 && (this.writePolymorphic_0 = !1, this.encodeTypeInfo_0(t)), this.mode_0 === a ? this : null != (i = null != (e = this.modeReuseCache_0) ? e[a.ordinal] : null) ? i : new Ci(this.composer_0, this.json, a, this.modeReuseCache_0) }, Ci.prototype.endStructure_24f42q$ = function (t) { q(this.mode_0.end) !== y && (this.composer_0.unIndent(), this.composer_0.nextItem(), this.composer_0.print_s8itvh$(q(this.mode_0.end))) }, Ci.prototype.encodeElement_szpzho$ = function (t, e) { var i; switch (this.mode_0.name) { case "LIST": this.composer_0.writingFirst || this.composer_0.print_s8itvh$(l), this.composer_0.nextItem(); break; case "MAP": this.composer_0.writingFirst ? (this.forceQuoting_0 = !0, this.composer_0.nextItem()) : (e % 2 == 0 ? (this.composer_0.print_s8itvh$(l), this.composer_0.nextItem(), i = !0) : (this.composer_0.print_s8itvh$(c), this.composer_0.space(), i = !1), this.forceQuoting_0 = i); break; case "POLY_OBJ": 0 === e && (this.forceQuoting_0 = !0), 1 === e && (this.composer_0.print_s8itvh$(l), this.composer_0.space(), this.forceQuoting_0 = !1); break; default: this.composer_0.writingFirst || this.composer_0.print_s8itvh$(l), this.composer_0.nextItem(), this.encodeString_61zpoe$(t.getElementName_za3lpa$(e)), this.composer_0.print_s8itvh$(c), this.composer_0.space() }return !0 }, Ci.prototype.encodeInline_24f42q$ = function (t) { return Si(t) ? new Ci(new De(this.composer_0.sb_8be2vx$, this.json), this.json, this.mode_0, null) : Ht.prototype.encodeInline_24f42q$.call(this, t) }, Ci.prototype.encodeNull = function () { this.composer_0.print_61zpoe$(s) }, Ci.prototype.encodeBoolean_6taknv$ = function (t) { this.forceQuoting_0 ? this.encodeString_61zpoe$(t.toString()) : this.composer_0.print_6taknv$(t) }, Ci.prototype.encodeByte_s8j3t7$ = function (t) { this.forceQuoting_0 ? this.encodeString_61zpoe$(t.toString()) : this.composer_0.print_s8j3t7$(t) }, Ci.prototype.encodeShort_mq22fl$ = function (t) { this.forceQuoting_0 ? this.encodeString_61zpoe$(t.toString()) : this.composer_0.print_mq22fl$(t) }, Ci.prototype.encodeInt_za3lpa$ = function (t) { this.forceQuoting_0 ? this.encodeString_61zpoe$(t.toString()) : this.composer_0.print_za3lpa$(t) }, Ci.prototype.encodeLong_s8cxhz$ = function (t) { this.forceQuoting_0 ? this.encodeString_61zpoe$(t.toString()) : this.composer_0.print_s8cxhz$(t) }, Ci.prototype.encodeFloat_mx4ult$ = function (t) { if (this.forceQuoting_0 ? this.encodeString_61zpoe$(t.toString()) : this.composer_0.print_mx4ult$(t), !this.configuration_0.allowSpecialFloatingPointValues && !wt(t)) throw je(t, this.composer_0.sb_8be2vx$.toString()) }, Ci.prototype.encodeDouble_14dthe$ = function (t) { if (this.forceQuoting_0 ? this.encodeString_61zpoe$(t.toString()) : this.composer_0.print_14dthe$(t), !this.configuration_0.allowSpecialFloatingPointValues && !Tt(t)) throw je(t, this.composer_0.sb_8be2vx$.toString()) }, Ci.prototype.encodeChar_s8itvh$ = function (t) { this.encodeString_61zpoe$(String.fromCharCode(t)) }, Ci.prototype.encodeString_61zpoe$ = function (t) { this.composer_0.printQuoted_61zpoe$(t) }, Ci.prototype.encodeEnum_szpzho$ = function (t, e) { this.encodeString_61zpoe$(t.getElementName_za3lpa$(e)) }, Ci.$metadata$ = { kind: R, simpleName: "StreamingJsonEncoder", interfaces: [Ht, gr] }, Object.defineProperty(Ti.prototype, "json", { get: function () { return this.json_nf7dq8$_0 } }), Object.defineProperty(Ti.prototype, "value", { get: function () { return this.value_admuh1$_0 } }), Object.defineProperty(Ti.prototype, "serializersModule", { configurable: !0, get: function () { return this.json.serializersModule } }), Ti.prototype.currentObject_0 = function () { var t, e; return null != (e = null != (t = this.currentTagOrNull) ? this.currentElement_61zpoe$(t) : null) ? e : this.value }, Ti.prototype.decodeJsonElement = function () { return this.currentObject_0() }, Ti.prototype.decodeSerializableValue_w63s0f$ = function (t) { return fi(this, t) }, Ti.prototype.composeName_puj7f4$ = function (t, e) { return e }, Ti.prototype.beginStructure_24f42q$ = function (t) { var i, a, r = this.currentObject_0(); if (i = t.kind, U(i, Ct.LIST) || e.isType(i, yt)) { var n = this.json; if (!e.isType(r, Ia)) throw Oe(-1, "Expected " + mt(Ia) + " as the serialized body of " + t.serialName + ", but had " + e.getKClassFromExpression(r)); a = new Mi(n, r) } else if (U(i, Ct.MAP)) { var o, s = this.json, l = Ki(t.getElementDescriptor_za3lpa$(0), s.serializersModule), c = l.kind; if (e.isType(c, ft) || U(c, _t.ENUM)) { var p = this.json; if (!e.isType(r, Sa)) throw Oe(-1, "Expected " + mt(Sa) + " as the serialized body of " + t.serialName + ", but had " + e.getKClassFromExpression(r)); o = new Pi(p, r) } else { if (!s.configuration.allowStructuredMapKeys) throw Ye(l); var h = this.json; if (!e.isType(r, Ia)) throw Oe(-1, "Expected " + mt(Ia) + " as the serialized body of " + t.serialName + ", but had " + e.getKClassFromExpression(r)); o = new Mi(h, r) } a = o } else { var d = this.json; if (!e.isType(r, Sa)) throw Oe(-1, "Expected " + mt(Sa) + " as the serialized body of " + t.serialName + ", but had " + e.getKClassFromExpression(r)); a = new Ri(d, r) } return a }, Ti.prototype.endStructure_24f42q$ = function (t) { }, Ti.prototype.decodeNotNullMark = function () { return !e.isType(this.currentObject_0(), $a) }, Ti.prototype.getPrimitiveValue_0 = function (t) { var i, a, r = this.currentElement_61zpoe$(t); if (null == (a = e.isType(i = r, pa) ? i : null)) throw Be(-1, "Expected JsonPrimitive at " + t + ", found " + r, this.currentObject_0().toString()); return a }, Ti.prototype.decodeTaggedEnum_gaombr$ = function (t, e) { return hi(e, this.json, this.getPrimitiveValue_0(t).content) }, Ti.prototype.decodeTaggedNull_11rb$ = function (t) { return null }, Ti.prototype.decodeTaggedNotNullMark_11rb$ = function (t) { return this.currentElement_61zpoe$(t) !== va() }, Ti.prototype.decodeTaggedBoolean_11rb$ = function (t) { var i, r, n = this.getPrimitiveValue_0(t); if (!this.json.configuration.isLenient && this.asLiteral_0(n, "boolean").isString) throw Be(-1, "Boolean literal for key '" + t + "' should be unquoted.\n" + a, this.currentObject_0().toString()); try { var o; if (null == (o = za(n))) throw Gt(); i = null != (r = o) ? r : this.unparsedPrimitive_0("boolean") } catch (t) { if (!e.isType(t, xt)) throw t; this.unparsedPrimitive_0("boolean") } return i }, Ti.prototype.decodeTaggedByte_11rb$ = function (t) { var i, a, r = this.getPrimitiveValue_0(t); try { var n = Ra(r); i = null != (a = new Wt(j.MIN_VALUE, j.MAX_VALUE).contains_mef7kx$(n) ? bt(n) : null) ? a : this.unparsedPrimitive_0("byte") } catch (t) { if (!e.isType(t, xt)) throw t; this.unparsedPrimitive_0("byte") } return i }, Ti.prototype.decodeTaggedShort_11rb$ = function (t) { var i, a, r = this.getPrimitiveValue_0(t); try { var n = Ra(r); i = null != (a = new Wt(Yt.MIN_VALUE, Yt.MAX_VALUE).contains_mef7kx$(n) ? It(n) : null) ? a : this.unparsedPrimitive_0("short") } catch (t) { if (!e.isType(t, xt)) throw t; this.unparsedPrimitive_0("short") } return i }, Ti.prototype.decodeTaggedInt_11rb$ = function (t) { var i, a, r = this.getPrimitiveValue_0(t); try { i = null != (a = Ra(r)) ? a : this.unparsedPrimitive_0("int") } catch (t) { if (!e.isType(t, xt)) throw t; this.unparsedPrimitive_0("int") } return i }, Ti.prototype.decodeTaggedLong_11rb$ = function (t) { var i, a, r = this.getPrimitiveValue_0(t); try { i = null != (a = Pa(r)) ? a : this.unparsedPrimitive_0("long") } catch (t) { if (!e.isType(t, xt)) throw t; this.unparsedPrimitive_0("long") } return i }, Ti.prototype.decodeTaggedFloat_11rb$ = function (t) { var i, a, r = this.getPrimitiveValue_0(t); try { i = null != (a = xa(r)) ? a : this.unparsedPrimitive_0("float") } catch (t) { if (!e.isType(t, xt)) throw t; this.unparsedPrimitive_0("float") } var n = i; if (this.json.configuration.allowSpecialFloatingPointValues || wt(n)) return n; throw qe(n, t, this.currentObject_0().toString()) }, Ti.prototype.decodeTaggedDouble_11rb$ = function (t) { var i, a, r = this.getPrimitiveValue_0(t); try { i = null != (a = Na(r)) ? a : this.unparsedPrimitive_0("double") } catch (t) { if (!e.isType(t, xt)) throw t; this.unparsedPrimitive_0("double") } var n = i; if (this.json.configuration.allowSpecialFloatingPointValues || Tt(n)) return n; throw qe(n, t, this.currentObject_0().toString()) }, Ti.prototype.decodeTaggedChar_11rb$ = function (t) { var i, a, r = this.getPrimitiveValue_0(t); try { i = null != (a = kt(Vt(r.content))) ? a : this.unparsedPrimitive_0("char") } catch (t) { if (!e.isType(t, xt)) throw t; this.unparsedPrimitive_0("char") } return i }, Ti.prototype.primitive_0 = function (t, i, a) { var r; try { return null != (r = a(t)) ? r : this.unparsedPrimitive_0(i) } catch (t) { if (!e.isType(t, xt)) throw t; this.unparsedPrimitive_0(i) } }, Ti.prototype.unparsedPrimitive_0 = function (t) { throw Be(-1, "Failed to parse '" + t + "'", this.currentObject_0().toString()) }, Ti.prototype.decodeTaggedString_11rb$ = function (t) { var i = this.getPrimitiveValue_0(t); if (!this.json.configuration.isLenient && !this.asLiteral_0(i, "string").isString) throw Be(-1, "String literal for key '" + t + "' should be quoted.\n" + a, this.currentObject_0().toString()); if (e.isType(i, $a)) throw Be(-1, "Unexpected 'null' value instead of string literal", this.currentObject_0().toString()); return i.content }, Ti.prototype.asLiteral_0 = function (t, i) { var a, r; if (null == (r = e.isType(a = t, ma) ? a : null)) throw Oe(-1, "Unexpected 'null' when " + i + " was expected"); return r }, Ti.prototype.decodeTaggedInline_gaombr$ = function (t, e) { return Si(e) ? new vi(new li(this.getPrimitiveValue_0(t).content), this.json) : Kt.prototype.decodeTaggedInline_gaombr$.call(this, t, e) }, Ti.$metadata$ = { kind: R, simpleName: "AbstractJsonTreeDecoder", interfaces: [na, Kt] }, Object.defineProperty(ki.prototype, "value", { get: function () { return this.value_icegni$_0 } }), ki.prototype.decodeElementIndex_24f42q$ = function (t) { return 0 }, ki.prototype.currentElement_61zpoe$ = function (t) { if (t !== Qe) throw St("This input can only handle primitives with 'primitive' tag".toString()); return this.value }, ki.$metadata$ = { kind: R, simpleName: "JsonPrimitiveDecoder", interfaces: [Ti] }, Object.defineProperty(Ri.prototype, "value", { get: function () { return this.value_nyd9q1$_0 } }), Ri.prototype.coerceInputValue_0 = function (t, i, a) { var r, n = this.json, o = t.getElementDescriptor_za3lpa$(i); t: do { var s, l = !o.isNullable; if (l && (l = e.isType(this.currentElement_61zpoe$(a), $a)), l) { r = !0; break t } if (U(o.kind, _t.ENUM)) { var c, p; if (null == (s = null != (p = e.isType(c = this.currentElement_61zpoe$(a), pa) ? c : null) ? Oa(p) : null)) { r = !1; break t } if (-3 === pi(o, n, s)) { r = !0; break t } } r = !1 } while (0); return r }, Ri.prototype.decodeElementIndex_24f42q$ = function (t) { for (var i; this.position_0 < t.elementsCount;) { var a, r = this.getTag_av9bu7$(t, (i = this.position_0, this.position_0 = i + 1 | 0, i)), n = this.value; if ((e.isType(a = n, st) ? a : lt()).containsKey_11rb$(r) && (!this.configuration_0.coerceInputValues || !this.coerceInputValue_0(t, this.position_0 - 1 | 0, r))) return this.position_0 - 1 | 0 } return -1 }, Ri.prototype.elementName_szpzho$ = function (t, e) { var i = t.getElementName_za3lpa$(e); if (!this.configuration_0.useAlternativeNames) return i; if (this.value.keys.contains_11rb$(i)) return i; var a, r = Er(this.json).getOrPut_a5unbe$(t, Xe, ot("buildAlternativeNamesMap", function (t) { return ci(t) }.bind(null, t))), n = this.value.keys; t: do { var o; for (o = n.iterator(); o.hasNext();) { var s = o.next(); if (r.get_11rb$(s) === e) { a = s; break t } } a = null } while (0); return null != a ? a : i }, Ri.prototype.currentElement_61zpoe$ = function (t) { return at(this.value, t) }, Ri.prototype.beginStructure_24f42q$ = function (t) { return t === this.polyDescriptor_0 ? this : Ti.prototype.beginStructure_24f42q$.call(this, t) }, Ri.prototype.endStructure_24f42q$ = function (t) { var i, a, r, n; if (!this.configuration_0.ignoreUnknownKeys && !e.isType(t.kind, yt)) { if (this.configuration_0.useAlternativeNames) { a = ut(t); var o = null != (i = Er(this.json).get_khmtuq$(t, Xe)) ? i.keys : null; r = Xt(a, null != o ? o : Qt()) } else r = ut(t); var s = r; for (n = this.value.keys.iterator(); n.hasNext();) { var l = n.next(); if (!s.contains_11rb$(l) && !U(l, this.polyDiscriminator_0)) throw We(l, this.value.toString()) } } }, Ri.$metadata$ = { kind: R, simpleName: "JsonTreeDecoder", interfaces: [Ti] }, Object.defineProperty(Pi.prototype, "value", { get: function () { return this.value_ozc1lj$_0 } }), Pi.prototype.elementName_szpzho$ = function (t, e) { var i = e / 2 | 0; return this.keys_0.get_za3lpa$(i) }, Pi.prototype.decodeElementIndex_24f42q$ = function (t) { for (; this.position_1 < (this.size_0 - 1 | 0);)return this.position_1 = this.position_1 + 1 | 0, this.position_1; return -1 }, Pi.prototype.currentElement_61zpoe$ = function (t) { return this.position_1 % 2 == 0 ? ya(t) : at(this.value, t) }, Pi.prototype.endStructure_24f42q$ = function (t) { }, Pi.$metadata$ = { kind: R, simpleName: "JsonTreeMapDecoder", interfaces: [Ri] }, Object.defineProperty(Mi.prototype, "value", { get: function () { return this.value_z81zg7$_0 } }), Mi.prototype.elementName_szpzho$ = function (t, e) { return e.toString() }, Mi.prototype.currentElement_61zpoe$ = function (t) { return this.value.get_za3lpa$(Zt(t)) }, Mi.prototype.decodeElementIndex_24f42q$ = function (t) { for (; this.currentIndex_0 < (this.size_0 - 1 | 0);)return this.currentIndex_0 = this.currentIndex_0 + 1 | 0, this.currentIndex_0; return -1 }, Mi.$metadata$ = { kind: R, simpleName: "JsonTreeListDecoder", interfaces: [Ti] }, Object.defineProperty(Di.prototype, "json", { get: function () { return this.json_927t60$_0 } }), Object.defineProperty(Di.prototype, "serializersModule", { configurable: !0, get: function () { return this.json.serializersModule } }), Di.prototype.encodeJsonElement_qiw0cd$ = function (t) { this.encodeSerializableValue_tf03ej$(Ya(), t) }, Di.prototype.shouldEncodeElementDefault_szpzho$ = function (t, e) { return this.configuration_0.encodeDefaults }, Di.prototype.composeName_puj7f4$ = function (t, e) { return e }, Di.prototype.encodeNull = function () { var t; if (null == (t = this.currentTagOrNull)) return this.nodeConsumer_0(va()); var e = t; this.encodeTaggedNull_11rb$(e) }, Di.prototype.encodeTaggedNull_11rb$ = function (t) { this.putElement_zafu29$(t, va()) }, Di.prototype.encodeTaggedInt_dpg1yx$ = function (t, e) { this.putElement_zafu29$(t, fa(e)) }, Di.prototype.encodeTaggedByte_19qe40$ = function (t, e) { this.putElement_zafu29$(t, fa(e)) }, Di.prototype.encodeTaggedShort_veccj0$ = function (t, e) { this.putElement_zafu29$(t, fa(e)) }, Di.prototype.encodeTaggedLong_19wkf8$ = function (t, e) { this.putElement_zafu29$(t, fa(e)) }, Di.prototype.encodeTaggedFloat_vlf4p8$ = function (t, e) { if (this.putElement_zafu29$(t, fa(e)), !this.configuration_0.allowSpecialFloatingPointValues && !wt(e)) throw He(e, t, this.getCurrent().toString()) }, Di.prototype.encodeSerializableValue_tf03ej$ = function (t, i) { if (null != this.currentTagOrNull || !e.isType(t.descriptor.kind, ft) && t.descriptor.kind !== _t.ENUM) t: do { var a, r; if (!e.isType(t, pt) || this.json.configuration.useArrayPolymorphism) { t.serialize_55azsf$(this, i); break t } var n = ui(this, e.isType(a = t, qt) ? a : lt(), e.isType(r = i, At) ? r : lt()); this.writePolymorphic_0 = !0, n.serialize_55azsf$(this, i) } while (0); else { var o = new zi(this.json, this.nodeConsumer_0); o.encodeSerializableValue_tf03ej$(t, i), o.endEncode_24f42q$(t.descriptor) } }, Di.prototype.encodeTaggedDouble_e37ph5$ = function (t, e) { if (this.putElement_zafu29$(t, fa(e)), !this.configuration_0.allowSpecialFloatingPointValues && !Tt(e)) throw He(e, t, this.getCurrent().toString()) }, Di.prototype.encodeTaggedBoolean_iuyhfk$ = function (t, e) { this.putElement_zafu29$(t, _a(e)) }, Di.prototype.encodeTaggedChar_19qo1q$ = function (t, e) { this.putElement_zafu29$(t, ya(String.fromCharCode(e))) }, Di.prototype.encodeTaggedString_l9l8mx$ = function (t, e) { this.putElement_zafu29$(t, ya(e)) }, Di.prototype.encodeTaggedEnum_4xdzqf$ = function (t, e, i) { this.putElement_zafu29$(t, ya(e.getElementName_za3lpa$(i))) }, Di.prototype.encodeTaggedValue_dpg7wc$ = function (t, e) { this.putElement_zafu29$(t, ya(e.toString())) }, Object.defineProperty(xi.prototype, "serializersModule", { configurable: !0, get: function () { return this.serializersModule_tav261$_0 } }), xi.prototype.putUnquotedString_61zpoe$ = function (t) { this.this$AbstractJsonTreeEncoder.putElement_zafu29$(this.closure$tag, new ma(t, !1)) }, xi.prototype.encodeInt_za3lpa$ = function (t) { this.putUnquotedString_61zpoe$(new P(t).toString()) }, xi.prototype.encodeLong_s8cxhz$ = function (t) { this.putUnquotedString_61zpoe$(new M(t).toString()) }, xi.prototype.encodeByte_s8j3t7$ = function (t) { this.putUnquotedString_61zpoe$(new N(t).toString()) }, xi.prototype.encodeShort_mq22fl$ = function (t) { this.putUnquotedString_61zpoe$(new D(t).toString()) }, xi.$metadata$ = { kind: R, interfaces: [Ht] }, Di.prototype.encodeTaggedInline_gaombr$ = function (t, e) { return Si(e) ? new xi(t, this) : ie.prototype.encodeTaggedInline_gaombr$.call(this, t, e) }, Di.prototype.beginStructure_24f42q$ = function (t) { var i, a, r, n = null == this.currentTagOrNull ? this.nodeConsumer_0 : (r = this, function (t) { return r.putElement_zafu29$(r.currentTag, t), te }); if (i = t.kind, U(i, Ct.LIST) || e.isType(i, yt)) a = new Bi(this.json, n); else if (U(i, Ct.MAP)) { var o, s = this.json, l = Ki(t.getElementDescriptor_za3lpa$(0), s.serializersModule), c = l.kind; if (e.isType(c, ft) || U(c, _t.ENUM)) o = new Fi(this.json, n); else { if (!s.configuration.allowStructuredMapKeys) throw Ye(l); o = new Bi(this.json, n) } a = o } else a = new Oi(this.json, n); var p = a; return this.writePolymorphic_0 && (this.writePolymorphic_0 = !1, p.putElement_zafu29$(this.configuration_0.classDiscriminator, ya(t.serialName))), p }, Di.prototype.endEncode_24f42q$ = function (t) { this.nodeConsumer_0(this.getCurrent()) }, Di.$metadata$ = { kind: R, simpleName: "AbstractJsonTreeEncoder", interfaces: [gr, ie] }, zi.prototype.putElement_zafu29$ = function (t, e) { if (t !== Qe) throw St("This output can only consume primitives with 'primitive' tag".toString()); if (null != this.content_0) throw St("Primitive element was already recorded. Does call to .encodeXxx happen more than once?".toString()); this.content_0 = e }, zi.prototype.getCurrent = function () { var t = this.content_0; if (null == t) throw St("Primitive element has not been recorded. Is call to .encodeXxx is missing in serializer?".toString()); return t }, zi.$metadata$ = { kind: R, simpleName: "JsonPrimitiveEncoder", interfaces: [Di] }, Oi.prototype.putElement_zafu29$ = function (t, e) { this.content_0.put_xwzc9p$(t, e) }, Oi.prototype.getCurrent = function () { return new Sa(this.content_0) }, Oi.$metadata$ = { kind: R, simpleName: "JsonTreeEncoder", interfaces: [Di] }, Object.defineProperty(Fi.prototype, "tag_0", { configurable: !0, get: function () { return null == this.tag_s622uw$_0 ? ee("tag") : this.tag_s622uw$_0 }, set: function (t) { this.tag_s622uw$_0 = t } }), Fi.prototype.putElement_zafu29$ = function (t, i) { var a; if (this.isKey_0) { if (e.isType(i, pa)) a = i.content; else { if (e.isType(i, Sa)) throw Ye(sr().descriptor); if (e.isType(i, Ia)) throw Ye(dr().descriptor); a = e.noWhenBranchMatched() } this.tag_0 = a, this.isKey_0 = !1 } else { var r = this.content_0, n = this.tag_0; r.put_xwzc9p$(n, i), this.isKey_0 = !0 } }, Fi.prototype.getCurrent = function () { return new Sa(this.content_0) }, Fi.$metadata$ = { kind: R, simpleName: "JsonTreeMapEncoder", interfaces: [Oi] }, Bi.prototype.elementName_szpzho$ = function (t, e) { return e.toString() }, Bi.prototype.putElement_zafu29$ = function (t, e) { var i = Zt(t); this.array_0.add_wxm5ur$(i, e) }, Bi.prototype.getCurrent = function () { return new Ia(this.array_0) }, Bi.$metadata$ = { kind: R, simpleName: "JsonTreeListEncoder", interfaces: [Di] }, ji.$metadata$ = { kind: R, simpleName: "WriteMode", interfaces: [ae] }, ji.values = Yi, ji.valueOf_61zpoe$ = function (t) { switch (t) { case "OBJ": return qi(); case "LIST": return Ui(); case "MAP": return Gi(); case "POLY_OBJ": return Wi(); default: re("No enum constant kotlinx.serialization.json.internal.WriteMode." + t) } }, Object.defineProperty(Xi.prototype, "serializersModule", { get: function () { return this.serializersModule_vis8y$_0 } }), Ji.$metadata$ = { kind: H, simpleName: "Default", interfaces: [Xi] }; var Zi, Qi, ta = null; function ea() { return null === ta && new Ji, ta } function ia(t) { this.encodeDefaults = t.configuration.encodeDefaults, this.ignoreUnknownKeys = t.configuration.ignoreUnknownKeys, this.isLenient = t.configuration.isLenient, this.allowStructuredMapKeys = t.configuration.allowStructuredMapKeys, this.prettyPrint = t.configuration.prettyPrint, this.prettyPrintIndent = t.configuration.prettyPrintIndent, this.coerceInputValues = t.configuration.coerceInputValues, this.useArrayPolymorphism = t.configuration.useArrayPolymorphism, this.classDiscriminator = t.configuration.classDiscriminator, this.allowSpecialFloatingPointValues = t.configuration.allowSpecialFloatingPointValues, this.useAlternativeNames = t.configuration.useAlternativeNames, this.serializersModule = t.serializersModule } function aa(t, e) { Xi.call(this, t, e), this.validateConfiguration_0() } function ra(t, e, i, a, r, n, o, s, l, c, p) { void 0 === t && (t = !1), void 0 === e && (e = !1), void 0 === i && (i = !1), void 0 === a && (a = !1), void 0 === r && (r = !1), void 0 === n && (n = "    "), void 0 === o && (o = !1), void 0 === s && (s = !1), void 0 === l && (l = "type"), void 0 === c && (c = !1), void 0 === p && (p = !0), this.encodeDefaults = t, this.ignoreUnknownKeys = e, this.isLenient = i, this.allowStructuredMapKeys = a, this.prettyPrint = r, this.prettyPrintIndent = n, this.coerceInputValues = o, this.useArrayPolymorphism = s, this.classDiscriminator = l, this.allowSpecialFloatingPointValues = c, this.useAlternativeNames = p } function na() { } function oa() { ca() } function sa() { la = this } Xi.prototype.encodeToString_tf03ej$ = function (t, i) { var a = new Cr; try { return Ei(a, this, qi(), e.newArray(Yi().length, null)).encodeSerializableValue_tf03ej$(t, i), a.toString() } finally { a.release() } }, Xi.prototype.decodeFromString_awif5v$ = function (t, e) { var i = new li(e), a = new gi(this, qi(), i).decodeSerializableValue_w63s0f$(t); return i.expectEof(), a }, Xi.prototype.encodeToJsonElement_tf03ej$ = function (t, e) { return Ni(this, e, t) }, Xi.prototype.decodeFromJsonElement_htt2tq$ = function (t, e) { return wi(this, e, t) }, Xi.prototype.parseToJsonElement_61zpoe$ = function (t) { return this.decodeFromString_awif5v$(Ya(), t) }, Xi.$metadata$ = { kind: R, simpleName: "Json", interfaces: [se] }, ia.prototype.build_8be2vx$ = function () { if (this.useArrayPolymorphism && !U(this.classDiscriminator, Qi)) throw St("Class discriminator should not be specified when array polymorphism is specified".toString()); if (this.prettyPrint) { if (!U(this.prettyPrintIndent, Zi)) { var t, e = this.prettyPrintIndent; t: do { var i; for (i = le(e); i.hasNext();) { var a = q(i.next()), r = kt(a); if (32 !== q(r) && 9 !== q(r) && 13 !== q(r) && 10 !== q(r)) { t = !1; break t } } t = !0 } while (0); if (!t) { var n = "Only whitespace, tab, newline and carriage return are allowed as pretty print symbols. Had " + this.prettyPrintIndent; throw St(n.toString()) } } } else if (!U(this.prettyPrintIndent, Zi)) throw St("Indent should not be specified when default printing mode is used".toString()); return new ra(this.encodeDefaults, this.ignoreUnknownKeys, this.isLenient, this.allowStructuredMapKeys, this.prettyPrint, this.prettyPrintIndent, this.coerceInputValues, this.useArrayPolymorphism, this.classDiscriminator, this.allowSpecialFloatingPointValues, this.useAlternativeNames) }, ia.$metadata$ = { kind: R, simpleName: "JsonBuilder", interfaces: [] }, aa.prototype.validateConfiguration_0 = function () { if (!U(this.serializersModule, oe.EmptySerializersModule)) { var t = new yi(this.configuration.useArrayPolymorphism, this.configuration.classDiscriminator); this.serializersModule.dumpTo_ukvgvw$(t) } }, aa.$metadata$ = { kind: R, simpleName: "JsonImpl", interfaces: [Xi] }, ra.prototype.toString = function () { return "JsonConfiguration(encodeDefaults=" + this.encodeDefaults + ", ignoreUnknownKeys=" + this.ignoreUnknownKeys + ", isLenient=" + this.isLenient + ", allowStructuredMapKeys=" + this.allowStructuredMapKeys + ", prettyPrint=" + this.prettyPrint + ", prettyPrintIndent='" + this.prettyPrintIndent + "', coerceInputValues=" + this.coerceInputValues + ", useArrayPolymorphism=" + this.useArrayPolymorphism + ", classDiscriminator='" + this.classDiscriminator + "', allowSpecialFloatingPointValues=" + this.allowSpecialFloatingPointValues + ")" }, ra.$metadata$ = { kind: R, simpleName: "JsonConfiguration", interfaces: [] }, na.$metadata$ = { kind: he, simpleName: "JsonDecoder", interfaces: [ue, de] }, sa.prototype.serializer = function () { return Ya() }, sa.$metadata$ = { kind: H, simpleName: "Companion", interfaces: [] }; var la = null; function ca() { return null === la && new sa, la } function pa() { ua(), oa.call(this) } function ha() { da = this } oa.$metadata$ = { kind: R, simpleName: "JsonElement", interfaces: [] }, pa.prototype.toString = function () { return this.content }, ha.prototype.serializer = function () { return Xa() }, ha.$metadata$ = { kind: H, simpleName: "Companion", interfaces: [] }; var da = null; function ua() { return null === da && new ha, da } function _a(t) { return null == t ? va() : new ma(t, !1) } function fa(t) { return null == t ? va() : new ma(t, !1) } function ya(t) { return null == t ? va() : new ma(t, !0) } function ma(t, e) { pa.call(this), this.isString_jhh1on$_0 = e, this.content_prrjtz$_0 = t.toString() } function $a() { ga = this, pa.call(this), this.content_w1vkof$_0 = "null" } pa.$metadata$ = { kind: R, simpleName: "JsonPrimitive", interfaces: [oa] }, Object.defineProperty(ma.prototype, "isString", { get: function () { return this.isString_jhh1on$_0 } }), Object.defineProperty(ma.prototype, "content", { configurable: !0, get: function () { return this.content_prrjtz$_0 } }), ma.prototype.toString = function () { var t; if (this.isString) { var e = et(); bi(e, this.content), t = e.toString() } else t = this.content; return t }, ma.prototype.equals = function (t) { var i; return this === t || !(null == t || null == (i = e.getKClassFromExpression(this)) || !i.equals(e.getKClassFromExpression(t))) && (e.isType(t, ma) || lt(), this.isString === t.isString && !!U(this.content, t.content)) }, ma.prototype.hashCode = function () { var t = _e(this.isString); return t = (31 * t | 0) + _e(this.content) | 0 }, ma.$metadata$ = { kind: R, simpleName: "JsonLiteral", interfaces: [pa] }, Object.defineProperty($a.prototype, "isString", { configurable: !0, get: function () { return !1 } }), Object.defineProperty($a.prototype, "content", { configurable: !0, get: function () { return this.content_w1vkof$_0 } }), $a.$metadata$ = { kind: H, simpleName: "JsonNull", interfaces: [pa] }; var ga = null; function va() { return null === ga && new $a, ga } function Sa(t) { ba(), oa.call(this), this.content_0 = t } function Ca(t) { var e = t.key, i = t.value, a = et(); return bi(a, e), a.append_s8itvh$(58), a.append_s8jyv4$(i), a.toString() } function Ea() { Aa = this } Sa.prototype.equals = function (t) { return U(this.content_0, t) }, Sa.prototype.hashCode = function () { return _e(this.content_0) }, Sa.prototype.toString = function () { return fe(this.content_0.entries, ",", "{", "}", void 0, void 0, Ca) }, Ea.prototype.serializer = function () { return sr() }, Ea.$metadata$ = { kind: H, simpleName: "Companion", interfaces: [] }; var Aa = null; function ba() { return null === Aa && new Ea, Aa } function Ia(t) { Ta(), oa.call(this), this.content_0 = t } function wa() { La = this } Object.defineProperty(Sa.prototype, "entries", { configurable: !0, get: function () { return this.content_0.entries } }), Object.defineProperty(Sa.prototype, "keys", { configurable: !0, get: function () { return this.content_0.keys } }), Object.defineProperty(Sa.prototype, "size", { configurable: !0, get: function () { return this.content_0.size } }), Object.defineProperty(Sa.prototype, "values", { configurable: !0, get: function () { return this.content_0.values } }), Sa.prototype.containsKey_11rb$ = function (t) { return this.content_0.containsKey_11rb$(t) }, Sa.prototype.containsValue_11rc$ = function (t) { return this.content_0.containsValue_11rc$(t) }, Sa.prototype.get_11rb$ = function (t) { return this.content_0.get_11rb$(t) }, Sa.prototype.isEmpty = function () { return this.content_0.isEmpty() }, Sa.$metadata$ = { kind: R, simpleName: "JsonObject", interfaces: [st, oa] }, Ia.prototype.equals = function (t) { return U(this.content_0, t) }, Ia.prototype.hashCode = function () { return _e(this.content_0) }, Ia.prototype.toString = function () { return fe(this.content_0, ",", "[", "]") }, wa.prototype.serializer = function () { return dr() }, wa.$metadata$ = { kind: H, simpleName: "Companion", interfaces: [] }; var La = null; function Ta() { return null === La && new wa, La } function ka(t) { var i, a; return null != (a = e.isType(i = t, pa) ? i : null) ? a : function (t, i) { throw St("Element " + e.getKClassFromExpression(t) + " is not a " + i) }(t, "JsonPrimitive") } function Ra(t) { return Zt(t.content) } function Pa(t) { return me(t.content) } function Ma(t) { return $e(t.content) } function Na(t) { return Lt(t.content) } function Da(t) { return ge(t.content) } function xa(t) { return Lt(t.content) } function za(t) { return Ii(t.content) } function Oa(t) { return e.isType(t, $a) ? null : t.content } function Fa() { Wa = this, this.descriptor_u8kpse$_0 = pe("kotlinx.serialization.json.JsonElement", yt.SEALED, [], Ga) } function Ba() { return Xa().descriptor } function ja() { return Qa().descriptor } function Ha() { return ir().descriptor } function qa() { return sr().descriptor } function Ua() { return dr().descriptor } function Ga(t) { return t.element_vxrguq$("JsonPrimitive", $r(Ba)), t.element_vxrguq$("JsonNull", $r(ja)), t.element_vxrguq$("JsonLiteral", $r(Ha)), t.element_vxrguq$("JsonObject", $r(qa)), t.element_vxrguq$("JsonArray", $r(Ua)), te } Object.defineProperty(Ia.prototype, "size", { configurable: !0, get: function () { return this.content_0.size } }), Ia.prototype.contains_11rb$ = function (t) { return this.content_0.contains_11rb$(t) }, Ia.prototype.containsAll_brywnq$ = function (t) { return this.content_0.containsAll_brywnq$(t) }, Ia.prototype.get_za3lpa$ = function (t) { return this.content_0.get_za3lpa$(t) }, Ia.prototype.indexOf_11rb$ = function (t) { return this.content_0.indexOf_11rb$(t) }, Ia.prototype.isEmpty = function () { return this.content_0.isEmpty() }, Ia.prototype.iterator = function () { return this.content_0.iterator() }, Ia.prototype.lastIndexOf_11rb$ = function (t) { return this.content_0.lastIndexOf_11rb$(t) }, Ia.prototype.listIterator = function () { return this.content_0.listIterator() }, Ia.prototype.listIterator_za3lpa$ = function (t) { return this.content_0.listIterator_za3lpa$(t) }, Ia.prototype.subList_vux9f0$ = function (t, e) { return this.content_0.subList_vux9f0$(t, e) }, Ia.$metadata$ = { kind: R, simpleName: "JsonArray", interfaces: [ye, oa] }, Object.defineProperty(Fa.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_u8kpse$_0 } }), Fa.prototype.serialize_55azsf$ = function (t, i) { ur(t), e.isType(i, pa) ? t.encodeSerializableValue_tf03ej$(Xa(), i) : e.isType(i, Sa) ? t.encodeSerializableValue_tf03ej$(sr(), i) : e.isType(i, Ia) && t.encodeSerializableValue_tf03ej$(dr(), i) }, Fa.prototype.deserialize_bq71mq$ = function (t) { return fr(t).decodeJsonElement() }, Fa.$metadata$ = { kind: H, simpleName: "JsonElementSerializer", interfaces: [ce] }; var Wa = null; function Ya() { return null === Wa && new Fa, Wa } function Va() { Ka = this, this.descriptor_1d7xi5$_0 = pe("kotlinx.serialization.json.JsonPrimitive", ft.STRING, []) } Object.defineProperty(Va.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_1d7xi5$_0 } }), Va.prototype.serialize_55azsf$ = function (t, i) { var a; return ur(t), e.isType(i, $a) ? t.encodeSerializableValue_tf03ej$(Qa(), va()) : t.encodeSerializableValue_tf03ej$(ir(), e.isType(a = i, ma) ? a : lt()) }, Va.prototype.deserialize_bq71mq$ = function (t) { var i = fr(t).decodeJsonElement(); if (!e.isType(i, pa)) throw Be(-1, "Unexpected JSON element, expected JsonPrimitive, had " + e.getKClassFromExpression(i), i.toString()); return i }, Va.$metadata$ = { kind: H, simpleName: "JsonPrimitiveSerializer", interfaces: [ce] }; var Ka = null; function Xa() { return null === Ka && new Va, Ka } function Ja() { Za = this, this.descriptor_kuqqdr$_0 = pe("kotlinx.serialization.json.JsonNull", _t.ENUM, []) } Object.defineProperty(Ja.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_kuqqdr$_0 } }), Ja.prototype.serialize_55azsf$ = function (t, e) { ur(t), t.encodeNull() }, Ja.prototype.deserialize_bq71mq$ = function (t) { if (_r(t), t.decodeNotNullMark()) throw new ze("Expected 'null' literal"); return t.decodeNull(), va() }, Ja.$metadata$ = { kind: H, simpleName: "JsonNullSerializer", interfaces: [ce] }; var Za = null; function Qa() { return null === Za && new Ja, Za } function tr() { er = this, this.descriptor_fnzu3f$_0 = Ce("kotlinx.serialization.json.JsonLiteral", ft.STRING) } Object.defineProperty(tr.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_fnzu3f$_0 } }), tr.prototype.serialize_55azsf$ = function (t, e) { var i, a, r, n; return ur(t), e.isString ? t.encodeString_61zpoe$(e.content) : null != (i = Ma(e)) ? t.encodeLong_s8cxhz$(i) : null == (a = Se(e.content)) ? null != (r = Da(e)) ? t.encodeDouble_14dthe$(r) : null != (n = za(e)) ? t.encodeBoolean_6taknv$(n) : void t.encodeString_61zpoe$(e.content) : void t.encodeInline_24f42q$(Ot(M.Companion).descriptor).encodeLong_s8cxhz$(a.data) }, tr.prototype.deserialize_bq71mq$ = function (t) { var i = fr(t).decodeJsonElement(); if (!e.isType(i, ma)) throw Be(-1, "Unexpected JSON element, expected JsonLiteral, had " + e.getKClassFromExpression(i), i.toString()); return i }, tr.$metadata$ = { kind: H, simpleName: "JsonLiteralSerializer", interfaces: [ce] }; var er = null; function ir() { return null === er && new tr, er } function ar() { or = this, this.descriptor_a992tj$_0 = (null === nr && new rr, nr) } function rr() { nr = this, this.$delegate_p32uvu$_0 = be(Ae(Ee), Ya()).descriptor, this.serialName_yjsqqv$_0 = "kotlinx.serialization.json.JsonObject" } Object.defineProperty(rr.prototype, "serialName", { configurable: !0, get: function () { return this.serialName_yjsqqv$_0 } }), Object.defineProperty(rr.prototype, "annotations", { configurable: !0, get: function () { return this.$delegate_p32uvu$_0.annotations } }), Object.defineProperty(rr.prototype, "elementsCount", { configurable: !0, get: function () { return this.$delegate_p32uvu$_0.elementsCount } }), Object.defineProperty(rr.prototype, "isInline", { configurable: !0, get: function () { return this.$delegate_p32uvu$_0.isInline } }), Object.defineProperty(rr.prototype, "isNullable", { configurable: !0, get: function () { return this.$delegate_p32uvu$_0.isNullable } }), Object.defineProperty(rr.prototype, "kind", { configurable: !0, get: function () { return this.$delegate_p32uvu$_0.kind } }), rr.prototype.getElementAnnotations_za3lpa$ = function (t) { return this.$delegate_p32uvu$_0.getElementAnnotations_za3lpa$(t) }, rr.prototype.getElementDescriptor_za3lpa$ = function (t) { return this.$delegate_p32uvu$_0.getElementDescriptor_za3lpa$(t) }, rr.prototype.getElementIndex_61zpoe$ = function (t) { return this.$delegate_p32uvu$_0.getElementIndex_61zpoe$(t) }, rr.prototype.getElementName_za3lpa$ = function (t) { return this.$delegate_p32uvu$_0.getElementName_za3lpa$(t) }, rr.prototype.isElementOptional_za3lpa$ = function (t) { return this.$delegate_p32uvu$_0.isElementOptional_za3lpa$(t) }, rr.$metadata$ = { kind: H, simpleName: "JsonObjectDescriptor", interfaces: [Ie] }; var nr = null; Object.defineProperty(ar.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_a992tj$_0 } }), ar.prototype.serialize_55azsf$ = function (t, e) { ur(t), be(Ae(Ee), Ya()).serialize_55azsf$(t, e) }, ar.prototype.deserialize_bq71mq$ = function (t) { return _r(t), new Sa(be(Ae(Ee), Ya()).deserialize_bq71mq$(t)) }, ar.$metadata$ = { kind: H, simpleName: "JsonObjectSerializer", interfaces: [ce] }; var or = null; function sr() { return null === or && new ar, or } function lr() { hr = this, this.descriptor_935ivj$_0 = (null === pr && new cr, pr) } function cr() { pr = this, this.$delegate_az4ckk$_0 = we(Ya()).descriptor, this.serialName_bqe1pt$_0 = "kotlinx.serialization.json.JsonArray" } Object.defineProperty(cr.prototype, "serialName", { configurable: !0, get: function () { return this.serialName_bqe1pt$_0 } }), Object.defineProperty(cr.prototype, "annotations", { configurable: !0, get: function () { return this.$delegate_az4ckk$_0.annotations } }), Object.defineProperty(cr.prototype, "elementsCount", { configurable: !0, get: function () { return this.$delegate_az4ckk$_0.elementsCount } }), Object.defineProperty(cr.prototype, "isInline", { configurable: !0, get: function () { return this.$delegate_az4ckk$_0.isInline } }), Object.defineProperty(cr.prototype, "isNullable", { configurable: !0, get: function () { return this.$delegate_az4ckk$_0.isNullable } }), Object.defineProperty(cr.prototype, "kind", { configurable: !0, get: function () { return this.$delegate_az4ckk$_0.kind } }), cr.prototype.getElementAnnotations_za3lpa$ = function (t) { return this.$delegate_az4ckk$_0.getElementAnnotations_za3lpa$(t) }, cr.prototype.getElementDescriptor_za3lpa$ = function (t) { return this.$delegate_az4ckk$_0.getElementDescriptor_za3lpa$(t) }, cr.prototype.getElementIndex_61zpoe$ = function (t) { return this.$delegate_az4ckk$_0.getElementIndex_61zpoe$(t) }, cr.prototype.getElementName_za3lpa$ = function (t) { return this.$delegate_az4ckk$_0.getElementName_za3lpa$(t) }, cr.prototype.isElementOptional_za3lpa$ = function (t) { return this.$delegate_az4ckk$_0.isElementOptional_za3lpa$(t) }, cr.$metadata$ = { kind: H, simpleName: "JsonArrayDescriptor", interfaces: [Ie] }; var pr = null; Object.defineProperty(lr.prototype, "descriptor", { configurable: !0, get: function () { return this.descriptor_935ivj$_0 } }), lr.prototype.serialize_55azsf$ = function (t, e) { ur(t), we(Ya()).serialize_55azsf$(t, e) }, lr.prototype.deserialize_bq71mq$ = function (t) { return _r(t), new Ia(we(Ya()).deserialize_bq71mq$(t)) }, lr.$metadata$ = { kind: H, simpleName: "JsonArraySerializer", interfaces: [ce] }; var hr = null; function dr() { return null === hr && new lr, hr } function ur(t) { yr(t) } function _r(t) { fr(t) } function fr(t) { var i, a; if (null == (a = e.isType(i = t, na) ? i : null)) throw vt("This serializer can be used only with Json format.Expected Decoder to be JsonDecoder, got " + e.getKClassFromExpression(t)); return a } function yr(t) { var i, a; if (null == (a = e.isType(i = t, gr) ? i : null)) throw vt("This serializer can be used only with Json format.Expected Encoder to be JsonEncoder, got " + e.getKClassFromExpression(t)); return a } function mr(t) { this.original_yfx7kf$_0 = Le(t) } function $r(t) { return new mr(t) } function gr() { } function vr(t) { this.names = t } function Sr(t) { return Re(t) } function Cr() { this.sb_0 = Me(128) } function Er(t) { return t._schemaCache_8be2vx$ } Object.defineProperty(mr.prototype, "original_0", { configurable: !0, get: function () { return this.original_yfx7kf$_0.value } }), Object.defineProperty(mr.prototype, "serialName", { configurable: !0, get: function () { return this.original_0.serialName } }), Object.defineProperty(mr.prototype, "kind", { configurable: !0, get: function () { return this.original_0.kind } }), Object.defineProperty(mr.prototype, "elementsCount", { configurable: !0, get: function () { return this.original_0.elementsCount } }), mr.prototype.getElementName_za3lpa$ = function (t) { return this.original_0.getElementName_za3lpa$(t) }, mr.prototype.getElementIndex_61zpoe$ = function (t) { return this.original_0.getElementIndex_61zpoe$(t) }, mr.prototype.getElementAnnotations_za3lpa$ = function (t) { return this.original_0.getElementAnnotations_za3lpa$(t) }, mr.prototype.getElementDescriptor_za3lpa$ = function (t) { return this.original_0.getElementDescriptor_za3lpa$(t) }, mr.prototype.isElementOptional_za3lpa$ = function (t) { return this.original_0.isElementOptional_za3lpa$(t) }, mr.$metadata$ = { kind: R, interfaces: [Ie] }, gr.$metadata$ = { kind: he, simpleName: "JsonEncoder", interfaces: [ke, Te] }, vr.$metadata$ = { kind: R, simpleName: "JsonNames", interfaces: [ve] }, Cr.prototype.append_s8cxhz$ = function (t) { this.sb_0.append_s8jyv4$(t) }, Cr.prototype.append_s8itvh$ = function (t) { this.sb_0.append_s8itvh$(t) }, Cr.prototype.append_61zpoe$ = function (t) { this.sb_0.append_pdl1vj$(t) }, Cr.prototype.appendQuoted_61zpoe$ = function (t) { bi(this.sb_0, t) }, Cr.prototype.toString = function () { return this.sb_0.toString() }, Cr.prototype.release = function () { }, Cr.$metadata$ = { kind: R, simpleName: "JsonStringBuilder", interfaces: [] }; var Ar = t.kotlinx || (t.kotlinx = {}), br = Ar.serialization || (Ar.serialization = {}), Ir = br.json || (br.json = {}), wr = Ir.internal || (Ir.internal = {}); wr.Composer = Ne, wr.ComposerForUnsignedNumbers = De, wr.JsonException = xe, wr.JsonDecodingException = ze, wr.JsonDecodingException_f0n09d$ = Oe, wr.JsonEncodingException = Fe, wr.JsonDecodingException_kx378j$ = Be, wr.InvalidFloatingPointEncoded_qwibp1$ = je, wr.InvalidFloatingPointEncoded_x0xb19$ = He, wr.InvalidFloatingPointDecoded_x0xb19$ = qe, wr.throwInvalidFloatingPointDecoded_gle6j2$ = Ue, wr.UnknownKeyException_wdz5eb$ = We, wr.InvalidKeyKindException_jo479d$ = Ye, Object.defineProperty(wr, "CharMappings", { get: ni }), wr.charToTokenClass_8e8zqy$ = oi, wr.escapeToChar_kcn2v3$ = si, wr.JsonLexer = li, wr.buildAlternativeNamesMap_tie8r4$ = ci, wr.getJsonNameIndex_bt3nd1$ = pi, wr.getJsonNameIndexOrThrow_bt3nd1$ = hi, k["kotlinx-serialization-kotlinx-serialization-core-js-legacy"] = i, wr.JsonTreeReader = di, wr.checkKind_x1ow4c$ = _i, wr.decodeSerializableValuePolymorphic_3uiavc$ = fi, wr.PolymorphismValidator = yi, mi.Key = $i, wr.DescriptorSchemaCache = mi, wr.StreamingJsonDecoder = gi, wr.JsonDecoderForUnsignedTypes = vi, wr.get_isUnsignedNumber_tie8r4$ = Si, wr.StreamingJsonEncoder_init_ps2ywi$ = Ei, wr.StreamingJsonEncoder = Ci, wr.printQuoted_jigvc$ = bi, wr.toBooleanStrictOrNull_7efafi$ = Ii, wr.readJson_ijhaef$ = wi, wr.readPolymorphicJson_nnpnh6$ = Li, wr.writeJson_4dixew$ = Ni, Object.defineProperty(ji, "OBJ", { get: qi }), Object.defineProperty(ji, "LIST", { get: Ui }), Object.defineProperty(ji, "MAP", { get: Gi }), Object.defineProperty(ji, "POLY_OBJ", { get: Wi }), wr.WriteMode = ji, wr.switchMode_q3nfcb$ = Vi, wr.carrierDescriptor_xtmtfj$ = Ki, Object.defineProperty(Xi, "Default", { get: ea }), Ir.Json = Xi, Ir.Json_x26noe$ = function (t, e) { void 0 === t && (t = ea()); var i = new ia(t); return e(i), new aa(i.build_8be2vx$(), i.serializersModule) }, Ir.JsonBuilder = ia, Ir.JsonConfiguration = ra, Ir.JsonDecoder = na, Object.defineProperty(oa, "Companion", { get: ca }), Ir.JsonElement = oa, Object.defineProperty(pa, "Companion", { get: ua }), Ir.JsonPrimitive = pa, Ir.JsonPrimitive_1v8dbw$ = _a, Ir.JsonPrimitive_rcaewn$ = fa, Ir.JsonPrimitive_pdl1vj$ = ya, Ir.JsonLiteral = ma, Object.defineProperty(Ir, "JsonNull", { get: va }), Object.defineProperty(Sa, "Companion", { get: ba }), Ir.JsonObject = Sa, Object.defineProperty(Ia, "Companion", { get: Ta }), Ir.JsonArray = Ia, Ir.get_jsonPrimitive_u3sd3g$ = ka, Ir.get_int_59esu7$ = Ra, Ir.get_long_59esu7$ = Pa, Ir.get_longOrNull_59esu7$ = Ma, Ir.get_double_59esu7$ = Na, Ir.get_doubleOrNull_59esu7$ = Da, Ir.get_float_59esu7$ = xa, Ir.get_booleanOrNull_59esu7$ = za, Ir.get_contentOrNull_59esu7$ = Oa, Object.defineProperty(Ir, "JsonElementSerializer", { get: Ya }), Object.defineProperty(Ir, "JsonPrimitiveSerializer", { get: Xa }), Object.defineProperty(Ir, "JsonNullSerializer", { get: Qa }), Object.defineProperty(Ir, "JsonObjectSerializer", { get: sr }), Object.defineProperty(Ir, "JsonArraySerializer", { get: dr }), Ir.asJsonDecoder_k984l0$ = fr, Ir.asJsonEncoder_vwx09w$ = yr, Ir.JsonEncoder = gr, Ir.JsonNames = vr, wr.createMapForCache_v5nmvw$ = Sr, wr.JsonStringBuilder = Cr, Ir.get_schemaCache_sawd1p$ = Er, yi.prototype.contextual_cfhkba$ = Et.prototype.contextual_cfhkba$, na.prototype.decodeNullableSerializableValue_aae3ea$ = de.prototype.decodeNullableSerializableValue_aae3ea$, na.prototype.decodeSerializableValue_w63s0f$ = de.prototype.decodeSerializableValue_w63s0f$, na.prototype.decodeCollectionSize_24f42q$ = ue.prototype.decodeCollectionSize_24f42q$, na.prototype.decodeSequentially = ue.prototype.decodeSequentially, na.prototype.decodeNullableSerializableElement_8viuyw$ = ue.prototype.decodeNullableSerializableElement_8viuyw$, na.prototype.decodeSerializableElement_12e8id$ = ue.prototype.decodeSerializableElement_12e8id$, gi.prototype.decodeNullableSerializableValue_aae3ea$ = na.prototype.decodeNullableSerializableValue_aae3ea$, gi.prototype.decodeCollectionSize_24f42q$ = na.prototype.decodeCollectionSize_24f42q$, gi.prototype.decodeSequentially = na.prototype.decodeSequentially, gr.prototype.beginCollection_szpzho$ = Te.prototype.beginCollection_szpzho$, gr.prototype.encodeNotNullMark = Te.prototype.encodeNotNullMark, gr.prototype.encodeNullableSerializableValue_f4686g$ = Te.prototype.encodeNullableSerializableValue_f4686g$, gr.prototype.encodeSerializableValue_tf03ej$ = Te.prototype.encodeSerializableValue_tf03ej$, gr.prototype.shouldEncodeElementDefault_szpzho$ = ke.prototype.shouldEncodeElementDefault_szpzho$, Ci.prototype.beginCollection_szpzho$ = gr.prototype.beginCollection_szpzho$, Ci.prototype.encodeNotNullMark = gr.prototype.encodeNotNullMark, Ci.prototype.encodeNullableSerializableValue_f4686g$ = gr.prototype.encodeNullableSerializableValue_f4686g$, Object.defineProperty(mr.prototype, "annotations", Object.getOwnPropertyDescriptor(Ie.prototype, "annotations")), Object.defineProperty(mr.prototype, "isInline", Object.getOwnPropertyDescriptor(Ie.prototype, "isInline")), Object.defineProperty(mr.prototype, "isNullable", Object.getOwnPropertyDescriptor(Ie.prototype, "isNullable")), a = "Use 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.", r = "It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'", n = "Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.", o = "Use 'allowStructuredMapKeys = true' in 'Json {}' builder to convert such maps to [key1, value1, key2, value2,...] arrays.", s = "null", l = 44, c = 58, p = 123, h = 125, d = 91, u = 93, _ = 34, f = 92, y = B(0), m = 117, $ = 0, g = 1, v = 2, S = 3, C = 4, E = 5, A = 6, b = 7, I = 8, w = 9, L = 10, T = j.MAX_VALUE, Xe = new $i, Je = jt([zt(P.Companion).descriptor, Ot(M.Companion).descriptor, Ft(N.Companion).descriptor, Bt(D.Companion).descriptor]); for (var Lr = e.newArray(93, null), Tr = 0; Tr <= 31; Tr++) { var kr = Ai(Tr >> 12), Rr = Ai(Tr >> 8), Pr = Ai(Tr >> 4), Mr = Ai(Tr); Lr[Tr] = "\\u" + String.fromCharCode(kr) + String.fromCharCode(Rr) + String.fromCharCode(Pr) + String.fromCharCode(Mr) } Lr[34] = '\\"', Lr[92] = "\\\\", Lr[9] = "\\t", Lr[8] = "\\b", Lr[10] = "\\n", Lr[13] = "\\r", Lr[12] = "\\f", Ze = Lr; for (var Nr = new Int8Array(93), Dr = 0; Dr <= 31; Dr++)Nr[Dr] = bt(1); return Nr[34] = bt(34), Nr[92] = bt(92), Nr[9] = bt(116), Nr[8] = bt(98), Nr[10] = bt(110), Nr[13] = bt(114), Nr[12] = bt(102), Qe = "primitive", Zi = "    ", Qi = "type", Pe.toNumber(), t }) ? a.apply(e, r) : a) || (t.exports = n) }]) }));
//# sourceMappingURL=Pathbuilder2eDarkMode.js.map